<?xml version="1.0"?>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this file,
   - You can obtain one at http://mozilla.org/MPL/2.0/. -->

<?xml-stylesheet href="chrome://global/skin/global.css"?>

<?xml-stylesheet href="chrome://global/skin/in-content/common.css"?>
<?xml-stylesheet href="chrome://browser/skin/searchbar.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/skin/browser.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/content/companion/companion.css"?>

<html
  id="companion"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:html="http://www.w3.org/1999/xhtml"
  xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
  forcedarkmode="true"
  chromemargin="0,-1,-1,-1"
  windowtype="Firefox:Companion"
  persist="screenX screenY width height sizemode"
>
<head>
  <title>Firefox Companion</title>
  <script type="module" src="companion.js"/>
  <script type="module" src="relative-time.js" />
  <script src="chrome://global/content/elements/named-deck.js"/>
  <script src="chrome://global/content/elements/panel-list.js"/>

  <link rel="localization" href="browser/browser.ftl"/>
  <link rel="localization" href="browser/companion.ftl"/>
</head>
<html:body xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

  <script src="chrome://browser/content/utilityOverlay.js"/>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-media-list">
    <link rel="stylesheet" href="chrome://global/skin/in-content/common.css"/>
    <style>
      :host {
        grid-template-columns: 1fr auto;
        display: grid;
        grid-template-areas:
                  "title buttons"
                  "list list";
      }
      .list-title {
        grid-area: title;
      }
      h2 {
        font-size: 1em;
        margin-left: 10px;
      }
      .mute-all {
        grid-area: buttons;
        align-self: center;
        margin-right: 10px;
      }
      .media-list {
        grid-area: list;
        min-width: 0;
      }
    </style>
    <h2 class="list-title"/>
    <button class="mute-all">Mute all</button>
    <div class="media-list">
      <slot/>
    </div>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-window-list">
    <link rel="stylesheet" href="chrome://global/skin/in-content/common.css"/>
    <style>
      :host {
        grid-template-columns: 1fr auto;
        display: grid;
        grid-template-areas:
                  "title buttons"
                  "list list";
      }
      .list-title {
        grid-area: title;
      }
      .add-pinned-tab {
        grid-area: buttons;
        align-self: center;
      }
      .window-list {
        grid-area: list;
      }
    </style>
    <h2 class="list-title"/>
    <button class="add-pinned-tab">Add</button>
    <div class="window-list">
      <slot/>
    </div>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-window">
    <div class="label"></div>
    <slot />
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-app">
    <div class="app card">
      <div class="app-overview">
        <img class="favicon"/>
        <p class="title"/>
        <button class="switch-to-app">View</button>
      </div>
      <details hidden="true"><summary></summary><div class="extra-details-content"></div></details>
    </div>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-media">
    <div class="artwork-background"></div>
    <div class="play-pause artwork"><button class="playing"></button></div>
    <button class="mute"></button>
    <button class="unmute"></button>
    <div class="metadata">
      <span class="title"></span>
      <span class="artist"></span>
    </div>
    <button class="prev"></button>
    <button class="next"></button>
    <button class="pip"></button>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-email">
    <div class="from-date">
      <div class="from"/>
      <div class="date"/>
    </div>
    <div class="subject"/>
    <div class="snippet"/>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-snapshot-list">
    <link rel="stylesheet" href="card.css"/>
    <h2 class="list-title"/>
    <div class="snapshots-panel"/>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-snapshot">
    <div class="card-content-wrapper">
      <a class="snapshot-contents contents" href="#">
        <div class="card-image">
          <img class="favicon"/>
        </div>
        <div class="info">
          <span class="title"/>
          <div class="subtitle">
            <span class="snapshot-sitetitle sub"/>
            <span class="info-divider sub"/>
            <span class="snapshot-date sub"/>
          </div>
        </div>
      </a>
      <!-- We add tabindex="-1" here because the menu this controls is intended
           to be activated via the context menu key when navigating via
           keyboard. -->
      <button
            class="options-button"
            tabindex="-1"
            aria-haspopup="menu"
            aria-expanded="false"
            data-l10n-id="snapshot-options"
            data-action="toggle-panel"></button>
    </div>
    <panel-list>
      <panel-item data-l10n-id="snapshot-dont-show" data-action="dont-show"></panel-item>
      <panel-item data-l10n-id="snapshot-not-relevant" data-action="not-relevant"></panel-item>
    </panel-list>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-session-list">
    <link rel="stylesheet" href="sessions.css"/>
    <h2 class="list-title" hidden="true" data-l10n-id="last-session-title"/>
    <div class="last-sessions-panel"/>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-session-card">
    <link rel="stylesheet" href="card.css"/>
    <div class="session-card contents">
      <div class="info">
        <span class="title"/>
        <span class="pages sub" data-l10n-id="session-pages-count"/>
        <span class="info-divider sub"/>
        <span class="date sub"/>
      </div>
      <div class="icons"/>
    </div>
    <div class="extended">
      <button id="session-hide" data-action="hide-session" hidden="true"></button>
      <button class="restore-button" data-action="restore-session" data-l10n-id="restore-session"></button>
    </div>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-pocket-list">
    <link rel="stylesheet" href="companion.css"/>
    <h2 class="list-title"/>
    <h3 class="list-subtitle"/>
    <div class="pocket-list">
      <slot/>
    </div>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-pocket-story">
    <img class="preview"/>
    <div class="pocket-content">
      <p class="title"/>
      <p class="excerpt"/>
      <p class="domain"/>
    </div>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-browse-list">
    <div class="browse">
      <button class="sessions" data-l10n-id="browse-list-sessions" data-action="viewtab" data-tab="sessions"></button>
      <button class="downloads" data-l10n-id="browse-list-downloads" data-action="viewtab" data-tab="downloads" hidden="true"></button>
      <button class="passwords" hidden="true">Passwords</button>
      <button class="calendar" hidden="true">Calendar</button>
    </div>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-passwords-panel">
    <div class="passwords-panel browse-section-panel" hidden="true">
      <xul:browser id="companion-login-browser" type="content" src="about:logins"></xul:browser>
    </div>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-calendar-panel">
    <section-panel class="calendar-panel browse-section-panel" hidden="true">
      <h1 slot="heading">Calendar</h1>
      <calendar-event-list id="browse-event-list" listtype="browse"></calendar-event-list>
    </section-panel>
  </template>

  <div class="companion-main">
    <html:button-group class="tab-button-group">
      <html:button class="tab-button ghost-button" name="now" is="named-deck-button" deck="companion-deck"><img /><span data-l10n-id="companion-deck-now"></span></html:button>
      <html:button class="tab-button ghost-button" name="browse" is="named-deck-button" deck="companion-deck"><img /><span data-l10n-id="companion-deck-browse"></span></html:button>
    </html:button-group>
    <html:named-deck id="companion-deck">
      <div xmlns="http://www.w3.org/1999/xhtml" id="scroll" name="now">
        <section id="flow-reset-placeholder">

          <img src="chrome://browser/content/companion/flow-reset-placeholder.png" />
          <button id="flow-reset-close"></button>
          <h3 data-l10n-id="session-cleared-title"/>
          <small data-l10n-id="session-cleared">
            <a id="session-cleared-link" data-l10n-name="session-cleared-link"></a>
          </small>
        </section>
        <section id="now-content">
          <div id="top-sites-placeholder"></div>
          <div id="events-placeholder"></div>
          <div id="email" hidden="true">
            <div class="email-header">
              <h2 class="email-title">New Mail</h2>
              <div>
                <div id="inbox-link">Go to Inbox &#8594;</div>
              </div>
            </div>
            <div id="email-panel"/>
          </div>
          <div id="content">
          </div>
        </section>
      </div>
      <div xmlns="http://www.w3.org/1999/xhtml" id="scroll-browse" name="browse">
        <div class="content"></div>
      </div>
      <div xmlns="http://www.w3.org/1999/xhtml" id="sessions" name="sessions">
        <header>
          <button class="back" data-action="viewtab" data-tab="browse"></button>
          <h2 data-l10n-id="session-section-header"></h2>
        </header>
        <div class="content"></div>
      </div>
      <div xmlns="http://www.w3.org/1999/xhtml" id="downloads" name="downloads">
        <header>
          <button class="back" data-action="viewtab" data-tab="browse"></button>
          <h2 data-l10n-id="downloads-section-header"></h2>
        </header>
        <div class="content"></div>
      </div>
    </html:named-deck>
  </div>

</html:body>
</html>
