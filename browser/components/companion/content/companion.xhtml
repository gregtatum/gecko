<?xml version="1.0"?>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this file,
   - You can obtain one at http://mozilla.org/MPL/2.0/. -->

<?xml-stylesheet href="chrome://global/skin/global.css"?>

<?xml-stylesheet href="chrome://global/skin/in-content/common.css"?>
<?xml-stylesheet href="chrome://browser/skin/searchbar.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/skin/browser.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/content/companion/companion.css"?>

<!DOCTYPE html [
#ifdef XP_MACOSX
#include ../../../base/content/browser-doctype.inc
#endif
]>

<html
  id="companion"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:html="http://www.w3.org/1999/xhtml"
  xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
  forcedarkmode="true"
  chromemargin="0,-1,-1,-1"
  windowtype="Firefox:Companion"
  persist="screenX screenY width height sizemode"
>
<head>
  <title>Firefox Companion</title>
  <script type="module" src="companion.js"/>
  <script type="module" src="relative-time.js"/>
  <script src="chrome://global/content/elements/named-deck.js"/>
  <script src="chrome://global/content/elements/panel-list.js"/>
  <script type="module" src="chrome://browser/content/aboutlogins/components/login-list.js"></script>
  <script type="module" src="chrome://browser/content/aboutlogins/components/login-list-item.js"></script>
  <script type="module" src="logins.js" />

  <link rel="localization" href="browser/aboutLogins.ftl" />
  <link rel="localization" href="browser/browser.ftl"/>
  <link rel="localization" href="browser/companion.ftl"/>
</head>
<html:body xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

#ifdef XP_MACOSX
#include ../../../base/content/macWindow.inc.xhtml
#else
  <script src="chrome://browser/content/utilityOverlay.js"/>
#endif

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-range">
    <label>
      <span class="range-label"/>
      <input class="range-slider" type="range"/>
    </label>
    <p class="range-value"/>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-media-list">
    <link rel="stylesheet" href="chrome://global/skin/in-content/common.css"/>
    <style>
      :host {
        grid-template-columns: 1fr auto;
        display: grid;
        grid-template-areas:
                  "title buttons"
                  "list list";
      }
      .list-title {
        grid-area: title;
      }
      h2 {
        font-size: 1em;
        margin-left: 10px;
      }
      .mute-all {
        grid-area: buttons;
        align-self: center;
        margin-right: 10px;
      }
      .media-list {
        grid-area: list;
      }
    </style>
    <h2 class="list-title"/>
    <button class="mute-all">Mute all</button>
    <div class="media-list">
      <slot/>
    </div>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-window-list">
    <link rel="stylesheet" href="chrome://global/skin/in-content/common.css"/>
    <style>
      :host {
        grid-template-columns: 1fr auto;
        display: grid;
        grid-template-areas:
                  "title buttons"
                  "list list";
      }
      .list-title {
        grid-area: title;
      }
      .add-pinned-tab {
        grid-area: buttons;
        align-self: center;
      }
      .window-list {
        grid-area: list;
      }
    </style>
    <h2 class="list-title"/>
    <button class="add-pinned-tab">Add</button>
    <div class="window-list">
      <slot/>
    </div>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-window">
    <div class="label"></div>
    <slot />
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-app">
    <div class="app card">
      <div class="app-overview">
        <img class="favicon"/>
        <p class="title"/>
        <button class="switch-to-app">View</button>
      </div>
      <details hidden="true"><summary></summary><div class="extra-details-content"></div></details>
    </div>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-media">
    <div class="artwork-background"></div>
    <div class="play-pause artwork"><button class="playing"></button></div>
    <button class="mute"></button>
    <button class="unmute"></button>
    <div class="metadata">
      <span class="title"></span>
      <span class="artist"></span>
    </div>
    <button class="prev"></button>
    <button class="next"></button>
    <button class="pip"></button>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-email">
    <div class="from-date">
      <div class="from"/>
      <div class="date"/>
    </div>
    <div class="subject"/>
    <div class="snippet"/>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-snapshot-list">
    <link rel="stylesheet" href="snapshots-list.css"/>
    <h2 class="list-title"/>
    <div class="snapshots-panel"/>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-snapshot">
    <div class="snapshot-favicon"><img /></div>
    <div class="snapshot-contents">
      <span class="title"/>
      <span class="info">
        <span class="snapshot-sitetitle"/>
        <span class="snapshot-info-divider"> Â· </span>
        <span class="snapshot-date"/>
      </span>
    </div>
    <span class="snapshot-delete"/>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-pocket-list">
    <link rel="stylesheet" href="companion.css"/>
    <h2 class="list-title"/>
    <h3 class="list-subtitle"/>
    <div class="pocket-list">
      <slot/>
    </div>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-pocket-story">
    <img class="preview"/>
    <div class="pocket-content">
      <p class="title"/>
      <p class="excerpt"/>
      <p class="domain"/>
    </div>
  </template>

  <template xmlns="http://www.w3.org/1999/xhtml" id="template-browse-list">
    <div class="browse">
      <button class="groups">Groups</button>
      <button class="activities">Activities</button>
      <button class="shopping">Shopping</button>
      <button class="downloads">Downloads</button>
      <button class="notifications">Notifications</button>
      <button class="passwords" hidden="true">Passwords</button>
    </div>
  </template>

  <!-- TODO: these login templates are from aboutLogins.html.
             These should be adapted for the pro client's purpose -->
    <template xmlns="http://www.w3.org/1999/xhtml" id="login-list-template">
      <link rel="stylesheet" href="chrome://global/skin/in-content/common.css"/>
      <link rel="stylesheet" href="chrome://browser/content/aboutlogins/common.css"/>
      <link rel="stylesheet" href="chrome://browser/content/aboutlogins/components/login-list.css"/>
      <div class="meta">
        <label for="login-sort">
          <span data-l10n-id="login-list-sort-label-text"></span>
          <select id="login-sort">
            <option name="name" data-l10n-id="login-list-name-option" value="name"></option>
            <option name="name-reverse" data-l10n-id="login-list-name-reverse-option" value="name-reverse"></option>
            <option name="last-used" data-l10n-id="login-list-last-used-option" value="last-used"></option>
            <option name="last-changed" data-l10n-id="login-list-last-changed-option" value="last-changed"></option>
            <option name="alerts" data-l10n-id="about-logins-login-list-alerts-option" value="alerts" hidden="true"></option>
          </select>
        </label>
        <span class="count" data-l10n-id="login-list-count" data-l10n-args='{"count": 0}'></span>
      </div>
      <!-- This container is to work around bug 1569292 -->
      <div class="container">
        <ol role="listbox" tabindex="0" data-l10n-id="login-list"></ol>
        <div class="intro">
          <p data-l10n-id="login-list-intro-title"></p>
          <span data-l10n-id="login-list-intro-description"></span>
        </div>
        <div class="empty-search-message">
          <p data-l10n-id="about-logins-login-list-empty-search-title"></p>
          <span data-l10n-id="about-logins-login-list-empty-search-description"></span>
        </div>
      </div>
      <div class="create-login-button-container">
        <button class="create-login-button" data-l10n-id="create-login-button"></button>
      </div>
    </template>

    <template xmlns="http://www.w3.org/1999/xhtml" id="login-list-item-template">
      <li class="login-list-item" role="option">
        <div class="favicon-wrapper">
          <img class="favicon" src=""/>
        </div>
        <div class="labels">
          <span class="title" dir="auto"></span>
          <span class="username" dir="ltr"></span>
        </div>
        <img class="alert-icon" title="" src=""/>
      </li>
    </template>

  <hbox id="titlebar">
    <hbox id="mac-buttonbox"/>
    <hbox flex="1" pack="end">
      <toolbarbutton id="settings-button"/>
      <toolbarbutton id="dock-button"/>
    </hbox>
    <hbox id="win-buttonbox" class="titlebar-buttonbox-container">
      <hbox class="titlebar-buttonbox titlebar-color">
        <toolbarbutton class="titlebar-button titlebar-min"
                           oncommand="window.minimize();"
                           data-l10n-id="browser-window-minimize-button"
                           />
        <toolbarbutton class="titlebar-button titlebar-max"
                           oncommand="window.maximize();"
                           data-l10n-id="browser-window-maximize-button"
                           />
        <toolbarbutton class="titlebar-button titlebar-restore"
                           oncommand="window.restore();"
                           data-l10n-id="browser-window-restore-down-button"
                           />
        <toolbarbutton class="titlebar-button titlebar-close"
                           oncommand="window.close();"
                           data-l10n-id="browser-window-close-button"
                           />
      </hbox>
    </hbox>
  </hbox>

  <div class="companion-main">
    <html:button-group class="tab-button-group">
      <html:button class="tab-button ghost-button" name="now" is="named-deck-button" deck="companion-deck">Now</html:button>
      <html:button class="tab-button ghost-button" name="browse" is="named-deck-button" deck="companion-deck">Browse</html:button>
    </html:button-group>
    <html:named-deck id="companion-deck">
      <div xmlns="http://www.w3.org/1999/xhtml" id="scroll" name="now">
        <div id="top-sites-placeholder"></div>
        <div id="events-placeholder"></div>
        <div id="email" hidden="true">
          <div class="email-header">
            <h2 class="email-title">New Mail</h2>
            <div>
              <div id="inbox-link">Go to Inbox &#8594;</div>
            </div>
          </div>
          <div id="email-panel"/>
        </div>
        <div id="content">
        </div>
      </div>
      <div xmlns="http://www.w3.org/1999/xhtml" id="scroll-browse" name="browse">
        <div class="content"></div>
        <login-list hidden="true"></login-list>
      </div>
    </html:named-deck>
  </div>

  <div xmlns="http://www.w3.org/1999/xhtml" id="settings" hidden="true">
    <div id="sliders"></div>
    <label><input type="checkbox" data-pref="browser.companion.globalhistorydebugging" /> (Developer) Debug Global History</label>
    <label><input type="checkbox" data-pref="browser.companion.debugUI" /> (Developer) Debug User Interface</label>
  </div>

</html:body>
</html>
