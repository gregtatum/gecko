/*! THIS FILE IS AUTO-GENERATED: webpack.system-addon.config.js */
var NewtabRenderUtils =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewTab", function() { return NewTab; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderWithoutState", function() { return renderWithoutState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderCache", function() { return renderCache; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_components_Base_Base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);
/* harmony import */ var content_src_lib_detect_user_session_start__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(58);
/* harmony import */ var content_src_lib_init_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(59);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(14);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(66);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */








const NewTab = ({
  store
}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_4__["Provider"], {
  store: store
}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(content_src_components_Base_Base__WEBPACK_IMPORTED_MODULE_1__["Base"], null));
function renderWithoutState() {
  const store = Object(content_src_lib_init_store__WEBPACK_IMPORTED_MODULE_3__["initStore"])(common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_7__["reducers"]);
  new content_src_lib_detect_user_session_start__WEBPACK_IMPORTED_MODULE_2__["DetectUserSessionStart"](store).sendEventOrAddListener(); // If this document has already gone into the background by the time we've reached
  // here, we can deprioritize requesting the initial state until the event loop
  // frees up. If, however, the visibility changes, we then send the request.

  let didRequest = false;
  let requestIdleCallbackId = 0;

  function doRequest() {
    if (!didRequest) {
      if (requestIdleCallbackId) {
        cancelIdleCallback(requestIdleCallbackId);
      }

      didRequest = true;
      store.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].NEW_TAB_STATE_REQUEST
      }));
    }
  }

  if (document.hidden) {
    requestIdleCallbackId = requestIdleCallback(doRequest);
    addEventListener("visibilitychange", doRequest, {
      once: true
    });
  } else {
    doRequest();
  }

  react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.hydrate( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(NewTab, {
    store: store
  }), document.getElementById("root"));
}
function renderCache(initialState) {
  const store = Object(content_src_lib_init_store__WEBPACK_IMPORTED_MODULE_3__["initStore"])(common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_7__["reducers"], initialState);
  new content_src_lib_detect_user_session_start__WEBPACK_IMPORTED_MODULE_2__["DetectUserSessionStart"](store).sendEventOrAddListener();
  react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.hydrate( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(NewTab, {
    store: store
  }), document.getElementById("root"));
}

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MAIN_MESSAGE_TYPE", function() { return MAIN_MESSAGE_TYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CONTENT_MESSAGE_TYPE", function() { return CONTENT_MESSAGE_TYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PRELOAD_MESSAGE_TYPE", function() { return PRELOAD_MESSAGE_TYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UI_CODE", function() { return UI_CODE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKGROUND_PROCESS", function() { return BACKGROUND_PROCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "globalImportContext", function() { return globalImportContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "actionTypes", function() { return actionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "actionCreators", function() { return actionCreators; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "actionUtils", function() { return actionUtils; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */


var MAIN_MESSAGE_TYPE = "ActivityStream:Main";
var CONTENT_MESSAGE_TYPE = "ActivityStream:Content";
var PRELOAD_MESSAGE_TYPE = "ActivityStream:PreloadedBrowser";
var UI_CODE = 1;
var BACKGROUND_PROCESS = 2;
/**
 * globalImportContext - Are we in UI code (i.e. react, a dom) or some kind of background process?
 *                       Use this in action creators if you need different logic
 *                       for ui/background processes.
 */

const globalImportContext = typeof Window === "undefined" ? BACKGROUND_PROCESS : UI_CODE; // Export for tests

// Create an object that avoids accidental differing key/value pairs:
// {
//   INIT: "INIT",
//   UNINIT: "UNINIT"
// }
const actionTypes = {};

for (const type of ["ABOUT_SPONSORED_TOP_SITES", "ADDONS_INFO_REQUEST", "ADDONS_INFO_RESPONSE", "ARCHIVE_FROM_POCKET", "AS_ROUTER_INITIALIZED", "AS_ROUTER_PREF_CHANGED", "AS_ROUTER_TARGETING_UPDATE", "AS_ROUTER_TELEMETRY_USER_EVENT", "BLOCK_URL", "BOOKMARK_URL", "CLEAR_PREF", "COPY_DOWNLOAD_LINK", "DELETE_BOOKMARK_BY_ID", "DELETE_FROM_POCKET", "DELETE_HISTORY_URL", "DIALOG_CANCEL", "DIALOG_OPEN", "DISABLE_SEARCH", "DISCOVERY_STREAM_COLLECTION_DISMISSIBLE_TOGGLE", "DISCOVERY_STREAM_CONFIG_CHANGE", "DISCOVERY_STREAM_CONFIG_RESET", "DISCOVERY_STREAM_CONFIG_RESET_DEFAULTS", "DISCOVERY_STREAM_CONFIG_SETUP", "DISCOVERY_STREAM_CONFIG_SET_VALUE", "DISCOVERY_STREAM_DEV_EXPIRE_CACHE", "DISCOVERY_STREAM_DEV_IDLE_DAILY", "DISCOVERY_STREAM_DEV_SYNC_RS", "DISCOVERY_STREAM_DEV_SYSTEM_TICK", "DISCOVERY_STREAM_FEEDS_UPDATE", "DISCOVERY_STREAM_FEED_UPDATE", "DISCOVERY_STREAM_IMPRESSION_STATS", "DISCOVERY_STREAM_LAYOUT_RESET", "DISCOVERY_STREAM_LAYOUT_UPDATE", "DISCOVERY_STREAM_LINK_BLOCKED", "DISCOVERY_STREAM_LOADED_CONTENT", "DISCOVERY_STREAM_PERSONALIZATION_INIT", "DISCOVERY_STREAM_PERSONALIZATION_LAST_UPDATED", "DISCOVERY_STREAM_PERSONALIZATION_TOGGLE", "DISCOVERY_STREAM_RETRY_FEED", "DISCOVERY_STREAM_SPOCS_CAPS", "DISCOVERY_STREAM_SPOCS_ENDPOINT", "DISCOVERY_STREAM_SPOCS_PLACEMENTS", "DISCOVERY_STREAM_SPOCS_UPDATE", "DISCOVERY_STREAM_SPOC_BLOCKED", "DISCOVERY_STREAM_SPOC_IMPRESSION", "DOWNLOAD_CHANGED", "FAKE_FOCUS_SEARCH", "FILL_SEARCH_TERM", "HANDOFF_SEARCH_TO_AWESOMEBAR", "HIDE_PRIVACY_INFO", "INIT", "NEW_TAB_INIT", "NEW_TAB_INITIAL_STATE", "NEW_TAB_LOAD", "NEW_TAB_REHYDRATED", "NEW_TAB_STATE_REQUEST", "NEW_TAB_UNLOAD", "OPEN_DOWNLOAD_FILE", "OPEN_LINK", "OPEN_NEW_WINDOW", "OPEN_PRIVATE_WINDOW", "OPEN_WEBEXT_SETTINGS", "PARTNER_LINK_ATTRIBUTION", "PLACES_BOOKMARKS_REMOVED", "PLACES_BOOKMARK_ADDED", "PLACES_HISTORY_CLEARED", "PLACES_LINKS_CHANGED", "PLACES_LINKS_DELETED", "PLACES_LINK_BLOCKED", "PLACES_SAVED_TO_POCKET", "POCKET_CTA", "POCKET_LINK_DELETED_OR_ARCHIVED", "POCKET_LOGGED_IN", "POCKET_WAITING_FOR_SPOC", "PREFS_INITIAL_VALUES", "PREF_CHANGED", "PREVIEW_REQUEST", "PREVIEW_REQUEST_CANCEL", "PREVIEW_RESPONSE", "REMOVE_DOWNLOAD_FILE", "RICH_ICON_MISSING", "SAVE_SESSION_PERF_DATA", "SAVE_TO_POCKET", "SCREENSHOT_UPDATED", "SECTION_DEREGISTER", "SECTION_DISABLE", "SECTION_ENABLE", "SECTION_MOVE", "SECTION_OPTIONS_CHANGED", "SECTION_REGISTER", "SECTION_UPDATE", "SECTION_UPDATE_CARD", "SETTINGS_CLOSE", "SETTINGS_OPEN", "SET_PREF", "SHOW_DOWNLOAD_FILE", "SHOW_FIREFOX_ACCOUNTS", "SHOW_PRIVACY_INFO", "SHOW_SEARCH", "SKIPPED_SIGNIN", "SNIPPETS_BLOCKLIST_CLEARED", "SNIPPETS_BLOCKLIST_UPDATED", "SNIPPETS_DATA", "SNIPPETS_PREVIEW_MODE", "SNIPPETS_RESET", "SNIPPET_BLOCKED", "SUBMIT_EMAIL", "SUBMIT_SIGNIN", "SYSTEM_TICK", "TELEMETRY_IMPRESSION_STATS", "TELEMETRY_USER_EVENT", "TOP_SITES_CANCEL_EDIT", "TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL", "TOP_SITES_EDIT", "TOP_SITES_IMPRESSION_STATS", "TOP_SITES_INSERT", "TOP_SITES_OPEN_SEARCH_SHORTCUTS_MODAL", "TOP_SITES_PIN", "TOP_SITES_PREFS_UPDATED", "TOP_SITES_UNPIN", "TOP_SITES_UPDATED", "TOTAL_BOOKMARKS_REQUEST", "TOTAL_BOOKMARKS_RESPONSE", "UNINIT", "UPDATE_PINNED_SEARCH_SHORTCUTS", "UPDATE_SEARCH_SHORTCUTS", "UPDATE_SECTION_PREFS", "WEBEXT_CLICK", "WEBEXT_DISMISS"]) {
  actionTypes[type] = type;
} // Helper function for creating routed actions between content and main
// Not intended to be used by consumers


function _RouteMessage(action, options) {
  const meta = action.meta ? { ...action.meta
  } : {};

  if (!options || !options.from || !options.to) {
    throw new Error("Routed Messages must have options as the second parameter, and must at least include a .from and .to property.");
  } // For each of these fields, if they are passed as an option,
  // add them to the action. If they are not defined, remove them.


  ["from", "to", "toTarget", "fromTarget", "skipMain", "skipLocal"].forEach(o => {
    if (typeof options[o] !== "undefined") {
      meta[o] = options[o];
    } else if (meta[o]) {
      delete meta[o];
    }
  });
  return { ...action,
    meta
  };
}
/**
 * AlsoToMain - Creates a message that will be dispatched locally and also sent to the Main process.
 *
 * @param  {object} action Any redux action (required)
 * @param  {object} options
 * @param  {bool}   skipLocal Used by OnlyToMain to skip the main reducer
 * @param  {string} fromTarget The id of the content port from which the action originated. (optional)
 * @return {object} An action with added .meta properties
 */


function AlsoToMain(action, fromTarget, skipLocal) {
  return _RouteMessage(action, {
    from: CONTENT_MESSAGE_TYPE,
    to: MAIN_MESSAGE_TYPE,
    fromTarget,
    skipLocal
  });
}
/**
 * OnlyToMain - Creates a message that will be sent to the Main process and skip the local reducer.
 *
 * @param  {object} action Any redux action (required)
 * @param  {object} options
 * @param  {string} fromTarget The id of the content port from which the action originated. (optional)
 * @return {object} An action with added .meta properties
 */


function OnlyToMain(action, fromTarget) {
  return AlsoToMain(action, fromTarget, true);
}
/**
 * BroadcastToContent - Creates a message that will be dispatched to main and sent to ALL content processes.
 *
 * @param  {object} action Any redux action (required)
 * @return {object} An action with added .meta properties
 */


function BroadcastToContent(action) {
  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: CONTENT_MESSAGE_TYPE
  });
}
/**
 * AlsoToOneContent - Creates a message that will be will be dispatched to the main store
 *                    and also sent to a particular Content process.
 *
 * @param  {object} action Any redux action (required)
 * @param  {string} target The id of a content port
 * @param  {bool} skipMain Used by OnlyToOneContent to skip the main process
 * @return {object} An action with added .meta properties
 */


function AlsoToOneContent(action, target, skipMain) {
  if (!target) {
    throw new Error("You must provide a target ID as the second parameter of AlsoToOneContent. If you want to send to all content processes, use BroadcastToContent");
  }

  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: CONTENT_MESSAGE_TYPE,
    toTarget: target,
    skipMain
  });
}
/**
 * OnlyToOneContent - Creates a message that will be sent to a particular Content process
 *                    and skip the main reducer.
 *
 * @param  {object} action Any redux action (required)
 * @param  {string} target The id of a content port
 * @return {object} An action with added .meta properties
 */


function OnlyToOneContent(action, target) {
  return AlsoToOneContent(action, target, true);
}
/**
 * AlsoToPreloaded - Creates a message that dispatched to the main reducer and also sent to the preloaded tab.
 *
 * @param  {object} action Any redux action (required)
 * @return {object} An action with added .meta properties
 */


function AlsoToPreloaded(action) {
  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: PRELOAD_MESSAGE_TYPE
  });
}
/**
 * UserEvent - A telemetry ping indicating a user action. This should only
 *                   be sent from the UI during a user session.
 *
 * @param  {object} data Fields to include in the ping (source, etc.)
 * @return {object} An AlsoToMain action
 */


function UserEvent(data) {
  return AlsoToMain({
    type: actionTypes.TELEMETRY_USER_EVENT,
    data
  });
}
/**
 * ASRouterUserEvent - A telemetry ping indicating a user action from AS router. This should only
 *                     be sent from the UI during a user session.
 *
 * @param  {object} data Fields to include in the ping (source, etc.)
 * @return {object} An AlsoToMain action
 */


function ASRouterUserEvent(data) {
  return AlsoToMain({
    type: actionTypes.AS_ROUTER_TELEMETRY_USER_EVENT,
    data
  });
}
/**
 * ImpressionStats - A telemetry ping indicating an impression stats.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */


function ImpressionStats(data, importContext = globalImportContext) {
  const action = {
    type: actionTypes.TELEMETRY_IMPRESSION_STATS,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}
/**
 * DiscoveryStreamImpressionStats - A telemetry ping indicating an impression stats in Discovery Stream.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */


function DiscoveryStreamImpressionStats(data, importContext = globalImportContext) {
  const action = {
    type: actionTypes.DISCOVERY_STREAM_IMPRESSION_STATS,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}
/**
 * DiscoveryStreamLoadedContent - A telemetry ping indicating a content gets loaded in Discovery Stream.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */


function DiscoveryStreamLoadedContent(data, importContext = globalImportContext) {
  const action = {
    type: actionTypes.DISCOVERY_STREAM_LOADED_CONTENT,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

function SetPref(name, value, importContext = globalImportContext) {
  const action = {
    type: actionTypes.SET_PREF,
    data: {
      name,
      value
    }
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

function WebExtEvent(type, data, importContext = globalImportContext) {
  if (!data || !data.source) {
    throw new Error('WebExtEvent actions should include a property "source", the id of the webextension that should receive the event.');
  }

  const action = {
    type,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

var actionCreators = {
  BroadcastToContent,
  UserEvent,
  ASRouterUserEvent,
  ImpressionStats,
  AlsoToOneContent,
  OnlyToOneContent,
  AlsoToMain,
  OnlyToMain,
  AlsoToPreloaded,
  SetPref,
  WebExtEvent,
  DiscoveryStreamImpressionStats,
  DiscoveryStreamLoadedContent
}; // These are helpers to test for certain kinds of actions

var actionUtils = {
  isSendToMain(action) {
    if (!action.meta) {
      return false;
    }

    return action.meta.to === MAIN_MESSAGE_TYPE && action.meta.from === CONTENT_MESSAGE_TYPE;
  },

  isBroadcastToContent(action) {
    if (!action.meta) {
      return false;
    }

    if (action.meta.to === CONTENT_MESSAGE_TYPE && !action.meta.toTarget) {
      return true;
    }

    return false;
  },

  isSendToOneContent(action) {
    if (!action.meta) {
      return false;
    }

    if (action.meta.to === CONTENT_MESSAGE_TYPE && action.meta.toTarget) {
      return true;
    }

    return false;
  },

  isSendToPreloaded(action) {
    if (!action.meta) {
      return false;
    }

    return action.meta.to === PRELOAD_MESSAGE_TYPE && action.meta.from === MAIN_MESSAGE_TYPE;
  },

  isFromMain(action) {
    if (!action.meta) {
      return false;
    }

    return action.meta.from === MAIN_MESSAGE_TYPE && action.meta.to === CONTENT_MESSAGE_TYPE;
  },

  getPortIdOfSender(action) {
    return action.meta && action.meta.fromTarget || null;
  },

  _RouteMessage
};

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PrefsButton", function() { return PrefsButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Base", function() { return _Base; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseContent", function() { return BaseContent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Base", function() { return Base; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_components_ASRouterAdmin_ASRouterAdmin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);
/* harmony import */ var _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10);
/* harmony import */ var content_src_components_ConfirmDialog_ConfirmDialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(15);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var content_src_components_DiscoveryStreamBase_DiscoveryStreamBase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(16);
/* harmony import */ var content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(30);
/* harmony import */ var content_src_components_CustomizeMenu_CustomizeMenu__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(65);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var content_src_components_Search_Search__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(57);
/* harmony import */ var content_src_components_Sections_Sections__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(38);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */











const PrefsButton = ({
  onClick,
  icon
}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
  className: "prefs-button"
}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("button", {
  className: `icon ${icon || "icon-settings"}`,
  onClick: onClick,
  "data-l10n-id": "newtab-settings-button"
})); // Returns a function will not be continuously triggered when called. The
// function will be triggered if called again after `wait` milliseconds.

function debounce(func, wait) {
  let timer;
  return (...args) => {
    if (timer) {
      return;
    }

    let wakeUp = () => {
      timer = null;
    };

    timer = setTimeout(wakeUp, wait);
    func.apply(this, args);
  };
}

class _Base extends react__WEBPACK_IMPORTED_MODULE_8___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      message: {}
    };
    this.notifyContent = this.notifyContent.bind(this);
  }

  notifyContent(state) {
    this.setState(state);
  }

  componentWillUnmount() {
    this.updateTheme();
  }

  componentWillUpdate() {
    this.updateTheme();
  }

  updateTheme() {
    const bodyClassName = ["activity-stream", // If we skipped the about:welcome overlay and removed the CSS classes
    // we don't want to add them back to the Activity Stream view
    document.body.classList.contains("inline-onboarding") ? "inline-onboarding" : ""].filter(v => v).join(" ");
    global.document.body.className = bodyClassName;
  }

  render() {
    const {
      props
    } = this;
    const {
      App
    } = props;
    const isDevtoolsEnabled = props.Prefs.values["asrouter.devtoolsEnabled"];

    if (!App.initialized) {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_6__["ErrorBoundary"], {
      className: "base-content-fallback"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(BaseContent, _extends({}, this.props, {
      adminContent: this.state
    })), isDevtoolsEnabled ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_ASRouterAdmin_ASRouterAdmin__WEBPACK_IMPORTED_MODULE_1__["ASRouterAdmin"], {
      notifyContent: this.notifyContent
    }) : null));
  }

}
class BaseContent extends react__WEBPACK_IMPORTED_MODULE_8___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.openPreferences = this.openPreferences.bind(this);
    this.openCustomizationMenu = this.openCustomizationMenu.bind(this);
    this.closeCustomizationMenu = this.closeCustomizationMenu.bind(this);
    this.handleOnKeyDown = this.handleOnKeyDown.bind(this);
    this.onWindowScroll = debounce(this.onWindowScroll.bind(this), 5);
    this.setPref = this.setPref.bind(this);
    this.state = {
      fixedSearch: false,
      customizeMenuVisible: false
    };
  }

  componentDidMount() {
    global.addEventListener("scroll", this.onWindowScroll);
    global.addEventListener("keydown", this.handleOnKeyDown);
  }

  componentWillUnmount() {
    global.removeEventListener("scroll", this.onWindowScroll);
    global.removeEventListener("keydown", this.handleOnKeyDown);
  }

  onWindowScroll() {
    const prefs = this.props.Prefs.values;
    const SCROLL_THRESHOLD = prefs["logowordmark.alwaysVisible"] ? 179 : 34;

    if (global.scrollY > SCROLL_THRESHOLD && !this.state.fixedSearch) {
      this.setState({
        fixedSearch: true
      });
    } else if (global.scrollY <= SCROLL_THRESHOLD && this.state.fixedSearch) {
      this.setState({
        fixedSearch: false
      });
    }
  }

  openPreferences() {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SETTINGS_OPEN
    }));
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event: "OPEN_NEWTAB_PREFS"
    }));
  }

  openCustomizationMenu() {
    this.setState({
      customizeMenuVisible: true
    });
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event: "SHOW_PERSONALIZE"
    }));
  }

  closeCustomizationMenu() {
    if (this.state.customizeMenuVisible) {
      this.setState({
        customizeMenuVisible: false
      });
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "HIDE_PERSONALIZE"
      }));
    }
  }

  handleOnKeyDown(e) {
    if (e.key === "Escape") {
      this.closeCustomizationMenu();
    }
  }

  setPref(pref, value) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].SetPref(pref, value));
  }

  render() {
    const {
      props
    } = this;
    const {
      App
    } = props;
    const {
      initialized
    } = App;
    const prefs = props.Prefs.values;
    const isDiscoveryStream = props.DiscoveryStream.config && props.DiscoveryStream.config.enabled;
    let filteredSections = props.Sections.filter(section => section.id !== "topstories");
    const pocketEnabled = prefs["feeds.section.topstories"] && prefs["feeds.system.topstories"];
    const noSectionsEnabled = !prefs["feeds.topsites"] && !pocketEnabled && filteredSections.filter(section => section.enabled).length === 0;
    const searchHandoffEnabled = prefs["improvesearch.handoffToAwesomebar"];
    const showCustomizationMenu = this.state.customizeMenuVisible;
    const showColorwayCloset = prefs["colorway-closet.enabled"];
    const enabledSections = {
      topSitesEnabled: prefs["feeds.topsites"],
      pocketEnabled: prefs["feeds.section.topstories"],
      highlightsEnabled: prefs["feeds.section.highlights"],
      showSponsoredTopSitesEnabled: prefs.showSponsoredTopSites,
      showSponsoredPocketEnabled: prefs.showSponsored,
      topSitesRowsCount: prefs.topSitesRows
    };
    const pocketRegion = prefs["feeds.system.topstories"];
    const {
      mayHaveSponsoredTopSites
    } = prefs;
    const outerClassName = ["outer-wrapper", isDiscoveryStream && pocketEnabled && "ds-outer-wrapper-search-alignment", isDiscoveryStream && "ds-outer-wrapper-breakpoint-override", prefs.showSearch && this.state.fixedSearch && !noSectionsEnabled && "fixed-search", prefs.showSearch && noSectionsEnabled && "only-search", prefs["logowordmark.alwaysVisible"] && "visible-logo"].filter(v => v).join(" ");
    const hasSnippet = prefs["feeds.snippets"] && this.props.adminContent && this.props.adminContent.message && this.props.adminContent.message.id;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_CustomizeMenu_CustomizeMenu__WEBPACK_IMPORTED_MODULE_7__["CustomizeMenu"], {
      onClose: this.closeCustomizationMenu,
      onOpen: this.openCustomizationMenu,
      openPreferences: this.openPreferences,
      setPref: this.setPref,
      enabledSections: enabledSections,
      pocketRegion: pocketRegion,
      mayHaveSponsoredTopSites: mayHaveSponsoredTopSites,
      showing: showCustomizationMenu,
      showColorwayCloset: showColorwayCloset
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: outerClassName,
      onClick: this.closeCustomizationMenu
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("main", {
      className: hasSnippet ? "has-snippet" : ""
    }, prefs.showSearch && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "non-collapsible-section"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_6__["ErrorBoundary"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_Search_Search__WEBPACK_IMPORTED_MODULE_9__["Search"], _extends({
      showLogo: noSectionsEnabled || prefs["logowordmark.alwaysVisible"],
      handoffEnabled: searchHandoffEnabled
    }, props.Search)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_2__["ASRouterUISurface"], {
      adminContent: this.props.adminContent,
      appUpdateChannel: this.props.Prefs.values.appUpdateChannel,
      fxaEndpoint: this.props.Prefs.values.fxa_endpoint,
      dispatch: this.props.dispatch
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: `body-wrapper${initialized ? " on" : ""}`
    }, isDiscoveryStream ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_6__["ErrorBoundary"], {
      className: "borderless-error"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_DiscoveryStreamBase_DiscoveryStreamBase__WEBPACK_IMPORTED_MODULE_5__["DiscoveryStreamBase"], {
      locale: props.App.locale
    })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_Sections_Sections__WEBPACK_IMPORTED_MODULE_10__["Sections"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_ConfirmDialog_ConfirmDialog__WEBPACK_IMPORTED_MODULE_3__["ConfirmDialog"], null))));
  }

}
const Base = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])(state => ({
  App: state.App,
  Prefs: state.Prefs,
  Sections: state.Sections,
  DiscoveryStream: state.DiscoveryStream,
  Search: state.Search
}))(_Base);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 3 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToggleStoryButton", function() { return ToggleStoryButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToggleMessageJSON", function() { return ToggleMessageJSON; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TogglePrefCheckbox", function() { return TogglePrefCheckbox; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Personalization", function() { return Personalization; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiscoveryStreamAdmin", function() { return DiscoveryStreamAdmin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ASRouterAdminInner", function() { return ASRouterAdminInner; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CollapseToggle", function() { return CollapseToggle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ASRouterAdmin", function() { return ASRouterAdmin; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _SimpleHashRouter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






const Row = props => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", _extends({
  className: "message-item"
}, props), props.children);

function relativeTime(timestamp) {
  if (!timestamp) {
    return "";
  }

  const seconds = Math.floor((Date.now() - timestamp) / 1000);
  const minutes = Math.floor((Date.now() - timestamp) / 60000);

  if (seconds < 2) {
    return "just now";
  } else if (seconds < 60) {
    return `${seconds} seconds ago`;
  } else if (minutes === 1) {
    return "1 minute ago";
  } else if (minutes < 600) {
    return `${minutes} minutes ago`;
  }

  return new Date(timestamp).toLocaleString();
}

const LAYOUT_VARIANTS = {
  basic: "Basic default layout (on by default in nightly)",
  staging_spocs: "A layout with all spocs shown",
  "dev-test-all": "A little bit of everything. Good layout for testing all components",
  "dev-test-feeds": "Stress testing for slow feeds"
};
class ToggleStoryButton extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.handleClick = this.handleClick.bind(this);
  }

  handleClick() {
    this.props.onClick(this.props.story);
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      onClick: this.handleClick
    }, "collapse/open");
  }

}
class ToggleMessageJSON extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.handleClick = this.handleClick.bind(this);
  }

  handleClick() {
    this.props.toggleJSON(this.props.msgId);
  }

  render() {
    let iconName = this.props.isCollapsed ? "icon icon-arrowhead-forward-small" : "icon icon-arrowhead-down-small";
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "clearButton",
      onClick: this.handleClick
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: iconName
    }));
  }

}
class TogglePrefCheckbox extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onChange = this.onChange.bind(this);
  }

  onChange(event) {
    this.props.onChange(this.props.pref, event.target.checked);
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "checkbox",
      checked: this.props.checked,
      onChange: this.onChange,
      disabled: this.props.disabled
    }), " ", this.props.pref, " ");
  }

}
class Personalization extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.togglePersonalization = this.togglePersonalization.bind(this);
  }

  togglePersonalization() {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_PERSONALIZATION_TOGGLE
    }));
  }

  render() {
    const {
      lastUpdated,
      initialized
    } = this.props.state.Personalization;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      colSpan: "2"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(TogglePrefCheckbox, {
      checked: this.props.personalized,
      pref: "personalized",
      onChange: this.togglePersonalization
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Personalization Last Updated"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, relativeTime(lastUpdated) || "(no data)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Personalization Initialized"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, initialized ? "true" : "false")))));
  }

}
class DiscoveryStreamAdmin extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.restorePrefDefaults = this.restorePrefDefaults.bind(this);
    this.setConfigValue = this.setConfigValue.bind(this);
    this.expireCache = this.expireCache.bind(this);
    this.refreshCache = this.refreshCache.bind(this);
    this.idleDaily = this.idleDaily.bind(this);
    this.systemTick = this.systemTick.bind(this);
    this.syncRemoteSettings = this.syncRemoteSettings.bind(this);
    this.changeEndpointVariant = this.changeEndpointVariant.bind(this);
    this.onStoryToggle = this.onStoryToggle.bind(this);
    this.state = {
      toggledStories: {}
    };
  }

  setConfigValue(name, value) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_CONFIG_SET_VALUE,
      data: {
        name,
        value
      }
    }));
  }

  restorePrefDefaults(event) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_CONFIG_RESET_DEFAULTS
    }));
  }

  refreshCache() {
    const {
      config
    } = this.props.state.DiscoveryStream;
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_CONFIG_CHANGE,
      data: config
    }));
  }

  dispatchSimpleAction(type) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type
    }));
  }

  systemTick() {
    this.dispatchSimpleAction(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_DEV_SYSTEM_TICK);
  }

  expireCache() {
    this.dispatchSimpleAction(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_DEV_EXPIRE_CACHE);
  }

  idleDaily() {
    this.dispatchSimpleAction(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_DEV_IDLE_DAILY);
  }

  syncRemoteSettings() {
    this.dispatchSimpleAction(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_DEV_SYNC_RS);
  }

  changeEndpointVariant(event) {
    const endpoint = this.props.state.DiscoveryStream.config.layout_endpoint;

    if (endpoint) {
      this.setConfigValue("layout_endpoint", endpoint.replace(/layout_variant=.+/, `layout_variant=${event.target.value}`));
    }
  }

  renderComponent(width, component) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Type"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, component.type)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Width"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, width)), component.feed && this.renderFeed(component.feed)));
  }

  isCurrentVariant(id) {
    const endpoint = this.props.state.DiscoveryStream.config.layout_endpoint;
    const isMatch = endpoint && !!endpoint.match(`layout_variant=${id}`);
    return isMatch;
  }

  renderFeedData(url) {
    const {
      feeds
    } = this.props.state.DiscoveryStream;
    const feed = feeds.data[url].data;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h4", null, "Feed url: ", url), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, feed.recommendations.map(story => this.renderStoryData(story)))));
  }

  renderFeedsData() {
    const {
      feeds
    } = this.props.state.DiscoveryStream;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, Object.keys(feeds.data).map(url => this.renderFeedData(url)));
  }

  renderSpocs() {
    const {
      spocs
    } = this.props.state.DiscoveryStream;
    let spocsData = [];

    if (spocs.data && spocs.data.spocs && spocs.data.spocs.items) {
      spocsData = spocs.data.spocs.items || [];
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "spocs_endpoint"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, spocs.spocs_endpoint)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Data last fetched"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, relativeTime(spocs.lastUpdated))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h4", null, "Spoc data"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, spocsData.map(spoc => this.renderStoryData(spoc)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h4", null, "Spoc frequency caps"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, spocs.frequency_caps.map(spoc => this.renderStoryData(spoc)))));
  }

  onStoryToggle(story) {
    const {
      toggledStories
    } = this.state;
    this.setState({
      toggledStories: { ...toggledStories,
        [story.id]: !toggledStories[story.id]
      }
    });
  }

  renderStoryData(story) {
    let storyData = "";

    if (this.state.toggledStories[story.id]) {
      storyData = JSON.stringify(story, null, 2);
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
      className: "message-item",
      key: story.id
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "message-id"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, story.id, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ToggleStoryButton, {
      story: story,
      onClick: this.onStoryToggle
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "message-summary"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("pre", null, storyData)));
  }

  renderFeed(feed) {
    const {
      feeds
    } = this.props.state.DiscoveryStream;

    if (!feed.url) {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Feed url"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, feed.url)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Data last fetched"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, relativeTime(feeds.data[feed.url] ? feeds.data[feed.url].lastUpdated : null) || "(no data)")));
  }

  render() {
    const prefToggles = "enabled hardcoded_layout show_spocs collapsible".split(" ");
    const {
      config,
      lastUpdated,
      layout
    } = this.props.state.DiscoveryStream;
    const personalized = this.props.otherPrefs["discoverystream.personalization.enabled"];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button",
      onClick: this.restorePrefDefaults
    }, "Restore Pref Defaults"), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button",
      onClick: this.refreshCache
    }, "Refresh Cache"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button",
      onClick: this.expireCache
    }, "Expire Cache"), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button",
      onClick: this.systemTick
    }, "Trigger System Tick"), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button",
      onClick: this.idleDaily
    }, "Trigger Idle Daily"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button",
      onClick: this.syncRemoteSettings
    }, "Sync Remote Settings"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, prefToggles.map(pref => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, {
      key: pref
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(TogglePrefCheckbox, {
      checked: config[pref],
      pref: pref,
      onChange: this.setConfigValue
    })))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h3", null, "Endpoint variant"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, "You can also change this manually by changing this pref:", " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("code", null, "browser.newtabpage.activity-stream.discoverystream.config")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", {
      style: config.enabled && !config.hardcoded_layout ? null : {
        opacity: 0.5
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, Object.keys(LAYOUT_VARIANTS).map(id => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, {
      key: id
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "radio",
      value: id,
      checked: this.isCurrentVariant(id),
      onChange: this.changeEndpointVariant
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, id), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, LAYOUT_VARIANTS[id]))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h3", null, "Caching info"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", {
      style: config.enabled ? null : {
        opacity: 0.5
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Data last fetched"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, relativeTime(lastUpdated) || "(no data)")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h3", null, "Layout"), layout.map((row, rowIndex) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      key: `row-${rowIndex}`
    }, row.components.map((component, componentIndex) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      key: `component-${componentIndex}`,
      className: "ds-component"
    }, this.renderComponent(row.width, component))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h3", null, "Personalization"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Personalization, {
      personalized: personalized,
      dispatch: this.props.dispatch,
      state: {
        Personalization: this.props.state.Personalization
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h3", null, "Spocs"), this.renderSpocs(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h3", null, "Feeds Data"), this.renderFeedsData());
  }

}
class ASRouterAdminInner extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.handleEnabledToggle = this.handleEnabledToggle.bind(this);
    this.handleUserPrefToggle = this.handleUserPrefToggle.bind(this);
    this.onChangeMessageFilter = this.onChangeMessageFilter.bind(this);
    this.onChangeMessageGroupsFilter = this.onChangeMessageGroupsFilter.bind(this);
    this.unblockAll = this.unblockAll.bind(this);
    this.handleClearAllImpressionsByProvider = this.handleClearAllImpressionsByProvider.bind(this);
    this.handleExpressionEval = this.handleExpressionEval.bind(this);
    this.onChangeTargetingParameters = this.onChangeTargetingParameters.bind(this);
    this.onChangeAttributionParameters = this.onChangeAttributionParameters.bind(this);
    this.setAttribution = this.setAttribution.bind(this);
    this.onCopyTargetingParams = this.onCopyTargetingParams.bind(this);
    this.onNewTargetingParams = this.onNewTargetingParams.bind(this);
    this.handleUpdateWNMessages = this.handleUpdateWNMessages.bind(this);
    this.handleForceWNP = this.handleForceWNP.bind(this);
    this.handleCloseWNP = this.handleCloseWNP.bind(this);
    this.resetPanel = this.resetPanel.bind(this);
    this.restoreWNMessageState = this.restoreWNMessageState.bind(this);
    this.toggleJSON = this.toggleJSON.bind(this);
    this.toggleAllMessages = this.toggleAllMessages.bind(this);
    this.resetGroups = this.resetGroups.bind(this);
    this.onMessageFromParent = this.onMessageFromParent.bind(this);
    this.setStateFromParent = this.setStateFromParent.bind(this);
    this.setState = this.setState.bind(this);
    this.state = {
      messageFilter: "all",
      messageGroupsFilter: "all",
      WNMessages: [],
      collapsedMessages: [],
      modifiedMessages: [],
      evaluationStatus: {},
      stringTargetingParameters: null,
      newStringTargetingParameters: null,
      copiedToClipboard: false,
      attributionParameters: {
        source: "addons.mozilla.org",
        medium: "referral",
        campaign: "non-fx-button",
        content: `rta:${btoa("uBlock0@raymondhill.net")}`,
        experiment: "ua-onboarding",
        variation: "chrome",
        ua: "Google Chrome 123",
        dltoken: "00000000-0000-0000-0000-000000000000"
      }
    };
  }

  onMessageFromParent({
    type,
    data
  }) {
    // These only exists due to onPrefChange events in ASRouter
    switch (type) {
      case "UpdateAdminState":
        {
          this.setStateFromParent(data);
          break;
        }
    }
  }

  setStateFromParent(data) {
    this.setState(data);

    if (!this.state.stringTargetingParameters) {
      const stringTargetingParameters = {};

      for (const param of Object.keys(data.targetingParameters)) {
        stringTargetingParameters[param] = JSON.stringify(data.targetingParameters[param], null, 2);
      }

      this.setState({
        stringTargetingParameters
      });
    }
  }

  componentWillMount() {
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].addListener(this.onMessageFromParent);
    const endpoint = _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].getPreviewEndpoint();
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "ADMIN_CONNECT_STATE",
      data: {
        endpoint
      }
    }).then(this.setStateFromParent);
  }

  handleBlock(msg) {
    return () => _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].blockById(msg.id);
  }

  handleUnblock(msg) {
    return () => _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].unblockById(msg.id);
  }

  resetJSON(msg) {
    // reset the displayed JSON for the given message
    document.getElementById(`${msg.id}-textarea`).value = JSON.stringify(msg, null, 2); // remove the message from the list of modified IDs

    let index = this.state.modifiedMessages.indexOf(msg.id);
    this.setState(prevState => ({
      modifiedMessages: [...prevState.modifiedMessages.slice(0, index), ...prevState.modifiedMessages.slice(index + 1)]
    }));
  }

  resetAllJSON() {
    let messageCheckboxes = document.querySelectorAll('input[type="checkbox"]');

    for (const checkbox of messageCheckboxes) {
      let trimmedId = checkbox.id.replace(" checkbox", "");
      let message = this.state.messages.filter(msg => msg.id === trimmedId);
      let msgId = message[0].id;
      document.getElementById(`${msgId}-textarea`).value = JSON.stringify(message[0], null, 2);
    }

    this.setState({
      WNMessages: []
    });
  }

  resetPanel() {
    this.resetAllJSON();
    this.handleCloseWNP();
  }

  handleOverride(id) {
    return () => _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].overrideMessage(id).then(state => {
      this.setStateFromParent(state);
      this.props.notifyContent({
        message: state.message
      });
    });
  }

  async handleUpdateWNMessages() {
    await this.restoreWNMessageState();
    let messages = this.state.WNMessages;

    for (const msg of messages) {
      _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].modifyMessageJson(JSON.parse(msg));
    }
  }

  handleForceWNP() {
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "FORCE_WHATSNEW_PANEL"
    });
  }

  handleCloseWNP() {
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "CLOSE_WHATSNEW_PANEL"
    });
  }

  expireCache() {
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "EXPIRE_QUERY_CACHE"
    });
  }

  resetPref() {
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "RESET_PROVIDER_PREF"
    });
  }

  resetGroups(id, value) {
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "RESET_GROUPS_STATE"
    }).then(this.setStateFromParent);
  }

  handleExpressionEval() {
    const context = {};

    for (const param of Object.keys(this.state.stringTargetingParameters)) {
      const value = this.state.stringTargetingParameters[param];
      context[param] = value ? JSON.parse(value) : null;
    }

    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "EVALUATE_JEXL_EXPRESSION",
      data: {
        expression: this.refs.expressionInput.value,
        context
      }
    }).then(this.setStateFromParent);
  }

  onChangeTargetingParameters(event) {
    const {
      name
    } = event.target;
    const {
      value
    } = event.target;
    this.setState(({
      stringTargetingParameters
    }) => {
      let targetingParametersError = null;
      const updatedParameters = { ...stringTargetingParameters
      };
      updatedParameters[name] = value;

      try {
        JSON.parse(value);
      } catch (e) {
        console.log(`Error parsing value of parameter ${name}`); // eslint-disable-line no-console

        targetingParametersError = {
          id: name
        };
      }

      return {
        copiedToClipboard: false,
        evaluationStatus: {},
        stringTargetingParameters: updatedParameters,
        targetingParametersError
      };
    });
  }

  unblockAll() {
    return _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "UNBLOCK_ALL"
    }).then(this.setStateFromParent);
  }

  handleClearAllImpressionsByProvider() {
    const providerId = this.state.messageFilter;

    if (!providerId) {
      return;
    }

    const userPrefInfo = this.state.userPrefs;
    const isUserEnabled = providerId in userPrefInfo ? userPrefInfo[providerId] : true;
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "DISABLE_PROVIDER",
      data: providerId
    });

    if (!isUserEnabled) {
      _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
        type: "SET_PROVIDER_USER_PREF",
        data: {
          id: providerId,
          value: true
        }
      });
    }

    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "ENABLE_PROVIDER",
      data: providerId
    });
  }

  handleEnabledToggle(event) {
    const provider = this.state.providerPrefs.find(p => p.id === event.target.dataset.provider);
    const userPrefInfo = this.state.userPrefs;
    const isUserEnabled = provider.id in userPrefInfo ? userPrefInfo[provider.id] : true;
    const isSystemEnabled = provider.enabled;
    const isEnabling = event.target.checked;

    if (isEnabling) {
      if (!isUserEnabled) {
        _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
          type: "SET_PROVIDER_USER_PREF",
          data: {
            id: provider.id,
            value: true
          }
        });
      }

      if (!isSystemEnabled) {
        _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
          type: "ENABLE_PROVIDER",
          data: provider.id
        });
      }
    } else {
      _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
        type: "DISABLE_PROVIDER",
        data: provider.id
      });
    }

    this.setState({
      messageFilter: "all"
    });
  }

  handleUserPrefToggle(event) {
    const action = {
      type: "SET_PROVIDER_USER_PREF",
      data: {
        id: event.target.dataset.provider,
        value: event.target.checked
      }
    };
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage(action);
    this.setState({
      messageFilter: "all"
    });
  }

  onChangeMessageFilter(event) {
    this.setState({
      messageFilter: event.target.value
    });
  }

  onChangeMessageGroupsFilter(event) {
    this.setState({
      messageGroupsFilter: event.target.value
    });
  } // Simulate a copy event that sets to clipboard all targeting paramters and values


  onCopyTargetingParams(event) {
    const stringTargetingParameters = { ...this.state.stringTargetingParameters
    };

    for (const key of Object.keys(stringTargetingParameters)) {
      // If the value is not set the parameter will be lost when we stringify
      if (stringTargetingParameters[key] === undefined) {
        stringTargetingParameters[key] = null;
      }
    }

    const setClipboardData = e => {
      e.preventDefault();
      e.clipboardData.setData("text", JSON.stringify(stringTargetingParameters, null, 2));
      document.removeEventListener("copy", setClipboardData);
      this.setState({
        copiedToClipboard: true
      });
    };

    document.addEventListener("copy", setClipboardData);
    document.execCommand("copy");
  }

  onNewTargetingParams(event) {
    this.setState({
      newStringTargetingParameters: event.target.value
    });
    event.target.classList.remove("errorState");
    this.refs.targetingParamsEval.innerText = "";

    try {
      const stringTargetingParameters = JSON.parse(event.target.value);
      this.setState({
        stringTargetingParameters
      });
    } catch (e) {
      event.target.classList.add("errorState");
      this.refs.targetingParamsEval.innerText = e.message;
    }
  }

  toggleJSON(msgId) {
    if (this.state.collapsedMessages.includes(msgId)) {
      let index = this.state.collapsedMessages.indexOf(msgId);
      this.setState(prevState => ({
        collapsedMessages: [...prevState.collapsedMessages.slice(0, index), ...prevState.collapsedMessages.slice(index + 1)]
      }));
    } else {
      this.setState(prevState => ({
        collapsedMessages: prevState.collapsedMessages.concat(msgId)
      }));
    }
  }

  handleChange(msgId) {
    if (!this.state.modifiedMessages.includes(msgId)) {
      this.setState(prevState => ({
        modifiedMessages: prevState.modifiedMessages.concat(msgId)
      }));
    }
  }

  renderMessageItem(msg) {
    const isBlockedByGroup = this.state.groups.filter(group => msg.groups.includes(group.id)).some(group => !group.enabled);
    const msgProvider = this.state.providers.find(provider => provider.id === msg.provider) || {};
    const isProviderExcluded = msgProvider.exclude && msgProvider.exclude.includes(msg.id);
    const isMessageBlocked = this.state.messageBlockList.includes(msg.id) || this.state.messageBlockList.includes(msg.campaign);
    const isBlocked = isMessageBlocked || isBlockedByGroup || isProviderExcluded;
    const impressions = this.state.messageImpressions[msg.id] ? this.state.messageImpressions[msg.id].length : 0;
    const isCollapsed = this.state.collapsedMessages.includes(msg.id);
    const isModified = this.state.modifiedMessages.includes(msg.id);
    let itemClassName = "message-item";

    if (isBlocked) {
      itemClassName += " blocked";
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
      className: itemClassName,
      key: `${msg.id}-${msg.provider}`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "message-id"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, msg.id, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ToggleMessageJSON, {
      msgId: `${msg.id}`,
      toggleJSON: this.toggleJSON,
      isCollapsed: isCollapsed
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "button-column"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: `button ${isBlocked ? "" : " primary"}`,
      onClick: isBlocked ? this.handleUnblock(msg) : this.handleBlock(msg)
    }, isBlocked ? "Unblock" : "Block"), // eslint-disable-next-line no-nested-ternary
    isBlocked ? null : isModified ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button restore" // eslint-disable-next-line react/jsx-no-bind
      ,
      onClick: e => this.resetJSON(msg)
    }, "Reset") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button show",
      onClick: this.handleOverride(msg.id)
    }, "Show"), isBlocked ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button modify" // eslint-disable-next-line react/jsx-no-bind
      ,
      onClick: e => this.modifyJson(msg)
    }, "Modify"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), "(", impressions, " impressions)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "message-summary"
    }, isBlocked && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, "Block reason:", isBlockedByGroup && " Blocked by group", isProviderExcluded && " Excluded by provider", isMessageBlocked && " Message blocked"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("pre", {
      className: isCollapsed ? "collapsed" : "expanded"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("textarea", {
      id: `${msg.id}-textarea`,
      name: msg.id,
      className: "general-textarea",
      disabled: isBlocked // eslint-disable-next-line react/jsx-no-bind
      ,
      onChange: e => this.handleChange(msg.id)
    }, JSON.stringify(msg, null, 2))))));
  }

  restoreWNMessageState() {
    // check the page for checked boxes, and reset the state of WNMessages based on that.
    let tempState = [];
    let messageCheckboxes = document.querySelectorAll('input[type="checkbox"]'); // put the JSON of all the checked checkboxes in the array

    for (const checkbox of messageCheckboxes) {
      let trimmedId = checkbox.id.replace(" checkbox", "");
      let msg = document.getElementById(`${trimmedId}-textarea`).value;

      if (checkbox.checked) {
        tempState.push(msg);
      }
    }

    this.setState({
      WNMessages: tempState
    });
  }

  modifyJson(content) {
    const message = JSON.parse(document.getElementById(`${content.id}-textarea`).value);
    return _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].modifyMessageJson(message).then(state => {
      this.setStateFromParent(state);
      this.props.notifyContent({
        message: state.message
      });
    });
  }

  renderWNMessageItem(msg) {
    const isBlocked = this.state.messageBlockList.includes(msg.id) || this.state.messageBlockList.includes(msg.campaign);
    const impressions = this.state.messageImpressions[msg.id] ? this.state.messageImpressions[msg.id].length : 0;
    const isCollapsed = this.state.collapsedMessages.includes(msg.id);
    let itemClassName = "message-item";

    if (isBlocked) {
      itemClassName += " blocked";
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
      className: itemClassName,
      key: `${msg.id}-${msg.provider}`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "message-id"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, msg.id, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), "(", impressions, " impressions)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ToggleMessageJSON, {
      msgId: `${msg.id}`,
      toggleJSON: this.toggleJSON,
      isCollapsed: isCollapsed
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "checkbox",
      id: `${msg.id} checkbox`,
      name: `${msg.id} checkbox`
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: `message-summary`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("pre", {
      className: isCollapsed ? "collapsed" : "expanded"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("textarea", {
      id: `${msg.id}-textarea`,
      className: "wnp-textarea",
      name: msg.id
    }, JSON.stringify(msg, null, 2)))));
  }

  toggleAllMessages(messagesToShow) {
    if (this.state.collapsedMessages.length) {
      this.setState({
        collapsedMessages: []
      });
    } else {
      Array.prototype.forEach.call(messagesToShow, msg => {
        this.setState(prevState => ({
          collapsedMessages: prevState.collapsedMessages.concat(msg.id)
        }));
      });
    }
  }

  renderMessages() {
    if (!this.state.messages) {
      return null;
    }

    const messagesToShow = this.state.messageFilter === "all" ? this.state.messages : this.state.messages.filter(message => message.provider === this.state.messageFilter);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton slim" // eslint-disable-next-line react/jsx-no-bind
      ,
      onClick: e => this.toggleAllMessages(messagesToShow)
    }, "Collapse/Expand All"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", {
      className: "helpLink"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "icon icon-small-spacer icon-info"
    }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, "To modify a message, change the JSON and click 'Modify' to see your changes. Click 'Reset' to restore the JSON to the original.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, messagesToShow.map(msg => this.renderMessageItem(msg)))));
  }

  renderMessagesByGroup() {
    if (!this.state.messages) {
      return null;
    }

    const messagesToShow = this.state.messageGroupsFilter === "all" ? this.state.messages.filter(m => m.groups.length) : this.state.messages.filter(message => message.groups.includes(this.state.messageGroupsFilter));
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, messagesToShow.map(msg => this.renderMessageItem(msg))));
  }

  renderWNMessages() {
    if (!this.state.messages) {
      return null;
    }

    const messagesToShow = this.state.messages.filter(message => message.provider === "whats-new-panel" && message.content.body);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, messagesToShow.map(msg => this.renderWNMessageItem(msg))));
  }

  renderMessageFilter() {
    if (!this.state.providers) {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "unblock-all ASRouterButton test-only",
      onClick: this.unblockAll
    }, "Unblock All Snippets"), "Show messages from ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("select", {
      value: this.state.messageFilter,
      onChange: this.onChangeMessageFilter
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("option", {
      value: "all"
    }, "all providers"), this.state.providers.map(provider => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("option", {
      key: provider.id,
      value: provider.id
    }, provider.id))), this.state.messageFilter !== "all" && !this.state.messageFilter.includes("_local_testing") ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button messages-reset",
      onClick: this.handleClearAllImpressionsByProvider
    }, "Reset All") : null);
  }

  renderMessageGroupsFilter() {
    if (!this.state.groups) {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, "Show messages from ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("select", {
      value: this.state.messageGroupsFilter,
      onChange: this.onChangeMessageGroupsFilter
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("option", {
      value: "all"
    }, "all groups"), this.state.groups.map(group => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("option", {
      key: group.id,
      value: group.id
    }, group.id))));
  }

  renderTableHead() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
      className: "message-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Provider ID"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, "Source"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Cohort"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Last Updated")));
  }

  renderProviders() {
    const providersConfig = this.state.providerPrefs;
    const providerInfo = this.state.providers;
    const userPrefInfo = this.state.userPrefs;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, this.renderTableHead(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, providersConfig.map((provider, i) => {
      const isTestProvider = provider.id.includes("_local_testing");
      const info = providerInfo.find(p => p.id === provider.id) || {};
      const isUserEnabled = provider.id in userPrefInfo ? userPrefInfo[provider.id] : true;
      const isSystemEnabled = isTestProvider || provider.enabled;
      let label = "local";

      if (provider.type === "remote") {
        label = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, "endpoint (", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
          className: "providerUrl",
          target: "_blank",
          href: info.url,
          rel: "noopener noreferrer"
        }, info.url), ")");
      } else if (provider.type === "remote-settings") {
        label = `remote settings (${provider.bucket})`;
      } else if (provider.type === "remote-experiments") {
        label = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, "remote settings (", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
          className: "providerUrl",
          target: "_blank",
          href: "https://firefox.settings.services.mozilla.com/v1/buckets/main/collections/nimbus-desktop-experiments/records",
          rel: "noopener noreferrer"
        }, "nimbus-desktop-experiments"), ")");
      }

      let reasonsDisabled = [];

      if (!isSystemEnabled) {
        reasonsDisabled.push("system pref");
      }

      if (!isUserEnabled) {
        reasonsDisabled.push("user pref");
      }

      if (reasonsDisabled.length) {
        label = `disabled via ${reasonsDisabled.join(", ")}`;
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
        className: "message-item",
        key: i
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, isTestProvider ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
        type: "checkbox",
        disabled: true,
        readOnly: true,
        checked: true
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
        type: "checkbox",
        "data-provider": provider.id,
        checked: isUserEnabled && isSystemEnabled,
        onChange: this.handleEnabledToggle
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, provider.id), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
        className: `sourceLabel${isUserEnabled && isSystemEnabled ? "" : " isDisabled"}`
      }, label)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, provider.cohort), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
        style: {
          whiteSpace: "nowrap"
        }
      }, info.lastUpdated ? new Date(info.lastUpdated).toLocaleString() : ""));
    })));
  }

  renderTargetingParameters() {
    // There was no error and the result is truthy
    const success = this.state.evaluationStatus.success && !!this.state.evaluationStatus.result;
    const result = JSON.stringify(this.state.evaluationStatus.result, null, 2) || "(Empty result)";
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Evaluate JEXL expression"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("textarea", {
      ref: "expressionInput",
      rows: "10",
      cols: "60",
      placeholder: "Evaluate JEXL expressions and mock parameters by changing their values below"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, "Status:", " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      ref: "evaluationStatus"
    }, success ? "✅" : "❌", ", Result: ", result))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton secondary",
      onClick: this.handleExpressionEval
    }, "Evaluate"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Modify targeting parameters"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton secondary",
      onClick: this.onCopyTargetingParams,
      disabled: this.state.copiedToClipboard
    }, this.state.copiedToClipboard ? "Parameters copied!" : "Copy parameters"))), this.state.stringTargetingParameters && Object.keys(this.state.stringTargetingParameters).map((param, i) => {
      const value = this.state.stringTargetingParameters[param];
      const errorState = this.state.targetingParametersError && this.state.targetingParametersError.id === param;
      const className = errorState ? "errorState" : "";
      const inputComp = (value && value.length) > 30 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("textarea", {
        name: param,
        className: className,
        value: value,
        rows: "10",
        cols: "60",
        onChange: this.onChangeTargetingParameters
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
        name: param,
        className: className,
        value: value,
        onChange: this.onChangeTargetingParameters
      });
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
        key: i
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, param), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, inputComp));
    })));
  }

  onChangeAttributionParameters(event) {
    const {
      name,
      value
    } = event.target;
    this.setState(({
      attributionParameters
    }) => {
      const updatedParameters = { ...attributionParameters
      };
      updatedParameters[name] = value;
      return {
        attributionParameters: updatedParameters
      };
    });
  }

  setAttribution(e) {
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "FORCE_ATTRIBUTION",
      data: this.state.attributionParameters
    }).then(this.setStateFromParent);
  }

  _getGroupImpressionsCount(id, frequency) {
    if (frequency) {
      return this.state.groupImpressions[id] ? this.state.groupImpressions[id].length : 0;
    }

    return "n/a";
  }

  renderDiscoveryStream() {
    const {
      config
    } = this.props.DiscoveryStream;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
      className: "message-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Enabled"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, config.enabled ? "yes" : "no")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
      className: "message-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Endpoint"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, config.endpoint || "(empty)")))));
  }

  renderAttributionParamers() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, " Attribution Parameters "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, " ", "This forces the browser to set some attribution parameters, useful for testing the Return To AMO feature. Clicking on 'Force Attribution', with the default values in each field, will demo the Return To AMO flow with the addon called 'uBlock Origin'. If you wish to try different attribution parameters, enter them in the text boxes. If you wish to try a different addon with the Return To AMO flow, make sure the 'content' text box has a string that is 'rta:base64(addonID)', the base64 string of the addonID prefixed with 'rta:'. The addon must currently be a recommended addon on AMO. Then click 'Force Attribution'. Clicking on 'Force Attribution' with blank text boxes reset attribution data."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " Source ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "source",
      placeholder: "addons.mozilla.org",
      value: this.state.attributionParameters.source,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " Medium ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "medium",
      placeholder: "referral",
      value: this.state.attributionParameters.medium,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " Campaign ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "campaign",
      placeholder: "non-fx-button",
      value: this.state.attributionParameters.campaign,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " Content ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "content",
      placeholder: `rta:${btoa("uBlock0@raymondhill.net")}`,
      value: this.state.attributionParameters.content,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " Experiment ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "experiment",
      placeholder: "ua-onboarding",
      value: this.state.attributionParameters.experiment,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " Variation ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "variation",
      placeholder: "chrome",
      value: this.state.attributionParameters.variation,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " User Agent ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "ua",
      placeholder: "Google Chrome 123",
      value: this.state.attributionParameters.ua,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " Download Token ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "dltoken",
      placeholder: "00000000-0000-0000-0000-000000000000",
      value: this.state.attributionParameters.dltoken,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton primary button",
      onClick: this.setAttribution
    }, " ", "Force Attribution", " "), " "))));
  }

  renderErrorMessage({
    id,
    errors
  }) {
    const providerId = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      rowSpan: errors.length
    }, id); // .reverse() so that the last error (most recent) is first

    return errors.map(({
      error,
      timestamp
    }, cellKey) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
      key: cellKey
    }, cellKey === errors.length - 1 ? providerId : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, error.message), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, relativeTime(timestamp)))).reverse();
  }

  renderErrors() {
    const providersWithErrors = this.state.providers && this.state.providers.filter(p => p.errors && p.errors.length);

    if (providersWithErrors && providersWithErrors.length) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", {
        className: "errorReporting"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("th", null, "Provider ID"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("th", null, "Message"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("th", null, "Timestamp"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, providersWithErrors.map(this.renderErrorMessage)));
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, "No errors");
  }

  renderWNPTests() {
    if (!this.state.messages) {
      return null;
    }

    let messagesToShow = this.state.messages.filter(message => message.provider === "whats-new-panel");
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", {
      className: "helpLink"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "icon icon-small-spacer icon-info"
    }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, "To correctly render selected messages, click 'Open What's New Panel', select the messages you want to see, and click 'Render Selected Messages'.", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), "To modify a message, select it, modify the JSON and click 'Render Selected Messages' again to see your changes.", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), "Click 'Reset Panel' to close the panel and reset all JSON to its original state.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton primary button",
      onClick: this.handleForceWNP
    }, "Open What's New Panel"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton secondary button",
      onClick: this.handleUpdateWNMessages
    }, "Render Selected Messages"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton secondary button",
      onClick: this.resetPanel
    }, "Reset Panel"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Messages"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton slim button" // eslint-disable-next-line react/jsx-no-bind
      ,
      onClick: e => this.toggleAllMessages(messagesToShow)
    }, "Collapse/Expand All"), this.renderWNMessages()));
  }

  getSection() {
    const [section] = this.props.location.routes;

    switch (section) {
      case "wnpanel":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "What's New Panel"), this.renderWNPTests());

      case "targeting":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Targeting Utilities"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
          className: "button",
          onClick: this.expireCache
        }, "Expire Cache"), " ", "(This expires the cache in ASR Targeting for bookmarks and top sites)", this.renderTargetingParameters(), this.renderAttributionParamers());

      case "groups":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Message Groups"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
          className: "button",
          onClick: this.resetGroups
        }, "Reset group impressions"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
          className: "message-item"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, "Enabled"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, "Impressions count"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, "Custom frequency"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, "User preferences"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, this.state.groups && this.state.groups.map(({
          id,
          enabled,
          frequency,
          userPreferences = []
        }, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, {
          key: id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(TogglePrefCheckbox, {
          checked: enabled,
          pref: id,
          disabled: true
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, this._getGroupImpressionsCount(id, frequency)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, JSON.stringify(frequency, null, 2)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, userPreferences.join(", ")))))), this.renderMessageGroupsFilter(), this.renderMessagesByGroup());

      case "ds":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Discovery Stream"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(DiscoveryStreamAdmin, {
          state: {
            DiscoveryStream: this.props.DiscoveryStream,
            Personalization: this.props.Personalization
          },
          otherPrefs: this.props.Prefs.values,
          dispatch: this.props.dispatch
        }));

      case "errors":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "ASRouter Errors"), this.renderErrors());

      default:
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Message Providers", " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
          title: "Restore all provider settings that ship with Firefox",
          className: "button",
          onClick: this.resetPref
        }, "Restore default prefs")), this.state.providers ? this.renderProviders() : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Messages"), this.renderMessageFilter(), this.renderMessages());
    }
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: `asrouter-admin ${this.props.collapsed ? "collapsed" : "expanded"}`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("aside", {
      className: "sidebar"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("ul", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "#devtools"
    }, "General")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "#devtools-wnpanel"
    }, "What's New Panel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "#devtools-targeting"
    }, "Targeting")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "#devtools-groups"
    }, "Message Groups")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "#devtools-ds"
    }, "Discovery Stream")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "#devtools-errors"
    }, "Errors")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("main", {
      className: "main-panel"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h1", null, "AS Router Admin"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", {
      className: "helpLink"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "icon icon-small-spacer icon-info"
    }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, "Need help using these tools? Check out our", " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      target: "blank",
      href: "https://firefox-source-docs.mozilla.org/browser/components/newtab/content-src/asrouter/docs/index.html"
    }, "documentation"))), this.getSection()));
  }

}
class CollapseToggle extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onCollapseToggle = this.onCollapseToggle.bind(this);
    this.state = {
      collapsed: false
    };
  }

  get renderAdmin() {
    const {
      props
    } = this;
    return props.location.hash && (props.location.hash.startsWith("#asrouter") || props.location.hash.startsWith("#devtools"));
  }

  onCollapseToggle(e) {
    e.preventDefault();
    this.setState(state => ({
      collapsed: !state.collapsed
    }));
  }

  setBodyClass() {
    if (this.renderAdmin && !this.state.collapsed) {
      global.document.body.classList.add("no-scroll");
    } else {
      global.document.body.classList.remove("no-scroll");
    }
  }

  componentDidMount() {
    this.setBodyClass();
  }

  componentDidUpdate() {
    this.setBodyClass();
  }

  componentWillUnmount() {
    global.document.body.classList.remove("no-scroll");
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].removeListener(this.onMessageFromParent);
  }

  render() {
    const {
      props
    } = this;
    const {
      renderAdmin
    } = this;
    const isCollapsed = this.state.collapsed || !renderAdmin;
    const label = `${isCollapsed ? "Expand" : "Collapse"} devtools`;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "#devtools",
      title: label,
      "aria-label": label,
      className: `asrouter-toggle ${isCollapsed ? "collapsed" : "expanded"}`,
      onClick: this.renderAdmin ? this.onCollapseToggle : null
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "icon icon-devtools"
    })), renderAdmin ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ASRouterAdminInner, _extends({}, props, {
      collapsed: this.state.collapsed
    })) : null);
  }

}

const _ASRouterAdmin = props => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SimpleHashRouter__WEBPACK_IMPORTED_MODULE_4__["SimpleHashRouter"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(CollapseToggle, props));

const ASRouterAdmin = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(state => ({
  Sections: state.Sections,
  DiscoveryStream: state.DiscoveryStream,
  Personalization: state.Personalization,
  Prefs: state.Prefs
}))(_ASRouterAdmin);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ASRouterUtils", function() { return ASRouterUtils; });
/* harmony import */ var common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6);
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const ASRouterUtils = {
  addListener(listener) {
    if (global.ASRouterAddParentListener) {
      global.ASRouterAddParentListener(listener);
    }
  },

  removeListener(listener) {
    if (global.ASRouterRemoveParentListener) {
      global.ASRouterRemoveParentListener(listener);
    }
  },

  sendMessage(action) {
    if (global.ASRouterMessage) {
      return global.ASRouterMessage(action);
    }

    throw new Error(`Unexpected call:\n${JSON.stringify(action, null, 3)}`);
  },

  blockById(id, options) {
    return ASRouterUtils.sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].BLOCK_MESSAGE_BY_ID,
      data: {
        id,
        ...options
      }
    });
  },

  modifyMessageJson(content) {
    return ASRouterUtils.sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].MODIFY_MESSAGE_JSON,
      data: {
        content
      }
    });
  },

  executeAction(button_action) {
    return ASRouterUtils.sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].USER_ACTION,
      data: button_action
    });
  },

  unblockById(id) {
    return ASRouterUtils.sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].UNBLOCK_MESSAGE_BY_ID,
      data: {
        id
      }
    });
  },

  blockBundle(bundle) {
    return ASRouterUtils.sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].BLOCK_BUNDLE,
      data: {
        bundle
      }
    });
  },

  unblockBundle(bundle) {
    return ASRouterUtils.sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].UNBLOCK_BUNDLE,
      data: {
        bundle
      }
    });
  },

  overrideMessage(id) {
    return ASRouterUtils.sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].OVERRIDE_MESSAGE,
      data: {
        id
      }
    });
  },

  sendTelemetry(ping) {
    return ASRouterUtils.sendMessage(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__["actionCreators"].ASRouterUserEvent(ping));
  },

  getPreviewEndpoint() {
    if (global.document && global.document.location && global.document.location.href.includes("endpoint")) {
      const params = new URLSearchParams(global.document.location.href.slice(global.document.location.href.indexOf("endpoint")));

      try {
        const endpoint = new URL(params.get("endpoint"));
        return {
          url: endpoint.href,
          snippetId: params.get("snippetId"),
          theme: this.getPreviewTheme(),
          dir: this.getPreviewDir()
        };
      } catch (e) {}
    }

    return null;
  },

  getPreviewTheme() {
    return new URLSearchParams(global.document.location.href.slice(global.document.location.href.indexOf("theme"))).get("theme");
  },

  getPreviewDir() {
    return new URLSearchParams(global.document.location.href.slice(global.document.location.href.indexOf("dir"))).get("dir");
  }

};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MESSAGE_TYPE_LIST", function() { return MESSAGE_TYPE_LIST; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MESSAGE_TYPE_HASH", function() { return MESSAGE_TYPE_HASH; });
/* vim: set ts=2 sw=2 sts=2 et tw=80: */

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */


const MESSAGE_TYPE_LIST = ["BLOCK_MESSAGE_BY_ID", "USER_ACTION", "IMPRESSION", "TRIGGER", "NEWTAB_MESSAGE_REQUEST", // PB is Private Browsing
"PBNEWTAB_MESSAGE_REQUEST", "DOORHANGER_TELEMETRY", "TOOLBAR_BADGE_TELEMETRY", "TOOLBAR_PANEL_TELEMETRY", "MOMENTS_PAGE_TELEMETRY", "INFOBAR_TELEMETRY", "SPOTLIGHT_TELEMETRY", "AS_ROUTER_TELEMETRY_USER_EVENT", // Admin types
"ADMIN_CONNECT_STATE", "UNBLOCK_MESSAGE_BY_ID", "UNBLOCK_ALL", "BLOCK_BUNDLE", "UNBLOCK_BUNDLE", "DISABLE_PROVIDER", "ENABLE_PROVIDER", "EVALUATE_JEXL_EXPRESSION", "EXPIRE_QUERY_CACHE", "FORCE_ATTRIBUTION", "FORCE_WHATSNEW_PANEL", "CLOSE_WHATSNEW_PANEL", "OVERRIDE_MESSAGE", "MODIFY_MESSAGE_JSON", "RESET_PROVIDER_PREF", "SET_PROVIDER_USER_PREF", "RESET_GROUPS_STATE"];
const MESSAGE_TYPE_HASH = MESSAGE_TYPE_LIST.reduce((hash, value) => {
  hash[value] = value;
  return hash;
}, {});

/***/ }),
/* 7 */
/***/ (function(module, exports) {

module.exports = ReactRedux;

/***/ }),
/* 8 */
/***/ (function(module, exports) {

module.exports = React;

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SimpleHashRouter", function() { return SimpleHashRouter; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class SimpleHashRouter extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onHashChange = this.onHashChange.bind(this);
    this.state = {
      hash: global.location.hash
    };
  }

  onHashChange() {
    this.setState({
      hash: global.location.hash
    });
  }

  componentWillMount() {
    global.addEventListener("hashchange", this.onHashChange);
  }

  componentWillUnmount() {
    global.removeEventListener("hashchange", this.onHashChange);
  }

  render() {
    const [, ...routes] = this.state.hash.split("-");
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(this.props.children, {
      location: {
        hash: this.state.hash,
        routes
      }
    });
  }

}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ASRouterUISurface", function() { return ASRouterUISurface; });
/* harmony import */ var common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6);
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);
/* harmony import */ var _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5);
/* harmony import */ var _rich_text_strings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(63);
/* harmony import */ var _components_ImpressionsWrapper_ImpressionsWrapper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(11);
/* harmony import */ var fluent_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(61);
/* harmony import */ var content_src_lib_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(13);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(14);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _templates_template_manifest__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(62);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */










const TEMPLATES_BELOW_SEARCH = ["simple_below_search_snippet"]; // Note: nextProps/prevProps refer to props passed to <ImpressionsWrapper />, not <ASRouterUISurface />

function shouldSendImpressionOnUpdate(nextProps, prevProps) {
  return nextProps.message.id && (!prevProps.message || prevProps.message.id !== nextProps.message.id);
}

class ASRouterUISurface extends react__WEBPACK_IMPORTED_MODULE_7___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.sendClick = this.sendClick.bind(this);
    this.sendImpression = this.sendImpression.bind(this);
    this.sendUserActionTelemetry = this.sendUserActionTelemetry.bind(this);
    this.onUserAction = this.onUserAction.bind(this);
    this.fetchFlowParams = this.fetchFlowParams.bind(this);
    this.onBlockSelected = this.onBlockSelected.bind(this);
    this.onBlockById = this.onBlockById.bind(this);
    this.onDismiss = this.onDismiss.bind(this);
    this.onMessageFromParent = this.onMessageFromParent.bind(this);
    this.state = {
      message: {}
    };

    if (props.document) {
      this.footerPortal = props.document.getElementById("footer-asrouter-container");
    }
  }

  async fetchFlowParams(params = {}) {
    let result = {};
    const {
      fxaEndpoint
    } = this.props;

    if (!fxaEndpoint) {
      const err = "Tried to fetch flow params before fxaEndpoint pref was ready";
      console.error(err); // eslint-disable-line no-console
    }

    try {
      const urlObj = new URL(fxaEndpoint);
      urlObj.pathname = "metrics-flow";
      Object.keys(params).forEach(key => {
        urlObj.searchParams.append(key, params[key]);
      });
      const response = await fetch(urlObj.toString(), {
        credentials: "omit"
      });

      if (response.status === 200) {
        const {
          deviceId,
          flowId,
          flowBeginTime
        } = await response.json();
        result = {
          deviceId,
          flowId,
          flowBeginTime
        };
      } else {
        console.error("Non-200 response", response); // eslint-disable-line no-console
      }
    } catch (error) {
      console.error(error); // eslint-disable-line no-console
    }

    return result;
  }

  sendUserActionTelemetry(extraProps = {}) {
    const {
      message
    } = this.state;
    const eventType = `${message.provider}_user_event`;
    const source = extraProps.id;
    delete extraProps.id;
    _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].sendTelemetry({
      source,
      message_id: message.id,
      action: eventType,
      ...extraProps
    });
  }

  sendImpression(extraProps) {
    if (this.state.message.provider === "preview") {
      return Promise.resolve();
    }

    this.sendUserActionTelemetry({
      event: "IMPRESSION",
      ...extraProps
    });
    return _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].IMPRESSION,
      data: this.state.message
    });
  } // If link has a `metric` data attribute send it as part of the `event_context`
  // telemetry field which can have arbitrary values.
  // Used for router messages with links as part of the content.


  sendClick(event) {
    const {
      dataset
    } = event.target;
    const metric = {
      event_context: dataset.metric,
      // Used for the `source` of the event. Needed to differentiate
      // from other snippet or onboarding events that may occur.
      id: "NEWTAB_FOOTER_BAR_CONTENT"
    };
    const {
      entrypoint_name,
      entrypoint_value
    } = dataset; // Assign the snippet referral for the action

    const entrypoint = entrypoint_name ? new URLSearchParams([[entrypoint_name, entrypoint_value]]).toString() : entrypoint_value;
    const action = {
      type: dataset.action,
      data: {
        args: dataset.args,
        ...(entrypoint && {
          entrypoint
        })
      }
    };

    if (action.type) {
      _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].executeAction(action);
    }

    if (!this.state.message.content.do_not_autoblock && !dataset.do_not_autoblock) {
      this.onBlockById(this.state.message.id);
    }

    if (this.state.message.provider !== "preview") {
      this.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        ...metric
      });
    }
  }

  onBlockSelected(options) {
    return this.onBlockById(this.state.message.id, { ...options,
      campaign: this.state.message.campaign
    });
  }

  onBlockById(id, options) {
    return _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].blockById(id, options).then(clearAll => {
      if (clearAll) {
        this.setState({
          message: {}
        });
      }
    });
  }

  onDismiss() {
    this.clearMessage(this.state.message.id);
  } // Blocking a snippet by id blocks the entire campaign
  // so when clearing we use the two values interchangeably


  clearMessage(idOrCampaign) {
    if (idOrCampaign === this.state.message.id || idOrCampaign === this.state.message.campaign) {
      this.setState({
        message: {}
      });
    }
  }

  clearProvider(id) {
    if (this.state.message.provider === id) {
      this.setState({
        message: {}
      });
    }
  }

  onMessageFromParent({
    type,
    data
  }) {
    // These only exists due to onPrefChange events in ASRouter
    switch (type) {
      case "ClearMessages":
        {
          data.forEach(id => this.clearMessage(id));
          break;
        }

      case "ClearProviders":
        {
          data.forEach(id => this.clearProvider(id));
          break;
        }

      case "EnterSnippetsPreviewMode":
        {
          this.props.dispatch({
            type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__["actionTypes"].SNIPPETS_PREVIEW_MODE
          });
          break;
        }
    }
  }

  requestMessage(endpoint) {
    _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].sendMessage({
      type: "NEWTAB_MESSAGE_REQUEST",
      data: {
        endpoint
      }
    }).then(state => this.setState(state));
  }

  componentWillMount() {
    const endpoint = _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].getPreviewEndpoint();

    if (endpoint && endpoint.theme === "dark") {
      global.window.dispatchEvent(new CustomEvent("LightweightTheme:Set", {
        detail: {
          data: content_src_lib_constants__WEBPACK_IMPORTED_MODULE_6__["NEWTAB_DARK_THEME"]
        }
      }));
    }

    if (endpoint && endpoint.dir === "rtl") {
      //Set `dir = rtl` on the HTML
      this.props.document.dir = "rtl";
    }

    _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].addListener(this.onMessageFromParent);
    this.requestMessage(endpoint);
  }

  componentWillUnmount() {
    _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].removeListener(this.onMessageFromParent);
  }

  componentDidUpdate(prevProps, prevState) {
    if (prevProps.adminContent && JSON.stringify(prevProps.adminContent) !== JSON.stringify(this.props.adminContent)) {
      this.updateContent();
    }

    if (prevState.message.id !== this.state.message.id) {
      const main = global.window.document.querySelector("main");

      if (main) {
        if (this.state.message.id) {
          main.classList.add("has-snippet");
        } else {
          main.classList.remove("has-snippet");
        }
      }
    }
  }

  updateContent() {
    this.setState({ ...this.props.adminContent
    });
  }

  async getMonitorUrl({
    url,
    flowRequestParams = {}
  }) {
    const flowValues = await this.fetchFlowParams(flowRequestParams); // Note that flowParams are actually added dynamically on the page

    const urlObj = new URL(url);
    ["deviceId", "flowId", "flowBeginTime"].forEach(key => {
      if (key in flowValues) {
        urlObj.searchParams.append(key, flowValues[key]);
      }
    });
    return urlObj.toString();
  }

  async onUserAction(action) {
    switch (action.type) {
      // This needs to be handled locally because its
      case "ENABLE_FIREFOX_MONITOR":
        const url = await this.getMonitorUrl(action.data.args);
        _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].executeAction({
          type: "OPEN_URL",
          data: {
            args: url
          }
        });
        break;

      default:
        _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].executeAction(action);
    }
  }

  renderSnippets() {
    const {
      message
    } = this.state;

    if (!_templates_template_manifest__WEBPACK_IMPORTED_MODULE_9__["SnippetsTemplates"][message.template]) {
      return null;
    }

    const SnippetComponent = _templates_template_manifest__WEBPACK_IMPORTED_MODULE_9__["SnippetsTemplates"][message.template];
    const {
      content
    } = message;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_ImpressionsWrapper_ImpressionsWrapper__WEBPACK_IMPORTED_MODULE_4__["ImpressionsWrapper"], {
      id: "NEWTAB_FOOTER_BAR",
      message: this.state.message,
      sendImpression: this.sendImpression,
      shouldSendImpressionOnUpdate: shouldSendImpressionOnUpdate // This helps with testing
      ,
      document: this.props.document
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(fluent_react__WEBPACK_IMPORTED_MODULE_5__["LocalizationProvider"], {
      bundles: Object(_rich_text_strings__WEBPACK_IMPORTED_MODULE_3__["generateBundles"])(content)
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(SnippetComponent, _extends({}, this.state.message, {
      UISurface: "NEWTAB_FOOTER_BAR",
      onBlock: this.onBlockSelected,
      onDismiss: this.onDismiss,
      onAction: this.onUserAction,
      sendClick: this.sendClick,
      sendUserActionTelemetry: this.sendUserActionTelemetry
    }))));
  }

  renderPreviewBanner() {
    if (this.state.message.provider !== "preview") {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
      className: "snippets-preview-banner"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", {
      className: "icon icon-small-spacer icon-info"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", null, "Preview Purposes Only"));
  }

  render() {
    const {
      message
    } = this.state;

    if (!message.id) {
      return null;
    }

    const shouldRenderBelowSearch = TEMPLATES_BELOW_SEARCH.includes(message.template);
    return shouldRenderBelowSearch ?
    /*#__PURE__*/
    // Render special below search snippets in place;
    react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
      className: "below-search-snippet-wrapper"
    }, this.renderSnippets()) :
    /*#__PURE__*/
    // For regular snippets etc. we should render everything in our footer
    // container.
    react_dom__WEBPACK_IMPORTED_MODULE_8___default.a.createPortal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment, null, this.renderPreviewBanner(), this.renderSnippets()), this.footerPortal);
  }

}
ASRouterUISurface.defaultProps = {
  document: global.document
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VISIBLE", function() { return VISIBLE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VISIBILITY_CHANGE_EVENT", function() { return VISIBILITY_CHANGE_EVENT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImpressionsWrapper", function() { return ImpressionsWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange";
/**
 * Component wrapper used to send telemetry pings on every impression.
 */

class ImpressionsWrapper extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  // This sends an event when a user sees a set of new content. If content
  // changes while the page is hidden (i.e. preloaded or on a hidden tab),
  // only send the event if the page becomes visible again.
  sendImpressionOrAddListener() {
    if (this.props.document.visibilityState === VISIBLE) {
      this.props.sendImpression({
        id: this.props.id
      });
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      } // When the page becomes visible, send the impression stats ping if the section isn't collapsed.


      this._onVisibilityChange = () => {
        if (this.props.document.visibilityState === VISIBLE) {
          this.props.sendImpression({
            id: this.props.id
          });
          this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };

      this.props.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  componentWillUnmount() {
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  componentDidMount() {
    if (this.props.sendOnMount) {
      this.sendImpressionOrAddListener();
    }
  }

  componentDidUpdate(prevProps) {
    if (this.props.shouldSendImpressionOnUpdate(this.props, prevProps)) {
      this.sendImpressionOrAddListener();
    }
  }

  render() {
    return this.props.children;
  }

}
ImpressionsWrapper.defaultProps = {
  document: global.document,
  sendOnMount: true
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 12 */
/***/ (function(module, exports) {

module.exports = PropTypes;

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IS_NEWTAB", function() { return IS_NEWTAB; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NEWTAB_DARK_THEME", function() { return NEWTAB_DARK_THEME; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
const IS_NEWTAB = global.document && global.document.documentURI === "about:newtab";
const NEWTAB_DARK_THEME = {
  ntp_background: {
    r: 42,
    g: 42,
    b: 46,
    a: 1
  },
  ntp_card_background: {
    r: 66,
    g: 65,
    b: 77,
    a: 1
  },
  ntp_text: {
    r: 249,
    g: 249,
    b: 250,
    a: 1
  },
  sidebar: {
    r: 56,
    g: 56,
    b: 61,
    a: 1
  },
  sidebar_text: {
    r: 249,
    g: 249,
    b: 250,
    a: 1
  }
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 14 */
/***/ (function(module, exports) {

module.exports = ReactDOM;

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_ConfirmDialog", function() { return _ConfirmDialog; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmDialog", function() { return ConfirmDialog; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



/**
 * ConfirmDialog component.
 * One primary action button, one cancel button.
 *
 * Content displayed is controlled by `data` prop the component receives.
 * Example:
 * data: {
 *   // Any sort of data needed to be passed around by actions.
 *   payload: site.url,
 *   // Primary button AlsoToMain action.
 *   action: "DELETE_HISTORY_URL",
 *   // Primary button USerEvent action.
 *   userEvent: "DELETE",
 *   // Array of locale ids to display.
 *   message_body: ["confirm_history_delete_p1", "confirm_history_delete_notice_p2"],
 *   // Text for primary button.
 *   confirm_button_string_id: "menu_action_delete"
 * },
 */

class _ConfirmDialog extends react__WEBPACK_IMPORTED_MODULE_2___default.a.PureComponent {
  constructor(props) {
    super(props);
    this._handleCancelBtn = this._handleCancelBtn.bind(this);
    this._handleConfirmBtn = this._handleConfirmBtn.bind(this);
  }

  _handleCancelBtn() {
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DIALOG_CANCEL
    });
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DIALOG_CANCEL,
      source: this.props.data.eventSource
    }));
  }

  _handleConfirmBtn() {
    this.props.data.onConfirm.forEach(this.props.dispatch);
  }

  _renderModalMessage() {
    const message_body = this.props.data.body_string_id;

    if (!message_body) {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, message_body.map(msg => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
      key: msg,
      "data-l10n-id": msg
    })));
  }

  render() {
    if (!this.props.visible) {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "confirmation-dialog"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "modal-overlay",
      onClick: this._handleCancelBtn,
      role: "presentation"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "modal"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
      className: "modal-message"
    }, this.props.data.icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: `icon icon-spacer icon-${this.props.data.icon}`
    }), this._renderModalMessage()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
      className: "actions"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
      onClick: this._handleCancelBtn,
      "data-l10n-id": this.props.data.cancel_button_string_id
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
      className: "done",
      onClick: this._handleConfirmBtn,
      "data-l10n-id": this.props.data.confirm_button_string_id
    }))));
  }

}
const ConfirmDialog = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(state => state.Dialog)(_ConfirmDialog);

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAllowedCSS", function() { return isAllowedCSS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_DiscoveryStreamBase", function() { return _DiscoveryStreamBase; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiscoveryStreamBase", function() { return DiscoveryStreamBase; });
/* harmony import */ var content_src_components_DiscoveryStreamComponents_CardGrid_CardGrid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(64);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_CollectionCardGrid_CollectionCardGrid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(27);
/* harmony import */ var content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(29);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSMessage_DSMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(32);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSPrivacyModal_DSPrivacyModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(33);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSSignup_DSSignup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(35);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSTextPromo_DSTextPromo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(36);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_Highlights_Highlights__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(37);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_HorizontalRule_HorizontalRule__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(51);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_Navigation_Navigation__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(52);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_PrivacyLink_PrivacyLink__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(53);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_SectionTitle_SectionTitle__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(54);
/* harmony import */ var content_src_lib_selectLayoutRender__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(55);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(56);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
















const ALLOWED_CSS_URL_PREFIXES = ["chrome://", "resource://", "https://img-getpocket.cdn.mozilla.net/"];
const DUMMY_CSS_SELECTOR = "DUMMY#CSS.SELECTOR";
/**
 * Validate a CSS declaration. The values are assumed to be normalized by CSSOM.
 */

function isAllowedCSS(property, value) {
  // Bug 1454823: INTERNAL properties, e.g., -moz-context-properties, are
  // exposed but their values aren't resulting in getting nothing. Fortunately,
  // we don't care about validating the values of the current set of properties.
  if (value === undefined) {
    return true;
  } // Make sure all urls are of the allowed protocols/prefixes


  const urls = value.match(/url\("[^"]+"\)/g);
  return !urls || urls.every(url => ALLOWED_CSS_URL_PREFIXES.some(prefix => url.slice(5).startsWith(prefix)));
}
class _DiscoveryStreamBase extends react__WEBPACK_IMPORTED_MODULE_12___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onStyleMount = this.onStyleMount.bind(this);
  }

  onStyleMount(style) {
    // Unmounting style gets rid of old styles, so nothing else to do
    if (!style) {
      return;
    }

    const {
      sheet
    } = style;
    const styles = JSON.parse(style.dataset.styles);
    styles.forEach((row, rowIndex) => {
      row.forEach((component, componentIndex) => {
        // Nothing to do without optional styles overrides
        if (!component) {
          return;
        }

        Object.entries(component).forEach(([selectors, declarations]) => {
          // Start with a dummy rule to validate declarations and selectors
          sheet.insertRule(`${DUMMY_CSS_SELECTOR} {}`);
          const [rule] = sheet.cssRules; // Validate declarations and remove any offenders. CSSOM silently
          // discards invalid entries, so here we apply extra restrictions.

          rule.style = declarations;
          [...rule.style].forEach(property => {
            const value = rule.style[property];

            if (!isAllowedCSS(property, value)) {
              console.error(`Bad CSS declaration ${property}: ${value}`); // eslint-disable-line no-console

              rule.style.removeProperty(property);
            }
          }); // Set the actual desired selectors scoped to the component

          const prefix = `.ds-layout > .ds-column:nth-child(${rowIndex + 1}) .ds-column-grid > :nth-child(${componentIndex + 1})`; // NB: Splitting on "," doesn't work with strings with commas, but
          // we're okay with not supporting those selectors

          rule.selectorText = selectors.split(",").map(selector => prefix + ( // Assume :pseudo-classes are for component instead of descendant
          selector[0] === ":" ? "" : " ") + selector).join(","); // CSSOM silently ignores bad selectors, so we'll be noisy instead

          if (rule.selectorText === DUMMY_CSS_SELECTOR) {
            console.error(`Bad CSS selector ${selectors}`); // eslint-disable-line no-console
          }
        });
      });
    });
  }

  renderComponent(component, embedWidth) {
    const ENGAGEMENT_LABEL_ENABLED = this.props.Prefs.values[`discoverystream.engagementLabelEnabled`];

    switch (component.type) {
      case "Highlights":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_Highlights_Highlights__WEBPACK_IMPORTED_MODULE_8__["Highlights"], null);

      case "TopSites":
        let promoAlignment;

        if (component.spocs && component.spocs.positions && component.spocs.positions.length) {
          promoAlignment = component.spocs.positions[0].index === 0 ? "left" : "right";
        }

        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_15__["TopSites"], {
          header: component.header,
          data: component.data,
          promoAlignment: promoAlignment
        });

      case "TextPromo":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSTextPromo_DSTextPromo__WEBPACK_IMPORTED_MODULE_7__["DSTextPromo"], {
          dispatch: this.props.dispatch,
          type: component.type,
          data: component.data
        });

      case "Signup":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSSignup_DSSignup__WEBPACK_IMPORTED_MODULE_6__["DSSignup"], {
          dispatch: this.props.dispatch,
          type: component.type,
          data: component.data
        });

      case "Message":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSMessage_DSMessage__WEBPACK_IMPORTED_MODULE_4__["DSMessage"], {
          title: component.header && component.header.title,
          subtitle: component.header && component.header.subtitle,
          link_text: component.header && component.header.link_text,
          link_url: component.header && component.header.link_url,
          icon: component.header && component.header.icon,
          essentialReadsHeader: component.essentialReadsHeader,
          editorsPicksHeader: component.editorsPicksHeader
        });

      case "SectionTitle":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_SectionTitle_SectionTitle__WEBPACK_IMPORTED_MODULE_13__["SectionTitle"], {
          header: component.header
        });

      case "Navigation":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_Navigation_Navigation__WEBPACK_IMPORTED_MODULE_10__["Navigation"], {
          dispatch: this.props.dispatch,
          links: component.properties.links,
          extraLinks: component.properties.extraLinks,
          alignment: component.properties.alignment,
          display_variant: component.properties.display_variant,
          explore_topics: component.properties.explore_topics,
          header: component.header,
          locale: this.props.App.locale,
          newFooterSection: component.newFooterSection,
          privacyNoticeURL: component.properties.privacyNoticeURL
        });

      case "CollectionCardGrid":
        const {
          DiscoveryStream
        } = this.props;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_CollectionCardGrid_CollectionCardGrid__WEBPACK_IMPORTED_MODULE_1__["CollectionCardGrid"], {
          data: component.data,
          feed: component.feed,
          spocs: DiscoveryStream.spocs,
          placement: component.placement,
          border: component.properties.border,
          type: component.type,
          items: component.properties.items,
          cta_variant: component.cta_variant,
          display_engagement_labels: ENGAGEMENT_LABEL_ENABLED,
          dismissible: this.props.DiscoveryStream.isCollectionDismissible,
          dispatch: this.props.dispatch
        });

      case "CardGrid":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_CardGrid_CardGrid__WEBPACK_IMPORTED_MODULE_0__["CardGrid"], {
          enable_video_playheads: !!component.properties.enable_video_playheads,
          title: component.header && component.header.title,
          display_variant: component.properties.display_variant,
          data: component.data,
          feed: component.feed,
          border: component.properties.border,
          type: component.type,
          dispatch: this.props.dispatch,
          items: component.properties.items,
          hideCardBackground: component.properties.hideCardBackground,
          fourCardLayout: component.properties.fourCardLayout,
          hideDescriptions: component.properties.hideDescriptions,
          compactGrid: component.properties.compactGrid,
          compactImages: component.properties.compactImages,
          imageGradient: component.properties.imageGradient,
          newSponsoredLabel: component.properties.newSponsoredLabel,
          titleLines: component.properties.titleLines,
          descLines: component.properties.descLines,
          essentialReadsHeader: component.properties.essentialReadsHeader,
          editorsPicksHeader: component.properties.editorsPicksHeader,
          readTime: component.properties.readTime,
          loadMore: component.loadMore,
          lastCardMessageEnabled: component.lastCardMessageEnabled,
          saveToPocketCard: component.saveToPocketCard,
          cta_variant: component.cta_variant,
          display_engagement_labels: ENGAGEMENT_LABEL_ENABLED
        });

      case "HorizontalRule":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_HorizontalRule_HorizontalRule__WEBPACK_IMPORTED_MODULE_9__["HorizontalRule"], null);

      case "PrivacyLink":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_PrivacyLink_PrivacyLink__WEBPACK_IMPORTED_MODULE_11__["PrivacyLink"], {
          properties: component.properties
        });

      default:
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div", null, component.type);
    }
  }

  renderStyles(styles) {
    // Use json string as both the key and styles to render so React knows when
    // to unmount and mount a new instance for new styles.
    const json = JSON.stringify(styles);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("style", {
      key: json,
      "data-styles": json,
      ref: this.onStyleMount
    });
  }

  render() {
    const {
      locale
    } = this.props; // Select layout render data by adding spocs and position to recommendations

    const {
      layoutRender
    } = Object(content_src_lib_selectLayoutRender__WEBPACK_IMPORTED_MODULE_14__["selectLayoutRender"])({
      state: this.props.DiscoveryStream,
      prefs: this.props.Prefs.values,
      locale
    });
    const {
      config
    } = this.props.DiscoveryStream; // Allow rendering without extracting special components

    if (!config.collapsible) {
      return this.renderLayout(layoutRender);
    } // Find the first component of a type and remove it from layout


    const extractComponent = type => {
      for (const [rowIndex, row] of Object.entries(layoutRender)) {
        for (const [index, component] of Object.entries(row.components)) {
          if (component.type === type) {
            // Remove the row if it was the only component or the single item
            if (row.components.length === 1) {
              layoutRender.splice(rowIndex, 1);
            } else {
              row.components.splice(index, 1);
            }

            return component;
          }
        }
      }

      return null;
    }; // Get "topstories" Section state for default values


    const topStories = this.props.Sections.find(s => s.id === "topstories");

    if (!topStories) {
      return null;
    } // Extract TopSites to render before the rest and Message to use for header


    const topSites = extractComponent("TopSites");
    const sponsoredCollection = extractComponent("CollectionCardGrid");
    const message = extractComponent("Message") || {
      header: {
        link_text: topStories.learnMore.link.message,
        link_url: topStories.learnMore.link.href,
        title: topStories.title
      }
    };
    const privacyLinkComponent = extractComponent("PrivacyLink");
    let learnMore = {
      link: {
        href: message.header.link_url,
        message: message.header.link_text
      }
    };
    let sectionTitle = message.header.title;
    let subTitle = ""; // If we're in one of these experiments, override the default message.
    // For now this is English only.

    if (message.essentialReadsHeader || message.editorsPicksHeader) {
      learnMore = null;
      subTitle = "Recommended By Pocket";

      if (message.essentialReadsHeader) {
        sectionTitle = "Today’s Essential Reads";
      } else if (message.editorsPicksHeader) {
        sectionTitle = "Editor’s Picks";
      }
    } // Render a DS-style TopSites then the rest if any in a collapsible section


    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_12___default.a.Fragment, null, this.props.DiscoveryStream.isPrivacyInfoModalVisible && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSPrivacyModal_DSPrivacyModal__WEBPACK_IMPORTED_MODULE_5__["DSPrivacyModal"], {
      dispatch: this.props.dispatch
    }), topSites && this.renderLayout([{
      width: 12,
      components: [topSites]
    }]), sponsoredCollection && this.renderLayout([{
      width: 12,
      components: [sponsoredCollection]
    }]), !!layoutRender.length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__["CollapsibleSection"], {
      className: "ds-layout",
      collapsed: topStories.pref.collapsed,
      dispatch: this.props.dispatch,
      id: topStories.id,
      isFixed: true,
      learnMore: learnMore,
      privacyNoticeURL: topStories.privacyNoticeURL,
      showPrefName: topStories.pref.feed,
      title: sectionTitle,
      subTitle: subTitle,
      eventSource: "CARDGRID"
    }, this.renderLayout(layoutRender)), this.renderLayout([{
      width: 12,
      components: [{
        type: "Highlights"
      }]
    }]), privacyLinkComponent && this.renderLayout([{
      width: 12,
      components: [privacyLinkComponent]
    }]));
  }

  renderLayout(layoutRender) {
    const styles = [];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div", {
      className: "discovery-stream ds-layout"
    }, layoutRender.map((row, rowIndex) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div", {
      key: `row-${rowIndex}`,
      className: `ds-column ds-column-${row.width}`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div", {
      className: "ds-column-grid"
    }, row.components.map((component, componentIndex) => {
      if (!component) {
        return null;
      }

      styles[rowIndex] = [...(styles[rowIndex] || []), component.styles];
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div", {
        key: `component-${componentIndex}`
      }, this.renderComponent(component, row.width));
    })))), this.renderStyles(styles));
  }

}
const DiscoveryStreamBase = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(state => ({
  DiscoveryStream: state.DiscoveryStream,
  Prefs: state.Prefs,
  Sections: state.Sections,
  document: global.document,
  App: state.App
}))(_DiscoveryStreamBase);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSImage", function() { return DSImage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class DSImage extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onOptimizedImageError = this.onOptimizedImageError.bind(this);
    this.onNonOptimizedImageError = this.onNonOptimizedImageError.bind(this);
    this.onLoad = this.onLoad.bind(this);
    this.state = {
      isLoaded: false,
      optimizedImageFailed: false,
      useTransition: false
    };
  }

  onIdleCallback() {
    if (!this.state.isLoaded) {
      this.setState({
        useTransition: true
      });
    }
  }

  reformatImageURL(url, width, height) {
    // Change the image URL to request a size tailored for the parent container width
    // Also: force JPEG, quality 60, no upscaling, no EXIF data
    // Uses Thumbor: https://thumbor.readthedocs.io/en/latest/usage.html
    return `https://img-getpocket.cdn.mozilla.net/${width}x${height}/filters:format(jpeg):quality(60):no_upscale():strip_exif()/${encodeURIComponent(url)}`;
  }

  componentDidMount() {
    this.idleCallbackId = this.props.windowObj.requestIdleCallback(this.onIdleCallback.bind(this));
  }

  componentWillUnmount() {
    if (this.idleCallbackId) {
      this.props.windowObj.cancelIdleCallback(this.idleCallbackId);
    }
  }

  render() {
    let classNames = `ds-image
      ${this.props.extraClassNames ? ` ${this.props.extraClassNames}` : ``}
      ${this.state && this.state.useTransition ? ` use-transition` : ``}
      ${this.state && this.state.isLoaded ? ` loaded` : ``}
    `;
    let img;

    if (this.state) {
      if (this.props.optimize && this.props.rawSource && !this.state.optimizedImageFailed) {
        let baseSource = this.props.rawSource;
        let sizeRules = [];
        let srcSetRules = [];

        for (let rule of this.props.sizes) {
          let {
            mediaMatcher,
            width,
            height
          } = rule;
          let sizeRule = `${mediaMatcher} ${width}px`;
          sizeRules.push(sizeRule);
          let srcSetRule = `${this.reformatImageURL(baseSource, width, height)} ${width}w`;
          let srcSetRule2x = `${this.reformatImageURL(baseSource, width * 2, height * 2)} ${width * 2}w`;
          srcSetRules.push(srcSetRule);
          srcSetRules.push(srcSetRule2x);
        }

        if (this.props.sizes.length) {
          // We have to supply a fallback in the very unlikely event that none of
          // the media queries match. The smallest dimension was chosen arbitrarily.
          sizeRules.push(`${this.props.sizes[this.props.sizes.length - 1].width}px`);
        }

        img = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
          loading: "lazy",
          alt: this.props.alt_text,
          crossOrigin: "anonymous",
          onLoad: this.onLoad,
          onError: this.onOptimizedImageError,
          sizes: sizeRules.join(","),
          src: baseSource,
          srcSet: srcSetRules.join(",")
        });
      } else if (!this.state.nonOptimizedImageFailed) {
        img = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
          loading: "lazy",
          alt: this.props.alt_text,
          crossOrigin: "anonymous",
          onLoad: this.onLoad,
          onError: this.onNonOptimizedImageError,
          src: this.props.source
        });
      } else {
        // Remove the img element if both sources fail. Render a placeholder instead.
        img = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "broken-image"
        });
      }
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("picture", {
      className: classNames
    }, img);
  }

  onOptimizedImageError() {
    // This will trigger a re-render and the unoptimized 450px image will be used as a fallback
    this.setState({
      optimizedImageFailed: true
    });
  }

  onNonOptimizedImageError() {
    this.setState({
      nonOptimizedImageFailed: true
    });
  }

  onLoad() {
    this.setState({
      isLoaded: true
    });
  }

}
DSImage.defaultProps = {
  source: null,
  // The current source style from Pocket API (always 450px)
  rawSource: null,
  // Unadulterated image URL to filter through Thumbor
  extraClassNames: null,
  // Additional classnames to append to component
  optimize: true,
  // Measure parent container to request exact sizes
  alt_text: null,
  windowObj: window,
  // Added to support unit tests
  sizes: []
};

/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_LinkMenu", function() { return _LinkMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LinkMenu", function() { return LinkMenu; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var content_src_components_ContextMenu_ContextMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(19);
/* harmony import */ var content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(20);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const DEFAULT_SITE_MENU_OPTIONS = ["CheckPinTopSite", "EditTopSite", "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl"];
class _LinkMenu extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  getOptions() {
    const {
      props
    } = this;
    const {
      site,
      index,
      source,
      isPrivateBrowsingEnabled,
      siteInfo,
      platform
    } = props; // Handle special case of default site

    const propOptions = site.isDefault && !site.searchTopSite && !site.sponsored_position ? DEFAULT_SITE_MENU_OPTIONS : props.options;
    const options = propOptions.map(o => content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_3__["LinkMenuOptions"][o](site, index, source, isPrivateBrowsingEnabled, siteInfo, platform)).map(option => {
      const {
        action,
        impression,
        id,
        type,
        userEvent
      } = option;

      if (!type && id) {
        option.onClick = (event = {}) => {
          const {
            ctrlKey,
            metaKey,
            shiftKey,
            button
          } = event; // Only send along event info if there's something non-default to send

          if (ctrlKey || metaKey || shiftKey || button === 1) {
            action.data = Object.assign({
              event: {
                ctrlKey,
                metaKey,
                shiftKey,
                button
              }
            }, action.data);
          }

          props.dispatch(action);

          if (userEvent) {
            const userEventData = Object.assign({
              event: userEvent,
              source,
              action_position: index
            }, siteInfo);
            props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent(userEventData));
          }

          if (impression && props.shouldSendImpressionStats) {
            props.dispatch(impression);
          }
        };
      }

      return option;
    }); // This is for accessibility to support making each item tabbable.
    // We want to know which item is the first and which item
    // is the last, so we can close the context menu accordingly.

    options[0].first = true;
    options[options.length - 1].last = true;
    return options;
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_ContextMenu_ContextMenu__WEBPACK_IMPORTED_MODULE_2__["ContextMenu"], {
      onUpdate: this.props.onUpdate,
      onShow: this.props.onShow,
      options: this.getOptions(),
      keyboardAccess: this.props.keyboardAccess
    });
  }

}

const getState = state => ({
  isPrivateBrowsingEnabled: state.Prefs.values.isPrivateBrowsingEnabled,
  platform: state.Prefs.values.platform
});

const LinkMenu = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(getState)(_LinkMenu);

/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContextMenu", function() { return ContextMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_ContextMenuItem", function() { return _ContextMenuItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContextMenuItem", function() { return ContextMenuItem; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class ContextMenu extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.hideContext = this.hideContext.bind(this);
    this.onShow = this.onShow.bind(this);
    this.onClick = this.onClick.bind(this);
  }

  hideContext() {
    this.props.onUpdate(false);
  }

  onShow() {
    if (this.props.onShow) {
      this.props.onShow();
    }
  }

  componentDidMount() {
    this.onShow();
    setTimeout(() => {
      global.addEventListener("click", this.hideContext);
    }, 0);
  }

  componentWillUnmount() {
    global.removeEventListener("click", this.hideContext);
  }

  onClick(event) {
    // Eat all clicks on the context menu so they don't bubble up to window.
    // This prevents the context menu from closing when clicking disabled items
    // or the separators.
    event.stopPropagation();
  }

  render() {
    // Disabling focus on the menu span allows the first tab to focus on the first menu item instead of the wrapper.
    return (
      /*#__PURE__*/
      // eslint-disable-next-line jsx-a11y/interactive-supports-focus
      react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "context-menu"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        role: "menu",
        onClick: this.onClick,
        onKeyDown: this.onClick,
        className: "context-menu-list"
      }, this.props.options.map((option, i) => option.type === "separator" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
        key: i,
        className: "separator",
        role: "separator"
      }) : option.type !== "empty" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ContextMenuItem, {
        key: i,
        option: option,
        hideContext: this.hideContext,
        keyboardAccess: this.props.keyboardAccess
      }))))
    );
  }

}
class _ContextMenuItem extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onClick = this.onClick.bind(this);
    this.onKeyDown = this.onKeyDown.bind(this);
    this.onKeyUp = this.onKeyUp.bind(this);
    this.focusFirst = this.focusFirst.bind(this);
  }

  onClick(event) {
    this.props.hideContext();
    this.props.option.onClick(event);
  } // Focus the first menu item if the menu was accessed via the keyboard.


  focusFirst(button) {
    if (this.props.keyboardAccess && button) {
      button.focus();
    }
  } // This selects the correct node based on the key pressed


  focusSibling(target, key) {
    const parent = target.parentNode;
    const closestSiblingSelector = key === "ArrowUp" ? "previousSibling" : "nextSibling";

    if (!parent[closestSiblingSelector]) {
      return;
    }

    if (parent[closestSiblingSelector].firstElementChild) {
      parent[closestSiblingSelector].firstElementChild.focus();
    } else {
      parent[closestSiblingSelector][closestSiblingSelector].firstElementChild.focus();
    }
  }

  onKeyDown(event) {
    const {
      option
    } = this.props;

    switch (event.key) {
      case "Tab":
        // tab goes down in context menu, shift + tab goes up in context menu
        // if we're on the last item, one more tab will close the context menu
        // similarly, if we're on the first item, one more shift + tab will close it
        if (event.shiftKey && option.first || !event.shiftKey && option.last) {
          this.props.hideContext();
        }

        break;

      case "ArrowUp":
      case "ArrowDown":
        event.preventDefault();
        this.focusSibling(event.target, event.key);
        break;

      case "Enter":
      case " ":
        event.preventDefault();
        this.props.hideContext();
        option.onClick();
        break;

      case "Escape":
        this.props.hideContext();
        break;
    }
  } // Prevents the default behavior of spacebar
  // scrolling the page & auto-triggering buttons.


  onKeyUp(event) {
    if (event.key === " ") {
      event.preventDefault();
    }
  }

  render() {
    const {
      option
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      role: "presentation",
      className: "context-menu-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: option.disabled ? "disabled" : "",
      role: "menuitem",
      onClick: this.onClick,
      onKeyDown: this.onKeyDown,
      onKeyUp: this.onKeyUp,
      ref: option.first ? this.focusFirst : null
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      "data-l10n-id": option.string_id || option.id
    })));
  }

}
const ContextMenuItem = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(state => ({
  Prefs: state.Prefs
}))(_ContextMenuItem);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LinkMenuOptions", function() { return LinkMenuOptions; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const _OpenInPrivateWindow = site => ({
  id: "newtab-menu-open-new-private-window",
  icon: "new-window-private",
  action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
    type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_PRIVATE_WINDOW,
    data: {
      url: site.url,
      referrer: site.referrer
    }
  }),
  userEvent: "OPEN_PRIVATE_WINDOW"
});
/**
 * List of functions that return items that can be included as menu options in a
 * LinkMenu. All functions take the site as the first parameter, and optionally
 * the index of the site.
 */


const LinkMenuOptions = {
  Separator: () => ({
    type: "separator"
  }),
  EmptyItem: () => ({
    type: "empty"
  }),
  ShowPrivacyInfo: site => ({
    id: "newtab-menu-show-privacy-info",
    icon: "info",
    action: {
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SHOW_PRIVACY_INFO
    },
    userEvent: "SHOW_PRIVACY_INFO"
  }),
  AboutSponsored: site => ({
    id: "newtab-menu-show-privacy-info",
    icon: "info",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].ABOUT_SPONSORED_TOP_SITES
    }),
    userEvent: "TOPSITE_SPONSOR_INFO"
  }),
  RemoveBookmark: site => ({
    id: "newtab-menu-remove-bookmark",
    icon: "bookmark-added",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DELETE_BOOKMARK_BY_ID,
      data: site.bookmarkGuid
    }),
    userEvent: "BOOKMARK_DELETE"
  }),
  AddBookmark: site => ({
    id: "newtab-menu-bookmark",
    icon: "bookmark-hollow",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].BOOKMARK_URL,
      data: {
        url: site.url,
        title: site.title,
        type: site.type
      }
    }),
    userEvent: "BOOKMARK_ADD"
  }),
  OpenInNewWindow: site => ({
    id: "newtab-menu-open-new-window",
    icon: "new-window",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_NEW_WINDOW,
      data: {
        referrer: site.referrer,
        typedBonus: site.typedBonus,
        url: site.url
      }
    }),
    userEvent: "OPEN_NEW_WINDOW"
  }),
  // This blocks the url for regular stories,
  // but also sends a message to DiscoveryStream with flight_id.
  // If DiscoveryStream sees this message for a flight_id
  // it also blocks it on the flight_id.
  BlockUrl: (site, index, eventSource) => {
    return LinkMenuOptions.BlockUrls([site], index, eventSource);
  },
  // Same as BlockUrl, cept can work on an array of sites.
  BlockUrls: (tiles, pos, eventSource) => ({
    id: "newtab-menu-dismiss",
    icon: "dismiss",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].BLOCK_URL,
      data: tiles.map(site => ({
        url: site.original_url || site.open_url || site.url,
        // pocket_id is only for pocket stories being in highlights, and then dismissed.
        pocket_id: site.pocket_id,
        // used by PlacesFeed and TopSitesFeed for sponsored top sites blocking.
        isSponsoredTopSite: site.sponsored_position,
        ...(site.flight_id ? {
          flight_id: site.flight_id
        } : {})
      }))
    }),
    impression: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
      source: eventSource,
      block: 0,
      tiles: tiles.map((site, index) => ({
        id: site.guid,
        pos: pos + index,
        ...(site.shim && site.shim.delete ? {
          shim: site.shim.delete
        } : {})
      }))
    }),
    userEvent: "BLOCK"
  }),
  // This is an option for web extentions which will result in remove items from
  // memory and notify the web extenion, rather than using the built-in block list.
  WebExtDismiss: (site, index, eventSource) => ({
    id: "menu_action_webext_dismiss",
    string_id: "newtab-menu-dismiss",
    icon: "dismiss",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].WebExtEvent(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].WEBEXT_DISMISS, {
      source: eventSource,
      url: site.url,
      action_position: index
    })
  }),
  DeleteUrl: (site, index, eventSource, isEnabled, siteInfo) => ({
    id: "newtab-menu-delete-history",
    icon: "delete",
    action: {
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DIALOG_OPEN,
      data: {
        onConfirm: [common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
          type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DELETE_HISTORY_URL,
          data: {
            url: site.url,
            pocket_id: site.pocket_id,
            forceBlock: site.bookmarkGuid
          }
        }), common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent(Object.assign({
          event: "DELETE",
          source: eventSource,
          action_position: index
        }, siteInfo))],
        eventSource,
        body_string_id: ["newtab-confirm-delete-history-p1", "newtab-confirm-delete-history-p2"],
        confirm_button_string_id: "newtab-topsites-delete-history-button",
        cancel_button_string_id: "newtab-topsites-cancel-button",
        icon: "modal-delete"
      }
    },
    userEvent: "DIALOG_OPEN"
  }),
  ShowFile: site => ({
    id: "newtab-menu-show-file",
    icon: "search",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SHOW_DOWNLOAD_FILE,
      data: {
        url: site.url
      }
    })
  }),
  OpenFile: site => ({
    id: "newtab-menu-open-file",
    icon: "open-file",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_DOWNLOAD_FILE,
      data: {
        url: site.url
      }
    })
  }),
  CopyDownloadLink: site => ({
    id: "newtab-menu-copy-download-link",
    icon: "copy",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].COPY_DOWNLOAD_LINK,
      data: {
        url: site.url
      }
    })
  }),
  GoToDownloadPage: site => ({
    id: "newtab-menu-go-to-download-page",
    icon: "download",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_LINK,
      data: {
        url: site.referrer
      }
    }),
    disabled: !site.referrer
  }),
  RemoveDownload: site => ({
    id: "newtab-menu-remove-download",
    icon: "delete",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].REMOVE_DOWNLOAD_FILE,
      data: {
        url: site.url
      }
    })
  }),
  PinTopSite: (site, index) => ({
    id: "newtab-menu-pin",
    icon: "pin",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_PIN,
      data: {
        site,
        index
      }
    }),
    userEvent: "PIN"
  }),
  UnpinTopSite: site => ({
    id: "newtab-menu-unpin",
    icon: "unpin",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_UNPIN,
      data: {
        site: {
          url: site.url
        }
      }
    }),
    userEvent: "UNPIN"
  }),
  SaveToPocket: (site, index, eventSource = "CARDGRID") => ({
    id: "newtab-menu-save-to-pocket",
    icon: "pocket-save",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_TO_POCKET,
      data: {
        site: {
          url: site.url,
          title: site.title
        }
      }
    }),
    impression: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
      source: eventSource,
      pocket: 0,
      tiles: [{
        id: site.guid,
        pos: index,
        ...(site.shim && site.shim.save ? {
          shim: site.shim.save
        } : {})
      }]
    }),
    userEvent: "SAVE_TO_POCKET"
  }),
  DeleteFromPocket: site => ({
    id: "newtab-menu-delete-pocket",
    icon: "pocket-delete",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DELETE_FROM_POCKET,
      data: {
        pocket_id: site.pocket_id
      }
    }),
    userEvent: "DELETE_FROM_POCKET"
  }),
  ArchiveFromPocket: site => ({
    id: "newtab-menu-archive-pocket",
    icon: "pocket-archive",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].ARCHIVE_FROM_POCKET,
      data: {
        pocket_id: site.pocket_id
      }
    }),
    userEvent: "ARCHIVE_FROM_POCKET"
  }),
  EditTopSite: (site, index) => ({
    id: "newtab-menu-edit-topsites",
    icon: "edit",
    action: {
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_EDIT,
      data: {
        index
      }
    }
  }),
  CheckBookmark: site => site.bookmarkGuid ? LinkMenuOptions.RemoveBookmark(site) : LinkMenuOptions.AddBookmark(site),
  CheckPinTopSite: (site, index) => site.isPinned ? LinkMenuOptions.UnpinTopSite(site) : LinkMenuOptions.PinTopSite(site, index),
  CheckSavedToPocket: (site, index, source) => site.pocket_id ? LinkMenuOptions.DeleteFromPocket(site) : LinkMenuOptions.SaveToPocket(site, index, source),
  CheckBookmarkOrArchive: site => site.pocket_id ? LinkMenuOptions.ArchiveFromPocket(site) : LinkMenuOptions.CheckBookmark(site),
  CheckArchiveFromPocket: site => site.pocket_id ? LinkMenuOptions.ArchiveFromPocket(site) : LinkMenuOptions.EmptyItem(),
  CheckDeleteFromPocket: site => site.pocket_id ? LinkMenuOptions.DeleteFromPocket(site) : LinkMenuOptions.EmptyItem(),
  OpenInPrivateWindow: (site, index, eventSource, isEnabled) => isEnabled ? _OpenInPrivateWindow(site) : LinkMenuOptions.EmptyItem()
};

/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContextMenuButton", function() { return ContextMenuButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class ContextMenuButton extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      showContextMenu: false,
      contextMenuKeyboard: false
    };
    this.onClick = this.onClick.bind(this);
    this.onKeyDown = this.onKeyDown.bind(this);
    this.onUpdate = this.onUpdate.bind(this);
  }

  openContextMenu(isKeyBoard, event) {
    if (this.props.onUpdate) {
      this.props.onUpdate(true);
    }

    this.setState({
      showContextMenu: true,
      contextMenuKeyboard: isKeyBoard
    });
  }

  onClick(event) {
    event.preventDefault();
    this.openContextMenu(false, event);
  }

  onKeyDown(event) {
    if (event.key === "Enter" || event.key === " ") {
      event.preventDefault();
      this.openContextMenu(true, event);
    }
  }

  onUpdate(showContextMenu) {
    if (this.props.onUpdate) {
      this.props.onUpdate(showContextMenu);
    }

    this.setState({
      showContextMenu
    });
  }

  render() {
    const {
      tooltipArgs,
      tooltip,
      children,
      refFunction
    } = this.props;
    const {
      showContextMenu,
      contextMenuKeyboard
    } = this.state;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      "aria-haspopup": "true",
      "data-l10n-id": tooltip,
      "data-l10n-args": tooltipArgs ? JSON.stringify(tooltipArgs) : null,
      className: "context-menu-button icon",
      onKeyDown: this.onKeyDown,
      onClick: this.onClick,
      ref: refFunction
    }), showContextMenu ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(children, {
      keyboardAccess: contextMenuKeyboard,
      onUpdate: this.onUpdate
    }) : null);
  }

}

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INTERSECTION_RATIO", function() { return INTERSECTION_RATIO; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImpressionStats", function() { return ImpressionStats; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange"; // Per analytical requirement, we set the minimal intersection ratio to
// 0.5, and an impression is identified when the wrapped item has at least
// 50% visibility.
//
// This constant is exported for unit test

const INTERSECTION_RATIO = 0.5;
/**
 * Impression wrapper for Discovery Stream related React components.
 *
 * It makses use of the Intersection Observer API to detect the visibility,
 * and relies on page visibility to ensure the impression is reported
 * only when the component is visible on the page.
 *
 * Note:
 *   * This wrapper used to be used either at the individual card level,
 *     or by the card container components.
 *     It is now only used for individual card level.
 *   * Each impression will be sent only once as soon as the desired
 *     visibility is detected
 *   * Batching is not yet implemented, hence it might send multiple
 *     impression pings separately
 */

class ImpressionStats extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  // This checks if the given cards are the same as those in the last impression ping.
  // If so, it should not send the same impression ping again.
  _needsImpressionStats(cards) {
    if (!this.impressionCardGuids || this.impressionCardGuids.length !== cards.length) {
      return true;
    }

    for (let i = 0; i < cards.length; i++) {
      if (cards[i].id !== this.impressionCardGuids[i]) {
        return true;
      }
    }

    return false;
  }

  _dispatchImpressionStats() {
    const {
      props
    } = this;
    const cards = props.rows;

    if (this.props.flightId) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_SPOC_IMPRESSION,
        data: {
          flightId: this.props.flightId
        }
      }));
    }

    if (this._needsImpressionStats(cards)) {
      props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].DiscoveryStreamImpressionStats({
        source: props.source.toUpperCase(),
        tiles: cards.map(link => ({
          id: link.id,
          pos: link.pos,
          ...(link.shim ? {
            shim: link.shim
          } : {})
        }))
      }));
      this.impressionCardGuids = cards.map(link => link.id);
    }
  } // This checks if the given cards are the same as those in the last loaded content ping.
  // If so, it should not send the same loaded content ping again.


  _needsLoadedContent(cards) {
    if (!this.loadedContentGuids || this.loadedContentGuids.length !== cards.length) {
      return true;
    }

    for (let i = 0; i < cards.length; i++) {
      if (cards[i].id !== this.loadedContentGuids[i]) {
        return true;
      }
    }

    return false;
  }

  _dispatchLoadedContent() {
    const {
      props
    } = this;
    const cards = props.rows;

    if (this._needsLoadedContent(cards)) {
      props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].DiscoveryStreamLoadedContent({
        source: props.source.toUpperCase(),
        tiles: cards.map(link => ({
          id: link.id,
          pos: link.pos
        }))
      }));
      this.loadedContentGuids = cards.map(link => link.id);
    }
  }

  setImpressionObserverOrAddListener() {
    const {
      props
    } = this;

    if (!props.dispatch) {
      return;
    }

    if (props.document.visibilityState === VISIBLE) {
      // Send the loaded content ping once the page is visible.
      this._dispatchLoadedContent();

      this.setImpressionObserver();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      }

      this._onVisibilityChange = () => {
        if (props.document.visibilityState === VISIBLE) {
          // Send the loaded content ping once the page is visible.
          this._dispatchLoadedContent();

          this.setImpressionObserver();
          props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };

      props.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  /**
   * Set an impression observer for the wrapped component. It makes use of
   * the Intersection Observer API to detect if the wrapped component is
   * visible with a desired ratio, and only sends impression if that's the case.
   *
   * See more details about Intersection Observer API at:
   * https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API
   */


  setImpressionObserver() {
    const {
      props
    } = this;

    if (!props.rows.length) {
      return;
    }

    this._handleIntersect = entries => {
      if (entries.some(entry => entry.isIntersecting && entry.intersectionRatio >= INTERSECTION_RATIO)) {
        this._dispatchImpressionStats();

        this.impressionObserver.unobserve(this.refs.impression);
      }
    };

    const options = {
      threshold: INTERSECTION_RATIO
    };
    this.impressionObserver = new props.IntersectionObserver(this._handleIntersect, options);
    this.impressionObserver.observe(this.refs.impression);
  }

  componentDidMount() {
    if (this.props.rows.length) {
      this.setImpressionObserverOrAddListener();
    }
  }

  componentWillUnmount() {
    if (this._handleIntersect && this.impressionObserver) {
      this.impressionObserver.unobserve(this.refs.impression);
    }

    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      ref: "impression",
      className: "impression-observer"
    }, this.props.children);
  }

}
ImpressionStats.defaultProps = {
  IntersectionObserver: global.IntersectionObserver,
  document: global.document,
  rows: [],
  source: ""
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SafeAnchor", function() { return SafeAnchor; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class SafeAnchor extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onClick = this.onClick.bind(this);
  }

  onClick(event) {
    // Use dispatch instead of normal link click behavior to include referrer
    if (this.props.dispatch) {
      event.preventDefault();
      const {
        altKey,
        button,
        ctrlKey,
        metaKey,
        shiftKey
      } = event;
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_LINK,
        data: {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          },
          referrer: "https://getpocket.com/recommendations",
          // Use the anchor's url, which could have been cleaned up
          url: event.currentTarget.href
        }
      }));
    } // Propagate event if there's a handler


    if (this.props.onLinkClick) {
      this.props.onLinkClick(event);
    }
  }

  safeURI(url) {
    let protocol = null;

    try {
      protocol = new URL(url).protocol;
    } catch (e) {
      return "";
    }

    const isAllowed = ["http:", "https:"].includes(protocol);

    if (!isAllowed) {
      console.warn(`${url} is not allowed for anchor targets.`); // eslint-disable-line no-console

      return "";
    }

    return url;
  }

  render() {
    const {
      url,
      className
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a", {
      href: this.safeURI(url),
      className: className,
      onClick: this.onClick
    }, this.props.children);
  }

}

/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cardContextTypes", function() { return cardContextTypes; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
const cardContextTypes = {
  history: {
    fluentID: "newtab-label-visited",
    icon: "history-item"
  },
  removedBookmark: {
    fluentID: "newtab-label-removed-bookmark",
    icon: "bookmark-removed"
  },
  bookmark: {
    fluentID: "newtab-label-bookmarked",
    icon: "bookmark-added"
  },
  trending: {
    fluentID: "newtab-label-recommended",
    icon: "trending"
  },
  pocket: {
    fluentID: "newtab-label-saved",
    icon: "pocket"
  },
  download: {
    fluentID: "newtab-label-download",
    icon: "download"
  }
};

/***/ }),
/* 25 */
/***/ (function(module, exports) {

module.exports = ReactTransitionGroup;

/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FluentOrText", function() { return FluentOrText; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * Set text on a child element/component depending on if the message is already
 * translated plain text or a fluent id with optional args.
 */

class FluentOrText extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    // Ensure we have a single child to attach attributes
    const {
      children,
      message
    } = this.props;
    const child = children ? react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.only(children) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null); // For a string message, just use it as the child's text

    let grandChildren = message;
    let extraProps; // Convert a message object to set desired fluent-dom attributes

    if (typeof message === "object") {
      const args = message.args || message.values;
      extraProps = {
        "data-l10n-args": args && JSON.stringify(args),
        "data-l10n-id": message.id || message.string_id
      }; // Use original children potentially with data-l10n-name attributes

      grandChildren = child.props.children;
    } // Add the message to the child via fluent attributes or text node


    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(child, extraProps, grandChildren);
  }

}

/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CollectionCardGrid", function() { return CollectionCardGrid; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_CardGrid_CardGrid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSDismiss_DSDismiss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(28);
/* harmony import */ var content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(20);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





class CollectionCardGrid extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onDismissClick = this.onDismissClick.bind(this);
    this.state = {
      dismissed: false
    };
  }

  onDismissClick() {
    const {
      data
    } = this.props;

    if (this.props.dispatch && data && data.spocs && data.spocs.length) {
      this.setState({
        dismissed: true
      });
      const pos = 0;
      const source = this.props.type.toUpperCase(); // Grab the available items in the array to dismiss.
      // This fires a ping for all items available, even if below the fold.

      const spocsData = data.spocs.map(item => ({
        url: item.url,
        guid: item.id,
        shim: item.shim,
        flight_id: item.flightId
      }));
      const blockUrlOption = content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_3__["LinkMenuOptions"].BlockUrls(spocsData, pos, source);
      const {
        action,
        impression,
        userEvent
      } = blockUrlOption;
      this.props.dispatch(action);
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: userEvent,
        source,
        action_position: pos
      }));

      if (impression) {
        this.props.dispatch(impression);
      }
    }
  }

  render() {
    const {
      data,
      dismissible
    } = this.props;

    if (this.state.dismissed || !data || !data.spocs || !data.spocs[0] || // We only display complete collections.
    data.spocs.length < 3) {
      return null;
    }

    const {
      spocs,
      placement,
      feed
    } = this.props; // spocs.data is spocs state data, and not an array of spocs.

    const {
      title,
      context,
      sponsored_by_override,
      sponsor
    } = spocs.data[placement.name] || {}; // Just in case of bad data, don't display a broken collection.

    if (!title) {
      return null;
    }

    let sponsoredByMessage = ""; // If override is not false or an empty string.

    if (sponsored_by_override || sponsored_by_override === "") {
      // We specifically want to display nothing if the server returns an empty string.
      // So the server can turn off the label.
      // This is to support the use cases where the sponsored context is displayed elsewhere.
      sponsoredByMessage = sponsored_by_override;
    } else if (sponsor) {
      sponsoredByMessage = {
        id: `newtab-label-sponsored-by`,
        values: {
          sponsor
        }
      };
    } else if (context) {
      sponsoredByMessage = context;
    } // Generally a card grid displays recs with spocs already injected.
    // Normally it doesn't care which rec is a spoc and which isn't,
    // it just displays content in a grid.
    // For collections, we're only displaying a list of spocs.
    // We don't need to tell the card grid that our list of cards are spocs,
    // it shouldn't need to care. So we just pass our spocs along as recs.
    // Think of it as injecting all rec positions with spocs.
    // Consider maybe making recommendations in CardGrid use a more generic name.


    const recsData = {
      recommendations: data.spocs
    }; // All cards inside of a collection card grid have a slightly different type.
    // For the case of interactions to the card grid, we use the type "COLLECTIONCARDGRID".
    // Example, you dismiss the whole collection, we use the type "COLLECTIONCARDGRID".
    // For interactions inside the card grid, example, you dismiss a single card in the collection,
    // we use the type "COLLECTIONCARDGRID_CARD".

    const type = `${this.props.type}_card`;
    const collectionGrid = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "ds-collection-card-grid"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_DiscoveryStreamComponents_CardGrid_CardGrid__WEBPACK_IMPORTED_MODULE_1__["CardGrid"], {
      title: title,
      context: sponsoredByMessage,
      data: recsData,
      feed: feed,
      border: this.props.border,
      type: type,
      is_collection: true,
      dispatch: this.props.dispatch,
      items: this.props.items
    }));

    if (dismissible) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSDismiss_DSDismiss__WEBPACK_IMPORTED_MODULE_2__["DSDismiss"], {
        onDismissClick: this.onDismissClick,
        extraClasses: `ds-dismiss-ds-collection`
      }, collectionGrid);
    }

    return collectionGrid;
  }

}

/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSDismiss", function() { return DSDismiss; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class DSDismiss extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onDismissClick = this.onDismissClick.bind(this);
    this.onHover = this.onHover.bind(this);
    this.offHover = this.offHover.bind(this);
    this.state = {
      hovering: false
    };
  }

  onDismissClick() {
    if (this.props.onDismissClick) {
      this.props.onDismissClick();
    }
  }

  onHover() {
    this.setState({
      hovering: true
    });
  }

  offHover() {
    this.setState({
      hovering: false
    });
  }

  render() {
    let className = `ds-dismiss
      ${this.state.hovering ? ` hovering` : ``}
      ${this.props.extraClasses ? ` ${this.props.extraClasses}` : ``}`;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: className
    }, this.props.children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "ds-dismiss-button",
      "data-l10n-id": "newtab-dismiss-button-tooltip",
      onHover: this.onHover,
      onClick: this.onDismissClick,
      onMouseEnter: this.onHover,
      onMouseLeave: this.offHover
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: "icon icon-dismiss"
    })));
  }

}

/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_CollapsibleSection", function() { return _CollapsibleSection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CollapsibleSection", function() { return CollapsibleSection; });
/* harmony import */ var content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30);
/* harmony import */ var content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(26);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




/**
 * A section that can collapse. As of bug 1710937, it can no longer collapse.
 * See bug 1727365 for follow-up work to simplify this component.
 */

class _CollapsibleSection extends react__WEBPACK_IMPORTED_MODULE_2___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onBodyMount = this.onBodyMount.bind(this);
    this.onMenuButtonMouseEnter = this.onMenuButtonMouseEnter.bind(this);
    this.onMenuButtonMouseLeave = this.onMenuButtonMouseLeave.bind(this);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
    this.state = {
      menuButtonHover: false,
      showContextMenu: false
    };
    this.setContextMenuButtonRef = this.setContextMenuButtonRef.bind(this);
  }

  setContextMenuButtonRef(element) {
    this.contextMenuButtonRef = element;
  }

  onBodyMount(node) {
    this.sectionBody = node;
  }

  onMenuButtonMouseEnter() {
    this.setState({
      menuButtonHover: true
    });
  }

  onMenuButtonMouseLeave() {
    this.setState({
      menuButtonHover: false
    });
  }

  onMenuUpdate(showContextMenu) {
    this.setState({
      showContextMenu
    });
  }

  render() {
    const {
      isAnimating,
      maxHeight,
      menuButtonHover,
      showContextMenu
    } = this.state;
    const {
      id,
      collapsed,
      learnMore,
      title,
      subTitle
    } = this.props;
    const active = menuButtonHover || showContextMenu;
    let bodyStyle;

    if (isAnimating && !collapsed) {
      bodyStyle = {
        maxHeight
      };
    } else if (!isAnimating && collapsed) {
      bodyStyle = {
        display: "none"
      };
    }

    let titleStyle;

    if (this.props.hideTitle) {
      titleStyle = {
        visibility: "hidden"
      };
    }

    const hasSubtitleClassName = subTitle ? `has-subtitle` : ``;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
      className: `collapsible-section ${this.props.className}${active ? " active" : ""}` // Note: data-section-id is used for web extension api tests in mozilla central
      ,
      "data-section-id": id
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "section-top-bar"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3", {
      className: `section-title-container ${hasSubtitleClassName}`,
      style: titleStyle
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "section-title"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_1__["FluentOrText"], {
      message: title
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "learn-more-link-wrapper"
    }, learnMore && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "learn-more-link"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_1__["FluentOrText"], {
      message: learnMore.link.message
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
      href: learnMore.link.href
    })))), subTitle && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "section-sub-title"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_1__["FluentOrText"], {
      message: subTitle
    })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_0__["ErrorBoundary"], {
      className: "section-body-fallback"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      ref: this.onBodyMount,
      style: bodyStyle
    }, this.props.children)));
  }

}
_CollapsibleSection.defaultProps = {
  document: global.document || {
    addEventListener: () => {},
    removeEventListener: () => {},
    visibilityState: "hidden"
  }
};
const CollapsibleSection = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(state => ({
  Prefs: state.Prefs
}))(_CollapsibleSection);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorBoundaryFallback", function() { return ErrorBoundaryFallback; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorBoundary", function() { return ErrorBoundary; });
/* harmony import */ var content_src_components_A11yLinkButton_A11yLinkButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(31);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class ErrorBoundaryFallback extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.windowObj = this.props.windowObj || window;
    this.onClick = this.onClick.bind(this);
  }
  /**
   * Since we only get here if part of the page has crashed, do a
   * forced reload to give us the best chance at recovering.
   */


  onClick() {
    this.windowObj.location.reload(true);
  }

  render() {
    const defaultClass = "as-error-fallback";
    let className;

    if ("className" in this.props) {
      className = `${this.props.className} ${defaultClass}`;
    } else {
      className = defaultClass;
    } // "A11yLinkButton" to force normal link styling stuff (eg cursor on hover)


    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: className
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      "data-l10n-id": "newtab-error-fallback-info"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(content_src_components_A11yLinkButton_A11yLinkButton__WEBPACK_IMPORTED_MODULE_0__["A11yLinkButton"], {
      className: "reload-button",
      onClick: this.onClick,
      "data-l10n-id": "newtab-error-fallback-refresh-link"
    })));
  }

}
ErrorBoundaryFallback.defaultProps = {
  className: "as-error-fallback"
};
class ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      hasError: false
    };
  }

  componentDidCatch(error, info) {
    this.setState({
      hasError: true
    });
  }

  render() {
    if (!this.state.hasError) {
      return this.props.children;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(this.props.FallbackComponent, {
      className: this.props.className
    });
  }

}
ErrorBoundary.defaultProps = {
  FallbackComponent: ErrorBoundaryFallback
};

/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "A11yLinkButton", function() { return A11yLinkButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

function A11yLinkButton(props) {
  // function for merging classes, if necessary
  let className = "a11y-link-button";

  if (props.className) {
    className += ` ${props.className}`;
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", _extends({
    type: "button"
  }, props, {
    className: className
  }), props.children);
}

/***/ }),
/* 32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSMessage", function() { return DSMessage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23);
/* harmony import */ var content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(26);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class DSMessage extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "ds-message"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", {
      className: "title"
    }, this.props.icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "glyph",
      style: {
        backgroundImage: `url(${this.props.icon})`
      }
    }), this.props.title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: "title-text"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__["FluentOrText"], {
      message: this.props.title
    })), this.props.link_text && this.props.link_url && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_1__["SafeAnchor"], {
      className: "link",
      url: this.props.link_url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__["FluentOrText"], {
      message: this.props.link_text
    }))));
  }

}

/***/ }),
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSPrivacyModal", function() { return DSPrivacyModal; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);
/* harmony import */ var content_src_asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(34);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class DSPrivacyModal extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.closeModal = this.closeModal.bind(this);
    this.onLearnLinkClick = this.onLearnLinkClick.bind(this);
    this.onManageLinkClick = this.onManageLinkClick.bind(this);
  }

  onLearnLinkClick(event) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__["actionCreators"].UserEvent({
      event: "CLICK_PRIVACY_INFO",
      source: "DS_PRIVACY_MODAL"
    }));
  }

  onManageLinkClick(event) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__["actionTypes"].SETTINGS_OPEN
    }));
  }

  closeModal() {
    this.props.dispatch({
      type: `HIDE_PRIVACY_INFO`,
      data: {}
    });
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(content_src_asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_2__["ModalOverlayWrapper"], {
      onClose: this.closeModal,
      innerClassName: "ds-privacy-modal"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "privacy-notice"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
      "data-l10n-id": "newtab-privacy-modal-header"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      "data-l10n-id": "newtab-privacy-modal-paragraph-2"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      className: "modal-link modal-link-privacy",
      "data-l10n-id": "newtab-privacy-modal-link",
      onClick: this.onLearnLinkClick,
      href: "https://help.getpocket.com/article/1142-firefox-new-tab-recommendations-faq"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "modal-link modal-link-manage",
      "data-l10n-id": "newtab-privacy-modal-button-manage",
      onClick: this.onManageLinkClick
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
      className: "actions"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "done",
      type: "submit",
      onClick: this.closeModal,
      "data-l10n-id": "newtab-privacy-modal-button-done"
    })));
  }

}

/***/ }),
/* 34 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalOverlayWrapper", function() { return ModalOverlayWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class ModalOverlayWrapper extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onKeyDown = this.onKeyDown.bind(this);
  } // The intended behaviour is to listen for an escape key
  // but not for a click; see Bug 1582242


  onKeyDown(event) {
    if (event.key === "Escape") {
      this.props.onClose(event);
    }
  }

  componentWillMount() {
    this.props.document.addEventListener("keydown", this.onKeyDown);
    this.props.document.body.classList.add("modal-open");
  }

  componentWillUnmount() {
    this.props.document.removeEventListener("keydown", this.onKeyDown);
    this.props.document.body.classList.remove("modal-open");
  }

  render() {
    const {
      props
    } = this;
    let className = props.unstyled ? "" : "modalOverlayInner active";

    if (props.innerClassName) {
      className += ` ${props.innerClassName}`;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "modalOverlayOuter active",
      onKeyDown: this.onKeyDown,
      role: "presentation"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: className,
      "aria-labelledby": props.headerId,
      id: props.id,
      role: "dialog"
    }, props.children));
  }

}
ModalOverlayWrapper.defaultProps = {
  document: global.document
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSSignup", function() { return DSSignup; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18);
/* harmony import */ var content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21);
/* harmony import */ var _DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(23);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






class DSSignup extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      active: false,
      lastItem: false
    };
    this.onMenuButtonUpdate = this.onMenuButtonUpdate.bind(this);
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onMenuShow = this.onMenuShow.bind(this);
  }

  onMenuButtonUpdate(showContextMenu) {
    if (!showContextMenu) {
      this.setState({
        active: false,
        lastItem: false
      });
    }
  }

  nextAnimationFrame() {
    return new Promise(resolve => this.props.windowObj.requestAnimationFrame(resolve));
  }

  async onMenuShow() {
    let {
      lastItem
    } = this.state; // Wait for next frame before computing scrollMaxX to allow fluent menu strings to be visible

    await this.nextAnimationFrame();

    if (this.props.windowObj.scrollMaxX > 0) {
      lastItem = true;
    }

    this.setState({
      active: true,
      lastItem
    });
  }

  onLinkClick() {
    const {
      data
    } = this.props;

    if (this.props.dispatch && data && data.spocs && data.spocs.length) {
      const source = this.props.type.toUpperCase(); // Grab the first item in the array as we only have 1 spoc position.

      const [spoc] = data.spocs;
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "CLICK",
        source,
        action_position: 0
      }));
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
        source,
        click: 0,
        tiles: [{
          id: spoc.id,
          pos: 0,
          ...(spoc.shim && spoc.shim.click ? {
            shim: spoc.shim.click
          } : {})
        }]
      }));
    }
  }

  render() {
    const {
      data,
      dispatch,
      type
    } = this.props;

    if (!data || !data.spocs || !data.spocs[0]) {
      return null;
    } // Grab the first item in the array as we only have 1 spoc position.


    const [spoc] = data.spocs;
    const {
      title,
      url,
      excerpt,
      flight_id,
      id,
      shim
    } = spoc;
    const SIGNUP_CONTEXT_MENU_OPTIONS = ["OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", ...(flight_id ? ["ShowPrivacyInfo"] : [])];
    const outerClassName = ["ds-signup", this.state.active && "active", this.state.lastItem && "last-item"].filter(v => v).join(" ");
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: outerClassName
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "ds-signup-content"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
      className: "icon icon-small-spacer icon-mail"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", null, title, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_5__["SafeAnchor"], {
      className: "ds-chevron-link",
      dispatch: dispatch,
      onLinkClick: this.onLinkClick,
      url: url
    }, excerpt)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__["ImpressionStats"], {
      flightId: flight_id,
      rows: [{
        id,
        pos: 0,
        shim: shim && shim.impression
      }],
      dispatch: dispatch,
      source: type
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_2__["ContextMenuButton"], {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuButtonUpdate
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_1__["LinkMenu"], {
      dispatch: dispatch,
      index: 0,
      source: type.toUpperCase(),
      onShow: this.onMenuShow,
      options: SIGNUP_CONTEXT_MENU_OPTIONS,
      shouldSendImpressionStats: true,
      site: {
        referrer: "https://getpocket.com/recommendations",
        title,
        type,
        url,
        guid: id,
        shim,
        flight_id
      }
    })));
  }

}
DSSignup.defaultProps = {
  windowObj: window // Added to support unit tests

};

/***/ }),
/* 36 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSTextPromo", function() { return DSTextPromo; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSDismiss_DSDismiss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(28);
/* harmony import */ var _DSImage_DSImage_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(17);
/* harmony import */ var _DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22);
/* harmony import */ var content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(20);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(23);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */







class DSTextPromo extends react__WEBPACK_IMPORTED_MODULE_5___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onDismissClick = this.onDismissClick.bind(this);
  }

  onLinkClick() {
    const {
      data
    } = this.props;

    if (this.props.dispatch && data && data.spocs && data.spocs.length) {
      const source = this.props.type.toUpperCase(); // Grab the first item in the array as we only have 1 spoc position.

      const [spoc] = data.spocs;
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "CLICK",
        source,
        action_position: 0
      }));
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
        source,
        click: 0,
        tiles: [{
          id: spoc.id,
          pos: 0,
          ...(spoc.shim && spoc.shim.click ? {
            shim: spoc.shim.click
          } : {})
        }]
      }));
    }
  }

  onDismissClick() {
    const {
      data
    } = this.props;

    if (this.props.dispatch && data && data.spocs && data.spocs.length) {
      const index = 0;
      const source = this.props.type.toUpperCase(); // Grab the first item in the array as we only have 1 spoc position.

      const [spoc] = data.spocs;
      const spocData = {
        url: spoc.url,
        guid: spoc.id,
        shim: spoc.shim
      };
      const blockUrlOption = content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_4__["LinkMenuOptions"].BlockUrl(spocData, index, source);
      const {
        action,
        impression,
        userEvent
      } = blockUrlOption;
      this.props.dispatch(action);
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: userEvent,
        source,
        action_position: index
      }));

      if (impression) {
        this.props.dispatch(impression);
      }
    }
  }

  render() {
    const {
      data
    } = this.props;

    if (!data || !data.spocs || !data.spocs[0]) {
      return null;
    } // Grab the first item in the array as we only have 1 spoc position.


    const [spoc] = data.spocs;
    const {
      image_src,
      raw_image_src,
      alt_text,
      title,
      url,
      context,
      cta,
      flight_id,
      id,
      shim
    } = spoc;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSDismiss_DSDismiss__WEBPACK_IMPORTED_MODULE_1__["DSDismiss"], {
      onDismissClick: this.onDismissClick,
      extraClasses: `ds-dismiss-ds-text-promo`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "ds-text-promo"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_DSImage_DSImage_jsx__WEBPACK_IMPORTED_MODULE_2__["DSImage"], {
      alt_text: alt_text,
      source: image_src,
      rawSource: raw_image_src
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "text"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h3", null, `${title}\u2003`, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_6__["SafeAnchor"], {
      className: "ds-chevron-link",
      dispatch: this.props.dispatch,
      onLinkClick: this.onLinkClick,
      url: url
    }, cta)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p", {
      className: "subtitle"
    }, context)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__["ImpressionStats"], {
      flightId: flight_id,
      rows: [{
        id,
        pos: 0,
        shim: shim && shim.impression
      }],
      dispatch: this.props.dispatch,
      source: this.props.type
    })));
  }

}

/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Highlights", function() { return _Highlights; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Highlights", function() { return Highlights; });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var content_src_components_Sections_Sections__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(38);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class _Highlights extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  render() {
    const section = this.props.Sections.find(s => s.id === "highlights");

    if (!section || !section.enabled) {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "ds-highlights sections-list"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(content_src_components_Sections_Sections__WEBPACK_IMPORTED_MODULE_2__["SectionIntl"], _extends({}, section, {
      isFixed: true
    })));
  }

}
const Highlights = Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(state => ({
  Sections: state.Sections
}))(_Highlights);

/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Section", function() { return Section; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionIntl", function() { return SectionIntl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Sections", function() { return _Sections; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sections", function() { return Sections; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_components_Card_Card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(39);
/* harmony import */ var content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(29);
/* harmony import */ var content_src_components_ComponentPerfTimer_ComponentPerfTimer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(41);
/* harmony import */ var content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(26);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var content_src_components_MoreRecommendations_MoreRecommendations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(43);
/* harmony import */ var content_src_components_PocketLoggedInCta_PocketLoggedInCta__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(44);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var content_src_components_Topics_Topics__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(45);
/* harmony import */ var content_src_components_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(46);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */











const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange";
const CARDS_PER_ROW_DEFAULT = 3;
const CARDS_PER_ROW_COMPACT_WIDE = 4;
class Section extends react__WEBPACK_IMPORTED_MODULE_8___default.a.PureComponent {
  get numRows() {
    const {
      rowsPref,
      maxRows,
      Prefs
    } = this.props;
    return rowsPref ? Prefs.values[rowsPref] : maxRows;
  }

  _dispatchImpressionStats() {
    const {
      props
    } = this;
    let cardsPerRow = CARDS_PER_ROW_DEFAULT;

    if (props.compactCards && global.matchMedia(`(min-width: 1072px)`).matches) {
      // If the section has compact cards and the viewport is wide enough, we show
      // 4 columns instead of 3.
      // $break-point-widest = 1072px (from _variables.scss)
      cardsPerRow = CARDS_PER_ROW_COMPACT_WIDE;
    }

    const maxCards = cardsPerRow * this.numRows;
    const cards = props.rows.slice(0, maxCards);

    if (this.needsImpressionStats(cards)) {
      props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
        source: props.eventSource,
        tiles: cards.map(link => ({
          id: link.guid
        }))
      }));
      this.impressionCardGuids = cards.map(link => link.guid);
    }
  } // This sends an event when a user sees a set of new content. If content
  // changes while the page is hidden (i.e. preloaded or on a hidden tab),
  // only send the event if the page becomes visible again.


  sendImpressionStatsOrAddListener() {
    const {
      props
    } = this;

    if (!props.shouldSendImpressionStats || !props.dispatch) {
      return;
    }

    if (props.document.visibilityState === VISIBLE) {
      this._dispatchImpressionStats();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      } // When the page becomes visible, send the impression stats ping if the section isn't collapsed.


      this._onVisibilityChange = () => {
        if (props.document.visibilityState === VISIBLE) {
          if (!this.props.pref.collapsed) {
            this._dispatchImpressionStats();
          }

          props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };

      props.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  componentWillMount() {
    this.sendNewTabRehydrated(this.props.initialized);
  }

  componentDidMount() {
    if (this.props.rows.length && !this.props.pref.collapsed) {
      this.sendImpressionStatsOrAddListener();
    }
  }

  componentDidUpdate(prevProps) {
    const {
      props
    } = this;
    const isCollapsed = props.pref.collapsed;
    const wasCollapsed = prevProps.pref.collapsed;

    if ( // Don't send impression stats for the empty state
    props.rows.length && ( // We only want to send impression stats if the content of the cards has changed
    // and the section is not collapsed...
    props.rows !== prevProps.rows && !isCollapsed || // or if we are expanding a section that was collapsed.
    wasCollapsed && !isCollapsed)) {
      this.sendImpressionStatsOrAddListener();
    }
  }

  componentWillUpdate(nextProps) {
    this.sendNewTabRehydrated(nextProps.initialized);
  }

  componentWillUnmount() {
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  needsImpressionStats(cards) {
    if (!this.impressionCardGuids || this.impressionCardGuids.length !== cards.length) {
      return true;
    }

    for (let i = 0; i < cards.length; i++) {
      if (cards[i].guid !== this.impressionCardGuids[i]) {
        return true;
      }
    }

    return false;
  } // The NEW_TAB_REHYDRATED event is used to inform feeds that their
  // data has been consumed e.g. for counting the number of tabs that
  // have rendered that data.


  sendNewTabRehydrated(initialized) {
    if (initialized && !this.renderNotified) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].NEW_TAB_REHYDRATED,
        data: {}
      }));
      this.renderNotified = true;
    }
  }

  render() {
    const {
      id,
      eventSource,
      title,
      rows,
      Pocket,
      topics,
      emptyState,
      dispatch,
      compactCards,
      read_more_endpoint,
      contextMenuOptions,
      initialized,
      learnMore,
      pref,
      privacyNoticeURL,
      isFirst,
      isLast
    } = this.props;
    const waitingForSpoc = id === "topstories" && this.props.Pocket.waitingForSpoc;
    const maxCardsPerRow = compactCards ? CARDS_PER_ROW_COMPACT_WIDE : CARDS_PER_ROW_DEFAULT;
    const {
      numRows
    } = this;
    const maxCards = maxCardsPerRow * numRows;
    const maxCardsOnNarrow = CARDS_PER_ROW_DEFAULT * numRows;
    const {
      pocketCta,
      isUserLoggedIn
    } = Pocket || {};
    const {
      useCta
    } = pocketCta || {}; // Don't display anything until we have a definitve result from Pocket,
    // to avoid a flash of logged out state while we render.

    const isPocketLoggedInDefined = isUserLoggedIn === true || isUserLoggedIn === false;
    const hasTopics = topics && !!topics.length;
    const shouldShowPocketCta = id === "topstories" && useCta && isUserLoggedIn === false; // Show topics only for top stories and if it has loaded with topics.
    // The classs .top-stories-bottom-container ensures content doesn't shift as things load.

    const shouldShowTopics = id === "topstories" && hasTopics && (useCta && isUserLoggedIn === true || !useCta && isPocketLoggedInDefined); // We use topics to determine language support for read more.

    const shouldShowReadMore = read_more_endpoint && hasTopics;
    const realRows = rows.slice(0, maxCards); // The empty state should only be shown after we have initialized and there is no content.
    // Otherwise, we should show placeholders.

    const shouldShowEmptyState = initialized && !rows.length;
    const cards = [];

    if (!shouldShowEmptyState) {
      for (let i = 0; i < maxCards; i++) {
        const link = realRows[i]; // On narrow viewports, we only show 3 cards per row. We'll mark the rest as
        // .hide-for-narrow to hide in CSS via @media query.

        const className = i >= maxCardsOnNarrow ? "hide-for-narrow" : "";
        let usePlaceholder = !link; // If we are in the third card and waiting for spoc,
        // use the placeholder.

        if (!usePlaceholder && i === 2 && waitingForSpoc) {
          usePlaceholder = true;
        }

        cards.push(!usePlaceholder ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_Card_Card__WEBPACK_IMPORTED_MODULE_1__["Card"], {
          key: i,
          index: i,
          className: className,
          dispatch: dispatch,
          link: link,
          contextMenuOptions: contextMenuOptions,
          eventSource: eventSource,
          shouldSendImpressionStats: this.props.shouldSendImpressionStats,
          isWebExtension: this.props.isWebExtension
        }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_Card_Card__WEBPACK_IMPORTED_MODULE_1__["PlaceholderCard"], {
          key: i,
          className: className
        }));
      }
    }

    const sectionClassName = ["section", compactCards ? "compact-cards" : "normal-cards"].join(" "); // <Section> <-- React component
    // <section> <-- HTML5 element

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_ComponentPerfTimer_ComponentPerfTimer__WEBPACK_IMPORTED_MODULE_3__["ComponentPerfTimer"], this.props, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__["CollapsibleSection"], {
      className: sectionClassName,
      title: title,
      id: id,
      eventSource: eventSource,
      collapsed: this.props.pref.collapsed,
      showPrefName: pref && pref.feed || id,
      privacyNoticeURL: privacyNoticeURL,
      Prefs: this.props.Prefs,
      isFixed: this.props.isFixed,
      isFirst: isFirst,
      isLast: isLast,
      learnMore: learnMore,
      dispatch: this.props.dispatch,
      isWebExtension: this.props.isWebExtension
    }, !shouldShowEmptyState && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("ul", {
      className: "section-list",
      style: {
        padding: 0
      }
    }, cards), shouldShowEmptyState && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "section-empty-state"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "empty-state"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_4__["FluentOrText"], {
      message: emptyState.message
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("p", {
      className: "empty-state-message"
    })))), id === "topstories" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "top-stories-bottom-container"
    }, shouldShowTopics && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "wrapper-topics"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_Topics_Topics__WEBPACK_IMPORTED_MODULE_9__["Topics"], {
      topics: this.props.topics
    })), shouldShowPocketCta && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "wrapper-cta"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_PocketLoggedInCta_PocketLoggedInCta__WEBPACK_IMPORTED_MODULE_7__["PocketLoggedInCta"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "wrapper-more-recommendations"
    }, shouldShowReadMore && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_MoreRecommendations_MoreRecommendations__WEBPACK_IMPORTED_MODULE_6__["MoreRecommendations"], {
      read_more_endpoint: read_more_endpoint
    })))));
  }

}
Section.defaultProps = {
  document: global.document,
  rows: [],
  emptyState: {},
  pref: {},
  title: ""
};
const SectionIntl = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["connect"])(state => ({
  Prefs: state.Prefs,
  Pocket: state.Pocket
}))(Section);
class _Sections extends react__WEBPACK_IMPORTED_MODULE_8___default.a.PureComponent {
  renderSections() {
    const sections = [];
    const enabledSections = this.props.Sections.filter(section => section.enabled);
    const {
      sectionOrder,
      "feeds.topsites": showTopSites
    } = this.props.Prefs.values; // Enabled sections doesn't include Top Sites, so we add it if enabled.

    const expectedCount = enabledSections.length + ~~showTopSites;

    for (const sectionId of sectionOrder.split(",")) {
      const commonProps = {
        key: sectionId,
        isFirst: sections.length === 0,
        isLast: sections.length === expectedCount - 1
      };

      if (sectionId === "topsites" && showTopSites) {
        sections.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_10__["TopSites"], commonProps));
      } else {
        const section = enabledSections.find(s => s.id === sectionId);

        if (section) {
          sections.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(SectionIntl, _extends({}, section, commonProps)));
        }
      }
    }

    return sections;
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "sections-list"
    }, this.renderSections());
  }

}
const Sections = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["connect"])(state => ({
  Sections: state.Sections,
  Prefs: state.Prefs
}))(_Sections);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 39 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Card", function() { return _Card; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Card", function() { return Card; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaceholderCard", function() { return PlaceholderCard; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(24);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21);
/* harmony import */ var content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(40);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






 // Keep track of pending image loads to only request once

const gImageLoading = new Map();
/**
 * Card component.
 * Cards are found within a Section component and contain information about a link such
 * as preview image, page title, page description, and some context about if the page
 * was visited, bookmarked, trending etc...
 * Each Section can make an unordered list of Cards which will create one instane of
 * this class. Each card will then get a context menu which reflects the actions that
 * can be done on this Card.
 */

class _Card extends react__WEBPACK_IMPORTED_MODULE_5___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      activeCard: null,
      imageLoaded: false,
      cardImage: null
    };
    this.onMenuButtonUpdate = this.onMenuButtonUpdate.bind(this);
    this.onLinkClick = this.onLinkClick.bind(this);
  }
  /**
   * Helper to conditionally load an image and update state when it loads.
   */


  async maybeLoadImage() {
    // No need to load if it's already loaded or no image
    const {
      cardImage
    } = this.state;

    if (!cardImage) {
      return;
    }

    const imageUrl = cardImage.url;

    if (!this.state.imageLoaded) {
      // Initialize a promise to share a load across multiple card updates
      if (!gImageLoading.has(imageUrl)) {
        const loaderPromise = new Promise((resolve, reject) => {
          const loader = new Image();
          loader.addEventListener("load", resolve);
          loader.addEventListener("error", reject);
          loader.src = imageUrl;
        }); // Save and remove the promise only while it's pending

        gImageLoading.set(imageUrl, loaderPromise);
        loaderPromise.catch(ex => ex).then(() => gImageLoading.delete(imageUrl)).catch();
      } // Wait for the image whether just started loading or reused promise


      try {
        await gImageLoading.get(imageUrl);
      } catch (ex) {
        // Ignore the failed image without changing state
        return;
      } // Only update state if we're still waiting to load the original image


      if (content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].isRemoteImageLocal(this.state.cardImage, this.props.link.image) && !this.state.imageLoaded) {
        this.setState({
          imageLoaded: true
        });
      }
    }
  }
  /**
   * Helper to obtain the next state based on nextProps and prevState.
   *
   * NOTE: Rename this method to getDerivedStateFromProps when we update React
   *       to >= 16.3. We will need to update tests as well. We cannot rename this
   *       method to getDerivedStateFromProps now because there is a mismatch in
   *       the React version that we are using for both testing and production.
   *       (i.e. react-test-render => "16.3.2", react => "16.2.0").
   *
   * See https://github.com/airbnb/enzyme/blob/master/packages/enzyme-adapter-react-16/package.json#L43.
   */


  static getNextStateFromProps(nextProps, prevState) {
    const {
      image
    } = nextProps.link;
    const imageInState = content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].isRemoteImageLocal(prevState.cardImage, image);
    let nextState = null; // Image is updating.

    if (!imageInState && nextProps.link) {
      nextState = {
        imageLoaded: false
      };
    }

    if (imageInState) {
      return nextState;
    } // Since image was updated, attempt to revoke old image blob URL, if it exists.


    content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].maybeRevokeBlobObjectURL(prevState.cardImage);
    nextState = nextState || {};
    nextState.cardImage = content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].createLocalImageObject(image);
    return nextState;
  }

  onMenuButtonUpdate(isOpen) {
    if (isOpen) {
      this.setState({
        activeCard: this.props.index
      });
    } else {
      this.setState({
        activeCard: null
      });
    }
  }
  /**
   * Report to telemetry additional information about the item.
   */


  _getTelemetryInfo() {
    // Filter out "history" type for being the default
    if (this.props.link.type !== "history") {
      return {
        value: {
          card_type: this.props.link.type
        }
      };
    }

    return null;
  }

  onLinkClick(event) {
    event.preventDefault();
    const {
      altKey,
      button,
      ctrlKey,
      metaKey,
      shiftKey
    } = event;

    if (this.props.link.type === "download") {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_DOWNLOAD_FILE,
        data: Object.assign(this.props.link, {
          event: {
            button,
            ctrlKey,
            metaKey,
            shiftKey
          }
        })
      }));
    } else {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_LINK,
        data: Object.assign(this.props.link, {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          }
        })
      }));
    }

    if (this.props.isWebExtension) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].WebExtEvent(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].WEBEXT_CLICK, {
        source: this.props.eventSource,
        url: this.props.link.url,
        action_position: this.props.index
      }));
    } else {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent(Object.assign({
        event: "CLICK",
        source: this.props.eventSource,
        action_position: this.props.index
      }, this._getTelemetryInfo())));

      if (this.props.shouldSendImpressionStats) {
        this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
          source: this.props.eventSource,
          click: 0,
          tiles: [{
            id: this.props.link.guid,
            pos: this.props.index
          }]
        }));
      }
    }
  }

  componentDidMount() {
    this.maybeLoadImage();
  }

  componentDidUpdate() {
    this.maybeLoadImage();
  } // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.


  componentWillMount() {
    const nextState = _Card.getNextStateFromProps(this.props, this.state);

    if (nextState) {
      this.setState(nextState);
    }
  } // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.


  componentWillReceiveProps(nextProps) {
    const nextState = _Card.getNextStateFromProps(nextProps, this.state);

    if (nextState) {
      this.setState(nextState);
    }
  }

  componentWillUnmount() {
    content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].maybeRevokeBlobObjectURL(this.state.cardImage);
  }

  render() {
    const {
      index,
      className,
      link,
      dispatch,
      contextMenuOptions,
      eventSource,
      shouldSendImpressionStats
    } = this.props;
    const {
      props
    } = this;
    const title = link.title || link.hostname;
    const isContextMenuOpen = this.state.activeCard === index; // Display "now" as "trending" until we have new strings #3402

    const {
      icon,
      fluentID
    } = _types__WEBPACK_IMPORTED_MODULE_1__["cardContextTypes"][link.type === "now" ? "trending" : link.type] || {};
    const hasImage = this.state.cardImage || link.hasImage;
    const imageStyle = {
      backgroundImage: this.state.cardImage ? `url(${this.state.cardImage.url})` : "none"
    };
    const outerClassName = ["card-outer", className, isContextMenuOpen && "active", props.placeholder && "placeholder"].filter(v => v).join(" ");
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li", {
      className: outerClassName
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a", {
      href: link.type === "pocket" ? link.open_url : link.url,
      onClick: !props.placeholder ? this.onLinkClick : undefined
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-preview-image-outer"
    }, hasImage && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: `card-preview-image${this.state.imageLoaded ? " loaded" : ""}`,
      style: imageStyle
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-details"
    }, link.type === "download" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-host-name alternate",
      "data-l10n-id": "newtab-menu-open-file"
    }), link.hostname && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-host-name"
    }, link.hostname.slice(0, 100), link.type === "download" && `  \u2014 ${link.description}`), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: ["card-text", icon ? "" : "no-context", link.description ? "" : "no-description", link.hostname ? "" : "no-host-name"].join(" ")
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h4", {
      className: "card-title",
      dir: "auto"
    }, link.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p", {
      className: "card-description",
      dir: "auto"
    }, link.description)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-context"
    }, icon && !link.context && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
      "aria-haspopup": "true",
      className: `card-context-icon icon icon-${icon}`
    }), link.icon && link.context && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
      "aria-haspopup": "true",
      className: "card-context-icon icon",
      style: {
        backgroundImage: `url('${link.icon}')`
      }
    }), fluentID && !link.context && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-context-label",
      "data-l10n-id": fluentID
    }), link.context && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-context-label"
    }, link.context))))), !props.placeholder && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_3__["ContextMenuButton"], {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuButtonUpdate
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_4__["LinkMenu"], {
      dispatch: dispatch,
      index: index,
      source: eventSource,
      options: link.contextMenuOptions || contextMenuOptions,
      site: link,
      siteInfo: this._getTelemetryInfo(),
      shouldSendImpressionStats: shouldSendImpressionStats
    })));
  }

}
_Card.defaultProps = {
  link: {}
};
const Card = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(state => ({
  platform: state.Prefs.values.platform
}))(_Card);
const PlaceholderCard = props => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Card, {
  placeholder: true,
  className: props.className
});

/***/ }),
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScreenshotUtils", function() { return ScreenshotUtils; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * List of helper functions for screenshot-based images.
 *
 * There are two kinds of images:
 * 1. Remote Image: This is the image from the main process and it refers to
 *    the image in the React props. This can either be an object with the `data`
 *    and `path` properties, if it is a blob, or a string, if it is a normal image.
 * 2. Local Image: This is the image object in the content process and it refers
 *    to the image *object* in the React component's state. All local image
 *    objects have the `url` property, and an additional property `path`, if they
 *    are blobs.
 */
const ScreenshotUtils = {
  isBlob(isLocal, image) {
    return !!(image && image.path && (!isLocal && image.data || isLocal && image.url));
  },

  // This should always be called with a remote image and not a local image.
  createLocalImageObject(remoteImage) {
    if (!remoteImage) {
      return null;
    }

    if (this.isBlob(false, remoteImage)) {
      return {
        url: global.URL.createObjectURL(remoteImage.data),
        path: remoteImage.path
      };
    }

    return {
      url: remoteImage
    };
  },

  // Revokes the object URL of the image if the local image is a blob.
  // This should always be called with a local image and not a remote image.
  maybeRevokeBlobObjectURL(localImage) {
    if (this.isBlob(true, localImage)) {
      global.URL.revokeObjectURL(localImage.url);
    }
  },

  // Checks if remoteImage and localImage are the same.
  isRemoteImageLocal(localImage, remoteImage) {
    // Both remoteImage and localImage are present.
    if (remoteImage && localImage) {
      return this.isBlob(false, remoteImage) ? localImage.path === remoteImage.path : localImage.url === remoteImage;
    } // This will only handle the remaining three possible outcomes.
    // (i.e. everything except when both image and localImage are present)


    return !remoteImage && !localImage;
  }

};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentPerfTimer", function() { return ComponentPerfTimer; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_lib_perf_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


 // Currently record only a fixed set of sections. This will prevent data
// from custom sections from showing up or from topstories.

const RECORDED_SECTIONS = ["highlights", "topsites"];
class ComponentPerfTimer extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component {
  constructor(props) {
    super(props); // Just for test dependency injection:

    this.perfSvc = this.props.perfSvc || content_src_lib_perf_service__WEBPACK_IMPORTED_MODULE_1__["perfService"];
    this._sendBadStateEvent = this._sendBadStateEvent.bind(this);
    this._sendPaintedEvent = this._sendPaintedEvent.bind(this);
    this._reportMissingData = false;
    this._timestampHandled = false;
    this._recordedFirstRender = false;
  }

  componentDidMount() {
    if (!RECORDED_SECTIONS.includes(this.props.id)) {
      return;
    }

    this._maybeSendPaintedEvent();
  }

  componentDidUpdate() {
    if (!RECORDED_SECTIONS.includes(this.props.id)) {
      return;
    }

    this._maybeSendPaintedEvent();
  }
  /**
   * Call the given callback after the upcoming frame paints.
   *
   * @note Both setTimeout and requestAnimationFrame are throttled when the page
   * is hidden, so this callback may get called up to a second or so after the
   * requestAnimationFrame "paint" for hidden tabs.
   *
   * Newtabs hidden while loading will presumably be fairly rare (other than
   * preloaded tabs, which we will be filtering out on the server side), so such
   * cases should get lost in the noise.
   *
   * If we decide that it's important to find out when something that's hidden
   * has "painted", however, another option is to post a message to this window.
   * That should happen even faster than setTimeout, and, at least as of this
   * writing, it's not throttled in hidden windows in Firefox.
   *
   * @param {Function} callback
   *
   * @returns void
   */


  _afterFramePaint(callback) {
    requestAnimationFrame(() => setTimeout(callback, 0));
  }

  _maybeSendBadStateEvent() {
    // Follow up bugs:
    // https://github.com/mozilla/activity-stream/issues/3691
    if (!this.props.initialized) {
      // Remember to report back when data is available.
      this._reportMissingData = true;
    } else if (this._reportMissingData) {
      this._reportMissingData = false; // Report how long it took for component to become initialized.

      this._sendBadStateEvent();
    }
  }

  _maybeSendPaintedEvent() {
    // If we've already handled a timestamp, don't do it again.
    if (this._timestampHandled || !this.props.initialized) {
      return;
    } // And if we haven't, we're doing so now, so remember that. Even if
    // something goes wrong in the callback, we can't try again, as we'd be
    // sending back the wrong data, and we have to do it here, so that other
    // calls to this method while waiting for the next frame won't also try to
    // handle it.


    this._timestampHandled = true;

    this._afterFramePaint(this._sendPaintedEvent);
  }
  /**
   * Triggered by call to render. Only first call goes through due to
   * `_recordedFirstRender`.
   */


  _ensureFirstRenderTsRecorded() {
    // Used as t0 for recording how long component took to initialize.
    if (!this._recordedFirstRender) {
      this._recordedFirstRender = true; // topsites_first_render_ts, highlights_first_render_ts.

      const key = `${this.props.id}_first_render_ts`;
      this.perfSvc.mark(key);
    }
  }
  /**
   * Creates `SAVE_SESSION_PERF_DATA` with timestamp in ms
   * of how much longer the data took to be ready for display than it would
   * have been the ideal case.
   * https://github.com/mozilla/ping-centre/issues/98
   */


  _sendBadStateEvent() {
    // highlights_data_ready_ts, topsites_data_ready_ts.
    const dataReadyKey = `${this.props.id}_data_ready_ts`;
    this.perfSvc.mark(dataReadyKey);

    try {
      const firstRenderKey = `${this.props.id}_first_render_ts`; // value has to be Int32.

      const value = parseInt(this.perfSvc.getMostRecentAbsMarkStartByName(dataReadyKey) - this.perfSvc.getMostRecentAbsMarkStartByName(firstRenderKey), 10);
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA,
        // highlights_data_late_by_ms, topsites_data_late_by_ms.
        data: {
          [`${this.props.id}_data_late_by_ms`]: value
        }
      }));
    } catch (ex) {// If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.
    }
  }

  _sendPaintedEvent() {
    // Record first_painted event but only send if topsites.
    if (this.props.id !== "topsites") {
      return;
    } // topsites_first_painted_ts.


    const key = `${this.props.id}_first_painted_ts`;
    this.perfSvc.mark(key);

    try {
      const data = {};
      data[key] = this.perfSvc.getMostRecentAbsMarkStartByName(key);
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA,
        data
      }));
    } catch (ex) {// If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.  We should at least not blow up, and should continue
      // to set this._timestampHandled to avoid going through this again.
    }
  }

  render() {
    if (RECORDED_SECTIONS.includes(this.props.id)) {
      this._ensureFirstRenderTsRecorded();

      this._maybeSendBadStateEvent();
    }

    return this.props.children;
  }

}

/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_PerfService", function() { return _PerfService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "perfService", function() { return perfService; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


let usablePerfObj = window.performance;
function _PerfService(options) {
  // For testing, so that we can use a fake Window.performance object with
  // known state.
  if (options && options.performanceObj) {
    this._perf = options.performanceObj;
  } else {
    this._perf = usablePerfObj;
  }
}
_PerfService.prototype = {
  /**
   * Calls the underlying mark() method on the appropriate Window.performance
   * object to add a mark with the given name to the appropriate performance
   * timeline.
   *
   * @param  {String} name  the name to give the current mark
   * @return {void}
   */
  mark: function mark(str) {
    this._perf.mark(str);
  },

  /**
   * Calls the underlying getEntriesByName on the appropriate Window.performance
   * object.
   *
   * @param  {String} name
   * @param  {String} type eg "mark"
   * @return {Array}       Performance* objects
   */
  getEntriesByName: function getEntriesByName(name, type) {
    return this._perf.getEntriesByName(name, type);
  },

  /**
   * The timeOrigin property from the appropriate performance object.
   * Used to ensure that timestamps from the add-on code and the content code
   * are comparable.
   *
   * @note If this is called from a context without a window
   * (eg a JSM in chrome), it will return the timeOrigin of the XUL hidden
   * window, which appears to be the first created window (and thus
   * timeOrigin) in the browser.  Note also, however, there is also a private
   * hidden window, presumably for private browsing, which appears to be
   * created dynamically later.  Exactly how/when that shows up needs to be
   * investigated.
   *
   * @return {Number} A double of milliseconds with a precision of 0.5us.
   */
  get timeOrigin() {
    return this._perf.timeOrigin;
  },

  /**
   * Returns the "absolute" version of performance.now(), i.e. one that
   * should ([bug 1401406](https://bugzilla.mozilla.org/show_bug.cgi?id=1401406)
   * be comparable across both chrome and content.
   *
   * @return {Number}
   */
  absNow: function absNow() {
    return this.timeOrigin + this._perf.now();
  },

  /**
   * This returns the absolute startTime from the most recent performance.mark()
   * with the given name.
   *
   * @param  {String} name  the name to lookup the start time for
   *
   * @return {Number}       the returned start time, as a DOMHighResTimeStamp
   *
   * @throws {Error}        "No Marks with the name ..." if none are available
   *
   * @note Always surround calls to this by try/catch.  Otherwise your code
   * may fail when the `privacy.resistFingerprinting` pref is true.  When
   * this pref is set, all attempts to get marks will likely fail, which will
   * cause this method to throw.
   *
   * See [bug 1369303](https://bugzilla.mozilla.org/show_bug.cgi?id=1369303)
   * for more info.
   */
  getMostRecentAbsMarkStartByName(name) {
    let entries = this.getEntriesByName(name, "mark");

    if (!entries.length) {
      throw new Error(`No marks with the name ${name}`);
    }

    let mostRecentEntry = entries[entries.length - 1];
    return this._perf.timeOrigin + mostRecentEntry.startTime;
  }

};
const perfService = new _PerfService();

/***/ }),
/* 43 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MoreRecommendations", function() { return MoreRecommendations; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class MoreRecommendations extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      read_more_endpoint
    } = this.props;

    if (read_more_endpoint) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        className: "more-recommendations",
        href: read_more_endpoint,
        "data-l10n-id": "newtab-pocket-more-recommendations"
      });
    }

    return null;
  }

}

/***/ }),
/* 44 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_PocketLoggedInCta", function() { return _PocketLoggedInCta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PocketLoggedInCta", function() { return PocketLoggedInCta; });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class _PocketLoggedInCta extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  render() {
    const {
      pocketCta
    } = this.props.Pocket;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "pocket-logged-in-cta"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a", {
      className: "pocket-cta-button",
      href: pocketCta.ctaUrl ? pocketCta.ctaUrl : "https://getpocket.com/"
    }, pocketCta.ctaButton ? pocketCta.ctaButton : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      "data-l10n-id": "newtab-pocket-cta-button"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a", {
      href: pocketCta.ctaUrl ? pocketCta.ctaUrl : "https://getpocket.com/"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "cta-text"
    }, pocketCta.ctaText ? pocketCta.ctaText : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      "data-l10n-id": "newtab-pocket-cta-text"
    }))));
  }

}
const PocketLoggedInCta = Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(state => ({
  Pocket: state.Pocket
}))(_PocketLoggedInCta);

/***/ }),
/* 45 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Topic", function() { return Topic; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Topics", function() { return Topics; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class Topic extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      url,
      name
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      key: name,
      href: url
    }, name));
  }

}
class Topics extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      topics
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: "topics"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      "data-l10n-id": "newtab-pocket-read-more"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, topics && topics.map(t => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Topic, {
      key: t.name,
      url: t.url,
      name: t.name
    }))));
  }

}

/***/ }),
/* 46 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_TopSites", function() { return _TopSites; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSites", function() { return TopSites; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(47);
/* harmony import */ var content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(29);
/* harmony import */ var content_src_components_ComponentPerfTimer_ComponentPerfTimer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(41);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(34);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _SearchShortcutsForm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(48);
/* harmony import */ var common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(66);
/* harmony import */ var _TopSiteForm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(67);
/* harmony import */ var _TopSite__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(49);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */












function topSiteIconType(link) {
  if (link.customScreenshotURL) {
    return "custom_screenshot";
  }

  if (link.tippyTopIcon || link.faviconRef === "tippytop") {
    return "tippytop";
  }

  if (link.faviconSize >= _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["MIN_RICH_FAVICON_SIZE"]) {
    return "rich_icon";
  }

  if (link.screenshot) {
    return "screenshot";
  }

  return "no_image";
}
/**
 * Iterates through TopSites and counts types of images.
 * @param acc Accumulator for reducer.
 * @param topsite Entry in TopSites.
 */


function countTopSitesIconsTypes(topSites) {
  const countTopSitesTypes = (acc, link) => {
    acc[topSiteIconType(link)]++;
    return acc;
  };

  return topSites.reduce(countTopSitesTypes, {
    custom_screenshot: 0,
    screenshot: 0,
    tippytop: 0,
    rich_icon: 0,
    no_image: 0
  });
}

class _TopSites extends react__WEBPACK_IMPORTED_MODULE_6___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onEditFormClose = this.onEditFormClose.bind(this);
    this.onSearchShortcutsFormClose = this.onSearchShortcutsFormClose.bind(this);
  }
  /**
   * Dispatch session statistics about the quality of TopSites icons and pinned count.
   */


  _dispatchTopSitesStats() {
    const topSites = this._getVisibleTopSites().filter(topSite => topSite !== null && topSite !== undefined);

    const topSitesIconsStats = countTopSitesIconsTypes(topSites);
    const topSitesPinned = topSites.filter(site => !!site.isPinned).length;
    const searchShortcuts = topSites.filter(site => !!site.searchTopSite).length; // Dispatch telemetry event with the count of TopSites images types.

    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA,
      data: {
        topsites_icon_stats: topSitesIconsStats,
        topsites_pinned: topSitesPinned,
        topsites_search_shortcuts: searchShortcuts
      }
    }));
  }
  /**
   * Return the TopSites that are visible based on prefs and window width.
   */


  _getVisibleTopSites() {
    // We hide 2 sites per row when not in the wide layout.
    let sitesPerRow = common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_8__["TOP_SITES_MAX_SITES_PER_ROW"]; // $break-point-widest = 1072px (from _variables.scss)

    if (!global.matchMedia(`(min-width: 1072px)`).matches) {
      sitesPerRow -= 2;
    }

    return this.props.TopSites.rows.slice(0, this.props.TopSitesRows * sitesPerRow);
  }

  componentDidUpdate() {
    this._dispatchTopSitesStats();
  }

  componentDidMount() {
    this._dispatchTopSitesStats();
  }

  onEditFormClose() {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      event: "TOP_SITES_EDIT_CLOSE"
    }));
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_CANCEL_EDIT
    });
  }

  onSearchShortcutsFormClose() {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      event: "SEARCH_EDIT_CLOSE"
    }));
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL
    });
  }

  render() {
    const {
      props
    } = this;
    const {
      editForm,
      showSearchShortcutsForm
    } = props.TopSites;
    const extraMenuOptions = ["AddTopSite"];
    const colors = props.Prefs.values["newNewtabExperience.colors"];

    if (props.Prefs.values["improvesearch.topSiteSearchShortcuts"]) {
      extraMenuOptions.push("AddSearchShortcut");
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(content_src_components_ComponentPerfTimer_ComponentPerfTimer__WEBPACK_IMPORTED_MODULE_3__["ComponentPerfTimer"], {
      id: "topsites",
      initialized: props.TopSites.initialized,
      dispatch: props.dispatch
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__["CollapsibleSection"], {
      className: "top-sites",
      id: "topsites",
      title: props.title || {
        id: "newtab-section-header-topsites"
      },
      hideTitle: true,
      extraMenuOptions: extraMenuOptions,
      showPrefName: "feeds.topsites",
      eventSource: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      collapsed: false,
      isFixed: props.isFixed,
      isFirst: props.isFirst,
      isLast: props.isLast,
      dispatch: props.dispatch
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_TopSite__WEBPACK_IMPORTED_MODULE_10__["TopSiteList"], {
      TopSites: props.TopSites,
      TopSitesRows: props.TopSitesRows,
      dispatch: props.dispatch,
      topSiteIconType: topSiteIconType,
      colors: colors
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "edit-topsites-wrapper"
    }, editForm && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "edit-topsites"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_5__["ModalOverlayWrapper"], {
      unstyled: true,
      onClose: this.onEditFormClose,
      innerClassName: "modal"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_TopSiteForm__WEBPACK_IMPORTED_MODULE_9__["TopSiteForm"], _extends({
      site: props.TopSites.rows[editForm.index],
      onClose: this.onEditFormClose,
      dispatch: this.props.dispatch
    }, editForm)))), showSearchShortcutsForm && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "edit-search-shortcuts"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_5__["ModalOverlayWrapper"], {
      unstyled: true,
      onClose: this.onSearchShortcutsFormClose,
      innerClassName: "modal"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_SearchShortcutsForm__WEBPACK_IMPORTED_MODULE_7__["SearchShortcutsForm"], {
      TopSites: props.TopSites,
      onClose: this.onSearchShortcutsFormClose,
      dispatch: this.props.dispatch
    }))))));
  }

}
const TopSites = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])((state, props) => ({
  // For SPOC Experiment only, take TopSites from DiscoveryStream TopSites that takes in SPOC Data
  TopSites: props.TopSitesWithSpoc || state.TopSites,
  Prefs: state.Prefs,
  TopSitesRows: state.Prefs.values.topSitesRows
}))(_TopSites);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 47 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_SOURCE", function() { return TOP_SITES_SOURCE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_CONTEXT_MENU_OPTIONS", function() { return TOP_SITES_CONTEXT_MENU_OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS", function() { return TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_SPONSORED_POSITION_CONTEXT_MENU_OPTIONS", function() { return TOP_SITES_SPONSORED_POSITION_CONTEXT_MENU_OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS", function() { return TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIN_RICH_FAVICON_SIZE", function() { return MIN_RICH_FAVICON_SIZE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIN_SMALL_FAVICON_SIZE", function() { return MIN_SMALL_FAVICON_SIZE; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
const TOP_SITES_SOURCE = "TOP_SITES";
const TOP_SITES_CONTEXT_MENU_OPTIONS = ["CheckPinTopSite", "EditTopSite", "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", "DeleteUrl"];
const TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS = ["PinTopSite", "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", "ShowPrivacyInfo"];
const TOP_SITES_SPONSORED_POSITION_CONTEXT_MENU_OPTIONS = ["OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", "AboutSponsored"]; // the special top site for search shortcut experiment can only have the option to unpin (which removes) the topsite

const TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS = ["CheckPinTopSite", "Separator", "BlockUrl"]; // minimum size necessary to show a rich icon instead of a screenshot

const MIN_RICH_FAVICON_SIZE = 96; // minimum size necessary to show any icon

const MIN_SMALL_FAVICON_SIZE = 16;

/***/ }),
/* 48 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectableSearchShortcut", function() { return SelectableSearchShortcut; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchShortcutsForm", function() { return SearchShortcutsForm; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _TopSitesConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(47);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class SelectableSearchShortcut extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  render() {
    const {
      shortcut,
      selected
    } = this.props;
    const imageStyle = {
      backgroundImage: `url("${shortcut.tippyTopIcon}")`
    };
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "top-site-outer search-shortcut"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input", {
      type: "checkbox",
      id: shortcut.keyword,
      name: shortcut.keyword,
      checked: selected,
      onChange: this.props.onChange
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("label", {
      htmlFor: shortcut.keyword
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "top-site-inner"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "tile"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "top-site-icon rich-icon",
      style: imageStyle,
      "data-fallback": "@"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "top-site-icon search-topsite"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "title"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      dir: "auto"
    }, shortcut.keyword))))));
  }

}
class SearchShortcutsForm extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.handleChange = this.handleChange.bind(this);
    this.onCancelButtonClick = this.onCancelButtonClick.bind(this);
    this.onSaveButtonClick = this.onSaveButtonClick.bind(this); // clone the shortcuts and add them to the state so we can add isSelected property

    const shortcuts = [];
    const {
      rows,
      searchShortcuts
    } = props.TopSites;
    searchShortcuts.forEach(shortcut => {
      shortcuts.push({ ...shortcut,
        isSelected: !!rows.find(row => row && row.isPinned && row.searchTopSite && row.label === shortcut.keyword)
      });
    });
    this.state = {
      shortcuts
    };
  }

  handleChange(event) {
    const {
      target
    } = event;
    const {
      name,
      checked
    } = target;
    this.setState(prevState => {
      const shortcuts = prevState.shortcuts.slice();
      let shortcut = shortcuts.find(({
        keyword
      }) => keyword === name);
      shortcut.isSelected = checked;
      return {
        shortcuts
      };
    });
  }

  onCancelButtonClick(ev) {
    ev.preventDefault();
    this.props.onClose();
  }

  onSaveButtonClick(ev) {
    ev.preventDefault(); // Check if there were any changes and act accordingly

    const {
      rows
    } = this.props.TopSites;
    const pinQueue = [];
    const unpinQueue = [];
    this.state.shortcuts.forEach(shortcut => {
      const alreadyPinned = rows.find(row => row && row.isPinned && row.searchTopSite && row.label === shortcut.keyword);

      if (shortcut.isSelected && !alreadyPinned) {
        pinQueue.push(this._searchTopSite(shortcut));
      } else if (!shortcut.isSelected && alreadyPinned) {
        unpinQueue.push({
          url: alreadyPinned.url,
          searchVendor: shortcut.shortURL
        });
      }
    }); // Tell the feed to do the work.

    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].UPDATE_PINNED_SEARCH_SHORTCUTS,
      data: {
        addedShortcuts: pinQueue,
        deletedShortcuts: unpinQueue
      }
    })); // Send the Telemetry pings.

    pinQueue.forEach(shortcut => {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_2__["TOP_SITES_SOURCE"],
        event: "SEARCH_EDIT_ADD",
        value: {
          search_vendor: shortcut.searchVendor
        }
      }));
    });
    unpinQueue.forEach(shortcut => {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_2__["TOP_SITES_SOURCE"],
        event: "SEARCH_EDIT_DELETE",
        value: {
          search_vendor: shortcut.searchVendor
        }
      }));
    });
    this.props.onClose();
  }

  _searchTopSite(shortcut) {
    return {
      url: shortcut.url,
      searchTopSite: true,
      label: shortcut.keyword,
      searchVendor: shortcut.shortURL
    };
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("form", {
      className: "topsite-form"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "search-shortcuts-container"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h3", {
      className: "section-title grey-title",
      "data-l10n-id": "newtab-topsites-add-search-engine-header"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", null, this.state.shortcuts.map(shortcut => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(SelectableSearchShortcut, {
      key: shortcut.keyword,
      shortcut: shortcut,
      selected: shortcut.isSelected,
      onChange: this.handleChange
    })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("section", {
      className: "actions"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
      className: "cancel",
      type: "button",
      onClick: this.onCancelButtonClick,
      "data-l10n-id": "newtab-topsites-cancel-button"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
      className: "done",
      type: "submit",
      onClick: this.onSaveButtonClick,
      "data-l10n-id": "newtab-topsites-save-button"
    })));
  }

}

/***/ }),
/* 49 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSiteLink", function() { return TopSiteLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSite", function() { return TopSite; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSitePlaceholder", function() { return TopSitePlaceholder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSiteList", function() { return TopSiteList; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(47);
/* harmony import */ var content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(18);
/* harmony import */ var _DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(40);
/* harmony import */ var common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(66);
/* harmony import */ var content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(21);
/* harmony import */ var _TopSiteImpressionWrapper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(50);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */









const SPOC_TYPE = "SPOC";
const NEWTAB_SOURCE = "newtab";
class TopSiteLink extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      screenshotImage: null
    };
    this.onDragEvent = this.onDragEvent.bind(this);
    this.onKeyPress = this.onKeyPress.bind(this);
  }
  /*
   * Helper to determine whether the drop zone should allow a drop. We only allow
   * dropping top sites for now. We don't allow dropping on sponsored top sites
   * as their position is fixed.
   */


  _allowDrop(e) {
    return (this.dragged || !this.props.link.sponsored_position) && e.dataTransfer.types.includes("text/topsite-index");
  }

  onDragEvent(event) {
    switch (event.type) {
      case "click":
        // Stop any link clicks if we started any dragging
        if (this.dragged) {
          event.preventDefault();
        }

        break;

      case "dragstart":
        event.target.blur();

        if (this.props.link.sponsored_position) {
          event.preventDefault();
          break;
        }

        this.dragged = true;
        event.dataTransfer.effectAllowed = "move";
        event.dataTransfer.setData("text/topsite-index", this.props.index);
        this.props.onDragEvent(event, this.props.index, this.props.link, this.props.title);
        break;

      case "dragend":
        this.props.onDragEvent(event);
        break;

      case "dragenter":
      case "dragover":
      case "drop":
        if (this._allowDrop(event)) {
          event.preventDefault();
          this.props.onDragEvent(event, this.props.index);
        }

        break;

      case "mousedown":
        // Block the scroll wheel from appearing for middle clicks on search top sites
        if (event.button === 1 && this.props.link.searchTopSite) {
          event.preventDefault();
        } // Reset at the first mouse event of a potential drag


        this.dragged = false;
        break;
    }
  }
  /**
   * Helper to obtain the next state based on nextProps and prevState.
   *
   * NOTE: Rename this method to getDerivedStateFromProps when we update React
   *       to >= 16.3. We will need to update tests as well. We cannot rename this
   *       method to getDerivedStateFromProps now because there is a mismatch in
   *       the React version that we are using for both testing and production.
   *       (i.e. react-test-render => "16.3.2", react => "16.2.0").
   *
   * See https://github.com/airbnb/enzyme/blob/master/packages/enzyme-adapter-react-16/package.json#L43.
   */


  static getNextStateFromProps(nextProps, prevState) {
    const {
      screenshot
    } = nextProps.link;
    const imageInState = content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotUtils"].isRemoteImageLocal(prevState.screenshotImage, screenshot);

    if (imageInState) {
      return null;
    } // Since image was updated, attempt to revoke old image blob URL, if it exists.


    content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotUtils"].maybeRevokeBlobObjectURL(prevState.screenshotImage);
    return {
      screenshotImage: content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotUtils"].createLocalImageObject(screenshot)
    };
  } // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.


  componentWillMount() {
    const nextState = TopSiteLink.getNextStateFromProps(this.props, this.state);

    if (nextState) {
      this.setState(nextState);
    }
  } // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.


  componentWillReceiveProps(nextProps) {
    const nextState = TopSiteLink.getNextStateFromProps(nextProps, this.state);

    if (nextState) {
      this.setState(nextState);
    }
  }

  componentWillUnmount() {
    content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotUtils"].maybeRevokeBlobObjectURL(this.state.screenshotImage);
  }

  onKeyPress(event) {
    // If we have tabbed to a search shortcut top site, and we click 'enter',
    // we should execute the onClick function. This needs to be added because
    // search top sites are anchor tags without an href. See bug 1483135
    if (this.props.link.searchTopSite && event.key === "Enter") {
      this.props.onClick(event);
    }
  }
  /*
   * Takes the url as a string, runs it through a simple (non-secure) hash turning it into a random number
   * Apply that random number to the color array. The same url will always generate the same color.
   */


  generateColor() {
    let {
      title,
      colors
    } = this.props;

    if (!colors) {
      return "";
    }

    let colorArray = colors.split(",");

    const hashStr = str => {
      let hash = 0;

      for (let i = 0; i < str.length; i++) {
        let charCode = str.charCodeAt(i);
        hash += charCode;
      }

      return hash;
    };

    let hash = hashStr(title);
    let index = hash % colorArray.length;
    return colorArray[index];
  }

  calculateStyle() {
    const {
      defaultStyle,
      link
    } = this.props;
    const {
      tippyTopIcon,
      faviconSize
    } = link;
    let imageClassName;
    let imageStyle;
    let showSmallFavicon = false;
    let smallFaviconStyle;
    let hasScreenshotImage = this.state.screenshotImage && this.state.screenshotImage.url;
    let selectedColor;

    if (defaultStyle) {
      // force no styles (letter fallback) even if the link has imagery
      selectedColor = this.generateColor();
    } else if (link.searchTopSite) {
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: `url(${tippyTopIcon})`
      };
      smallFaviconStyle = {
        backgroundImage: `url(${tippyTopIcon})`
      };
    } else if (link.customScreenshotURL) {
      // assume high quality custom screenshot and use rich icon styles and class names
      // TopSite spoc experiment only
      const spocImgURL = link.type === SPOC_TYPE ? link.customScreenshotURL : "";
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: hasScreenshotImage ? `url(${this.state.screenshotImage.url})` : `url(${spocImgURL})`
      };
    } else if (tippyTopIcon || faviconSize >= _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["MIN_RICH_FAVICON_SIZE"]) {
      // styles and class names for top sites with rich icons
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: `url(${tippyTopIcon || link.favicon})`
      };
    } else if (faviconSize >= _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["MIN_SMALL_FAVICON_SIZE"]) {
      showSmallFavicon = true;
      smallFaviconStyle = {
        backgroundImage: `url(${link.favicon})`
      };
    } else {
      selectedColor = this.generateColor();
      imageClassName = "";
    }

    return {
      showSmallFavicon,
      smallFaviconStyle,
      imageStyle,
      imageClassName,
      selectedColor
    };
  }

  render() {
    const {
      children,
      className,
      isDraggable,
      link,
      onClick,
      title
    } = this.props;
    const topSiteOuterClassName = `top-site-outer${className ? ` ${className}` : ""}${link.isDragged ? " dragged" : ""}${link.searchTopSite ? " search-shortcut" : ""}`;
    const [letterFallback] = title;
    const {
      showSmallFavicon,
      smallFaviconStyle,
      imageStyle,
      imageClassName,
      selectedColor
    } = this.calculateStyle();
    let draggableProps = {};

    if (isDraggable) {
      draggableProps = {
        onClick: this.onDragEvent,
        onDragEnd: this.onDragEvent,
        onDragStart: this.onDragEvent,
        onMouseDown: this.onDragEvent
      };
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("li", _extends({
      className: topSiteOuterClassName,
      onDrop: this.onDragEvent,
      onDragOver: this.onDragEvent,
      onDragEnter: this.onDragEvent,
      onDragLeave: this.onDragEvent
    }, draggableProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "top-site-inner"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
      className: "top-site-button",
      href: link.searchTopSite ? undefined : link.url,
      tabIndex: "0",
      onKeyPress: this.onKeyPress,
      onClick: onClick,
      draggable: true
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "tile",
      "aria-hidden": true
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: selectedColor ? "icon-wrapper letter-fallback" : "icon-wrapper",
      "data-fallback": letterFallback,
      style: selectedColor ? {
        backgroundColor: selectedColor
      } : {}
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: imageClassName,
      style: imageStyle
    }), showSmallFavicon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "top-site-icon default-icon",
      "data-fallback": smallFaviconStyle ? "" : letterFallback,
      style: smallFaviconStyle
    })), link.searchTopSite && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "top-site-icon search-topsite"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: `title${link.isPinned ? " has-icon pinned" : ""}${link.type === SPOC_TYPE || link.show_sponsored_label ? " sponsored" : ""}`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
      dir: "auto"
    }, link.isPinned && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "icon icon-pin-small"
    }), title || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
      className: "sponsored-label",
      "data-l10n-id": "newtab-topsite-sponsored"
    })))), children, link.type === SPOC_TYPE ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__["ImpressionStats"], {
      flightId: link.flightId,
      rows: [{
        id: link.id,
        pos: link.pos,
        shim: link.shim && link.shim.impression
      }],
      dispatch: this.props.dispatch,
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"]
    }) : null, link.sponsored_position ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_TopSiteImpressionWrapper__WEBPACK_IMPORTED_MODULE_8__["TopSiteImpressionWrapper"], {
      tile: {
        position: this.props.index + 1,
        tile_id: link.sponsored_tile_id || -1,
        reporting_url: link.sponsored_impression_url,
        advertiser: title.toLocaleLowerCase(),
        source: NEWTAB_SOURCE
      },
      dispatch: this.props.dispatch
    }) : null));
  }

}
TopSiteLink.defaultProps = {
  title: "",
  link: {},
  isDraggable: true
};
class TopSite extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      showContextMenu: false
    };
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
  }
  /**
   * Report to telemetry additional information about the item.
   */


  _getTelemetryInfo() {
    const value = {
      icon_type: this.props.link.iconType
    }; // Filter out "not_pinned" type for being the default

    if (this.props.link.isPinned) {
      value.card_type = "pinned";
    }

    if (this.props.link.searchTopSite) {
      // Set the card_type as "search" regardless of its pinning status
      value.card_type = "search";
      value.search_vendor = this.props.link.hostname;
    }

    if (this.props.link.type === SPOC_TYPE || this.props.link.sponsored_position) {
      value.card_type = "spoc";
    }

    return {
      value
    };
  }

  userEvent(event) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent(Object.assign({
      event,
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      action_position: this.props.index
    }, this._getTelemetryInfo())));
  }

  onLinkClick(event) {
    this.userEvent("CLICK"); // Specially handle a top site link click for "typed" frecency bonus as
    // specified as a property on the link.

    event.preventDefault();
    const {
      altKey,
      button,
      ctrlKey,
      metaKey,
      shiftKey
    } = event;

    if (!this.props.link.searchTopSite) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_LINK,
        data: Object.assign(this.props.link, {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          }
        })
      })); // Fire off a spoc specific impression.

      if (this.props.link.type === SPOC_TYPE) {
        this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
          source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
          click: 0,
          tiles: [{
            id: this.props.link.id,
            pos: this.props.link.pos,
            shim: this.props.link.shim && this.props.link.shim.click
          }]
        }));
      }

      if (this.props.link.sendAttributionRequest) {
        this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
          type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].PARTNER_LINK_ATTRIBUTION,
          data: {
            targetURL: this.props.link.url,
            source: "newtab"
          }
        }));
      }

      if (this.props.link.sponsored_position) {
        const title = this.props.link.label || this.props.link.hostname;
        this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
          type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_IMPRESSION_STATS,
          data: {
            type: "click",
            position: this.props.index + 1,
            tile_id: this.props.link.sponsored_tile_id || -1,
            reporting_url: this.props.link.sponsored_click_url,
            advertiser: title.toLocaleLowerCase(),
            source: NEWTAB_SOURCE
          }
        }));
      }
    } else {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].FILL_SEARCH_TERM,
        data: {
          label: this.props.link.label
        }
      }));
    }
  }

  onMenuUpdate(isOpen) {
    if (isOpen) {
      this.props.onActivate(this.props.index);
    } else {
      this.props.onActivate();
    }
  }

  render() {
    const {
      props
    } = this;
    const {
      link
    } = props;
    const isContextMenuOpen = props.activeIndex === props.index;
    const title = link.label || link.hostname;
    let menuOptions;

    if (link.sponsored_position) {
      menuOptions = _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SPONSORED_POSITION_CONTEXT_MENU_OPTIONS"];
    } else if (link.searchTopSite) {
      menuOptions = _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS"];
    } else if (link.type === SPOC_TYPE) {
      menuOptions = _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS"];
    } else {
      menuOptions = _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_CONTEXT_MENU_OPTIONS"];
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(TopSiteLink, _extends({}, props, {
      onClick: this.onLinkClick,
      onDragEvent: this.props.onDragEvent,
      className: `${props.className || ""}${isContextMenuOpen ? " active" : ""}`,
      title: title
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_7__["ContextMenuButton"], {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuUpdate
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_2__["LinkMenu"], {
      dispatch: props.dispatch,
      index: props.index,
      onUpdate: this.onMenuUpdate,
      options: menuOptions,
      site: link,
      shouldSendImpressionStats: link.type === SPOC_TYPE,
      siteInfo: this._getTelemetryInfo(),
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"]
    }))));
  }

}
TopSite.defaultProps = {
  link: {},

  onActivate() {}

};
class TopSitePlaceholder extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onEditButtonClick = this.onEditButtonClick.bind(this);
  }

  onEditButtonClick() {
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_EDIT,
      data: {
        index: this.props.index
      }
    });
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(TopSiteLink, _extends({}, this.props, {
      className: `placeholder ${this.props.className || ""}`,
      isDraggable: false
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
      "aria-haspopup": "true",
      className: "context-menu-button edit-button icon",
      "data-l10n-id": "newtab-menu-topsites-placeholder-tooltip",
      onClick: this.onEditButtonClick
    }));
  }

}
class TopSiteList extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  static get DEFAULT_STATE() {
    return {
      activeIndex: null,
      draggedIndex: null,
      draggedSite: null,
      draggedTitle: null,
      topSitesPreview: null
    };
  }

  constructor(props) {
    super(props);
    this.state = TopSiteList.DEFAULT_STATE;
    this.onDragEvent = this.onDragEvent.bind(this);
    this.onActivate = this.onActivate.bind(this);
  }

  componentWillReceiveProps(nextProps) {
    if (this.state.draggedSite) {
      const prevTopSites = this.props.TopSites && this.props.TopSites.rows;
      const newTopSites = nextProps.TopSites && nextProps.TopSites.rows;

      if (prevTopSites && prevTopSites[this.state.draggedIndex] && prevTopSites[this.state.draggedIndex].url === this.state.draggedSite.url && (!newTopSites[this.state.draggedIndex] || newTopSites[this.state.draggedIndex].url !== this.state.draggedSite.url)) {
        // We got the new order from the redux store via props. We can clear state now.
        this.setState(TopSiteList.DEFAULT_STATE);
      }
    }
  }

  userEvent(event, index) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event,
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      action_position: index
    }));
  }

  onDragEvent(event, index, link, title) {
    switch (event.type) {
      case "dragstart":
        this.dropped = false;
        this.setState({
          draggedIndex: index,
          draggedSite: link,
          draggedTitle: title,
          activeIndex: null
        });
        this.userEvent("DRAG", index);
        break;

      case "dragend":
        if (!this.dropped) {
          // If there was no drop event, reset the state to the default.
          this.setState(TopSiteList.DEFAULT_STATE);
        }

        break;

      case "dragenter":
        if (index === this.state.draggedIndex) {
          this.setState({
            topSitesPreview: null
          });
        } else {
          this.setState({
            topSitesPreview: this._makeTopSitesPreview(index)
          });
        }

        break;

      case "drop":
        if (index !== this.state.draggedIndex) {
          this.dropped = true;
          this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
            type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_INSERT,
            data: {
              site: {
                url: this.state.draggedSite.url,
                label: this.state.draggedTitle,
                customScreenshotURL: this.state.draggedSite.customScreenshotURL,
                // Only if the search topsites experiment is enabled
                ...(this.state.draggedSite.searchTopSite && {
                  searchTopSite: true
                })
              },
              index,
              draggedFromIndex: this.state.draggedIndex
            }
          }));
          this.userEvent("DROP", index);
        }

        break;
    }
  }

  _getTopSites() {
    // Make a copy of the sites to truncate or extend to desired length
    let topSites = this.props.TopSites.rows.slice();
    topSites.length = this.props.TopSitesRows * common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_6__["TOP_SITES_MAX_SITES_PER_ROW"];
    return topSites;
  }
  /**
   * Make a preview of the topsites that will be the result of dropping the currently
   * dragged site at the specified index.
   */


  _makeTopSitesPreview(index) {
    const topSites = this._getTopSites();

    topSites[this.state.draggedIndex] = null;
    const preview = topSites.map(site => site && (site.isPinned || site.sponsored_position) ? site : null);
    const unpinned = topSites.filter(site => site && !site.isPinned && !site.sponsored_position);
    const siteToInsert = Object.assign({}, this.state.draggedSite, {
      isPinned: true,
      isDragged: true
    });

    if (!preview[index]) {
      preview[index] = siteToInsert;
    } else {
      // Find the hole to shift the pinned site(s) towards. We shift towards the
      // hole left by the site being dragged.
      let holeIndex = index;
      const indexStep = index > this.state.draggedIndex ? -1 : 1;

      while (preview[holeIndex]) {
        holeIndex += indexStep;
      } // Shift towards the hole.


      const shiftingStep = index > this.state.draggedIndex ? 1 : -1;

      while (index > this.state.draggedIndex ? holeIndex < index : holeIndex > index) {
        let nextIndex = holeIndex + shiftingStep;

        while (preview[nextIndex] && preview[nextIndex].sponsored_position) {
          nextIndex += shiftingStep;
        }

        preview[holeIndex] = preview[nextIndex];
        holeIndex = nextIndex;
      }

      preview[index] = siteToInsert;
    } // Fill in the remaining holes with unpinned sites.


    for (let i = 0; i < preview.length; i++) {
      if (!preview[i]) {
        preview[i] = unpinned.shift() || null;
      }
    }

    return preview;
  }

  onActivate(index) {
    this.setState({
      activeIndex: index
    });
  }

  render() {
    const {
      props
    } = this;

    const topSites = this.state.topSitesPreview || this._getTopSites();

    const topSitesUI = [];
    const commonProps = {
      onDragEvent: this.onDragEvent,
      dispatch: props.dispatch
    }; // We assign a key to each placeholder slot. We need it to be independent
    // of the slot index (i below) so that the keys used stay the same during
    // drag and drop reordering and the underlying DOM nodes are reused.
    // This mostly (only?) affects linux so be sure to test on linux before changing.

    let holeIndex = 0; // On narrow viewports, we only show 6 sites per row. We'll mark the rest as
    // .hide-for-narrow to hide in CSS via @media query.

    const maxNarrowVisibleIndex = props.TopSitesRows * 6;

    for (let i = 0, l = topSites.length; i < l; i++) {
      const link = topSites[i] && Object.assign({}, topSites[i], {
        iconType: this.props.topSiteIconType(topSites[i])
      });
      const slotProps = {
        key: link ? link.url : holeIndex++,
        index: i
      };

      if (i >= maxNarrowVisibleIndex) {
        slotProps.className = "hide-for-narrow";
      }

      topSitesUI.push(!link ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(TopSitePlaceholder, _extends({}, slotProps, commonProps)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(TopSite, _extends({
        link: link,
        activeIndex: this.state.activeIndex,
        onActivate: this.onActivate
      }, slotProps, commonProps, {
        colors: props.colors
      })));
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("ul", {
      className: `top-sites-list${this.state.draggedSite ? " dnd-active" : ""}`
    }, topSitesUI);
  }

}

/***/ }),
/* 50 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INTERSECTION_RATIO", function() { return INTERSECTION_RATIO; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSiteImpressionWrapper", function() { return TopSiteImpressionWrapper; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange"; // Per analytical requirement, we set the minimal intersection ratio to
// 0.5, and an impression is identified when the wrapped item has at least
// 50% visibility.
//
// This constant is exported for unit test

const INTERSECTION_RATIO = 0.5;
/**
 * Impression wrapper for a TopSite tile.
 *
 * It makses use of the Intersection Observer API to detect the visibility,
 * and relies on page visibility to ensure the impression is reported
 * only when the component is visible on the page.
 */

class TopSiteImpressionWrapper extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  _dispatchImpressionStats() {
    const {
      tile
    } = this.props;
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_IMPRESSION_STATS,
      data: {
        type: "impression",
        ...tile
      }
    }));
  }

  setImpressionObserverOrAddListener() {
    const {
      props
    } = this;

    if (!props.dispatch) {
      return;
    }

    if (props.document.visibilityState === VISIBLE) {
      this.setImpressionObserver();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      }

      this._onVisibilityChange = () => {
        if (props.document.visibilityState === VISIBLE) {
          this.setImpressionObserver();
          props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };

      props.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  /**
   * Set an impression observer for the wrapped component. It makes use of
   * the Intersection Observer API to detect if the wrapped component is
   * visible with a desired ratio, and only sends impression if that's the case.
   *
   * See more details about Intersection Observer API at:
   * https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API
   */


  setImpressionObserver() {
    const {
      props
    } = this;

    if (!props.tile) {
      return;
    }

    this._handleIntersect = entries => {
      if (entries.some(entry => entry.isIntersecting && entry.intersectionRatio >= INTERSECTION_RATIO)) {
        this._dispatchImpressionStats();

        this.impressionObserver.unobserve(this.refs.topsite_impression_wrapper);
      }
    };

    const options = {
      threshold: INTERSECTION_RATIO
    };
    this.impressionObserver = new props.IntersectionObserver(this._handleIntersect, options);
    this.impressionObserver.observe(this.refs.topsite_impression_wrapper);
  }

  componentDidMount() {
    if (this.props.tile) {
      this.setImpressionObserverOrAddListener();
    }
  }

  componentWillUnmount() {
    if (this._handleIntersect && this.impressionObserver) {
      this.impressionObserver.unobserve(this.refs.topsite_impression_wrapper);
    }

    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      ref: "topsite_impression_wrapper",
      className: "topsite-impression-observer"
    }, this.props.children);
  }

}
TopSiteImpressionWrapper.defaultProps = {
  IntersectionObserver: global.IntersectionObserver,
  document: global.document,
  tile: null
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 51 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HorizontalRule", function() { return HorizontalRule; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class HorizontalRule extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("hr", {
      className: "ds-hr"
    });
  }

}

/***/ }),
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Topic", function() { return Topic; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Navigation", function() { return Navigation; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23);
/* harmony import */ var content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(26);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




class Topic extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
  }

  onLinkClick(event) {
    if (this.props.dispatch) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "CLICK",
        source: "POPULAR_TOPICS",
        action_position: 0,
        value: {
          topic: event.target.text.toLowerCase().replace(` `, `-`)
        }
      }));
    }
  }

  render() {
    const {
      url,
      name
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_2__["SafeAnchor"], {
      onLinkClick: this.onLinkClick,
      className: this.props.className,
      url: url
    }, name);
  }

}
class Navigation extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  render() {
    let links = this.props.links || [];
    const alignment = this.props.alignment || "centered";
    const header = this.props.header || {};
    const english = this.props.locale.startsWith("en-");
    const privacyNotice = this.props.privacyNoticeURL || {};
    const {
      newFooterSection
    } = this.props;
    const className = `ds-navigation ds-navigation-${alignment} ${newFooterSection ? `ds-navigation-new-topics` : ``}`;
    let {
      title
    } = header;

    if (newFooterSection) {
      title = {
        id: "newtab-pocket-new-topics-title"
      };

      if (this.props.extraLinks) {
        links = [...links.slice(0, links.length - 1), ...this.props.extraLinks, links[links.length - 1]];
      }
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: className
    }, title && english ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_3__["FluentOrText"], {
      message: title
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "ds-navigation-header"
    })) : null, english ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("ul", null, links && links.map(t => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", {
      key: t.name
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Topic, {
      url: t.url,
      name: t.name,
      dispatch: this.props.dispatch
    })))) : null, !newFooterSection ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_2__["SafeAnchor"], {
      className: "ds-navigation-privacy",
      url: privacyNotice.url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_3__["FluentOrText"], {
      message: privacyNotice.title
    })) : null, newFooterSection ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "ds-navigation-family"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "icon firefox-logo"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, "|"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "icon pocket-logo"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "ds-navigation-family-message",
      "data-l10n-id": "newtab-pocket-pocket-firefox-family"
    })) : null);
  }

}

/***/ }),
/* 53 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PrivacyLink", function() { return PrivacyLink; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23);
/* harmony import */ var content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(26);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class PrivacyLink extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      properties
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "ds-privacy-link"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_1__["SafeAnchor"], {
      url: properties.url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__["FluentOrText"], {
      message: properties.title
    })));
  }

}

/***/ }),
/* 54 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionTitle", function() { return SectionTitle; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class SectionTitle extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      header: {
        title,
        subtitle
      }
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "ds-section-title"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "title"
    }, title), subtitle ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "subtitle"
    }, subtitle) : null);
  }

}

/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectLayoutRender", function() { return selectLayoutRender; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
const selectLayoutRender = ({
  state = {},
  prefs = {},
  locale = ""
}) => {
  const {
    layout,
    feeds,
    spocs
  } = state;
  let spocIndexPlacementMap = {};
  /* This function fills spoc positions on a per placement basis with available spocs.
   * It does this by looping through each position for a placement and replacing a rec with a spoc.
   * If it runs out of spocs or positions, it stops.
   * If it sees the same placement again, it remembers the previous spoc index, and continues.
   * If it sees a blocked spoc, it skips that position leaving in a regular story.
   */

  function fillSpocPositionsForPlacement(data, spocsConfig, spocsData, placementName) {
    if (!spocIndexPlacementMap[placementName] && spocIndexPlacementMap[placementName] !== 0) {
      spocIndexPlacementMap[placementName] = 0;
    }

    const results = [...data];

    for (let position of spocsConfig.positions) {
      const spoc = spocsData[spocIndexPlacementMap[placementName]]; // If there are no spocs left, we can stop filling positions.

      if (!spoc) {
        break;
      } // A placement could be used in two sections.
      // In these cases, we want to maintain the index of the previous section.
      // If we didn't do this, it might duplicate spocs.


      spocIndexPlacementMap[placementName]++; // A spoc that's blocked is removed from the source for subsequent newtab loads.
      // If we have a spoc in the source that's blocked, it means it was *just* blocked,
      // and in this case, we skip this position, and show a regular spoc instead.

      if (!spocs.blocked.includes(spoc.url)) {
        results.splice(position.index, 0, spoc);
      }
    }

    return results;
  }

  const positions = {};
  const DS_COMPONENTS = ["Message", "TextPromo", "SectionTitle", "Signup", "Navigation", "CardGrid", "CollectionCardGrid", "HorizontalRule", "PrivacyLink"];
  const filterArray = [];

  if (!prefs["feeds.topsites"]) {
    filterArray.push("TopSites");
  }

  const pocketEnabled = prefs["feeds.section.topstories"] && prefs["feeds.system.topstories"];

  if (!pocketEnabled) {
    filterArray.push(...DS_COMPONENTS);
  }

  const placeholderComponent = component => {
    if (!component.feed) {
      // TODO we now need a placeholder for topsites and textPromo.
      return { ...component,
        data: {
          spocs: []
        }
      };
    }

    const data = {
      recommendations: []
    };
    let items = 0;

    if (component.properties && component.properties.items) {
      items = component.properties.items;
    }

    for (let i = 0; i < items; i++) {
      data.recommendations.push({
        placeholder: true
      });
    }

    return { ...component,
      data
    };
  }; // TODO update devtools to show placements


  const handleSpocs = (data, component) => {
    let result = [...data]; // Do we ever expect to possibly have a spoc.

    if (component.spocs && component.spocs.positions && component.spocs.positions.length) {
      const placement = component.placement || {};
      const placementName = placement.name || "spocs";
      const spocsData = spocs.data[placementName]; // We expect a spoc, spocs are loaded, and the server returned spocs.

      if (spocs.loaded && spocsData && spocsData.items && spocsData.items.length) {
        result = fillSpocPositionsForPlacement(result, component.spocs, spocsData.items, placementName);
      }
    }

    return result;
  };

  const handleComponent = component => {
    if (component.spocs && component.spocs.positions && component.spocs.positions.length) {
      const placement = component.placement || {};
      const placementName = placement.name || "spocs";
      const spocsData = spocs.data[placementName];

      if (spocs.loaded && spocsData && spocsData.items && spocsData.items.length) {
        return { ...component,
          data: {
            spocs: spocsData.items.filter(spoc => spoc && !spocs.blocked.includes(spoc.url)).map((spoc, index) => ({ ...spoc,
              pos: index
            }))
          }
        };
      }
    }

    return { ...component,
      data: {
        spocs: []
      }
    };
  };

  const handleComponentWithFeed = component => {
    positions[component.type] = positions[component.type] || 0;
    let data = {
      recommendations: []
    };
    const feed = feeds.data[component.feed.url];

    if (feed && feed.data) {
      data = { ...feed.data,
        recommendations: [...(feed.data.recommendations || [])]
      };
    }

    if (component && component.properties && component.properties.offset) {
      data = { ...data,
        recommendations: data.recommendations.slice(component.properties.offset)
      };
    }

    data = { ...data,
      recommendations: handleSpocs(data.recommendations, component)
    };
    let items = 0;

    if (component.properties && component.properties.items) {
      items = Math.min(component.properties.items, data.recommendations.length);
    } // loop through a component items
    // Store the items position sequentially for multiple components of the same type.
    // Example: A second card grid starts pos offset from the last card grid.


    for (let i = 0; i < items; i++) {
      data.recommendations[i] = { ...data.recommendations[i],
        pos: positions[component.type]++
      };
    }

    return { ...component,
      data
    };
  };

  const renderLayout = () => {
    const renderedLayoutArray = [];

    for (const row of layout.filter(r => r.components.filter(c => !filterArray.includes(c.type)).length)) {
      let components = [];
      renderedLayoutArray.push({ ...row,
        components
      });

      for (const component of row.components.filter(c => !filterArray.includes(c.type))) {
        const spocsConfig = component.spocs;

        if (spocsConfig || component.feed) {
          // TODO make sure this still works for different loading cases.
          if (component.feed && !feeds.data[component.feed.url] || spocsConfig && spocsConfig.positions && spocsConfig.positions.length && !spocs.loaded) {
            components.push(placeholderComponent(component));
            return renderedLayoutArray;
          }

          if (component.feed) {
            components.push(handleComponentWithFeed(component));
          } else {
            components.push(handleComponent(component));
          }
        } else {
          components.push(component);
        }
      }
    }

    return renderedLayoutArray;
  };

  const layoutRender = renderLayout();
  return {
    layoutRender
  };
};

/***/ }),
/* 56 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_TopSites", function() { return _TopSites; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSites", function() { return TopSites; });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var content_src_components_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);
/* harmony import */ var common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(66);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




class _TopSites extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  // Find a SPOC that doesn't already exist in User's TopSites
  getFirstAvailableSpoc(topSites, data) {
    const {
      spocs
    } = data;

    if (!spocs || spocs.length === 0) {
      return null;
    }

    const userTopSites = new Set(topSites.map(topSite => topSite && topSite.url)); // We "clean urls" with http in TopSiteForm.jsx
    // Spoc domains are in the format 'sponsorname.com'

    return spocs.find(spoc => !userTopSites.has(spoc.url) && !userTopSites.has(`http://${spoc.domain}`) && !userTopSites.has(`https://${spoc.domain}`) && !userTopSites.has(`http://www.${spoc.domain}`) && !userTopSites.has(`https://www.${spoc.domain}`));
  } // Find the first empty or unpinned index we can place the SPOC in.
  // Return -1 if no available index and we should push it at the end.


  getFirstAvailableIndex(topSites, promoAlignment) {
    if (promoAlignment === "left") {
      return topSites.findIndex(topSite => !topSite || !topSite.isPinned);
    } // The row isn't full so we can push it to the end of the row.


    if (topSites.length < common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_2__["TOP_SITES_MAX_SITES_PER_ROW"]) {
      return -1;
    } // If the row is full, we can check the row first for unpinned topsites to replace.
    // Else we can check after the row. This behavior is how unpinned topsites move while drag and drop.


    let endOfRow = common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_2__["TOP_SITES_MAX_SITES_PER_ROW"] - 1;

    for (let i = endOfRow; i >= 0; i--) {
      if (!topSites[i] || !topSites[i].isPinned) {
        return i;
      }
    }

    for (let i = endOfRow + 1; i < topSites.length; i++) {
      if (!topSites[i] || !topSites[i].isPinned) {
        return i;
      }
    }

    return -1;
  }

  insertSpocContent(TopSites, data, promoAlignment) {
    if (!TopSites.rows || TopSites.rows.length === 0 || !data.spocs || data.spocs.length === 0) {
      return null;
    }

    let topSites = [...TopSites.rows];
    const topSiteSpoc = this.getFirstAvailableSpoc(topSites, data);

    if (!topSiteSpoc) {
      return null;
    }

    const link = {
      customScreenshotURL: topSiteSpoc.image_src,
      type: "SPOC",
      label: topSiteSpoc.sponsor,
      title: topSiteSpoc.sponsor,
      url: topSiteSpoc.url,
      flightId: topSiteSpoc.flight_id,
      id: topSiteSpoc.id,
      guid: topSiteSpoc.id,
      shim: topSiteSpoc.shim,
      // For now we are assuming position based on intended position.
      // Actual position can shift based on other content.
      // We also hard code left and right to be 0 and 7.
      // We send the intended postion in the ping.
      pos: promoAlignment === "left" ? 0 : 7
    };
    const firstAvailableIndex = this.getFirstAvailableIndex(topSites, promoAlignment);

    if (firstAvailableIndex === -1) {
      topSites.push(link);
    } else {
      // Normal insertion will not work since pinned topsites are in their correct index already
      // Similar logic is done to handle drag and drop with pinned topsites in TopSite.jsx
      let shiftedTopSite = topSites[firstAvailableIndex];
      let index = firstAvailableIndex + 1; // Shift unpinned topsites to the right by finding the next unpinned topsite to replace

      while (shiftedTopSite) {
        if (index === topSites.length) {
          topSites.push(shiftedTopSite);
          shiftedTopSite = null;
        } else if (topSites[index] && topSites[index].isPinned) {
          index += 1;
        } else {
          const nextTopSite = topSites[index];
          topSites[index] = shiftedTopSite;
          shiftedTopSite = nextTopSite;
          index += 1;
        }
      }

      topSites[firstAvailableIndex] = link;
    }

    return { ...TopSites,
      rows: topSites
    };
  }

  render() {
    const {
      header = {},
      data,
      promoAlignment,
      TopSites
    } = this.props;
    const TopSitesWithSpoc = TopSites && data && promoAlignment ? this.insertSpocContent(TopSites, data, promoAlignment) : null;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: `ds-top-sites ${TopSitesWithSpoc ? "top-sites-spoc" : ""}`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(content_src_components_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_1__["TopSites"], {
      isFixed: true,
      title: header.title,
      TopSitesWithSpoc: TopSitesWithSpoc
    }));
  }

}
const TopSites = Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(state => ({
  TopSites: state.TopSites
}))(_TopSites);

/***/ }),
/* 57 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Search", function() { return _Search; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Search", function() { return Search; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var content_src_lib_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(13);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/* globals ContentSearchUIController, ContentSearchHandoffUIController */


function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }





class _Search extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onSearchClick = this.onSearchClick.bind(this);
    this.onSearchHandoffClick = this.onSearchHandoffClick.bind(this);
    this.onSearchHandoffPaste = this.onSearchHandoffPaste.bind(this);
    this.onSearchHandoffDrop = this.onSearchHandoffDrop.bind(this);
    this.onInputMount = this.onInputMount.bind(this);
    this.onInputMountHandoff = this.onInputMountHandoff.bind(this);
    this.onSearchHandoffButtonMount = this.onSearchHandoffButtonMount.bind(this);
  }

  handleEvent(event) {
    // Also track search events with our own telemetry
    if (event.detail.type === "Search") {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "SEARCH"
      }));
    }
  }

  onSearchClick(event) {
    window.gContentSearchController.search(event);
  }

  doSearchHandoff(text) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].HANDOFF_SEARCH_TO_AWESOMEBAR,
      data: {
        text
      }
    }));
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].FAKE_FOCUS_SEARCH
    });
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event: "SEARCH_HANDOFF"
    }));

    if (text) {
      this.props.dispatch({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISABLE_SEARCH
      });
    }
  }

  onSearchHandoffClick(event) {
    // When search hand-off is enabled, we render a big button that is styled to
    // look like a search textbox. If the button is clicked, we style
    // the button as if it was a focused search box and show a fake cursor but
    // really focus the awesomebar without the focus styles ("hidden focus").
    event.preventDefault();
    this.doSearchHandoff();
  }

  onSearchHandoffPaste(event) {
    event.preventDefault();
    this.doSearchHandoff(event.clipboardData.getData("Text"));
  }

  onSearchHandoffDrop(event) {
    event.preventDefault();
    let text = event.dataTransfer.getData("text");

    if (text) {
      this.doSearchHandoff(text);
    }
  }

  componentWillUnmount() {
    delete window.gContentSearchController;
  }

  onInputMount(input) {
    if (input) {
      // The "healthReportKey" and needs to be "newtab" or "abouthome" so that
      // BrowserUsageTelemetry.jsm knows to handle events with this name, and
      // can add the appropriate telemetry probes for search. Without the correct
      // name, certain tests like browser_UsageTelemetry_content.js will fail
      // (See github ticket #2348 for more details)
      const healthReportKey = content_src_lib_constants__WEBPACK_IMPORTED_MODULE_2__["IS_NEWTAB"] ? "newtab" : "abouthome"; // The "searchSource" needs to be "newtab" or "homepage" and is sent with
      // the search data and acts as context for the search request (See
      // nsISearchEngine.getSubmission). It is necessary so that search engine
      // plugins can correctly atribute referrals. (See github ticket #3321 for
      // more details)

      const searchSource = content_src_lib_constants__WEBPACK_IMPORTED_MODULE_2__["IS_NEWTAB"] ? "newtab" : "homepage"; // gContentSearchController needs to exist as a global so that tests for
      // the existing about:home can find it; and so it allows these tests to pass.
      // In the future, when activity stream is default about:home, this can be renamed

      window.gContentSearchController = new ContentSearchUIController(input, input.parentNode, healthReportKey, searchSource);
      addEventListener("ContentSearchClient", this);
    } else {
      window.gContentSearchController = null;
      removeEventListener("ContentSearchClient", this);
    }
  }

  onInputMountHandoff(input) {
    if (input) {
      // The handoff UI controller helps us set the search icon and reacts to
      // changes to default engine to keep everything in sync.
      this._handoffSearchController = new ContentSearchHandoffUIController();
    }
  }

  getDefaultEngineName() {
    // _handoffSearchController will manage engine names once it is initialized.
    return this.props.Prefs.values["urlbar.placeholderName"];
  }

  getHandoffInputL10nAttributes() {
    let defaultEngineName = this.getDefaultEngineName();
    return defaultEngineName ? {
      "data-l10n-id": "newtab-search-box-handoff-input",
      "data-l10n-args": `{"engine": "${defaultEngineName}"}`
    } : {
      "data-l10n-id": "newtab-search-box-handoff-input-no-engine"
    };
  }

  getHandoffTextL10nAttributes() {
    let defaultEngineName = this.getDefaultEngineName();
    return defaultEngineName ? {
      "data-l10n-id": "newtab-search-box-handoff-text",
      "data-l10n-args": `{"engine": "${defaultEngineName}"}`
    } : {
      "data-l10n-id": "newtab-search-box-handoff-text-no-engine"
    };
  }

  onSearchHandoffButtonMount(button) {
    // Keep a reference to the button for use during "paste" event handling.
    this._searchHandoffButton = button;
  }
  /*
   * Do not change the ID on the input field, as legacy newtab code
   * specifically looks for the id 'newtab-search-text' on input fields
   * in order to execute searches in various tests
   */


  render() {
    const wrapperClassName = ["search-wrapper", this.props.disable && "search-disabled", this.props.fakeFocus && "fake-focus"].filter(v => v).join(" ");
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: wrapperClassName
    }, this.props.showLogo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "logo-and-wordmark"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "logo"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "wordmark"
    })), !this.props.handoffEnabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "search-inner-wrapper"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      id: "newtab-search-text",
      "data-l10n-id": "newtab-search-box-input",
      maxLength: "256",
      ref: this.onInputMount,
      type: "search"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      id: "searchSubmit",
      className: "search-button",
      "data-l10n-id": "newtab-search-box-search-button",
      onClick: this.onSearchClick
    })), this.props.handoffEnabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "search-inner-wrapper"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", _extends({
      className: "search-handoff-button"
    }, this.getHandoffInputL10nAttributes(), {
      ref: this.onSearchHandoffButtonMount,
      onClick: this.onSearchHandoffClick,
      tabIndex: "-1"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", _extends({
      className: "fake-textbox"
    }, this.getHandoffTextL10nAttributes())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "search",
      className: "fake-editable",
      tabIndex: "-1",
      "aria-hidden": "true",
      onDrop: this.onSearchHandoffDrop,
      onPaste: this.onSearchHandoffPaste,
      ref: this.onInputMountHandoff
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "fake-caret"
    }))));
  }

}
const Search = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(state => ({
  Prefs: state.Prefs
}))(_Search);

/***/ }),
/* 58 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetectUserSessionStart", function() { return DetectUserSessionStart; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_lib_perf_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange";
class DetectUserSessionStart {
  constructor(store, options = {}) {
    this._store = store; // Overrides for testing

    this.document = options.document || global.document;
    this._perfService = options.perfService || content_src_lib_perf_service__WEBPACK_IMPORTED_MODULE_1__["perfService"];
    this._onVisibilityChange = this._onVisibilityChange.bind(this);
  }
  /**
   * sendEventOrAddListener - Notify immediately if the page is already visible,
   *                    or else set up a listener for when visibility changes.
   *                    This is needed for accurate session tracking for telemetry,
   *                    because tabs are pre-loaded.
   */


  sendEventOrAddListener() {
    if (this.document.visibilityState === VISIBLE) {
      // If the document is already visible, to the user, send a notification
      // immediately that a session has started.
      this._sendEvent();
    } else {
      // If the document is not visible, listen for when it does become visible.
      this.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  /**
   * _sendEvent - Sends a message to the main process to indicate the current
   *              tab is now visible to the user, includes the
   *              visibility_event_rcvd_ts time in ms from the UNIX epoch.
   */


  _sendEvent() {
    this._perfService.mark("visibility_event_rcvd_ts");

    try {
      let visibility_event_rcvd_ts = this._perfService.getMostRecentAbsMarkStartByName("visibility_event_rcvd_ts");

      this._store.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA,
        data: {
          visibility_event_rcvd_ts
        }
      }));
    } catch (ex) {// If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.  We should at least not blow up.
    }
  }
  /**
   * _onVisibilityChange - If the visibility has changed to visible, sends a notification
   *                      and removes the event listener. This should only be called once per tab.
   */


  _onVisibilityChange() {
    if (this.document.visibilityState === VISIBLE) {
      this._sendEvent();

      this.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 59 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MERGE_STORE_ACTION", function() { return MERGE_STORE_ACTION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OUTGOING_MESSAGE_NAME", function() { return OUTGOING_MESSAGE_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INCOMING_MESSAGE_NAME", function() { return INCOMING_MESSAGE_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EARLY_QUEUED_ACTIONS", function() { return EARLY_QUEUED_ACTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rehydrationMiddleware", function() { return rehydrationMiddleware; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queueEarlyMessageMiddleware", function() { return queueEarlyMessageMiddleware; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initStore", function() { return initStore; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(redux__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/* eslint-env mozilla/frame-script */


const MERGE_STORE_ACTION = "NEW_TAB_INITIAL_STATE";
const OUTGOING_MESSAGE_NAME = "ActivityStream:ContentToMain";
const INCOMING_MESSAGE_NAME = "ActivityStream:MainToContent";
const EARLY_QUEUED_ACTIONS = [common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA];
/**
 * A higher-order function which returns a reducer that, on MERGE_STORE action,
 * will return the action.data object merged into the previous state.
 *
 * For all other actions, it merely calls mainReducer.
 *
 * Because we want this to merge the entire state object, it's written as a
 * higher order function which takes the main reducer (itself often a call to
 * combineReducers) as a parameter.
 *
 * @param  {function} mainReducer reducer to call if action != MERGE_STORE_ACTION
 * @return {function}             a reducer that, on MERGE_STORE_ACTION action,
 *                                will return the action.data object merged
 *                                into the previous state, and the result
 *                                of calling mainReducer otherwise.
 */

function mergeStateReducer(mainReducer) {
  return (prevState, action) => {
    if (action.type === MERGE_STORE_ACTION) {
      return { ...prevState,
        ...action.data
      };
    }

    return mainReducer(prevState, action);
  };
}
/**
 * messageMiddleware - Middleware that looks for SentToMain type actions, and sends them if necessary
 */


const messageMiddleware = store => next => action => {
  const skipLocal = action.meta && action.meta.skipLocal;

  if (common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isSendToMain(action)) {
    RPMSendAsyncMessage(OUTGOING_MESSAGE_NAME, action);
  }

  if (!skipLocal) {
    next(action);
  }
};

const rehydrationMiddleware = ({
  getState
}) => {
  // NB: The parameter here is MiddlewareAPI which looks like a Store and shares
  // the same getState, so attached properties are accessible from the store.
  getState.didRehydrate = false;
  getState.didRequestInitialState = false;
  return next => action => {
    if (getState.didRehydrate || window.__FROM_STARTUP_CACHE__) {
      // Startup messages can be safely ignored by the about:home document
      // stored in the startup cache.
      if (window.__FROM_STARTUP_CACHE__ && action.meta && action.meta.isStartup) {
        return null;
      }

      return next(action);
    }

    const isMergeStoreAction = action.type === MERGE_STORE_ACTION;
    const isRehydrationRequest = action.type === common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].NEW_TAB_STATE_REQUEST;

    if (isRehydrationRequest) {
      getState.didRequestInitialState = true;
      return next(action);
    }

    if (isMergeStoreAction) {
      getState.didRehydrate = true;
      return next(action);
    } // If init happened after our request was made, we need to re-request


    if (getState.didRequestInitialState && action.type === common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].INIT) {
      return next(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].NEW_TAB_STATE_REQUEST
      }));
    }

    if (common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isBroadcastToContent(action) || common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isSendToOneContent(action) || common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isSendToPreloaded(action)) {
      // Note that actions received before didRehydrate will not be dispatched
      // because this could negatively affect preloading and the the state
      // will be replaced by rehydration anyway.
      return null;
    }

    return next(action);
  };
};
/**
 * This middleware queues up all the EARLY_QUEUED_ACTIONS until it receives
 * the first action from main. This is useful for those actions for main which
 * require higher reliability, i.e. the action will not be lost in the case
 * that it gets sent before the main is ready to receive it. Conversely, any
 * actions allowed early are accepted to be ignorable or re-sendable.
 */

const queueEarlyMessageMiddleware = ({
  getState
}) => {
  // NB: The parameter here is MiddlewareAPI which looks like a Store and shares
  // the same getState, so attached properties are accessible from the store.
  getState.earlyActionQueue = [];
  getState.receivedFromMain = false;
  return next => action => {
    if (getState.receivedFromMain) {
      next(action);
    } else if (common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isFromMain(action)) {
      next(action);
      getState.receivedFromMain = true; // Sending out all the early actions as main is ready now

      getState.earlyActionQueue.forEach(next);
      getState.earlyActionQueue.length = 0;
    } else if (EARLY_QUEUED_ACTIONS.includes(action.type)) {
      getState.earlyActionQueue.push(action);
    } else {
      // Let any other type of action go through
      next(action);
    }
  };
};
/**
 * initStore - Create a store and listen for incoming actions
 *
 * @param  {object} reducers An object containing Redux reducers
 * @param  {object} intialState (optional) The initial state of the store, if desired
 * @return {object}          A redux store
 */

function initStore(reducers, initialState) {
  const store = Object(redux__WEBPACK_IMPORTED_MODULE_1__["createStore"])(mergeStateReducer(Object(redux__WEBPACK_IMPORTED_MODULE_1__["combineReducers"])(reducers)), initialState, global.RPMAddMessageListener && Object(redux__WEBPACK_IMPORTED_MODULE_1__["applyMiddleware"])(queueEarlyMessageMiddleware, rehydrationMiddleware, messageMiddleware));

  if (global.RPMAddMessageListener) {
    global.RPMAddMessageListener(INCOMING_MESSAGE_NAME, msg => {
      try {
        store.dispatch(msg.data);
      } catch (ex) {
        console.error("Content msg:", msg, "Dispatch error: ", ex); // eslint-disable-line no-console

        dump(`Content msg: ${JSON.stringify(msg)}\nDispatch error: ${ex}\n${ex.stack}`);
      }
    });
  }

  return store;
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 60 */
/***/ (function(module, exports) {

module.exports = Redux;

/***/ }),
/* 61 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(8);

// EXTERNAL MODULE: external "PropTypes"
var external_PropTypes_ = __webpack_require__(12);
var external_PropTypes_default = /*#__PURE__*/__webpack_require__.n(external_PropTypes_);

// CONCATENATED MODULE: ./node_modules/fluent-sequence/src/map_sync.js
/*
 * Synchronously map an identifier or an array of identifiers to the best
 * `FluentBundle` instance(s).
 *
 * @param {Iterable} iterable
 * @param {string|Array<string>} ids
 * @returns {FluentBundle|Array<FluentBundle>}
 */
function mapBundleSync(iterable, ids) {
  if (!Array.isArray(ids)) {
    return getBundleForId(iterable, ids);
  }

  return ids.map(
    id => getBundleForId(iterable, id)
  );
}

/*
 * Find the best `FluentBundle` with the translation for `id`.
 */
function getBundleForId(iterable, id) {
  for (const bundle of iterable) {
    if (bundle.hasMessage(id)) {
      return bundle;
    }
  }

  return null;
}

// CONCATENATED MODULE: ./node_modules/fluent-sequence/src/map_async.js
/*
 * Asynchronously map an identifier or an array of identifiers to the best
 * `FluentBundle` instance(s).
 *
 * @param {AsyncIterable} iterable
 * @param {string|Array<string>} ids
 * @returns {Promise<FluentBundle|Array<FluentBundle>>}
 */
async function mapBundleAsync(iterable, ids) {
  if (!Array.isArray(ids)) {
    for await (const bundle of iterable) {
      if (bundle.hasMessage(ids)) {
        return bundle;
      }
    }
  }

  let remainingCount = ids.length;
  const foundBundles = new Array(remainingCount).fill(null);

  for await (const bundle of iterable) {
    for (const [index, id] of ids.entries()) {
      if (!foundBundles[index] && bundle.hasMessage(id)) {
        foundBundles[index] = bundle;
        remainingCount--;
      }

      // Return early when all ids have been mapped to contexts.
      if (remainingCount === 0) {
        return foundBundles;
      }
    }
  }

  return foundBundles;
}

// CONCATENATED MODULE: ./node_modules/fluent-sequence/src/index.js
/*
 * @module fluent-sequence
 * @overview Manage ordered sequences of FluentBundles.
 */




// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_iterable.mjs
/*
 * Base CachedIterable class.
 */
class CachedIterable extends Array {
    /**
     * Create a `CachedIterable` instance from an iterable or, if another
     * instance of `CachedIterable` is passed, return it without any
     * modifications.
     *
     * @param {Iterable} iterable
     * @returns {CachedIterable}
     */
    static from(iterable) {
        if (iterable instanceof this) {
            return iterable;
        }

        return new this(iterable);
    }
}

// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_sync_iterable.mjs


/*
 * CachedSyncIterable caches the elements yielded by an iterable.
 *
 * It can be used to iterate over an iterable many times without depleting the
 * iterable.
 */
class cached_sync_iterable_CachedSyncIterable extends CachedIterable {
    /**
     * Create an `CachedSyncIterable` instance.
     *
     * @param {Iterable} iterable
     * @returns {CachedSyncIterable}
     */
    constructor(iterable) {
        super();

        if (Symbol.iterator in Object(iterable)) {
            this.iterator = iterable[Symbol.iterator]();
        } else {
            throw new TypeError("Argument must implement the iteration protocol.");
        }
    }

    [Symbol.iterator]() {
        const cached = this;
        let cur = 0;

        return {
            next() {
                if (cached.length <= cur) {
                    cached.push(cached.iterator.next());
                }
                return cached[cur++];
            }
        };
    }

    /**
     * This method allows user to consume the next element from the iterator
     * into the cache.
     *
     * @param {number} count - number of elements to consume
     */
    touchNext(count = 1) {
        let idx = 0;
        while (idx++ < count) {
            const last = this[this.length - 1];
            if (last && last.done) {
                break;
            }
            this.push(this.iterator.next());
        }
        // Return the last cached {value, done} object to allow the calling
        // code to decide if it needs to call touchNext again.
        return this[this.length - 1];
    }
}

// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_async_iterable.mjs


/*
 * CachedAsyncIterable caches the elements yielded by an async iterable.
 *
 * It can be used to iterate over an iterable many times without depleting the
 * iterable.
 */
class cached_async_iterable_CachedAsyncIterable extends CachedIterable {
    /**
     * Create an `CachedAsyncIterable` instance.
     *
     * @param {Iterable} iterable
     * @returns {CachedAsyncIterable}
     */
    constructor(iterable) {
        super();

        if (Symbol.asyncIterator in Object(iterable)) {
            this.iterator = iterable[Symbol.asyncIterator]();
        } else if (Symbol.iterator in Object(iterable)) {
            this.iterator = iterable[Symbol.iterator]();
        } else {
            throw new TypeError("Argument must implement the iteration protocol.");
        }
    }

    /**
     * Synchronous iterator over the cached elements.
     *
     * Return a generator object implementing the iterator protocol over the
     * cached elements of the original (async or sync) iterable.
     */
    [Symbol.iterator]() {
        const cached = this;
        let cur = 0;

        return {
            next() {
                if (cached.length === cur) {
                    return {value: undefined, done: true};
                }
                return cached[cur++];
            }
        };
    }

    /**
     * Asynchronous iterator caching the yielded elements.
     *
     * Elements yielded by the original iterable will be cached and available
     * synchronously. Returns an async generator object implementing the
     * iterator protocol over the elements of the original (async or sync)
     * iterable.
     */
    [Symbol.asyncIterator]() {
        const cached = this;
        let cur = 0;

        return {
            async next() {
                if (cached.length <= cur) {
                    cached.push(await cached.iterator.next());
                }
                return cached[cur++];
            }
        };
    }

    /**
     * This method allows user to consume the next element from the iterator
     * into the cache.
     *
     * @param {number} count - number of elements to consume
     */
    async touchNext(count = 1) {
        let idx = 0;
        while (idx++ < count) {
            const last = this[this.length - 1];
            if (last && last.done) {
                break;
            }
            this.push(await this.iterator.next());
        }
        // Return the last cached {value, done} object to allow the calling
        // code to decide if it needs to call touchNext again.
        return this[this.length - 1];
    }
}

// CONCATENATED MODULE: ./node_modules/cached-iterable/src/index.mjs



// CONCATENATED MODULE: ./node_modules/fluent-react/src/localization.js


/*
 * `ReactLocalization` handles translation formatting and fallback.
 *
 * The current negotiated fallback chain of languages is stored in the
 * `ReactLocalization` instance in form of an iterable of `FluentBundle`
 * instances.  This iterable is used to find the best existing translation for
 * a given identifier.
 *
 * `Localized` components must subscribe to the changes of the
 * `ReactLocalization`'s fallback chain.  When the fallback chain changes (the
 * `bundles` iterable is set anew), all subscribed compontent must relocalize.
 *
 * The `ReactLocalization` class instances are exposed to `Localized` elements
 * via the `LocalizationProvider` component.
 */

class localization_ReactLocalization {
  constructor(bundles) {
    this.bundles = cached_sync_iterable_CachedSyncIterable.from(bundles);
    this.subs = new Set();
  }
  /*
   * Subscribe a `Localized` component to changes of `bundles`.
   */


  subscribe(comp) {
    this.subs.add(comp);
  }
  /*
   * Unsubscribe a `Localized` component from `bundles` changes.
   */


  unsubscribe(comp) {
    this.subs.delete(comp);
  }
  /*
   * Set a new `bundles` iterable and trigger the retranslation.
   */


  setBundles(bundles) {
    this.bundles = cached_sync_iterable_CachedSyncIterable.from(bundles); // Update all subscribed Localized components.

    this.subs.forEach(comp => comp.relocalize());
  }

  getBundle(id) {
    return mapBundleSync(this.bundles, id);
  }
  /*
   * Find a translation by `id` and format it to a string using `args`.
   */


  getString(id, args, fallback) {
    const bundle = this.getBundle(id);

    if (bundle === null) {
      return fallback || id;
    }

    const msg = bundle.getMessage(id);
    return bundle.format(msg, args);
  }

}
function isReactLocalization(props, propName) {
  const prop = props[propName];

  if (prop instanceof localization_ReactLocalization) {
    return null;
  }

  return new Error(`The ${propName} context field must be an instance of ReactLocalization.`);
}
// CONCATENATED MODULE: ./node_modules/fluent-react/src/markup.js
/* eslint-env browser */
let cachedParseMarkup; // We use a function creator to make the reference to `document` lazy. At the
// same time, it's eager enough to throw in <LocalizationProvider> as soon as
// it's first mounted which reduces the risk of this error making it to the
// runtime without developers noticing it in development.

function createParseMarkup() {
  if (typeof document === "undefined") {
    // We can't use <template> to sanitize translations.
    throw new Error("`document` is undefined. Without it, translations cannot " + "be safely sanitized. Consult the documentation at " + "https://github.com/projectfluent/fluent.js/wiki/React-Overlays.");
  }

  if (!cachedParseMarkup) {
    const template = document.createElement("template");

    cachedParseMarkup = function parseMarkup(str) {
      template.innerHTML = str;
      return Array.from(template.content.childNodes);
    };
  }

  return cachedParseMarkup;
}
// CONCATENATED MODULE: ./node_modules/fluent-react/src/provider.js




/*
 * The Provider component for the `ReactLocalization` class.
 *
 * Exposes a `ReactLocalization` instance to all descendants via React's
 * context feature.  It makes translations available to all localizable
 * elements in the descendant's render tree without the need to pass them
 * explicitly.
 *
 *     <LocalizationProvider bundles={…}>
 *         …
 *     </LocalizationProvider>
 *
 * The `LocalizationProvider` component takes one prop: `bundles`.  It should
 * be an iterable of `FluentBundle` instances in order of the user's
 * preferred languages.  The `FluentBundle` instances will be used by
 * `ReactLocalization` to format translations.  If a translation is missing in
 * one instance, `ReactLocalization` will fall back to the next one.
 */

class provider_LocalizationProvider extends external_React_["Component"] {
  constructor(props) {
    super(props);
    const {
      bundles,
      parseMarkup
    } = props;

    if (bundles === undefined) {
      throw new Error("LocalizationProvider must receive the bundles prop.");
    }

    if (!bundles[Symbol.iterator]) {
      throw new Error("The bundles prop must be an iterable.");
    }

    this.l10n = new localization_ReactLocalization(bundles);
    this.parseMarkup = parseMarkup || createParseMarkup();
  }

  getChildContext() {
    return {
      l10n: this.l10n,
      parseMarkup: this.parseMarkup
    };
  }

  componentWillReceiveProps(next) {
    const {
      bundles
    } = next;

    if (bundles !== this.props.bundles) {
      this.l10n.setBundles(bundles);
    }
  }

  render() {
    return external_React_["Children"].only(this.props.children);
  }

}
provider_LocalizationProvider.childContextTypes = {
  l10n: isReactLocalization,
  parseMarkup: external_PropTypes_default.a.func
};
provider_LocalizationProvider.propTypes = {
  children: external_PropTypes_default.a.element.isRequired,
  bundles: isIterable,
  parseMarkup: external_PropTypes_default.a.func
};

function isIterable(props, propName, componentName) {
  const prop = props[propName];

  if (Symbol.iterator in Object(prop)) {
    return null;
  }

  return new Error(`The ${propName} prop supplied to ${componentName} must be an iterable.`);
}
// CONCATENATED MODULE: ./node_modules/fluent-react/src/with_localization.js


function withLocalization(Inner) {
  class WithLocalization extends external_React_["Component"] {
    componentDidMount() {
      const {
        l10n
      } = this.context;

      if (l10n) {
        l10n.subscribe(this);
      }
    }

    componentWillUnmount() {
      const {
        l10n
      } = this.context;

      if (l10n) {
        l10n.unsubscribe(this);
      }
    }
    /*
     * Rerender this component in a new language.
     */


    relocalize() {
      // When the `ReactLocalization`'s fallback chain changes, update the
      // component.
      this.forceUpdate();
    }
    /*
     * Find a translation by `id` and format it to a string using `args`.
     */


    getString(id, args, fallback) {
      const {
        l10n
      } = this.context;

      if (!l10n) {
        return fallback || id;
      }

      return l10n.getString(id, args, fallback);
    }

    render() {
      return /*#__PURE__*/Object(external_React_["createElement"])(Inner, Object.assign( // getString needs to be re-bound on updates to trigger a re-render
      {
        getString: (...args) => this.getString(...args)
      }, this.props));
    }

  }

  WithLocalization.displayName = `WithLocalization(${displayName(Inner)})`;
  WithLocalization.contextTypes = {
    l10n: isReactLocalization
  };
  return WithLocalization;
}

function displayName(component) {
  return component.displayName || component.name || "Component";
}
// CONCATENATED MODULE: ./node_modules/fluent-react/vendor/omittedCloseTags.js
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in this directory.
 */
// For HTML, certain tags should omit their close tag. We keep a whitelist for
// those special-case tags.
var omittedCloseTags = {
  area: true,
  base: true,
  br: true,
  col: true,
  embed: true,
  hr: true,
  img: true,
  input: true,
  keygen: true,
  link: true,
  meta: true,
  param: true,
  source: true,
  track: true,
  wbr: true // NOTE: menuitem's close tag should be omitted, but that causes problems.

};
/* harmony default export */ var vendor_omittedCloseTags = (omittedCloseTags);
// CONCATENATED MODULE: ./node_modules/fluent-react/vendor/voidElementTags.js
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in this directory.
 */
 // For HTML, certain tags cannot have children. This has the same purpose as
// `omittedCloseTags` except that `menuitem` should still have its closing tag.

var voidElementTags = {
  menuitem: true,
  ...vendor_omittedCloseTags
};
/* harmony default export */ var vendor_voidElementTags = (voidElementTags);
// CONCATENATED MODULE: ./node_modules/fluent-react/src/localized.js



 // Match the opening angle bracket (<) in HTML tags, and HTML entities like
// &amp;, &#0038;, &#x0026;.

const reMarkup = /<|&#?\w+;/;
/*
 * Prepare props passed to `Localized` for formatting.
 */

function toArguments(props) {
  const args = {};
  const elems = {};

  for (const [propname, propval] of Object.entries(props)) {
    if (propname.startsWith("$")) {
      const name = propname.substr(1);
      args[name] = propval;
    } else if ( /*#__PURE__*/Object(external_React_["isValidElement"])(propval)) {
      // We'll try to match localNames of elements found in the translation with
      // names of elements passed as props. localNames are always lowercase.
      const name = propname.toLowerCase();
      elems[name] = propval;
    }
  }

  return [args, elems];
}
/*
 * The `Localized` class renders its child with translated props and children.
 *
 *     <Localized id="hello-world">
 *         <p>{'Hello, world!'}</p>
 *     </Localized>
 *
 * The `id` prop should be the unique identifier of the translation.  Any
 * attributes found in the translation will be applied to the wrapped element.
 *
 * Arguments to the translation can be passed as `$`-prefixed props on
 * `Localized`.
 *
 *     <Localized id="hello-world" $username={name}>
 *         <p>{'Hello, { $username }!'}</p>
 *     </Localized>
 *
 *  It's recommended that the contents of the wrapped component be a string
 *  expression.  The string will be used as the ultimate fallback if no
 *  translation is available.  It also makes it easy to grep for strings in the
 *  source code.
 */


class localized_Localized extends external_React_["Component"] {
  componentDidMount() {
    const {
      l10n
    } = this.context;

    if (l10n) {
      l10n.subscribe(this);
    }
  }

  componentWillUnmount() {
    const {
      l10n
    } = this.context;

    if (l10n) {
      l10n.unsubscribe(this);
    }
  }
  /*
   * Rerender this component in a new language.
   */


  relocalize() {
    // When the `ReactLocalization`'s fallback chain changes, update the
    // component.
    this.forceUpdate();
  }

  render() {
    const {
      l10n,
      parseMarkup
    } = this.context;
    const {
      id,
      attrs,
      children: elem = null
    } = this.props; // Validate that the child element isn't an array

    if (Array.isArray(elem)) {
      throw new Error("<Localized/> expected to receive a single " + "React node child");
    }

    if (!l10n) {
      // Use the wrapped component as fallback.
      return elem;
    }

    const bundle = l10n.getBundle(id);

    if (bundle === null) {
      // Use the wrapped component as fallback.
      return elem;
    }

    const msg = bundle.getMessage(id);
    const [args, elems] = toArguments(this.props);
    const messageValue = bundle.format(msg, args); // Check if the fallback is a valid element -- if not then it's not
    // markup (e.g. nothing or a fallback string) so just use the
    // formatted message value

    if (! /*#__PURE__*/Object(external_React_["isValidElement"])(elem)) {
      return messageValue;
    } // The default is to forbid all message attributes. If the attrs prop exists
    // on the Localized instance, only set message attributes which have been
    // explicitly allowed by the developer.


    if (attrs && msg.attrs) {
      var localizedProps = {};

      for (const [name, allowed] of Object.entries(attrs)) {
        if (allowed && msg.attrs.hasOwnProperty(name)) {
          localizedProps[name] = bundle.format(msg.attrs[name], args);
        }
      }
    } // If the wrapped component is a known void element, explicitly dismiss the
    // message value and do not pass it to cloneElement in order to avoid the
    // "void element tags must neither have `children` nor use
    // `dangerouslySetInnerHTML`" error.


    if (elem.type in vendor_voidElementTags) {
      return /*#__PURE__*/Object(external_React_["cloneElement"])(elem, localizedProps);
    } // If the message has a null value, we're only interested in its attributes.
    // Do not pass the null value to cloneElement as it would nuke all children
    // of the wrapped component.


    if (messageValue === null) {
      return /*#__PURE__*/Object(external_React_["cloneElement"])(elem, localizedProps);
    } // If the message value doesn't contain any markup nor any HTML entities,
    // insert it as the only child of the wrapped component.


    if (!reMarkup.test(messageValue)) {
      return /*#__PURE__*/Object(external_React_["cloneElement"])(elem, localizedProps, messageValue);
    } // If the message contains markup, parse it and try to match the children
    // found in the translation with the props passed to this Localized.


    const translationNodes = parseMarkup(messageValue);
    const translatedChildren = translationNodes.map(childNode => {
      if (childNode.nodeType === childNode.TEXT_NODE) {
        return childNode.textContent;
      } // If the child is not expected just take its textContent.


      if (!elems.hasOwnProperty(childNode.localName)) {
        return childNode.textContent;
      }

      const sourceChild = elems[childNode.localName]; // If the element passed as a prop to <Localized> is a known void element,
      // explicitly dismiss any textContent which might have accidentally been
      // defined in the translation to prevent the "void element tags must not
      // have children" error.

      if (sourceChild.type in vendor_voidElementTags) {
        return sourceChild;
      } // TODO Protect contents of elements wrapped in <Localized>
      // https://github.com/projectfluent/fluent.js/issues/184
      // TODO  Control localizable attributes on elements passed as props
      // https://github.com/projectfluent/fluent.js/issues/185


      return /*#__PURE__*/Object(external_React_["cloneElement"])(sourceChild, null, childNode.textContent);
    });
    return /*#__PURE__*/Object(external_React_["cloneElement"])(elem, localizedProps, ...translatedChildren);
  }

}
localized_Localized.contextTypes = {
  l10n: isReactLocalization,
  parseMarkup: external_PropTypes_default.a.func
};
localized_Localized.propTypes = {
  children: external_PropTypes_default.a.node
};
// CONCATENATED MODULE: ./node_modules/fluent-react/src/index.js
/* concated harmony reexport LocalizationProvider */__webpack_require__.d(__webpack_exports__, "LocalizationProvider", function() { return provider_LocalizationProvider; });
/* concated harmony reexport withLocalization */__webpack_require__.d(__webpack_exports__, "withLocalization", function() { return withLocalization; });
/* concated harmony reexport Localized */__webpack_require__.d(__webpack_exports__, "Localized", function() { return localized_Localized; });
/* concated harmony reexport ReactLocalization */__webpack_require__.d(__webpack_exports__, "ReactLocalization", function() { return localization_ReactLocalization; });
/* concated harmony reexport isReactLocalization */__webpack_require__.d(__webpack_exports__, "isReactLocalization", function() { return isReactLocalization; });
/*
 * @module fluent-react
 * @overview
 *

 * `fluent-react` provides React bindings for Fluent.  It takes advantage of
 * React's Components system and the virtual DOM.  Translations are exposed to
 * components via the provider pattern.
 *
 *     <LocalizationProvider bundles={…}>
 *         <Localized id="hello-world">
 *             <p>{'Hello, world!'}</p>
 *         </Localized>
 *     </LocalizationProvider>
 *
 * Consult the documentation of the `LocalizationProvider` and the `Localized`
 * components for more information.
 */





/***/ }),
/* 62 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(8);
var external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);

// CONCATENATED MODULE: ./content-src/asrouter/components/Button/Button.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const ALLOWED_STYLE_TAGS = ["color", "backgroundColor"];
const Button = props => {
  const style = {}; // Add allowed style tags from props, e.g. props.color becomes style={color: props.color}

  for (const tag of ALLOWED_STYLE_TAGS) {
    if (typeof props[tag] !== "undefined") {
      style[tag] = props[tag];
    }
  } // remove border if bg is set to something custom


  if (style.backgroundColor) {
    style.border = "0";
  }

  return /*#__PURE__*/external_React_default.a.createElement("button", {
    onClick: props.onClick,
    className: props.className || "ASRouterButton secondary",
    style: style
  }, props.children);
};
// CONCATENATED MODULE: ./content-src/asrouter/components/ConditionalWrapper/ConditionalWrapper.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
// lifted from https://gist.github.com/kitze/23d82bb9eb0baabfd03a6a720b1d637f
const ConditionalWrapper = ({
  condition,
  wrap,
  children
}) => condition && wrap ? wrap(children) : children;

/* harmony default export */ var ConditionalWrapper_ConditionalWrapper = (ConditionalWrapper);
// EXTERNAL MODULE: ./node_modules/fluent-react/src/index.js + 14 modules
var src = __webpack_require__(61);

// EXTERNAL MODULE: ./content-src/asrouter/rich-text-strings.js + 7 modules
var rich_text_strings = __webpack_require__(63);

// CONCATENATED MODULE: ./content-src/asrouter/template-utils.js
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
function safeURI(url) {
  if (!url) {
    return "";
  }

  const {
    protocol
  } = new URL(url);
  const isAllowed = ["http:", "https:", "data:", "resource:", "chrome:"].includes(protocol);

  if (!isAllowed) {
    console.warn(`The protocol ${protocol} is not allowed for template URLs.`); // eslint-disable-line no-console
  }

  return isAllowed ? url : "";
}
// CONCATENATED MODULE: ./content-src/asrouter/components/RichText/RichText.jsx
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



 // Elements allowed in snippet content

const ALLOWED_TAGS = {
  b: /*#__PURE__*/external_React_default.a.createElement("b", null),
  i: /*#__PURE__*/external_React_default.a.createElement("i", null),
  u: /*#__PURE__*/external_React_default.a.createElement("u", null),
  strong: /*#__PURE__*/external_React_default.a.createElement("strong", null),
  em: /*#__PURE__*/external_React_default.a.createElement("em", null),
  br: /*#__PURE__*/external_React_default.a.createElement("br", null)
};
/**
 * Transform an object (tag name: {url}) into (tag name: anchor) where the url
 * is used as href, in order to render links inside a Fluent.Localized component.
 */

function convertLinks(links, sendClick, doNotAutoBlock, openNewWindow = false) {
  if (links) {
    return Object.keys(links).reduce((acc, linkTag) => {
      const {
        action
      } = links[linkTag]; // Setting the value to false will not include the attribute in the anchor

      const url = action ? false : safeURI(links[linkTag].url);
      acc[linkTag] =
      /*#__PURE__*/
      // eslint was getting a false positive caused by the dynamic injection
      // of content.
      // eslint-disable-next-line jsx-a11y/anchor-has-content
      external_React_default.a.createElement("a", {
        href: url,
        target: openNewWindow ? "_blank" : "",
        "data-metric": links[linkTag].metric,
        "data-action": action,
        "data-args": links[linkTag].args,
        "data-do_not_autoblock": doNotAutoBlock,
        "data-entrypoint_name": links[linkTag].entrypoint_name,
        "data-entrypoint_value": links[linkTag].entrypoint_value,
        rel: "noreferrer",
        onClick: sendClick
      });
      return acc;
    }, {});
  }

  return null;
}
/**
 * Message wrapper used to sanitize markup and render HTML.
 */

function RichText(props) {
  if (!rich_text_strings["RICH_TEXT_KEYS"].includes(props.localization_id)) {
    throw new Error(`ASRouter: ${props.localization_id} is not a valid rich text property. If you want it to be processed, you need to add it to asrouter/rich-text-strings.js`);
  }

  return /*#__PURE__*/external_React_default.a.createElement(src["Localized"], _extends({
    id: props.localization_id
  }, ALLOWED_TAGS, props.customElements, convertLinks(props.links, props.sendClick, props.doNotAutoBlock, props.openNewWindow)), /*#__PURE__*/external_React_default.a.createElement("span", null, props.text));
}
// CONCATENATED MODULE: ./content-src/asrouter/components/SnippetBase/SnippetBase.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class SnippetBase_SnippetBase extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onBlockClicked = this.onBlockClicked.bind(this);
    this.onDismissClicked = this.onDismissClicked.bind(this);
    this.setBlockButtonRef = this.setBlockButtonRef.bind(this);
    this.onBlockButtonMouseEnter = this.onBlockButtonMouseEnter.bind(this);
    this.onBlockButtonMouseLeave = this.onBlockButtonMouseLeave.bind(this);
    this.state = {
      blockButtonHover: false
    };
  }

  componentDidMount() {
    if (this.blockButtonRef) {
      this.blockButtonRef.addEventListener("mouseenter", this.onBlockButtonMouseEnter);
      this.blockButtonRef.addEventListener("mouseleave", this.onBlockButtonMouseLeave);
    }
  }

  componentWillUnmount() {
    if (this.blockButtonRef) {
      this.blockButtonRef.removeEventListener("mouseenter", this.onBlockButtonMouseEnter);
      this.blockButtonRef.removeEventListener("mouseleave", this.onBlockButtonMouseLeave);
    }
  }

  setBlockButtonRef(element) {
    this.blockButtonRef = element;
  }

  onBlockButtonMouseEnter() {
    this.setState({
      blockButtonHover: true
    });
  }

  onBlockButtonMouseLeave() {
    this.setState({
      blockButtonHover: false
    });
  }

  onBlockClicked() {
    if (this.props.provider !== "preview") {
      this.props.sendUserActionTelemetry({
        event: "BLOCK",
        id: this.props.UISurface
      });
    }

    this.props.onBlock();
  }

  onDismissClicked() {
    if (this.props.provider !== "preview") {
      this.props.sendUserActionTelemetry({
        event: "DISMISS",
        id: this.props.UISurface
      });
    }

    this.props.onDismiss();
  }

  renderDismissButton() {
    if (this.props.footerDismiss) {
      return /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "footer"
      }, /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "footer-content"
      }, /*#__PURE__*/external_React_default.a.createElement("button", {
        className: "ASRouterButton secondary",
        onClick: this.onDismissClicked
      }, this.props.content.scene2_dismiss_button_text)));
    }

    const label = this.props.content.block_button_text || "Remove this";
    return /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "blockButton",
      title: label,
      "aria-label": label,
      onClick: this.onBlockClicked,
      ref: this.setBlockButtonRef
    });
  }

  render() {
    const {
      props
    } = this;
    const {
      blockButtonHover
    } = this.state;
    const containerClassName = `SnippetBaseContainer${props.className ? ` ${props.className}` : ""}${blockButtonHover ? " active" : ""}`;
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: containerClassName,
      style: this.props.textStyle
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "innerWrapper"
    }, props.children), this.renderDismissButton());
  }

}
// CONCATENATED MODULE: ./content-src/asrouter/templates/SimpleSnippet/SimpleSnippet.jsx
function SimpleSnippet_extends() { SimpleSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return SimpleSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






const DEFAULT_ICON_PATH = "chrome://branding/content/icon64.png"; // Alt text placeholder in case the prop from the server isn't available

const ICON_ALT_TEXT = "";
class SimpleSnippet_SimpleSnippet extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onButtonClick = this.onButtonClick.bind(this);
  }

  onButtonClick() {
    if (this.props.provider !== "preview") {
      this.props.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        id: this.props.UISurface
      });
    }

    const {
      button_url,
      button_entrypoint_value,
      button_entrypoint_name
    } = this.props.content; // If button_url is defined handle it as OPEN_URL action

    const type = this.props.content.button_action || button_url && "OPEN_URL"; // Assign the snippet referral for the action

    const entrypoint = button_entrypoint_name ? new URLSearchParams([[button_entrypoint_name, button_entrypoint_value]]).toString() : button_entrypoint_value;
    this.props.onAction({
      type,
      data: {
        args: this.props.content.button_action_args || button_url,
        ...(entrypoint && {
          entrypoint
        })
      }
    });

    if (!this.props.content.do_not_autoblock) {
      this.props.onBlock();
    }
  }

  _shouldRenderButton() {
    return this.props.content.button_action || this.props.onButtonClick || this.props.content.button_url;
  }

  renderTitle() {
    const {
      title
    } = this.props.content;
    return title ? /*#__PURE__*/external_React_default.a.createElement("h3", {
      className: `title ${this._shouldRenderButton() ? "title-inline" : ""}`
    }, this.renderTitleIcon(), " ", title) : null;
  }

  renderTitleIcon() {
    const titleIconLight = safeURI(this.props.content.title_icon);
    const titleIconDark = safeURI(this.props.content.title_icon_dark_theme || this.props.content.title_icon);

    if (!titleIconLight) {
      return null;
    }

    return /*#__PURE__*/external_React_default.a.createElement(external_React_default.a.Fragment, null, /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "titleIcon icon-light-theme",
      style: {
        backgroundImage: `url("${titleIconLight}")`
      }
    }), /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "titleIcon icon-dark-theme",
      style: {
        backgroundImage: `url("${titleIconDark}")`
      }
    }));
  }

  renderButton() {
    const {
      props
    } = this;

    if (!this._shouldRenderButton()) {
      return null;
    }

    return /*#__PURE__*/external_React_default.a.createElement(Button, {
      onClick: props.onButtonClick || this.onButtonClick,
      color: props.content.button_color,
      backgroundColor: props.content.button_background_color
    }, props.content.button_label);
  }

  renderText() {
    const {
      props
    } = this;
    return /*#__PURE__*/external_React_default.a.createElement(RichText, {
      text: props.content.text,
      customElements: this.props.customElements,
      localization_id: "text",
      links: props.content.links,
      sendClick: props.sendClick
    });
  }

  wrapSectionHeader(url) {
    return function (children) {
      return /*#__PURE__*/external_React_default.a.createElement("a", {
        href: url
      }, children);
    };
  }

  wrapSnippetContent(children) {
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "innerContentWrapper"
    }, children);
  }

  renderSectionHeader() {
    const {
      props
    } = this; // an icon and text must be specified to render the section header

    if (props.content.section_title_icon && props.content.section_title_text) {
      const sectionTitleIconLight = safeURI(props.content.section_title_icon);
      const sectionTitleIconDark = safeURI(props.content.section_title_icon_dark_theme || props.content.section_title_icon);
      const sectionTitleURL = props.content.section_title_url;
      return /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "section-header"
      }, /*#__PURE__*/external_React_default.a.createElement("h3", {
        className: "section-title"
      }, /*#__PURE__*/external_React_default.a.createElement(ConditionalWrapper_ConditionalWrapper, {
        condition: sectionTitleURL,
        wrap: this.wrapSectionHeader(sectionTitleURL)
      }, /*#__PURE__*/external_React_default.a.createElement("span", {
        className: "icon icon-small-spacer icon-light-theme",
        style: {
          backgroundImage: `url("${sectionTitleIconLight}")`
        }
      }), /*#__PURE__*/external_React_default.a.createElement("span", {
        className: "icon icon-small-spacer icon-dark-theme",
        style: {
          backgroundImage: `url("${sectionTitleIconDark}")`
        }
      }), /*#__PURE__*/external_React_default.a.createElement("span", {
        className: "section-title-text"
      }, props.content.section_title_text))));
    }

    return null;
  }

  render() {
    const {
      props
    } = this;
    const sectionHeader = this.renderSectionHeader();
    let className = "SimpleSnippet";

    if (props.className) {
      className += ` ${props.className}`;
    }

    if (props.content.tall) {
      className += " tall";
    }

    if (sectionHeader) {
      className += " has-section-header";
    }

    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "snippet-hover-wrapper"
    }, /*#__PURE__*/external_React_default.a.createElement(SnippetBase_SnippetBase, SimpleSnippet_extends({}, props, {
      className: className,
      textStyle: this.props.textStyle
    }), sectionHeader, /*#__PURE__*/external_React_default.a.createElement(ConditionalWrapper_ConditionalWrapper, {
      condition: sectionHeader,
      wrap: this.wrapSnippetContent
    }, /*#__PURE__*/external_React_default.a.createElement("img", {
      src: safeURI(props.content.icon) || DEFAULT_ICON_PATH,
      className: "icon icon-light-theme",
      alt: props.content.icon_alt_text || ICON_ALT_TEXT
    }), /*#__PURE__*/external_React_default.a.createElement("img", {
      src: safeURI(props.content.icon_dark_theme || props.content.icon) || DEFAULT_ICON_PATH,
      className: "icon icon-dark-theme",
      alt: props.content.icon_alt_text || ICON_ALT_TEXT
    }), /*#__PURE__*/external_React_default.a.createElement("div", null, this.renderTitle(), " ", /*#__PURE__*/external_React_default.a.createElement("p", {
      className: "body"
    }, this.renderText()), this.props.extraContent), /*#__PURE__*/external_React_default.a.createElement("div", null, this.renderButton()))));
  }

}
// CONCATENATED MODULE: ./content-src/asrouter/templates/EOYSnippet/EOYSnippet.jsx
function EOYSnippet_extends() { EOYSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return EOYSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class EOYSnippet_EOYSnippetBase extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.handleSubmit = this.handleSubmit.bind(this);
  }
  /**
   * setFrequencyValue - `frequency` form parameter value should be `monthly`
   *                     if `monthly-checkbox` is selected or `single` otherwise
   */


  setFrequencyValue() {
    const frequencyCheckbox = this.refs.form.querySelector("#monthly-checkbox");

    if (frequencyCheckbox.checked) {
      this.refs.form.querySelector("[name='frequency']").value = "monthly";
    }
  }

  handleSubmit(event) {
    event.preventDefault();
    this.props.sendClick(event);
    this.setFrequencyValue();

    if (!this.props.content.do_not_autoblock) {
      this.props.onBlock();
    }

    this.refs.form.submit();
  }

  renderDonations() {
    const fieldNames = ["first", "second", "third", "fourth"];
    const numberFormat = new Intl.NumberFormat(this.props.content.locale || navigator.language, {
      style: "currency",
      currency: this.props.content.currency_code,
      minimumFractionDigits: 0
    }); // Default to `second` button

    const {
      selected_button
    } = this.props.content;
    const btnStyle = {
      color: this.props.content.button_color,
      backgroundColor: this.props.content.button_background_color
    };
    const donationURLParams = [];
    const paramsStartIndex = this.props.content.donation_form_url.indexOf("?");

    for (const entry of new URLSearchParams(this.props.content.donation_form_url.slice(paramsStartIndex)).entries()) {
      donationURLParams.push(entry);
    }

    return /*#__PURE__*/external_React_default.a.createElement("form", {
      className: "EOYSnippetForm",
      action: this.props.content.donation_form_url,
      method: this.props.form_method,
      onSubmit: this.handleSubmit,
      "data-metric": "EOYSnippetForm",
      ref: "form"
    }, donationURLParams.map(([key, value], idx) => /*#__PURE__*/external_React_default.a.createElement("input", {
      type: "hidden",
      name: key,
      value: value,
      key: idx
    })), fieldNames.map((field, idx) => {
      const button_name = `donation_amount_${field}`;
      const amount = this.props.content[button_name];
      return /*#__PURE__*/external_React_default.a.createElement(external_React_default.a.Fragment, {
        key: idx
      }, /*#__PURE__*/external_React_default.a.createElement("input", {
        type: "radio",
        name: "amount",
        value: amount,
        id: field,
        defaultChecked: button_name === selected_button
      }), /*#__PURE__*/external_React_default.a.createElement("label", {
        htmlFor: field,
        className: "donation-amount"
      }, numberFormat.format(amount)));
    }), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "monthly-checkbox-container"
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      id: "monthly-checkbox",
      type: "checkbox"
    }), /*#__PURE__*/external_React_default.a.createElement("label", {
      htmlFor: "monthly-checkbox"
    }, this.props.content.monthly_checkbox_label_text)), /*#__PURE__*/external_React_default.a.createElement("input", {
      type: "hidden",
      name: "frequency",
      value: "single"
    }), /*#__PURE__*/external_React_default.a.createElement("input", {
      type: "hidden",
      name: "currency",
      value: this.props.content.currency_code
    }), /*#__PURE__*/external_React_default.a.createElement("input", {
      type: "hidden",
      name: "presets",
      value: fieldNames.map(field => this.props.content[`donation_amount_${field}`])
    }), /*#__PURE__*/external_React_default.a.createElement("button", {
      style: btnStyle,
      type: "submit",
      className: "ASRouterButton primary donation-form-url"
    }, this.props.content.button_label));
  }

  render() {
    const textStyle = {
      color: this.props.content.text_color,
      backgroundColor: this.props.content.background_color
    };
    const customElement = /*#__PURE__*/external_React_default.a.createElement("em", {
      style: {
        backgroundColor: this.props.content.highlight_color
      }
    });
    return /*#__PURE__*/external_React_default.a.createElement(SimpleSnippet_SimpleSnippet, EOYSnippet_extends({}, this.props, {
      className: this.props.content.test,
      customElements: {
        em: customElement
      },
      textStyle: textStyle,
      extraContent: this.renderDonations()
    }));
  }

}

const EOYSnippet = props => {
  const extendedContent = {
    monthly_checkbox_label_text: "Make my donation monthly",
    locale: "en-US",
    currency_code: "usd",
    selected_button: "donation_amount_second",
    ...props.content
  };
  return /*#__PURE__*/external_React_default.a.createElement(EOYSnippet_EOYSnippetBase, EOYSnippet_extends({}, props, {
    content: extendedContent,
    form_method: "GET"
  }));
};
// CONCATENATED MODULE: ./content-src/asrouter/templates/SubmitFormSnippet/SubmitFormSnippet.jsx
function SubmitFormSnippet_extends() { SubmitFormSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return SubmitFormSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






 // Alt text placeholder in case the prop from the server isn't available

const SubmitFormSnippet_ICON_ALT_TEXT = "";
class SubmitFormSnippet_SubmitFormSnippet extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.expandSnippet = this.expandSnippet.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
    this.handleSubmitAttempt = this.handleSubmitAttempt.bind(this);
    this.onInputChange = this.onInputChange.bind(this);
    this.state = {
      expanded: false,
      submitAttempted: false,
      signupSubmitted: false,
      signupSuccess: false,
      disableForm: false
    };
  }

  handleSubmitAttempt() {
    if (!this.state.submitAttempted) {
      this.setState({
        submitAttempted: true
      });
    }
  }

  async handleSubmit(event) {
    let json;

    if (this.state.disableForm) {
      return;
    }

    event.preventDefault();
    this.setState({
      disableForm: true
    });
    this.props.sendUserActionTelemetry({
      event: "CLICK_BUTTON",
      event_context: "conversion-subscribe-activation",
      id: "NEWTAB_FOOTER_BAR_CONTENT"
    });

    if (this.props.form_method.toUpperCase() === "GET") {
      this.props.onBlock({
        preventDismiss: true
      });
      this.refs.form.submit();
      return;
    }

    const {
      url,
      formData
    } = this.props.processFormData ? this.props.processFormData(this.refs.mainInput, this.props) : {
      url: this.refs.form.action,
      formData: new FormData(this.refs.form)
    };

    try {
      const fetchRequest = new Request(url, {
        body: formData,
        method: "POST",
        credentials: "omit"
      });
      const response = await fetch(fetchRequest); // eslint-disable-line fetch-options/no-fetch-credentials

      json = await response.json();
    } catch (err) {
      console.log(err); // eslint-disable-line no-console
    }

    if (json && json.status === "ok") {
      this.setState({
        signupSuccess: true,
        signupSubmitted: true
      });

      if (!this.props.content.do_not_autoblock) {
        this.props.onBlock({
          preventDismiss: true
        });
      }

      this.props.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        event_context: "subscribe-success",
        id: "NEWTAB_FOOTER_BAR_CONTENT"
      });
    } else {
      // eslint-disable-next-line no-console
      console.error("There was a problem submitting the form", json || "[No JSON response]");
      this.setState({
        signupSuccess: false,
        signupSubmitted: true
      });
      this.props.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        event_context: "subscribe-error",
        id: "NEWTAB_FOOTER_BAR_CONTENT"
      });
    }

    this.setState({
      disableForm: false
    });
  }

  expandSnippet() {
    this.props.sendUserActionTelemetry({
      event: "CLICK_BUTTON",
      event_context: "scene1-button-learn-more",
      id: this.props.UISurface
    });
    this.setState({
      expanded: true,
      signupSuccess: false,
      signupSubmitted: false
    });
  }

  renderHiddenFormInputs() {
    const {
      hidden_inputs
    } = this.props.content;

    if (!hidden_inputs) {
      return null;
    }

    return Object.keys(hidden_inputs).map((key, idx) => /*#__PURE__*/external_React_default.a.createElement("input", {
      key: idx,
      type: "hidden",
      name: key,
      value: hidden_inputs[key]
    }));
  }

  renderDisclaimer() {
    const {
      content
    } = this.props;

    if (!content.scene2_disclaimer_html) {
      return null;
    }

    return /*#__PURE__*/external_React_default.a.createElement("p", {
      className: "disclaimerText"
    }, /*#__PURE__*/external_React_default.a.createElement(RichText, {
      text: content.scene2_disclaimer_html,
      localization_id: "disclaimer_html",
      links: content.links,
      doNotAutoBlock: true,
      openNewWindow: true,
      sendClick: this.props.sendClick
    }));
  }

  renderFormPrivacyNotice() {
    const {
      content
    } = this.props;

    if (!content.scene2_privacy_html) {
      return null;
    }

    return /*#__PURE__*/external_React_default.a.createElement("p", {
      className: "privacyNotice"
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      type: "checkbox",
      id: "id_privacy",
      name: "privacy",
      required: "required"
    }), /*#__PURE__*/external_React_default.a.createElement("label", {
      htmlFor: "id_privacy"
    }, /*#__PURE__*/external_React_default.a.createElement(RichText, {
      text: content.scene2_privacy_html,
      localization_id: "privacy_html",
      links: content.links,
      doNotAutoBlock: true,
      openNewWindow: true,
      sendClick: this.props.sendClick
    })));
  }

  renderSignupSubmitted() {
    const {
      content
    } = this.props;
    const isSuccess = this.state.signupSuccess;
    const successTitle = isSuccess && content.success_title;
    const bodyText = isSuccess ? {
      success_text: content.success_text
    } : {
      error_text: content.error_text
    };
    const retryButtonText = content.retry_button_label;
    return /*#__PURE__*/external_React_default.a.createElement(SnippetBase_SnippetBase, this.props, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "submissionStatus"
    }, successTitle ? /*#__PURE__*/external_React_default.a.createElement("h2", {
      className: "submitStatusTitle"
    }, successTitle) : null, /*#__PURE__*/external_React_default.a.createElement("p", null, /*#__PURE__*/external_React_default.a.createElement(RichText, SubmitFormSnippet_extends({}, bodyText, {
      localization_id: isSuccess ? "success_text" : "error_text"
    })), isSuccess ? null : /*#__PURE__*/external_React_default.a.createElement(Button, {
      onClick: this.expandSnippet
    }, retryButtonText))));
  }

  onInputChange(event) {
    if (!this.props.validateInput) {
      return;
    }

    const hasError = this.props.validateInput(event.target.value, this.props.content);
    event.target.setCustomValidity(hasError);
  }

  wrapSectionHeader(url) {
    return function (children) {
      return /*#__PURE__*/external_React_default.a.createElement("a", {
        href: url
      }, children);
    };
  }

  renderInput() {
    const placholder = this.props.content.scene2_email_placeholder_text || this.props.content.scene2_input_placeholder;
    return /*#__PURE__*/external_React_default.a.createElement("input", {
      ref: "mainInput",
      type: this.props.inputType || "email",
      className: `mainInput${this.state.submitAttempted ? "" : " clean"}`,
      name: "email",
      required: true,
      placeholder: placholder,
      onChange: this.props.validateInput ? this.onInputChange : null
    });
  }

  renderForm() {
    return /*#__PURE__*/external_React_default.a.createElement("form", {
      action: this.props.form_action,
      method: this.props.form_method,
      onSubmit: this.handleSubmit,
      ref: "form"
    }, this.renderHiddenFormInputs(), /*#__PURE__*/external_React_default.a.createElement("div", null, this.renderInput(), /*#__PURE__*/external_React_default.a.createElement("button", {
      type: "submit",
      className: "ASRouterButton primary",
      onClick: this.handleSubmitAttempt,
      ref: "formSubmitBtn"
    }, this.props.content.scene2_button_label)), this.renderFormPrivacyNotice() || this.renderDisclaimer());
  }

  renderScene2Icon() {
    const {
      content
    } = this.props;

    if (!content.scene2_icon) {
      return null;
    }

    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "scene2Icon"
    }, /*#__PURE__*/external_React_default.a.createElement("img", {
      src: safeURI(content.scene2_icon),
      className: "icon-light-theme",
      alt: content.scene2_icon_alt_text || SubmitFormSnippet_ICON_ALT_TEXT
    }), /*#__PURE__*/external_React_default.a.createElement("img", {
      src: safeURI(content.scene2_icon_dark_theme || content.scene2_icon),
      className: "icon-dark-theme",
      alt: content.scene2_icon_alt_text || SubmitFormSnippet_ICON_ALT_TEXT
    }));
  }

  renderSignupView() {
    const {
      content
    } = this.props;
    const containerClass = `SubmitFormSnippet ${this.props.className}`;
    return /*#__PURE__*/external_React_default.a.createElement(SnippetBase_SnippetBase, SubmitFormSnippet_extends({}, this.props, {
      className: containerClass,
      footerDismiss: true
    }), this.renderScene2Icon(), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "message"
    }, /*#__PURE__*/external_React_default.a.createElement("p", null, content.scene2_title && /*#__PURE__*/external_React_default.a.createElement("h3", {
      className: "scene2Title"
    }, content.scene2_title), " ", content.scene2_text && /*#__PURE__*/external_React_default.a.createElement(RichText, {
      scene2_text: content.scene2_text,
      localization_id: "scene2_text"
    }))), this.renderForm());
  }

  renderSectionHeader() {
    const {
      props
    } = this; // an icon and text must be specified to render the section header

    if (props.content.section_title_icon && props.content.section_title_text) {
      const sectionTitleIconLight = safeURI(props.content.section_title_icon);
      const sectionTitleIconDark = safeURI(props.content.section_title_icon_dark_theme || props.content.section_title_icon);
      const sectionTitleURL = props.content.section_title_url;
      return /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "section-header"
      }, /*#__PURE__*/external_React_default.a.createElement("h3", {
        className: "section-title"
      }, /*#__PURE__*/external_React_default.a.createElement(ConditionalWrapper_ConditionalWrapper, {
        wrap: this.wrapSectionHeader(sectionTitleURL),
        condition: sectionTitleURL
      }, /*#__PURE__*/external_React_default.a.createElement("span", {
        className: "icon icon-small-spacer icon-light-theme",
        style: {
          backgroundImage: `url("${sectionTitleIconLight}")`
        }
      }), /*#__PURE__*/external_React_default.a.createElement("span", {
        className: "icon icon-small-spacer icon-dark-theme",
        style: {
          backgroundImage: `url("${sectionTitleIconDark}")`
        }
      }), /*#__PURE__*/external_React_default.a.createElement("span", {
        className: "section-title-text"
      }, props.content.section_title_text))));
    }

    return null;
  }

  renderSignupViewAlt() {
    const {
      content
    } = this.props;
    const containerClass = `SubmitFormSnippet ${this.props.className} scene2Alt`;
    return /*#__PURE__*/external_React_default.a.createElement(SnippetBase_SnippetBase, SubmitFormSnippet_extends({}, this.props, {
      className: containerClass // Don't show bottom dismiss button
      ,
      footerDismiss: false
    }), this.renderSectionHeader(), this.renderScene2Icon(), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "message"
    }, /*#__PURE__*/external_React_default.a.createElement("p", null, content.scene2_text && /*#__PURE__*/external_React_default.a.createElement(RichText, {
      scene2_text: content.scene2_text,
      localization_id: "scene2_text"
    })), this.renderForm()));
  }

  getFirstSceneContent() {
    return Object.keys(this.props.content).filter(key => key.includes("scene1")).reduce((acc, key) => {
      acc[key.substr(7)] = this.props.content[key];
      return acc;
    }, {});
  }

  render() {
    const content = { ...this.props.content,
      ...this.getFirstSceneContent()
    };

    if (this.state.signupSubmitted) {
      return this.renderSignupSubmitted();
    } // Render only scene 2 (signup view). Must check before `renderSignupView`
    // to catch the Failure/Try again scenario where we want to return and render
    // the scene again.


    if (this.props.expandedAlt) {
      return this.renderSignupViewAlt();
    }

    if (this.state.expanded) {
      return this.renderSignupView();
    }

    return /*#__PURE__*/external_React_default.a.createElement(SimpleSnippet_SimpleSnippet, SubmitFormSnippet_extends({}, this.props, {
      content: content,
      onButtonClick: this.expandSnippet
    }));
  }

}
// CONCATENATED MODULE: ./content-src/asrouter/templates/FXASignupSnippet/FXASignupSnippet.jsx
function FXASignupSnippet_extends() { FXASignupSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return FXASignupSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const FXASignupSnippet = props => {
  const userAgent = window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);
  const firefox_version = userAgent ? parseInt(userAgent[1], 10) : 0;
  const extendedContent = {
    scene1_button_label: "Learn more",
    retry_button_label: "Try again",
    scene2_email_placeholder_text: "Your email here",
    scene2_button_label: "Sign me up",
    scene2_dismiss_button_text: "Dismiss",
    ...props.content,
    hidden_inputs: {
      action: "email",
      context: "fx_desktop_v3",
      entrypoint: "snippets",
      utm_source: "snippet",
      utm_content: firefox_version,
      utm_campaign: props.content.utm_campaign,
      utm_term: props.content.utm_term,
      ...props.content.hidden_inputs
    }
  };
  return /*#__PURE__*/external_React_default.a.createElement(SubmitFormSnippet_SubmitFormSnippet, FXASignupSnippet_extends({}, props, {
    content: extendedContent,
    form_action: "https://accounts.firefox.com/",
    form_method: "GET"
  }));
};
// CONCATENATED MODULE: ./content-src/asrouter/templates/NewsletterSnippet/NewsletterSnippet.jsx
function NewsletterSnippet_extends() { NewsletterSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return NewsletterSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const NewsletterSnippet = props => {
  const extendedContent = {
    scene1_button_label: "Learn more",
    retry_button_label: "Try again",
    scene2_email_placeholder_text: "Your email here",
    scene2_button_label: "Sign me up",
    scene2_dismiss_button_text: "Dismiss",
    scene2_newsletter: "mozilla-foundation",
    ...props.content,
    hidden_inputs: {
      newsletters: props.content.scene2_newsletter || "mozilla-foundation",
      fmt: "H",
      lang: props.content.locale || "en-US",
      source_url: `https://snippets.mozilla.com/show/${props.id}`,
      ...props.content.hidden_inputs
    }
  };
  return /*#__PURE__*/external_React_default.a.createElement(SubmitFormSnippet_SubmitFormSnippet, NewsletterSnippet_extends({}, props, {
    content: extendedContent,
    form_action: "https://basket.mozilla.org/subscribe.json",
    form_method: "POST"
  }));
};
// CONCATENATED MODULE: ./content-src/asrouter/templates/SendToDeviceSnippet/isEmailOrPhoneNumber.js
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * Checks if a given string is an email or phone number or neither
 * @param {string} val The user input
 * @param {ASRMessageContent} content .content property on ASR message
 * @returns {"email"|"phone"|""} The type of the input
 */
function isEmailOrPhoneNumber(val, content) {
  const {
    locale
  } = content; // http://emailregex.com/

  const email_re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  const check_email = email_re.test(val);
  let check_phone; // depends on locale

  switch (locale) {
    case "en-US":
    case "en-CA":
      // allow 10-11 digits in case user wants to enter country code
      check_phone = val.length >= 10 && val.length <= 11 && !isNaN(val);
      break;

    case "de":
      // allow between 2 and 12 digits for german phone numbers
      check_phone = val.length >= 2 && val.length <= 12 && !isNaN(val);
      break;
    // this case should never be hit, but good to have a fallback just in case

    default:
      check_phone = !isNaN(val);
      break;
  }

  if (check_email) {
    return "email";
  } else if (check_phone) {
    return "phone";
  }

  return "";
}
// CONCATENATED MODULE: ./content-src/asrouter/templates/SendToDeviceSnippet/SendToDeviceSnippet.jsx
function SendToDeviceSnippet_extends() { SendToDeviceSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return SendToDeviceSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




function validateInput(value, content) {
  const type = isEmailOrPhoneNumber(value, content);
  return type ? "" : "Must be an email or a phone number.";
}

function processFormData(input, message) {
  const {
    content
  } = message;
  const type = content.include_sms ? isEmailOrPhoneNumber(input.value, content) : "email";
  const formData = new FormData();
  let url;

  if (type === "phone") {
    url = "https://basket.mozilla.org/news/subscribe_sms/";
    formData.append("mobile_number", input.value);
    formData.append("msg_name", content.message_id_sms);
    formData.append("country", content.country);
  } else if (type === "email") {
    url = "https://basket.mozilla.org/news/subscribe/";
    formData.append("email", input.value);
    formData.append("newsletters", content.message_id_email);
    formData.append("source_url", encodeURIComponent(`https://snippets.mozilla.com/show/${message.id}`));
  }

  formData.append("lang", content.locale);
  return {
    formData,
    url
  };
}

function addDefaultValues(props) {
  return { ...props,
    content: {
      scene1_button_label: "Learn more",
      retry_button_label: "Try again",
      scene2_dismiss_button_text: "Dismiss",
      scene2_button_label: "Send",
      scene2_input_placeholder: "Your email here",
      locale: "en-US",
      country: "us",
      message_id_email: "",
      include_sms: false,
      ...props.content
    }
  };
}

const SendToDeviceSnippet = props => {
  const propsWithDefaults = addDefaultValues(props);
  return /*#__PURE__*/external_React_default.a.createElement(SubmitFormSnippet_SubmitFormSnippet, SendToDeviceSnippet_extends({}, propsWithDefaults, {
    form_method: "POST",
    className: "send_to_device_snippet",
    inputType: propsWithDefaults.content.include_sms ? "text" : "email",
    validateInput: propsWithDefaults.content.include_sms ? validateInput : null,
    processFormData: processFormData
  }));
};
const SendToDeviceScene2Snippet = props => {
  return /*#__PURE__*/external_React_default.a.createElement(SendToDeviceSnippet, SendToDeviceSnippet_extends({
    expandedAlt: true
  }, props));
};
// CONCATENATED MODULE: ./content-src/asrouter/templates/SimpleBelowSearchSnippet/SimpleBelowSearchSnippet.jsx
function SimpleBelowSearchSnippet_extends() { SimpleBelowSearchSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return SimpleBelowSearchSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const SimpleBelowSearchSnippet_DEFAULT_ICON_PATH = "chrome://branding/content/icon64.png"; // Alt text placeholder in case the prop from the server isn't available

const SimpleBelowSearchSnippet_ICON_ALT_TEXT = "";
class SimpleBelowSearchSnippet_SimpleBelowSearchSnippet extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onButtonClick = this.onButtonClick.bind(this);
  }

  renderText() {
    const {
      props
    } = this;
    return props.content.text ? /*#__PURE__*/external_React_default.a.createElement(RichText, {
      text: props.content.text,
      customElements: this.props.customElements,
      localization_id: "text",
      links: props.content.links,
      sendClick: props.sendClick
    }) : null;
  }

  renderTitle() {
    const {
      title
    } = this.props.content;
    return title ? /*#__PURE__*/external_React_default.a.createElement("h3", {
      className: "title title-inline"
    }, title, /*#__PURE__*/external_React_default.a.createElement("br", null)) : null;
  }

  async onButtonClick() {
    if (this.props.provider !== "preview") {
      this.props.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        id: this.props.UISurface
      });
    }

    const {
      button_url
    } = this.props.content; // If button_url is defined handle it as OPEN_URL action

    const type = this.props.content.button_action || button_url && "OPEN_URL";
    await this.props.onAction({
      type,
      data: {
        args: this.props.content.button_action_args || button_url
      }
    });

    if (!this.props.content.do_not_autoblock) {
      this.props.onBlock();
    }
  }

  _shouldRenderButton() {
    return this.props.content.button_action || this.props.onButtonClick || this.props.content.button_url;
  }

  renderButton() {
    const {
      props
    } = this;

    if (!this._shouldRenderButton()) {
      return null;
    }

    return /*#__PURE__*/external_React_default.a.createElement(Button, {
      onClick: props.onButtonClick || this.onButtonClick,
      color: props.content.button_color,
      backgroundColor: props.content.button_background_color
    }, props.content.button_label);
  }

  render() {
    const {
      props
    } = this;
    let className = "SimpleBelowSearchSnippet";
    let containerName = "below-search-snippet";

    if (props.className) {
      className += ` ${props.className}`;
    }

    if (this._shouldRenderButton()) {
      className += " withButton";
      containerName += " withButton";
    }

    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: containerName
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "snippet-hover-wrapper"
    }, /*#__PURE__*/external_React_default.a.createElement(SnippetBase_SnippetBase, SimpleBelowSearchSnippet_extends({}, props, {
      className: className,
      textStyle: this.props.textStyle
    }), /*#__PURE__*/external_React_default.a.createElement("img", {
      src: safeURI(props.content.icon) || SimpleBelowSearchSnippet_DEFAULT_ICON_PATH,
      className: "icon icon-light-theme",
      alt: props.content.icon_alt_text || SimpleBelowSearchSnippet_ICON_ALT_TEXT
    }), /*#__PURE__*/external_React_default.a.createElement("img", {
      src: safeURI(props.content.icon_dark_theme || props.content.icon) || SimpleBelowSearchSnippet_DEFAULT_ICON_PATH,
      className: "icon icon-dark-theme",
      alt: props.content.icon_alt_text || SimpleBelowSearchSnippet_ICON_ALT_TEXT
    }), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "textContainer"
    }, this.renderTitle(), /*#__PURE__*/external_React_default.a.createElement("p", {
      className: "body"
    }, this.renderText()), this.props.extraContent), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "buttonContainer"
    }, this.renderButton()))));
  }

}
// CONCATENATED MODULE: ./content-src/asrouter/templates/template-manifest.jsx
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SnippetsTemplates", function() { return SnippetsTemplates; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





 // Key names matching schema name of templates

const SnippetsTemplates = {
  simple_snippet: SimpleSnippet_SimpleSnippet,
  newsletter_snippet: NewsletterSnippet,
  fxa_signup_snippet: FXASignupSnippet,
  send_to_device_snippet: SendToDeviceSnippet,
  send_to_device_scene2_snippet: SendToDeviceScene2Snippet,
  eoy_snippet: EOYSnippet,
  simple_below_search_snippet: SimpleBelowSearchSnippet_SimpleBelowSearchSnippet
};

/***/ }),
/* 63 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var builtins_namespaceObject = {};
__webpack_require__.r(builtins_namespaceObject);
__webpack_require__.d(builtins_namespaceObject, "NUMBER", function() { return NUMBER; });
__webpack_require__.d(builtins_namespaceObject, "DATETIME", function() { return DATETIME; });

// CONCATENATED MODULE: ./node_modules/fluent/src/types.js
/* global Intl */

/**
 * The `FluentType` class is the base of Fluent's type system.
 *
 * Fluent types wrap JavaScript values and store additional configuration for
 * them, which can then be used in the `toString` method together with a proper
 * `Intl` formatter.
 */
class FluentType {
  /**
   * Create an `FluentType` instance.
   *
   * @param   {Any}    value - JavaScript value to wrap.
   * @param   {Object} opts  - Configuration.
   * @returns {FluentType}
   */
  constructor(value, opts) {
    this.value = value;
    this.opts = opts;
  }
  /**
   * Unwrap the raw value stored by this `FluentType`.
   *
   * @returns {Any}
   */


  valueOf() {
    return this.value;
  }
  /**
   * Format this instance of `FluentType` to a string.
   *
   * Formatted values are suitable for use outside of the `FluentBundle`.
   * This method can use `Intl` formatters memoized by the `FluentBundle`
   * instance passed as an argument.
   *
   * @param   {FluentBundle} [bundle]
   * @returns {string}
   */


  toString() {
    throw new Error("Subclasses of FluentType must implement toString.");
  }

}
class FluentNone extends FluentType {
  valueOf() {
    return null;
  }

  toString() {
    return `{${this.value || "???"}}`;
  }

}
class FluentNumber extends FluentType {
  constructor(value, opts) {
    super(parseFloat(value), opts);
  }

  toString(bundle) {
    try {
      const nf = bundle._memoizeIntlObject(Intl.NumberFormat, this.opts);

      return nf.format(this.value);
    } catch (e) {
      // XXX Report the error.
      return this.value;
    }
  }

}
class FluentDateTime extends FluentType {
  constructor(value, opts) {
    super(new Date(value), opts);
  }

  toString(bundle) {
    try {
      const dtf = bundle._memoizeIntlObject(Intl.DateTimeFormat, this.opts);

      return dtf.format(this.value);
    } catch (e) {
      // XXX Report the error.
      return this.value;
    }
  }

}
// CONCATENATED MODULE: ./node_modules/fluent/src/builtins.js
/**
 * @overview
 *
 * The FTL resolver ships with a number of functions built-in.
 *
 * Each function take two arguments:
 *   - args - an array of positional args
 *   - opts - an object of key-value args
 *
 * Arguments to functions are guaranteed to already be instances of
 * `FluentType`.  Functions must return `FluentType` objects as well.
 */


function merge(argopts, opts) {
  return Object.assign({}, argopts, values(opts));
}

function values(opts) {
  const unwrapped = {};

  for (const [name, opt] of Object.entries(opts)) {
    unwrapped[name] = opt.valueOf();
  }

  return unwrapped;
}

function NUMBER([arg], opts) {
  if (arg instanceof FluentNone) {
    return arg;
  }

  if (arg instanceof FluentNumber) {
    return new FluentNumber(arg.valueOf(), merge(arg.opts, opts));
  }

  return new FluentNone("NUMBER()");
}
function DATETIME([arg], opts) {
  if (arg instanceof FluentNone) {
    return arg;
  }

  if (arg instanceof FluentDateTime) {
    return new FluentDateTime(arg.valueOf(), merge(arg.opts, opts));
  }

  return new FluentNone("DATETIME()");
}
// CONCATENATED MODULE: ./node_modules/fluent/src/resolver.js
/* global Intl */

/**
 * @overview
 *
 * The role of the Fluent resolver is to format a translation object to an
 * instance of `FluentType` or an array of instances.
 *
 * Translations can contain references to other messages or variables,
 * conditional logic in form of select expressions, traits which describe their
 * grammatical features, and can use Fluent builtins which make use of the
 * `Intl` formatters to format numbers, dates, lists and more into the
 * bundle's language. See the documentation of the Fluent syntax for more
 * information.
 *
 * In case of errors the resolver will try to salvage as much of the
 * translation as possible.  In rare situations where the resolver didn't know
 * how to recover from an error it will return an instance of `FluentNone`.
 *
 * All expressions resolve to an instance of `FluentType`. The caller should
 * use the `toString` method to convert the instance to a native value.
 *
 * All functions in this file pass around a special object called `scope`.
 * This object stores a set of elements used by all resolve functions:
 *
 *  * {FluentBundle} bundle
 *      bundle for which the given resolution is happening
 *  * {Object} args
 *      list of developer provided arguments that can be used
 *  * {Array} errors
 *      list of errors collected while resolving
 *  * {WeakSet} dirty
 *      Set of patterns already encountered during this resolution.
 *      This is used to prevent cyclic resolutions.
 */

 // Prevent expansion of too long placeables.

const MAX_PLACEABLE_LENGTH = 2500; // Unicode bidi isolation characters.

const FSI = "\u2068";
const PDI = "\u2069"; // Helper: match a variant key to the given selector.

function resolver_match(bundle, selector, key) {
  if (key === selector) {
    // Both are strings.
    return true;
  } // XXX Consider comparing options too, e.g. minimumFractionDigits.


  if (key instanceof FluentNumber && selector instanceof FluentNumber && key.value === selector.value) {
    return true;
  }

  if (selector instanceof FluentNumber && typeof key === "string") {
    let category = bundle._memoizeIntlObject(Intl.PluralRules, selector.opts).select(selector.value);

    if (key === category) {
      return true;
    }
  }

  return false;
} // Helper: resolve the default variant from a list of variants.


function getDefault(scope, variants, star) {
  if (variants[star]) {
    return Type(scope, variants[star]);
  }

  scope.errors.push(new RangeError("No default"));
  return new FluentNone();
} // Helper: resolve arguments to a call expression.


function getArguments(scope, args) {
  const positional = [];
  const named = {};

  for (const arg of args) {
    if (arg.type === "narg") {
      named[arg.name] = Type(scope, arg.value);
    } else {
      positional.push(Type(scope, arg));
    }
  }

  return [positional, named];
} // Resolve an expression to a Fluent type.


function Type(scope, expr) {
  // A fast-path for strings which are the most common case. Since they
  // natively have the `toString` method they can be used as if they were
  // a FluentType instance without incurring the cost of creating one.
  if (typeof expr === "string") {
    return scope.bundle._transform(expr);
  } // A fast-path for `FluentNone` which doesn't require any additional logic.


  if (expr instanceof FluentNone) {
    return expr;
  } // The Runtime AST (Entries) encodes patterns (complex strings with
  // placeables) as Arrays.


  if (Array.isArray(expr)) {
    return Pattern(scope, expr);
  }

  switch (expr.type) {
    case "str":
      return expr.value;

    case "num":
      return new FluentNumber(expr.value, {
        minimumFractionDigits: expr.precision
      });

    case "var":
      return VariableReference(scope, expr);

    case "mesg":
      return MessageReference(scope, expr);

    case "term":
      return TermReference(scope, expr);

    case "func":
      return FunctionReference(scope, expr);

    case "select":
      return SelectExpression(scope, expr);

    case undefined:
      {
        // If it's a node with a value, resolve the value.
        if (expr.value !== null && expr.value !== undefined) {
          return Type(scope, expr.value);
        }

        scope.errors.push(new RangeError("No value"));
        return new FluentNone();
      }

    default:
      return new FluentNone();
  }
} // Resolve a reference to a variable.


function VariableReference(scope, {
  name
}) {
  if (!scope.args || !scope.args.hasOwnProperty(name)) {
    if (scope.insideTermReference === false) {
      scope.errors.push(new ReferenceError(`Unknown variable: ${name}`));
    }

    return new FluentNone(`$${name}`);
  }

  const arg = scope.args[name]; // Return early if the argument already is an instance of FluentType.

  if (arg instanceof FluentType) {
    return arg;
  } // Convert the argument to a Fluent type.


  switch (typeof arg) {
    case "string":
      return arg;

    case "number":
      return new FluentNumber(arg);

    case "object":
      if (arg instanceof Date) {
        return new FluentDateTime(arg);
      }

    default:
      scope.errors.push(new TypeError(`Unsupported variable type: ${name}, ${typeof arg}`));
      return new FluentNone(`$${name}`);
  }
} // Resolve a reference to another message.


function MessageReference(scope, {
  name,
  attr
}) {
  const message = scope.bundle._messages.get(name);

  if (!message) {
    const err = new ReferenceError(`Unknown message: ${name}`);
    scope.errors.push(err);
    return new FluentNone(name);
  }

  if (attr) {
    const attribute = message.attrs && message.attrs[attr];

    if (attribute) {
      return Type(scope, attribute);
    }

    scope.errors.push(new ReferenceError(`Unknown attribute: ${attr}`));
    return new FluentNone(`${name}.${attr}`);
  }

  return Type(scope, message);
} // Resolve a call to a Term with key-value arguments.


function TermReference(scope, {
  name,
  attr,
  args
}) {
  const id = `-${name}`;

  const term = scope.bundle._terms.get(id);

  if (!term) {
    const err = new ReferenceError(`Unknown term: ${id}`);
    scope.errors.push(err);
    return new FluentNone(id);
  } // Every TermReference has its own args.


  const [, keyargs] = getArguments(scope, args);
  const local = { ...scope,
    args: keyargs,
    insideTermReference: true
  };

  if (attr) {
    const attribute = term.attrs && term.attrs[attr];

    if (attribute) {
      return Type(local, attribute);
    }

    scope.errors.push(new ReferenceError(`Unknown attribute: ${attr}`));
    return new FluentNone(`${id}.${attr}`);
  }

  return Type(local, term);
} // Resolve a call to a Function with positional and key-value arguments.


function FunctionReference(scope, {
  name,
  args
}) {
  // Some functions are built-in. Others may be provided by the runtime via
  // the `FluentBundle` constructor.
  const func = scope.bundle._functions[name] || builtins_namespaceObject[name];

  if (!func) {
    scope.errors.push(new ReferenceError(`Unknown function: ${name}()`));
    return new FluentNone(`${name}()`);
  }

  if (typeof func !== "function") {
    scope.errors.push(new TypeError(`Function ${name}() is not callable`));
    return new FluentNone(`${name}()`);
  }

  try {
    return func(...getArguments(scope, args));
  } catch (e) {
    // XXX Report errors.
    return new FluentNone(`${name}()`);
  }
} // Resolve a select expression to the member object.


function SelectExpression(scope, {
  selector,
  variants,
  star
}) {
  let sel = Type(scope, selector);

  if (sel instanceof FluentNone) {
    const variant = getDefault(scope, variants, star);
    return Type(scope, variant);
  } // Match the selector against keys of each variant, in order.


  for (const variant of variants) {
    const key = Type(scope, variant.key);

    if (resolver_match(scope.bundle, sel, key)) {
      return Type(scope, variant);
    }
  }

  const variant = getDefault(scope, variants, star);
  return Type(scope, variant);
} // Resolve a pattern (a complex string with placeables).


function Pattern(scope, ptn) {
  if (scope.dirty.has(ptn)) {
    scope.errors.push(new RangeError("Cyclic reference"));
    return new FluentNone();
  } // Tag the pattern as dirty for the purpose of the current resolution.


  scope.dirty.add(ptn);
  const result = []; // Wrap interpolations with Directional Isolate Formatting characters
  // only when the pattern has more than one element.

  const useIsolating = scope.bundle._useIsolating && ptn.length > 1;

  for (const elem of ptn) {
    if (typeof elem === "string") {
      result.push(scope.bundle._transform(elem));
      continue;
    }

    const part = Type(scope, elem).toString(scope.bundle);

    if (useIsolating) {
      result.push(FSI);
    }

    if (part.length > MAX_PLACEABLE_LENGTH) {
      scope.errors.push(new RangeError("Too many characters in placeable " + `(${part.length}, max allowed is ${MAX_PLACEABLE_LENGTH})`));
      result.push(part.slice(MAX_PLACEABLE_LENGTH));
    } else {
      result.push(part);
    }

    if (useIsolating) {
      result.push(PDI);
    }
  }

  scope.dirty.delete(ptn);
  return result.join("");
}
/**
 * Format a translation into a string.
 *
 * @param   {FluentBundle} bundle
 *    A FluentBundle instance which will be used to resolve the
 *    contextual information of the message.
 * @param   {Object}         args
 *    List of arguments provided by the developer which can be accessed
 *    from the message.
 * @param   {Object}         message
 *    An object with the Message to be resolved.
 * @param   {Array}          errors
 *    An error array that any encountered errors will be appended to.
 * @returns {FluentType}
 */


function resolve(bundle, args, message, errors = []) {
  const scope = {
    bundle,
    args,
    errors,
    dirty: new WeakSet(),
    // TermReferences are resolved in a new scope.
    insideTermReference: false
  };
  return Type(scope, message).toString(bundle);
}
// CONCATENATED MODULE: ./node_modules/fluent/src/error.js
class FluentError extends Error {}
// CONCATENATED MODULE: ./node_modules/fluent/src/resource.js
 // This regex is used to iterate through the beginnings of messages and terms.
// With the /m flag, the ^ matches at the beginning of every line.

const RE_MESSAGE_START = /^(-?[a-zA-Z][\w-]*) *= */mg; // Both Attributes and Variants are parsed in while loops. These regexes are
// used to break out of them.

const RE_ATTRIBUTE_START = /\.([a-zA-Z][\w-]*) *= */y;
const RE_VARIANT_START = /\*?\[/y;
const RE_NUMBER_LITERAL = /(-?[0-9]+(?:\.([0-9]+))?)/y;
const RE_IDENTIFIER = /([a-zA-Z][\w-]*)/y;
const RE_REFERENCE = /([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y;
const RE_FUNCTION_NAME = /^[A-Z][A-Z0-9_-]*$/; // A "run" is a sequence of text or string literal characters which don't
// require any special handling. For TextElements such special characters are: {
// (starts a placeable), and line breaks which require additional logic to check
// if the next line is indented. For StringLiterals they are: \ (starts an
// escape sequence), " (ends the literal), and line breaks which are not allowed
// in StringLiterals. Note that string runs may be empty; text runs may not.

const RE_TEXT_RUN = /([^{}\n\r]+)/y;
const RE_STRING_RUN = /([^\\"\n\r]*)/y; // Escape sequences.

const RE_STRING_ESCAPE = /\\([\\"])/y;
const RE_UNICODE_ESCAPE = /\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y; // Used for trimming TextElements and indents.

const RE_LEADING_NEWLINES = /^\n+/;
const RE_TRAILING_SPACES = / +$/; // Used in makeIndent to strip spaces from blank lines and normalize CRLF to LF.

const RE_BLANK_LINES = / *\r?\n/g; // Used in makeIndent to measure the indentation.

const RE_INDENT = /( *)$/; // Common tokens.

const TOKEN_BRACE_OPEN = /{\s*/y;
const TOKEN_BRACE_CLOSE = /\s*}/y;
const TOKEN_BRACKET_OPEN = /\[\s*/y;
const TOKEN_BRACKET_CLOSE = /\s*] */y;
const TOKEN_PAREN_OPEN = /\s*\(\s*/y;
const TOKEN_ARROW = /\s*->\s*/y;
const TOKEN_COLON = /\s*:\s*/y; // Note the optional comma. As a deviation from the Fluent EBNF, the parser
// doesn't enforce commas between call arguments.

const TOKEN_COMMA = /\s*,?\s*/y;
const TOKEN_BLANK = /\s+/y; // Maximum number of placeables in a single Pattern to protect against Quadratic
// Blowup attacks. See https://msdn.microsoft.com/en-us/magazine/ee335713.aspx.

const MAX_PLACEABLES = 100;
/**
 * Fluent Resource is a structure storing a map of parsed localization entries.
 */

class resource_FluentResource extends Map {
  /**
   * Create a new FluentResource from Fluent code.
   */
  static fromString(source) {
    RE_MESSAGE_START.lastIndex = 0;
    let resource = new this();
    let cursor = 0; // Iterate over the beginnings of messages and terms to efficiently skip
    // comments and recover from errors.

    while (true) {
      let next = RE_MESSAGE_START.exec(source);

      if (next === null) {
        break;
      }

      cursor = RE_MESSAGE_START.lastIndex;

      try {
        resource.set(next[1], parseMessage());
      } catch (err) {
        if (err instanceof FluentError) {
          // Don't report any Fluent syntax errors. Skip directly to the
          // beginning of the next message or term.
          continue;
        }

        throw err;
      }
    }

    return resource; // The parser implementation is inlined below for performance reasons.
    // The parser focuses on minimizing the number of false negatives at the
    // expense of increasing the risk of false positives. In other words, it
    // aims at parsing valid Fluent messages with a success rate of 100%, but it
    // may also parse a few invalid messages which the reference parser would
    // reject. The parser doesn't perform any validation and may produce entries
    // which wouldn't make sense in the real world. For best results users are
    // advised to validate translations with the fluent-syntax parser
    // pre-runtime.
    // The parser makes an extensive use of sticky regexes which can be anchored
    // to any offset of the source string without slicing it. Errors are thrown
    // to bail out of parsing of ill-formed messages.

    function test(re) {
      re.lastIndex = cursor;
      return re.test(source);
    } // Advance the cursor by the char if it matches. May be used as a predicate
    // (was the match found?) or, if errorClass is passed, as an assertion.


    function consumeChar(char, errorClass) {
      if (source[cursor] === char) {
        cursor++;
        return true;
      }

      if (errorClass) {
        throw new errorClass(`Expected ${char}`);
      }

      return false;
    } // Advance the cursor by the token if it matches. May be used as a predicate
    // (was the match found?) or, if errorClass is passed, as an assertion.


    function consumeToken(re, errorClass) {
      if (test(re)) {
        cursor = re.lastIndex;
        return true;
      }

      if (errorClass) {
        throw new errorClass(`Expected ${re.toString()}`);
      }

      return false;
    } // Execute a regex, advance the cursor, and return all capture groups.


    function match(re) {
      re.lastIndex = cursor;
      let result = re.exec(source);

      if (result === null) {
        throw new FluentError(`Expected ${re.toString()}`);
      }

      cursor = re.lastIndex;
      return result;
    } // Execute a regex, advance the cursor, and return the capture group.


    function match1(re) {
      return match(re)[1];
    }

    function parseMessage() {
      let value = parsePattern();
      let attrs = parseAttributes();

      if (attrs === null) {
        if (value === null) {
          throw new FluentError("Expected message value or attributes");
        }

        return value;
      }

      return {
        value,
        attrs
      };
    }

    function parseAttributes() {
      let attrs = {};

      while (test(RE_ATTRIBUTE_START)) {
        let name = match1(RE_ATTRIBUTE_START);
        let value = parsePattern();

        if (value === null) {
          throw new FluentError("Expected attribute value");
        }

        attrs[name] = value;
      }

      return Object.keys(attrs).length > 0 ? attrs : null;
    }

    function parsePattern() {
      // First try to parse any simple text on the same line as the id.
      if (test(RE_TEXT_RUN)) {
        var first = match1(RE_TEXT_RUN);
      } // If there's a placeable on the first line, parse a complex pattern.


      if (source[cursor] === "{" || source[cursor] === "}") {
        // Re-use the text parsed above, if possible.
        return parsePatternElements(first ? [first] : [], Infinity);
      } // RE_TEXT_VALUE stops at newlines. Only continue parsing the pattern if
      // what comes after the newline is indented.


      let indent = parseIndent();

      if (indent) {
        if (first) {
          // If there's text on the first line, the blank block is part of the
          // translation content in its entirety.
          return parsePatternElements([first, indent], indent.length);
        } // Otherwise, we're dealing with a block pattern, i.e. a pattern which
        // starts on a new line. Discrad the leading newlines but keep the
        // inline indent; it will be used by the dedentation logic.


        indent.value = trim(indent.value, RE_LEADING_NEWLINES);
        return parsePatternElements([indent], indent.length);
      }

      if (first) {
        // It was just a simple inline text after all.
        return trim(first, RE_TRAILING_SPACES);
      }

      return null;
    } // Parse a complex pattern as an array of elements.


    function parsePatternElements(elements = [], commonIndent) {
      let placeableCount = 0;

      while (true) {
        if (test(RE_TEXT_RUN)) {
          elements.push(match1(RE_TEXT_RUN));
          continue;
        }

        if (source[cursor] === "{") {
          if (++placeableCount > MAX_PLACEABLES) {
            throw new FluentError("Too many placeables");
          }

          elements.push(parsePlaceable());
          continue;
        }

        if (source[cursor] === "}") {
          throw new FluentError("Unbalanced closing brace");
        }

        let indent = parseIndent();

        if (indent) {
          elements.push(indent);
          commonIndent = Math.min(commonIndent, indent.length);
          continue;
        }

        break;
      }

      let lastIndex = elements.length - 1; // Trim the trailing spaces in the last element if it's a TextElement.

      if (typeof elements[lastIndex] === "string") {
        elements[lastIndex] = trim(elements[lastIndex], RE_TRAILING_SPACES);
      }

      let baked = [];

      for (let element of elements) {
        if (element.type === "indent") {
          // Dedent indented lines by the maximum common indent.
          element = element.value.slice(0, element.value.length - commonIndent);
        } else if (element.type === "str") {
          // Optimize StringLiterals into their value.
          element = element.value;
        }

        if (element) {
          baked.push(element);
        }
      }

      return baked;
    }

    function parsePlaceable() {
      consumeToken(TOKEN_BRACE_OPEN, FluentError);
      let selector = parseInlineExpression();

      if (consumeToken(TOKEN_BRACE_CLOSE)) {
        return selector;
      }

      if (consumeToken(TOKEN_ARROW)) {
        let variants = parseVariants();
        consumeToken(TOKEN_BRACE_CLOSE, FluentError);
        return {
          type: "select",
          selector,
          ...variants
        };
      }

      throw new FluentError("Unclosed placeable");
    }

    function parseInlineExpression() {
      if (source[cursor] === "{") {
        // It's a nested placeable.
        return parsePlaceable();
      }

      if (test(RE_REFERENCE)) {
        let [, sigil, name, attr = null] = match(RE_REFERENCE);

        if (sigil === "$") {
          return {
            type: "var",
            name
          };
        }

        if (consumeToken(TOKEN_PAREN_OPEN)) {
          let args = parseArguments();

          if (sigil === "-") {
            // A parameterized term: -term(...).
            return {
              type: "term",
              name,
              attr,
              args
            };
          }

          if (RE_FUNCTION_NAME.test(name)) {
            return {
              type: "func",
              name,
              args
            };
          }

          throw new FluentError("Function names must be all upper-case");
        }

        if (sigil === "-") {
          // A non-parameterized term: -term.
          return {
            type: "term",
            name,
            attr,
            args: []
          };
        }

        return {
          type: "mesg",
          name,
          attr
        };
      }

      return parseLiteral();
    }

    function parseArguments() {
      let args = [];

      while (true) {
        switch (source[cursor]) {
          case ")":
            // End of the argument list.
            cursor++;
            return args;

          case undefined:
            // EOF
            throw new FluentError("Unclosed argument list");
        }

        args.push(parseArgument()); // Commas between arguments are treated as whitespace.

        consumeToken(TOKEN_COMMA);
      }
    }

    function parseArgument() {
      let expr = parseInlineExpression();

      if (expr.type !== "mesg") {
        return expr;
      }

      if (consumeToken(TOKEN_COLON)) {
        // The reference is the beginning of a named argument.
        return {
          type: "narg",
          name: expr.name,
          value: parseLiteral()
        };
      } // It's a regular message reference.


      return expr;
    }

    function parseVariants() {
      let variants = [];
      let count = 0;
      let star;

      while (test(RE_VARIANT_START)) {
        if (consumeChar("*")) {
          star = count;
        }

        let key = parseVariantKey();
        let value = parsePattern();

        if (value === null) {
          throw new FluentError("Expected variant value");
        }

        variants[count++] = {
          key,
          value
        };
      }

      if (count === 0) {
        return null;
      }

      if (star === undefined) {
        throw new FluentError("Expected default variant");
      }

      return {
        variants,
        star
      };
    }

    function parseVariantKey() {
      consumeToken(TOKEN_BRACKET_OPEN, FluentError);
      let key = test(RE_NUMBER_LITERAL) ? parseNumberLiteral() : match1(RE_IDENTIFIER);
      consumeToken(TOKEN_BRACKET_CLOSE, FluentError);
      return key;
    }

    function parseLiteral() {
      if (test(RE_NUMBER_LITERAL)) {
        return parseNumberLiteral();
      }

      if (source[cursor] === "\"") {
        return parseStringLiteral();
      }

      throw new FluentError("Invalid expression");
    }

    function parseNumberLiteral() {
      let [, value, fraction = ""] = match(RE_NUMBER_LITERAL);
      let precision = fraction.length;
      return {
        type: "num",
        value: parseFloat(value),
        precision
      };
    }

    function parseStringLiteral() {
      consumeChar("\"", FluentError);
      let value = "";

      while (true) {
        value += match1(RE_STRING_RUN);

        if (source[cursor] === "\\") {
          value += parseEscapeSequence();
          continue;
        }

        if (consumeChar("\"")) {
          return {
            type: "str",
            value
          };
        } // We've reached an EOL of EOF.


        throw new FluentError("Unclosed string literal");
      }
    } // Unescape known escape sequences.


    function parseEscapeSequence() {
      if (test(RE_STRING_ESCAPE)) {
        return match1(RE_STRING_ESCAPE);
      }

      if (test(RE_UNICODE_ESCAPE)) {
        let [, codepoint4, codepoint6] = match(RE_UNICODE_ESCAPE);
        let codepoint = parseInt(codepoint4 || codepoint6, 16);
        return codepoint <= 0xD7FF || 0xE000 <= codepoint // It's a Unicode scalar value.
        ? String.fromCodePoint(codepoint) // Lonely surrogates can cause trouble when the parsing result is
        // saved using UTF-8. Use U+FFFD REPLACEMENT CHARACTER instead.
        : "�";
      }

      throw new FluentError("Unknown escape sequence");
    } // Parse blank space. Return it if it looks like indent before a pattern
    // line. Skip it othwerwise.


    function parseIndent() {
      let start = cursor;
      consumeToken(TOKEN_BLANK); // Check the first non-blank character after the indent.

      switch (source[cursor]) {
        case ".":
        case "[":
        case "*":
        case "}":
        case undefined:
          // EOF
          // A special character. End the Pattern.
          return false;

        case "{":
          // Placeables don't require indentation (in EBNF: block-placeable).
          // Continue the Pattern.
          return makeIndent(source.slice(start, cursor));
      } // If the first character on the line is not one of the special characters
      // listed above, it's a regular text character. Check if there's at least
      // one space of indent before it.


      if (source[cursor - 1] === " ") {
        // It's an indented text character (in EBNF: indented-char). Continue
        // the Pattern.
        return makeIndent(source.slice(start, cursor));
      } // A not-indented text character is likely the identifier of the next
      // message. End the Pattern.


      return false;
    } // Trim blanks in text according to the given regex.


    function trim(text, re) {
      return text.replace(re, "");
    } // Normalize a blank block and extract the indent details.


    function makeIndent(blank) {
      let value = blank.replace(RE_BLANK_LINES, "\n");
      let length = RE_INDENT.exec(blank)[1].length;
      return {
        type: "indent",
        value,
        length
      };
    }
  }

}
// CONCATENATED MODULE: ./node_modules/fluent/src/bundle.js


/**
 * Message bundles are single-language stores of translations.  They are
 * responsible for parsing translation resources in the Fluent syntax and can
 * format translation units (entities) to strings.
 *
 * Always use `FluentBundle.format` to retrieve translation units from a
 * bundle. Translations can contain references to other entities or variables,
 * conditional logic in form of select expressions, traits which describe their
 * grammatical features, and can use Fluent builtins which make use of the
 * `Intl` formatters to format numbers, dates, lists and more into the
 * bundle's language. See the documentation of the Fluent syntax for more
 * information.
 */

class bundle_FluentBundle {
  /**
   * Create an instance of `FluentBundle`.
   *
   * The `locales` argument is used to instantiate `Intl` formatters used by
   * translations.  The `options` object can be used to configure the bundle.
   *
   * Examples:
   *
   *     const bundle = new FluentBundle(locales);
   *
   *     const bundle = new FluentBundle(locales, { useIsolating: false });
   *
   *     const bundle = new FluentBundle(locales, {
   *       useIsolating: true,
   *       functions: {
   *         NODE_ENV: () => process.env.NODE_ENV
   *       }
   *     });
   *
   * Available options:
   *
   *   - `functions` - an object of additional functions available to
   *                   translations as builtins.
   *
   *   - `useIsolating` - boolean specifying whether to use Unicode isolation
   *                    marks (FSI, PDI) for bidi interpolations.
   *                    Default: true
   *
   *   - `transform` - a function used to transform string parts of patterns.
   *
   * @param   {string|Array<string>} locales - Locale or locales of the bundle
   * @param   {Object} [options]
   * @returns {FluentBundle}
   */
  constructor(locales, {
    functions = {},
    useIsolating = true,
    transform = v => v
  } = {}) {
    this.locales = Array.isArray(locales) ? locales : [locales];
    this._terms = new Map();
    this._messages = new Map();
    this._functions = functions;
    this._useIsolating = useIsolating;
    this._transform = transform;
    this._intls = new WeakMap();
  }
  /*
   * Return an iterator over public `[id, message]` pairs.
   *
   * @returns {Iterator}
   */


  get messages() {
    return this._messages[Symbol.iterator]();
  }
  /*
   * Check if a message is present in the bundle.
   *
   * @param {string} id - The identifier of the message to check.
   * @returns {bool}
   */


  hasMessage(id) {
    return this._messages.has(id);
  }
  /*
   * Return the internal representation of a message.
   *
   * The internal representation should only be used as an argument to
   * `FluentBundle.format`.
   *
   * @param {string} id - The identifier of the message to check.
   * @returns {Any}
   */


  getMessage(id) {
    return this._messages.get(id);
  }
  /**
   * Add a translation resource to the bundle.
   *
   * The translation resource must use the Fluent syntax.  It will be parsed by
   * the bundle and each translation unit (message) will be available in the
   * bundle by its identifier.
   *
   *     bundle.addMessages('foo = Foo');
   *     bundle.getMessage('foo');
   *
   *     // Returns a raw representation of the 'foo' message.
   *
   *     bundle.addMessages('bar = Bar');
   *     bundle.addMessages('bar = Newbar', { allowOverrides: true });
   *     bundle.getMessage('bar');
   *
   *     // Returns a raw representation of the 'bar' message: Newbar.
   *
   * Parsed entities should be formatted with the `format` method in case they
   * contain logic (references, select expressions etc.).
   *
   * Available options:
   *
   *   - `allowOverrides` - boolean specifying whether it's allowed to override
   *                      an existing message or term with a new value.
   *                      Default: false
   *
   * @param   {string} source - Text resource with translations.
   * @param   {Object} [options]
   * @returns {Array<Error>}
   */


  addMessages(source, options) {
    const res = resource_FluentResource.fromString(source);
    return this.addResource(res, options);
  }
  /**
   * Add a translation resource to the bundle.
   *
   * The translation resource must be an instance of FluentResource,
   * e.g. parsed by `FluentResource.fromString`.
   *
   *     let res = FluentResource.fromString("foo = Foo");
   *     bundle.addResource(res);
   *     bundle.getMessage('foo');
   *
   *     // Returns a raw representation of the 'foo' message.
   *
   *     let res = FluentResource.fromString("bar = Bar");
   *     bundle.addResource(res);
   *     res = FluentResource.fromString("bar = Newbar");
   *     bundle.addResource(res, { allowOverrides: true });
   *     bundle.getMessage('bar');
   *
   *     // Returns a raw representation of the 'bar' message: Newbar.
   *
   * Parsed entities should be formatted with the `format` method in case they
   * contain logic (references, select expressions etc.).
   *
   * Available options:
   *
   *   - `allowOverrides` - boolean specifying whether it's allowed to override
   *                      an existing message or term with a new value.
   *                      Default: false
   *
   * @param   {FluentResource} res - FluentResource object.
   * @param   {Object} [options]
   * @returns {Array<Error>}
   */


  addResource(res, {
    allowOverrides = false
  } = {}) {
    const errors = [];

    for (const [id, value] of res) {
      if (id.startsWith("-")) {
        // Identifiers starting with a dash (-) define terms. Terms are private
        // and cannot be retrieved from FluentBundle.
        if (allowOverrides === false && this._terms.has(id)) {
          errors.push(`Attempt to override an existing term: "${id}"`);
          continue;
        }

        this._terms.set(id, value);
      } else {
        if (allowOverrides === false && this._messages.has(id)) {
          errors.push(`Attempt to override an existing message: "${id}"`);
          continue;
        }

        this._messages.set(id, value);
      }
    }

    return errors;
  }
  /**
   * Format a message to a string or null.
   *
   * Format a raw `message` from the bundle into a string (or a null if it has
   * a null value).  `args` will be used to resolve references to variables
   * passed as arguments to the translation.
   *
   * In case of errors `format` will try to salvage as much of the translation
   * as possible and will still return a string.  For performance reasons, the
   * encountered errors are not returned but instead are appended to the
   * `errors` array passed as the third argument.
   *
   *     const errors = [];
   *     bundle.addMessages('hello = Hello, { $name }!');
   *     const hello = bundle.getMessage('hello');
   *     bundle.format(hello, { name: 'Jane' }, errors);
   *
   *     // Returns 'Hello, Jane!' and `errors` is empty.
   *
   *     bundle.format(hello, undefined, errors);
   *
   *     // Returns 'Hello, name!' and `errors` is now:
   *
   *     [<ReferenceError: Unknown variable: name>]
   *
   * @param   {Object | string}    message
   * @param   {Object | undefined} args
   * @param   {Array}              errors
   * @returns {?string}
   */


  format(message, args, errors) {
    // optimize entities which are simple strings with no attributes
    if (typeof message === "string") {
      return this._transform(message);
    } // optimize entities with null values


    if (message === null || message.value === null) {
      return null;
    } // optimize simple-string entities with attributes


    if (typeof message.value === "string") {
      return this._transform(message.value);
    }

    return resolve(this, args, message, errors);
  }

  _memoizeIntlObject(ctor, opts) {
    const cache = this._intls.get(ctor) || {};
    const id = JSON.stringify(opts);

    if (!cache[id]) {
      cache[id] = new ctor(this.locales, opts);

      this._intls.set(ctor, cache);
    }

    return cache[id];
  }

}
// CONCATENATED MODULE: ./node_modules/fluent/src/index.js
/*
 * @module fluent
 * @overview
 *
 * `fluent` is a JavaScript implementation of Project Fluent, a localization
 * framework designed to unleash the expressive power of the natural language.
 *
 */




// CONCATENATED MODULE: ./content-src/asrouter/rich-text-strings.js
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RICH_TEXT_KEYS", function() { return RICH_TEXT_KEYS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateBundles", function() { return generateBundles; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * Properties that allow rich text MUST be added to this list.
 *   key: the localization_id that should be used
 *   value: a property or array of properties on the message.content object
 */

const RICH_TEXT_CONFIG = {
  text: ["text", "scene1_text"],
  success_text: "success_text",
  error_text: "error_text",
  scene2_text: "scene2_text",
  amo_html: "amo_html",
  privacy_html: "scene2_privacy_html",
  disclaimer_html: "scene2_disclaimer_html"
};
const RICH_TEXT_KEYS = Object.keys(RICH_TEXT_CONFIG);
/**
 * Generates an array of messages suitable for fluent's localization provider
 * including all needed strings for rich text.
 * @param {object} content A .content object from an ASR message (i.e. message.content)
 * @returns {FluentBundle[]} A array containing the fluent message context
 */

function generateBundles(content) {
  const bundle = new bundle_FluentBundle("en-US");
  RICH_TEXT_KEYS.forEach(key => {
    const attrs = RICH_TEXT_CONFIG[key];
    const attrsToTry = Array.isArray(attrs) ? [...attrs] : [attrs];
    let string = "";

    while (!string && attrsToTry.length) {
      const attr = attrsToTry.pop();
      string = content[attr];
    }

    bundle.addMessages(`${key} = ${string}`);
  });
  return [bundle];
}

/***/ }),
/* 64 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./common/Actions.jsm
var Actions = __webpack_require__(1);

// EXTERNAL MODULE: ./content-src/components/DiscoveryStreamComponents/DSImage/DSImage.jsx
var DSImage = __webpack_require__(17);

// EXTERNAL MODULE: ./content-src/components/LinkMenu/LinkMenu.jsx
var LinkMenu = __webpack_require__(18);

// EXTERNAL MODULE: ./content-src/components/ContextMenu/ContextMenuButton.jsx
var ContextMenuButton = __webpack_require__(21);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(8);
var external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);

// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSLinkMenu/DSLinkMenu.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class DSLinkMenu_DSLinkMenu extends external_React_default.a.PureComponent {
  render() {
    const {
      index,
      dispatch
    } = this.props;
    const TOP_STORIES_CONTEXT_MENU_OPTIONS = ["CheckBookmark", "CheckArchiveFromPocket", ...(this.props.saveToPocketCard ? ["CheckDeleteFromPocket"] : ["CheckSavedToPocket"]), "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", ...(this.props.showPrivacyInfo ? ["ShowPrivacyInfo"] : [])];
    const type = this.props.type || "DISCOVERY_STREAM";
    const title = this.props.title || this.props.source;
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "context-menu-position-container"
    }, /*#__PURE__*/external_React_default.a.createElement(ContextMenuButton["ContextMenuButton"], {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.props.onMenuUpdate
    }, /*#__PURE__*/external_React_default.a.createElement(LinkMenu["LinkMenu"], {
      dispatch: dispatch,
      index: index,
      source: type.toUpperCase(),
      onShow: this.props.onMenuShow,
      options: TOP_STORIES_CONTEXT_MENU_OPTIONS,
      shouldSendImpressionStats: true,
      site: {
        referrer: "https://getpocket.com/recommendations",
        title: this.props.title,
        type: this.props.type,
        url: this.props.url,
        guid: this.props.id,
        pocket_id: this.props.pocket_id,
        shim: this.props.shim,
        bookmarkGuid: this.props.bookmarkGuid,
        flight_id: this.props.flightId
      }
    })));
  }

}
// EXTERNAL MODULE: ./content-src/components/DiscoveryStreamImpressionStats/ImpressionStats.jsx
var ImpressionStats = __webpack_require__(22);

// EXTERNAL MODULE: ./content-src/components/DiscoveryStreamComponents/SafeAnchor/SafeAnchor.jsx
var SafeAnchor = __webpack_require__(23);

// EXTERNAL MODULE: ./content-src/components/Card/types.js
var types = __webpack_require__(24);

// EXTERNAL MODULE: external "ReactTransitionGroup"
var external_ReactTransitionGroup_ = __webpack_require__(25);

// EXTERNAL MODULE: ./content-src/components/FluentOrText/FluentOrText.jsx
var FluentOrText = __webpack_require__(26);

// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSContextFooter/DSContextFooter.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



 // Animation time is mirrored in DSContextFooter.scss

const ANIMATION_DURATION = 3000;
const DSMessageLabel = props => {
  const {
    context,
    context_type,
    display_engagement_labels,
    engagement
  } = props;
  const {
    icon,
    fluentID
  } = types["cardContextTypes"][context_type] || {};

  if (!context && (context_type || display_engagement_labels && engagement)) {
    return /*#__PURE__*/external_React_default.a.createElement(external_ReactTransitionGroup_["TransitionGroup"], {
      component: null
    }, /*#__PURE__*/external_React_default.a.createElement(external_ReactTransitionGroup_["CSSTransition"], {
      key: fluentID,
      timeout: ANIMATION_DURATION,
      classNames: "story-animate"
    }, engagement && !context_type ? /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "story-view-count"
    }, engagement) : /*#__PURE__*/external_React_default.a.createElement(StatusMessage, {
      icon: icon,
      fluentID: fluentID
    })));
  }

  return null;
};
const StatusMessage = ({
  icon,
  fluentID
}) => /*#__PURE__*/external_React_default.a.createElement("div", {
  className: "status-message"
}, /*#__PURE__*/external_React_default.a.createElement("span", {
  "aria-haspopup": "true",
  className: `story-badge-icon icon icon-${icon}`
}), /*#__PURE__*/external_React_default.a.createElement("div", {
  className: "story-context-label",
  "data-l10n-id": fluentID
}));
const SponsorLabel = ({
  sponsored_by_override,
  sponsor,
  context,
  newSponsoredLabel
}) => {
  const classList = `story-sponsored-label ${newSponsoredLabel || ""} clamp`; // If override is not false or an empty string.

  if (sponsored_by_override) {
    return /*#__PURE__*/external_React_default.a.createElement("p", {
      className: classList
    }, sponsored_by_override);
  } else if (sponsored_by_override === "") {
    // We specifically want to display nothing if the server returns an empty string.
    // So the server can turn off the label.
    // This is to support the use cases where the sponsored context is displayed elsewhere.
    return null;
  } else if (sponsor) {
    return /*#__PURE__*/external_React_default.a.createElement("p", {
      className: classList
    }, /*#__PURE__*/external_React_default.a.createElement(FluentOrText["FluentOrText"], {
      message: {
        id: `newtab-label-sponsored-by`,
        values: {
          sponsor
        }
      }
    }));
  } else if (context) {
    return /*#__PURE__*/external_React_default.a.createElement("p", {
      className: classList
    }, context);
  }

  return null;
};
class DSContextFooter_DSContextFooter extends external_React_default.a.PureComponent {
  render() {
    // display_engagement_labels is based on pref `browser.newtabpage.activity-stream.discoverystream.engagementLabelEnabled`
    const {
      context,
      context_type,
      engagement,
      display_engagement_labels,
      sponsor,
      sponsored_by_override
    } = this.props;
    const sponsorLabel = SponsorLabel({
      sponsored_by_override,
      sponsor,
      context
    });
    const dsMessageLabel = DSMessageLabel({
      context,
      context_type,
      display_engagement_labels,
      engagement
    });

    if (sponsorLabel || dsMessageLabel) {
      return /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "story-footer"
      }, sponsorLabel, dsMessageLabel);
    }

    return null;
  }

}
const DSMessageFooter = props => {
  const {
    context,
    context_type,
    engagement,
    display_engagement_labels,
    saveToPocketCard
  } = props;
  const dsMessageLabel = DSMessageLabel({
    context,
    context_type,
    engagement,
    display_engagement_labels
  }); // This case is specific and already displayed to the user elsewhere.

  if (!dsMessageLabel || saveToPocketCard && context_type === "pocket") {
    return null;
  }

  return /*#__PURE__*/external_React_default.a.createElement("div", {
    className: "story-footer"
  }, dsMessageLabel);
};
// EXTERNAL MODULE: external "ReactRedux"
var external_ReactRedux_ = __webpack_require__(7);

// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSCard/DSCard.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */









const READING_WPM = 220;
/**
 * READ TIME FROM WORD COUNT
 * @param {int} wordCount number of words in an article
 * @returns {int} number of words per minute in minutes
 */

function readTimeFromWordCount(wordCount) {
  if (!wordCount) return false;
  return Math.ceil(parseInt(wordCount, 10) / READING_WPM);
}
const DSSource = ({
  source,
  timeToRead,
  newSponsoredLabel,
  context,
  sponsor,
  sponsored_by_override
}) => {
  // First try to display sponsored label or time to read here.
  if (newSponsoredLabel) {
    // If we can display something for spocs, do so.
    if (sponsored_by_override || sponsor || context) {
      return /*#__PURE__*/external_React_default.a.createElement(SponsorLabel, {
        context: context,
        sponsor: sponsor,
        sponsored_by_override: sponsored_by_override,
        newSponsoredLabel: "new-sponsored-label"
      });
    }
  } // If we are not a spoc, and can display a time to read value.


  if (timeToRead) {
    return /*#__PURE__*/external_React_default.a.createElement("p", {
      className: "source clamp time-to-read"
    }, /*#__PURE__*/external_React_default.a.createElement(FluentOrText["FluentOrText"], {
      message: {
        id: `newtab-label-source-read-time`,
        values: {
          source,
          timeToRead
        }
      }
    }));
  } // Otherwise display a default source.


  return /*#__PURE__*/external_React_default.a.createElement("p", {
    className: "source clamp"
  }, source);
}; // Default Meta that displays CTA as link if cta_variant in layout is set as "link"

const DefaultMeta = ({
  display_engagement_labels,
  source,
  title,
  excerpt,
  timeToRead,
  newSponsoredLabel,
  context,
  context_type,
  cta,
  engagement,
  cta_variant,
  sponsor,
  sponsored_by_override,
  saveToPocketCard
}) => /*#__PURE__*/external_React_default.a.createElement("div", {
  className: "meta"
}, /*#__PURE__*/external_React_default.a.createElement("div", {
  className: "info-wrap"
}, /*#__PURE__*/external_React_default.a.createElement(DSSource, {
  source: source,
  timeToRead: timeToRead,
  newSponsoredLabel: newSponsoredLabel,
  context: context,
  sponsor: sponsor,
  sponsored_by_override: sponsored_by_override
}), /*#__PURE__*/external_React_default.a.createElement("header", {
  title: title,
  className: "title clamp"
}, title), excerpt && /*#__PURE__*/external_React_default.a.createElement("p", {
  className: "excerpt clamp"
}, excerpt), cta_variant === "link" && cta && /*#__PURE__*/external_React_default.a.createElement("div", {
  role: "link",
  className: "cta-link icon icon-arrow",
  tabIndex: "0"
}, cta)), !newSponsoredLabel && /*#__PURE__*/external_React_default.a.createElement(DSContextFooter_DSContextFooter, {
  context_type: context_type,
  context: context,
  sponsor: sponsor,
  sponsored_by_override: sponsored_by_override,
  display_engagement_labels: display_engagement_labels,
  engagement: engagement
}), newSponsoredLabel && /*#__PURE__*/external_React_default.a.createElement(DSMessageFooter, {
  context_type: context_type,
  context: null,
  display_engagement_labels: display_engagement_labels,
  engagement: engagement,
  saveToPocketCard: saveToPocketCard
}));
const CTAButtonMeta = ({
  display_engagement_labels,
  source,
  title,
  excerpt,
  context,
  context_type,
  cta,
  engagement,
  sponsor,
  sponsored_by_override
}) => /*#__PURE__*/external_React_default.a.createElement("div", {
  className: "meta"
}, /*#__PURE__*/external_React_default.a.createElement("div", {
  className: "info-wrap"
}, /*#__PURE__*/external_React_default.a.createElement("p", {
  className: "source clamp"
}, context && /*#__PURE__*/external_React_default.a.createElement(FluentOrText["FluentOrText"], {
  message: {
    id: `newtab-label-sponsored`,
    values: {
      sponsorOrSource: sponsor ? sponsor : source
    }
  }
}), !context && (sponsor ? sponsor : source)), /*#__PURE__*/external_React_default.a.createElement("header", {
  title: title,
  className: "title clamp"
}, title), excerpt && /*#__PURE__*/external_React_default.a.createElement("p", {
  className: "excerpt clamp"
}, excerpt)), context && cta && /*#__PURE__*/external_React_default.a.createElement("button", {
  className: "button cta-button"
}, cta), !context && /*#__PURE__*/external_React_default.a.createElement(DSContextFooter_DSContextFooter, {
  context_type: context_type,
  context: context,
  sponsor: sponsor,
  sponsored_by_override: sponsored_by_override,
  display_engagement_labels: display_engagement_labels,
  engagement: engagement
}));
class DSCard_DSCard extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onSaveClick = this.onSaveClick.bind(this);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
    this.onMenuShow = this.onMenuShow.bind(this);

    this.setContextMenuButtonHostRef = element => {
      this.contextMenuButtonHostElement = element;
    };

    this.setPlaceholderRef = element => {
      this.placeholderElement = element;
    };

    this.state = {
      isSeen: false
    }; // If this is for the about:home startup cache, then we always want
    // to render the DSCard, regardless of whether or not its been seen.

    if (props.App.isForStartupCache) {
      this.state.isSeen = true;
    } // We want to choose the optimal thumbnail for the underlying DSImage, but
    // want to do it in a performant way. The breakpoints used in the
    // CSS of the page are, unfortuntely, not easy to retrieve without
    // causing a style flush. To avoid that, we hardcode them here.
    //
    // The values chosen here were the dimensions of the card thumbnails as
    // computed by getBoundingClientRect() for each type of viewport width
    // across both high-density and normal-density displays.


    this.dsImageSizes = [{
      mediaMatcher: "(min-width: 1122px)",
      width: 296,
      height: 148
    }, {
      mediaMatcher: "(min-width: 866px)",
      width: 218,
      height: 109
    }, {
      mediaMatcher: "(max-width: 610px)",
      width: 202,
      height: 101
    }];
  }

  onLinkClick(event) {
    if (this.props.dispatch) {
      this.props.dispatch(Actions["actionCreators"].UserEvent({
        event: "CLICK",
        source: this.props.is_video ? "CARDGRID_VIDEO" : this.props.type.toUpperCase(),
        action_position: this.props.pos,
        value: {
          card_type: this.props.flightId ? "spoc" : "organic"
        }
      }));
      this.props.dispatch(Actions["actionCreators"].ImpressionStats({
        source: this.props.is_video ? "CARDGRID_VIDEO" : this.props.type.toUpperCase(),
        click: 0,
        tiles: [{
          id: this.props.id,
          pos: this.props.pos,
          ...(this.props.shim && this.props.shim.click ? {
            shim: this.props.shim.click
          } : {})
        }]
      }));
    }
  }

  onSaveClick(event) {
    if (this.props.dispatch) {
      this.props.dispatch(Actions["actionCreators"].AlsoToMain({
        type: Actions["actionTypes"].SAVE_TO_POCKET,
        data: {
          site: {
            url: this.props.url,
            title: this.props.title
          }
        }
      }));
      this.props.dispatch(Actions["actionCreators"].UserEvent({
        event: "SAVE_TO_POCKET",
        source: "CARDGRID_HOVER",
        action_position: this.props.pos
      }));
      this.props.dispatch(Actions["actionCreators"].ImpressionStats({
        source: "CARDGRID_HOVER",
        pocket: 0,
        tiles: [{
          id: this.props.id,
          pos: this.props.pos,
          ...(this.props.shim && this.props.shim.save ? {
            shim: this.props.shim.save
          } : {})
        }]
      }));
    }
  }

  onMenuUpdate(showContextMenu) {
    if (!showContextMenu) {
      const dsLinkMenuHostDiv = this.contextMenuButtonHostElement;

      if (dsLinkMenuHostDiv) {
        dsLinkMenuHostDiv.classList.remove("active", "last-item");
      }
    }
  }

  async onMenuShow() {
    const dsLinkMenuHostDiv = this.contextMenuButtonHostElement;

    if (dsLinkMenuHostDiv) {
      // Force translation so we can be sure it's ready before measuring.
      await this.props.windowObj.document.l10n.translateFragment(dsLinkMenuHostDiv);

      if (this.props.windowObj.scrollMaxX > 0) {
        dsLinkMenuHostDiv.classList.add("last-item");
      }

      dsLinkMenuHostDiv.classList.add("active");
    }
  }

  onSeen(entries) {
    if (this.state) {
      const entry = entries.find(e => e.isIntersecting);

      if (entry) {
        if (this.placeholderElement) {
          this.observer.unobserve(this.placeholderElement);
        } // Stop observing since element has been seen


        this.setState({
          isSeen: true
        });
      }
    }
  }

  onIdleCallback() {
    if (!this.state.isSeen) {
      if (this.observer && this.placeholderElement) {
        this.observer.unobserve(this.placeholderElement);
      }

      this.setState({
        isSeen: true
      });
    }
  }

  componentDidMount() {
    this.idleCallbackId = this.props.windowObj.requestIdleCallback(this.onIdleCallback.bind(this));

    if (this.placeholderElement) {
      this.observer = new IntersectionObserver(this.onSeen.bind(this));
      this.observer.observe(this.placeholderElement);
    }
  }

  componentWillUnmount() {
    // Remove observer on unmount
    if (this.observer && this.placeholderElement) {
      this.observer.unobserve(this.placeholderElement);
    }

    if (this.idleCallbackId) {
      this.props.windowObj.cancelIdleCallback(this.idleCallbackId);
    }
  }

  render() {
    if (this.props.placeholder || !this.state.isSeen) {
      return /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "ds-card placeholder",
        ref: this.setPlaceholderRef
      });
    }

    if (this.props.lastCard) {
      return /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "ds-card last-card-message"
      }, /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "img-wrapper"
      }, /*#__PURE__*/external_React_default.a.createElement("picture", {
        className: "ds-image img loaded"
      }, /*#__PURE__*/external_React_default.a.createElement("img", {
        "data-l10n-id": "newtab-pocket-last-card-image",
        className: "last-card-message-image",
        src: "chrome://activity-stream/content/data/content/assets/caught-up-illustration.svg",
        alt: "You\u2019re all caught up"
      }))), /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "meta"
      }, /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "info-wrap"
      }, /*#__PURE__*/external_React_default.a.createElement("header", {
        className: "title clamp",
        "data-l10n-id": "newtab-pocket-last-card-title"
      }), /*#__PURE__*/external_React_default.a.createElement("p", {
        className: "ds-last-card-desc",
        "data-l10n-id": "newtab-pocket-last-card-desc"
      }))));
    }

    const isButtonCTA = this.props.cta_variant === "button";
    const {
      is_video,
      saveToPocketCard,
      hideDescriptions,
      compactImages,
      imageGradient,
      titleLines = 3,
      descLines = 3,
      displayReadTime
    } = this.props;
    const excerpt = !hideDescriptions ? this.props.excerpt : "";
    let timeToRead;

    if (displayReadTime) {
      timeToRead = this.props.time_to_read || readTimeFromWordCount(this.props.word_count);
    }

    const videoCardClassName = is_video ? `video-card` : ``;
    const compactImagesClassName = compactImages ? `ds-card-compact-image` : ``;
    const imageGradientClassName = imageGradient ? `ds-card-image-gradient` : ``;
    const titleLinesName = `ds-card-title-lines-${titleLines}`;
    const descLinesClassName = `ds-card-desc-lines-${descLines}`;
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: `ds-card ${videoCardClassName} ${videoCardClassName} ${compactImagesClassName} ${imageGradientClassName} ${titleLinesName} ${descLinesClassName}`,
      ref: this.setContextMenuButtonHostRef
    }, /*#__PURE__*/external_React_default.a.createElement(SafeAnchor["SafeAnchor"], {
      className: "ds-card-link",
      dispatch: this.props.dispatch,
      onLinkClick: !this.props.placeholder ? this.onLinkClick : undefined,
      url: this.props.url
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "img-wrapper"
    }, /*#__PURE__*/external_React_default.a.createElement(DSImage["DSImage"], {
      extraClassNames: "img",
      source: this.props.image_src,
      rawSource: this.props.raw_image_src,
      sizes: this.dsImageSizes
    }), this.props.is_video && /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "playhead"
    }, /*#__PURE__*/external_React_default.a.createElement("span", null, "Video Content"))), isButtonCTA ? /*#__PURE__*/external_React_default.a.createElement(CTAButtonMeta, {
      display_engagement_labels: this.props.display_engagement_labels,
      source: this.props.source,
      title: this.props.title,
      excerpt: excerpt,
      timeToRead: timeToRead,
      context: this.props.context,
      context_type: this.props.context_type,
      engagement: this.props.engagement,
      cta: this.props.cta,
      sponsor: this.props.sponsor,
      sponsored_by_override: this.props.sponsored_by_override
    }) : /*#__PURE__*/external_React_default.a.createElement(DefaultMeta, {
      display_engagement_labels: this.props.display_engagement_labels,
      source: this.props.source,
      title: this.props.title,
      excerpt: excerpt,
      newSponsoredLabel: this.props.newSponsoredLabel,
      timeToRead: timeToRead,
      context: this.props.context,
      engagement: this.props.engagement,
      context_type: this.props.context_type,
      cta: this.props.cta,
      cta_variant: this.props.cta_variant,
      sponsor: this.props.sponsor,
      sponsored_by_override: this.props.sponsored_by_override,
      saveToPocketCard: saveToPocketCard
    }), /*#__PURE__*/external_React_default.a.createElement(ImpressionStats["ImpressionStats"], {
      flightId: this.props.flightId,
      rows: [{
        id: this.props.id,
        pos: this.props.pos,
        ...(this.props.shim && this.props.shim.impression ? {
          shim: this.props.shim.impression
        } : {})
      }],
      dispatch: this.props.dispatch,
      source: this.props.is_video ? "CARDGRID_VIDEO" : this.props.type
    })), saveToPocketCard && /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "card-stp-button-hover-background"
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "card-stp-button-position-wrapper"
    }, /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "card-stp-button",
      onClick: this.onSaveClick
    }, this.props.context_type === "pocket" ? /*#__PURE__*/external_React_default.a.createElement(external_React_default.a.Fragment, null, /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "story-badge-icon icon icon-pocket"
    }), /*#__PURE__*/external_React_default.a.createElement("span", {
      "data-l10n-id": "newtab-pocket-saved-to-pocket"
    })) : /*#__PURE__*/external_React_default.a.createElement(external_React_default.a.Fragment, null, /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "story-badge-icon icon icon-pocket-save"
    }), /*#__PURE__*/external_React_default.a.createElement("span", {
      "data-l10n-id": "newtab-pocket-save-to-pocket"
    }))), /*#__PURE__*/external_React_default.a.createElement(DSLinkMenu_DSLinkMenu, {
      id: this.props.id,
      index: this.props.pos,
      dispatch: this.props.dispatch,
      url: this.props.url,
      title: this.props.title,
      source: this.props.source,
      type: this.props.type,
      pocket_id: this.props.pocket_id,
      shim: this.props.shim,
      bookmarkGuid: this.props.bookmarkGuid,
      flightId: !this.props.is_collection ? this.props.flightId : undefined,
      showPrivacyInfo: !!this.props.flightId,
      onMenuUpdate: this.onMenuUpdate,
      onMenuShow: this.onMenuShow,
      saveToPocketCard: saveToPocketCard
    }))), !saveToPocketCard && /*#__PURE__*/external_React_default.a.createElement(DSLinkMenu_DSLinkMenu, {
      id: this.props.id,
      index: this.props.pos,
      dispatch: this.props.dispatch,
      url: this.props.url,
      title: this.props.title,
      source: this.props.source,
      type: this.props.type,
      pocket_id: this.props.pocket_id,
      shim: this.props.shim,
      bookmarkGuid: this.props.bookmarkGuid,
      flightId: !this.props.is_collection ? this.props.flightId : undefined,
      showPrivacyInfo: !!this.props.flightId,
      hostRef: this.contextMenuButtonHostRef,
      onMenuUpdate: this.onMenuUpdate,
      onMenuShow: this.onMenuShow
    }));
  }

}
DSCard_DSCard.defaultProps = {
  windowObj: window // Added to support unit tests

};
const DSCard = Object(external_ReactRedux_["connect"])(state => ({
  App: state.App
}))(DSCard_DSCard);
const PlaceholderDSCard = props => /*#__PURE__*/external_React_default.a.createElement(DSCard, {
  placeholder: true
});
const LastCardMessage = props => /*#__PURE__*/external_React_default.a.createElement(DSCard, {
  lastCard: true
});
// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSEmptyState/DSEmptyState.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class DSEmptyState_DSEmptyState extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onReset = this.onReset.bind(this);
    this.state = {};
  }

  componentWillUnmount() {
    if (this.timeout) {
      clearTimeout(this.timeout);
    }
  }

  onReset() {
    if (this.props.dispatch && this.props.feed) {
      const {
        feed
      } = this.props;
      const {
        url
      } = feed;
      this.props.dispatch({
        type: Actions["actionTypes"].DISCOVERY_STREAM_FEED_UPDATE,
        data: {
          feed: { ...feed,
            data: { ...feed.data,
              status: "waiting"
            }
          },
          url
        }
      });
      this.setState({
        waiting: true
      });
      this.timeout = setTimeout(() => {
        this.timeout = null;
        this.setState({
          waiting: false
        });
      }, 300);
      this.props.dispatch(Actions["actionCreators"].OnlyToMain({
        type: Actions["actionTypes"].DISCOVERY_STREAM_RETRY_FEED,
        data: {
          feed
        }
      }));
    }
  }

  renderButton() {
    if (this.props.status === "waiting" || this.state.waiting) {
      return /*#__PURE__*/external_React_default.a.createElement("button", {
        className: "try-again-button waiting",
        "data-l10n-id": "newtab-discovery-empty-section-topstories-loading"
      });
    }

    return /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "try-again-button",
      onClick: this.onReset,
      "data-l10n-id": "newtab-discovery-empty-section-topstories-try-again-button"
    });
  }

  renderState() {
    if (this.props.status === "waiting" || this.props.status === "failed") {
      return /*#__PURE__*/external_React_default.a.createElement(external_React_default.a.Fragment, null, /*#__PURE__*/external_React_default.a.createElement("h2", {
        "data-l10n-id": "newtab-discovery-empty-section-topstories-timed-out"
      }), this.renderButton());
    }

    return /*#__PURE__*/external_React_default.a.createElement(external_React_default.a.Fragment, null, /*#__PURE__*/external_React_default.a.createElement("h2", {
      "data-l10n-id": "newtab-discovery-empty-section-topstories-header"
    }), /*#__PURE__*/external_React_default.a.createElement("p", {
      "data-l10n-id": "newtab-discovery-empty-section-topstories-content"
    }));
  }

  render() {
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "section-empty-state"
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "empty-state-message"
    }, this.renderState()));
  }

}
// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/CardGrid/CardGrid.jsx
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardGrid", function() { return CardGrid_CardGrid; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





class CardGrid_CardGrid extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      moreLoaded: false
    };
    this.loadMoreClicked = this.loadMoreClicked.bind(this);
  }

  loadMoreClicked() {
    this.props.dispatch(Actions["actionCreators"].UserEvent({
      event: "CLICK",
      source: "DS_LOAD_MORE_BUTTON"
    }));
    this.setState({
      moreLoaded: true
    });
  }

  get showLoadMore() {
    const {
      loadMore,
      data,
      loadMoreThreshold
    } = this.props;
    return loadMore && data.recommendations.length > loadMoreThreshold && !this.state.moreLoaded;
  }

  renderDSSubHeader(title) {
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "section-top-bar ds-sub-header"
    }, /*#__PURE__*/external_React_default.a.createElement("h3", {
      className: "section-title-container"
    }, /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "section-title"
    }, /*#__PURE__*/external_React_default.a.createElement(FluentOrText["FluentOrText"], {
      message: title
    }))));
  }

  renderCards() {
    let {
      items
    } = this.props;
    const {
      hideCardBackground,
      fourCardLayout,
      hideDescriptions,
      lastCardMessageEnabled,
      saveToPocketCard,
      loadMoreThreshold,
      compactGrid,
      compactImages,
      imageGradient,
      newSponsoredLabel,
      titleLines,
      descLines,
      readTime,
      essentialReadsHeader,
      editorsPicksHeader
    } = this.props;
    let showLastCardMessage = lastCardMessageEnabled;

    if (this.showLoadMore) {
      items = loadMoreThreshold; // We don't want to show this until after load more has been clicked.

      showLastCardMessage = false;
    }

    const recs = this.props.data.recommendations.slice(0, items);
    const cards = [];

    for (let index = 0; index < items; index++) {
      const rec = recs[index];
      cards.push(!rec || rec.placeholder ? /*#__PURE__*/external_React_default.a.createElement(PlaceholderDSCard, {
        key: `dscard-${index}`
      }) : /*#__PURE__*/external_React_default.a.createElement(DSCard, {
        key: `dscard-${rec.id}`,
        pos: rec.pos,
        flightId: rec.flight_id,
        image_src: rec.image_src,
        raw_image_src: rec.raw_image_src,
        word_count: rec.word_count,
        time_to_read: rec.time_to_read,
        displayReadTime: readTime,
        title: rec.title,
        excerpt: rec.excerpt,
        url: rec.url,
        id: rec.id,
        shim: rec.shim,
        type: this.props.type,
        context: rec.context,
        sponsor: rec.sponsor,
        sponsored_by_override: rec.sponsored_by_override,
        dispatch: this.props.dispatch,
        source: rec.domain,
        pocket_id: rec.pocket_id,
        context_type: rec.context_type,
        bookmarkGuid: rec.bookmarkGuid,
        engagement: rec.engagement,
        display_engagement_labels: this.props.display_engagement_labels,
        hideDescriptions: hideDescriptions,
        saveToPocketCard: saveToPocketCard,
        compactImages: compactImages,
        imageGradient: imageGradient,
        newSponsoredLabel: newSponsoredLabel,
        titleLines: titleLines,
        descLines: descLines,
        cta: rec.cta,
        cta_variant: this.props.cta_variant,
        is_video: this.props.enable_video_playheads && rec.is_video,
        is_collection: this.props.is_collection
      }));
    } // If we have both header, inject the second one after the second row.
    // For now this is English only.


    if (essentialReadsHeader && editorsPicksHeader) {
      // For 4 card row layouts, second row is 8 cards, and regular it is 6 cards.
      if (fourCardLayout) {
        cards.splice(8, 0, this.renderDSSubHeader("Editor’s Picks"));
      } else {
        cards.splice(6, 0, this.renderDSSubHeader("Editor’s Picks"));
      }
    } // Replace last card with "you are all caught up card"


    if (showLastCardMessage) {
      cards.splice(cards.length - 1, 1, /*#__PURE__*/external_React_default.a.createElement(LastCardMessage, {
        key: `dscard-last-${cards.length - 1}`
      }));
    } // Used for CSS overrides to default styling (eg: "hero")


    const variantClass = this.props.display_variant ? `ds-card-grid-${this.props.display_variant}` : ``;
    const hideCardBackgroundClass = hideCardBackground ? `ds-card-grid-hide-background` : ``;
    const fourCardLayoutClass = fourCardLayout ? `ds-card-grid-four-card-variant` : ``;
    const hideDescriptionsClassName = !hideDescriptions ? `ds-card-grid-include-descriptions` : ``;
    const compactGridClassName = compactGrid ? `ds-card-grid-compact` : ``;
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: `ds-card-grid ds-card-grid-${this.props.border} ${variantClass} ${hideCardBackgroundClass} ${fourCardLayoutClass} ${hideDescriptionsClassName} ${compactGridClassName}`
    }, cards);
  }

  render() {
    const {
      data
    } = this.props; // Handle a render before feed has been fetched by displaying nothing

    if (!data) {
      return null;
    } // Handle the case where a user has dismissed all recommendations


    const isEmpty = data.recommendations.length === 0;
    return /*#__PURE__*/external_React_default.a.createElement("div", null, this.props.title && /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "ds-header"
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "title"
    }, this.props.title), this.props.context && /*#__PURE__*/external_React_default.a.createElement(FluentOrText["FluentOrText"], {
      message: this.props.context
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "ds-context"
    }))), isEmpty ? /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "ds-card-grid empty"
    }, /*#__PURE__*/external_React_default.a.createElement(DSEmptyState_DSEmptyState, {
      status: data.status,
      dispatch: this.props.dispatch,
      feed: this.props.feed
    })) : this.renderCards(), this.showLoadMore && /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "ASRouterButton primary ds-card-grid-load-more-button",
      onClick: this.loadMoreClicked,
      "data-l10n-id": "newtab-pocket-load-more-stories-button"
    }));
  }

}
CardGrid_CardGrid.defaultProps = {
  border: `border`,
  items: 4,
  // Number of stories to display
  enable_video_playheads: false,
  lastCardMessageEnabled: false,
  saveToPocketCard: false,
  loadMoreThreshold: 12
};

/***/ }),
/* 65 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(8);
var external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);

// CONCATENATED MODULE: ./content-src/components/CustomizeMenu/BackgroundsSection/BackgroundsSection.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class BackgroundsSection_BackgroundsSection extends external_React_default.a.PureComponent {
  render() {
    return /*#__PURE__*/external_React_default.a.createElement("div", null);
  }

}
// EXTERNAL MODULE: ./common/Actions.jsm
var Actions = __webpack_require__(1);

// CONCATENATED MODULE: ./content-src/components/CustomizeMenu/ContentSection/ContentSection.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class ContentSection_ContentSection extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onPreferenceSelect = this.onPreferenceSelect.bind(this);
  }

  inputUserEvent(eventSource, status) {
    this.props.dispatch(Actions["actionCreators"].UserEvent({
      event: "PREF_CHANGED",
      source: eventSource,
      value: {
        status,
        menu_source: "CUSTOMIZE_MENU"
      }
    }));
  }

  onPreferenceSelect(e) {
    let prefName = e.target.getAttribute("preference");
    const eventSource = e.target.getAttribute("eventSource");
    let value;

    if (e.target.nodeName === "SELECT") {
      value = parseInt(e.target.value, 10);
    } else if (e.target.nodeName === "INPUT") {
      value = e.target.checked;

      if (eventSource) {
        this.inputUserEvent(eventSource, value);
      }
    }

    this.props.setPref(prefName, value);
  }

  render() {
    const {
      topSitesEnabled,
      pocketEnabled,
      highlightsEnabled,
      showSponsoredTopSitesEnabled,
      showSponsoredPocketEnabled,
      topSitesRowsCount
    } = this.props.enabledSections;
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "home-section"
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      id: "shortcuts-section",
      className: "section"
    }, /*#__PURE__*/external_React_default.a.createElement("label", {
      className: "switch"
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      id: "shortcuts-toggle",
      checked: topSitesEnabled,
      type: "checkbox",
      onChange: this.onPreferenceSelect,
      preference: "feeds.topsites",
      "aria-labelledby": "custom-shortcuts-title",
      "aria-describedby": "custom-shortcuts-subtitle",
      eventSource: "TOP_SITES"
    }), /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "slider",
      role: "presentation"
    })), /*#__PURE__*/external_React_default.a.createElement("div", null, /*#__PURE__*/external_React_default.a.createElement("h2", {
      id: "custom-shortcuts-title",
      className: "title"
    }, /*#__PURE__*/external_React_default.a.createElement("label", {
      htmlFor: "shortcuts-toggle",
      "data-l10n-id": "newtab-custom-shortcuts-title"
    })), /*#__PURE__*/external_React_default.a.createElement("p", {
      id: "custom-shortcuts-subtitle",
      className: "subtitle",
      "data-l10n-id": "newtab-custom-shortcuts-subtitle"
    }), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: `more-info-top-wrapper ${topSitesEnabled ? "" : "shrink"}`
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: `more-information ${topSitesEnabled ? "expand" : "shrink"}`
    }, /*#__PURE__*/external_React_default.a.createElement("select", {
      id: "row-selector",
      className: "selector",
      name: "row-count",
      preference: "topSitesRows",
      value: topSitesRowsCount,
      onChange: this.onPreferenceSelect,
      disabled: !topSitesEnabled,
      "aria-labelledby": "custom-shortcuts-title"
    }, /*#__PURE__*/external_React_default.a.createElement("option", {
      value: "1",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 1}"
    }), /*#__PURE__*/external_React_default.a.createElement("option", {
      value: "2",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 2}"
    }), /*#__PURE__*/external_React_default.a.createElement("option", {
      value: "3",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 3}"
    }), /*#__PURE__*/external_React_default.a.createElement("option", {
      value: "4",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 4}"
    })), this.props.mayHaveSponsoredTopSites && /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "check-wrapper",
      role: "presentation"
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      id: "sponsored-shortcuts",
      className: "sponsored-checkbox",
      disabled: !topSitesEnabled,
      checked: showSponsoredTopSitesEnabled,
      type: "checkbox",
      onChange: this.onPreferenceSelect,
      preference: "showSponsoredTopSites",
      eventSource: "SPONSORED_TOP_SITES"
    }), /*#__PURE__*/external_React_default.a.createElement("label", {
      className: "sponsored",
      htmlFor: "sponsored-shortcuts",
      "data-l10n-id": "newtab-custom-sponsored-sites"
    })))))), this.props.pocketRegion && /*#__PURE__*/external_React_default.a.createElement("div", {
      id: "pocket-section",
      className: "section"
    }, /*#__PURE__*/external_React_default.a.createElement("label", {
      className: "switch"
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      id: "pocket-toggle",
      checked: pocketEnabled,
      type: "checkbox",
      onChange: this.onPreferenceSelect,
      preference: "feeds.section.topstories",
      "aria-labelledby": "custom-pocket-title",
      "aria-describedby": "custom-pocket-subtitle",
      eventSource: "TOP_STORIES"
    }), /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "slider",
      role: "presentation"
    })), /*#__PURE__*/external_React_default.a.createElement("div", null, /*#__PURE__*/external_React_default.a.createElement("h2", {
      id: "custom-pocket-title",
      className: "title"
    }, /*#__PURE__*/external_React_default.a.createElement("label", {
      htmlFor: "pocket-toggle",
      "data-l10n-id": "newtab-custom-pocket-title"
    })), /*#__PURE__*/external_React_default.a.createElement("p", {
      id: "custom-pocket-subtitle",
      className: "subtitle",
      "data-l10n-id": "newtab-custom-pocket-subtitle"
    }), this.props.mayHaveSponsoredStories && /*#__PURE__*/external_React_default.a.createElement("div", {
      className: `more-info-pocket-wrapper ${pocketEnabled ? "" : "shrink"}`
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: `more-information ${pocketEnabled ? "expand" : "shrink"}`
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "check-wrapper",
      role: "presentation"
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      id: "sponsored-pocket",
      className: "sponsored-checkbox",
      disabled: !pocketEnabled,
      checked: showSponsoredPocketEnabled,
      type: "checkbox",
      onChange: this.onPreferenceSelect,
      preference: "showSponsored",
      eventSource: "POCKET_SPOCS"
    }), /*#__PURE__*/external_React_default.a.createElement("label", {
      className: "sponsored",
      htmlFor: "sponsored-pocket",
      "data-l10n-id": "newtab-custom-pocket-sponsored"
    })))))), /*#__PURE__*/external_React_default.a.createElement("div", {
      id: "recent-section",
      className: "section"
    }, /*#__PURE__*/external_React_default.a.createElement("label", {
      className: "switch"
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      id: "highlights-toggle",
      checked: highlightsEnabled,
      type: "checkbox",
      onChange: this.onPreferenceSelect,
      preference: "feeds.section.highlights",
      eventSource: "HIGHLIGHTS",
      "aria-labelledby": "custom-recent-title",
      "aria-describedby": "custom-recent-subtitle"
    }), /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "slider",
      role: "presentation"
    })), /*#__PURE__*/external_React_default.a.createElement("div", null, /*#__PURE__*/external_React_default.a.createElement("h2", {
      id: "custom-recent-title",
      className: "title"
    }, /*#__PURE__*/external_React_default.a.createElement("label", {
      htmlFor: "highlights-toggle",
      "data-l10n-id": "newtab-custom-recent-title"
    })), /*#__PURE__*/external_React_default.a.createElement("p", {
      id: "custom-recent-subtitle",
      className: "subtitle",
      "data-l10n-id": "newtab-custom-recent-subtitle"
    }))), /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "divider",
      role: "separator"
    }), /*#__PURE__*/external_React_default.a.createElement("div", null, /*#__PURE__*/external_React_default.a.createElement("button", {
      id: "settings-link",
      className: "external-link",
      onClick: this.props.openPreferences,
      "data-l10n-id": "newtab-custom-settings"
    })));
  }

}
// EXTERNAL MODULE: external "ReactRedux"
var external_ReactRedux_ = __webpack_require__(7);

// EXTERNAL MODULE: external "ReactTransitionGroup"
var external_ReactTransitionGroup_ = __webpack_require__(25);

// CONCATENATED MODULE: ./content-src/components/CustomizeMenu/ColorwayCloset/ColorwayCloset.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const ColorwayCloset = ({
  dispatch
}) => /*#__PURE__*/external_React_default.a.createElement("div", {
  id: "colorway-closet"
}, "Colorway Closet Placeholder");
// CONCATENATED MODULE: ./content-src/components/CustomizeMenu/CustomizeMenu.jsx
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_CustomizeMenu", function() { return CustomizeMenu_CustomizeMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CustomizeMenu", function() { return CustomizeMenu; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






class CustomizeMenu_CustomizeMenu extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onEntered = this.onEntered.bind(this);
    this.onExited = this.onExited.bind(this);
  }

  onEntered() {
    if (this.closeButton) {
      this.closeButton.focus();
    }
  }

  onExited() {
    if (this.openButton) {
      this.openButton.focus();
    }
  }

  render() {
    return /*#__PURE__*/external_React_default.a.createElement("span", null, /*#__PURE__*/external_React_default.a.createElement(external_ReactTransitionGroup_["CSSTransition"], {
      timeout: 300,
      classNames: "personalize-animate",
      in: !this.props.showing,
      appear: true
    }, /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "icon icon-settings personalize-button",
      onClick: () => this.props.onOpen(),
      "data-l10n-id": "newtab-personalize-icon-label",
      ref: c => this.openButton = c
    })), /*#__PURE__*/external_React_default.a.createElement(external_ReactTransitionGroup_["CSSTransition"], {
      timeout: 250,
      classNames: "customize-animate",
      in: this.props.showing,
      onEntered: this.onEntered,
      onExited: this.onExited,
      appear: true
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "customize-menu",
      role: "dialog",
      "data-l10n-id": "newtab-personalize-dialog-label"
    }, /*#__PURE__*/external_React_default.a.createElement("button", {
      onClick: () => this.props.onClose(),
      className: "close-button",
      "data-l10n-id": "newtab-custom-close-button",
      ref: c => this.closeButton = c
    }), this.props.showColorwayCloset ? /*#__PURE__*/external_React_default.a.createElement(ColorwayCloset, {
      dispatch: this.props.dispatch
    }) : /*#__PURE__*/external_React_default.a.createElement(external_React_default.a.Fragment, null), /*#__PURE__*/external_React_default.a.createElement(BackgroundsSection_BackgroundsSection, null), /*#__PURE__*/external_React_default.a.createElement(ContentSection_ContentSection, {
      openPreferences: this.props.openPreferences,
      setPref: this.props.setPref,
      enabledSections: this.props.enabledSections,
      pocketRegion: this.props.pocketRegion,
      mayHaveSponsoredTopSites: this.props.mayHaveSponsoredTopSites,
      mayHaveSponsoredStories: this.props.DiscoveryStream.config.show_spocs,
      dispatch: this.props.dispatch
    }))));
  }

}
const CustomizeMenu = Object(external_ReactRedux_["connect"])(state => ({
  DiscoveryStream: state.DiscoveryStream
}))(CustomizeMenu_CustomizeMenu);

/***/ }),
/* 66 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./common/Actions.jsm
var Actions = __webpack_require__(1);

// CONCATENATED MODULE: ./common/Dedupe.jsm
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
class Dedupe {
  constructor(createKey) {
    this.createKey = createKey || this.defaultCreateKey;
  }

  defaultCreateKey(item) {
    return item;
  }
  /**
   * Dedupe any number of grouped elements favoring those from earlier groups.
   *
   * @param {Array} groups Contains an arbitrary number of arrays of elements.
   * @returns {Array} A matching array of each provided group deduped.
   */


  group(...groups) {
    const globalKeys = new Set();
    const result = [];

    for (const values of groups) {
      const valueMap = new Map();

      for (const value of values) {
        const key = this.createKey(value);

        if (!globalKeys.has(key) && !valueMap.has(key)) {
          valueMap.set(key, value);
        }
      }

      result.push(valueMap);
      valueMap.forEach((value, key) => globalKeys.add(key));
    }

    return result.map(m => Array.from(m.values()));
  }

}
// CONCATENATED MODULE: ./common/Reducers.jsm
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_DEFAULT_ROWS", function() { return TOP_SITES_DEFAULT_ROWS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_MAX_SITES_PER_ROW", function() { return TOP_SITES_MAX_SITES_PER_ROW; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INITIAL_STATE", function() { return INITIAL_STATE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "insertPinned", function() { return insertPinned; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reducers", function() { return reducers; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */




const TOP_SITES_DEFAULT_ROWS = 1;
const TOP_SITES_MAX_SITES_PER_ROW = 8;
const PREF_COLLECTION_DISMISSIBLE = "discoverystream.isCollectionDismissible";
const dedupe = new Dedupe(site => site && site.url);
const INITIAL_STATE = {
  App: {
    // Have we received real data from the app yet?
    initialized: false,
    locale: ""
  },
  ASRouter: {
    initialized: false
  },
  Snippets: {
    initialized: false
  },
  TopSites: {
    // Have we received real data from history yet?
    initialized: false,
    // The history (and possibly default) links
    rows: [],
    // Used in content only to dispatch action to TopSiteForm.
    editForm: null,
    // Used in content only to open the SearchShortcutsForm modal.
    showSearchShortcutsForm: false,
    // The list of available search shortcuts.
    searchShortcuts: []
  },
  Prefs: {
    initialized: false,
    values: {
      featureConfig: {}
    }
  },
  Dialog: {
    visible: false,
    data: {}
  },
  Sections: [],
  Pocket: {
    isUserLoggedIn: null,
    pocketCta: {},
    waitingForSpoc: true
  },
  // This is the new pocket configurable layout state.
  DiscoveryStream: {
    // This is a JSON-parsed copy of the discoverystream.config pref value.
    config: {
      enabled: false,
      layout_endpoint: ""
    },
    layout: [],
    lastUpdated: null,
    isPrivacyInfoModalVisible: false,
    isCollectionDismissible: false,
    feeds: {
      data: {// "https://foo.com/feed1": {lastUpdated: 123, data: []}
      },
      loaded: false
    },
    spocs: {
      spocs_endpoint: "",
      lastUpdated: null,
      data: {// "spocs": {title: "", context: "", items: []},
        // "placement1": {title: "", context: "", items: []},
      },
      loaded: false,
      frequency_caps: [],
      blocked: [],
      placements: []
    }
  },
  Personalization: {
    lastUpdated: null,
    initialized: false
  },
  Search: {
    // When search hand-off is enabled, we render a big button that is styled to
    // look like a search textbox. If the button is clicked, we style
    // the button as if it was a focused search box and show a fake cursor but
    // really focus the awesomebar without the focus styles ("hidden focus").
    fakeFocus: false,
    // Hide the search box after handing off to AwesomeBar and user starts typing.
    hide: false
  }
};

function App(prevState = INITIAL_STATE.App, action) {
  switch (action.type) {
    case Actions["actionTypes"].INIT:
      return Object.assign({}, prevState, action.data || {}, {
        initialized: true
      });

    default:
      return prevState;
  }
}

function ASRouter(prevState = INITIAL_STATE.ASRouter, action) {
  switch (action.type) {
    case Actions["actionTypes"].AS_ROUTER_INITIALIZED:
      return { ...action.data,
        initialized: true
      };

    default:
      return prevState;
  }
}
/**
 * insertPinned - Inserts pinned links in their specified slots
 *
 * @param {array} a list of links
 * @param {array} a list of pinned links
 * @return {array} resulting list of links with pinned links inserted
 */


function insertPinned(links, pinned) {
  // Remove any pinned links
  const pinnedUrls = pinned.map(link => link && link.url);
  let newLinks = links.filter(link => link ? !pinnedUrls.includes(link.url) : false);
  newLinks = newLinks.map(link => {
    if (link && link.isPinned) {
      delete link.isPinned;
      delete link.pinIndex;
    }

    return link;
  }); // Then insert them in their specified location

  pinned.forEach((val, index) => {
    if (!val) {
      return;
    }

    let link = Object.assign({}, val, {
      isPinned: true,
      pinIndex: index
    });

    if (index > newLinks.length) {
      newLinks[index] = link;
    } else {
      newLinks.splice(index, 0, link);
    }
  });
  return newLinks;
}

function TopSites(prevState = INITIAL_STATE.TopSites, action) {
  let hasMatch;
  let newRows;

  switch (action.type) {
    case Actions["actionTypes"].TOP_SITES_UPDATED:
      if (!action.data || !action.data.links) {
        return prevState;
      }

      return Object.assign({}, prevState, {
        initialized: true,
        rows: action.data.links
      }, action.data.pref ? {
        pref: action.data.pref
      } : {});

    case Actions["actionTypes"].TOP_SITES_PREFS_UPDATED:
      return Object.assign({}, prevState, {
        pref: action.data.pref
      });

    case Actions["actionTypes"].TOP_SITES_EDIT:
      return Object.assign({}, prevState, {
        editForm: {
          index: action.data.index,
          previewResponse: null
        }
      });

    case Actions["actionTypes"].TOP_SITES_CANCEL_EDIT:
      return Object.assign({}, prevState, {
        editForm: null
      });

    case Actions["actionTypes"].TOP_SITES_OPEN_SEARCH_SHORTCUTS_MODAL:
      return Object.assign({}, prevState, {
        showSearchShortcutsForm: true
      });

    case Actions["actionTypes"].TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL:
      return Object.assign({}, prevState, {
        showSearchShortcutsForm: false
      });

    case Actions["actionTypes"].PREVIEW_RESPONSE:
      if (!prevState.editForm || action.data.url !== prevState.editForm.previewUrl) {
        return prevState;
      }

      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: action.data.preview,
          previewUrl: action.data.url
        }
      });

    case Actions["actionTypes"].PREVIEW_REQUEST:
      if (!prevState.editForm) {
        return prevState;
      }

      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: null,
          previewUrl: action.data.url
        }
      });

    case Actions["actionTypes"].PREVIEW_REQUEST_CANCEL:
      if (!prevState.editForm) {
        return prevState;
      }

      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: null
        }
      });

    case Actions["actionTypes"].SCREENSHOT_UPDATED:
      newRows = prevState.rows.map(row => {
        if (row && row.url === action.data.url) {
          hasMatch = true;
          return Object.assign({}, row, {
            screenshot: action.data.screenshot
          });
        }

        return row;
      });
      return hasMatch ? Object.assign({}, prevState, {
        rows: newRows
      }) : prevState;

    case Actions["actionTypes"].PLACES_BOOKMARK_ADDED:
      if (!action.data) {
        return prevState;
      }

      newRows = prevState.rows.map(site => {
        if (site && site.url === action.data.url) {
          const {
            bookmarkGuid,
            bookmarkTitle,
            dateAdded
          } = action.data;
          return Object.assign({}, site, {
            bookmarkGuid,
            bookmarkTitle,
            bookmarkDateCreated: dateAdded
          });
        }

        return site;
      });
      return Object.assign({}, prevState, {
        rows: newRows
      });

    case Actions["actionTypes"].PLACES_BOOKMARKS_REMOVED:
      if (!action.data) {
        return prevState;
      }

      newRows = prevState.rows.map(site => {
        if (site && action.data.urls.includes(site.url)) {
          const newSite = Object.assign({}, site);
          delete newSite.bookmarkGuid;
          delete newSite.bookmarkTitle;
          delete newSite.bookmarkDateCreated;
          return newSite;
        }

        return site;
      });
      return Object.assign({}, prevState, {
        rows: newRows
      });

    case Actions["actionTypes"].PLACES_LINKS_DELETED:
      if (!action.data) {
        return prevState;
      }

      newRows = prevState.rows.filter(site => !action.data.urls.includes(site.url));
      return Object.assign({}, prevState, {
        rows: newRows
      });

    case Actions["actionTypes"].UPDATE_SEARCH_SHORTCUTS:
      return { ...prevState,
        searchShortcuts: action.data.searchShortcuts
      };

    case Actions["actionTypes"].SNIPPETS_PREVIEW_MODE:
      return { ...prevState,
        rows: []
      };

    default:
      return prevState;
  }
}

function Dialog(prevState = INITIAL_STATE.Dialog, action) {
  switch (action.type) {
    case Actions["actionTypes"].DIALOG_OPEN:
      return Object.assign({}, prevState, {
        visible: true,
        data: action.data
      });

    case Actions["actionTypes"].DIALOG_CANCEL:
      return Object.assign({}, prevState, {
        visible: false
      });

    case Actions["actionTypes"].DELETE_HISTORY_URL:
      return Object.assign({}, INITIAL_STATE.Dialog);

    default:
      return prevState;
  }
}

function Prefs(prevState = INITIAL_STATE.Prefs, action) {
  let newValues;

  switch (action.type) {
    case Actions["actionTypes"].PREFS_INITIAL_VALUES:
      return Object.assign({}, prevState, {
        initialized: true,
        values: action.data
      });

    case Actions["actionTypes"].PREF_CHANGED:
      newValues = Object.assign({}, prevState.values);
      newValues[action.data.name] = action.data.value;
      return Object.assign({}, prevState, {
        values: newValues
      });

    default:
      return prevState;
  }
}

function Sections(prevState = INITIAL_STATE.Sections, action) {
  let hasMatch;
  let newState;

  switch (action.type) {
    case Actions["actionTypes"].SECTION_DEREGISTER:
      return prevState.filter(section => section.id !== action.data);

    case Actions["actionTypes"].SECTION_REGISTER:
      // If section exists in prevState, update it
      newState = prevState.map(section => {
        if (section && section.id === action.data.id) {
          hasMatch = true;
          return Object.assign({}, section, action.data);
        }

        return section;
      }); // Otherwise, append it

      if (!hasMatch) {
        const initialized = !!(action.data.rows && !!action.data.rows.length);
        const section = Object.assign({
          title: "",
          rows: [],
          enabled: false
        }, action.data, {
          initialized
        });
        newState.push(section);
      }

      return newState;

    case Actions["actionTypes"].SECTION_UPDATE:
      newState = prevState.map(section => {
        if (section && section.id === action.data.id) {
          // If the action is updating rows, we should consider initialized to be true.
          // This can be overridden if initialized is defined in the action.data
          const initialized = action.data.rows ? {
            initialized: true
          } : {}; // Make sure pinned cards stay at their current position when rows are updated.
          // Disabling a section (SECTION_UPDATE with empty rows) does not retain pinned cards.

          if (action.data.rows && !!action.data.rows.length && section.rows.find(card => card.pinned)) {
            const rows = Array.from(action.data.rows);
            section.rows.forEach((card, index) => {
              if (card.pinned) {
                // Only add it if it's not already there.
                if (rows[index].guid !== card.guid) {
                  rows.splice(index, 0, card);
                }
              }
            });
            return Object.assign({}, section, initialized, Object.assign({}, action.data, {
              rows
            }));
          }

          return Object.assign({}, section, initialized, action.data);
        }

        return section;
      });

      if (!action.data.dedupeConfigurations) {
        return newState;
      }

      action.data.dedupeConfigurations.forEach(dedupeConf => {
        newState = newState.map(section => {
          if (section.id === dedupeConf.id) {
            const dedupedRows = dedupeConf.dedupeFrom.reduce((rows, dedupeSectionId) => {
              const dedupeSection = newState.find(s => s.id === dedupeSectionId);
              const [, newRows] = dedupe.group(dedupeSection.rows, rows);
              return newRows;
            }, section.rows);
            return Object.assign({}, section, {
              rows: dedupedRows
            });
          }

          return section;
        });
      });
      return newState;

    case Actions["actionTypes"].SECTION_UPDATE_CARD:
      return prevState.map(section => {
        if (section && section.id === action.data.id && section.rows) {
          const newRows = section.rows.map(card => {
            if (card.url === action.data.url) {
              return Object.assign({}, card, action.data.options);
            }

            return card;
          });
          return Object.assign({}, section, {
            rows: newRows
          });
        }

        return section;
      });

    case Actions["actionTypes"].PLACES_BOOKMARK_ADDED:
      if (!action.data) {
        return prevState;
      }

      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.map(item => {
          // find the item within the rows that is attempted to be bookmarked
          if (item.url === action.data.url) {
            const {
              bookmarkGuid,
              bookmarkTitle,
              dateAdded
            } = action.data;
            return Object.assign({}, item, {
              bookmarkGuid,
              bookmarkTitle,
              bookmarkDateCreated: dateAdded,
              type: "bookmark"
            });
          }

          return item;
        })
      }));

    case Actions["actionTypes"].PLACES_SAVED_TO_POCKET:
      if (!action.data) {
        return prevState;
      }

      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.map(item => {
          if (item.url === action.data.url) {
            return Object.assign({}, item, {
              open_url: action.data.open_url,
              pocket_id: action.data.pocket_id,
              title: action.data.title,
              type: "pocket"
            });
          }

          return item;
        })
      }));

    case Actions["actionTypes"].PLACES_BOOKMARKS_REMOVED:
      if (!action.data) {
        return prevState;
      }

      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.map(item => {
          // find the bookmark within the rows that is attempted to be removed
          if (action.data.urls.includes(item.url)) {
            const newSite = Object.assign({}, item);
            delete newSite.bookmarkGuid;
            delete newSite.bookmarkTitle;
            delete newSite.bookmarkDateCreated;

            if (!newSite.type || newSite.type === "bookmark") {
              newSite.type = "history";
            }

            return newSite;
          }

          return item;
        })
      }));

    case Actions["actionTypes"].PLACES_LINKS_DELETED:
      if (!action.data) {
        return prevState;
      }

      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.filter(site => !action.data.urls.includes(site.url))
      }));

    case Actions["actionTypes"].PLACES_LINK_BLOCKED:
      if (!action.data) {
        return prevState;
      }

      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.filter(site => site.url !== action.data.url)
      }));

    case Actions["actionTypes"].DELETE_FROM_POCKET:
    case Actions["actionTypes"].ARCHIVE_FROM_POCKET:
      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.filter(site => site.pocket_id !== action.data.pocket_id)
      }));

    case Actions["actionTypes"].SNIPPETS_PREVIEW_MODE:
      return prevState.map(section => ({ ...section,
        rows: []
      }));

    default:
      return prevState;
  }
}

function Snippets(prevState = INITIAL_STATE.Snippets, action) {
  switch (action.type) {
    case Actions["actionTypes"].SNIPPETS_DATA:
      return Object.assign({}, prevState, {
        initialized: true
      }, action.data);

    case Actions["actionTypes"].SNIPPET_BLOCKED:
      return Object.assign({}, prevState, {
        blockList: prevState.blockList.concat(action.data)
      });

    case Actions["actionTypes"].SNIPPETS_BLOCKLIST_CLEARED:
      return Object.assign({}, prevState, {
        blockList: []
      });

    case Actions["actionTypes"].SNIPPETS_RESET:
      return INITIAL_STATE.Snippets;

    default:
      return prevState;
  }
}

function Pocket(prevState = INITIAL_STATE.Pocket, action) {
  switch (action.type) {
    case Actions["actionTypes"].POCKET_WAITING_FOR_SPOC:
      return { ...prevState,
        waitingForSpoc: action.data
      };

    case Actions["actionTypes"].POCKET_LOGGED_IN:
      return { ...prevState,
        isUserLoggedIn: !!action.data
      };

    case Actions["actionTypes"].POCKET_CTA:
      return { ...prevState,
        pocketCta: {
          ctaButton: action.data.cta_button,
          ctaText: action.data.cta_text,
          ctaUrl: action.data.cta_url,
          useCta: action.data.use_cta
        }
      };

    default:
      return prevState;
  }
}

function Personalization(prevState = INITIAL_STATE.Personalization, action) {
  switch (action.type) {
    case Actions["actionTypes"].DISCOVERY_STREAM_PERSONALIZATION_LAST_UPDATED:
      return { ...prevState,
        lastUpdated: action.data.lastUpdated
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_PERSONALIZATION_INIT:
      return { ...prevState,
        initialized: true
      };

    default:
      return prevState;
  }
} // eslint-disable-next-line complexity


function DiscoveryStream(prevState = INITIAL_STATE.DiscoveryStream, action) {
  // Return if action data is empty, or spocs or feeds data is not loaded
  const isNotReady = () => !action.data || !prevState.spocs.loaded || !prevState.feeds.loaded;

  const handlePlacements = handleSites => {
    const {
      data,
      placements
    } = prevState.spocs;
    const result = {};

    const forPlacement = placement => {
      const placementSpocs = data[placement.name];

      if (!placementSpocs || !placementSpocs.items || !placementSpocs.items.length) {
        return;
      }

      result[placement.name] = { ...placementSpocs,
        items: handleSites(placementSpocs.items)
      };
    };

    if (!placements || !placements.length) {
      [{
        name: "spocs"
      }].forEach(forPlacement);
    } else {
      placements.forEach(forPlacement);
    }

    return result;
  };

  const nextState = handleSites => ({ ...prevState,
    spocs: { ...prevState.spocs,
      data: handlePlacements(handleSites)
    },
    feeds: { ...prevState.feeds,
      data: Object.keys(prevState.feeds.data).reduce((accumulator, feed_url) => {
        accumulator[feed_url] = {
          data: { ...prevState.feeds.data[feed_url].data,
            recommendations: handleSites(prevState.feeds.data[feed_url].data.recommendations)
          }
        };
        return accumulator;
      }, {})
    }
  });

  switch (action.type) {
    case Actions["actionTypes"].DISCOVERY_STREAM_CONFIG_CHANGE: // Fall through to a separate action is so it doesn't trigger a listener update on init

    case Actions["actionTypes"].DISCOVERY_STREAM_CONFIG_SETUP:
      return { ...prevState,
        config: action.data || {}
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_LAYOUT_UPDATE:
      return { ...prevState,
        lastUpdated: action.data.lastUpdated || null,
        layout: action.data.layout || []
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_COLLECTION_DISMISSIBLE_TOGGLE:
      return { ...prevState,
        isCollectionDismissible: action.data.value
      };

    case Actions["actionTypes"].HIDE_PRIVACY_INFO:
      return { ...prevState,
        isPrivacyInfoModalVisible: false
      };

    case Actions["actionTypes"].SHOW_PRIVACY_INFO:
      return { ...prevState,
        isPrivacyInfoModalVisible: true
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_LAYOUT_RESET:
      return { ...INITIAL_STATE.DiscoveryStream,
        config: prevState.config
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_FEEDS_UPDATE:
      return { ...prevState,
        feeds: { ...prevState.feeds,
          loaded: true
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_FEED_UPDATE:
      const newData = {};
      newData[action.data.url] = action.data.feed;
      return { ...prevState,
        feeds: { ...prevState.feeds,
          data: { ...prevState.feeds.data,
            ...newData
          }
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOCS_CAPS:
      return { ...prevState,
        spocs: { ...prevState.spocs,
          frequency_caps: [...prevState.spocs.frequency_caps, ...action.data]
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOCS_ENDPOINT:
      return { ...prevState,
        spocs: { ...INITIAL_STATE.DiscoveryStream.spocs,
          spocs_endpoint: action.data.url || INITIAL_STATE.DiscoveryStream.spocs.spocs_endpoint
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOCS_PLACEMENTS:
      return { ...prevState,
        spocs: { ...prevState.spocs,
          placements: action.data.placements || INITIAL_STATE.DiscoveryStream.spocs.placements
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOCS_UPDATE:
      if (action.data) {
        return { ...prevState,
          spocs: { ...prevState.spocs,
            lastUpdated: action.data.lastUpdated,
            data: action.data.spocs,
            loaded: true
          }
        };
      }

      return prevState;

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOC_BLOCKED:
      return { ...prevState,
        spocs: { ...prevState.spocs,
          blocked: [...prevState.spocs.blocked, action.data.url]
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_LINK_BLOCKED:
      return isNotReady() ? prevState : nextState(items => items.filter(item => item.url !== action.data.url));

    case Actions["actionTypes"].PLACES_SAVED_TO_POCKET:
      const addPocketInfo = item => {
        if (item.url === action.data.url) {
          return Object.assign({}, item, {
            open_url: action.data.open_url,
            pocket_id: action.data.pocket_id,
            context_type: "pocket"
          });
        }

        return item;
      };

      return isNotReady() ? prevState : nextState(items => items.map(addPocketInfo));

    case Actions["actionTypes"].DELETE_FROM_POCKET:
    case Actions["actionTypes"].ARCHIVE_FROM_POCKET:
      return isNotReady() ? prevState : nextState(items => items.filter(item => item.pocket_id !== action.data.pocket_id));

    case Actions["actionTypes"].PLACES_BOOKMARK_ADDED:
      const updateBookmarkInfo = item => {
        if (item.url === action.data.url) {
          const {
            bookmarkGuid,
            bookmarkTitle,
            dateAdded
          } = action.data;
          return Object.assign({}, item, {
            bookmarkGuid,
            bookmarkTitle,
            bookmarkDateCreated: dateAdded,
            context_type: "bookmark"
          });
        }

        return item;
      };

      return isNotReady() ? prevState : nextState(items => items.map(updateBookmarkInfo));

    case Actions["actionTypes"].PLACES_BOOKMARKS_REMOVED:
      const removeBookmarkInfo = item => {
        if (action.data.urls.includes(item.url)) {
          const newSite = Object.assign({}, item);
          delete newSite.bookmarkGuid;
          delete newSite.bookmarkTitle;
          delete newSite.bookmarkDateCreated;

          if (!newSite.context_type || newSite.context_type === "bookmark") {
            newSite.context_type = "removedBookmark";
          }

          return newSite;
        }

        return item;
      };

      return isNotReady() ? prevState : nextState(items => items.map(removeBookmarkInfo));

    case Actions["actionTypes"].PREF_CHANGED:
      if (action.data.name === PREF_COLLECTION_DISMISSIBLE) {
        return { ...prevState,
          isCollectionDismissible: action.data.value
        };
      }

      return prevState;

    default:
      return prevState;
  }
}

function Search(prevState = INITIAL_STATE.Search, action) {
  switch (action.type) {
    case Actions["actionTypes"].DISABLE_SEARCH:
      return Object.assign({ ...prevState,
        disable: true
      });

    case Actions["actionTypes"].FAKE_FOCUS_SEARCH:
      return Object.assign({ ...prevState,
        fakeFocus: true
      });

    case Actions["actionTypes"].SHOW_SEARCH:
      return Object.assign({ ...prevState,
        disable: false,
        fakeFocus: false
      });

    default:
      return prevState;
  }
}

var reducers = {
  TopSites,
  App,
  ASRouter,
  Snippets,
  Prefs,
  Dialog,
  Sections,
  Pocket,
  Personalization,
  DiscoveryStream,
  Search
};

/***/ }),
/* 67 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./common/Actions.jsm
var Actions = __webpack_require__(1);

// EXTERNAL MODULE: ./content-src/components/A11yLinkButton/A11yLinkButton.jsx
var A11yLinkButton = __webpack_require__(31);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(8);
var external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);

// EXTERNAL MODULE: ./content-src/components/TopSites/TopSitesConstants.js
var TopSitesConstants = __webpack_require__(47);

// CONCATENATED MODULE: ./content-src/components/TopSites/TopSiteFormInput.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class TopSiteFormInput_TopSiteFormInput extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      validationError: this.props.validationError
    };
    this.onChange = this.onChange.bind(this);
    this.onMount = this.onMount.bind(this);
    this.onClearIconPress = this.onClearIconPress.bind(this);
  }

  componentWillReceiveProps(nextProps) {
    if (nextProps.shouldFocus && !this.props.shouldFocus) {
      this.input.focus();
    }

    if (nextProps.validationError && !this.props.validationError) {
      this.setState({
        validationError: true
      });
    } // If the component is in an error state but the value was cleared by the parent


    if (this.state.validationError && !nextProps.value) {
      this.setState({
        validationError: false
      });
    }
  }

  onClearIconPress(event) {
    // If there is input in the URL or custom image URL fields,
    // and we hit 'enter' while tabbed over the clear icon,
    // we should execute the function to clear the field.
    if (event.key === "Enter") {
      this.props.onClear();
    }
  }

  onChange(ev) {
    if (this.state.validationError) {
      this.setState({
        validationError: false
      });
    }

    this.props.onChange(ev);
  }

  onMount(input) {
    this.input = input;
  }

  renderLoadingOrCloseButton() {
    const showClearButton = this.props.value && this.props.onClear;

    if (this.props.loading) {
      return /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "loading-container"
      }, /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "loading-animation"
      }));
    } else if (showClearButton) {
      return /*#__PURE__*/external_React_default.a.createElement("button", {
        type: "button",
        className: "icon icon-clear-input icon-button-style",
        onClick: this.props.onClear,
        onKeyPress: this.onClearIconPress
      });
    }

    return null;
  }

  render() {
    const {
      typeUrl
    } = this.props;
    const {
      validationError
    } = this.state;
    return /*#__PURE__*/external_React_default.a.createElement("label", null, /*#__PURE__*/external_React_default.a.createElement("span", {
      "data-l10n-id": this.props.titleId
    }), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: `field ${typeUrl ? "url" : ""}${validationError ? " invalid" : ""}`
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      type: "text",
      value: this.props.value,
      ref: this.onMount,
      onChange: this.onChange,
      "data-l10n-id": this.props.placeholderId // Set focus on error if the url field is valid or when the input is first rendered and is empty
      // eslint-disable-next-line jsx-a11y/no-autofocus
      ,
      autoFocus: this.props.shouldFocus,
      disabled: this.props.loading
    }), this.renderLoadingOrCloseButton(), validationError && /*#__PURE__*/external_React_default.a.createElement("aside", {
      className: "error-tooltip",
      "data-l10n-id": this.props.errorMessageId
    })));
  }

}
TopSiteFormInput_TopSiteFormInput.defaultProps = {
  showClearButton: false,
  value: "",
  validationError: false
};
// EXTERNAL MODULE: ./content-src/components/TopSites/TopSite.jsx
var TopSite = __webpack_require__(49);

// CONCATENATED MODULE: ./content-src/components/TopSites/TopSiteForm.jsx
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSiteForm", function() { return TopSiteForm_TopSiteForm; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






class TopSiteForm_TopSiteForm extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    const {
      site
    } = props;
    this.state = {
      label: site ? site.label || site.hostname : "",
      url: site ? site.url : "",
      validationError: false,
      customScreenshotUrl: site ? site.customScreenshotURL : "",
      showCustomScreenshotForm: site ? site.customScreenshotURL : false
    };
    this.onClearScreenshotInput = this.onClearScreenshotInput.bind(this);
    this.onLabelChange = this.onLabelChange.bind(this);
    this.onUrlChange = this.onUrlChange.bind(this);
    this.onCancelButtonClick = this.onCancelButtonClick.bind(this);
    this.onClearUrlClick = this.onClearUrlClick.bind(this);
    this.onDoneButtonClick = this.onDoneButtonClick.bind(this);
    this.onCustomScreenshotUrlChange = this.onCustomScreenshotUrlChange.bind(this);
    this.onPreviewButtonClick = this.onPreviewButtonClick.bind(this);
    this.onEnableScreenshotUrlForm = this.onEnableScreenshotUrlForm.bind(this);
    this.validateUrl = this.validateUrl.bind(this);
  }

  onLabelChange(event) {
    this.setState({
      label: event.target.value
    });
  }

  onUrlChange(event) {
    this.setState({
      url: event.target.value,
      validationError: false
    });
  }

  onClearUrlClick() {
    this.setState({
      url: "",
      validationError: false
    });
  }

  onEnableScreenshotUrlForm() {
    this.setState({
      showCustomScreenshotForm: true
    });
  }

  _updateCustomScreenshotInput(customScreenshotUrl) {
    this.setState({
      customScreenshotUrl,
      validationError: false
    });
    this.props.dispatch({
      type: Actions["actionTypes"].PREVIEW_REQUEST_CANCEL
    });
  }

  onCustomScreenshotUrlChange(event) {
    this._updateCustomScreenshotInput(event.target.value);
  }

  onClearScreenshotInput() {
    this._updateCustomScreenshotInput("");
  }

  onCancelButtonClick(ev) {
    ev.preventDefault();
    this.props.onClose();
  }

  onDoneButtonClick(ev) {
    ev.preventDefault();

    if (this.validateForm()) {
      const site = {
        url: this.cleanUrl(this.state.url)
      };
      const {
        index
      } = this.props;

      if (this.state.label !== "") {
        site.label = this.state.label;
      }

      if (this.state.customScreenshotUrl) {
        site.customScreenshotURL = this.cleanUrl(this.state.customScreenshotUrl);
      } else if (this.props.site && this.props.site.customScreenshotURL) {
        // Used to flag that previously cached screenshot should be removed
        site.customScreenshotURL = null;
      }

      this.props.dispatch(Actions["actionCreators"].AlsoToMain({
        type: Actions["actionTypes"].TOP_SITES_PIN,
        data: {
          site,
          index
        }
      }));
      this.props.dispatch(Actions["actionCreators"].UserEvent({
        source: TopSitesConstants["TOP_SITES_SOURCE"],
        event: "TOP_SITES_EDIT",
        action_position: index
      }));
      this.props.onClose();
    }
  }

  onPreviewButtonClick(event) {
    event.preventDefault();

    if (this.validateForm()) {
      this.props.dispatch(Actions["actionCreators"].AlsoToMain({
        type: Actions["actionTypes"].PREVIEW_REQUEST,
        data: {
          url: this.cleanUrl(this.state.customScreenshotUrl)
        }
      }));
      this.props.dispatch(Actions["actionCreators"].UserEvent({
        source: TopSitesConstants["TOP_SITES_SOURCE"],
        event: "PREVIEW_REQUEST"
      }));
    }
  }

  cleanUrl(url) {
    // If we are missing a protocol, prepend http://
    if (!url.startsWith("http:") && !url.startsWith("https:")) {
      return `http://${url}`;
    }

    return url;
  }

  _tryParseUrl(url) {
    try {
      return new URL(url);
    } catch (e) {
      return null;
    }
  }

  validateUrl(url) {
    const validProtocols = ["http:", "https:"];

    const urlObj = this._tryParseUrl(url) || this._tryParseUrl(this.cleanUrl(url));

    return urlObj && validProtocols.includes(urlObj.protocol);
  }

  validateCustomScreenshotUrl() {
    const {
      customScreenshotUrl
    } = this.state;
    return !customScreenshotUrl || this.validateUrl(customScreenshotUrl);
  }

  validateForm() {
    const validate = this.validateUrl(this.state.url) && this.validateCustomScreenshotUrl();

    if (!validate) {
      this.setState({
        validationError: true
      });
    }

    return validate;
  }

  _renderCustomScreenshotInput() {
    const {
      customScreenshotUrl
    } = this.state;
    const requestFailed = this.props.previewResponse === "";
    const validationError = this.state.validationError && !this.validateCustomScreenshotUrl() || requestFailed; // Set focus on error if the url field is valid or when the input is first rendered and is empty

    const shouldFocus = validationError && this.validateUrl(this.state.url) || !customScreenshotUrl;
    const isLoading = this.props.previewResponse === null && customScreenshotUrl && this.props.previewUrl === this.cleanUrl(customScreenshotUrl);

    if (!this.state.showCustomScreenshotForm) {
      return /*#__PURE__*/external_React_default.a.createElement(A11yLinkButton["A11yLinkButton"], {
        onClick: this.onEnableScreenshotUrlForm,
        className: "enable-custom-image-input",
        "data-l10n-id": "newtab-topsites-use-image-link"
      });
    }

    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "custom-image-input-container"
    }, /*#__PURE__*/external_React_default.a.createElement(TopSiteFormInput_TopSiteFormInput, {
      errorMessageId: requestFailed ? "newtab-topsites-image-validation" : "newtab-topsites-url-validation",
      loading: isLoading,
      onChange: this.onCustomScreenshotUrlChange,
      onClear: this.onClearScreenshotInput,
      shouldFocus: shouldFocus,
      typeUrl: true,
      value: customScreenshotUrl,
      validationError: validationError,
      titleId: "newtab-topsites-image-url-label",
      placeholderId: "newtab-topsites-url-input"
    }));
  }

  render() {
    const {
      customScreenshotUrl
    } = this.state;
    const requestFailed = this.props.previewResponse === ""; // For UI purposes, editing without an existing link is "add"

    const showAsAdd = !this.props.site;
    const previous = this.props.site && this.props.site.customScreenshotURL || "";
    const changed = customScreenshotUrl && this.cleanUrl(customScreenshotUrl) !== previous; // Preview mode if changes were made to the custom screenshot URL and no preview was received yet
    // or the request failed

    const previewMode = changed && !this.props.previewResponse;
    const previewLink = Object.assign({}, this.props.site);

    if (this.props.previewResponse) {
      previewLink.screenshot = this.props.previewResponse;
      previewLink.customScreenshotURL = this.props.previewUrl;
    } // Handles the form submit so an enter press performs the correct action


    const onSubmit = previewMode ? this.onPreviewButtonClick : this.onDoneButtonClick;
    const addTopsitesHeaderL10nId = "newtab-topsites-add-shortcut-header";
    const editTopsitesHeaderL10nId = "newtab-topsites-edit-shortcut-header";
    return /*#__PURE__*/external_React_default.a.createElement("form", {
      className: "topsite-form",
      onSubmit: onSubmit
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "form-input-container"
    }, /*#__PURE__*/external_React_default.a.createElement("h3", {
      className: "section-title grey-title",
      "data-l10n-id": showAsAdd ? addTopsitesHeaderL10nId : editTopsitesHeaderL10nId
    }), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "fields-and-preview"
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "form-wrapper"
    }, /*#__PURE__*/external_React_default.a.createElement(TopSiteFormInput_TopSiteFormInput, {
      onChange: this.onLabelChange,
      value: this.state.label,
      titleId: "newtab-topsites-title-label",
      placeholderId: "newtab-topsites-title-input"
    }), /*#__PURE__*/external_React_default.a.createElement(TopSiteFormInput_TopSiteFormInput, {
      onChange: this.onUrlChange,
      shouldFocus: this.state.validationError && !this.validateUrl(this.state.url),
      value: this.state.url,
      onClear: this.onClearUrlClick,
      validationError: this.state.validationError && !this.validateUrl(this.state.url),
      titleId: "newtab-topsites-url-label",
      typeUrl: true,
      placeholderId: "newtab-topsites-url-input",
      errorMessageId: "newtab-topsites-url-validation"
    }), this._renderCustomScreenshotInput()), /*#__PURE__*/external_React_default.a.createElement(TopSite["TopSiteLink"], {
      link: previewLink,
      defaultStyle: requestFailed,
      title: this.state.label
    }))), /*#__PURE__*/external_React_default.a.createElement("section", {
      className: "actions"
    }, /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "cancel",
      type: "button",
      onClick: this.onCancelButtonClick,
      "data-l10n-id": "newtab-topsites-cancel-button"
    }), previewMode ? /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "done preview",
      type: "submit",
      "data-l10n-id": "newtab-topsites-preview-button"
    }) : /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "done",
      type: "submit",
      "data-l10n-id": showAsAdd ? "newtab-topsites-add-button" : "newtab-topsites-save-button"
    })));
  }

}
TopSiteForm_TopSiteForm.defaultProps = {
  site: null,
  index: -1
};

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2FjdGl2aXR5LXN0cmVhbS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb21tb24vQWN0aW9ucy5qc20iLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Jhc2UvQmFzZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9BU1JvdXRlckFkbWluL0FTUm91dGVyQWRtaW4uanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvYXNyb3V0ZXItdXRpbHMuanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb21tb24vQWN0b3JDb25zdGFudHMuanNtIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzL2V4dGVybmFsIFwiUmVhY3RSZWR1eFwiIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQVNSb3V0ZXJBZG1pbi9TaW1wbGVIYXNoUm91dGVyLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL2Fzcm91dGVyLWNvbnRlbnQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvY29tcG9uZW50cy9JbXByZXNzaW9uc1dyYXBwZXIvSW1wcmVzc2lvbnNXcmFwcGVyLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy9leHRlcm5hbCBcIlByb3BUeXBlc1wiIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvbGliL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy9leHRlcm5hbCBcIlJlYWN0RE9NXCIiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0NvbmZpcm1EaWFsb2cvQ29uZmlybURpYWxvZy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUJhc2UvRGlzY292ZXJ5U3RyZWFtQmFzZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNJbWFnZS9EU0ltYWdlLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvTGlua01lbnUvTGlua01lbnUuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvbGluay1tZW51LW9wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51QnV0dG9uLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzL0ltcHJlc3Npb25TdGF0cy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvU2FmZUFuY2hvci9TYWZlQW5jaG9yLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ2FyZC90eXBlcy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy9leHRlcm5hbCBcIlJlYWN0VHJhbnNpdGlvbkdyb3VwXCIiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0ZsdWVudE9yVGV4dC9GbHVlbnRPclRleHQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0NvbGxlY3Rpb25DYXJkR3JpZC9Db2xsZWN0aW9uQ2FyZEdyaWQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTRGlzbWlzcy9EU0Rpc21pc3MuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Db2xsYXBzaWJsZVNlY3Rpb24vQ29sbGFwc2libGVTZWN0aW9uLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRXJyb3JCb3VuZGFyeS9FcnJvckJvdW5kYXJ5LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQTExeUxpbmtCdXR0b24vQTExeUxpbmtCdXR0b24uanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTTWVzc2FnZS9EU01lc3NhZ2UuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTUHJpdmFjeU1vZGFsL0RTUHJpdmFjeU1vZGFsLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL2NvbXBvbmVudHMvTW9kYWxPdmVybGF5L01vZGFsT3ZlcmxheS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNTaWdudXAvRFNTaWdudXAuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTVGV4dFByb21vL0RTVGV4dFByb21vLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9IaWdobGlnaHRzL0hpZ2hsaWdodHMuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9TZWN0aW9ucy9TZWN0aW9ucy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0NhcmQvQ2FyZC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvc2NyZWVuc2hvdC11dGlscy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29tcG9uZW50UGVyZlRpbWVyL0NvbXBvbmVudFBlcmZUaW1lci5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvcGVyZi1zZXJ2aWNlLmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Nb3JlUmVjb21tZW5kYXRpb25zL01vcmVSZWNvbW1lbmRhdGlvbnMuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Qb2NrZXRMb2dnZWRJbkN0YS9Qb2NrZXRMb2dnZWRJbkN0YS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1RvcGljcy9Ub3BpY3MuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlcy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1RvcFNpdGVzL1RvcFNpdGVzQ29uc3RhbnRzLmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9TZWFyY2hTaG9ydGN1dHNGb3JtLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1RvcFNpdGVzL1RvcFNpdGVJbXByZXNzaW9uV3JhcHBlci5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvSG9yaXpvbnRhbFJ1bGUvSG9yaXpvbnRhbFJ1bGUuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL05hdmlnYXRpb24vTmF2aWdhdGlvbi5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvUHJpdmFjeUxpbmsvUHJpdmFjeUxpbmsuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL1NlY3Rpb25UaXRsZS9TZWN0aW9uVGl0bGUuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvbGliL3NlbGVjdExheW91dFJlbmRlci5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlcy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1NlYXJjaC9TZWFyY2guanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvbGliL2RldGVjdC11c2VyLXNlc3Npb24tc3RhcnQuanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvaW5pdC1zdG9yZS5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy9leHRlcm5hbCBcIlJlZHV4XCIiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9ub2RlX21vZHVsZXMvZmx1ZW50LXNlcXVlbmNlL3NyYy9tYXBfc3luYy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtc2VxdWVuY2Uvc3JjL21hcF9hc3luYy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtc2VxdWVuY2Uvc3JjL2luZGV4LmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vbm9kZV9tb2R1bGVzL2NhY2hlZC1pdGVyYWJsZS9zcmMvY2FjaGVkX2l0ZXJhYmxlLm1qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9jYWNoZWQtaXRlcmFibGUvc3JjL2NhY2hlZF9zeW5jX2l0ZXJhYmxlLm1qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9jYWNoZWQtaXRlcmFibGUvc3JjL2NhY2hlZF9hc3luY19pdGVyYWJsZS5tanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9ub2RlX21vZHVsZXMvY2FjaGVkLWl0ZXJhYmxlL3NyYy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9ub2RlX21vZHVsZXMvZmx1ZW50LXJlYWN0L3NyYy9sb2NhbGl6YXRpb24uanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9ub2RlX21vZHVsZXMvZmx1ZW50LXJlYWN0L3NyYy9tYXJrdXAuanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9ub2RlX21vZHVsZXMvZmx1ZW50LXJlYWN0L3NyYy9wcm92aWRlci5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtcmVhY3Qvc3JjL3dpdGhfbG9jYWxpemF0aW9uLmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC1yZWFjdC92ZW5kb3Ivb21pdHRlZENsb3NlVGFncy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtcmVhY3QvdmVuZG9yL3ZvaWRFbGVtZW50VGFncy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtcmVhY3Qvc3JjL2xvY2FsaXplZC5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtcmVhY3Qvc3JjL2luZGV4LmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvY29tcG9uZW50cy9CdXR0b24vQnV0dG9uLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL2NvbXBvbmVudHMvQ29uZGl0aW9uYWxXcmFwcGVyL0NvbmRpdGlvbmFsV3JhcHBlci5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZS11dGlscy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL2NvbXBvbmVudHMvUmljaFRleHQvUmljaFRleHQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvY29tcG9uZW50cy9TbmlwcGV0QmFzZS9TbmlwcGV0QmFzZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZXMvU2ltcGxlU25pcHBldC9TaW1wbGVTbmlwcGV0LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL3RlbXBsYXRlcy9FT1lTbmlwcGV0L0VPWVNuaXBwZXQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvdGVtcGxhdGVzL1N1Ym1pdEZvcm1TbmlwcGV0L1N1Ym1pdEZvcm1TbmlwcGV0LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL3RlbXBsYXRlcy9GWEFTaWdudXBTbmlwcGV0L0ZYQVNpZ251cFNuaXBwZXQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvdGVtcGxhdGVzL05ld3NsZXR0ZXJTbmlwcGV0L05ld3NsZXR0ZXJTbmlwcGV0LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL3RlbXBsYXRlcy9TZW5kVG9EZXZpY2VTbmlwcGV0L2lzRW1haWxPclBob25lTnVtYmVyLmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvdGVtcGxhdGVzL1NlbmRUb0RldmljZVNuaXBwZXQvU2VuZFRvRGV2aWNlU25pcHBldC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZXMvU2ltcGxlQmVsb3dTZWFyY2hTbmlwcGV0L1NpbXBsZUJlbG93U2VhcmNoU25pcHBldC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZXMvdGVtcGxhdGUtbWFuaWZlc3QuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC9zcmMvdHlwZXMuanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9ub2RlX21vZHVsZXMvZmx1ZW50L3NyYy9idWlsdGlucy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQvc3JjL3Jlc29sdmVyLmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC9zcmMvZXJyb3IuanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9ub2RlX21vZHVsZXMvZmx1ZW50L3NyYy9yZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQvc3JjL2J1bmRsZS5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQvc3JjL2luZGV4LmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvcmljaC10ZXh0LXN0cmluZ3MuanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNMaW5rTWVudS9EU0xpbmtNZW51LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0NvbnRleHRGb290ZXIvRFNDb250ZXh0Rm9vdGVyLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0NhcmQvRFNDYXJkLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0VtcHR5U3RhdGUvRFNFbXB0eVN0YXRlLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9DYXJkR3JpZC9DYXJkR3JpZC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0N1c3RvbWl6ZU1lbnUvVGhlbWVzU2VjdGlvbi9UaGVtZXNTZWN0aW9uLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ3VzdG9taXplTWVudS9CYWNrZ3JvdW5kc1NlY3Rpb24vQmFja2dyb3VuZHNTZWN0aW9uLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ3VzdG9taXplTWVudS9Db250ZW50U2VjdGlvbi9Db250ZW50U2VjdGlvbi5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0N1c3RvbWl6ZU1lbnUvQ3VzdG9taXplTWVudS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb21tb24vRGVkdXBlLmpzbSIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbW1vbi9SZWR1Y2Vycy5qc20iLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1RvcFNpdGVzL1RvcFNpdGVGb3JtSW5wdXQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlRm9ybS5qc3giXSwibmFtZXMiOlsiTmV3VGFiIiwic3RvcmUiLCJyZW5kZXJXaXRob3V0U3RhdGUiLCJpbml0U3RvcmUiLCJyZWR1Y2VycyIsIkRldGVjdFVzZXJTZXNzaW9uU3RhcnQiLCJzZW5kRXZlbnRPckFkZExpc3RlbmVyIiwiZGlkUmVxdWVzdCIsInJlcXVlc3RJZGxlQ2FsbGJhY2tJZCIsImRvUmVxdWVzdCIsImNhbmNlbElkbGVDYWxsYmFjayIsImRpc3BhdGNoIiwiYWMiLCJBbHNvVG9NYWluIiwidHlwZSIsImF0IiwiTkVXX1RBQl9TVEFURV9SRVFVRVNUIiwiZG9jdW1lbnQiLCJoaWRkZW4iLCJyZXF1ZXN0SWRsZUNhbGxiYWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJSZWFjdERPTSIsImh5ZHJhdGUiLCJnZXRFbGVtZW50QnlJZCIsInJlbmRlckNhY2hlIiwiaW5pdGlhbFN0YXRlIiwiZ2xvYmFsSW1wb3J0Q29udGV4dCIsIldpbmRvdyIsIkJBQ0tHUk9VTkRfUFJPQ0VTUyIsIlVJX0NPREUiLCJhY3Rpb25UeXBlcyIsIl9Sb3V0ZU1lc3NhZ2UiLCJhY3Rpb24iLCJvcHRpb25zIiwibWV0YSIsImZyb20iLCJ0byIsIkVycm9yIiwiZm9yRWFjaCIsIm8iLCJmcm9tVGFyZ2V0Iiwic2tpcExvY2FsIiwiQ09OVEVOVF9NRVNTQUdFX1RZUEUiLCJNQUlOX01FU1NBR0VfVFlQRSIsIk9ubHlUb01haW4iLCJCcm9hZGNhc3RUb0NvbnRlbnQiLCJBbHNvVG9PbmVDb250ZW50IiwidGFyZ2V0Iiwic2tpcE1haW4iLCJ0b1RhcmdldCIsIk9ubHlUb09uZUNvbnRlbnQiLCJBbHNvVG9QcmVsb2FkZWQiLCJQUkVMT0FEX01FU1NBR0VfVFlQRSIsIlVzZXJFdmVudCIsImRhdGEiLCJURUxFTUVUUllfVVNFUl9FVkVOVCIsIkFTUm91dGVyVXNlckV2ZW50IiwiQVNfUk9VVEVSX1RFTEVNRVRSWV9VU0VSX0VWRU5UIiwiSW1wcmVzc2lvblN0YXRzIiwiaW1wb3J0Q29udGV4dCIsIlRFTEVNRVRSWV9JTVBSRVNTSU9OX1NUQVRTIiwiRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzIiwiRElTQ09WRVJZX1NUUkVBTV9JTVBSRVNTSU9OX1NUQVRTIiwiRGlzY292ZXJ5U3RyZWFtTG9hZGVkQ29udGVudCIsIkRJU0NPVkVSWV9TVFJFQU1fTE9BREVEX0NPTlRFTlQiLCJTZXRQcmVmIiwibmFtZSIsInZhbHVlIiwiU0VUX1BSRUYiLCJXZWJFeHRFdmVudCIsInNvdXJjZSIsImlzU2VuZFRvTWFpbiIsImlzQnJvYWRjYXN0VG9Db250ZW50IiwiaXNTZW5kVG9PbmVDb250ZW50IiwiaXNTZW5kVG9QcmVsb2FkZWQiLCJpc0Zyb21NYWluIiwiZ2V0UG9ydElkT2ZTZW5kZXIiLCJQcmVmc0J1dHRvbiIsIm9uQ2xpY2siLCJpY29uIiwiZGVib3VuY2UiLCJmdW5jIiwid2FpdCIsInRpbWVyIiwiYXJncyIsIndha2VVcCIsInNldFRpbWVvdXQiLCJhcHBseSIsIl9CYXNlIiwiUmVhY3QiLCJQdXJlQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN0YXRlIiwibWVzc2FnZSIsIm5vdGlmeUNvbnRlbnQiLCJiaW5kIiwic2V0U3RhdGUiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInVwZGF0ZVRoZW1lIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsImJvZHlDbGFzc05hbWUiLCJib2R5IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJmaWx0ZXIiLCJ2Iiwiam9pbiIsImdsb2JhbCIsImNsYXNzTmFtZSIsInJlbmRlciIsIkFwcCIsImlzRGV2dG9vbHNFbmFibGVkIiwiUHJlZnMiLCJ2YWx1ZXMiLCJpbml0aWFsaXplZCIsIkJhc2VDb250ZW50Iiwib3BlblByZWZlcmVuY2VzIiwib3BlbkN1c3RvbWl6YXRpb25NZW51IiwiY2xvc2VDdXN0b21pemF0aW9uTWVudSIsImhhbmRsZU9uS2V5RG93biIsIm9uV2luZG93U2Nyb2xsIiwic2V0UHJlZiIsImZpeGVkU2VhcmNoIiwiY3VzdG9taXplTWVudVZpc2libGUiLCJjb21wb25lbnREaWRNb3VudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwcmVmcyIsIlNDUk9MTF9USFJFU0hPTEQiLCJzY3JvbGxZIiwiU0VUVElOR1NfT1BFTiIsImV2ZW50IiwiZSIsImtleSIsInByZWYiLCJpc0Rpc2NvdmVyeVN0cmVhbSIsIkRpc2NvdmVyeVN0cmVhbSIsImNvbmZpZyIsImVuYWJsZWQiLCJmaWx0ZXJlZFNlY3Rpb25zIiwiU2VjdGlvbnMiLCJzZWN0aW9uIiwiaWQiLCJwb2NrZXRFbmFibGVkIiwibm9TZWN0aW9uc0VuYWJsZWQiLCJsZW5ndGgiLCJzZWFyY2hIYW5kb2ZmRW5hYmxlZCIsInNob3dDdXN0b21pemF0aW9uTWVudSIsImVuYWJsZWRTZWN0aW9ucyIsInRvcFNpdGVzRW5hYmxlZCIsImhpZ2hsaWdodHNFbmFibGVkIiwic2hvd1Nwb25zb3JlZFRvcFNpdGVzRW5hYmxlZCIsInNob3dTcG9uc29yZWRUb3BTaXRlcyIsInNob3dTcG9uc29yZWRQb2NrZXRFbmFibGVkIiwic2hvd1Nwb25zb3JlZCIsInRvcFNpdGVzUm93c0NvdW50IiwidG9wU2l0ZXNSb3dzIiwicG9ja2V0UmVnaW9uIiwibWF5SGF2ZVNwb25zb3JlZFRvcFNpdGVzIiwib3V0ZXJDbGFzc05hbWUiLCJzaG93U2VhcmNoIiwiaGFzU25pcHBldCIsImFkbWluQ29udGVudCIsIlNlYXJjaCIsImFwcFVwZGF0ZUNoYW5uZWwiLCJmeGFfZW5kcG9pbnQiLCJsb2NhbGUiLCJCYXNlIiwiY29ubmVjdCIsIlJvdyIsImNoaWxkcmVuIiwicmVsYXRpdmVUaW1lIiwidGltZXN0YW1wIiwic2Vjb25kcyIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJtaW51dGVzIiwidG9Mb2NhbGVTdHJpbmciLCJMQVlPVVRfVkFSSUFOVFMiLCJiYXNpYyIsInN0YWdpbmdfc3BvY3MiLCJUb2dnbGVTdG9yeUJ1dHRvbiIsImhhbmRsZUNsaWNrIiwic3RvcnkiLCJUb2dnbGVNZXNzYWdlSlNPTiIsInRvZ2dsZUpTT04iLCJtc2dJZCIsImljb25OYW1lIiwiaXNDb2xsYXBzZWQiLCJUb2dnbGVQcmVmQ2hlY2tib3giLCJvbkNoYW5nZSIsImNoZWNrZWQiLCJkaXNhYmxlZCIsIlBlcnNvbmFsaXphdGlvbiIsInRvZ2dsZVBlcnNvbmFsaXphdGlvbiIsIkRJU0NPVkVSWV9TVFJFQU1fUEVSU09OQUxJWkFUSU9OX1RPR0dMRSIsImxhc3RVcGRhdGVkIiwicGVyc29uYWxpemVkIiwiRGlzY292ZXJ5U3RyZWFtQWRtaW4iLCJyZXN0b3JlUHJlZkRlZmF1bHRzIiwic2V0Q29uZmlnVmFsdWUiLCJleHBpcmVDYWNoZSIsInJlZnJlc2hDYWNoZSIsImlkbGVEYWlseSIsInN5c3RlbVRpY2siLCJzeW5jUmVtb3RlU2V0dGluZ3MiLCJjaGFuZ2VFbmRwb2ludFZhcmlhbnQiLCJvblN0b3J5VG9nZ2xlIiwidG9nZ2xlZFN0b3JpZXMiLCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19TRVRfVkFMVUUiLCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19SRVNFVF9ERUZBVUxUUyIsIkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX0NIQU5HRSIsImRpc3BhdGNoU2ltcGxlQWN0aW9uIiwiRElTQ09WRVJZX1NUUkVBTV9ERVZfU1lTVEVNX1RJQ0siLCJESVNDT1ZFUllfU1RSRUFNX0RFVl9FWFBJUkVfQ0FDSEUiLCJESVNDT1ZFUllfU1RSRUFNX0RFVl9JRExFX0RBSUxZIiwiRElTQ09WRVJZX1NUUkVBTV9ERVZfU1lOQ19SUyIsImVuZHBvaW50IiwibGF5b3V0X2VuZHBvaW50IiwicmVwbGFjZSIsInJlbmRlckNvbXBvbmVudCIsIndpZHRoIiwiY29tcG9uZW50IiwiZmVlZCIsInJlbmRlckZlZWQiLCJpc0N1cnJlbnRWYXJpYW50IiwiaXNNYXRjaCIsIm1hdGNoIiwicmVuZGVyRmVlZERhdGEiLCJ1cmwiLCJmZWVkcyIsInJlY29tbWVuZGF0aW9ucyIsIm1hcCIsInJlbmRlclN0b3J5RGF0YSIsInJlbmRlckZlZWRzRGF0YSIsIk9iamVjdCIsImtleXMiLCJyZW5kZXJTcG9jcyIsInNwb2NzIiwic3BvY3NEYXRhIiwiaXRlbXMiLCJzcG9jc19lbmRwb2ludCIsInNwb2MiLCJmcmVxdWVuY3lfY2FwcyIsInN0b3J5RGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcmVmVG9nZ2xlcyIsInNwbGl0IiwibGF5b3V0Iiwib3RoZXJQcmVmcyIsImhhcmRjb2RlZF9sYXlvdXQiLCJvcGFjaXR5Iiwicm93Iiwicm93SW5kZXgiLCJjb21wb25lbnRzIiwiY29tcG9uZW50SW5kZXgiLCJBU1JvdXRlckFkbWluSW5uZXIiLCJoYW5kbGVFbmFibGVkVG9nZ2xlIiwiaGFuZGxlVXNlclByZWZUb2dnbGUiLCJvbkNoYW5nZU1lc3NhZ2VGaWx0ZXIiLCJvbkNoYW5nZU1lc3NhZ2VHcm91cHNGaWx0ZXIiLCJ1bmJsb2NrQWxsIiwiaGFuZGxlQ2xlYXJBbGxJbXByZXNzaW9uc0J5UHJvdmlkZXIiLCJoYW5kbGVFeHByZXNzaW9uRXZhbCIsIm9uQ2hhbmdlVGFyZ2V0aW5nUGFyYW1ldGVycyIsIm9uQ2hhbmdlQXR0cmlidXRpb25QYXJhbWV0ZXJzIiwic2V0QXR0cmlidXRpb24iLCJvbkNvcHlUYXJnZXRpbmdQYXJhbXMiLCJvbk5ld1RhcmdldGluZ1BhcmFtcyIsImhhbmRsZVVwZGF0ZVdOTWVzc2FnZXMiLCJoYW5kbGVGb3JjZVdOUCIsImhhbmRsZUNsb3NlV05QIiwicmVzZXRQYW5lbCIsInJlc3RvcmVXTk1lc3NhZ2VTdGF0ZSIsInRvZ2dsZUFsbE1lc3NhZ2VzIiwicmVzZXRHcm91cHMiLCJvbk1lc3NhZ2VGcm9tUGFyZW50Iiwic2V0U3RhdGVGcm9tUGFyZW50IiwibWVzc2FnZUZpbHRlciIsIm1lc3NhZ2VHcm91cHNGaWx0ZXIiLCJXTk1lc3NhZ2VzIiwiY29sbGFwc2VkTWVzc2FnZXMiLCJtb2RpZmllZE1lc3NhZ2VzIiwiZXZhbHVhdGlvblN0YXR1cyIsInN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMiLCJuZXdTdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzIiwiY29waWVkVG9DbGlwYm9hcmQiLCJhdHRyaWJ1dGlvblBhcmFtZXRlcnMiLCJtZWRpdW0iLCJjYW1wYWlnbiIsImNvbnRlbnQiLCJidG9hIiwiZXhwZXJpbWVudCIsInZhcmlhdGlvbiIsInVhIiwiZGx0b2tlbiIsInBhcmFtIiwidGFyZ2V0aW5nUGFyYW1ldGVycyIsImNvbXBvbmVudFdpbGxNb3VudCIsIkFTUm91dGVyVXRpbHMiLCJhZGRMaXN0ZW5lciIsImdldFByZXZpZXdFbmRwb2ludCIsInNlbmRNZXNzYWdlIiwidGhlbiIsImhhbmRsZUJsb2NrIiwibXNnIiwiYmxvY2tCeUlkIiwiaGFuZGxlVW5ibG9jayIsInVuYmxvY2tCeUlkIiwicmVzZXRKU09OIiwiaW5kZXgiLCJpbmRleE9mIiwicHJldlN0YXRlIiwic2xpY2UiLCJyZXNldEFsbEpTT04iLCJtZXNzYWdlQ2hlY2tib3hlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjaGVja2JveCIsInRyaW1tZWRJZCIsIm1lc3NhZ2VzIiwiaGFuZGxlT3ZlcnJpZGUiLCJvdmVycmlkZU1lc3NhZ2UiLCJtb2RpZnlNZXNzYWdlSnNvbiIsInBhcnNlIiwicmVzZXRQcmVmIiwiY29udGV4dCIsImV4cHJlc3Npb24iLCJyZWZzIiwiZXhwcmVzc2lvbklucHV0IiwidGFyZ2V0aW5nUGFyYW1ldGVyc0Vycm9yIiwidXBkYXRlZFBhcmFtZXRlcnMiLCJjb25zb2xlIiwibG9nIiwicHJvdmlkZXJJZCIsInVzZXJQcmVmSW5mbyIsInVzZXJQcmVmcyIsImlzVXNlckVuYWJsZWQiLCJwcm92aWRlciIsInByb3ZpZGVyUHJlZnMiLCJmaW5kIiwicCIsImRhdGFzZXQiLCJpc1N5c3RlbUVuYWJsZWQiLCJpc0VuYWJsaW5nIiwidW5kZWZpbmVkIiwic2V0Q2xpcGJvYXJkRGF0YSIsInByZXZlbnREZWZhdWx0IiwiY2xpcGJvYXJkRGF0YSIsInNldERhdGEiLCJleGVjQ29tbWFuZCIsInJlbW92ZSIsInRhcmdldGluZ1BhcmFtc0V2YWwiLCJpbm5lclRleHQiLCJhZGQiLCJpbmNsdWRlcyIsImNvbmNhdCIsImhhbmRsZUNoYW5nZSIsInJlbmRlck1lc3NhZ2VJdGVtIiwiaXNCbG9ja2VkQnlHcm91cCIsImdyb3VwcyIsImdyb3VwIiwic29tZSIsIm1zZ1Byb3ZpZGVyIiwicHJvdmlkZXJzIiwiaXNQcm92aWRlckV4Y2x1ZGVkIiwiZXhjbHVkZSIsImlzTWVzc2FnZUJsb2NrZWQiLCJtZXNzYWdlQmxvY2tMaXN0IiwiaXNCbG9ja2VkIiwiaW1wcmVzc2lvbnMiLCJtZXNzYWdlSW1wcmVzc2lvbnMiLCJpc01vZGlmaWVkIiwiaXRlbUNsYXNzTmFtZSIsIm1vZGlmeUpzb24iLCJ0ZW1wU3RhdGUiLCJwdXNoIiwicmVuZGVyV05NZXNzYWdlSXRlbSIsIm1lc3NhZ2VzVG9TaG93IiwiQXJyYXkiLCJwcm90b3R5cGUiLCJjYWxsIiwicmVuZGVyTWVzc2FnZXMiLCJyZW5kZXJNZXNzYWdlc0J5R3JvdXAiLCJtIiwicmVuZGVyV05NZXNzYWdlcyIsInJlbmRlck1lc3NhZ2VGaWx0ZXIiLCJyZW5kZXJNZXNzYWdlR3JvdXBzRmlsdGVyIiwicmVuZGVyVGFibGVIZWFkIiwicmVuZGVyUHJvdmlkZXJzIiwicHJvdmlkZXJzQ29uZmlnIiwicHJvdmlkZXJJbmZvIiwiaSIsImlzVGVzdFByb3ZpZGVyIiwiaW5mbyIsImxhYmVsIiwiYnVja2V0IiwicmVhc29uc0Rpc2FibGVkIiwiY29ob3J0Iiwid2hpdGVTcGFjZSIsInJlbmRlclRhcmdldGluZ1BhcmFtZXRlcnMiLCJzdWNjZXNzIiwicmVzdWx0IiwiZXJyb3JTdGF0ZSIsImlucHV0Q29tcCIsIl9nZXRHcm91cEltcHJlc3Npb25zQ291bnQiLCJmcmVxdWVuY3kiLCJncm91cEltcHJlc3Npb25zIiwicmVuZGVyRGlzY292ZXJ5U3RyZWFtIiwicmVuZGVyQXR0cmlidXRpb25QYXJhbWVycyIsInJlbmRlckVycm9yTWVzc2FnZSIsImVycm9ycyIsImVycm9yIiwiY2VsbEtleSIsInJldmVyc2UiLCJyZW5kZXJFcnJvcnMiLCJwcm92aWRlcnNXaXRoRXJyb3JzIiwicmVuZGVyV05QVGVzdHMiLCJnZXRTZWN0aW9uIiwibG9jYXRpb24iLCJyb3V0ZXMiLCJ1c2VyUHJlZmVyZW5jZXMiLCJjb2xsYXBzZWQiLCJDb2xsYXBzZVRvZ2dsZSIsIm9uQ29sbGFwc2VUb2dnbGUiLCJyZW5kZXJBZG1pbiIsImhhc2giLCJzdGFydHNXaXRoIiwic2V0Qm9keUNsYXNzIiwiY29tcG9uZW50RGlkVXBkYXRlIiwicmVtb3ZlTGlzdGVuZXIiLCJfQVNSb3V0ZXJBZG1pbiIsIkFTUm91dGVyQWRtaW4iLCJsaXN0ZW5lciIsIkFTUm91dGVyQWRkUGFyZW50TGlzdGVuZXIiLCJBU1JvdXRlclJlbW92ZVBhcmVudExpc3RlbmVyIiwiQVNSb3V0ZXJNZXNzYWdlIiwiQkxPQ0tfTUVTU0FHRV9CWV9JRCIsIk1PRElGWV9NRVNTQUdFX0pTT04iLCJleGVjdXRlQWN0aW9uIiwiYnV0dG9uX2FjdGlvbiIsIlVTRVJfQUNUSU9OIiwiVU5CTE9DS19NRVNTQUdFX0JZX0lEIiwiYmxvY2tCdW5kbGUiLCJidW5kbGUiLCJCTE9DS19CVU5ETEUiLCJ1bmJsb2NrQnVuZGxlIiwiVU5CTE9DS19CVU5ETEUiLCJPVkVSUklERV9NRVNTQUdFIiwic2VuZFRlbGVtZXRyeSIsInBpbmciLCJocmVmIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiVVJMIiwiZ2V0Iiwic25pcHBldElkIiwidGhlbWUiLCJnZXRQcmV2aWV3VGhlbWUiLCJkaXIiLCJnZXRQcmV2aWV3RGlyIiwiTUVTU0FHRV9UWVBFX0xJU1QiLCJNRVNTQUdFX1RZUEVfSEFTSCIsInJlZHVjZSIsIlNpbXBsZUhhc2hSb3V0ZXIiLCJvbkhhc2hDaGFuZ2UiLCJjbG9uZUVsZW1lbnQiLCJURU1QTEFURVNfQkVMT1dfU0VBUkNIIiwic2hvdWxkU2VuZEltcHJlc3Npb25PblVwZGF0ZSIsIm5leHRQcm9wcyIsInByZXZQcm9wcyIsIkFTUm91dGVyVUlTdXJmYWNlIiwic2VuZENsaWNrIiwic2VuZEltcHJlc3Npb24iLCJzZW5kVXNlckFjdGlvblRlbGVtZXRyeSIsIm9uVXNlckFjdGlvbiIsImZldGNoRmxvd1BhcmFtcyIsIm9uQmxvY2tTZWxlY3RlZCIsIm9uQmxvY2tCeUlkIiwib25EaXNtaXNzIiwiZm9vdGVyUG9ydGFsIiwiZnhhRW5kcG9pbnQiLCJlcnIiLCJ1cmxPYmoiLCJwYXRobmFtZSIsInNlYXJjaFBhcmFtcyIsImFwcGVuZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJ0b1N0cmluZyIsImNyZWRlbnRpYWxzIiwic3RhdHVzIiwiZGV2aWNlSWQiLCJmbG93SWQiLCJmbG93QmVnaW5UaW1lIiwianNvbiIsImV4dHJhUHJvcHMiLCJldmVudFR5cGUiLCJtZXNzYWdlX2lkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJJTVBSRVNTSU9OIiwibWV0cmljIiwiZXZlbnRfY29udGV4dCIsImVudHJ5cG9pbnRfbmFtZSIsImVudHJ5cG9pbnRfdmFsdWUiLCJlbnRyeXBvaW50IiwiZG9fbm90X2F1dG9ibG9jayIsImNsZWFyQWxsIiwiY2xlYXJNZXNzYWdlIiwiaWRPckNhbXBhaWduIiwiY2xlYXJQcm92aWRlciIsIlNOSVBQRVRTX1BSRVZJRVdfTU9ERSIsInJlcXVlc3RNZXNzYWdlIiwid2luZG93IiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiTkVXVEFCX0RBUktfVEhFTUUiLCJ1cGRhdGVDb250ZW50IiwibWFpbiIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRNb25pdG9yVXJsIiwiZmxvd1JlcXVlc3RQYXJhbXMiLCJmbG93VmFsdWVzIiwicmVuZGVyU25pcHBldHMiLCJTbmlwcGV0c1RlbXBsYXRlcyIsInRlbXBsYXRlIiwiU25pcHBldENvbXBvbmVudCIsImdlbmVyYXRlQnVuZGxlcyIsInJlbmRlclByZXZpZXdCYW5uZXIiLCJzaG91bGRSZW5kZXJCZWxvd1NlYXJjaCIsImNyZWF0ZVBvcnRhbCIsImRlZmF1bHRQcm9wcyIsIlZJU0lCTEUiLCJWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCIsIkltcHJlc3Npb25zV3JhcHBlciIsInNlbmRJbXByZXNzaW9uT3JBZGRMaXN0ZW5lciIsInZpc2liaWxpdHlTdGF0ZSIsIl9vblZpc2liaWxpdHlDaGFuZ2UiLCJzZW5kT25Nb3VudCIsIklTX05FV1RBQiIsImRvY3VtZW50VVJJIiwibnRwX2JhY2tncm91bmQiLCJyIiwiZyIsImIiLCJhIiwibnRwX2NhcmRfYmFja2dyb3VuZCIsIm50cF90ZXh0Iiwic2lkZWJhciIsInNpZGViYXJfdGV4dCIsIl9Db25maXJtRGlhbG9nIiwiX2hhbmRsZUNhbmNlbEJ0biIsIl9oYW5kbGVDb25maXJtQnRuIiwiRElBTE9HX0NBTkNFTCIsImV2ZW50U291cmNlIiwib25Db25maXJtIiwiX3JlbmRlck1vZGFsTWVzc2FnZSIsIm1lc3NhZ2VfYm9keSIsImJvZHlfc3RyaW5nX2lkIiwidmlzaWJsZSIsImNhbmNlbF9idXR0b25fc3RyaW5nX2lkIiwiY29uZmlybV9idXR0b25fc3RyaW5nX2lkIiwiQ29uZmlybURpYWxvZyIsIkRpYWxvZyIsIkFMTE9XRURfQ1NTX1VSTF9QUkVGSVhFUyIsIkRVTU1ZX0NTU19TRUxFQ1RPUiIsImlzQWxsb3dlZENTUyIsInByb3BlcnR5IiwidXJscyIsImV2ZXJ5IiwicHJlZml4IiwiX0Rpc2NvdmVyeVN0cmVhbUJhc2UiLCJvblN0eWxlTW91bnQiLCJzdHlsZSIsInNoZWV0Iiwic3R5bGVzIiwiZW50cmllcyIsInNlbGVjdG9ycyIsImRlY2xhcmF0aW9ucyIsImluc2VydFJ1bGUiLCJydWxlIiwiY3NzUnVsZXMiLCJyZW1vdmVQcm9wZXJ0eSIsInNlbGVjdG9yVGV4dCIsInNlbGVjdG9yIiwiZW1iZWRXaWR0aCIsIkVOR0FHRU1FTlRfTEFCRUxfRU5BQkxFRCIsInByb21vQWxpZ25tZW50IiwicG9zaXRpb25zIiwiaGVhZGVyIiwidGl0bGUiLCJzdWJ0aXRsZSIsImxpbmtfdGV4dCIsImxpbmtfdXJsIiwiZXNzZW50aWFsUmVhZHNIZWFkZXIiLCJlZGl0b3JzUGlja3NIZWFkZXIiLCJwcm9wZXJ0aWVzIiwibGlua3MiLCJleHRyYUxpbmtzIiwiYWxpZ25tZW50IiwiZGlzcGxheV92YXJpYW50IiwiZXhwbG9yZV90b3BpY3MiLCJuZXdGb290ZXJTZWN0aW9uIiwicHJpdmFjeU5vdGljZVVSTCIsInBsYWNlbWVudCIsImJvcmRlciIsImN0YV92YXJpYW50IiwiaXNDb2xsZWN0aW9uRGlzbWlzc2libGUiLCJlbmFibGVfdmlkZW9fcGxheWhlYWRzIiwiY29tcGFjdCIsImhpZGVEZXNjcmlwdGlvbnMiLCJjb21wYWN0R3JpZCIsImNvbXBhY3RJbWFnZXMiLCJpbWFnZUdyYWRpZW50IiwibmV3U3BvbnNvcmVkTGFiZWwiLCJ0aXRsZUxpbmVzIiwiZGVzY0xpbmVzIiwicmVhZFRpbWUiLCJsb2FkTW9yZUVuYWJsZWQiLCJsYXN0Q2FyZE1lc3NhZ2VFbmFibGVkIiwic2F2ZVRvUG9ja2V0Q2FyZCIsInJlbmRlclN0eWxlcyIsImxheW91dFJlbmRlciIsInNlbGVjdExheW91dFJlbmRlciIsImNvbGxhcHNpYmxlIiwicmVuZGVyTGF5b3V0IiwiZXh0cmFjdENvbXBvbmVudCIsInNwbGljZSIsInRvcFN0b3JpZXMiLCJzIiwidG9wU2l0ZXMiLCJzcG9uc29yZWRDb2xsZWN0aW9uIiwibGVhcm5Nb3JlIiwibGluayIsInByaXZhY3lMaW5rQ29tcG9uZW50Iiwic2VjdGlvblRpdGxlIiwic3ViVGl0bGUiLCJpc1ByaXZhY3lJbmZvTW9kYWxWaXNpYmxlIiwiRGlzY292ZXJ5U3RyZWFtQmFzZSIsIkRTSW1hZ2UiLCJvbk9wdGltaXplZEltYWdlRXJyb3IiLCJvbk5vbk9wdGltaXplZEltYWdlRXJyb3IiLCJvbkxvYWQiLCJpc0xvYWRlZCIsIm9wdGltaXplZEltYWdlRmFpbGVkIiwidXNlVHJhbnNpdGlvbiIsIm9uSWRsZUNhbGxiYWNrIiwicmVmb3JtYXRJbWFnZVVSTCIsImhlaWdodCIsImVuY29kZVVSSUNvbXBvbmVudCIsImlkbGVDYWxsYmFja0lkIiwid2luZG93T2JqIiwiY2xhc3NOYW1lcyIsImV4dHJhQ2xhc3NOYW1lcyIsImltZyIsIm9wdGltaXplIiwicmF3U291cmNlIiwiYmFzZVNvdXJjZSIsInNpemVSdWxlcyIsInNyY1NldFJ1bGVzIiwic2l6ZXMiLCJtZWRpYU1hdGNoZXIiLCJzaXplUnVsZSIsInNyY1NldFJ1bGUiLCJzcmNTZXRSdWxlMngiLCJhbHRfdGV4dCIsIm5vbk9wdGltaXplZEltYWdlRmFpbGVkIiwiREVGQVVMVF9TSVRFX01FTlVfT1BUSU9OUyIsIl9MaW5rTWVudSIsImdldE9wdGlvbnMiLCJzaXRlIiwiaXNQcml2YXRlQnJvd3NpbmdFbmFibGVkIiwic2l0ZUluZm8iLCJwbGF0Zm9ybSIsInByb3BPcHRpb25zIiwiaXNEZWZhdWx0Iiwic2VhcmNoVG9wU2l0ZSIsInNwb25zb3JlZF9wb3NpdGlvbiIsIkxpbmtNZW51T3B0aW9ucyIsIm9wdGlvbiIsImltcHJlc3Npb24iLCJ1c2VyRXZlbnQiLCJjdHJsS2V5IiwibWV0YUtleSIsInNoaWZ0S2V5IiwiYnV0dG9uIiwiYXNzaWduIiwidXNlckV2ZW50RGF0YSIsImFjdGlvbl9wb3NpdGlvbiIsInNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHMiLCJmaXJzdCIsImxhc3QiLCJvblVwZGF0ZSIsIm9uU2hvdyIsImtleWJvYXJkQWNjZXNzIiwiZ2V0U3RhdGUiLCJMaW5rTWVudSIsIkNvbnRleHRNZW51IiwiaGlkZUNvbnRleHQiLCJzdG9wUHJvcGFnYXRpb24iLCJfQ29udGV4dE1lbnVJdGVtIiwib25LZXlEb3duIiwib25LZXlVcCIsImZvY3VzRmlyc3QiLCJmb2N1cyIsImZvY3VzU2libGluZyIsInBhcmVudCIsInBhcmVudE5vZGUiLCJjbG9zZXN0U2libGluZ1NlbGVjdG9yIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJzdHJpbmdfaWQiLCJDb250ZXh0TWVudUl0ZW0iLCJfT3BlbkluUHJpdmF0ZVdpbmRvdyIsIk9QRU5fUFJJVkFURV9XSU5ET1ciLCJyZWZlcnJlciIsIlNlcGFyYXRvciIsIkVtcHR5SXRlbSIsIlNob3dQcml2YWN5SW5mbyIsIlNIT1dfUFJJVkFDWV9JTkZPIiwiQWJvdXRTcG9uc29yZWQiLCJBQk9VVF9TUE9OU09SRURfVE9QX1NJVEVTIiwiUmVtb3ZlQm9va21hcmsiLCJERUxFVEVfQk9PS01BUktfQllfSUQiLCJib29rbWFya0d1aWQiLCJBZGRCb29rbWFyayIsIkJPT0tNQVJLX1VSTCIsIk9wZW5Jbk5ld1dpbmRvdyIsIk9QRU5fTkVXX1dJTkRPVyIsInR5cGVkQm9udXMiLCJCbG9ja1VybCIsIkJsb2NrVXJscyIsInRpbGVzIiwicG9zIiwiQkxPQ0tfVVJMIiwib3JpZ2luYWxfdXJsIiwib3Blbl91cmwiLCJwb2NrZXRfaWQiLCJpc1Nwb25zb3JlZFRvcFNpdGUiLCJmbGlnaHRfaWQiLCJibG9jayIsImd1aWQiLCJzaGltIiwiZGVsZXRlIiwiV2ViRXh0RGlzbWlzcyIsIldFQkVYVF9ESVNNSVNTIiwiRGVsZXRlVXJsIiwiaXNFbmFibGVkIiwiRElBTE9HX09QRU4iLCJERUxFVEVfSElTVE9SWV9VUkwiLCJmb3JjZUJsb2NrIiwiU2hvd0ZpbGUiLCJTSE9XX0RPV05MT0FEX0ZJTEUiLCJPcGVuRmlsZSIsIk9QRU5fRE9XTkxPQURfRklMRSIsIkNvcHlEb3dubG9hZExpbmsiLCJDT1BZX0RPV05MT0FEX0xJTksiLCJHb1RvRG93bmxvYWRQYWdlIiwiT1BFTl9MSU5LIiwiUmVtb3ZlRG93bmxvYWQiLCJSRU1PVkVfRE9XTkxPQURfRklMRSIsIlBpblRvcFNpdGUiLCJUT1BfU0lURVNfUElOIiwiVW5waW5Ub3BTaXRlIiwiVE9QX1NJVEVTX1VOUElOIiwiU2F2ZVRvUG9ja2V0IiwiU0FWRV9UT19QT0NLRVQiLCJwb2NrZXQiLCJzYXZlIiwiRGVsZXRlRnJvbVBvY2tldCIsIkRFTEVURV9GUk9NX1BPQ0tFVCIsIkFyY2hpdmVGcm9tUG9ja2V0IiwiQVJDSElWRV9GUk9NX1BPQ0tFVCIsIkVkaXRUb3BTaXRlIiwiVE9QX1NJVEVTX0VESVQiLCJDaGVja0Jvb2ttYXJrIiwiQ2hlY2tQaW5Ub3BTaXRlIiwiaXNQaW5uZWQiLCJDaGVja1NhdmVkVG9Qb2NrZXQiLCJDaGVja0Jvb2ttYXJrT3JBcmNoaXZlIiwiQ2hlY2tBcmNoaXZlRnJvbVBvY2tldCIsIkNoZWNrRGVsZXRlRnJvbVBvY2tldCIsIk9wZW5JblByaXZhdGVXaW5kb3ciLCJDb250ZXh0TWVudUJ1dHRvbiIsInNob3dDb250ZXh0TWVudSIsImNvbnRleHRNZW51S2V5Ym9hcmQiLCJvcGVuQ29udGV4dE1lbnUiLCJpc0tleUJvYXJkIiwidG9vbHRpcEFyZ3MiLCJ0b29sdGlwIiwicmVmRnVuY3Rpb24iLCJJTlRFUlNFQ1RJT05fUkFUSU8iLCJfbmVlZHNJbXByZXNzaW9uU3RhdHMiLCJjYXJkcyIsImltcHJlc3Npb25DYXJkR3VpZHMiLCJfZGlzcGF0Y2hJbXByZXNzaW9uU3RhdHMiLCJyb3dzIiwiZmxpZ2h0SWQiLCJESVNDT1ZFUllfU1RSRUFNX1NQT0NfSU1QUkVTU0lPTiIsInRvVXBwZXJDYXNlIiwiX25lZWRzTG9hZGVkQ29udGVudCIsImxvYWRlZENvbnRlbnRHdWlkcyIsIl9kaXNwYXRjaExvYWRlZENvbnRlbnQiLCJzZXRJbXByZXNzaW9uT2JzZXJ2ZXJPckFkZExpc3RlbmVyIiwic2V0SW1wcmVzc2lvbk9ic2VydmVyIiwiX2hhbmRsZUludGVyc2VjdCIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJpbnRlcnNlY3Rpb25SYXRpbyIsImltcHJlc3Npb25PYnNlcnZlciIsInVub2JzZXJ2ZSIsInRocmVzaG9sZCIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwib2JzZXJ2ZSIsIlNhZmVBbmNob3IiLCJhbHRLZXkiLCJjdXJyZW50VGFyZ2V0Iiwib25MaW5rQ2xpY2siLCJzYWZlVVJJIiwicHJvdG9jb2wiLCJpc0FsbG93ZWQiLCJ3YXJuIiwiY2FyZENvbnRleHRUeXBlcyIsImhpc3RvcnkiLCJmbHVlbnRJRCIsInJlbW92ZWRCb29rbWFyayIsImJvb2ttYXJrIiwidHJlbmRpbmciLCJkb3dubG9hZCIsIkZsdWVudE9yVGV4dCIsImNoaWxkIiwiQ2hpbGRyZW4iLCJvbmx5IiwiZ3JhbmRDaGlsZHJlbiIsIkNvbGxlY3Rpb25DYXJkR3JpZCIsIm9uRGlzbWlzc0NsaWNrIiwiZGlzbWlzc2VkIiwiaXRlbSIsImJsb2NrVXJsT3B0aW9uIiwiZGlzbWlzc2libGUiLCJzcG9uc29yZWRfYnlfb3ZlcnJpZGUiLCJzcG9uc29yIiwic3BvbnNvcmVkQnlNZXNzYWdlIiwicmVjc0RhdGEiLCJjb2xsZWN0aW9uR3JpZCIsIkRTRGlzbWlzcyIsIm9uSG92ZXIiLCJvZmZIb3ZlciIsImhvdmVyaW5nIiwiZXh0cmFDbGFzc2VzIiwiX0NvbGxhcHNpYmxlU2VjdGlvbiIsIm9uQm9keU1vdW50Iiwib25NZW51QnV0dG9uTW91c2VFbnRlciIsIm9uTWVudUJ1dHRvbk1vdXNlTGVhdmUiLCJvbk1lbnVVcGRhdGUiLCJtZW51QnV0dG9uSG92ZXIiLCJzZXRDb250ZXh0TWVudUJ1dHRvblJlZiIsImVsZW1lbnQiLCJjb250ZXh0TWVudUJ1dHRvblJlZiIsIm5vZGUiLCJzZWN0aW9uQm9keSIsImlzQW5pbWF0aW5nIiwibWF4SGVpZ2h0IiwiYWN0aXZlIiwiYm9keVN0eWxlIiwiZGlzcGxheSIsInRpdGxlU3R5bGUiLCJoaWRlVGl0bGUiLCJ2aXNpYmlsaXR5IiwiaGFzU3VidGl0bGVDbGFzc05hbWUiLCJDb2xsYXBzaWJsZVNlY3Rpb24iLCJFcnJvckJvdW5kYXJ5RmFsbGJhY2siLCJyZWxvYWQiLCJkZWZhdWx0Q2xhc3MiLCJFcnJvckJvdW5kYXJ5IiwiaGFzRXJyb3IiLCJjb21wb25lbnREaWRDYXRjaCIsIkZhbGxiYWNrQ29tcG9uZW50IiwiQTExeUxpbmtCdXR0b24iLCJEU01lc3NhZ2UiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJEU1ByaXZhY3lNb2RhbCIsImNsb3NlTW9kYWwiLCJvbkxlYXJuTGlua0NsaWNrIiwib25NYW5hZ2VMaW5rQ2xpY2siLCJNb2RhbE92ZXJsYXlXcmFwcGVyIiwib25DbG9zZSIsInVuc3R5bGVkIiwiaW5uZXJDbGFzc05hbWUiLCJoZWFkZXJJZCIsIkRTU2lnbnVwIiwibGFzdEl0ZW0iLCJvbk1lbnVCdXR0b25VcGRhdGUiLCJvbk1lbnVTaG93IiwibmV4dEFuaW1hdGlvbkZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2Nyb2xsTWF4WCIsImNsaWNrIiwiZXhjZXJwdCIsIlNJR05VUF9DT05URVhUX01FTlVfT1BUSU9OUyIsIkRTVGV4dFByb21vIiwic3BvY0RhdGEiLCJpbWFnZV9zcmMiLCJyYXdfaW1hZ2Vfc3JjIiwiY3RhIiwiX0hpZ2hsaWdodHMiLCJIaWdobGlnaHRzIiwiQ0FSRFNfUEVSX1JPV19ERUZBVUxUIiwiQ0FSRFNfUEVSX1JPV19DT01QQUNUX1dJREUiLCJTZWN0aW9uIiwibnVtUm93cyIsInJvd3NQcmVmIiwibWF4Um93cyIsImNhcmRzUGVyUm93IiwiY29tcGFjdENhcmRzIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJtYXhDYXJkcyIsIm5lZWRzSW1wcmVzc2lvblN0YXRzIiwic2VuZEltcHJlc3Npb25TdGF0c09yQWRkTGlzdGVuZXIiLCJzZW5kTmV3VGFiUmVoeWRyYXRlZCIsIndhc0NvbGxhcHNlZCIsInJlbmRlck5vdGlmaWVkIiwiTkVXX1RBQl9SRUhZRFJBVEVEIiwiUG9ja2V0IiwidG9waWNzIiwiZW1wdHlTdGF0ZSIsInJlYWRfbW9yZV9lbmRwb2ludCIsImNvbnRleHRNZW51T3B0aW9ucyIsImlzRmlyc3QiLCJpc0xhc3QiLCJ3YWl0aW5nRm9yU3BvYyIsIm1heENhcmRzUGVyUm93IiwibWF4Q2FyZHNPbk5hcnJvdyIsInBvY2tldEN0YSIsImlzVXNlckxvZ2dlZEluIiwidXNlQ3RhIiwiaXNQb2NrZXRMb2dnZWRJbkRlZmluZWQiLCJoYXNUb3BpY3MiLCJzaG91bGRTaG93UG9ja2V0Q3RhIiwic2hvdWxkU2hvd1RvcGljcyIsInNob3VsZFNob3dSZWFkTW9yZSIsInJlYWxSb3dzIiwic2hvdWxkU2hvd0VtcHR5U3RhdGUiLCJ1c2VQbGFjZWhvbGRlciIsImlzV2ViRXh0ZW5zaW9uIiwic2VjdGlvbkNsYXNzTmFtZSIsImlzRml4ZWQiLCJwYWRkaW5nIiwiU2VjdGlvbkludGwiLCJfU2VjdGlvbnMiLCJyZW5kZXJTZWN0aW9ucyIsInNlY3Rpb25zIiwic2VjdGlvbk9yZGVyIiwic2hvd1RvcFNpdGVzIiwiZXhwZWN0ZWRDb3VudCIsInNlY3Rpb25JZCIsImNvbW1vblByb3BzIiwiZ0ltYWdlTG9hZGluZyIsIk1hcCIsIl9DYXJkIiwiYWN0aXZlQ2FyZCIsImltYWdlTG9hZGVkIiwiY2FyZEltYWdlIiwibWF5YmVMb2FkSW1hZ2UiLCJpbWFnZVVybCIsImhhcyIsImxvYWRlclByb21pc2UiLCJyZWplY3QiLCJsb2FkZXIiLCJJbWFnZSIsInNyYyIsInNldCIsImNhdGNoIiwiZXgiLCJTY3JlZW5zaG90VXRpbHMiLCJpc1JlbW90ZUltYWdlTG9jYWwiLCJpbWFnZSIsImdldE5leHRTdGF0ZUZyb21Qcm9wcyIsImltYWdlSW5TdGF0ZSIsIm5leHRTdGF0ZSIsIm1heWJlUmV2b2tlQmxvYk9iamVjdFVSTCIsImNyZWF0ZUxvY2FsSW1hZ2VPYmplY3QiLCJpc09wZW4iLCJfZ2V0VGVsZW1ldHJ5SW5mbyIsImNhcmRfdHlwZSIsIldFQkVYVF9DTElDSyIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJob3N0bmFtZSIsImlzQ29udGV4dE1lbnVPcGVuIiwiaGFzSW1hZ2UiLCJpbWFnZVN0eWxlIiwicGxhY2Vob2xkZXIiLCJkZXNjcmlwdGlvbiIsIkNhcmQiLCJQbGFjZWhvbGRlckNhcmQiLCJpc0Jsb2IiLCJpc0xvY2FsIiwicGF0aCIsInJlbW90ZUltYWdlIiwiY3JlYXRlT2JqZWN0VVJMIiwibG9jYWxJbWFnZSIsInJldm9rZU9iamVjdFVSTCIsIlJFQ09SREVEX1NFQ1RJT05TIiwiQ29tcG9uZW50UGVyZlRpbWVyIiwiQ29tcG9uZW50IiwicGVyZlN2YyIsIl9zZW5kQmFkU3RhdGVFdmVudCIsIl9zZW5kUGFpbnRlZEV2ZW50IiwiX3JlcG9ydE1pc3NpbmdEYXRhIiwiX3RpbWVzdGFtcEhhbmRsZWQiLCJfcmVjb3JkZWRGaXJzdFJlbmRlciIsIl9tYXliZVNlbmRQYWludGVkRXZlbnQiLCJfYWZ0ZXJGcmFtZVBhaW50IiwiY2FsbGJhY2siLCJfbWF5YmVTZW5kQmFkU3RhdGVFdmVudCIsIl9lbnN1cmVGaXJzdFJlbmRlclRzUmVjb3JkZWQiLCJtYXJrIiwiZGF0YVJlYWR5S2V5IiwiZmlyc3RSZW5kZXJLZXkiLCJwYXJzZUludCIsImdldE1vc3RSZWNlbnRBYnNNYXJrU3RhcnRCeU5hbWUiLCJTQVZFX1NFU1NJT05fUEVSRl9EQVRBIiwidXNhYmxlUGVyZk9iaiIsInBlcmZvcm1hbmNlIiwiX1BlcmZTZXJ2aWNlIiwicGVyZm9ybWFuY2VPYmoiLCJfcGVyZiIsInN0ciIsImdldEVudHJpZXNCeU5hbWUiLCJ0aW1lT3JpZ2luIiwiYWJzTm93IiwibW9zdFJlY2VudEVudHJ5Iiwic3RhcnRUaW1lIiwicGVyZlNlcnZpY2UiLCJNb3JlUmVjb21tZW5kYXRpb25zIiwiX1BvY2tldExvZ2dlZEluQ3RhIiwiY3RhVXJsIiwiY3RhQnV0dG9uIiwiY3RhVGV4dCIsIlBvY2tldExvZ2dlZEluQ3RhIiwiVG9waWMiLCJUb3BpY3MiLCJ0IiwidG9wU2l0ZUljb25UeXBlIiwiY3VzdG9tU2NyZWVuc2hvdFVSTCIsInRpcHB5VG9wSWNvbiIsImZhdmljb25SZWYiLCJmYXZpY29uU2l6ZSIsIk1JTl9SSUNIX0ZBVklDT05fU0laRSIsInNjcmVlbnNob3QiLCJjb3VudFRvcFNpdGVzSWNvbnNUeXBlcyIsImNvdW50VG9wU2l0ZXNUeXBlcyIsImFjYyIsImN1c3RvbV9zY3JlZW5zaG90IiwidGlwcHl0b3AiLCJyaWNoX2ljb24iLCJub19pbWFnZSIsIl9Ub3BTaXRlcyIsIm9uRWRpdEZvcm1DbG9zZSIsIm9uU2VhcmNoU2hvcnRjdXRzRm9ybUNsb3NlIiwiX2Rpc3BhdGNoVG9wU2l0ZXNTdGF0cyIsIl9nZXRWaXNpYmxlVG9wU2l0ZXMiLCJ0b3BTaXRlIiwidG9wU2l0ZXNJY29uc1N0YXRzIiwidG9wU2l0ZXNQaW5uZWQiLCJzZWFyY2hTaG9ydGN1dHMiLCJ0b3BzaXRlc19pY29uX3N0YXRzIiwidG9wc2l0ZXNfcGlubmVkIiwidG9wc2l0ZXNfc2VhcmNoX3Nob3J0Y3V0cyIsInNpdGVzUGVyUm93IiwiVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XIiwiVG9wU2l0ZXMiLCJUb3BTaXRlc1Jvd3MiLCJUT1BfU0lURVNfU09VUkNFIiwiVE9QX1NJVEVTX0NBTkNFTF9FRElUIiwiVE9QX1NJVEVTX0NMT1NFX1NFQVJDSF9TSE9SVENVVFNfTU9EQUwiLCJlZGl0Rm9ybSIsInNob3dTZWFyY2hTaG9ydGN1dHNGb3JtIiwiZXh0cmFNZW51T3B0aW9ucyIsImNvbG9ycyIsIlRvcFNpdGVzV2l0aFNwb2MiLCJUT1BfU0lURVNfQ09OVEVYVF9NRU5VX09QVElPTlMiLCJUT1BfU0lURVNfU1BPQ19DT05URVhUX01FTlVfT1BUSU9OUyIsIlRPUF9TSVRFU19TUE9OU09SRURfUE9TSVRJT05fQ09OVEVYVF9NRU5VX09QVElPTlMiLCJUT1BfU0lURVNfU0VBUkNIX1NIT1JUQ1VUU19DT05URVhUX01FTlVfT1BUSU9OUyIsIk1JTl9TTUFMTF9GQVZJQ09OX1NJWkUiLCJTZWxlY3RhYmxlU2VhcmNoU2hvcnRjdXQiLCJzaG9ydGN1dCIsInNlbGVjdGVkIiwia2V5d29yZCIsIlNlYXJjaFNob3J0Y3V0c0Zvcm0iLCJvbkNhbmNlbEJ1dHRvbkNsaWNrIiwib25TYXZlQnV0dG9uQ2xpY2siLCJzaG9ydGN1dHMiLCJpc1NlbGVjdGVkIiwiZXYiLCJwaW5RdWV1ZSIsInVucGluUXVldWUiLCJhbHJlYWR5UGlubmVkIiwiX3NlYXJjaFRvcFNpdGUiLCJzZWFyY2hWZW5kb3IiLCJzaG9ydFVSTCIsIlVQREFURV9QSU5ORURfU0VBUkNIX1NIT1JUQ1VUUyIsImFkZGVkU2hvcnRjdXRzIiwiZGVsZXRlZFNob3J0Y3V0cyIsInNlYXJjaF92ZW5kb3IiLCJTUE9DX1RZUEUiLCJORVdUQUJfU09VUkNFIiwiVG9wU2l0ZUxpbmsiLCJzY3JlZW5zaG90SW1hZ2UiLCJvbkRyYWdFdmVudCIsIm9uS2V5UHJlc3MiLCJfYWxsb3dEcm9wIiwiZHJhZ2dlZCIsImRhdGFUcmFuc2ZlciIsInR5cGVzIiwiYmx1ciIsImVmZmVjdEFsbG93ZWQiLCJnZW5lcmF0ZUNvbG9yIiwiY29sb3JBcnJheSIsImhhc2hTdHIiLCJjaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJjYWxjdWxhdGVTdHlsZSIsImRlZmF1bHRTdHlsZSIsImltYWdlQ2xhc3NOYW1lIiwic2hvd1NtYWxsRmF2aWNvbiIsInNtYWxsRmF2aWNvblN0eWxlIiwiaGFzU2NyZWVuc2hvdEltYWdlIiwic2VsZWN0ZWRDb2xvciIsImJhY2tncm91bmRDb2xvciIsInNwb2NJbWdVUkwiLCJmYXZpY29uIiwiaXNEcmFnZ2FibGUiLCJ0b3BTaXRlT3V0ZXJDbGFzc05hbWUiLCJpc0RyYWdnZWQiLCJsZXR0ZXJGYWxsYmFjayIsImRyYWdnYWJsZVByb3BzIiwib25EcmFnRW5kIiwib25EcmFnU3RhcnQiLCJvbk1vdXNlRG93biIsInNob3dfc3BvbnNvcmVkX2xhYmVsIiwicG9zaXRpb24iLCJ0aWxlX2lkIiwic3BvbnNvcmVkX3RpbGVfaWQiLCJyZXBvcnRpbmdfdXJsIiwic3BvbnNvcmVkX2ltcHJlc3Npb25fdXJsIiwiYWR2ZXJ0aXNlciIsInRvTG9jYWxlTG93ZXJDYXNlIiwiVG9wU2l0ZSIsImljb25fdHlwZSIsImljb25UeXBlIiwic2VuZEF0dHJpYnV0aW9uUmVxdWVzdCIsIlBBUlRORVJfTElOS19BVFRSSUJVVElPTiIsInRhcmdldFVSTCIsIlRPUF9TSVRFU19JTVBSRVNTSU9OX1NUQVRTIiwic3BvbnNvcmVkX2NsaWNrX3VybCIsIkZJTExfU0VBUkNIX1RFUk0iLCJvbkFjdGl2YXRlIiwiYWN0aXZlSW5kZXgiLCJtZW51T3B0aW9ucyIsIlRvcFNpdGVQbGFjZWhvbGRlciIsIm9uRWRpdEJ1dHRvbkNsaWNrIiwiVG9wU2l0ZUxpc3QiLCJERUZBVUxUX1NUQVRFIiwiZHJhZ2dlZEluZGV4IiwiZHJhZ2dlZFNpdGUiLCJkcmFnZ2VkVGl0bGUiLCJ0b3BTaXRlc1ByZXZpZXciLCJwcmV2VG9wU2l0ZXMiLCJuZXdUb3BTaXRlcyIsImRyb3BwZWQiLCJfbWFrZVRvcFNpdGVzUHJldmlldyIsIlRPUF9TSVRFU19JTlNFUlQiLCJkcmFnZ2VkRnJvbUluZGV4IiwiX2dldFRvcFNpdGVzIiwicHJldmlldyIsInVucGlubmVkIiwic2l0ZVRvSW5zZXJ0IiwiaG9sZUluZGV4IiwiaW5kZXhTdGVwIiwic2hpZnRpbmdTdGVwIiwibmV4dEluZGV4Iiwic2hpZnQiLCJ0b3BTaXRlc1VJIiwibWF4TmFycm93VmlzaWJsZUluZGV4IiwibCIsInNsb3RQcm9wcyIsIlRvcFNpdGVJbXByZXNzaW9uV3JhcHBlciIsInRpbGUiLCJ0b3BzaXRlX2ltcHJlc3Npb25fd3JhcHBlciIsIkhvcml6b250YWxSdWxlIiwidG9waWMiLCJ0ZXh0IiwidG9Mb3dlckNhc2UiLCJOYXZpZ2F0aW9uIiwiZW5nbGlzaCIsInByaXZhY3lOb3RpY2UiLCJQcml2YWN5TGluayIsIlNlY3Rpb25UaXRsZSIsInNwb2NJbmRleFBsYWNlbWVudE1hcCIsImZpbGxTcG9jUG9zaXRpb25zRm9yUGxhY2VtZW50Iiwic3BvY3NDb25maWciLCJwbGFjZW1lbnROYW1lIiwicmVzdWx0cyIsImJsb2NrZWQiLCJEU19DT01QT05FTlRTIiwiZmlsdGVyQXJyYXkiLCJwbGFjZWhvbGRlckNvbXBvbmVudCIsImhhbmRsZVNwb2NzIiwibG9hZGVkIiwiaGFuZGxlQ29tcG9uZW50IiwiaGFuZGxlQ29tcG9uZW50V2l0aEZlZWQiLCJvZmZzZXQiLCJtaW4iLCJyZW5kZXJlZExheW91dEFycmF5IiwiYyIsImdldEZpcnN0QXZhaWxhYmxlU3BvYyIsInVzZXJUb3BTaXRlcyIsIlNldCIsImRvbWFpbiIsImdldEZpcnN0QXZhaWxhYmxlSW5kZXgiLCJmaW5kSW5kZXgiLCJlbmRPZlJvdyIsImluc2VydFNwb2NDb250ZW50IiwidG9wU2l0ZVNwb2MiLCJmaXJzdEF2YWlsYWJsZUluZGV4Iiwic2hpZnRlZFRvcFNpdGUiLCJuZXh0VG9wU2l0ZSIsIl9TZWFyY2giLCJvblNlYXJjaENsaWNrIiwib25TZWFyY2hIYW5kb2ZmQ2xpY2siLCJvblNlYXJjaEhhbmRvZmZQYXN0ZSIsIm9uU2VhcmNoSGFuZG9mZkRyb3AiLCJvbklucHV0TW91bnQiLCJvbklucHV0TW91bnRIYW5kb2ZmIiwib25TZWFyY2hIYW5kb2ZmQnV0dG9uTW91bnQiLCJoYW5kbGVFdmVudCIsImdDb250ZW50U2VhcmNoQ29udHJvbGxlciIsInNlYXJjaCIsImRvU2VhcmNoSGFuZG9mZiIsIkhBTkRPRkZfU0VBUkNIX1RPX0FXRVNPTUVCQVIiLCJGQUtFX0ZPQ1VTX1NFQVJDSCIsIkRJU0FCTEVfU0VBUkNIIiwiZ2V0RGF0YSIsImlucHV0IiwiaGVhbHRoUmVwb3J0S2V5Iiwic2VhcmNoU291cmNlIiwiQ29udGVudFNlYXJjaFVJQ29udHJvbGxlciIsIl9oYW5kb2ZmU2VhcmNoQ29udHJvbGxlciIsIkNvbnRlbnRTZWFyY2hIYW5kb2ZmVUlDb250cm9sbGVyIiwiZ2V0RGVmYXVsdEVuZ2luZU5hbWUiLCJnZXRIYW5kb2ZmSW5wdXRMMTBuQXR0cmlidXRlcyIsImRlZmF1bHRFbmdpbmVOYW1lIiwiZ2V0SGFuZG9mZlRleHRMMTBuQXR0cmlidXRlcyIsIl9zZWFyY2hIYW5kb2ZmQnV0dG9uIiwid3JhcHBlckNsYXNzTmFtZSIsImRpc2FibGUiLCJmYWtlRm9jdXMiLCJzaG93TG9nbyIsImhhbmRvZmZFbmFibGVkIiwiX3N0b3JlIiwiX3BlcmZTZXJ2aWNlIiwiX3NlbmRFdmVudCIsInZpc2liaWxpdHlfZXZlbnRfcmN2ZF90cyIsIk1FUkdFX1NUT1JFX0FDVElPTiIsIk9VVEdPSU5HX01FU1NBR0VfTkFNRSIsIklOQ09NSU5HX01FU1NBR0VfTkFNRSIsIkVBUkxZX1FVRVVFRF9BQ1RJT05TIiwibWVyZ2VTdGF0ZVJlZHVjZXIiLCJtYWluUmVkdWNlciIsIm1lc3NhZ2VNaWRkbGV3YXJlIiwibmV4dCIsImF1IiwiUlBNU2VuZEFzeW5jTWVzc2FnZSIsInJlaHlkcmF0aW9uTWlkZGxld2FyZSIsImRpZFJlaHlkcmF0ZSIsImRpZFJlcXVlc3RJbml0aWFsU3RhdGUiLCJfX0ZST01fU1RBUlRVUF9DQUNIRV9fIiwiaXNTdGFydHVwIiwiaXNNZXJnZVN0b3JlQWN0aW9uIiwiaXNSZWh5ZHJhdGlvblJlcXVlc3QiLCJJTklUIiwicXVldWVFYXJseU1lc3NhZ2VNaWRkbGV3YXJlIiwiZWFybHlBY3Rpb25RdWV1ZSIsInJlY2VpdmVkRnJvbU1haW4iLCJjcmVhdGVTdG9yZSIsImNvbWJpbmVSZWR1Y2VycyIsIlJQTUFkZE1lc3NhZ2VMaXN0ZW5lciIsImFwcGx5TWlkZGxld2FyZSIsImR1bXAiLCJzdGFjayIsIlJlYWN0TG9jYWxpemF0aW9uIiwiYnVuZGxlcyIsIkNhY2hlZFN5bmNJdGVyYWJsZSIsInN1YnMiLCJzdWJzY3JpYmUiLCJjb21wIiwidW5zdWJzY3JpYmUiLCJzZXRCdW5kbGVzIiwicmVsb2NhbGl6ZSIsImdldEJ1bmRsZSIsIm1hcEJ1bmRsZVN5bmMiLCJnZXRTdHJpbmciLCJmYWxsYmFjayIsImdldE1lc3NhZ2UiLCJmb3JtYXQiLCJpc1JlYWN0TG9jYWxpemF0aW9uIiwicHJvcE5hbWUiLCJwcm9wIiwiY2FjaGVkUGFyc2VNYXJrdXAiLCJjcmVhdGVQYXJzZU1hcmt1cCIsImNyZWF0ZUVsZW1lbnQiLCJwYXJzZU1hcmt1cCIsImlubmVySFRNTCIsImNoaWxkTm9kZXMiLCJMb2NhbGl6YXRpb25Qcm92aWRlciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibDEwbiIsImdldENoaWxkQ29udGV4dCIsImNoaWxkQ29udGV4dFR5cGVzIiwiUHJvcFR5cGVzIiwicHJvcFR5cGVzIiwiaXNSZXF1aXJlZCIsImlzSXRlcmFibGUiLCJjb21wb25lbnROYW1lIiwid2l0aExvY2FsaXphdGlvbiIsIklubmVyIiwiV2l0aExvY2FsaXphdGlvbiIsImZvcmNlVXBkYXRlIiwiZGlzcGxheU5hbWUiLCJjb250ZXh0VHlwZXMiLCJvbWl0dGVkQ2xvc2VUYWdzIiwiYXJlYSIsImJhc2UiLCJiciIsImNvbCIsImVtYmVkIiwiaHIiLCJrZXlnZW4iLCJ0cmFjayIsIndiciIsInZvaWRFbGVtZW50VGFncyIsIm1lbnVpdGVtIiwicmVNYXJrdXAiLCJ0b0FyZ3VtZW50cyIsImVsZW1zIiwicHJvcG5hbWUiLCJwcm9wdmFsIiwic3Vic3RyIiwiaXNWYWxpZEVsZW1lbnQiLCJMb2NhbGl6ZWQiLCJhdHRycyIsImVsZW0iLCJpc0FycmF5IiwibWVzc2FnZVZhbHVlIiwibG9jYWxpemVkUHJvcHMiLCJhbGxvd2VkIiwiaGFzT3duUHJvcGVydHkiLCJWT0lEX0VMRU1FTlRTIiwidGVzdCIsInRyYW5zbGF0aW9uTm9kZXMiLCJ0cmFuc2xhdGVkQ2hpbGRyZW4iLCJjaGlsZE5vZGUiLCJub2RlVHlwZSIsIlRFWFRfTk9ERSIsInRleHRDb250ZW50IiwibG9jYWxOYW1lIiwic291cmNlQ2hpbGQiLCJBTExPV0VEX1NUWUxFX1RBR1MiLCJCdXR0b24iLCJ0YWciLCJDb25kaXRpb25hbFdyYXBwZXIiLCJjb25kaXRpb24iLCJ3cmFwIiwiQUxMT1dFRF9UQUdTIiwidSIsInN0cm9uZyIsImVtIiwiY29udmVydExpbmtzIiwiZG9Ob3RBdXRvQmxvY2siLCJvcGVuTmV3V2luZG93IiwibGlua1RhZyIsIlJpY2hUZXh0IiwiUklDSF9URVhUX0tFWVMiLCJsb2NhbGl6YXRpb25faWQiLCJjdXN0b21FbGVtZW50cyIsIlNuaXBwZXRCYXNlIiwib25CbG9ja0NsaWNrZWQiLCJvbkRpc21pc3NDbGlja2VkIiwic2V0QmxvY2tCdXR0b25SZWYiLCJvbkJsb2NrQnV0dG9uTW91c2VFbnRlciIsIm9uQmxvY2tCdXR0b25Nb3VzZUxlYXZlIiwiYmxvY2tCdXR0b25Ib3ZlciIsImJsb2NrQnV0dG9uUmVmIiwiVUlTdXJmYWNlIiwib25CbG9jayIsInJlbmRlckRpc21pc3NCdXR0b24iLCJmb290ZXJEaXNtaXNzIiwic2NlbmUyX2Rpc21pc3NfYnV0dG9uX3RleHQiLCJibG9ja19idXR0b25fdGV4dCIsImNvbnRhaW5lckNsYXNzTmFtZSIsInRleHRTdHlsZSIsIkRFRkFVTFRfSUNPTl9QQVRIIiwiSUNPTl9BTFRfVEVYVCIsIlNpbXBsZVNuaXBwZXQiLCJvbkJ1dHRvbkNsaWNrIiwiYnV0dG9uX3VybCIsImJ1dHRvbl9lbnRyeXBvaW50X3ZhbHVlIiwiYnV0dG9uX2VudHJ5cG9pbnRfbmFtZSIsIm9uQWN0aW9uIiwiYnV0dG9uX2FjdGlvbl9hcmdzIiwiX3Nob3VsZFJlbmRlckJ1dHRvbiIsInJlbmRlclRpdGxlIiwicmVuZGVyVGl0bGVJY29uIiwidGl0bGVJY29uTGlnaHQiLCJ0aXRsZV9pY29uIiwidGl0bGVJY29uRGFyayIsInRpdGxlX2ljb25fZGFya190aGVtZSIsInJlbmRlckJ1dHRvbiIsImJ1dHRvbl9jb2xvciIsImJ1dHRvbl9iYWNrZ3JvdW5kX2NvbG9yIiwiYnV0dG9uX2xhYmVsIiwicmVuZGVyVGV4dCIsIndyYXBTZWN0aW9uSGVhZGVyIiwid3JhcFNuaXBwZXRDb250ZW50IiwicmVuZGVyU2VjdGlvbkhlYWRlciIsInNlY3Rpb25fdGl0bGVfaWNvbiIsInNlY3Rpb25fdGl0bGVfdGV4dCIsInNlY3Rpb25UaXRsZUljb25MaWdodCIsInNlY3Rpb25UaXRsZUljb25EYXJrIiwic2VjdGlvbl90aXRsZV9pY29uX2RhcmtfdGhlbWUiLCJzZWN0aW9uVGl0bGVVUkwiLCJzZWN0aW9uX3RpdGxlX3VybCIsInNlY3Rpb25IZWFkZXIiLCJ0YWxsIiwiaWNvbl9hbHRfdGV4dCIsImljb25fZGFya190aGVtZSIsImV4dHJhQ29udGVudCIsIkVPWVNuaXBwZXRCYXNlIiwiaGFuZGxlU3VibWl0Iiwic2V0RnJlcXVlbmN5VmFsdWUiLCJmcmVxdWVuY3lDaGVja2JveCIsImZvcm0iLCJzdWJtaXQiLCJyZW5kZXJEb25hdGlvbnMiLCJmaWVsZE5hbWVzIiwibnVtYmVyRm9ybWF0IiwiSW50bCIsIk51bWJlckZvcm1hdCIsIm5hdmlnYXRvciIsImxhbmd1YWdlIiwiY3VycmVuY3kiLCJjdXJyZW5jeV9jb2RlIiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwic2VsZWN0ZWRfYnV0dG9uIiwiYnRuU3R5bGUiLCJjb2xvciIsImRvbmF0aW9uVVJMUGFyYW1zIiwicGFyYW1zU3RhcnRJbmRleCIsImRvbmF0aW9uX2Zvcm1fdXJsIiwiZm9ybV9tZXRob2QiLCJpZHgiLCJmaWVsZCIsImJ1dHRvbl9uYW1lIiwiYW1vdW50IiwibW9udGhseV9jaGVja2JveF9sYWJlbF90ZXh0IiwidGV4dF9jb2xvciIsImJhY2tncm91bmRfY29sb3IiLCJjdXN0b21FbGVtZW50IiwiaGlnaGxpZ2h0X2NvbG9yIiwiRU9ZU25pcHBldCIsImV4dGVuZGVkQ29udGVudCIsIlN1Ym1pdEZvcm1TbmlwcGV0IiwiZXhwYW5kU25pcHBldCIsImhhbmRsZVN1Ym1pdEF0dGVtcHQiLCJvbklucHV0Q2hhbmdlIiwiZXhwYW5kZWQiLCJzdWJtaXRBdHRlbXB0ZWQiLCJzaWdudXBTdWJtaXR0ZWQiLCJzaWdudXBTdWNjZXNzIiwiZGlzYWJsZUZvcm0iLCJwcmV2ZW50RGlzbWlzcyIsImZvcm1EYXRhIiwicHJvY2Vzc0Zvcm1EYXRhIiwibWFpbklucHV0IiwiRm9ybURhdGEiLCJmZXRjaFJlcXVlc3QiLCJSZXF1ZXN0IiwibWV0aG9kIiwicmVuZGVySGlkZGVuRm9ybUlucHV0cyIsImhpZGRlbl9pbnB1dHMiLCJyZW5kZXJEaXNjbGFpbWVyIiwic2NlbmUyX2Rpc2NsYWltZXJfaHRtbCIsInJlbmRlckZvcm1Qcml2YWN5Tm90aWNlIiwic2NlbmUyX3ByaXZhY3lfaHRtbCIsInJlbmRlclNpZ251cFN1Ym1pdHRlZCIsImlzU3VjY2VzcyIsInN1Y2Nlc3NUaXRsZSIsInN1Y2Nlc3NfdGl0bGUiLCJib2R5VGV4dCIsInN1Y2Nlc3NfdGV4dCIsImVycm9yX3RleHQiLCJyZXRyeUJ1dHRvblRleHQiLCJyZXRyeV9idXR0b25fbGFiZWwiLCJ2YWxpZGF0ZUlucHV0Iiwic2V0Q3VzdG9tVmFsaWRpdHkiLCJyZW5kZXJJbnB1dCIsInBsYWNob2xkZXIiLCJzY2VuZTJfZW1haWxfcGxhY2Vob2xkZXJfdGV4dCIsInNjZW5lMl9pbnB1dF9wbGFjZWhvbGRlciIsImlucHV0VHlwZSIsInJlbmRlckZvcm0iLCJmb3JtX2FjdGlvbiIsInNjZW5lMl9idXR0b25fbGFiZWwiLCJyZW5kZXJTY2VuZTJJY29uIiwic2NlbmUyX2ljb24iLCJzY2VuZTJfaWNvbl9hbHRfdGV4dCIsInNjZW5lMl9pY29uX2RhcmtfdGhlbWUiLCJyZW5kZXJTaWdudXBWaWV3IiwiY29udGFpbmVyQ2xhc3MiLCJzY2VuZTJfdGl0bGUiLCJzY2VuZTJfdGV4dCIsInJlbmRlclNpZ251cFZpZXdBbHQiLCJnZXRGaXJzdFNjZW5lQ29udGVudCIsImV4cGFuZGVkQWx0IiwiRlhBU2lnbnVwU25pcHBldCIsInVzZXJBZ2VudCIsImZpcmVmb3hfdmVyc2lvbiIsInNjZW5lMV9idXR0b25fbGFiZWwiLCJ1dG1fc291cmNlIiwidXRtX2NvbnRlbnQiLCJ1dG1fY2FtcGFpZ24iLCJ1dG1fdGVybSIsIk5ld3NsZXR0ZXJTbmlwcGV0Iiwic2NlbmUyX25ld3NsZXR0ZXIiLCJuZXdzbGV0dGVycyIsImZtdCIsImxhbmciLCJzb3VyY2VfdXJsIiwiaXNFbWFpbE9yUGhvbmVOdW1iZXIiLCJ2YWwiLCJlbWFpbF9yZSIsImNoZWNrX2VtYWlsIiwiY2hlY2tfcGhvbmUiLCJpc05hTiIsImluY2x1ZGVfc21zIiwibWVzc2FnZV9pZF9zbXMiLCJjb3VudHJ5IiwibWVzc2FnZV9pZF9lbWFpbCIsImFkZERlZmF1bHRWYWx1ZXMiLCJTZW5kVG9EZXZpY2VTbmlwcGV0IiwicHJvcHNXaXRoRGVmYXVsdHMiLCJTZW5kVG9EZXZpY2VTY2VuZTJTbmlwcGV0IiwiU2ltcGxlQmVsb3dTZWFyY2hTbmlwcGV0IiwiY29udGFpbmVyTmFtZSIsInNpbXBsZV9zbmlwcGV0IiwibmV3c2xldHRlcl9zbmlwcGV0IiwiZnhhX3NpZ251cF9zbmlwcGV0Iiwic2VuZF90b19kZXZpY2Vfc25pcHBldCIsInNlbmRfdG9fZGV2aWNlX3NjZW5lMl9zbmlwcGV0IiwiZW95X3NuaXBwZXQiLCJzaW1wbGVfYmVsb3dfc2VhcmNoX3NuaXBwZXQiLCJGbHVlbnRUeXBlIiwib3B0cyIsInZhbHVlT2YiLCJGbHVlbnROb25lIiwiRmx1ZW50TnVtYmVyIiwicGFyc2VGbG9hdCIsIm5mIiwiX21lbW9pemVJbnRsT2JqZWN0IiwiRmx1ZW50RGF0ZVRpbWUiLCJkdGYiLCJEYXRlVGltZUZvcm1hdCIsIm1lcmdlIiwiYXJnb3B0cyIsInVud3JhcHBlZCIsIm9wdCIsIk5VTUJFUiIsImFyZyIsIkRBVEVUSU1FIiwiTUFYX1BMQUNFQUJMRV9MRU5HVEgiLCJGU0kiLCJQREkiLCJjYXRlZ29yeSIsIlBsdXJhbFJ1bGVzIiwic2VsZWN0IiwiZ2V0RGVmYXVsdCIsInNjb3BlIiwidmFyaWFudHMiLCJzdGFyIiwiVHlwZSIsIlJhbmdlRXJyb3IiLCJnZXRBcmd1bWVudHMiLCJwb3NpdGlvbmFsIiwibmFtZWQiLCJleHByIiwiX3RyYW5zZm9ybSIsIlBhdHRlcm4iLCJwcmVjaXNpb24iLCJWYXJpYWJsZVJlZmVyZW5jZSIsIk1lc3NhZ2VSZWZlcmVuY2UiLCJUZXJtUmVmZXJlbmNlIiwiRnVuY3Rpb25SZWZlcmVuY2UiLCJTZWxlY3RFeHByZXNzaW9uIiwiaW5zaWRlVGVybVJlZmVyZW5jZSIsIlJlZmVyZW5jZUVycm9yIiwiVHlwZUVycm9yIiwiYXR0ciIsIl9tZXNzYWdlcyIsImF0dHJpYnV0ZSIsInRlcm0iLCJfdGVybXMiLCJrZXlhcmdzIiwibG9jYWwiLCJfZnVuY3Rpb25zIiwiYnVpbHRpbnMiLCJzZWwiLCJ2YXJpYW50IiwicHRuIiwiZGlydHkiLCJ1c2VJc29sYXRpbmciLCJfdXNlSXNvbGF0aW5nIiwicGFydCIsIldlYWtTZXQiLCJGbHVlbnRFcnJvciIsIlJFX01FU1NBR0VfU1RBUlQiLCJSRV9BVFRSSUJVVEVfU1RBUlQiLCJSRV9WQVJJQU5UX1NUQVJUIiwiUkVfTlVNQkVSX0xJVEVSQUwiLCJSRV9JREVOVElGSUVSIiwiUkVfUkVGRVJFTkNFIiwiUkVfRlVOQ1RJT05fTkFNRSIsIlJFX1RFWFRfUlVOIiwiUkVfU1RSSU5HX1JVTiIsIlJFX1NUUklOR19FU0NBUEUiLCJSRV9VTklDT0RFX0VTQ0FQRSIsIlJFX0xFQURJTkdfTkVXTElORVMiLCJSRV9UUkFJTElOR19TUEFDRVMiLCJSRV9CTEFOS19MSU5FUyIsIlJFX0lOREVOVCIsIlRPS0VOX0JSQUNFX09QRU4iLCJUT0tFTl9CUkFDRV9DTE9TRSIsIlRPS0VOX0JSQUNLRVRfT1BFTiIsIlRPS0VOX0JSQUNLRVRfQ0xPU0UiLCJUT0tFTl9QQVJFTl9PUEVOIiwiVE9LRU5fQVJST1ciLCJUT0tFTl9DT0xPTiIsIlRPS0VOX0NPTU1BIiwiVE9LRU5fQkxBTksiLCJNQVhfUExBQ0VBQkxFUyIsIkZsdWVudFJlc291cmNlIiwiZnJvbVN0cmluZyIsImxhc3RJbmRleCIsInJlc291cmNlIiwiY3Vyc29yIiwiZXhlYyIsInBhcnNlTWVzc2FnZSIsInJlIiwiY29uc3VtZUNoYXIiLCJjaGFyIiwiZXJyb3JDbGFzcyIsImNvbnN1bWVUb2tlbiIsIm1hdGNoMSIsInBhcnNlUGF0dGVybiIsInBhcnNlQXR0cmlidXRlcyIsInBhcnNlUGF0dGVybkVsZW1lbnRzIiwiSW5maW5pdHkiLCJpbmRlbnQiLCJwYXJzZUluZGVudCIsInRyaW0iLCJlbGVtZW50cyIsImNvbW1vbkluZGVudCIsInBsYWNlYWJsZUNvdW50IiwicGFyc2VQbGFjZWFibGUiLCJiYWtlZCIsInBhcnNlSW5saW5lRXhwcmVzc2lvbiIsInBhcnNlVmFyaWFudHMiLCJzaWdpbCIsInBhcnNlQXJndW1lbnRzIiwicGFyc2VMaXRlcmFsIiwicGFyc2VBcmd1bWVudCIsImNvdW50IiwicGFyc2VWYXJpYW50S2V5IiwicGFyc2VOdW1iZXJMaXRlcmFsIiwicGFyc2VTdHJpbmdMaXRlcmFsIiwiZnJhY3Rpb24iLCJwYXJzZUVzY2FwZVNlcXVlbmNlIiwiY29kZXBvaW50NCIsImNvZGVwb2ludDYiLCJjb2RlcG9pbnQiLCJTdHJpbmciLCJmcm9tQ29kZVBvaW50Iiwic3RhcnQiLCJtYWtlSW5kZW50IiwiYmxhbmsiLCJGbHVlbnRCdW5kbGUiLCJsb2NhbGVzIiwiZnVuY3Rpb25zIiwidHJhbnNmb3JtIiwiX2ludGxzIiwiV2Vha01hcCIsImhhc01lc3NhZ2UiLCJhZGRNZXNzYWdlcyIsInJlcyIsImFkZFJlc291cmNlIiwiYWxsb3dPdmVycmlkZXMiLCJjdG9yIiwiY2FjaGUiLCJSSUNIX1RFWFRfQ09ORklHIiwiYW1vX2h0bWwiLCJwcml2YWN5X2h0bWwiLCJkaXNjbGFpbWVyX2h0bWwiLCJhdHRyc1RvVHJ5Iiwic3RyaW5nIiwicG9wIiwiRFNMaW5rTWVudSIsIlRPUF9TVE9SSUVTX0NPTlRFWFRfTUVOVV9PUFRJT05TIiwic2hvd1ByaXZhY3lJbmZvIiwiQU5JTUFUSU9OX0RVUkFUSU9OIiwiRFNNZXNzYWdlTGFiZWwiLCJjb250ZXh0X3R5cGUiLCJkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzIiwiZW5nYWdlbWVudCIsIlN0YXR1c01lc3NhZ2UiLCJTcG9uc29yTGFiZWwiLCJEU0NvbnRleHRGb290ZXIiLCJzcG9uc29yTGFiZWwiLCJkc01lc3NhZ2VMYWJlbCIsIkRTTWVzc2FnZUZvb3RlciIsIlJFQURJTkdfV1BNIiwicmVhZFRpbWVGcm9tV29yZENvdW50Iiwid29yZENvdW50IiwiY2VpbCIsIkRTU291cmNlIiwidGltZVRvUmVhZCIsIkRlZmF1bHRNZXRhIiwiQ1RBQnV0dG9uTWV0YSIsInNwb25zb3JPclNvdXJjZSIsIl9EU0NhcmQiLCJvblNhdmVDbGljayIsInNldENvbnRleHRNZW51QnV0dG9uSG9zdFJlZiIsImNvbnRleHRNZW51QnV0dG9uSG9zdEVsZW1lbnQiLCJzZXRQbGFjZWhvbGRlclJlZiIsInBsYWNlaG9sZGVyRWxlbWVudCIsImlzU2VlbiIsImlzRm9yU3RhcnR1cENhY2hlIiwiZHNJbWFnZVNpemVzIiwiaXNfdmlkZW8iLCJkc0xpbmtNZW51SG9zdERpdiIsInRyYW5zbGF0ZUZyYWdtZW50Iiwib25TZWVuIiwib2JzZXJ2ZXIiLCJsYXN0Q2FyZCIsImlzQnV0dG9uQ1RBIiwiZGlzcGxheVJlYWRUaW1lIiwidGltZV90b19yZWFkIiwid29yZF9jb3VudCIsInZpZGVvQ2FyZENsYXNzTmFtZSIsImNvbXBhY3RJbWFnZXNDbGFzc05hbWUiLCJpbWFnZUdyYWRpZW50Q2xhc3NOYW1lIiwidGl0bGVMaW5lc05hbWUiLCJkZXNjTGluZXNDbGFzc05hbWUiLCJpc19jb2xsZWN0aW9uIiwiY29udGV4dE1lbnVCdXR0b25Ib3N0UmVmIiwiRFNDYXJkIiwiUGxhY2Vob2xkZXJEU0NhcmQiLCJMYXN0Q2FyZE1lc3NhZ2UiLCJEU0VtcHR5U3RhdGUiLCJvblJlc2V0IiwidGltZW91dCIsImNsZWFyVGltZW91dCIsIkRJU0NPVkVSWV9TVFJFQU1fRkVFRF9VUERBVEUiLCJ3YWl0aW5nIiwiRElTQ09WRVJZX1NUUkVBTV9SRVRSWV9GRUVEIiwicmVuZGVyU3RhdGUiLCJDYXJkR3JpZCIsIm1vcmVMb2FkZWQiLCJsb2FkTW9yZUNsaWNrZWQiLCJzaG93TG9hZE1vcmUiLCJsb2FkTW9yZVRocmVzaG9sZCIsInJlbmRlckRTU3ViSGVhZGVyIiwicmVuZGVyQ2FyZHMiLCJzaG93TGFzdENhcmRNZXNzYWdlIiwicmVjcyIsInJlYyIsInZhcmlhbnRDbGFzcyIsImNvbXBhY3RDbGFzcyIsImhpZGVEZXNjcmlwdGlvbnNDbGFzc05hbWUiLCJjb21wYWN0R3JpZENsYXNzTmFtZSIsImlzRW1wdHkiLCJUaGVtZXNTZWN0aW9uIiwiQmFja2dyb3VuZHNTZWN0aW9uIiwiQ29udGVudFNlY3Rpb24iLCJvblByZWZlcmVuY2VTZWxlY3QiLCJpbnB1dFVzZXJFdmVudCIsIm1lbnVfc291cmNlIiwicHJlZk5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJub2RlTmFtZSIsIm1heUhhdmVTcG9uc29yZWRTdG9yaWVzIiwiX0N1c3RvbWl6ZU1lbnUiLCJvbkVudGVyZWQiLCJvbkV4aXRlZCIsImNsb3NlQnV0dG9uIiwib3BlbkJ1dHRvbiIsInNob3dpbmciLCJvbk9wZW4iLCJzaG93X3Nwb2NzIiwiQ3VzdG9taXplTWVudSIsIkRlZHVwZSIsImNyZWF0ZUtleSIsImRlZmF1bHRDcmVhdGVLZXkiLCJnbG9iYWxLZXlzIiwidmFsdWVNYXAiLCJUT1BfU0lURVNfREVGQVVMVF9ST1dTIiwiUFJFRl9DT0xMRUNUSU9OX0RJU01JU1NJQkxFIiwiZGVkdXBlIiwiSU5JVElBTF9TVEFURSIsIkFTUm91dGVyIiwiU25pcHBldHMiLCJmZWF0dXJlQ29uZmlnIiwicGxhY2VtZW50cyIsImhpZGUiLCJBU19ST1VURVJfSU5JVElBTElaRUQiLCJpbnNlcnRQaW5uZWQiLCJwaW5uZWQiLCJwaW5uZWRVcmxzIiwibmV3TGlua3MiLCJwaW5JbmRleCIsImhhc01hdGNoIiwibmV3Um93cyIsIlRPUF9TSVRFU19VUERBVEVEIiwiVE9QX1NJVEVTX1BSRUZTX1VQREFURUQiLCJwcmV2aWV3UmVzcG9uc2UiLCJUT1BfU0lURVNfT1BFTl9TRUFSQ0hfU0hPUlRDVVRTX01PREFMIiwiUFJFVklFV19SRVNQT05TRSIsInByZXZpZXdVcmwiLCJQUkVWSUVXX1JFUVVFU1QiLCJQUkVWSUVXX1JFUVVFU1RfQ0FOQ0VMIiwiU0NSRUVOU0hPVF9VUERBVEVEIiwiUExBQ0VTX0JPT0tNQVJLX0FEREVEIiwiYm9va21hcmtUaXRsZSIsImRhdGVBZGRlZCIsImJvb2ttYXJrRGF0ZUNyZWF0ZWQiLCJQTEFDRVNfQk9PS01BUktTX1JFTU9WRUQiLCJuZXdTaXRlIiwiUExBQ0VTX0xJTktTX0RFTEVURUQiLCJVUERBVEVfU0VBUkNIX1NIT1JUQ1VUUyIsIm5ld1ZhbHVlcyIsIlBSRUZTX0lOSVRJQUxfVkFMVUVTIiwiUFJFRl9DSEFOR0VEIiwibmV3U3RhdGUiLCJTRUNUSU9OX0RFUkVHSVNURVIiLCJTRUNUSU9OX1JFR0lTVEVSIiwiU0VDVElPTl9VUERBVEUiLCJjYXJkIiwiZGVkdXBlQ29uZmlndXJhdGlvbnMiLCJkZWR1cGVDb25mIiwiZGVkdXBlZFJvd3MiLCJkZWR1cGVGcm9tIiwiZGVkdXBlU2VjdGlvbklkIiwiZGVkdXBlU2VjdGlvbiIsIlNFQ1RJT05fVVBEQVRFX0NBUkQiLCJQTEFDRVNfU0FWRURfVE9fUE9DS0VUIiwiUExBQ0VTX0xJTktfQkxPQ0tFRCIsIlNOSVBQRVRTX0RBVEEiLCJTTklQUEVUX0JMT0NLRUQiLCJibG9ja0xpc3QiLCJTTklQUEVUU19CTE9DS0xJU1RfQ0xFQVJFRCIsIlNOSVBQRVRTX1JFU0VUIiwiUE9DS0VUX1dBSVRJTkdfRk9SX1NQT0MiLCJQT0NLRVRfTE9HR0VEX0lOIiwiUE9DS0VUX0NUQSIsImN0YV9idXR0b24iLCJjdGFfdGV4dCIsImN0YV91cmwiLCJ1c2VfY3RhIiwiRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fTEFTVF9VUERBVEVEIiwiRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fSU5JVCIsImlzTm90UmVhZHkiLCJoYW5kbGVQbGFjZW1lbnRzIiwiaGFuZGxlU2l0ZXMiLCJmb3JQbGFjZW1lbnQiLCJwbGFjZW1lbnRTcG9jcyIsImFjY3VtdWxhdG9yIiwiZmVlZF91cmwiLCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19TRVRVUCIsIkRJU0NPVkVSWV9TVFJFQU1fTEFZT1VUX1VQREFURSIsIkRJU0NPVkVSWV9TVFJFQU1fQ09MTEVDVElPTl9ESVNNSVNTSUJMRV9UT0dHTEUiLCJISURFX1BSSVZBQ1lfSU5GTyIsIkRJU0NPVkVSWV9TVFJFQU1fTEFZT1VUX1JFU0VUIiwiRElTQ09WRVJZX1NUUkVBTV9GRUVEU19VUERBVEUiLCJuZXdEYXRhIiwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19DQVBTIiwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19FTkRQT0lOVCIsIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfUExBQ0VNRU5UUyIsIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfVVBEQVRFIiwiRElTQ09WRVJZX1NUUkVBTV9TUE9DX0JMT0NLRUQiLCJESVNDT1ZFUllfU1RSRUFNX0xJTktfQkxPQ0tFRCIsImFkZFBvY2tldEluZm8iLCJ1cGRhdGVCb29rbWFya0luZm8iLCJyZW1vdmVCb29rbWFya0luZm8iLCJTSE9XX1NFQVJDSCIsIlRvcFNpdGVGb3JtSW5wdXQiLCJ2YWxpZGF0aW9uRXJyb3IiLCJvbk1vdW50Iiwib25DbGVhckljb25QcmVzcyIsInNob3VsZEZvY3VzIiwib25DbGVhciIsInJlbmRlckxvYWRpbmdPckNsb3NlQnV0dG9uIiwic2hvd0NsZWFyQnV0dG9uIiwibG9hZGluZyIsInR5cGVVcmwiLCJ0aXRsZUlkIiwicGxhY2Vob2xkZXJJZCIsImVycm9yTWVzc2FnZUlkIiwiVG9wU2l0ZUZvcm0iLCJjdXN0b21TY3JlZW5zaG90VXJsIiwic2hvd0N1c3RvbVNjcmVlbnNob3RGb3JtIiwib25DbGVhclNjcmVlbnNob3RJbnB1dCIsIm9uTGFiZWxDaGFuZ2UiLCJvblVybENoYW5nZSIsIm9uQ2xlYXJVcmxDbGljayIsIm9uRG9uZUJ1dHRvbkNsaWNrIiwib25DdXN0b21TY3JlZW5zaG90VXJsQ2hhbmdlIiwib25QcmV2aWV3QnV0dG9uQ2xpY2siLCJvbkVuYWJsZVNjcmVlbnNob3RVcmxGb3JtIiwidmFsaWRhdGVVcmwiLCJfdXBkYXRlQ3VzdG9tU2NyZWVuc2hvdElucHV0IiwidmFsaWRhdGVGb3JtIiwiY2xlYW5VcmwiLCJfdHJ5UGFyc2VVcmwiLCJ2YWxpZFByb3RvY29scyIsInZhbGlkYXRlQ3VzdG9tU2NyZWVuc2hvdFVybCIsInZhbGlkYXRlIiwiX3JlbmRlckN1c3RvbVNjcmVlbnNob3RJbnB1dCIsInJlcXVlc3RGYWlsZWQiLCJpc0xvYWRpbmciLCJzaG93QXNBZGQiLCJwcmV2aW91cyIsImNoYW5nZWQiLCJwcmV2aWV3TW9kZSIsInByZXZpZXdMaW5rIiwib25TdWJtaXQiLCJhZGRUb3BzaXRlc0hlYWRlckwxMG5JZCIsImVkaXRUb3BzaXRlc0hlYWRlckwxMG5JZCJdLCJtYXBwaW5ncyI6Ijs7O1FBQUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7OztRQUdBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwwQ0FBMEMsZ0NBQWdDO1FBQzFFO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0Esd0RBQXdELGtCQUFrQjtRQUMxRTtRQUNBLGlEQUFpRCxjQUFjO1FBQy9EOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSx5Q0FBeUMsaUNBQWlDO1FBQzFFLGdIQUFnSCxtQkFBbUIsRUFBRTtRQUNySTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDJCQUEyQiwwQkFBMEIsRUFBRTtRQUN2RCxpQ0FBaUMsZUFBZTtRQUNoRDtRQUNBO1FBQ0E7O1FBRUE7UUFDQSxzREFBc0QsK0RBQStEOztRQUVySDtRQUNBOzs7UUFHQTtRQUNBOzs7Ozs7OztBQ2xGQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7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LENBUEYsQ0FERixlQTBDRTtBQUFTLGVBQVMsRUFBQztBQUFuQixvQkFDRTtBQUNFLGVBQVMsRUFBQyxRQURaO0FBRUUsVUFBSSxFQUFDLFFBRlA7QUFHRSxhQUFPLEVBQUUsS0FBSzByQixtQkFIaEI7QUFJRSxzQkFBYTtBQUpmLE1BREYsRUFPR28xQixXQUFXLGdCQUNWO0FBQ0UsZUFBUyxFQUFDLGNBRFo7QUFFRSxVQUFJLEVBQUMsUUFGUDtBQUdFLHNCQUFhO0FBSGYsTUFEVSxnQkFPVjtBQUNFLGVBQVMsRUFBQyxNQURaO0FBRUUsVUFBSSxFQUFDLFFBRlA7QUFHRSxzQkFDRUgsU0FBUyxHQUNMLDRCQURLLEdBRUw7QUFOUixNQWRKLENBMUNGLENBREY7QUFzRUQ7O0FBOVNrRDtBQWlUckR0Qix1QkFBVyxDQUFDMzJDLFlBQVosR0FBMkI7QUFDekIySSxNQUFJLEVBQUUsSUFEbUI7QUFFekJ6VyxPQUFLLEVBQUUsQ0FBQztBQUZpQixDQUEzQixDIiwiZmlsZSI6ImFjdGl2aXR5LXN0cmVhbS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBCYXNlIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQmFzZS9CYXNlXCI7XG5pbXBvcnQgeyBEZXRlY3RVc2VyU2Vzc2lvblN0YXJ0IH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9kZXRlY3QtdXNlci1zZXNzaW9uLXN0YXJ0XCI7XG5pbXBvcnQgeyBpbml0U3RvcmUgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL2luaXQtc3RvcmVcIjtcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHsgcmVkdWNlcnMgfSBmcm9tIFwiY29tbW9uL1JlZHVjZXJzLmpzbVwiO1xuXG5leHBvcnQgY29uc3QgTmV3VGFiID0gKHsgc3RvcmUgfSkgPT4gKFxuICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgICA8QmFzZSAvPlxuICA8L1Byb3ZpZGVyPlxuKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcldpdGhvdXRTdGF0ZSgpIHtcbiAgY29uc3Qgc3RvcmUgPSBpbml0U3RvcmUocmVkdWNlcnMpO1xuICBuZXcgRGV0ZWN0VXNlclNlc3Npb25TdGFydChzdG9yZSkuc2VuZEV2ZW50T3JBZGRMaXN0ZW5lcigpO1xuXG4gIC8vIElmIHRoaXMgZG9jdW1lbnQgaGFzIGFscmVhZHkgZ29uZSBpbnRvIHRoZSBiYWNrZ3JvdW5kIGJ5IHRoZSB0aW1lIHdlJ3ZlIHJlYWNoZWRcbiAgLy8gaGVyZSwgd2UgY2FuIGRlcHJpb3JpdGl6ZSByZXF1ZXN0aW5nIHRoZSBpbml0aWFsIHN0YXRlIHVudGlsIHRoZSBldmVudCBsb29wXG4gIC8vIGZyZWVzIHVwLiBJZiwgaG93ZXZlciwgdGhlIHZpc2liaWxpdHkgY2hhbmdlcywgd2UgdGhlbiBzZW5kIHRoZSByZXF1ZXN0LlxuICBsZXQgZGlkUmVxdWVzdCA9IGZhbHNlO1xuICBsZXQgcmVxdWVzdElkbGVDYWxsYmFja0lkID0gMDtcbiAgZnVuY3Rpb24gZG9SZXF1ZXN0KCkge1xuICAgIGlmICghZGlkUmVxdWVzdCkge1xuICAgICAgaWYgKHJlcXVlc3RJZGxlQ2FsbGJhY2tJZCkge1xuICAgICAgICBjYW5jZWxJZGxlQ2FsbGJhY2socmVxdWVzdElkbGVDYWxsYmFja0lkKTtcbiAgICAgIH1cbiAgICAgIGRpZFJlcXVlc3QgPSB0cnVlO1xuICAgICAgc3RvcmUuZGlzcGF0Y2goYWMuQWxzb1RvTWFpbih7IHR5cGU6IGF0Lk5FV19UQUJfU1RBVEVfUkVRVUVTVCB9KSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRvY3VtZW50LmhpZGRlbikge1xuICAgIHJlcXVlc3RJZGxlQ2FsbGJhY2tJZCA9IHJlcXVlc3RJZGxlQ2FsbGJhY2soZG9SZXF1ZXN0KTtcbiAgICBhZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBkb1JlcXVlc3QsIHsgb25jZTogdHJ1ZSB9KTtcbiAgfSBlbHNlIHtcbiAgICBkb1JlcXVlc3QoKTtcbiAgfVxuXG4gIFJlYWN0RE9NLmh5ZHJhdGUoPE5ld1RhYiBzdG9yZT17c3RvcmV9IC8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb3RcIikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyQ2FjaGUoaW5pdGlhbFN0YXRlKSB7XG4gIGNvbnN0IHN0b3JlID0gaW5pdFN0b3JlKHJlZHVjZXJzLCBpbml0aWFsU3RhdGUpO1xuICBuZXcgRGV0ZWN0VXNlclNlc3Npb25TdGFydChzdG9yZSkuc2VuZEV2ZW50T3JBZGRMaXN0ZW5lcigpO1xuXG4gIFJlYWN0RE9NLmh5ZHJhdGUoPE5ld1RhYiBzdG9yZT17c3RvcmV9IC8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb3RcIikpO1xufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblwidXNlIHN0cmljdFwiO1xuXG50aGlzLk1BSU5fTUVTU0FHRV9UWVBFID0gXCJBY3Rpdml0eVN0cmVhbTpNYWluXCI7XG50aGlzLkNPTlRFTlRfTUVTU0FHRV9UWVBFID0gXCJBY3Rpdml0eVN0cmVhbTpDb250ZW50XCI7XG50aGlzLlBSRUxPQURfTUVTU0FHRV9UWVBFID0gXCJBY3Rpdml0eVN0cmVhbTpQcmVsb2FkZWRCcm93c2VyXCI7XG50aGlzLlVJX0NPREUgPSAxO1xudGhpcy5CQUNLR1JPVU5EX1BST0NFU1MgPSAyO1xuXG4vKipcbiAqIGdsb2JhbEltcG9ydENvbnRleHQgLSBBcmUgd2UgaW4gVUkgY29kZSAoaS5lLiByZWFjdCwgYSBkb20pIG9yIHNvbWUga2luZCBvZiBiYWNrZ3JvdW5kIHByb2Nlc3M/XG4gKiAgICAgICAgICAgICAgICAgICAgICAgVXNlIHRoaXMgaW4gYWN0aW9uIGNyZWF0b3JzIGlmIHlvdSBuZWVkIGRpZmZlcmVudCBsb2dpY1xuICogICAgICAgICAgICAgICAgICAgICAgIGZvciB1aS9iYWNrZ3JvdW5kIHByb2Nlc3Nlcy5cbiAqL1xuY29uc3QgZ2xvYmFsSW1wb3J0Q29udGV4dCA9XG4gIHR5cGVvZiBXaW5kb3cgPT09IFwidW5kZWZpbmVkXCIgPyBCQUNLR1JPVU5EX1BST0NFU1MgOiBVSV9DT0RFO1xuLy8gRXhwb3J0IGZvciB0ZXN0c1xudGhpcy5nbG9iYWxJbXBvcnRDb250ZXh0ID0gZ2xvYmFsSW1wb3J0Q29udGV4dDtcblxuLy8gQ3JlYXRlIGFuIG9iamVjdCB0aGF0IGF2b2lkcyBhY2NpZGVudGFsIGRpZmZlcmluZyBrZXkvdmFsdWUgcGFpcnM6XG4vLyB7XG4vLyAgIElOSVQ6IFwiSU5JVFwiLFxuLy8gICBVTklOSVQ6IFwiVU5JTklUXCJcbi8vIH1cbmNvbnN0IGFjdGlvblR5cGVzID0ge307XG5mb3IgKGNvbnN0IHR5cGUgb2YgW1xuICBcIkFCT1VUX1NQT05TT1JFRF9UT1BfU0lURVNcIixcbiAgXCJBRERPTlNfSU5GT19SRVFVRVNUXCIsXG4gIFwiQURET05TX0lORk9fUkVTUE9OU0VcIixcbiAgXCJBUkNISVZFX0ZST01fUE9DS0VUXCIsXG4gIFwiQVNfUk9VVEVSX0lOSVRJQUxJWkVEXCIsXG4gIFwiQVNfUk9VVEVSX1BSRUZfQ0hBTkdFRFwiLFxuICBcIkFTX1JPVVRFUl9UQVJHRVRJTkdfVVBEQVRFXCIsXG4gIFwiQVNfUk9VVEVSX1RFTEVNRVRSWV9VU0VSX0VWRU5UXCIsXG4gIFwiQkxPQ0tfVVJMXCIsXG4gIFwiQk9PS01BUktfVVJMXCIsXG4gIFwiQ0xFQVJfUFJFRlwiLFxuICBcIkNPUFlfRE9XTkxPQURfTElOS1wiLFxuICBcIkRFTEVURV9CT09LTUFSS19CWV9JRFwiLFxuICBcIkRFTEVURV9GUk9NX1BPQ0tFVFwiLFxuICBcIkRFTEVURV9ISVNUT1JZX1VSTFwiLFxuICBcIkRJQUxPR19DQU5DRUxcIixcbiAgXCJESUFMT0dfT1BFTlwiLFxuICBcIkRJU0FCTEVfU0VBUkNIXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9DT0xMRUNUSU9OX0RJU01JU1NJQkxFX1RPR0dMRVwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX0NIQU5HRVwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1JFU0VUXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfUkVTRVRfREVGQVVMVFNcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19TRVRVUFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1NFVF9WQUxVRVwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fREVWX0VYUElSRV9DQUNIRVwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fREVWX0lETEVfREFJTFlcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0RFVl9TWU5DX1JTXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9ERVZfU1lTVEVNX1RJQ0tcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0ZFRURTX1VQREFURVwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fRkVFRF9VUERBVEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0lNUFJFU1NJT05fU1RBVFNcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0xBWU9VVF9SRVNFVFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fTEFZT1VUX1VQREFURVwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fTElOS19CTE9DS0VEXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9MT0FERURfQ09OVEVOVFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fUEVSU09OQUxJWkFUSU9OX0lOSVRcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1BFUlNPTkFMSVpBVElPTl9MQVNUX1VQREFURURcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1BFUlNPTkFMSVpBVElPTl9UT0dHTEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1JFVFJZX0ZFRURcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1NQT0NTX0NBUFNcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1NQT0NTX0VORFBPSU5UXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19QTEFDRU1FTlRTXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19VUERBVEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1NQT0NfQkxPQ0tFRFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ19JTVBSRVNTSU9OXCIsXG4gIFwiRE9XTkxPQURfQ0hBTkdFRFwiLFxuICBcIkZBS0VfRk9DVVNfU0VBUkNIXCIsXG4gIFwiRklMTF9TRUFSQ0hfVEVSTVwiLFxuICBcIkhBTkRPRkZfU0VBUkNIX1RPX0FXRVNPTUVCQVJcIixcbiAgXCJISURFX1BSSVZBQ1lfSU5GT1wiLFxuICBcIklOSVRcIixcbiAgXCJORVdfVEFCX0lOSVRcIixcbiAgXCJORVdfVEFCX0lOSVRJQUxfU1RBVEVcIixcbiAgXCJORVdfVEFCX0xPQURcIixcbiAgXCJORVdfVEFCX1JFSFlEUkFURURcIixcbiAgXCJORVdfVEFCX1NUQVRFX1JFUVVFU1RcIixcbiAgXCJORVdfVEFCX1VOTE9BRFwiLFxuICBcIk9QRU5fRE9XTkxPQURfRklMRVwiLFxuICBcIk9QRU5fTElOS1wiLFxuICBcIk9QRU5fTkVXX1dJTkRPV1wiLFxuICBcIk9QRU5fUFJJVkFURV9XSU5ET1dcIixcbiAgXCJPUEVOX1dFQkVYVF9TRVRUSU5HU1wiLFxuICBcIlBBUlRORVJfTElOS19BVFRSSUJVVElPTlwiLFxuICBcIlBMQUNFU19CT09LTUFSS1NfUkVNT1ZFRFwiLFxuICBcIlBMQUNFU19CT09LTUFSS19BRERFRFwiLFxuICBcIlBMQUNFU19ISVNUT1JZX0NMRUFSRURcIixcbiAgXCJQTEFDRVNfTElOS1NfQ0hBTkdFRFwiLFxuICBcIlBMQUNFU19MSU5LU19ERUxFVEVEXCIsXG4gIFwiUExBQ0VTX0xJTktfQkxPQ0tFRFwiLFxuICBcIlBMQUNFU19TQVZFRF9UT19QT0NLRVRcIixcbiAgXCJQT0NLRVRfQ1RBXCIsXG4gIFwiUE9DS0VUX0xJTktfREVMRVRFRF9PUl9BUkNISVZFRFwiLFxuICBcIlBPQ0tFVF9MT0dHRURfSU5cIixcbiAgXCJQT0NLRVRfV0FJVElOR19GT1JfU1BPQ1wiLFxuICBcIlBSRUZTX0lOSVRJQUxfVkFMVUVTXCIsXG4gIFwiUFJFRl9DSEFOR0VEXCIsXG4gIFwiUFJFVklFV19SRVFVRVNUXCIsXG4gIFwiUFJFVklFV19SRVFVRVNUX0NBTkNFTFwiLFxuICBcIlBSRVZJRVdfUkVTUE9OU0VcIixcbiAgXCJSRU1PVkVfRE9XTkxPQURfRklMRVwiLFxuICBcIlJJQ0hfSUNPTl9NSVNTSU5HXCIsXG4gIFwiU0FWRV9TRVNTSU9OX1BFUkZfREFUQVwiLFxuICBcIlNBVkVfVE9fUE9DS0VUXCIsXG4gIFwiU0NSRUVOU0hPVF9VUERBVEVEXCIsXG4gIFwiU0VDVElPTl9ERVJFR0lTVEVSXCIsXG4gIFwiU0VDVElPTl9ESVNBQkxFXCIsXG4gIFwiU0VDVElPTl9FTkFCTEVcIixcbiAgXCJTRUNUSU9OX01PVkVcIixcbiAgXCJTRUNUSU9OX09QVElPTlNfQ0hBTkdFRFwiLFxuICBcIlNFQ1RJT05fUkVHSVNURVJcIixcbiAgXCJTRUNUSU9OX1VQREFURVwiLFxuICBcIlNFQ1RJT05fVVBEQVRFX0NBUkRcIixcbiAgXCJTRVRUSU5HU19DTE9TRVwiLFxuICBcIlNFVFRJTkdTX09QRU5cIixcbiAgXCJTRVRfUFJFRlwiLFxuICBcIlNIT1dfRE9XTkxPQURfRklMRVwiLFxuICBcIlNIT1dfRklSRUZPWF9BQ0NPVU5UU1wiLFxuICBcIlNIT1dfUFJJVkFDWV9JTkZPXCIsXG4gIFwiU0hPV19TRUFSQ0hcIixcbiAgXCJTS0lQUEVEX1NJR05JTlwiLFxuICBcIlNOSVBQRVRTX0JMT0NLTElTVF9DTEVBUkVEXCIsXG4gIFwiU05JUFBFVFNfQkxPQ0tMSVNUX1VQREFURURcIixcbiAgXCJTTklQUEVUU19EQVRBXCIsXG4gIFwiU05JUFBFVFNfUFJFVklFV19NT0RFXCIsXG4gIFwiU05JUFBFVFNfUkVTRVRcIixcbiAgXCJTTklQUEVUX0JMT0NLRURcIixcbiAgXCJTVUJNSVRfRU1BSUxcIixcbiAgXCJTVUJNSVRfU0lHTklOXCIsXG4gIFwiU1lTVEVNX1RJQ0tcIixcbiAgXCJURUxFTUVUUllfSU1QUkVTU0lPTl9TVEFUU1wiLFxuICBcIlRFTEVNRVRSWV9VU0VSX0VWRU5UXCIsXG4gIFwiVE9QX1NJVEVTX0NBTkNFTF9FRElUXCIsXG4gIFwiVE9QX1NJVEVTX0NMT1NFX1NFQVJDSF9TSE9SVENVVFNfTU9EQUxcIixcbiAgXCJUT1BfU0lURVNfRURJVFwiLFxuICBcIlRPUF9TSVRFU19JTVBSRVNTSU9OX1NUQVRTXCIsXG4gIFwiVE9QX1NJVEVTX0lOU0VSVFwiLFxuICBcIlRPUF9TSVRFU19PUEVOX1NFQVJDSF9TSE9SVENVVFNfTU9EQUxcIixcbiAgXCJUT1BfU0lURVNfUElOXCIsXG4gIFwiVE9QX1NJVEVTX1BSRUZTX1VQREFURURcIixcbiAgXCJUT1BfU0lURVNfVU5QSU5cIixcbiAgXCJUT1BfU0lURVNfVVBEQVRFRFwiLFxuICBcIlRPVEFMX0JPT0tNQVJLU19SRVFVRVNUXCIsXG4gIFwiVE9UQUxfQk9PS01BUktTX1JFU1BPTlNFXCIsXG4gIFwiVU5JTklUXCIsXG4gIFwiVVBEQVRFX1BJTk5FRF9TRUFSQ0hfU0hPUlRDVVRTXCIsXG4gIFwiVVBEQVRFX1NFQVJDSF9TSE9SVENVVFNcIixcbiAgXCJVUERBVEVfU0VDVElPTl9QUkVGU1wiLFxuICBcIldFQkVYVF9DTElDS1wiLFxuICBcIldFQkVYVF9ESVNNSVNTXCIsXG5dKSB7XG4gIGFjdGlvblR5cGVzW3R5cGVdID0gdHlwZTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIGZvciBjcmVhdGluZyByb3V0ZWQgYWN0aW9ucyBiZXR3ZWVuIGNvbnRlbnQgYW5kIG1haW5cbi8vIE5vdCBpbnRlbmRlZCB0byBiZSB1c2VkIGJ5IGNvbnN1bWVyc1xuZnVuY3Rpb24gX1JvdXRlTWVzc2FnZShhY3Rpb24sIG9wdGlvbnMpIHtcbiAgY29uc3QgbWV0YSA9IGFjdGlvbi5tZXRhID8geyAuLi5hY3Rpb24ubWV0YSB9IDoge307XG4gIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5mcm9tIHx8ICFvcHRpb25zLnRvKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJSb3V0ZWQgTWVzc2FnZXMgbXVzdCBoYXZlIG9wdGlvbnMgYXMgdGhlIHNlY29uZCBwYXJhbWV0ZXIsIGFuZCBtdXN0IGF0IGxlYXN0IGluY2x1ZGUgYSAuZnJvbSBhbmQgLnRvIHByb3BlcnR5LlwiXG4gICAgKTtcbiAgfVxuICAvLyBGb3IgZWFjaCBvZiB0aGVzZSBmaWVsZHMsIGlmIHRoZXkgYXJlIHBhc3NlZCBhcyBhbiBvcHRpb24sXG4gIC8vIGFkZCB0aGVtIHRvIHRoZSBhY3Rpb24uIElmIHRoZXkgYXJlIG5vdCBkZWZpbmVkLCByZW1vdmUgdGhlbS5cbiAgW1wiZnJvbVwiLCBcInRvXCIsIFwidG9UYXJnZXRcIiwgXCJmcm9tVGFyZ2V0XCIsIFwic2tpcE1haW5cIiwgXCJza2lwTG9jYWxcIl0uZm9yRWFjaChcbiAgICBvID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc1tvXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBtZXRhW29dID0gb3B0aW9uc1tvXTtcbiAgICAgIH0gZWxzZSBpZiAobWV0YVtvXSkge1xuICAgICAgICBkZWxldGUgbWV0YVtvXTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIHJldHVybiB7IC4uLmFjdGlvbiwgbWV0YSB9O1xufVxuXG4vKipcbiAqIEFsc29Ub01haW4gLSBDcmVhdGVzIGEgbWVzc2FnZSB0aGF0IHdpbGwgYmUgZGlzcGF0Y2hlZCBsb2NhbGx5IGFuZCBhbHNvIHNlbnQgdG8gdGhlIE1haW4gcHJvY2Vzcy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFjdGlvbiBBbnkgcmVkdXggYWN0aW9uIChyZXF1aXJlZClcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtICB7Ym9vbH0gICBza2lwTG9jYWwgVXNlZCBieSBPbmx5VG9NYWluIHRvIHNraXAgdGhlIG1haW4gcmVkdWNlclxuICogQHBhcmFtICB7c3RyaW5nfSBmcm9tVGFyZ2V0IFRoZSBpZCBvZiB0aGUgY29udGVudCBwb3J0IGZyb20gd2hpY2ggdGhlIGFjdGlvbiBvcmlnaW5hdGVkLiAob3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbiB3aXRoIGFkZGVkIC5tZXRhIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gQWxzb1RvTWFpbihhY3Rpb24sIGZyb21UYXJnZXQsIHNraXBMb2NhbCkge1xuICByZXR1cm4gX1JvdXRlTWVzc2FnZShhY3Rpb24sIHtcbiAgICBmcm9tOiBDT05URU5UX01FU1NBR0VfVFlQRSxcbiAgICB0bzogTUFJTl9NRVNTQUdFX1RZUEUsXG4gICAgZnJvbVRhcmdldCxcbiAgICBza2lwTG9jYWwsXG4gIH0pO1xufVxuXG4vKipcbiAqIE9ubHlUb01haW4gLSBDcmVhdGVzIGEgbWVzc2FnZSB0aGF0IHdpbGwgYmUgc2VudCB0byB0aGUgTWFpbiBwcm9jZXNzIGFuZCBza2lwIHRoZSBsb2NhbCByZWR1Y2VyLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gYWN0aW9uIEFueSByZWR1eCBhY3Rpb24gKHJlcXVpcmVkKVxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGZyb21UYXJnZXQgVGhlIGlkIG9mIHRoZSBjb250ZW50IHBvcnQgZnJvbSB3aGljaCB0aGUgYWN0aW9uIG9yaWdpbmF0ZWQuIChvcHRpb25hbClcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uIHdpdGggYWRkZWQgLm1ldGEgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBPbmx5VG9NYWluKGFjdGlvbiwgZnJvbVRhcmdldCkge1xuICByZXR1cm4gQWxzb1RvTWFpbihhY3Rpb24sIGZyb21UYXJnZXQsIHRydWUpO1xufVxuXG4vKipcbiAqIEJyb2FkY2FzdFRvQ29udGVudCAtIENyZWF0ZXMgYSBtZXNzYWdlIHRoYXQgd2lsbCBiZSBkaXNwYXRjaGVkIHRvIG1haW4gYW5kIHNlbnQgdG8gQUxMIGNvbnRlbnQgcHJvY2Vzc2VzLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gYWN0aW9uIEFueSByZWR1eCBhY3Rpb24gKHJlcXVpcmVkKVxuICogQHJldHVybiB7b2JqZWN0fSBBbiBhY3Rpb24gd2l0aCBhZGRlZCAubWV0YSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIEJyb2FkY2FzdFRvQ29udGVudChhY3Rpb24pIHtcbiAgcmV0dXJuIF9Sb3V0ZU1lc3NhZ2UoYWN0aW9uLCB7XG4gICAgZnJvbTogTUFJTl9NRVNTQUdFX1RZUEUsXG4gICAgdG86IENPTlRFTlRfTUVTU0FHRV9UWVBFLFxuICB9KTtcbn1cblxuLyoqXG4gKiBBbHNvVG9PbmVDb250ZW50IC0gQ3JlYXRlcyBhIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIHdpbGwgYmUgZGlzcGF0Y2hlZCB0byB0aGUgbWFpbiBzdG9yZVxuICogICAgICAgICAgICAgICAgICAgIGFuZCBhbHNvIHNlbnQgdG8gYSBwYXJ0aWN1bGFyIENvbnRlbnQgcHJvY2Vzcy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFjdGlvbiBBbnkgcmVkdXggYWN0aW9uIChyZXF1aXJlZClcbiAqIEBwYXJhbSAge3N0cmluZ30gdGFyZ2V0IFRoZSBpZCBvZiBhIGNvbnRlbnQgcG9ydFxuICogQHBhcmFtICB7Ym9vbH0gc2tpcE1haW4gVXNlZCBieSBPbmx5VG9PbmVDb250ZW50IHRvIHNraXAgdGhlIG1haW4gcHJvY2Vzc1xuICogQHJldHVybiB7b2JqZWN0fSBBbiBhY3Rpb24gd2l0aCBhZGRlZCAubWV0YSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIEFsc29Ub09uZUNvbnRlbnQoYWN0aW9uLCB0YXJnZXQsIHNraXBNYWluKSB7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJZb3UgbXVzdCBwcm92aWRlIGEgdGFyZ2V0IElEIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyIG9mIEFsc29Ub09uZUNvbnRlbnQuIElmIHlvdSB3YW50IHRvIHNlbmQgdG8gYWxsIGNvbnRlbnQgcHJvY2Vzc2VzLCB1c2UgQnJvYWRjYXN0VG9Db250ZW50XCJcbiAgICApO1xuICB9XG4gIHJldHVybiBfUm91dGVNZXNzYWdlKGFjdGlvbiwge1xuICAgIGZyb206IE1BSU5fTUVTU0FHRV9UWVBFLFxuICAgIHRvOiBDT05URU5UX01FU1NBR0VfVFlQRSxcbiAgICB0b1RhcmdldDogdGFyZ2V0LFxuICAgIHNraXBNYWluLFxuICB9KTtcbn1cblxuLyoqXG4gKiBPbmx5VG9PbmVDb250ZW50IC0gQ3JlYXRlcyBhIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIHNlbnQgdG8gYSBwYXJ0aWN1bGFyIENvbnRlbnQgcHJvY2Vzc1xuICogICAgICAgICAgICAgICAgICAgIGFuZCBza2lwIHRoZSBtYWluIHJlZHVjZXIuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBhY3Rpb24gQW55IHJlZHV4IGFjdGlvbiAocmVxdWlyZWQpXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHRhcmdldCBUaGUgaWQgb2YgYSBjb250ZW50IHBvcnRcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uIHdpdGggYWRkZWQgLm1ldGEgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBPbmx5VG9PbmVDb250ZW50KGFjdGlvbiwgdGFyZ2V0KSB7XG4gIHJldHVybiBBbHNvVG9PbmVDb250ZW50KGFjdGlvbiwgdGFyZ2V0LCB0cnVlKTtcbn1cblxuLyoqXG4gKiBBbHNvVG9QcmVsb2FkZWQgLSBDcmVhdGVzIGEgbWVzc2FnZSB0aGF0IGRpc3BhdGNoZWQgdG8gdGhlIG1haW4gcmVkdWNlciBhbmQgYWxzbyBzZW50IHRvIHRoZSBwcmVsb2FkZWQgdGFiLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gYWN0aW9uIEFueSByZWR1eCBhY3Rpb24gKHJlcXVpcmVkKVxuICogQHJldHVybiB7b2JqZWN0fSBBbiBhY3Rpb24gd2l0aCBhZGRlZCAubWV0YSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIEFsc29Ub1ByZWxvYWRlZChhY3Rpb24pIHtcbiAgcmV0dXJuIF9Sb3V0ZU1lc3NhZ2UoYWN0aW9uLCB7XG4gICAgZnJvbTogTUFJTl9NRVNTQUdFX1RZUEUsXG4gICAgdG86IFBSRUxPQURfTUVTU0FHRV9UWVBFLFxuICB9KTtcbn1cblxuLyoqXG4gKiBVc2VyRXZlbnQgLSBBIHRlbGVtZXRyeSBwaW5nIGluZGljYXRpbmcgYSB1c2VyIGFjdGlvbi4gVGhpcyBzaG91bGQgb25seVxuICogICAgICAgICAgICAgICAgICAgYmUgc2VudCBmcm9tIHRoZSBVSSBkdXJpbmcgYSB1c2VyIHNlc3Npb24uXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBkYXRhIEZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSBwaW5nIChzb3VyY2UsIGV0Yy4pXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIEFsc29Ub01haW4gYWN0aW9uXG4gKi9cbmZ1bmN0aW9uIFVzZXJFdmVudChkYXRhKSB7XG4gIHJldHVybiBBbHNvVG9NYWluKHtcbiAgICB0eXBlOiBhY3Rpb25UeXBlcy5URUxFTUVUUllfVVNFUl9FVkVOVCxcbiAgICBkYXRhLFxuICB9KTtcbn1cblxuLyoqXG4gKiBBU1JvdXRlclVzZXJFdmVudCAtIEEgdGVsZW1ldHJ5IHBpbmcgaW5kaWNhdGluZyBhIHVzZXIgYWN0aW9uIGZyb20gQVMgcm91dGVyLiBUaGlzIHNob3VsZCBvbmx5XG4gKiAgICAgICAgICAgICAgICAgICAgIGJlIHNlbnQgZnJvbSB0aGUgVUkgZHVyaW5nIGEgdXNlciBzZXNzaW9uLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gZGF0YSBGaWVsZHMgdG8gaW5jbHVkZSBpbiB0aGUgcGluZyAoc291cmNlLCBldGMuKVxuICogQHJldHVybiB7b2JqZWN0fSBBbiBBbHNvVG9NYWluIGFjdGlvblxuICovXG5mdW5jdGlvbiBBU1JvdXRlclVzZXJFdmVudChkYXRhKSB7XG4gIHJldHVybiBBbHNvVG9NYWluKHtcbiAgICB0eXBlOiBhY3Rpb25UeXBlcy5BU19ST1VURVJfVEVMRU1FVFJZX1VTRVJfRVZFTlQsXG4gICAgZGF0YSxcbiAgfSk7XG59XG5cbi8qKlxuICogSW1wcmVzc2lvblN0YXRzIC0gQSB0ZWxlbWV0cnkgcGluZyBpbmRpY2F0aW5nIGFuIGltcHJlc3Npb24gc3RhdHMuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBkYXRhIEZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSBwaW5nXG4gKiBAcGFyYW0gIHtpbnR9IGltcG9ydENvbnRleHQgKEZvciB0ZXN0aW5nKSBPdmVycmlkZSB0aGUgaW1wb3J0IGNvbnRleHQgZm9yIHRlc3RpbmcuXG4gKiAjcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbi4gRm9yIFVJIGNvZGUsIGEgQWxzb1RvTWFpbiBhY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIEltcHJlc3Npb25TdGF0cyhkYXRhLCBpbXBvcnRDb250ZXh0ID0gZ2xvYmFsSW1wb3J0Q29udGV4dCkge1xuICBjb25zdCBhY3Rpb24gPSB7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuVEVMRU1FVFJZX0lNUFJFU1NJT05fU1RBVFMsXG4gICAgZGF0YSxcbiAgfTtcbiAgcmV0dXJuIGltcG9ydENvbnRleHQgPT09IFVJX0NPREUgPyBBbHNvVG9NYWluKGFjdGlvbikgOiBhY3Rpb247XG59XG5cbi8qKlxuICogRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzIC0gQSB0ZWxlbWV0cnkgcGluZyBpbmRpY2F0aW5nIGFuIGltcHJlc3Npb24gc3RhdHMgaW4gRGlzY292ZXJ5IFN0cmVhbS5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGRhdGEgRmllbGRzIHRvIGluY2x1ZGUgaW4gdGhlIHBpbmdcbiAqIEBwYXJhbSAge2ludH0gaW1wb3J0Q29udGV4dCAoRm9yIHRlc3RpbmcpIE92ZXJyaWRlIHRoZSBpbXBvcnQgY29udGV4dCBmb3IgdGVzdGluZy5cbiAqICNyZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uLiBGb3IgVUkgY29kZSwgYSBBbHNvVG9NYWluIGFjdGlvbi5cbiAqL1xuZnVuY3Rpb24gRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzKFxuICBkYXRhLFxuICBpbXBvcnRDb250ZXh0ID0gZ2xvYmFsSW1wb3J0Q29udGV4dFxuKSB7XG4gIGNvbnN0IGFjdGlvbiA9IHtcbiAgICB0eXBlOiBhY3Rpb25UeXBlcy5ESVNDT1ZFUllfU1RSRUFNX0lNUFJFU1NJT05fU1RBVFMsXG4gICAgZGF0YSxcbiAgfTtcbiAgcmV0dXJuIGltcG9ydENvbnRleHQgPT09IFVJX0NPREUgPyBBbHNvVG9NYWluKGFjdGlvbikgOiBhY3Rpb247XG59XG5cbi8qKlxuICogRGlzY292ZXJ5U3RyZWFtTG9hZGVkQ29udGVudCAtIEEgdGVsZW1ldHJ5IHBpbmcgaW5kaWNhdGluZyBhIGNvbnRlbnQgZ2V0cyBsb2FkZWQgaW4gRGlzY292ZXJ5IFN0cmVhbS5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGRhdGEgRmllbGRzIHRvIGluY2x1ZGUgaW4gdGhlIHBpbmdcbiAqIEBwYXJhbSAge2ludH0gaW1wb3J0Q29udGV4dCAoRm9yIHRlc3RpbmcpIE92ZXJyaWRlIHRoZSBpbXBvcnQgY29udGV4dCBmb3IgdGVzdGluZy5cbiAqICNyZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uLiBGb3IgVUkgY29kZSwgYSBBbHNvVG9NYWluIGFjdGlvbi5cbiAqL1xuZnVuY3Rpb24gRGlzY292ZXJ5U3RyZWFtTG9hZGVkQ29udGVudChcbiAgZGF0YSxcbiAgaW1wb3J0Q29udGV4dCA9IGdsb2JhbEltcG9ydENvbnRleHRcbikge1xuICBjb25zdCBhY3Rpb24gPSB7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuRElTQ09WRVJZX1NUUkVBTV9MT0FERURfQ09OVEVOVCxcbiAgICBkYXRhLFxuICB9O1xuICByZXR1cm4gaW1wb3J0Q29udGV4dCA9PT0gVUlfQ09ERSA/IEFsc29Ub01haW4oYWN0aW9uKSA6IGFjdGlvbjtcbn1cblxuZnVuY3Rpb24gU2V0UHJlZihuYW1lLCB2YWx1ZSwgaW1wb3J0Q29udGV4dCA9IGdsb2JhbEltcG9ydENvbnRleHQpIHtcbiAgY29uc3QgYWN0aW9uID0geyB0eXBlOiBhY3Rpb25UeXBlcy5TRVRfUFJFRiwgZGF0YTogeyBuYW1lLCB2YWx1ZSB9IH07XG4gIHJldHVybiBpbXBvcnRDb250ZXh0ID09PSBVSV9DT0RFID8gQWxzb1RvTWFpbihhY3Rpb24pIDogYWN0aW9uO1xufVxuXG5mdW5jdGlvbiBXZWJFeHRFdmVudCh0eXBlLCBkYXRhLCBpbXBvcnRDb250ZXh0ID0gZ2xvYmFsSW1wb3J0Q29udGV4dCkge1xuICBpZiAoIWRhdGEgfHwgIWRhdGEuc291cmNlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ1dlYkV4dEV2ZW50IGFjdGlvbnMgc2hvdWxkIGluY2x1ZGUgYSBwcm9wZXJ0eSBcInNvdXJjZVwiLCB0aGUgaWQgb2YgdGhlIHdlYmV4dGVuc2lvbiB0aGF0IHNob3VsZCByZWNlaXZlIHRoZSBldmVudC4nXG4gICAgKTtcbiAgfVxuICBjb25zdCBhY3Rpb24gPSB7IHR5cGUsIGRhdGEgfTtcbiAgcmV0dXJuIGltcG9ydENvbnRleHQgPT09IFVJX0NPREUgPyBBbHNvVG9NYWluKGFjdGlvbikgOiBhY3Rpb247XG59XG5cbnRoaXMuYWN0aW9uVHlwZXMgPSBhY3Rpb25UeXBlcztcblxudGhpcy5hY3Rpb25DcmVhdG9ycyA9IHtcbiAgQnJvYWRjYXN0VG9Db250ZW50LFxuICBVc2VyRXZlbnQsXG4gIEFTUm91dGVyVXNlckV2ZW50LFxuICBJbXByZXNzaW9uU3RhdHMsXG4gIEFsc29Ub09uZUNvbnRlbnQsXG4gIE9ubHlUb09uZUNvbnRlbnQsXG4gIEFsc29Ub01haW4sXG4gIE9ubHlUb01haW4sXG4gIEFsc29Ub1ByZWxvYWRlZCxcbiAgU2V0UHJlZixcbiAgV2ViRXh0RXZlbnQsXG4gIERpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cyxcbiAgRGlzY292ZXJ5U3RyZWFtTG9hZGVkQ29udGVudCxcbn07XG5cbi8vIFRoZXNlIGFyZSBoZWxwZXJzIHRvIHRlc3QgZm9yIGNlcnRhaW4ga2luZHMgb2YgYWN0aW9uc1xudGhpcy5hY3Rpb25VdGlscyA9IHtcbiAgaXNTZW5kVG9NYWluKGFjdGlvbikge1xuICAgIGlmICghYWN0aW9uLm1ldGEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIGFjdGlvbi5tZXRhLnRvID09PSBNQUlOX01FU1NBR0VfVFlQRSAmJlxuICAgICAgYWN0aW9uLm1ldGEuZnJvbSA9PT0gQ09OVEVOVF9NRVNTQUdFX1RZUEVcbiAgICApO1xuICB9LFxuICBpc0Jyb2FkY2FzdFRvQ29udGVudChhY3Rpb24pIHtcbiAgICBpZiAoIWFjdGlvbi5tZXRhKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhY3Rpb24ubWV0YS50byA9PT0gQ09OVEVOVF9NRVNTQUdFX1RZUEUgJiYgIWFjdGlvbi5tZXRhLnRvVGFyZ2V0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBpc1NlbmRUb09uZUNvbnRlbnQoYWN0aW9uKSB7XG4gICAgaWYgKCFhY3Rpb24ubWV0YSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYWN0aW9uLm1ldGEudG8gPT09IENPTlRFTlRfTUVTU0FHRV9UWVBFICYmIGFjdGlvbi5tZXRhLnRvVGFyZ2V0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBpc1NlbmRUb1ByZWxvYWRlZChhY3Rpb24pIHtcbiAgICBpZiAoIWFjdGlvbi5tZXRhKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBhY3Rpb24ubWV0YS50byA9PT0gUFJFTE9BRF9NRVNTQUdFX1RZUEUgJiZcbiAgICAgIGFjdGlvbi5tZXRhLmZyb20gPT09IE1BSU5fTUVTU0FHRV9UWVBFXG4gICAgKTtcbiAgfSxcbiAgaXNGcm9tTWFpbihhY3Rpb24pIHtcbiAgICBpZiAoIWFjdGlvbi5tZXRhKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBhY3Rpb24ubWV0YS5mcm9tID09PSBNQUlOX01FU1NBR0VfVFlQRSAmJlxuICAgICAgYWN0aW9uLm1ldGEudG8gPT09IENPTlRFTlRfTUVTU0FHRV9UWVBFXG4gICAgKTtcbiAgfSxcbiAgZ2V0UG9ydElkT2ZTZW5kZXIoYWN0aW9uKSB7XG4gICAgcmV0dXJuIChhY3Rpb24ubWV0YSAmJiBhY3Rpb24ubWV0YS5mcm9tVGFyZ2V0KSB8fCBudWxsO1xuICB9LFxuICBfUm91dGVNZXNzYWdlLFxufTtcblxuY29uc3QgRVhQT1JURURfU1lNQk9MUyA9IFtcbiAgXCJhY3Rpb25UeXBlc1wiLFxuICBcImFjdGlvbkNyZWF0b3JzXCIsXG4gIFwiYWN0aW9uVXRpbHNcIixcbiAgXCJnbG9iYWxJbXBvcnRDb250ZXh0XCIsXG4gIFwiVUlfQ09ERVwiLFxuICBcIkJBQ0tHUk9VTkRfUFJPQ0VTU1wiLFxuICBcIk1BSU5fTUVTU0FHRV9UWVBFXCIsXG4gIFwiQ09OVEVOVF9NRVNTQUdFX1RZUEVcIixcbiAgXCJQUkVMT0FEX01FU1NBR0VfVFlQRVwiLFxuXTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IEFTUm91dGVyQWRtaW4gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9BU1JvdXRlckFkbWluL0FTUm91dGVyQWRtaW5cIjtcbmltcG9ydCB7IEFTUm91dGVyVUlTdXJmYWNlIH0gZnJvbSBcIi4uLy4uL2Fzcm91dGVyL2Fzcm91dGVyLWNvbnRlbnRcIjtcbmltcG9ydCB7IENvbmZpcm1EaWFsb2cgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db25maXJtRGlhbG9nL0NvbmZpcm1EaWFsb2dcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IERpc2NvdmVyeVN0cmVhbUJhc2UgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1CYXNlL0Rpc2NvdmVyeVN0cmVhbUJhc2VcIjtcbmltcG9ydCB7IEVycm9yQm91bmRhcnkgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9FcnJvckJvdW5kYXJ5L0Vycm9yQm91bmRhcnlcIjtcbmltcG9ydCB7IEN1c3RvbWl6ZU1lbnUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9DdXN0b21pemVNZW51L0N1c3RvbWl6ZU1lbnVcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNlYXJjaCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL1NlYXJjaC9TZWFyY2hcIjtcbmltcG9ydCB7IFNlY3Rpb25zIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvU2VjdGlvbnMvU2VjdGlvbnNcIjtcblxuZXhwb3J0IGNvbnN0IFByZWZzQnV0dG9uID0gKHsgb25DbGljaywgaWNvbiB9KSA9PiAoXG4gIDxkaXYgY2xhc3NOYW1lPVwicHJlZnMtYnV0dG9uXCI+XG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3NOYW1lPXtgaWNvbiAke2ljb24gfHwgXCJpY29uLXNldHRpbmdzXCJ9YH1cbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2V0dGluZ3MtYnV0dG9uXCJcbiAgICAvPlxuICA8L2Rpdj5cbik7XG5cbi8vIFJldHVybnMgYSBmdW5jdGlvbiB3aWxsIG5vdCBiZSBjb250aW51b3VzbHkgdHJpZ2dlcmVkIHdoZW4gY2FsbGVkLiBUaGVcbi8vIGZ1bmN0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGlmIGNhbGxlZCBhZ2FpbiBhZnRlciBgd2FpdGAgbWlsbGlzZWNvbmRzLlxuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCkge1xuICBsZXQgdGltZXI7XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIGlmICh0aW1lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB3YWtlVXAgPSAoKSA9PiB7XG4gICAgICB0aW1lciA9IG51bGw7XG4gICAgfTtcblxuICAgIHRpbWVyID0gc2V0VGltZW91dCh3YWtlVXAsIHdhaXQpO1xuICAgIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gIH07XG59XG5cbmV4cG9ydCBjbGFzcyBfQmFzZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbWVzc2FnZToge30sXG4gICAgfTtcbiAgICB0aGlzLm5vdGlmeUNvbnRlbnQgPSB0aGlzLm5vdGlmeUNvbnRlbnQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG5vdGlmeUNvbnRlbnQoc3RhdGUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMudXBkYXRlVGhlbWUoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVcGRhdGUoKSB7XG4gICAgdGhpcy51cGRhdGVUaGVtZSgpO1xuICB9XG5cbiAgdXBkYXRlVGhlbWUoKSB7XG4gICAgY29uc3QgYm9keUNsYXNzTmFtZSA9IFtcbiAgICAgIFwiYWN0aXZpdHktc3RyZWFtXCIsXG4gICAgICAvLyBJZiB3ZSBza2lwcGVkIHRoZSBhYm91dDp3ZWxjb21lIG92ZXJsYXkgYW5kIHJlbW92ZWQgdGhlIENTUyBjbGFzc2VzXG4gICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIGFkZCB0aGVtIGJhY2sgdG8gdGhlIEFjdGl2aXR5IFN0cmVhbSB2aWV3XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImlubGluZS1vbmJvYXJkaW5nXCIpXG4gICAgICAgID8gXCJpbmxpbmUtb25ib2FyZGluZ1wiXG4gICAgICAgIDogXCJcIixcbiAgICBdXG4gICAgICAuZmlsdGVyKHYgPT4gdilcbiAgICAgIC5qb2luKFwiIFwiKTtcbiAgICBnbG9iYWwuZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSBib2R5Q2xhc3NOYW1lO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBBcHAgfSA9IHByb3BzO1xuICAgIGNvbnN0IGlzRGV2dG9vbHNFbmFibGVkID0gcHJvcHMuUHJlZnMudmFsdWVzW1wiYXNyb3V0ZXIuZGV2dG9vbHNFbmFibGVkXCJdO1xuXG4gICAgaWYgKCFBcHAuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8RXJyb3JCb3VuZGFyeSBjbGFzc05hbWU9XCJiYXNlLWNvbnRlbnQtZmFsbGJhY2tcIj5cbiAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIDxCYXNlQ29udGVudCB7Li4udGhpcy5wcm9wc30gYWRtaW5Db250ZW50PXt0aGlzLnN0YXRlfSAvPlxuICAgICAgICAgIHtpc0RldnRvb2xzRW5hYmxlZCA/IChcbiAgICAgICAgICAgIDxBU1JvdXRlckFkbWluIG5vdGlmeUNvbnRlbnQ9e3RoaXMubm90aWZ5Q29udGVudH0gLz5cbiAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCYXNlQ29udGVudCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9wZW5QcmVmZXJlbmNlcyA9IHRoaXMub3BlblByZWZlcmVuY2VzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vcGVuQ3VzdG9taXphdGlvbk1lbnUgPSB0aGlzLm9wZW5DdXN0b21pemF0aW9uTWVudS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2xvc2VDdXN0b21pemF0aW9uTWVudSA9IHRoaXMuY2xvc2VDdXN0b21pemF0aW9uTWVudS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlT25LZXlEb3duID0gdGhpcy5oYW5kbGVPbktleURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uV2luZG93U2Nyb2xsID0gZGVib3VuY2UodGhpcy5vbldpbmRvd1Njcm9sbC5iaW5kKHRoaXMpLCA1KTtcbiAgICB0aGlzLnNldFByZWYgPSB0aGlzLnNldFByZWYuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0geyBmaXhlZFNlYXJjaDogZmFsc2UsIGN1c3RvbWl6ZU1lbnVWaXNpYmxlOiBmYWxzZSB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vbldpbmRvd1Njcm9sbCk7XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuaGFuZGxlT25LZXlEb3duKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGdsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25XaW5kb3dTY3JvbGwpO1xuICAgIGdsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZU9uS2V5RG93bik7XG4gIH1cblxuICBvbldpbmRvd1Njcm9sbCgpIHtcbiAgICBjb25zdCBwcmVmcyA9IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzO1xuICAgIGNvbnN0IFNDUk9MTF9USFJFU0hPTEQgPSBwcmVmc1tcImxvZ293b3JkbWFyay5hbHdheXNWaXNpYmxlXCJdID8gMTc5IDogMzQ7XG4gICAgaWYgKGdsb2JhbC5zY3JvbGxZID4gU0NST0xMX1RIUkVTSE9MRCAmJiAhdGhpcy5zdGF0ZS5maXhlZFNlYXJjaCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZpeGVkU2VhcmNoOiB0cnVlIH0pO1xuICAgIH0gZWxzZSBpZiAoZ2xvYmFsLnNjcm9sbFkgPD0gU0NST0xMX1RIUkVTSE9MRCAmJiB0aGlzLnN0YXRlLmZpeGVkU2VhcmNoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZml4ZWRTZWFyY2g6IGZhbHNlIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9wZW5QcmVmZXJlbmNlcygpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLk9ubHlUb01haW4oeyB0eXBlOiBhdC5TRVRUSU5HU19PUEVOIH0pKTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLlVzZXJFdmVudCh7IGV2ZW50OiBcIk9QRU5fTkVXVEFCX1BSRUZTXCIgfSkpO1xuICB9XG5cbiAgb3BlbkN1c3RvbWl6YXRpb25NZW51KCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBjdXN0b21pemVNZW51VmlzaWJsZTogdHJ1ZSB9KTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLlVzZXJFdmVudCh7IGV2ZW50OiBcIlNIT1dfUEVSU09OQUxJWkVcIiB9KSk7XG4gIH1cblxuICBjbG9zZUN1c3RvbWl6YXRpb25NZW51KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmN1c3RvbWl6ZU1lbnVWaXNpYmxlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgY3VzdG9taXplTWVudVZpc2libGU6IGZhbHNlIH0pO1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Vc2VyRXZlbnQoeyBldmVudDogXCJISURFX1BFUlNPTkFMSVpFXCIgfSkpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU9uS2V5RG93bihlKSB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlQ3VzdG9taXphdGlvbk1lbnUoKTtcbiAgICB9XG4gIH1cblxuICBzZXRQcmVmKHByZWYsIHZhbHVlKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5TZXRQcmVmKHByZWYsIHZhbHVlKSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCB7IEFwcCB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBpbml0aWFsaXplZCB9ID0gQXBwO1xuICAgIGNvbnN0IHByZWZzID0gcHJvcHMuUHJlZnMudmFsdWVzO1xuXG4gICAgY29uc3QgaXNEaXNjb3ZlcnlTdHJlYW0gPVxuICAgICAgcHJvcHMuRGlzY292ZXJ5U3RyZWFtLmNvbmZpZyAmJiBwcm9wcy5EaXNjb3ZlcnlTdHJlYW0uY29uZmlnLmVuYWJsZWQ7XG4gICAgbGV0IGZpbHRlcmVkU2VjdGlvbnMgPSBwcm9wcy5TZWN0aW9ucy5maWx0ZXIoXG4gICAgICBzZWN0aW9uID0+IHNlY3Rpb24uaWQgIT09IFwidG9wc3Rvcmllc1wiXG4gICAgKTtcblxuICAgIGNvbnN0IHBvY2tldEVuYWJsZWQgPVxuICAgICAgcHJlZnNbXCJmZWVkcy5zZWN0aW9uLnRvcHN0b3JpZXNcIl0gJiYgcHJlZnNbXCJmZWVkcy5zeXN0ZW0udG9wc3Rvcmllc1wiXTtcbiAgICBjb25zdCBub1NlY3Rpb25zRW5hYmxlZCA9XG4gICAgICAhcHJlZnNbXCJmZWVkcy50b3BzaXRlc1wiXSAmJlxuICAgICAgIXBvY2tldEVuYWJsZWQgJiZcbiAgICAgIGZpbHRlcmVkU2VjdGlvbnMuZmlsdGVyKHNlY3Rpb24gPT4gc2VjdGlvbi5lbmFibGVkKS5sZW5ndGggPT09IDA7XG4gICAgY29uc3Qgc2VhcmNoSGFuZG9mZkVuYWJsZWQgPSBwcmVmc1tcImltcHJvdmVzZWFyY2guaGFuZG9mZlRvQXdlc29tZWJhclwiXTtcbiAgICBjb25zdCBzaG93Q3VzdG9taXphdGlvbk1lbnUgPSB0aGlzLnN0YXRlLmN1c3RvbWl6ZU1lbnVWaXNpYmxlO1xuICAgIGNvbnN0IGVuYWJsZWRTZWN0aW9ucyA9IHtcbiAgICAgIHRvcFNpdGVzRW5hYmxlZDogcHJlZnNbXCJmZWVkcy50b3BzaXRlc1wiXSxcbiAgICAgIHBvY2tldEVuYWJsZWQ6IHByZWZzW1wiZmVlZHMuc2VjdGlvbi50b3BzdG9yaWVzXCJdLFxuICAgICAgaGlnaGxpZ2h0c0VuYWJsZWQ6IHByZWZzW1wiZmVlZHMuc2VjdGlvbi5oaWdobGlnaHRzXCJdLFxuICAgICAgc2hvd1Nwb25zb3JlZFRvcFNpdGVzRW5hYmxlZDogcHJlZnMuc2hvd1Nwb25zb3JlZFRvcFNpdGVzLFxuICAgICAgc2hvd1Nwb25zb3JlZFBvY2tldEVuYWJsZWQ6IHByZWZzLnNob3dTcG9uc29yZWQsXG4gICAgICB0b3BTaXRlc1Jvd3NDb3VudDogcHJlZnMudG9wU2l0ZXNSb3dzLFxuICAgIH07XG4gICAgY29uc3QgcG9ja2V0UmVnaW9uID0gcHJlZnNbXCJmZWVkcy5zeXN0ZW0udG9wc3Rvcmllc1wiXTtcbiAgICBjb25zdCB7IG1heUhhdmVTcG9uc29yZWRUb3BTaXRlcyB9ID0gcHJlZnM7XG5cbiAgICBjb25zdCBvdXRlckNsYXNzTmFtZSA9IFtcbiAgICAgIFwib3V0ZXItd3JhcHBlclwiLFxuICAgICAgaXNEaXNjb3ZlcnlTdHJlYW0gJiYgcG9ja2V0RW5hYmxlZCAmJiBcImRzLW91dGVyLXdyYXBwZXItc2VhcmNoLWFsaWdubWVudFwiLFxuICAgICAgaXNEaXNjb3ZlcnlTdHJlYW0gJiYgXCJkcy1vdXRlci13cmFwcGVyLWJyZWFrcG9pbnQtb3ZlcnJpZGVcIixcbiAgICAgIHByZWZzLnNob3dTZWFyY2ggJiZcbiAgICAgICAgdGhpcy5zdGF0ZS5maXhlZFNlYXJjaCAmJlxuICAgICAgICAhbm9TZWN0aW9uc0VuYWJsZWQgJiZcbiAgICAgICAgXCJmaXhlZC1zZWFyY2hcIixcbiAgICAgIHByZWZzLnNob3dTZWFyY2ggJiYgbm9TZWN0aW9uc0VuYWJsZWQgJiYgXCJvbmx5LXNlYXJjaFwiLFxuICAgICAgcHJlZnNbXCJsb2dvd29yZG1hcmsuYWx3YXlzVmlzaWJsZVwiXSAmJiBcInZpc2libGUtbG9nb1wiLFxuICAgIF1cbiAgICAgIC5maWx0ZXIodiA9PiB2KVxuICAgICAgLmpvaW4oXCIgXCIpO1xuXG4gICAgY29uc3QgaGFzU25pcHBldCA9XG4gICAgICBwcmVmc1tcImZlZWRzLnNuaXBwZXRzXCJdICYmXG4gICAgICB0aGlzLnByb3BzLmFkbWluQ29udGVudCAmJlxuICAgICAgdGhpcy5wcm9wcy5hZG1pbkNvbnRlbnQubWVzc2FnZSAmJlxuICAgICAgdGhpcy5wcm9wcy5hZG1pbkNvbnRlbnQubWVzc2FnZS5pZDtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8Q3VzdG9taXplTWVudVxuICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VDdXN0b21pemF0aW9uTWVudX1cbiAgICAgICAgICBvbk9wZW49e3RoaXMub3BlbkN1c3RvbWl6YXRpb25NZW51fVxuICAgICAgICAgIG9wZW5QcmVmZXJlbmNlcz17dGhpcy5vcGVuUHJlZmVyZW5jZXN9XG4gICAgICAgICAgc2V0UHJlZj17dGhpcy5zZXRQcmVmfVxuICAgICAgICAgIGVuYWJsZWRTZWN0aW9ucz17ZW5hYmxlZFNlY3Rpb25zfVxuICAgICAgICAgIHBvY2tldFJlZ2lvbj17cG9ja2V0UmVnaW9ufVxuICAgICAgICAgIG1heUhhdmVTcG9uc29yZWRUb3BTaXRlcz17bWF5SGF2ZVNwb25zb3JlZFRvcFNpdGVzfVxuICAgICAgICAgIHNob3dpbmc9e3Nob3dDdXN0b21pemF0aW9uTWVudX1cbiAgICAgICAgLz5cbiAgICAgICAgey8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc3gtYTExeS9jbGljay1ldmVudHMtaGF2ZS1rZXktZXZlbnRzLCBqc3gtYTExeS9uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnMqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e291dGVyQ2xhc3NOYW1lfSBvbkNsaWNrPXt0aGlzLmNsb3NlQ3VzdG9taXphdGlvbk1lbnV9PlxuICAgICAgICAgIDxtYWluIGNsYXNzTmFtZT17aGFzU25pcHBldCA/IFwiaGFzLXNuaXBwZXRcIiA6IFwiXCJ9PlxuICAgICAgICAgICAge3ByZWZzLnNob3dTZWFyY2ggJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5vbi1jb2xsYXBzaWJsZS1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgPEVycm9yQm91bmRhcnk+XG4gICAgICAgICAgICAgICAgICA8U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgIHNob3dMb2dvPXtcbiAgICAgICAgICAgICAgICAgICAgICBub1NlY3Rpb25zRW5hYmxlZCB8fCBwcmVmc1tcImxvZ293b3JkbWFyay5hbHdheXNWaXNpYmxlXCJdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaGFuZG9mZkVuYWJsZWQ9e3NlYXJjaEhhbmRvZmZFbmFibGVkfVxuICAgICAgICAgICAgICAgICAgICB7Li4ucHJvcHMuU2VhcmNofVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Vycm9yQm91bmRhcnk+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxBU1JvdXRlclVJU3VyZmFjZVxuICAgICAgICAgICAgICBhZG1pbkNvbnRlbnQ9e3RoaXMucHJvcHMuYWRtaW5Db250ZW50fVxuICAgICAgICAgICAgICBhcHBVcGRhdGVDaGFubmVsPXt0aGlzLnByb3BzLlByZWZzLnZhbHVlcy5hcHBVcGRhdGVDaGFubmVsfVxuICAgICAgICAgICAgICBmeGFFbmRwb2ludD17dGhpcy5wcm9wcy5QcmVmcy52YWx1ZXMuZnhhX2VuZHBvaW50fVxuICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGJvZHktd3JhcHBlciR7aW5pdGlhbGl6ZWQgPyBcIiBvblwiIDogXCJcIn1gfT5cbiAgICAgICAgICAgICAge2lzRGlzY292ZXJ5U3RyZWFtID8gKFxuICAgICAgICAgICAgICAgIDxFcnJvckJvdW5kYXJ5IGNsYXNzTmFtZT1cImJvcmRlcmxlc3MtZXJyb3JcIj5cbiAgICAgICAgICAgICAgICAgIDxEaXNjb3ZlcnlTdHJlYW1CYXNlIGxvY2FsZT17cHJvcHMuQXBwLmxvY2FsZX0gLz5cbiAgICAgICAgICAgICAgICA8L0Vycm9yQm91bmRhcnk+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPFNlY3Rpb25zIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxDb25maXJtRGlhbG9nIC8+XG4gICAgICAgICAgPC9tYWluPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IEJhc2UgPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIEFwcDogc3RhdGUuQXBwLFxuICBQcmVmczogc3RhdGUuUHJlZnMsXG4gIFNlY3Rpb25zOiBzdGF0ZS5TZWN0aW9ucyxcbiAgRGlzY292ZXJ5U3RyZWFtOiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0sXG4gIFNlYXJjaDogc3RhdGUuU2VhcmNoLFxufSkpKF9CYXNlKTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IEFTUm91dGVyVXRpbHMgfSBmcm9tIFwiLi4vLi4vYXNyb3V0ZXIvYXNyb3V0ZXItdXRpbHNcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNpbXBsZUhhc2hSb3V0ZXIgfSBmcm9tIFwiLi9TaW1wbGVIYXNoUm91dGVyXCI7XG5cbmNvbnN0IFJvdyA9IHByb3BzID0+IChcbiAgPHRyIGNsYXNzTmFtZT1cIm1lc3NhZ2UtaXRlbVwiIHsuLi5wcm9wc30+XG4gICAge3Byb3BzLmNoaWxkcmVufVxuICA8L3RyPlxuKTtcblxuZnVuY3Rpb24gcmVsYXRpdmVUaW1lKHRpbWVzdGFtcCkge1xuICBpZiAoIXRpbWVzdGFtcCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gdGltZXN0YW1wKSAvIDEwMDApO1xuICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIHRpbWVzdGFtcCkgLyA2MDAwMCk7XG4gIGlmIChzZWNvbmRzIDwgMikge1xuICAgIHJldHVybiBcImp1c3Qgbm93XCI7XG4gIH0gZWxzZSBpZiAoc2Vjb25kcyA8IDYwKSB7XG4gICAgcmV0dXJuIGAke3NlY29uZHN9IHNlY29uZHMgYWdvYDtcbiAgfSBlbHNlIGlmIChtaW51dGVzID09PSAxKSB7XG4gICAgcmV0dXJuIFwiMSBtaW51dGUgYWdvXCI7XG4gIH0gZWxzZSBpZiAobWludXRlcyA8IDYwMCkge1xuICAgIHJldHVybiBgJHttaW51dGVzfSBtaW51dGVzIGFnb2A7XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKHRpbWVzdGFtcCkudG9Mb2NhbGVTdHJpbmcoKTtcbn1cblxuY29uc3QgTEFZT1VUX1ZBUklBTlRTID0ge1xuICBiYXNpYzogXCJCYXNpYyBkZWZhdWx0IGxheW91dCAob24gYnkgZGVmYXVsdCBpbiBuaWdodGx5KVwiLFxuICBzdGFnaW5nX3Nwb2NzOiBcIkEgbGF5b3V0IHdpdGggYWxsIHNwb2NzIHNob3duXCIsXG4gIFwiZGV2LXRlc3QtYWxsXCI6XG4gICAgXCJBIGxpdHRsZSBiaXQgb2YgZXZlcnl0aGluZy4gR29vZCBsYXlvdXQgZm9yIHRlc3RpbmcgYWxsIGNvbXBvbmVudHNcIixcbiAgXCJkZXYtdGVzdC1mZWVkc1wiOiBcIlN0cmVzcyB0ZXN0aW5nIGZvciBzbG93IGZlZWRzXCIsXG59O1xuXG5leHBvcnQgY2xhc3MgVG9nZ2xlU3RvcnlCdXR0b24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5oYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIGhhbmRsZUNsaWNrKCkge1xuICAgIHRoaXMucHJvcHMub25DbGljayh0aGlzLnByb3BzLnN0b3J5KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT5jb2xsYXBzZS9vcGVuPC9idXR0b24+O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUb2dnbGVNZXNzYWdlSlNPTiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgdGhpcy5wcm9wcy50b2dnbGVKU09OKHRoaXMucHJvcHMubXNnSWQpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBpY29uTmFtZSA9IHRoaXMucHJvcHMuaXNDb2xsYXBzZWRcbiAgICAgID8gXCJpY29uIGljb24tYXJyb3doZWFkLWZvcndhcmQtc21hbGxcIlxuICAgICAgOiBcImljb24gaWNvbi1hcnJvd2hlYWQtZG93bi1zbWFsbFwiO1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNsZWFyQnV0dG9uXCIgb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17aWNvbk5hbWV9IC8+XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUb2dnbGVQcmVmQ2hlY2tib3ggZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnByb3BzLnByZWYsIGV2ZW50LnRhcmdldC5jaGVja2VkKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICBjaGVja2VkPXt0aGlzLnByb3BzLmNoZWNrZWR9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIC8+e1wiIFwifVxuICAgICAgICB7dGhpcy5wcm9wcy5wcmVmfXtcIiBcIn1cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBlcnNvbmFsaXphdGlvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnRvZ2dsZVBlcnNvbmFsaXphdGlvbiA9IHRoaXMudG9nZ2xlUGVyc29uYWxpemF0aW9uLmJpbmQodGhpcyk7XG4gIH1cblxuICB0b2dnbGVQZXJzb25hbGl6YXRpb24oKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5ESVNDT1ZFUllfU1RSRUFNX1BFUlNPTkFMSVpBVElPTl9UT0dHTEUsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBsYXN0VXBkYXRlZCwgaW5pdGlhbGl6ZWQgfSA9IHRoaXMucHJvcHMuc3RhdGUuUGVyc29uYWxpemF0aW9uO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDx0YWJsZT5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgICA8dGQgY29sU3Bhbj1cIjJcIj5cbiAgICAgICAgICAgICAgICA8VG9nZ2xlUHJlZkNoZWNrYm94XG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnByb3BzLnBlcnNvbmFsaXplZH1cbiAgICAgICAgICAgICAgICAgIHByZWY9XCJwZXJzb25hbGl6ZWRcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMudG9nZ2xlUGVyc29uYWxpemF0aW9ufVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5QZXJzb25hbGl6YXRpb24gTGFzdCBVcGRhdGVkPC90ZD5cbiAgICAgICAgICAgICAgPHRkPntyZWxhdGl2ZVRpbWUobGFzdFVwZGF0ZWQpIHx8IFwiKG5vIGRhdGEpXCJ9PC90ZD5cbiAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPlBlcnNvbmFsaXphdGlvbiBJbml0aWFsaXplZDwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD57aW5pdGlhbGl6ZWQgPyBcInRydWVcIiA6IFwiZmFsc2VcIn08L3RkPlxuICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGlzY292ZXJ5U3RyZWFtQWRtaW4gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5yZXN0b3JlUHJlZkRlZmF1bHRzID0gdGhpcy5yZXN0b3JlUHJlZkRlZmF1bHRzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZXRDb25maWdWYWx1ZSA9IHRoaXMuc2V0Q29uZmlnVmFsdWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmV4cGlyZUNhY2hlID0gdGhpcy5leHBpcmVDYWNoZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVmcmVzaENhY2hlID0gdGhpcy5yZWZyZXNoQ2FjaGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmlkbGVEYWlseSA9IHRoaXMuaWRsZURhaWx5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5zeXN0ZW1UaWNrID0gdGhpcy5zeXN0ZW1UaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zeW5jUmVtb3RlU2V0dGluZ3MgPSB0aGlzLnN5bmNSZW1vdGVTZXR0aW5ncy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2hhbmdlRW5kcG9pbnRWYXJpYW50ID0gdGhpcy5jaGFuZ2VFbmRwb2ludFZhcmlhbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU3RvcnlUb2dnbGUgPSB0aGlzLm9uU3RvcnlUb2dnbGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdG9nZ2xlZFN0b3JpZXM6IHt9LFxuICAgIH07XG4gIH1cblxuICBzZXRDb25maWdWYWx1ZShuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfU0VUX1ZBTFVFLFxuICAgICAgICBkYXRhOiB7IG5hbWUsIHZhbHVlIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICByZXN0b3JlUHJlZkRlZmF1bHRzKGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5ESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19SRVNFVF9ERUZBVUxUUyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJlZnJlc2hDYWNoZSgpIHtcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5ESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19DSEFOR0UsXG4gICAgICAgIGRhdGE6IGNvbmZpZyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGRpc3BhdGNoU2ltcGxlQWN0aW9uKHR5cGUpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGUsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBzeXN0ZW1UaWNrKCkge1xuICAgIHRoaXMuZGlzcGF0Y2hTaW1wbGVBY3Rpb24oYXQuRElTQ09WRVJZX1NUUkVBTV9ERVZfU1lTVEVNX1RJQ0spO1xuICB9XG5cbiAgZXhwaXJlQ2FjaGUoKSB7XG4gICAgdGhpcy5kaXNwYXRjaFNpbXBsZUFjdGlvbihhdC5ESVNDT1ZFUllfU1RSRUFNX0RFVl9FWFBJUkVfQ0FDSEUpO1xuICB9XG5cbiAgaWRsZURhaWx5KCkge1xuICAgIHRoaXMuZGlzcGF0Y2hTaW1wbGVBY3Rpb24oYXQuRElTQ09WRVJZX1NUUkVBTV9ERVZfSURMRV9EQUlMWSk7XG4gIH1cblxuICBzeW5jUmVtb3RlU2V0dGluZ3MoKSB7XG4gICAgdGhpcy5kaXNwYXRjaFNpbXBsZUFjdGlvbihhdC5ESVNDT1ZFUllfU1RSRUFNX0RFVl9TWU5DX1JTKTtcbiAgfVxuXG4gIGNoYW5nZUVuZHBvaW50VmFyaWFudChldmVudCkge1xuICAgIGNvbnN0IGVuZHBvaW50ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW0uY29uZmlnLmxheW91dF9lbmRwb2ludDtcbiAgICBpZiAoZW5kcG9pbnQpIHtcbiAgICAgIHRoaXMuc2V0Q29uZmlnVmFsdWUoXG4gICAgICAgIFwibGF5b3V0X2VuZHBvaW50XCIsXG4gICAgICAgIGVuZHBvaW50LnJlcGxhY2UoXG4gICAgICAgICAgL2xheW91dF92YXJpYW50PS4rLyxcbiAgICAgICAgICBgbGF5b3V0X3ZhcmlhbnQ9JHtldmVudC50YXJnZXQudmFsdWV9YFxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckNvbXBvbmVudCh3aWR0aCwgY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx0YWJsZT5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+VHlwZTwvdGQ+XG4gICAgICAgICAgICA8dGQ+e2NvbXBvbmVudC50eXBlfTwvdGQ+XG4gICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5XaWR0aDwvdGQ+XG4gICAgICAgICAgICA8dGQ+e3dpZHRofTwvdGQ+XG4gICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAge2NvbXBvbmVudC5mZWVkICYmIHRoaXMucmVuZGVyRmVlZChjb21wb25lbnQuZmVlZCl9XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuICAgICk7XG4gIH1cblxuICBpc0N1cnJlbnRWYXJpYW50KGlkKSB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSB0aGlzLnByb3BzLnN0YXRlLkRpc2NvdmVyeVN0cmVhbS5jb25maWcubGF5b3V0X2VuZHBvaW50O1xuICAgIGNvbnN0IGlzTWF0Y2ggPSBlbmRwb2ludCAmJiAhIWVuZHBvaW50Lm1hdGNoKGBsYXlvdXRfdmFyaWFudD0ke2lkfWApO1xuICAgIHJldHVybiBpc01hdGNoO1xuICB9XG5cbiAgcmVuZGVyRmVlZERhdGEodXJsKSB7XG4gICAgY29uc3QgeyBmZWVkcyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgY29uc3QgZmVlZCA9IGZlZWRzLmRhdGFbdXJsXS5kYXRhO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxoND5GZWVkIHVybDoge3VybH08L2g0PlxuICAgICAgICA8dGFibGU+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAge2ZlZWQucmVjb21tZW5kYXRpb25zLm1hcChzdG9yeSA9PiB0aGlzLnJlbmRlclN0b3J5RGF0YShzdG9yeSkpfVxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJGZWVkc0RhdGEoKSB7XG4gICAgY29uc3QgeyBmZWVkcyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAge09iamVjdC5rZXlzKGZlZWRzLmRhdGEpLm1hcCh1cmwgPT4gdGhpcy5yZW5kZXJGZWVkRGF0YSh1cmwpKX1cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclNwb2NzKCkge1xuICAgIGNvbnN0IHsgc3BvY3MgfSA9IHRoaXMucHJvcHMuc3RhdGUuRGlzY292ZXJ5U3RyZWFtO1xuICAgIGxldCBzcG9jc0RhdGEgPSBbXTtcbiAgICBpZiAoc3BvY3MuZGF0YSAmJiBzcG9jcy5kYXRhLnNwb2NzICYmIHNwb2NzLmRhdGEuc3BvY3MuaXRlbXMpIHtcbiAgICAgIHNwb2NzRGF0YSA9IHNwb2NzLmRhdGEuc3BvY3MuaXRlbXMgfHwgW107XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5zcG9jc19lbmRwb2ludDwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD57c3BvY3Muc3BvY3NfZW5kcG9pbnR9PC90ZD5cbiAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkRhdGEgbGFzdCBmZXRjaGVkPC90ZD5cbiAgICAgICAgICAgICAgPHRkPntyZWxhdGl2ZVRpbWUoc3BvY3MubGFzdFVwZGF0ZWQpfTwvdGQ+XG4gICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8aDQ+U3BvYyBkYXRhPC9oND5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT57c3BvY3NEYXRhLm1hcChzcG9jID0+IHRoaXMucmVuZGVyU3RvcnlEYXRhKHNwb2MpKX08L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8aDQ+U3BvYyBmcmVxdWVuY3kgY2FwczwvaDQ+XG4gICAgICAgIDx0YWJsZT5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICB7c3BvY3MuZnJlcXVlbmN5X2NhcHMubWFwKHNwb2MgPT4gdGhpcy5yZW5kZXJTdG9yeURhdGEoc3BvYykpfVxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cblxuICBvblN0b3J5VG9nZ2xlKHN0b3J5KSB7XG4gICAgY29uc3QgeyB0b2dnbGVkU3RvcmllcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHRvZ2dsZWRTdG9yaWVzOiB7XG4gICAgICAgIC4uLnRvZ2dsZWRTdG9yaWVzLFxuICAgICAgICBbc3RvcnkuaWRdOiAhdG9nZ2xlZFN0b3JpZXNbc3RvcnkuaWRdLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlclN0b3J5RGF0YShzdG9yeSkge1xuICAgIGxldCBzdG9yeURhdGEgPSBcIlwiO1xuICAgIGlmICh0aGlzLnN0YXRlLnRvZ2dsZWRTdG9yaWVzW3N0b3J5LmlkXSkge1xuICAgICAgc3RvcnlEYXRhID0gSlNPTi5zdHJpbmdpZnkoc3RvcnksIG51bGwsIDIpO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPHRyIGNsYXNzTmFtZT1cIm1lc3NhZ2UtaXRlbVwiIGtleT17c3RvcnkuaWR9PlxuICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWVzc2FnZS1pZFwiPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAge3N0b3J5LmlkfSA8YnIgLz5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPFRvZ2dsZVN0b3J5QnV0dG9uIHN0b3J5PXtzdG9yeX0gb25DbGljaz17dGhpcy5vblN0b3J5VG9nZ2xlfSAvPlxuICAgICAgICA8L3RkPlxuICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWVzc2FnZS1zdW1tYXJ5XCI+XG4gICAgICAgICAgPHByZT57c3RvcnlEYXRhfTwvcHJlPlxuICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyRmVlZChmZWVkKSB7XG4gICAgY29uc3QgeyBmZWVkcyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgaWYgKCFmZWVkLnVybCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxSb3c+XG4gICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkZlZWQgdXJsPC90ZD5cbiAgICAgICAgICA8dGQ+e2ZlZWQudXJsfTwvdGQ+XG4gICAgICAgIDwvUm93PlxuICAgICAgICA8Um93PlxuICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5EYXRhIGxhc3QgZmV0Y2hlZDwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAge3JlbGF0aXZlVGltZShcbiAgICAgICAgICAgICAgZmVlZHMuZGF0YVtmZWVkLnVybF0gPyBmZWVkcy5kYXRhW2ZlZWQudXJsXS5sYXN0VXBkYXRlZCA6IG51bGxcbiAgICAgICAgICAgICkgfHwgXCIobm8gZGF0YSlcIn1cbiAgICAgICAgICA8L3RkPlxuICAgICAgICA8L1Jvdz5cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBwcmVmVG9nZ2xlcyA9IFwiZW5hYmxlZCBoYXJkY29kZWRfbGF5b3V0IHNob3dfc3BvY3MgY29sbGFwc2libGVcIi5zcGxpdChcbiAgICAgIFwiIFwiXG4gICAgKTtcbiAgICBjb25zdCB7IGNvbmZpZywgbGFzdFVwZGF0ZWQsIGxheW91dCB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgY29uc3QgcGVyc29uYWxpemVkID0gdGhpcy5wcm9wcy5vdGhlclByZWZzW1xuICAgICAgXCJkaXNjb3ZlcnlzdHJlYW0ucGVyc29uYWxpemF0aW9uLmVuYWJsZWRcIlxuICAgIF07XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5yZXN0b3JlUHJlZkRlZmF1bHRzfT5cbiAgICAgICAgICBSZXN0b3JlIFByZWYgRGVmYXVsdHNcbiAgICAgICAgPC9idXR0b24+e1wiIFwifVxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMucmVmcmVzaENhY2hlfT5cbiAgICAgICAgICBSZWZyZXNoIENhY2hlXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnIgLz5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLmV4cGlyZUNhY2hlfT5cbiAgICAgICAgICBFeHBpcmUgQ2FjaGVcbiAgICAgICAgPC9idXR0b24+e1wiIFwifVxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuc3lzdGVtVGlja30+XG4gICAgICAgICAgVHJpZ2dlciBTeXN0ZW0gVGlja1xuICAgICAgICA8L2J1dHRvbj57XCIgXCJ9XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5pZGxlRGFpbHl9PlxuICAgICAgICAgIFRyaWdnZXIgSWRsZSBEYWlseVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJyIC8+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5zeW5jUmVtb3RlU2V0dGluZ3N9PlxuICAgICAgICAgIFN5bmMgUmVtb3RlIFNldHRpbmdzXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8dGFibGU+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAge3ByZWZUb2dnbGVzLm1hcChwcmVmID0+IChcbiAgICAgICAgICAgICAgPFJvdyBrZXk9e3ByZWZ9PlxuICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgIDxUb2dnbGVQcmVmQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y29uZmlnW3ByZWZdfVxuICAgICAgICAgICAgICAgICAgICBwcmVmPXtwcmVmfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5zZXRDb25maWdWYWx1ZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8aDM+RW5kcG9pbnQgdmFyaWFudDwvaDM+XG4gICAgICAgIDxwPlxuICAgICAgICAgIFlvdSBjYW4gYWxzbyBjaGFuZ2UgdGhpcyBtYW51YWxseSBieSBjaGFuZ2luZyB0aGlzIHByZWY6e1wiIFwifVxuICAgICAgICAgIDxjb2RlPmJyb3dzZXIubmV3dGFicGFnZS5hY3Rpdml0eS1zdHJlYW0uZGlzY292ZXJ5c3RyZWFtLmNvbmZpZzwvY29kZT5cbiAgICAgICAgPC9wPlxuICAgICAgICA8dGFibGVcbiAgICAgICAgICBzdHlsZT17XG4gICAgICAgICAgICBjb25maWcuZW5hYmxlZCAmJiAhY29uZmlnLmhhcmRjb2RlZF9sYXlvdXQgPyBudWxsIDogeyBvcGFjaXR5OiAwLjUgfVxuICAgICAgICAgIH1cbiAgICAgICAgPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIHtPYmplY3Qua2V5cyhMQVlPVVRfVkFSSUFOVFMpLm1hcChpZCA9PiAoXG4gICAgICAgICAgICAgIDxSb3cga2V5PXtpZH0+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtpZH1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5pc0N1cnJlbnRWYXJpYW50KGlkKX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuY2hhbmdlRW5kcG9pbnRWYXJpYW50fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj57aWR9PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+e0xBWU9VVF9WQVJJQU5UU1tpZF19PC90ZD5cbiAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8aDM+Q2FjaGluZyBpbmZvPC9oMz5cbiAgICAgICAgPHRhYmxlIHN0eWxlPXtjb25maWcuZW5hYmxlZCA/IG51bGwgOiB7IG9wYWNpdHk6IDAuNSB9fT5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+RGF0YSBsYXN0IGZldGNoZWQ8L3RkPlxuICAgICAgICAgICAgICA8dGQ+e3JlbGF0aXZlVGltZShsYXN0VXBkYXRlZCkgfHwgXCIobm8gZGF0YSlcIn08L3RkPlxuICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgICAgPGgzPkxheW91dDwvaDM+XG4gICAgICAgIHtsYXlvdXQubWFwKChyb3csIHJvd0luZGV4KSA9PiAoXG4gICAgICAgICAgPGRpdiBrZXk9e2Byb3ctJHtyb3dJbmRleH1gfT5cbiAgICAgICAgICAgIHtyb3cuY29tcG9uZW50cy5tYXAoKGNvbXBvbmVudCwgY29tcG9uZW50SW5kZXgpID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2Bjb21wb25lbnQtJHtjb21wb25lbnRJbmRleH1gfSBjbGFzc05hbWU9XCJkcy1jb21wb25lbnRcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJDb21wb25lbnQocm93LndpZHRoLCBjb21wb25lbnQpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgICAgPGgzPlBlcnNvbmFsaXphdGlvbjwvaDM+XG4gICAgICAgIDxQZXJzb25hbGl6YXRpb25cbiAgICAgICAgICBwZXJzb25hbGl6ZWQ9e3BlcnNvbmFsaXplZH1cbiAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICBzdGF0ZT17e1xuICAgICAgICAgICAgUGVyc29uYWxpemF0aW9uOiB0aGlzLnByb3BzLnN0YXRlLlBlcnNvbmFsaXphdGlvbixcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgICA8aDM+U3BvY3M8L2gzPlxuICAgICAgICB7dGhpcy5yZW5kZXJTcG9jcygpfVxuICAgICAgICA8aDM+RmVlZHMgRGF0YTwvaDM+XG4gICAgICAgIHt0aGlzLnJlbmRlckZlZWRzRGF0YSgpfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQVNSb3V0ZXJBZG1pbklubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuaGFuZGxlRW5hYmxlZFRvZ2dsZSA9IHRoaXMuaGFuZGxlRW5hYmxlZFRvZ2dsZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlVXNlclByZWZUb2dnbGUgPSB0aGlzLmhhbmRsZVVzZXJQcmVmVG9nZ2xlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNoYW5nZU1lc3NhZ2VGaWx0ZXIgPSB0aGlzLm9uQ2hhbmdlTWVzc2FnZUZpbHRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DaGFuZ2VNZXNzYWdlR3JvdXBzRmlsdGVyID0gdGhpcy5vbkNoYW5nZU1lc3NhZ2VHcm91cHNGaWx0ZXIuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICAgIHRoaXMudW5ibG9ja0FsbCA9IHRoaXMudW5ibG9ja0FsbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlQ2xlYXJBbGxJbXByZXNzaW9uc0J5UHJvdmlkZXIgPSB0aGlzLmhhbmRsZUNsZWFyQWxsSW1wcmVzc2lvbnNCeVByb3ZpZGVyLmJpbmQoXG4gICAgICB0aGlzXG4gICAgKTtcbiAgICB0aGlzLmhhbmRsZUV4cHJlc3Npb25FdmFsID0gdGhpcy5oYW5kbGVFeHByZXNzaW9uRXZhbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DaGFuZ2VUYXJnZXRpbmdQYXJhbWV0ZXJzID0gdGhpcy5vbkNoYW5nZVRhcmdldGluZ1BhcmFtZXRlcnMuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICAgIHRoaXMub25DaGFuZ2VBdHRyaWJ1dGlvblBhcmFtZXRlcnMgPSB0aGlzLm9uQ2hhbmdlQXR0cmlidXRpb25QYXJhbWV0ZXJzLmJpbmQoXG4gICAgICB0aGlzXG4gICAgKTtcbiAgICB0aGlzLnNldEF0dHJpYnV0aW9uID0gdGhpcy5zZXRBdHRyaWJ1dGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Db3B5VGFyZ2V0aW5nUGFyYW1zID0gdGhpcy5vbkNvcHlUYXJnZXRpbmdQYXJhbXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTmV3VGFyZ2V0aW5nUGFyYW1zID0gdGhpcy5vbk5ld1RhcmdldGluZ1BhcmFtcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlVXBkYXRlV05NZXNzYWdlcyA9IHRoaXMuaGFuZGxlVXBkYXRlV05NZXNzYWdlcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlRm9yY2VXTlAgPSB0aGlzLmhhbmRsZUZvcmNlV05QLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVDbG9zZVdOUCA9IHRoaXMuaGFuZGxlQ2xvc2VXTlAuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlc2V0UGFuZWwgPSB0aGlzLnJlc2V0UGFuZWwuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlc3RvcmVXTk1lc3NhZ2VTdGF0ZSA9IHRoaXMucmVzdG9yZVdOTWVzc2FnZVN0YXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy50b2dnbGVKU09OID0gdGhpcy50b2dnbGVKU09OLmJpbmQodGhpcyk7XG4gICAgdGhpcy50b2dnbGVBbGxNZXNzYWdlcyA9IHRoaXMudG9nZ2xlQWxsTWVzc2FnZXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlc2V0R3JvdXBzID0gdGhpcy5yZXNldEdyb3Vwcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZXNzYWdlRnJvbVBhcmVudCA9IHRoaXMub25NZXNzYWdlRnJvbVBhcmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2V0U3RhdGVGcm9tUGFyZW50ID0gdGhpcy5zZXRTdGF0ZUZyb21QYXJlbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNldFN0YXRlID0gdGhpcy5zZXRTdGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBtZXNzYWdlRmlsdGVyOiBcImFsbFwiLFxuICAgICAgbWVzc2FnZUdyb3Vwc0ZpbHRlcjogXCJhbGxcIixcbiAgICAgIFdOTWVzc2FnZXM6IFtdLFxuICAgICAgY29sbGFwc2VkTWVzc2FnZXM6IFtdLFxuICAgICAgbW9kaWZpZWRNZXNzYWdlczogW10sXG4gICAgICBldmFsdWF0aW9uU3RhdHVzOiB7fSxcbiAgICAgIHN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnM6IG51bGwsXG4gICAgICBuZXdTdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzOiBudWxsLFxuICAgICAgY29waWVkVG9DbGlwYm9hcmQ6IGZhbHNlLFxuICAgICAgYXR0cmlidXRpb25QYXJhbWV0ZXJzOiB7XG4gICAgICAgIHNvdXJjZTogXCJhZGRvbnMubW96aWxsYS5vcmdcIixcbiAgICAgICAgbWVkaXVtOiBcInJlZmVycmFsXCIsXG4gICAgICAgIGNhbXBhaWduOiBcIm5vbi1meC1idXR0b25cIixcbiAgICAgICAgY29udGVudDogYHJ0YToke2J0b2EoXCJ1QmxvY2swQHJheW1vbmRoaWxsLm5ldFwiKX1gLFxuICAgICAgICBleHBlcmltZW50OiBcInVhLW9uYm9hcmRpbmdcIixcbiAgICAgICAgdmFyaWF0aW9uOiBcImNocm9tZVwiLFxuICAgICAgICB1YTogXCJHb29nbGUgQ2hyb21lIDEyM1wiLFxuICAgICAgICBkbHRva2VuOiBcIjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMFwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgb25NZXNzYWdlRnJvbVBhcmVudCh7IHR5cGUsIGRhdGEgfSkge1xuICAgIC8vIFRoZXNlIG9ubHkgZXhpc3RzIGR1ZSB0byBvblByZWZDaGFuZ2UgZXZlbnRzIGluIEFTUm91dGVyXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiVXBkYXRlQWRtaW5TdGF0ZVwiOiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGVGcm9tUGFyZW50KGRhdGEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRTdGF0ZUZyb21QYXJlbnQoZGF0YSkge1xuICAgIHRoaXMuc2V0U3RhdGUoZGF0YSk7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMpIHtcbiAgICAgIGNvbnN0IHN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMgPSB7fTtcbiAgICAgIGZvciAoY29uc3QgcGFyYW0gb2YgT2JqZWN0LmtleXMoZGF0YS50YXJnZXRpbmdQYXJhbWV0ZXJzKSkge1xuICAgICAgICBzdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzW3BhcmFtXSA9IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgIGRhdGEudGFyZ2V0aW5nUGFyYW1ldGVyc1twYXJhbV0sXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHsgc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVycyB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgQVNSb3V0ZXJVdGlscy5hZGRMaXN0ZW5lcih0aGlzLm9uTWVzc2FnZUZyb21QYXJlbnQpO1xuICAgIGNvbnN0IGVuZHBvaW50ID0gQVNSb3V0ZXJVdGlscy5nZXRQcmV2aWV3RW5kcG9pbnQoKTtcbiAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwiQURNSU5fQ09OTkVDVF9TVEFURVwiLFxuICAgICAgZGF0YTogeyBlbmRwb2ludCB9LFxuICAgIH0pLnRoZW4odGhpcy5zZXRTdGF0ZUZyb21QYXJlbnQpO1xuICB9XG5cbiAgaGFuZGxlQmxvY2sobXNnKSB7XG4gICAgcmV0dXJuICgpID0+IEFTUm91dGVyVXRpbHMuYmxvY2tCeUlkKG1zZy5pZCk7XG4gIH1cblxuICBoYW5kbGVVbmJsb2NrKG1zZykge1xuICAgIHJldHVybiAoKSA9PiBBU1JvdXRlclV0aWxzLnVuYmxvY2tCeUlkKG1zZy5pZCk7XG4gIH1cblxuICByZXNldEpTT04obXNnKSB7XG4gICAgLy8gcmVzZXQgdGhlIGRpc3BsYXllZCBKU09OIGZvciB0aGUgZ2l2ZW4gbWVzc2FnZVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke21zZy5pZH0tdGV4dGFyZWFgKS52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KFxuICAgICAgbXNnLFxuICAgICAgbnVsbCxcbiAgICAgIDJcbiAgICApO1xuICAgIC8vIHJlbW92ZSB0aGUgbWVzc2FnZSBmcm9tIHRoZSBsaXN0IG9mIG1vZGlmaWVkIElEc1xuICAgIGxldCBpbmRleCA9IHRoaXMuc3RhdGUubW9kaWZpZWRNZXNzYWdlcy5pbmRleE9mKG1zZy5pZCk7XG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcbiAgICAgIG1vZGlmaWVkTWVzc2FnZXM6IFtcbiAgICAgICAgLi4ucHJldlN0YXRlLm1vZGlmaWVkTWVzc2FnZXMuc2xpY2UoMCwgaW5kZXgpLFxuICAgICAgICAuLi5wcmV2U3RhdGUubW9kaWZpZWRNZXNzYWdlcy5zbGljZShpbmRleCArIDEpLFxuICAgICAgXSxcbiAgICB9KSk7XG4gIH1cblxuICByZXNldEFsbEpTT04oKSB7XG4gICAgbGV0IG1lc3NhZ2VDaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG5cbiAgICBmb3IgKGNvbnN0IGNoZWNrYm94IG9mIG1lc3NhZ2VDaGVja2JveGVzKSB7XG4gICAgICBsZXQgdHJpbW1lZElkID0gY2hlY2tib3guaWQucmVwbGFjZShcIiBjaGVja2JveFwiLCBcIlwiKTtcblxuICAgICAgbGV0IG1lc3NhZ2UgPSB0aGlzLnN0YXRlLm1lc3NhZ2VzLmZpbHRlcihtc2cgPT4gbXNnLmlkID09PSB0cmltbWVkSWQpO1xuICAgICAgbGV0IG1zZ0lkID0gbWVzc2FnZVswXS5pZDtcblxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7bXNnSWR9LXRleHRhcmVhYCkudmFsdWUgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgbWVzc2FnZVswXSxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgMlxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBXTk1lc3NhZ2VzOiBbXSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0UGFuZWwoKSB7XG4gICAgdGhpcy5yZXNldEFsbEpTT04oKTtcbiAgICB0aGlzLmhhbmRsZUNsb3NlV05QKCk7XG4gIH1cblxuICBoYW5kbGVPdmVycmlkZShpZCkge1xuICAgIHJldHVybiAoKSA9PlxuICAgICAgQVNSb3V0ZXJVdGlscy5vdmVycmlkZU1lc3NhZ2UoaWQpLnRoZW4oc3RhdGUgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlRnJvbVBhcmVudChzdGF0ZSk7XG4gICAgICAgIHRoaXMucHJvcHMubm90aWZ5Q29udGVudCh7XG4gICAgICAgICAgbWVzc2FnZTogc3RhdGUubWVzc2FnZSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGhhbmRsZVVwZGF0ZVdOTWVzc2FnZXMoKSB7XG4gICAgYXdhaXQgdGhpcy5yZXN0b3JlV05NZXNzYWdlU3RhdGUoKTtcbiAgICBsZXQgbWVzc2FnZXMgPSB0aGlzLnN0YXRlLldOTWVzc2FnZXM7XG5cbiAgICBmb3IgKGNvbnN0IG1zZyBvZiBtZXNzYWdlcykge1xuICAgICAgQVNSb3V0ZXJVdGlscy5tb2RpZnlNZXNzYWdlSnNvbihKU09OLnBhcnNlKG1zZykpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUZvcmNlV05QKCkge1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2UoeyB0eXBlOiBcIkZPUkNFX1dIQVRTTkVXX1BBTkVMXCIgfSk7XG4gIH1cblxuICBoYW5kbGVDbG9zZVdOUCgpIHtcbiAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHsgdHlwZTogXCJDTE9TRV9XSEFUU05FV19QQU5FTFwiIH0pO1xuICB9XG5cbiAgZXhwaXJlQ2FjaGUoKSB7XG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7IHR5cGU6IFwiRVhQSVJFX1FVRVJZX0NBQ0hFXCIgfSk7XG4gIH1cblxuICByZXNldFByZWYoKSB7XG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7IHR5cGU6IFwiUkVTRVRfUFJPVklERVJfUFJFRlwiIH0pO1xuICB9XG5cbiAgcmVzZXRHcm91cHMoaWQsIHZhbHVlKSB7XG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIlJFU0VUX0dST1VQU19TVEFURVwiLFxuICAgIH0pLnRoZW4odGhpcy5zZXRTdGF0ZUZyb21QYXJlbnQpO1xuICB9XG5cbiAgaGFuZGxlRXhwcmVzc2lvbkV2YWwoKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHt9O1xuICAgIGZvciAoY29uc3QgcGFyYW0gb2YgT2JqZWN0LmtleXModGhpcy5zdGF0ZS5zdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzKSkge1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnN0YXRlLnN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnNbcGFyYW1dO1xuICAgICAgY29udGV4dFtwYXJhbV0gPSB2YWx1ZSA/IEpTT04ucGFyc2UodmFsdWUpIDogbnVsbDtcbiAgICB9XG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIkVWQUxVQVRFX0pFWExfRVhQUkVTU0lPTlwiLFxuICAgICAgZGF0YToge1xuICAgICAgICBleHByZXNzaW9uOiB0aGlzLnJlZnMuZXhwcmVzc2lvbklucHV0LnZhbHVlLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgfSxcbiAgICB9KS50aGVuKHRoaXMuc2V0U3RhdGVGcm9tUGFyZW50KTtcbiAgfVxuXG4gIG9uQ2hhbmdlVGFyZ2V0aW5nUGFyYW1ldGVycyhldmVudCkge1xuICAgIGNvbnN0IHsgbmFtZSB9ID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IHsgdmFsdWUgfSA9IGV2ZW50LnRhcmdldDtcblxuICAgIHRoaXMuc2V0U3RhdGUoKHsgc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVycyB9KSA9PiB7XG4gICAgICBsZXQgdGFyZ2V0aW5nUGFyYW1ldGVyc0Vycm9yID0gbnVsbDtcbiAgICAgIGNvbnN0IHVwZGF0ZWRQYXJhbWV0ZXJzID0geyAuLi5zdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzIH07XG4gICAgICB1cGRhdGVkUGFyYW1ldGVyc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBwYXJzaW5nIHZhbHVlIG9mIHBhcmFtZXRlciAke25hbWV9YCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICB0YXJnZXRpbmdQYXJhbWV0ZXJzRXJyb3IgPSB7IGlkOiBuYW1lIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvcGllZFRvQ2xpcGJvYXJkOiBmYWxzZSxcbiAgICAgICAgZXZhbHVhdGlvblN0YXR1czoge30sXG4gICAgICAgIHN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnM6IHVwZGF0ZWRQYXJhbWV0ZXJzLFxuICAgICAgICB0YXJnZXRpbmdQYXJhbWV0ZXJzRXJyb3IsXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgdW5ibG9ja0FsbCgpIHtcbiAgICByZXR1cm4gQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIlVOQkxPQ0tfQUxMXCIsXG4gICAgfSkudGhlbih0aGlzLnNldFN0YXRlRnJvbVBhcmVudCk7XG4gIH1cblxuICBoYW5kbGVDbGVhckFsbEltcHJlc3Npb25zQnlQcm92aWRlcigpIHtcbiAgICBjb25zdCBwcm92aWRlcklkID0gdGhpcy5zdGF0ZS5tZXNzYWdlRmlsdGVyO1xuICAgIGlmICghcHJvdmlkZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB1c2VyUHJlZkluZm8gPSB0aGlzLnN0YXRlLnVzZXJQcmVmcztcblxuICAgIGNvbnN0IGlzVXNlckVuYWJsZWQgPVxuICAgICAgcHJvdmlkZXJJZCBpbiB1c2VyUHJlZkluZm8gPyB1c2VyUHJlZkluZm9bcHJvdmlkZXJJZF0gOiB0cnVlO1xuXG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIkRJU0FCTEVfUFJPVklERVJcIixcbiAgICAgIGRhdGE6IHByb3ZpZGVySWQsXG4gICAgfSk7XG4gICAgaWYgKCFpc1VzZXJFbmFibGVkKSB7XG4gICAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogXCJTRVRfUFJPVklERVJfVVNFUl9QUkVGXCIsXG4gICAgICAgIGRhdGE6IHsgaWQ6IHByb3ZpZGVySWQsIHZhbHVlOiB0cnVlIH0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIkVOQUJMRV9QUk9WSURFUlwiLFxuICAgICAgZGF0YTogcHJvdmlkZXJJZCxcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUVuYWJsZWRUb2dnbGUoZXZlbnQpIHtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuc3RhdGUucHJvdmlkZXJQcmVmcy5maW5kKFxuICAgICAgcCA9PiBwLmlkID09PSBldmVudC50YXJnZXQuZGF0YXNldC5wcm92aWRlclxuICAgICk7XG4gICAgY29uc3QgdXNlclByZWZJbmZvID0gdGhpcy5zdGF0ZS51c2VyUHJlZnM7XG5cbiAgICBjb25zdCBpc1VzZXJFbmFibGVkID1cbiAgICAgIHByb3ZpZGVyLmlkIGluIHVzZXJQcmVmSW5mbyA/IHVzZXJQcmVmSW5mb1twcm92aWRlci5pZF0gOiB0cnVlO1xuICAgIGNvbnN0IGlzU3lzdGVtRW5hYmxlZCA9IHByb3ZpZGVyLmVuYWJsZWQ7XG4gICAgY29uc3QgaXNFbmFibGluZyA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xuXG4gICAgaWYgKGlzRW5hYmxpbmcpIHtcbiAgICAgIGlmICghaXNVc2VyRW5hYmxlZCkge1xuICAgICAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICB0eXBlOiBcIlNFVF9QUk9WSURFUl9VU0VSX1BSRUZcIixcbiAgICAgICAgICBkYXRhOiB7IGlkOiBwcm92aWRlci5pZCwgdmFsdWU6IHRydWUgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzU3lzdGVtRW5hYmxlZCkge1xuICAgICAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICB0eXBlOiBcIkVOQUJMRV9QUk9WSURFUlwiLFxuICAgICAgICAgIGRhdGE6IHByb3ZpZGVyLmlkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IFwiRElTQUJMRV9QUk9WSURFUlwiLFxuICAgICAgICBkYXRhOiBwcm92aWRlci5pZCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlRmlsdGVyOiBcImFsbFwiIH0pO1xuICB9XG5cbiAgaGFuZGxlVXNlclByZWZUb2dnbGUoZXZlbnQpIHtcbiAgICBjb25zdCBhY3Rpb24gPSB7XG4gICAgICB0eXBlOiBcIlNFVF9QUk9WSURFUl9VU0VSX1BSRUZcIixcbiAgICAgIGRhdGE6IHsgaWQ6IGV2ZW50LnRhcmdldC5kYXRhc2V0LnByb3ZpZGVyLCB2YWx1ZTogZXZlbnQudGFyZ2V0LmNoZWNrZWQgfSxcbiAgICB9O1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2UoYWN0aW9uKTtcbiAgICB0aGlzLnNldFN0YXRlKHsgbWVzc2FnZUZpbHRlcjogXCJhbGxcIiB9KTtcbiAgfVxuXG4gIG9uQ2hhbmdlTWVzc2FnZUZpbHRlcihldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlRmlsdGVyOiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gIH1cblxuICBvbkNoYW5nZU1lc3NhZ2VHcm91cHNGaWx0ZXIoZXZlbnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgbWVzc2FnZUdyb3Vwc0ZpbHRlcjogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xuICB9XG5cbiAgLy8gU2ltdWxhdGUgYSBjb3B5IGV2ZW50IHRoYXQgc2V0cyB0byBjbGlwYm9hcmQgYWxsIHRhcmdldGluZyBwYXJhbXRlcnMgYW5kIHZhbHVlc1xuICBvbkNvcHlUYXJnZXRpbmdQYXJhbXMoZXZlbnQpIHtcbiAgICBjb25zdCBzdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzID0ge1xuICAgICAgLi4udGhpcy5zdGF0ZS5zdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzLFxuICAgIH07XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVycykpIHtcbiAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBub3Qgc2V0IHRoZSBwYXJhbWV0ZXIgd2lsbCBiZSBsb3N0IHdoZW4gd2Ugc3RyaW5naWZ5XG4gICAgICBpZiAoc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVyc1trZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVyc1trZXldID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2V0Q2xpcGJvYXJkRGF0YSA9IGUgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5jbGlwYm9hcmREYXRhLnNldERhdGEoXG4gICAgICAgIFwidGV4dFwiLFxuICAgICAgICBKU09OLnN0cmluZ2lmeShzdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzLCBudWxsLCAyKVxuICAgICAgKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb3B5XCIsIHNldENsaXBib2FyZERhdGEpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvcGllZFRvQ2xpcGJvYXJkOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29weVwiLCBzZXRDbGlwYm9hcmREYXRhKTtcblxuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTtcbiAgfVxuXG4gIG9uTmV3VGFyZ2V0aW5nUGFyYW1zKGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IG5ld1N0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnM6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcbiAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yU3RhdGVcIik7XG4gICAgdGhpcy5yZWZzLnRhcmdldGluZ1BhcmFtc0V2YWwuaW5uZXJUZXh0ID0gXCJcIjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzID0gSlNPTi5wYXJzZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJlcnJvclN0YXRlXCIpO1xuICAgICAgdGhpcy5yZWZzLnRhcmdldGluZ1BhcmFtc0V2YWwuaW5uZXJUZXh0ID0gZS5tZXNzYWdlO1xuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZUpTT04obXNnSWQpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5jb2xsYXBzZWRNZXNzYWdlcy5pbmNsdWRlcyhtc2dJZCkpIHtcbiAgICAgIGxldCBpbmRleCA9IHRoaXMuc3RhdGUuY29sbGFwc2VkTWVzc2FnZXMuaW5kZXhPZihtc2dJZCk7XG4gICAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiAoe1xuICAgICAgICBjb2xsYXBzZWRNZXNzYWdlczogW1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5jb2xsYXBzZWRNZXNzYWdlcy5zbGljZSgwLCBpbmRleCksXG4gICAgICAgICAgLi4ucHJldlN0YXRlLmNvbGxhcHNlZE1lc3NhZ2VzLnNsaWNlKGluZGV4ICsgMSksXG4gICAgICAgIF0sXG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XG4gICAgICAgIGNvbGxhcHNlZE1lc3NhZ2VzOiBwcmV2U3RhdGUuY29sbGFwc2VkTWVzc2FnZXMuY29uY2F0KG1zZ0lkKSxcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVDaGFuZ2UobXNnSWQpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubW9kaWZpZWRNZXNzYWdlcy5pbmNsdWRlcyhtc2dJZCkpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XG4gICAgICAgIG1vZGlmaWVkTWVzc2FnZXM6IHByZXZTdGF0ZS5tb2RpZmllZE1lc3NhZ2VzLmNvbmNhdChtc2dJZCksXG4gICAgICB9KSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyTWVzc2FnZUl0ZW0obXNnKSB7XG4gICAgY29uc3QgaXNCbG9ja2VkQnlHcm91cCA9IHRoaXMuc3RhdGUuZ3JvdXBzXG4gICAgICAuZmlsdGVyKGdyb3VwID0+IG1zZy5ncm91cHMuaW5jbHVkZXMoZ3JvdXAuaWQpKVxuICAgICAgLnNvbWUoZ3JvdXAgPT4gIWdyb3VwLmVuYWJsZWQpO1xuICAgIGNvbnN0IG1zZ1Byb3ZpZGVyID1cbiAgICAgIHRoaXMuc3RhdGUucHJvdmlkZXJzLmZpbmQocHJvdmlkZXIgPT4gcHJvdmlkZXIuaWQgPT09IG1zZy5wcm92aWRlcikgfHwge307XG4gICAgY29uc3QgaXNQcm92aWRlckV4Y2x1ZGVkID1cbiAgICAgIG1zZ1Byb3ZpZGVyLmV4Y2x1ZGUgJiYgbXNnUHJvdmlkZXIuZXhjbHVkZS5pbmNsdWRlcyhtc2cuaWQpO1xuICAgIGNvbnN0IGlzTWVzc2FnZUJsb2NrZWQgPVxuICAgICAgdGhpcy5zdGF0ZS5tZXNzYWdlQmxvY2tMaXN0LmluY2x1ZGVzKG1zZy5pZCkgfHxcbiAgICAgIHRoaXMuc3RhdGUubWVzc2FnZUJsb2NrTGlzdC5pbmNsdWRlcyhtc2cuY2FtcGFpZ24pO1xuICAgIGNvbnN0IGlzQmxvY2tlZCA9XG4gICAgICBpc01lc3NhZ2VCbG9ja2VkIHx8IGlzQmxvY2tlZEJ5R3JvdXAgfHwgaXNQcm92aWRlckV4Y2x1ZGVkO1xuICAgIGNvbnN0IGltcHJlc3Npb25zID0gdGhpcy5zdGF0ZS5tZXNzYWdlSW1wcmVzc2lvbnNbbXNnLmlkXVxuICAgICAgPyB0aGlzLnN0YXRlLm1lc3NhZ2VJbXByZXNzaW9uc1ttc2cuaWRdLmxlbmd0aFxuICAgICAgOiAwO1xuICAgIGNvbnN0IGlzQ29sbGFwc2VkID0gdGhpcy5zdGF0ZS5jb2xsYXBzZWRNZXNzYWdlcy5pbmNsdWRlcyhtc2cuaWQpO1xuICAgIGNvbnN0IGlzTW9kaWZpZWQgPSB0aGlzLnN0YXRlLm1vZGlmaWVkTWVzc2FnZXMuaW5jbHVkZXMobXNnLmlkKTtcblxuICAgIGxldCBpdGVtQ2xhc3NOYW1lID0gXCJtZXNzYWdlLWl0ZW1cIjtcbiAgICBpZiAoaXNCbG9ja2VkKSB7XG4gICAgICBpdGVtQ2xhc3NOYW1lICs9IFwiIGJsb2NrZWRcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHRyIGNsYXNzTmFtZT17aXRlbUNsYXNzTmFtZX0ga2V5PXtgJHttc2cuaWR9LSR7bXNnLnByb3ZpZGVyfWB9PlxuICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWVzc2FnZS1pZFwiPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAge21zZy5pZH0gPGJyIC8+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3RkPlxuICAgICAgICA8dGQ+XG4gICAgICAgICAgPFRvZ2dsZU1lc3NhZ2VKU09OXG4gICAgICAgICAgICBtc2dJZD17YCR7bXNnLmlkfWB9XG4gICAgICAgICAgICB0b2dnbGVKU09OPXt0aGlzLnRvZ2dsZUpTT059XG4gICAgICAgICAgICBpc0NvbGxhcHNlZD17aXNDb2xsYXBzZWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC90ZD5cbiAgICAgICAgPHRkIGNsYXNzTmFtZT1cImJ1dHRvbi1jb2x1bW5cIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BidXR0b24gJHtpc0Jsb2NrZWQgPyBcIlwiIDogXCIgcHJpbWFyeVwifWB9XG4gICAgICAgICAgICBvbkNsaWNrPXtcbiAgICAgICAgICAgICAgaXNCbG9ja2VkID8gdGhpcy5oYW5kbGVVbmJsb2NrKG1zZykgOiB0aGlzLmhhbmRsZUJsb2NrKG1zZylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aXNCbG9ja2VkID8gXCJVbmJsb2NrXCIgOiBcIkJsb2NrXCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgey8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgICAgIGlzQmxvY2tlZCA/IG51bGwgOiBpc01vZGlmaWVkID8gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidXR0b24gcmVzdG9yZVwiXG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9qc3gtbm8tYmluZFxuICAgICAgICAgICAgICBvbkNsaWNrPXtlID0+IHRoaXMucmVzZXRKU09OKG1zZyl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFJlc2V0XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidXR0b24gc2hvd1wiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlT3ZlcnJpZGUobXNnLmlkKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgU2hvd1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7aXNCbG9ja2VkID8gbnVsbCA6IChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnV0dG9uIG1vZGlmeVwiXG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9qc3gtbm8tYmluZFxuICAgICAgICAgICAgICBvbkNsaWNrPXtlID0+IHRoaXMubW9kaWZ5SnNvbihtc2cpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBNb2RpZnlcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGJyIC8+KHtpbXByZXNzaW9uc30gaW1wcmVzc2lvbnMpXG4gICAgICAgIDwvdGQ+XG4gICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtZXNzYWdlLXN1bW1hcnlcIj5cbiAgICAgICAgICB7aXNCbG9ja2VkICYmIChcbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgQmxvY2sgcmVhc29uOlxuICAgICAgICAgICAgICB7aXNCbG9ja2VkQnlHcm91cCAmJiBcIiBCbG9ja2VkIGJ5IGdyb3VwXCJ9XG4gICAgICAgICAgICAgIHtpc1Byb3ZpZGVyRXhjbHVkZWQgJiYgXCIgRXhjbHVkZWQgYnkgcHJvdmlkZXJcIn1cbiAgICAgICAgICAgICAge2lzTWVzc2FnZUJsb2NrZWQgJiYgXCIgTWVzc2FnZSBibG9ja2VkXCJ9XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHByZSBjbGFzc05hbWU9e2lzQ29sbGFwc2VkID8gXCJjb2xsYXBzZWRcIiA6IFwiZXhwYW5kZWRcIn0+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgIGlkPXtgJHttc2cuaWR9LXRleHRhcmVhYH1cbiAgICAgICAgICAgICAgICBuYW1lPXttc2cuaWR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2VuZXJhbC10ZXh0YXJlYVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzQmxvY2tlZH1cbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvanN4LW5vLWJpbmRcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLmhhbmRsZUNoYW5nZShtc2cuaWQpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge0pTT04uc3RyaW5naWZ5KG1zZywgbnVsbCwgMil9XG4gICAgICAgICAgICAgIDwvdGV4dGFyZWE+XG4gICAgICAgICAgICA8L3ByZT5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICApO1xuICB9XG5cbiAgcmVzdG9yZVdOTWVzc2FnZVN0YXRlKCkge1xuICAgIC8vIGNoZWNrIHRoZSBwYWdlIGZvciBjaGVja2VkIGJveGVzLCBhbmQgcmVzZXQgdGhlIHN0YXRlIG9mIFdOTWVzc2FnZXMgYmFzZWQgb24gdGhhdC5cbiAgICBsZXQgdGVtcFN0YXRlID0gW107XG4gICAgbGV0IG1lc3NhZ2VDaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgLy8gcHV0IHRoZSBKU09OIG9mIGFsbCB0aGUgY2hlY2tlZCBjaGVja2JveGVzIGluIHRoZSBhcnJheVxuICAgIGZvciAoY29uc3QgY2hlY2tib3ggb2YgbWVzc2FnZUNoZWNrYm94ZXMpIHtcbiAgICAgIGxldCB0cmltbWVkSWQgPSBjaGVja2JveC5pZC5yZXBsYWNlKFwiIGNoZWNrYm94XCIsIFwiXCIpO1xuICAgICAgbGV0IG1zZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RyaW1tZWRJZH0tdGV4dGFyZWFgKS52YWx1ZTtcblxuICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgdGVtcFN0YXRlLnB1c2gobXNnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIFdOTWVzc2FnZXM6IHRlbXBTdGF0ZSxcbiAgICB9KTtcbiAgfVxuXG4gIG1vZGlmeUpzb24oY29udGVudCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OLnBhcnNlKFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7Y29udGVudC5pZH0tdGV4dGFyZWFgKS52YWx1ZVxuICAgICk7XG4gICAgcmV0dXJuIEFTUm91dGVyVXRpbHMubW9kaWZ5TWVzc2FnZUpzb24obWVzc2FnZSkudGhlbihzdGF0ZSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlRnJvbVBhcmVudChzdGF0ZSk7XG4gICAgICB0aGlzLnByb3BzLm5vdGlmeUNvbnRlbnQoe1xuICAgICAgICBtZXNzYWdlOiBzdGF0ZS5tZXNzYWdlLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXJXTk1lc3NhZ2VJdGVtKG1zZykge1xuICAgIGNvbnN0IGlzQmxvY2tlZCA9XG4gICAgICB0aGlzLnN0YXRlLm1lc3NhZ2VCbG9ja0xpc3QuaW5jbHVkZXMobXNnLmlkKSB8fFxuICAgICAgdGhpcy5zdGF0ZS5tZXNzYWdlQmxvY2tMaXN0LmluY2x1ZGVzKG1zZy5jYW1wYWlnbik7XG4gICAgY29uc3QgaW1wcmVzc2lvbnMgPSB0aGlzLnN0YXRlLm1lc3NhZ2VJbXByZXNzaW9uc1ttc2cuaWRdXG4gICAgICA/IHRoaXMuc3RhdGUubWVzc2FnZUltcHJlc3Npb25zW21zZy5pZF0ubGVuZ3RoXG4gICAgICA6IDA7XG5cbiAgICBjb25zdCBpc0NvbGxhcHNlZCA9IHRoaXMuc3RhdGUuY29sbGFwc2VkTWVzc2FnZXMuaW5jbHVkZXMobXNnLmlkKTtcblxuICAgIGxldCBpdGVtQ2xhc3NOYW1lID0gXCJtZXNzYWdlLWl0ZW1cIjtcbiAgICBpZiAoaXNCbG9ja2VkKSB7XG4gICAgICBpdGVtQ2xhc3NOYW1lICs9IFwiIGJsb2NrZWRcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHRyIGNsYXNzTmFtZT17aXRlbUNsYXNzTmFtZX0ga2V5PXtgJHttc2cuaWR9LSR7bXNnLnByb3ZpZGVyfWB9PlxuICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWVzc2FnZS1pZFwiPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAge21zZy5pZH0gPGJyIC8+XG4gICAgICAgICAgICA8YnIgLz4oe2ltcHJlc3Npb25zfSBpbXByZXNzaW9ucylcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvdGQ+XG4gICAgICAgIDx0ZD5cbiAgICAgICAgICA8VG9nZ2xlTWVzc2FnZUpTT05cbiAgICAgICAgICAgIG1zZ0lkPXtgJHttc2cuaWR9YH1cbiAgICAgICAgICAgIHRvZ2dsZUpTT049e3RoaXMudG9nZ2xlSlNPTn1cbiAgICAgICAgICAgIGlzQ29sbGFwc2VkPXtpc0NvbGxhcHNlZH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L3RkPlxuICAgICAgICA8dGQ+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgaWQ9e2Ake21zZy5pZH0gY2hlY2tib3hgfVxuICAgICAgICAgICAgbmFtZT17YCR7bXNnLmlkfSBjaGVja2JveGB9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC90ZD5cbiAgICAgICAgPHRkIGNsYXNzTmFtZT17YG1lc3NhZ2Utc3VtbWFyeWB9PlxuICAgICAgICAgIDxwcmUgY2xhc3NOYW1lPXtpc0NvbGxhcHNlZCA/IFwiY29sbGFwc2VkXCIgOiBcImV4cGFuZGVkXCJ9PlxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgIGlkPXtgJHttc2cuaWR9LXRleHRhcmVhYH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwid25wLXRleHRhcmVhXCJcbiAgICAgICAgICAgICAgbmFtZT17bXNnLmlkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7SlNPTi5zdHJpbmdpZnkobXNnLCBudWxsLCAyKX1cbiAgICAgICAgICAgIDwvdGV4dGFyZWE+XG4gICAgICAgICAgPC9wcmU+XG4gICAgICAgIDwvdGQ+XG4gICAgICA8L3RyPlxuICAgICk7XG4gIH1cblxuICB0b2dnbGVBbGxNZXNzYWdlcyhtZXNzYWdlc1RvU2hvdykge1xuICAgIGlmICh0aGlzLnN0YXRlLmNvbGxhcHNlZE1lc3NhZ2VzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNvbGxhcHNlZE1lc3NhZ2VzOiBbXSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG1lc3NhZ2VzVG9TaG93LCBtc2cgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiAoe1xuICAgICAgICAgIGNvbGxhcHNlZE1lc3NhZ2VzOiBwcmV2U3RhdGUuY29sbGFwc2VkTWVzc2FnZXMuY29uY2F0KG1zZy5pZCksXG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlck1lc3NhZ2VzKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5tZXNzYWdlcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2VzVG9TaG93ID1cbiAgICAgIHRoaXMuc3RhdGUubWVzc2FnZUZpbHRlciA9PT0gXCJhbGxcIlxuICAgICAgICA/IHRoaXMuc3RhdGUubWVzc2FnZXNcbiAgICAgICAgOiB0aGlzLnN0YXRlLm1lc3NhZ2VzLmZpbHRlcihcbiAgICAgICAgICAgIG1lc3NhZ2UgPT4gbWVzc2FnZS5wcm92aWRlciA9PT0gdGhpcy5zdGF0ZS5tZXNzYWdlRmlsdGVyXG4gICAgICAgICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiQVNSb3V0ZXJCdXR0b24gc2xpbVwiXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2pzeC1uby1iaW5kXG4gICAgICAgICAgb25DbGljaz17ZSA9PiB0aGlzLnRvZ2dsZUFsbE1lc3NhZ2VzKG1lc3NhZ2VzVG9TaG93KX1cbiAgICAgICAgPlxuICAgICAgICAgIENvbGxhcHNlL0V4cGFuZCBBbGxcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImhlbHBMaW5rXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbiBpY29uLXNtYWxsLXNwYWNlciBpY29uLWluZm9cIiAvPntcIiBcIn1cbiAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgIFRvIG1vZGlmeSBhIG1lc3NhZ2UsIGNoYW5nZSB0aGUgSlNPTiBhbmQgY2xpY2sgJ01vZGlmeScgdG8gc2VlIHlvdXJcbiAgICAgICAgICAgIGNoYW5nZXMuIENsaWNrICdSZXNldCcgdG8gcmVzdG9yZSB0aGUgSlNPTiB0byB0aGUgb3JpZ2luYWwuXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3A+XG4gICAgICAgIDx0YWJsZT5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICB7bWVzc2FnZXNUb1Nob3cubWFwKG1zZyA9PiB0aGlzLnJlbmRlck1lc3NhZ2VJdGVtKG1zZykpfVxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyTWVzc2FnZXNCeUdyb3VwKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5tZXNzYWdlcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2VzVG9TaG93ID1cbiAgICAgIHRoaXMuc3RhdGUubWVzc2FnZUdyb3Vwc0ZpbHRlciA9PT0gXCJhbGxcIlxuICAgICAgICA/IHRoaXMuc3RhdGUubWVzc2FnZXMuZmlsdGVyKG0gPT4gbS5ncm91cHMubGVuZ3RoKVxuICAgICAgICA6IHRoaXMuc3RhdGUubWVzc2FnZXMuZmlsdGVyKG1lc3NhZ2UgPT5cbiAgICAgICAgICAgIG1lc3NhZ2UuZ3JvdXBzLmluY2x1ZGVzKHRoaXMuc3RhdGUubWVzc2FnZUdyb3Vwc0ZpbHRlcilcbiAgICAgICAgICApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDx0YWJsZT5cbiAgICAgICAgPHRib2R5PnttZXNzYWdlc1RvU2hvdy5tYXAobXNnID0+IHRoaXMucmVuZGVyTWVzc2FnZUl0ZW0obXNnKSl9PC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcldOTWVzc2FnZXMoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLm1lc3NhZ2VzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZXNUb1Nob3cgPSB0aGlzLnN0YXRlLm1lc3NhZ2VzLmZpbHRlcihcbiAgICAgIG1lc3NhZ2UgPT4gbWVzc2FnZS5wcm92aWRlciA9PT0gXCJ3aGF0cy1uZXctcGFuZWxcIiAmJiBtZXNzYWdlLmNvbnRlbnQuYm9keVxuICAgICk7XG4gICAgcmV0dXJuIChcbiAgICAgIDx0YWJsZT5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIHttZXNzYWdlc1RvU2hvdy5tYXAobXNnID0+IHRoaXMucmVuZGVyV05NZXNzYWdlSXRlbShtc2cpKX1cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlck1lc3NhZ2VGaWx0ZXIoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnByb3ZpZGVycykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxwPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwidW5ibG9jay1hbGwgQVNSb3V0ZXJCdXR0b24gdGVzdC1vbmx5XCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnVuYmxvY2tBbGx9XG4gICAgICAgID5cbiAgICAgICAgICBVbmJsb2NrIEFsbCBTbmlwcGV0c1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgey8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmV0dGllci9wcmV0dGllciAqL31cbiAgICAgICAgU2hvdyBtZXNzYWdlcyBmcm9tIHsvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvbm8tb25jaGFuZ2UgKi99XG4gICAgICAgIDxzZWxlY3RcbiAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5tZXNzYWdlRmlsdGVyfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlTWVzc2FnZUZpbHRlcn1cbiAgICAgICAgPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhbGxcIj5hbGwgcHJvdmlkZXJzPC9vcHRpb24+XG4gICAgICAgICAge3RoaXMuc3RhdGUucHJvdmlkZXJzLm1hcChwcm92aWRlciA9PiAoXG4gICAgICAgICAgICA8b3B0aW9uIGtleT17cHJvdmlkZXIuaWR9IHZhbHVlPXtwcm92aWRlci5pZH0+XG4gICAgICAgICAgICAgIHtwcm92aWRlci5pZH1cbiAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAge3RoaXMuc3RhdGUubWVzc2FnZUZpbHRlciAhPT0gXCJhbGxcIiAmJlxuICAgICAgICAhdGhpcy5zdGF0ZS5tZXNzYWdlRmlsdGVyLmluY2x1ZGVzKFwiX2xvY2FsX3Rlc3RpbmdcIikgPyAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnV0dG9uIG1lc3NhZ2VzLXJlc2V0XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xlYXJBbGxJbXByZXNzaW9uc0J5UHJvdmlkZXJ9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgUmVzZXQgQWxsXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC9wPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJNZXNzYWdlR3JvdXBzRmlsdGVyKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5ncm91cHMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8cD5cbiAgICAgICAgU2hvdyBtZXNzYWdlcyBmcm9tIHsvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvbm8tb25jaGFuZ2UgKi99XG4gICAgICAgIDxzZWxlY3RcbiAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5tZXNzYWdlR3JvdXBzRmlsdGVyfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlTWVzc2FnZUdyb3Vwc0ZpbHRlcn1cbiAgICAgICAgPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhbGxcIj5hbGwgZ3JvdXBzPC9vcHRpb24+XG4gICAgICAgICAge3RoaXMuc3RhdGUuZ3JvdXBzLm1hcChncm91cCA9PiAoXG4gICAgICAgICAgICA8b3B0aW9uIGtleT17Z3JvdXAuaWR9IHZhbHVlPXtncm91cC5pZH0+XG4gICAgICAgICAgICAgIHtncm91cC5pZH1cbiAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgIDwvcD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyVGFibGVIZWFkKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dGhlYWQ+XG4gICAgICAgIDx0ciBjbGFzc05hbWU9XCJtZXNzYWdlLWl0ZW1cIj5cbiAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCIgLz5cbiAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+UHJvdmlkZXIgSUQ8L3RkPlxuICAgICAgICAgIDx0ZD5Tb3VyY2U8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5Db2hvcnQ8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5MYXN0IFVwZGF0ZWQ8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgPC90aGVhZD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyUHJvdmlkZXJzKCkge1xuICAgIGNvbnN0IHByb3ZpZGVyc0NvbmZpZyA9IHRoaXMuc3RhdGUucHJvdmlkZXJQcmVmcztcbiAgICBjb25zdCBwcm92aWRlckluZm8gPSB0aGlzLnN0YXRlLnByb3ZpZGVycztcbiAgICBjb25zdCB1c2VyUHJlZkluZm8gPSB0aGlzLnN0YXRlLnVzZXJQcmVmcztcblxuICAgIHJldHVybiAoXG4gICAgICA8dGFibGU+XG4gICAgICAgIHt0aGlzLnJlbmRlclRhYmxlSGVhZCgpfVxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAge3Byb3ZpZGVyc0NvbmZpZy5tYXAoKHByb3ZpZGVyLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc1Rlc3RQcm92aWRlciA9IHByb3ZpZGVyLmlkLmluY2x1ZGVzKFwiX2xvY2FsX3Rlc3RpbmdcIik7XG4gICAgICAgICAgICBjb25zdCBpbmZvID0gcHJvdmlkZXJJbmZvLmZpbmQocCA9PiBwLmlkID09PSBwcm92aWRlci5pZCkgfHwge307XG4gICAgICAgICAgICBjb25zdCBpc1VzZXJFbmFibGVkID1cbiAgICAgICAgICAgICAgcHJvdmlkZXIuaWQgaW4gdXNlclByZWZJbmZvID8gdXNlclByZWZJbmZvW3Byb3ZpZGVyLmlkXSA6IHRydWU7XG4gICAgICAgICAgICBjb25zdCBpc1N5c3RlbUVuYWJsZWQgPSBpc1Rlc3RQcm92aWRlciB8fCBwcm92aWRlci5lbmFibGVkO1xuXG4gICAgICAgICAgICBsZXQgbGFiZWwgPSBcImxvY2FsXCI7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIudHlwZSA9PT0gXCJyZW1vdGVcIikge1xuICAgICAgICAgICAgICBsYWJlbCA9IChcbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIGVuZHBvaW50IChcbiAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInByb3ZpZGVyVXJsXCJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgICAgICAgaHJlZj17aW5mby51cmx9XG4gICAgICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7aW5mby51cmx9XG4gICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm92aWRlci50eXBlID09PSBcInJlbW90ZS1zZXR0aW5nc1wiKSB7XG4gICAgICAgICAgICAgIGxhYmVsID0gYHJlbW90ZSBzZXR0aW5ncyAoJHtwcm92aWRlci5idWNrZXR9KWA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb3ZpZGVyLnR5cGUgPT09IFwicmVtb3RlLWV4cGVyaW1lbnRzXCIpIHtcbiAgICAgICAgICAgICAgbGFiZWwgPSAoXG4gICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICByZW1vdGUgc2V0dGluZ3MgKFxuICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHJvdmlkZXJVcmxcIlxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9maXJlZm94LnNldHRpbmdzLnNlcnZpY2VzLm1vemlsbGEuY29tL3YxL2J1Y2tldHMvbWFpbi9jb2xsZWN0aW9ucy9uaW1idXMtZGVza3RvcC1leHBlcmltZW50cy9yZWNvcmRzXCJcbiAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIG5pbWJ1cy1kZXNrdG9wLWV4cGVyaW1lbnRzXG4gICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcmVhc29uc0Rpc2FibGVkID0gW107XG4gICAgICAgICAgICBpZiAoIWlzU3lzdGVtRW5hYmxlZCkge1xuICAgICAgICAgICAgICByZWFzb25zRGlzYWJsZWQucHVzaChcInN5c3RlbSBwcmVmXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1VzZXJFbmFibGVkKSB7XG4gICAgICAgICAgICAgIHJlYXNvbnNEaXNhYmxlZC5wdXNoKFwidXNlciBwcmVmXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlYXNvbnNEaXNhYmxlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgbGFiZWwgPSBgZGlzYWJsZWQgdmlhICR7cmVhc29uc0Rpc2FibGVkLmpvaW4oXCIsIFwiKX1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8dHIgY2xhc3NOYW1lPVwibWVzc2FnZS1pdGVtXCIga2V5PXtpfT5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICB7aXNUZXN0UHJvdmlkZXIgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YS1wcm92aWRlcj17cHJvdmlkZXIuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17aXNVc2VyRW5hYmxlZCAmJiBpc1N5c3RlbUVuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlRW5hYmxlZFRvZ2dsZX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+e3Byb3ZpZGVyLmlkfTwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgc291cmNlTGFiZWwke1xuICAgICAgICAgICAgICAgICAgICAgIGlzVXNlckVuYWJsZWQgJiYgaXNTeXN0ZW1FbmFibGVkID8gXCJcIiA6IFwiIGlzRGlzYWJsZWRcIlxuICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPntwcm92aWRlci5jb2hvcnR9PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgd2hpdGVTcGFjZTogXCJub3dyYXBcIiB9fT5cbiAgICAgICAgICAgICAgICAgIHtpbmZvLmxhc3RVcGRhdGVkXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IERhdGUoaW5mby5sYXN0VXBkYXRlZCkudG9Mb2NhbGVTdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJUYXJnZXRpbmdQYXJhbWV0ZXJzKCkge1xuICAgIC8vIFRoZXJlIHdhcyBubyBlcnJvciBhbmQgdGhlIHJlc3VsdCBpcyB0cnV0aHlcbiAgICBjb25zdCBzdWNjZXNzID1cbiAgICAgIHRoaXMuc3RhdGUuZXZhbHVhdGlvblN0YXR1cy5zdWNjZXNzICYmXG4gICAgICAhIXRoaXMuc3RhdGUuZXZhbHVhdGlvblN0YXR1cy5yZXN1bHQ7XG4gICAgY29uc3QgcmVzdWx0ID1cbiAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUuZXZhbHVhdGlvblN0YXR1cy5yZXN1bHQsIG51bGwsIDIpIHx8XG4gICAgICBcIihFbXB0eSByZXN1bHQpXCI7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHRhYmxlPlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8aDI+RXZhbHVhdGUgSkVYTCBleHByZXNzaW9uPC9oMj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgcmVmPVwiZXhwcmVzc2lvbklucHV0XCJcbiAgICAgICAgICAgICAgICAgIHJvd3M9XCIxMFwiXG4gICAgICAgICAgICAgICAgICBjb2xzPVwiNjBcIlxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFdmFsdWF0ZSBKRVhMIGV4cHJlc3Npb25zIGFuZCBtb2NrIHBhcmFtZXRlcnMgYnkgY2hhbmdpbmcgdGhlaXIgdmFsdWVzIGJlbG93XCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgIFN0YXR1czp7XCIgXCJ9XG4gICAgICAgICAgICAgICAgPHNwYW4gcmVmPVwiZXZhbHVhdGlvblN0YXR1c1wiPlxuICAgICAgICAgICAgICAgICAge3N1Y2Nlc3MgPyBcIuKchVwiIDogXCLinYxcIn0sIFJlc3VsdDoge3Jlc3VsdH1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJBU1JvdXRlckJ1dHRvbiBzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlRXhwcmVzc2lvbkV2YWx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBFdmFsdWF0ZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIDxoMj5Nb2RpZnkgdGFyZ2V0aW5nIHBhcmFtZXRlcnM8L2gyPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIkFTUm91dGVyQnV0dG9uIHNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNvcHlUYXJnZXRpbmdQYXJhbXN9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuY29waWVkVG9DbGlwYm9hcmR9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5jb3BpZWRUb0NsaXBib2FyZFxuICAgICAgICAgICAgICAgICAgPyBcIlBhcmFtZXRlcnMgY29waWVkIVwiXG4gICAgICAgICAgICAgICAgICA6IFwiQ29weSBwYXJhbWV0ZXJzXCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIHt0aGlzLnN0YXRlLnN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMgJiZcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVycykubWFwKFxuICAgICAgICAgICAgICAocGFyYW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuc3RhdGUuc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVyc1twYXJhbV07XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JTdGF0ZSA9XG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnRhcmdldGluZ1BhcmFtZXRlcnNFcnJvciAmJlxuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS50YXJnZXRpbmdQYXJhbWV0ZXJzRXJyb3IuaWQgPT09IHBhcmFtO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IGVycm9yU3RhdGUgPyBcImVycm9yU3RhdGVcIiA6IFwiXCI7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXRDb21wID1cbiAgICAgICAgICAgICAgICAgICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGgpID4gMzAgPyAoXG4gICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e3BhcmFtfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICByb3dzPVwiMTBcIlxuICAgICAgICAgICAgICAgICAgICAgIGNvbHM9XCI2MFwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VUYXJnZXRpbmdQYXJhbWV0ZXJzfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT17cGFyYW19XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlVGFyZ2V0aW5nUGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPHRyIGtleT17aX0+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD57cGFyYW19PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPntpbnB1dENvbXB9PC90ZD5cbiAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgKTtcbiAgfVxuXG4gIG9uQ2hhbmdlQXR0cmlidXRpb25QYXJhbWV0ZXJzKGV2ZW50KSB7XG4gICAgY29uc3QgeyBuYW1lLCB2YWx1ZSB9ID0gZXZlbnQudGFyZ2V0O1xuXG4gICAgdGhpcy5zZXRTdGF0ZSgoeyBhdHRyaWJ1dGlvblBhcmFtZXRlcnMgfSkgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZFBhcmFtZXRlcnMgPSB7IC4uLmF0dHJpYnV0aW9uUGFyYW1ldGVycyB9O1xuICAgICAgdXBkYXRlZFBhcmFtZXRlcnNbbmFtZV0gPSB2YWx1ZTtcblxuICAgICAgcmV0dXJuIHsgYXR0cmlidXRpb25QYXJhbWV0ZXJzOiB1cGRhdGVkUGFyYW1ldGVycyB9O1xuICAgIH0pO1xuICB9XG5cbiAgc2V0QXR0cmlidXRpb24oZSkge1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJGT1JDRV9BVFRSSUJVVElPTlwiLFxuICAgICAgZGF0YTogdGhpcy5zdGF0ZS5hdHRyaWJ1dGlvblBhcmFtZXRlcnMsXG4gICAgfSkudGhlbih0aGlzLnNldFN0YXRlRnJvbVBhcmVudCk7XG4gIH1cblxuICBfZ2V0R3JvdXBJbXByZXNzaW9uc0NvdW50KGlkLCBmcmVxdWVuY3kpIHtcbiAgICBpZiAoZnJlcXVlbmN5KSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ncm91cEltcHJlc3Npb25zW2lkXVxuICAgICAgICA/IHRoaXMuc3RhdGUuZ3JvdXBJbXByZXNzaW9uc1tpZF0ubGVuZ3RoXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJuL2FcIjtcbiAgfVxuXG4gIHJlbmRlckRpc2NvdmVyeVN0cmVhbSgpIHtcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wcy5EaXNjb3ZlcnlTdHJlYW07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCJtZXNzYWdlLWl0ZW1cIj5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkVuYWJsZWQ8L3RkPlxuICAgICAgICAgICAgICA8dGQ+e2NvbmZpZy5lbmFibGVkID8gXCJ5ZXNcIiA6IFwibm9cIn08L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCJtZXNzYWdlLWl0ZW1cIj5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkVuZHBvaW50PC90ZD5cbiAgICAgICAgICAgICAgPHRkPntjb25maWcuZW5kcG9pbnQgfHwgXCIoZW1wdHkpXCJ9PC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJBdHRyaWJ1dGlvblBhcmFtZXJzKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8aDI+IEF0dHJpYnV0aW9uIFBhcmFtZXRlcnMgPC9oMj5cbiAgICAgICAgPHA+XG4gICAgICAgICAge1wiIFwifVxuICAgICAgICAgIFRoaXMgZm9yY2VzIHRoZSBicm93c2VyIHRvIHNldCBzb21lIGF0dHJpYnV0aW9uIHBhcmFtZXRlcnMsIHVzZWZ1bCBmb3JcbiAgICAgICAgICB0ZXN0aW5nIHRoZSBSZXR1cm4gVG8gQU1PIGZlYXR1cmUuIENsaWNraW5nIG9uICdGb3JjZSBBdHRyaWJ1dGlvbicsXG4gICAgICAgICAgd2l0aCB0aGUgZGVmYXVsdCB2YWx1ZXMgaW4gZWFjaCBmaWVsZCwgd2lsbCBkZW1vIHRoZSBSZXR1cm4gVG8gQU1PXG4gICAgICAgICAgZmxvdyB3aXRoIHRoZSBhZGRvbiBjYWxsZWQgJ3VCbG9jayBPcmlnaW4nLiBJZiB5b3Ugd2lzaCB0byB0cnlcbiAgICAgICAgICBkaWZmZXJlbnQgYXR0cmlidXRpb24gcGFyYW1ldGVycywgZW50ZXIgdGhlbSBpbiB0aGUgdGV4dCBib3hlcy4gSWYgeW91XG4gICAgICAgICAgd2lzaCB0byB0cnkgYSBkaWZmZXJlbnQgYWRkb24gd2l0aCB0aGUgUmV0dXJuIFRvIEFNTyBmbG93LCBtYWtlIHN1cmVcbiAgICAgICAgICB0aGUgJ2NvbnRlbnQnIHRleHQgYm94IGhhcyBhIHN0cmluZyB0aGF0IGlzICdydGE6YmFzZTY0KGFkZG9uSUQpJywgdGhlXG4gICAgICAgICAgYmFzZTY0IHN0cmluZyBvZiB0aGUgYWRkb25JRCBwcmVmaXhlZCB3aXRoICdydGE6Jy4gVGhlIGFkZG9uIG11c3RcbiAgICAgICAgICBjdXJyZW50bHkgYmUgYSByZWNvbW1lbmRlZCBhZGRvbiBvbiBBTU8uIFRoZW4gY2xpY2sgJ0ZvcmNlXG4gICAgICAgICAgQXR0cmlidXRpb24nLiBDbGlja2luZyBvbiAnRm9yY2UgQXR0cmlidXRpb24nIHdpdGggYmxhbmsgdGV4dCBib3hlc1xuICAgICAgICAgIHJlc2V0IGF0dHJpYnV0aW9uIGRhdGEuXG4gICAgICAgIDwvcD5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPGI+IFNvdXJjZSA8L2I+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICB7XCIgXCJ9XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBuYW1lPVwic291cmNlXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImFkZG9ucy5tb3ppbGxhLm9yZ1wiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXR0cmlidXRpb25QYXJhbWV0ZXJzLnNvdXJjZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUF0dHJpYnV0aW9uUGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8Yj4gTWVkaXVtIDwvYj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIHtcIiBcIn1cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJtZWRpdW1cIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwicmVmZXJyYWxcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmF0dHJpYnV0aW9uUGFyYW1ldGVycy5tZWRpdW19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VBdHRyaWJ1dGlvblBhcmFtZXRlcnN9XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPGI+IENhbXBhaWduIDwvYj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIHtcIiBcIn1cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJjYW1wYWlnblwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJub24tZngtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hdHRyaWJ1dGlvblBhcmFtZXRlcnMuY2FtcGFpZ259XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VBdHRyaWJ1dGlvblBhcmFtZXRlcnN9XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPGI+IENvbnRlbnQgPC9iPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAge1wiIFwifVxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgbmFtZT1cImNvbnRlbnRcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgcnRhOiR7YnRvYShcInVCbG9jazBAcmF5bW9uZGhpbGwubmV0XCIpfWB9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXR0cmlidXRpb25QYXJhbWV0ZXJzLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VBdHRyaWJ1dGlvblBhcmFtZXRlcnN9XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPGI+IEV4cGVyaW1lbnQgPC9iPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAge1wiIFwifVxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgbmFtZT1cImV4cGVyaW1lbnRcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwidWEtb25ib2FyZGluZ1wiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXR0cmlidXRpb25QYXJhbWV0ZXJzLmV4cGVyaW1lbnR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VBdHRyaWJ1dGlvblBhcmFtZXRlcnN9XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPGI+IFZhcmlhdGlvbiA8L2I+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICB7XCIgXCJ9XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBuYW1lPVwidmFyaWF0aW9uXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImNocm9tZVwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXR0cmlidXRpb25QYXJhbWV0ZXJzLnZhcmlhdGlvbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUF0dHJpYnV0aW9uUGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8Yj4gVXNlciBBZ2VudCA8L2I+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICB7XCIgXCJ9XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBuYW1lPVwidWFcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiR29vZ2xlIENocm9tZSAxMjNcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmF0dHJpYnV0aW9uUGFyYW1ldGVycy51YX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUF0dHJpYnV0aW9uUGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8Yj4gRG93bmxvYWQgVG9rZW4gPC9iPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAge1wiIFwifVxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgbmFtZT1cImRsdG9rZW5cIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hdHRyaWJ1dGlvblBhcmFtZXRlcnMuZGx0b2tlbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUF0dHJpYnV0aW9uUGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICB7XCIgXCJ9XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJBU1JvdXRlckJ1dHRvbiBwcmltYXJ5IGJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zZXRBdHRyaWJ1dGlvbn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtcIiBcIn1cbiAgICAgICAgICAgICAgICBGb3JjZSBBdHRyaWJ1dGlvbntcIiBcIn1cbiAgICAgICAgICAgICAgPC9idXR0b24+e1wiIFwifVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckVycm9yTWVzc2FnZSh7IGlkLCBlcnJvcnMgfSkge1xuICAgIGNvbnN0IHByb3ZpZGVySWQgPSA8dGQgcm93U3Bhbj17ZXJyb3JzLmxlbmd0aH0+e2lkfTwvdGQ+O1xuICAgIC8vIC5yZXZlcnNlKCkgc28gdGhhdCB0aGUgbGFzdCBlcnJvciAobW9zdCByZWNlbnQpIGlzIGZpcnN0XG4gICAgcmV0dXJuIGVycm9yc1xuICAgICAgLm1hcCgoeyBlcnJvciwgdGltZXN0YW1wIH0sIGNlbGxLZXkpID0+IChcbiAgICAgICAgPHRyIGtleT17Y2VsbEtleX0+XG4gICAgICAgICAge2NlbGxLZXkgPT09IGVycm9ycy5sZW5ndGggLSAxID8gcHJvdmlkZXJJZCA6IG51bGx9XG4gICAgICAgICAgPHRkPntlcnJvci5tZXNzYWdlfTwvdGQ+XG4gICAgICAgICAgPHRkPntyZWxhdGl2ZVRpbWUodGltZXN0YW1wKX08L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgKSlcbiAgICAgIC5yZXZlcnNlKCk7XG4gIH1cblxuICByZW5kZXJFcnJvcnMoKSB7XG4gICAgY29uc3QgcHJvdmlkZXJzV2l0aEVycm9ycyA9XG4gICAgICB0aGlzLnN0YXRlLnByb3ZpZGVycyAmJlxuICAgICAgdGhpcy5zdGF0ZS5wcm92aWRlcnMuZmlsdGVyKHAgPT4gcC5lcnJvcnMgJiYgcC5lcnJvcnMubGVuZ3RoKTtcblxuICAgIGlmIChwcm92aWRlcnNXaXRoRXJyb3JzICYmIHByb3ZpZGVyc1dpdGhFcnJvcnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiZXJyb3JSZXBvcnRpbmdcIj5cbiAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgIDx0aD5Qcm92aWRlciBJRDwvdGg+XG4gICAgICAgICAgICAgIDx0aD5NZXNzYWdlPC90aD5cbiAgICAgICAgICAgICAgPHRoPlRpbWVzdGFtcDwvdGg+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgPHRib2R5Pntwcm92aWRlcnNXaXRoRXJyb3JzLm1hcCh0aGlzLnJlbmRlckVycm9yTWVzc2FnZSl9PC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIDxwPk5vIGVycm9yczwvcD47XG4gIH1cblxuICByZW5kZXJXTlBUZXN0cygpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubWVzc2FnZXMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgbWVzc2FnZXNUb1Nob3cgPSB0aGlzLnN0YXRlLm1lc3NhZ2VzLmZpbHRlcihcbiAgICAgIG1lc3NhZ2UgPT4gbWVzc2FnZS5wcm92aWRlciA9PT0gXCJ3aGF0cy1uZXctcGFuZWxcIlxuICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwiaGVscExpbmtcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tc21hbGwtc3BhY2VyIGljb24taW5mb1wiIC8+e1wiIFwifVxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgVG8gY29ycmVjdGx5IHJlbmRlciBzZWxlY3RlZCBtZXNzYWdlcywgY2xpY2sgJ09wZW4gV2hhdCdzIE5ld1xuICAgICAgICAgICAgUGFuZWwnLCBzZWxlY3QgdGhlIG1lc3NhZ2VzIHlvdSB3YW50IHRvIHNlZSwgYW5kIGNsaWNrICdSZW5kZXJcbiAgICAgICAgICAgIFNlbGVjdGVkIE1lc3NhZ2VzJy5cbiAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICBUbyBtb2RpZnkgYSBtZXNzYWdlLCBzZWxlY3QgaXQsIG1vZGlmeSB0aGUgSlNPTiBhbmQgY2xpY2sgJ1JlbmRlclxuICAgICAgICAgICAgU2VsZWN0ZWQgTWVzc2FnZXMnIGFnYWluIHRvIHNlZSB5b3VyIGNoYW5nZXMuXG4gICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgIENsaWNrICdSZXNldCBQYW5lbCcgdG8gY2xvc2UgdGhlIHBhbmVsIGFuZCByZXNldCBhbGwgSlNPTiB0byBpdHNcbiAgICAgICAgICAgIG9yaWdpbmFsIHN0YXRlLlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIkFTUm91dGVyQnV0dG9uIHByaW1hcnkgYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlRm9yY2VXTlB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgT3BlbiBXaGF0J3MgTmV3IFBhbmVsXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiQVNSb3V0ZXJCdXR0b24gc2Vjb25kYXJ5IGJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZVVwZGF0ZVdOTWVzc2FnZXN9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgUmVuZGVyIFNlbGVjdGVkIE1lc3NhZ2VzXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiQVNSb3V0ZXJCdXR0b24gc2Vjb25kYXJ5IGJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnJlc2V0UGFuZWx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgUmVzZXQgUGFuZWxcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDI+TWVzc2FnZXM8L2gyPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIkFTUm91dGVyQnV0dG9uIHNsaW0gYnV0dG9uXCJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9qc3gtbm8tYmluZFxuICAgICAgICAgICAgb25DbGljaz17ZSA9PiB0aGlzLnRvZ2dsZUFsbE1lc3NhZ2VzKG1lc3NhZ2VzVG9TaG93KX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBDb2xsYXBzZS9FeHBhbmQgQWxsXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAge3RoaXMucmVuZGVyV05NZXNzYWdlcygpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBnZXRTZWN0aW9uKCkge1xuICAgIGNvbnN0IFtzZWN0aW9uXSA9IHRoaXMucHJvcHMubG9jYXRpb24ucm91dGVzO1xuICAgIHN3aXRjaCAoc2VjdGlvbikge1xuICAgICAgY2FzZSBcInducGFuZWxcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICA8aDI+V2hhdCdzIE5ldyBQYW5lbDwvaDI+XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJXTlBUZXN0cygpfVxuICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwidGFyZ2V0aW5nXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgPGgyPlRhcmdldGluZyBVdGlsaXRpZXM8L2gyPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLmV4cGlyZUNhY2hlfT5cbiAgICAgICAgICAgICAgRXhwaXJlIENhY2hlXG4gICAgICAgICAgICA8L2J1dHRvbj57XCIgXCJ9XG4gICAgICAgICAgICAoVGhpcyBleHBpcmVzIHRoZSBjYWNoZSBpbiBBU1IgVGFyZ2V0aW5nIGZvciBib29rbWFya3MgYW5kIHRvcFxuICAgICAgICAgICAgc2l0ZXMpXG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJUYXJnZXRpbmdQYXJhbWV0ZXJzKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJBdHRyaWJ1dGlvblBhcmFtZXJzKCl9XG4gICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJncm91cHNcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICA8aDI+TWVzc2FnZSBHcm91cHM8L2gyPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnJlc2V0R3JvdXBzfT5cbiAgICAgICAgICAgICAgUmVzZXQgZ3JvdXAgaW1wcmVzc2lvbnNcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPHRhYmxlPlxuICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT1cIm1lc3NhZ2UtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgPHRkPkVuYWJsZWQ8L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkPkltcHJlc3Npb25zIGNvdW50PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZD5DdXN0b20gZnJlcXVlbmN5PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZD5Vc2VyIHByZWZlcmVuY2VzPC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZ3JvdXBzICYmXG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmdyb3Vwcy5tYXAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICB7IGlkLCBlbmFibGVkLCBmcmVxdWVuY3ksIHVzZXJQcmVmZXJlbmNlcyA9IFtdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFJvdyBrZXk9e2lkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFRvZ2dsZVByZWZDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2VuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZj17aWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt0aGlzLl9nZXRHcm91cEltcHJlc3Npb25zQ291bnQoaWQsIGZyZXF1ZW5jeSl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57SlNPTi5zdHJpbmdpZnkoZnJlcXVlbmN5LCBudWxsLCAyKX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt1c2VyUHJlZmVyZW5jZXMuam9pbihcIiwgXCIpfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAge3RoaXMucmVuZGVyTWVzc2FnZUdyb3Vwc0ZpbHRlcigpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVyTWVzc2FnZXNCeUdyb3VwKCl9XG4gICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJkc1wiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgIDxoMj5EaXNjb3ZlcnkgU3RyZWFtPC9oMj5cbiAgICAgICAgICAgIDxEaXNjb3ZlcnlTdHJlYW1BZG1pblxuICAgICAgICAgICAgICBzdGF0ZT17e1xuICAgICAgICAgICAgICAgIERpc2NvdmVyeVN0cmVhbTogdGhpcy5wcm9wcy5EaXNjb3ZlcnlTdHJlYW0sXG4gICAgICAgICAgICAgICAgUGVyc29uYWxpemF0aW9uOiB0aGlzLnByb3BzLlBlcnNvbmFsaXphdGlvbixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb3RoZXJQcmVmcz17dGhpcy5wcm9wcy5QcmVmcy52YWx1ZXN9XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICApO1xuICAgICAgY2FzZSBcImVycm9yc1wiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgIDxoMj5BU1JvdXRlciBFcnJvcnM8L2gyPlxuICAgICAgICAgICAge3RoaXMucmVuZGVyRXJyb3JzKCl9XG4gICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgPGgyPlxuICAgICAgICAgICAgICBNZXNzYWdlIFByb3ZpZGVyc3tcIiBcIn1cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVzdG9yZSBhbGwgcHJvdmlkZXIgc2V0dGluZ3MgdGhhdCBzaGlwIHdpdGggRmlyZWZveFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnJlc2V0UHJlZn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFJlc3RvcmUgZGVmYXVsdCBwcmVmc1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5wcm92aWRlcnMgPyB0aGlzLnJlbmRlclByb3ZpZGVycygpIDogbnVsbH1cbiAgICAgICAgICAgIDxoMj5NZXNzYWdlczwvaDI+XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJNZXNzYWdlRmlsdGVyKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJNZXNzYWdlcygpfVxuICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YGFzcm91dGVyLWFkbWluICR7XG4gICAgICAgICAgdGhpcy5wcm9wcy5jb2xsYXBzZWQgPyBcImNvbGxhcHNlZFwiIDogXCJleHBhbmRlZFwiXG4gICAgICAgIH1gfVxuICAgICAgPlxuICAgICAgICA8YXNpZGUgY2xhc3NOYW1lPVwic2lkZWJhclwiPlxuICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiNkZXZ0b29sc1wiPkdlbmVyYWw8L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiI2RldnRvb2xzLXducGFuZWxcIj5XaGF0J3MgTmV3IFBhbmVsPC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiNkZXZ0b29scy10YXJnZXRpbmdcIj5UYXJnZXRpbmc8L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiI2RldnRvb2xzLWdyb3Vwc1wiPk1lc3NhZ2UgR3JvdXBzPC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiNkZXZ0b29scy1kc1wiPkRpc2NvdmVyeSBTdHJlYW08L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiI2RldnRvb2xzLWVycm9yc1wiPkVycm9yczwvYT5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9hc2lkZT5cbiAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwibWFpbi1wYW5lbFwiPlxuICAgICAgICAgIDxoMT5BUyBSb3V0ZXIgQWRtaW48L2gxPlxuXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiaGVscExpbmtcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24gaWNvbi1zbWFsbC1zcGFjZXIgaWNvbi1pbmZvXCIgLz57XCIgXCJ9XG4gICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgTmVlZCBoZWxwIHVzaW5nIHRoZXNlIHRvb2xzPyBDaGVjayBvdXQgb3Vye1wiIFwifVxuICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgIHRhcmdldD1cImJsYW5rXCJcbiAgICAgICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvYWN0aXZpdHktc3RyZWFtL2Jsb2IvbWFzdGVyL2NvbnRlbnQtc3JjL2Fzcm91dGVyL2RvY3MvZGVidWdnaW5nLWRvY3MubWRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgZG9jdW1lbnRhdGlvblxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9wPlxuXG4gICAgICAgICAge3RoaXMuZ2V0U2VjdGlvbigpfVxuICAgICAgICA8L21haW4+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb2xsYXBzZVRvZ2dsZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQ29sbGFwc2VUb2dnbGUgPSB0aGlzLm9uQ29sbGFwc2VUb2dnbGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0geyBjb2xsYXBzZWQ6IGZhbHNlIH07XG4gIH1cblxuICBnZXQgcmVuZGVyQWRtaW4oKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICByZXR1cm4gKFxuICAgICAgcHJvcHMubG9jYXRpb24uaGFzaCAmJlxuICAgICAgKHByb3BzLmxvY2F0aW9uLmhhc2guc3RhcnRzV2l0aChcIiNhc3JvdXRlclwiKSB8fFxuICAgICAgICBwcm9wcy5sb2NhdGlvbi5oYXNoLnN0YXJ0c1dpdGgoXCIjZGV2dG9vbHNcIikpXG4gICAgKTtcbiAgfVxuXG4gIG9uQ29sbGFwc2VUb2dnbGUoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlID0+ICh7IGNvbGxhcHNlZDogIXN0YXRlLmNvbGxhcHNlZCB9KSk7XG4gIH1cblxuICBzZXRCb2R5Q2xhc3MoKSB7XG4gICAgaWYgKHRoaXMucmVuZGVyQWRtaW4gJiYgIXRoaXMuc3RhdGUuY29sbGFwc2VkKSB7XG4gICAgICBnbG9iYWwuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwibm8tc2Nyb2xsXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbG9iYWwuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwibm8tc2Nyb2xsXCIpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuc2V0Qm9keUNsYXNzKCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5zZXRCb2R5Q2xhc3MoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGdsb2JhbC5kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJuby1zY3JvbGxcIik7XG4gICAgQVNSb3V0ZXJVdGlscy5yZW1vdmVMaXN0ZW5lcih0aGlzLm9uTWVzc2FnZUZyb21QYXJlbnQpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyByZW5kZXJBZG1pbiB9ID0gdGhpcztcbiAgICBjb25zdCBpc0NvbGxhcHNlZCA9IHRoaXMuc3RhdGUuY29sbGFwc2VkIHx8ICFyZW5kZXJBZG1pbjtcbiAgICBjb25zdCBsYWJlbCA9IGAke2lzQ29sbGFwc2VkID8gXCJFeHBhbmRcIiA6IFwiQ29sbGFwc2VcIn0gZGV2dG9vbHNgO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj1cIiNkZXZ0b29sc1wiXG4gICAgICAgICAgdGl0bGU9e2xhYmVsfVxuICAgICAgICAgIGFyaWEtbGFiZWw9e2xhYmVsfVxuICAgICAgICAgIGNsYXNzTmFtZT17YGFzcm91dGVyLXRvZ2dsZSAke1xuICAgICAgICAgICAgaXNDb2xsYXBzZWQgPyBcImNvbGxhcHNlZFwiIDogXCJleHBhbmRlZFwiXG4gICAgICAgICAgfWB9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5yZW5kZXJBZG1pbiA/IHRoaXMub25Db2xsYXBzZVRvZ2dsZSA6IG51bGx9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tZGV2dG9vbHNcIiAvPlxuICAgICAgICA8L2E+XG4gICAgICAgIHtyZW5kZXJBZG1pbiA/IChcbiAgICAgICAgICA8QVNSb3V0ZXJBZG1pbklubmVyIHsuLi5wcm9wc30gY29sbGFwc2VkPXt0aGlzLnN0YXRlLmNvbGxhcHNlZH0gLz5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgX0FTUm91dGVyQWRtaW4gPSBwcm9wcyA9PiAoXG4gIDxTaW1wbGVIYXNoUm91dGVyPlxuICAgIDxDb2xsYXBzZVRvZ2dsZSB7Li4ucHJvcHN9IC8+XG4gIDwvU2ltcGxlSGFzaFJvdXRlcj5cbik7XG5cbmV4cG9ydCBjb25zdCBBU1JvdXRlckFkbWluID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBTZWN0aW9uczogc3RhdGUuU2VjdGlvbnMsXG4gIERpc2NvdmVyeVN0cmVhbTogc3RhdGUuRGlzY292ZXJ5U3RyZWFtLFxuICBQZXJzb25hbGl6YXRpb246IHN0YXRlLlBlcnNvbmFsaXphdGlvbixcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxufSkpKF9BU1JvdXRlckFkbWluKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IE1FU1NBR0VfVFlQRV9IQVNIIGFzIG1zZyB9IGZyb20gXCJjb21tb24vQWN0b3JDb25zdGFudHMuanNtXCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcblxuZXhwb3J0IGNvbnN0IEFTUm91dGVyVXRpbHMgPSB7XG4gIGFkZExpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgaWYgKGdsb2JhbC5BU1JvdXRlckFkZFBhcmVudExpc3RlbmVyKSB7XG4gICAgICBnbG9iYWwuQVNSb3V0ZXJBZGRQYXJlbnRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgfVxuICB9LFxuICByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgIGlmIChnbG9iYWwuQVNSb3V0ZXJSZW1vdmVQYXJlbnRMaXN0ZW5lcikge1xuICAgICAgZ2xvYmFsLkFTUm91dGVyUmVtb3ZlUGFyZW50TGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIH1cbiAgfSxcbiAgc2VuZE1lc3NhZ2UoYWN0aW9uKSB7XG4gICAgaWYgKGdsb2JhbC5BU1JvdXRlck1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBnbG9iYWwuQVNSb3V0ZXJNZXNzYWdlKGFjdGlvbik7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBjYWxsOlxcbiR7SlNPTi5zdHJpbmdpZnkoYWN0aW9uLCBudWxsLCAzKX1gKTtcbiAgfSxcbiAgYmxvY2tCeUlkKGlkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogbXNnLkJMT0NLX01FU1NBR0VfQllfSUQsXG4gICAgICBkYXRhOiB7IGlkLCAuLi5vcHRpb25zIH0sXG4gICAgfSk7XG4gIH0sXG4gIG1vZGlmeU1lc3NhZ2VKc29uKGNvbnRlbnQpIHtcbiAgICByZXR1cm4gQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBtc2cuTU9ESUZZX01FU1NBR0VfSlNPTixcbiAgICAgIGRhdGE6IHsgY29udGVudCB9LFxuICAgIH0pO1xuICB9LFxuICBleGVjdXRlQWN0aW9uKGJ1dHRvbl9hY3Rpb24pIHtcbiAgICByZXR1cm4gQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBtc2cuVVNFUl9BQ1RJT04sXG4gICAgICBkYXRhOiBidXR0b25fYWN0aW9uLFxuICAgIH0pO1xuICB9LFxuICB1bmJsb2NrQnlJZChpZCkge1xuICAgIHJldHVybiBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IG1zZy5VTkJMT0NLX01FU1NBR0VfQllfSUQsXG4gICAgICBkYXRhOiB7IGlkIH0sXG4gICAgfSk7XG4gIH0sXG4gIGJsb2NrQnVuZGxlKGJ1bmRsZSkge1xuICAgIHJldHVybiBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IG1zZy5CTE9DS19CVU5ETEUsXG4gICAgICBkYXRhOiB7IGJ1bmRsZSB9LFxuICAgIH0pO1xuICB9LFxuICB1bmJsb2NrQnVuZGxlKGJ1bmRsZSkge1xuICAgIHJldHVybiBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IG1zZy5VTkJMT0NLX0JVTkRMRSxcbiAgICAgIGRhdGE6IHsgYnVuZGxlIH0sXG4gICAgfSk7XG4gIH0sXG4gIG92ZXJyaWRlTWVzc2FnZShpZCkge1xuICAgIHJldHVybiBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IG1zZy5PVkVSUklERV9NRVNTQUdFLFxuICAgICAgZGF0YTogeyBpZCB9LFxuICAgIH0pO1xuICB9LFxuICBzZW5kVGVsZW1ldHJ5KHBpbmcpIHtcbiAgICByZXR1cm4gQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZShhYy5BU1JvdXRlclVzZXJFdmVudChwaW5nKSk7XG4gIH0sXG4gIGdldFByZXZpZXdFbmRwb2ludCgpIHtcbiAgICBpZiAoXG4gICAgICBnbG9iYWwuZG9jdW1lbnQgJiZcbiAgICAgIGdsb2JhbC5kb2N1bWVudC5sb2NhdGlvbiAmJlxuICAgICAgZ2xvYmFsLmRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCJlbmRwb2ludFwiKVxuICAgICkge1xuICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhcbiAgICAgICAgZ2xvYmFsLmRvY3VtZW50LmxvY2F0aW9uLmhyZWYuc2xpY2UoXG4gICAgICAgICAgZ2xvYmFsLmRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihcImVuZHBvaW50XCIpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBlbmRwb2ludCA9IG5ldyBVUkwocGFyYW1zLmdldChcImVuZHBvaW50XCIpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB1cmw6IGVuZHBvaW50LmhyZWYsXG4gICAgICAgICAgc25pcHBldElkOiBwYXJhbXMuZ2V0KFwic25pcHBldElkXCIpLFxuICAgICAgICAgIHRoZW1lOiB0aGlzLmdldFByZXZpZXdUaGVtZSgpLFxuICAgICAgICAgIGRpcjogdGhpcy5nZXRQcmV2aWV3RGlyKCksXG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBnZXRQcmV2aWV3VGhlbWUoKSB7XG4gICAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoXG4gICAgICBnbG9iYWwuZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zbGljZShcbiAgICAgICAgZ2xvYmFsLmRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihcInRoZW1lXCIpXG4gICAgICApXG4gICAgKS5nZXQoXCJ0aGVtZVwiKTtcbiAgfSxcbiAgZ2V0UHJldmlld0RpcigpIHtcbiAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhcbiAgICAgIGdsb2JhbC5kb2N1bWVudC5sb2NhdGlvbi5ocmVmLnNsaWNlKFxuICAgICAgICBnbG9iYWwuZG9jdW1lbnQubG9jYXRpb24uaHJlZi5pbmRleE9mKFwiZGlyXCIpXG4gICAgICApXG4gICAgKS5nZXQoXCJkaXJcIik7XG4gIH0sXG59O1xuIiwiLyogdmltOiBzZXQgdHM9MiBzdz0yIHN0cz0yIGV0IHR3PTgwOiAqL1xuLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBNRVNTQUdFX1RZUEVfTElTVCA9IFtcbiAgXCJCTE9DS19NRVNTQUdFX0JZX0lEXCIsXG4gIFwiVVNFUl9BQ1RJT05cIixcbiAgXCJJTVBSRVNTSU9OXCIsXG4gIFwiVFJJR0dFUlwiLFxuICBcIk5FV1RBQl9NRVNTQUdFX1JFUVVFU1RcIixcbiAgXCJET09SSEFOR0VSX1RFTEVNRVRSWVwiLFxuICBcIlRPT0xCQVJfQkFER0VfVEVMRU1FVFJZXCIsXG4gIFwiVE9PTEJBUl9QQU5FTF9URUxFTUVUUllcIixcbiAgXCJNT01FTlRTX1BBR0VfVEVMRU1FVFJZXCIsXG4gIFwiSU5GT0JBUl9URUxFTUVUUllcIixcbiAgXCJTUE9UTElHSFRfVEVMRU1FVFJZXCIsXG4gIFwiQVNfUk9VVEVSX1RFTEVNRVRSWV9VU0VSX0VWRU5UXCIsXG5cbiAgLy8gQWRtaW4gdHlwZXNcbiAgXCJBRE1JTl9DT05ORUNUX1NUQVRFXCIsXG4gIFwiVU5CTE9DS19NRVNTQUdFX0JZX0lEXCIsXG4gIFwiVU5CTE9DS19BTExcIixcbiAgXCJCTE9DS19CVU5ETEVcIixcbiAgXCJVTkJMT0NLX0JVTkRMRVwiLFxuICBcIkRJU0FCTEVfUFJPVklERVJcIixcbiAgXCJFTkFCTEVfUFJPVklERVJcIixcbiAgXCJFVkFMVUFURV9KRVhMX0VYUFJFU1NJT05cIixcbiAgXCJFWFBJUkVfUVVFUllfQ0FDSEVcIixcbiAgXCJGT1JDRV9BVFRSSUJVVElPTlwiLFxuICBcIkZPUkNFX1dIQVRTTkVXX1BBTkVMXCIsXG4gIFwiQ0xPU0VfV0hBVFNORVdfUEFORUxcIixcbiAgXCJPVkVSUklERV9NRVNTQUdFXCIsXG4gIFwiTU9ESUZZX01FU1NBR0VfSlNPTlwiLFxuICBcIlJFU0VUX1BST1ZJREVSX1BSRUZcIixcbiAgXCJTRVRfUFJPVklERVJfVVNFUl9QUkVGXCIsXG4gIFwiUkVTRVRfR1JPVVBTX1NUQVRFXCIsXG5dO1xuXG5jb25zdCBNRVNTQUdFX1RZUEVfSEFTSCA9IE1FU1NBR0VfVFlQRV9MSVNULnJlZHVjZSgoaGFzaCwgdmFsdWUpID0+IHtcbiAgaGFzaFt2YWx1ZV0gPSB2YWx1ZTtcbiAgcmV0dXJuIGhhc2g7XG59LCB7fSk7XG5cbmNvbnN0IEVYUE9SVEVEX1NZTUJPTFMgPSBbXCJNRVNTQUdFX1RZUEVfTElTVFwiLCBcIk1FU1NBR0VfVFlQRV9IQVNIXCJdO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdFJlZHV4OyIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7IiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgU2ltcGxlSGFzaFJvdXRlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uSGFzaENoYW5nZSA9IHRoaXMub25IYXNoQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgaGFzaDogZ2xvYmFsLmxvY2F0aW9uLmhhc2ggfTtcbiAgfVxuXG4gIG9uSGFzaENoYW5nZSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaGFzaDogZ2xvYmFsLmxvY2F0aW9uLmhhc2ggfSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsIHRoaXMub25IYXNoQ2hhbmdlKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGdsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLCB0aGlzLm9uSGFzaENoYW5nZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgWywgLi4ucm91dGVzXSA9IHRoaXMuc3RhdGUuaGFzaC5zcGxpdChcIi1cIik7XG4gICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudCh0aGlzLnByb3BzLmNoaWxkcmVuLCB7XG4gICAgICBsb2NhdGlvbjoge1xuICAgICAgICBoYXNoOiB0aGlzLnN0YXRlLmhhc2gsXG4gICAgICAgIHJvdXRlcyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IE1FU1NBR0VfVFlQRV9IQVNIIGFzIG1zZyB9IGZyb20gXCJjb21tb24vQWN0b3JDb25zdGFudHMuanNtXCI7XG5pbXBvcnQgeyBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IEFTUm91dGVyVXRpbHMgfSBmcm9tIFwiLi9hc3JvdXRlci11dGlsc1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVCdW5kbGVzIH0gZnJvbSBcIi4vcmljaC10ZXh0LXN0cmluZ3NcIjtcbmltcG9ydCB7IEltcHJlc3Npb25zV3JhcHBlciB9IGZyb20gXCIuL2NvbXBvbmVudHMvSW1wcmVzc2lvbnNXcmFwcGVyL0ltcHJlc3Npb25zV3JhcHBlclwiO1xuaW1wb3J0IHsgTG9jYWxpemF0aW9uUHJvdmlkZXIgfSBmcm9tIFwiZmx1ZW50LXJlYWN0XCI7XG5pbXBvcnQgeyBORVdUQUJfREFSS19USEVNRSB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHsgU25pcHBldHNUZW1wbGF0ZXMgfSBmcm9tIFwiLi90ZW1wbGF0ZXMvdGVtcGxhdGUtbWFuaWZlc3RcIjtcblxuY29uc3QgVEVNUExBVEVTX0JFTE9XX1NFQVJDSCA9IFtcInNpbXBsZV9iZWxvd19zZWFyY2hfc25pcHBldFwiXTtcblxuLy8gTm90ZTogbmV4dFByb3BzL3ByZXZQcm9wcyByZWZlciB0byBwcm9wcyBwYXNzZWQgdG8gPEltcHJlc3Npb25zV3JhcHBlciAvPiwgbm90IDxBU1JvdXRlclVJU3VyZmFjZSAvPlxuZnVuY3Rpb24gc2hvdWxkU2VuZEltcHJlc3Npb25PblVwZGF0ZShuZXh0UHJvcHMsIHByZXZQcm9wcykge1xuICByZXR1cm4gKFxuICAgIG5leHRQcm9wcy5tZXNzYWdlLmlkICYmXG4gICAgKCFwcmV2UHJvcHMubWVzc2FnZSB8fCBwcmV2UHJvcHMubWVzc2FnZS5pZCAhPT0gbmV4dFByb3BzLm1lc3NhZ2UuaWQpXG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBBU1JvdXRlclVJU3VyZmFjZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnNlbmRDbGljayA9IHRoaXMuc2VuZENsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZW5kSW1wcmVzc2lvbiA9IHRoaXMuc2VuZEltcHJlc3Npb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5ID0gdGhpcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Vc2VyQWN0aW9uID0gdGhpcy5vblVzZXJBY3Rpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLmZldGNoRmxvd1BhcmFtcyA9IHRoaXMuZmV0Y2hGbG93UGFyYW1zLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkJsb2NrU2VsZWN0ZWQgPSB0aGlzLm9uQmxvY2tTZWxlY3RlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25CbG9ja0J5SWQgPSB0aGlzLm9uQmxvY2tCeUlkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkRpc21pc3MgPSB0aGlzLm9uRGlzbWlzcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZXNzYWdlRnJvbVBhcmVudCA9IHRoaXMub25NZXNzYWdlRnJvbVBhcmVudC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHsgbWVzc2FnZToge30gfTtcbiAgICBpZiAocHJvcHMuZG9jdW1lbnQpIHtcbiAgICAgIHRoaXMuZm9vdGVyUG9ydGFsID0gcHJvcHMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgIFwiZm9vdGVyLWFzcm91dGVyLWNvbnRhaW5lclwiXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZldGNoRmxvd1BhcmFtcyhwYXJhbXMgPSB7fSkge1xuICAgIGxldCByZXN1bHQgPSB7fTtcbiAgICBjb25zdCB7IGZ4YUVuZHBvaW50IH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghZnhhRW5kcG9pbnQpIHtcbiAgICAgIGNvbnN0IGVyciA9XG4gICAgICAgIFwiVHJpZWQgdG8gZmV0Y2ggZmxvdyBwYXJhbXMgYmVmb3JlIGZ4YUVuZHBvaW50IHByZWYgd2FzIHJlYWR5XCI7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKGZ4YUVuZHBvaW50KTtcbiAgICAgIHVybE9iai5wYXRobmFtZSA9IFwibWV0cmljcy1mbG93XCI7XG4gICAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgdXJsT2JqLnNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBwYXJhbXNba2V5XSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsT2JqLnRvU3RyaW5nKCksIHsgY3JlZGVudGlhbHM6IFwib21pdFwiIH0pO1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIGNvbnN0IHsgZGV2aWNlSWQsIGZsb3dJZCwgZmxvd0JlZ2luVGltZSB9ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICByZXN1bHQgPSB7IGRldmljZUlkLCBmbG93SWQsIGZsb3dCZWdpblRpbWUgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJOb24tMjAwIHJlc3BvbnNlXCIsIHJlc3BvbnNlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5KGV4dHJhUHJvcHMgPSB7fSkge1xuICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBldmVudFR5cGUgPSBgJHttZXNzYWdlLnByb3ZpZGVyfV91c2VyX2V2ZW50YDtcbiAgICBjb25zdCBzb3VyY2UgPSBleHRyYVByb3BzLmlkO1xuICAgIGRlbGV0ZSBleHRyYVByb3BzLmlkO1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZFRlbGVtZXRyeSh7XG4gICAgICBzb3VyY2UsXG4gICAgICBtZXNzYWdlX2lkOiBtZXNzYWdlLmlkLFxuICAgICAgYWN0aW9uOiBldmVudFR5cGUsXG4gICAgICAuLi5leHRyYVByb3BzLFxuICAgIH0pO1xuICB9XG5cbiAgc2VuZEltcHJlc3Npb24oZXh0cmFQcm9wcykge1xuICAgIGlmICh0aGlzLnN0YXRlLm1lc3NhZ2UucHJvdmlkZXIgPT09IFwicHJldmlld1wiKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7IGV2ZW50OiBcIklNUFJFU1NJT05cIiwgLi4uZXh0cmFQcm9wcyB9KTtcbiAgICByZXR1cm4gQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBtc2cuSU1QUkVTU0lPTixcbiAgICAgIGRhdGE6IHRoaXMuc3RhdGUubWVzc2FnZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIElmIGxpbmsgaGFzIGEgYG1ldHJpY2AgZGF0YSBhdHRyaWJ1dGUgc2VuZCBpdCBhcyBwYXJ0IG9mIHRoZSBgZXZlbnRfY29udGV4dGBcbiAgLy8gdGVsZW1ldHJ5IGZpZWxkIHdoaWNoIGNhbiBoYXZlIGFyYml0cmFyeSB2YWx1ZXMuXG4gIC8vIFVzZWQgZm9yIHJvdXRlciBtZXNzYWdlcyB3aXRoIGxpbmtzIGFzIHBhcnQgb2YgdGhlIGNvbnRlbnQuXG4gIHNlbmRDbGljayhldmVudCkge1xuICAgIGNvbnN0IHsgZGF0YXNldCB9ID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IG1ldHJpYyA9IHtcbiAgICAgIGV2ZW50X2NvbnRleHQ6IGRhdGFzZXQubWV0cmljLFxuICAgICAgLy8gVXNlZCBmb3IgdGhlIGBzb3VyY2VgIG9mIHRoZSBldmVudC4gTmVlZGVkIHRvIGRpZmZlcmVudGlhdGVcbiAgICAgIC8vIGZyb20gb3RoZXIgc25pcHBldCBvciBvbmJvYXJkaW5nIGV2ZW50cyB0aGF0IG1heSBvY2N1ci5cbiAgICAgIGlkOiBcIk5FV1RBQl9GT09URVJfQkFSX0NPTlRFTlRcIixcbiAgICB9O1xuICAgIGNvbnN0IHsgZW50cnlwb2ludF9uYW1lLCBlbnRyeXBvaW50X3ZhbHVlIH0gPSBkYXRhc2V0O1xuICAgIC8vIEFzc2lnbiB0aGUgc25pcHBldCByZWZlcnJhbCBmb3IgdGhlIGFjdGlvblxuICAgIGNvbnN0IGVudHJ5cG9pbnQgPSBlbnRyeXBvaW50X25hbWVcbiAgICAgID8gbmV3IFVSTFNlYXJjaFBhcmFtcyhbW2VudHJ5cG9pbnRfbmFtZSwgZW50cnlwb2ludF92YWx1ZV1dKS50b1N0cmluZygpXG4gICAgICA6IGVudHJ5cG9pbnRfdmFsdWU7XG4gICAgY29uc3QgYWN0aW9uID0ge1xuICAgICAgdHlwZTogZGF0YXNldC5hY3Rpb24sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGFyZ3M6IGRhdGFzZXQuYXJncyxcbiAgICAgICAgLi4uKGVudHJ5cG9pbnQgJiYgeyBlbnRyeXBvaW50IH0pLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGlmIChhY3Rpb24udHlwZSkge1xuICAgICAgQVNSb3V0ZXJVdGlscy5leGVjdXRlQWN0aW9uKGFjdGlvbik7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICF0aGlzLnN0YXRlLm1lc3NhZ2UuY29udGVudC5kb19ub3RfYXV0b2Jsb2NrICYmXG4gICAgICAhZGF0YXNldC5kb19ub3RfYXV0b2Jsb2NrXG4gICAgKSB7XG4gICAgICB0aGlzLm9uQmxvY2tCeUlkKHRoaXMuc3RhdGUubWVzc2FnZS5pZCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLm1lc3NhZ2UucHJvdmlkZXIgIT09IFwicHJldmlld1wiKSB7XG4gICAgICB0aGlzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5KHsgZXZlbnQ6IFwiQ0xJQ0tfQlVUVE9OXCIsIC4uLm1ldHJpYyB9KTtcbiAgICB9XG4gIH1cblxuICBvbkJsb2NrU2VsZWN0ZWQob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLm9uQmxvY2tCeUlkKHRoaXMuc3RhdGUubWVzc2FnZS5pZCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGNhbXBhaWduOiB0aGlzLnN0YXRlLm1lc3NhZ2UuY2FtcGFpZ24sXG4gICAgfSk7XG4gIH1cblxuICBvbkJsb2NrQnlJZChpZCwgb3B0aW9ucykge1xuICAgIHJldHVybiBBU1JvdXRlclV0aWxzLmJsb2NrQnlJZChpZCwgb3B0aW9ucykudGhlbihjbGVhckFsbCA9PiB7XG4gICAgICBpZiAoY2xlYXJBbGwpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1lc3NhZ2U6IHt9IH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25EaXNtaXNzKCkge1xuICAgIHRoaXMuY2xlYXJNZXNzYWdlKHRoaXMuc3RhdGUubWVzc2FnZS5pZCk7XG4gIH1cblxuICAvLyBCbG9ja2luZyBhIHNuaXBwZXQgYnkgaWQgYmxvY2tzIHRoZSBlbnRpcmUgY2FtcGFpZ25cbiAgLy8gc28gd2hlbiBjbGVhcmluZyB3ZSB1c2UgdGhlIHR3byB2YWx1ZXMgaW50ZXJjaGFuZ2VhYmx5XG4gIGNsZWFyTWVzc2FnZShpZE9yQ2FtcGFpZ24pIHtcbiAgICBpZiAoXG4gICAgICBpZE9yQ2FtcGFpZ24gPT09IHRoaXMuc3RhdGUubWVzc2FnZS5pZCB8fFxuICAgICAgaWRPckNhbXBhaWduID09PSB0aGlzLnN0YXRlLm1lc3NhZ2UuY2FtcGFpZ25cbiAgICApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlOiB7fSB9KTtcbiAgICB9XG4gIH1cblxuICBjbGVhclByb3ZpZGVyKGlkKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUubWVzc2FnZS5wcm92aWRlciA9PT0gaWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlOiB7fSB9KTtcbiAgICB9XG4gIH1cblxuICBvbk1lc3NhZ2VGcm9tUGFyZW50KHsgdHlwZSwgZGF0YSB9KSB7XG4gICAgLy8gVGhlc2Ugb25seSBleGlzdHMgZHVlIHRvIG9uUHJlZkNoYW5nZSBldmVudHMgaW4gQVNSb3V0ZXJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJDbGVhck1lc3NhZ2VzXCI6IHtcbiAgICAgICAgZGF0YS5mb3JFYWNoKGlkID0+IHRoaXMuY2xlYXJNZXNzYWdlKGlkKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIkNsZWFyUHJvdmlkZXJzXCI6IHtcbiAgICAgICAgZGF0YS5mb3JFYWNoKGlkID0+IHRoaXMuY2xlYXJQcm92aWRlcihpZCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJFbnRlclNuaXBwZXRzUHJldmlld01vZGVcIjoge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHsgdHlwZTogYXQuU05JUFBFVFNfUFJFVklFV19NT0RFIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXF1ZXN0TWVzc2FnZShlbmRwb2ludCkge1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJORVdUQUJfTUVTU0FHRV9SRVFVRVNUXCIsXG4gICAgICBkYXRhOiB7IGVuZHBvaW50IH0sXG4gICAgfSkudGhlbihzdGF0ZSA9PiB0aGlzLnNldFN0YXRlKHN0YXRlKSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBBU1JvdXRlclV0aWxzLmdldFByZXZpZXdFbmRwb2ludCgpO1xuICAgIGlmIChlbmRwb2ludCAmJiBlbmRwb2ludC50aGVtZSA9PT0gXCJkYXJrXCIpIHtcbiAgICAgIGdsb2JhbC53aW5kb3cuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IEN1c3RvbUV2ZW50KFwiTGlnaHR3ZWlnaHRUaGVtZTpTZXRcIiwge1xuICAgICAgICAgIGRldGFpbDogeyBkYXRhOiBORVdUQUJfREFSS19USEVNRSB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGVuZHBvaW50ICYmIGVuZHBvaW50LmRpciA9PT0gXCJydGxcIikge1xuICAgICAgLy9TZXQgYGRpciA9IHJ0bGAgb24gdGhlIEhUTUxcbiAgICAgIHRoaXMucHJvcHMuZG9jdW1lbnQuZGlyID0gXCJydGxcIjtcbiAgICB9XG4gICAgQVNSb3V0ZXJVdGlscy5hZGRMaXN0ZW5lcih0aGlzLm9uTWVzc2FnZUZyb21QYXJlbnQpO1xuICAgIHRoaXMucmVxdWVzdE1lc3NhZ2UoZW5kcG9pbnQpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgQVNSb3V0ZXJVdGlscy5yZW1vdmVMaXN0ZW5lcih0aGlzLm9uTWVzc2FnZUZyb21QYXJlbnQpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgaWYgKFxuICAgICAgcHJldlByb3BzLmFkbWluQ29udGVudCAmJlxuICAgICAgSlNPTi5zdHJpbmdpZnkocHJldlByb3BzLmFkbWluQ29udGVudCkgIT09XG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMucHJvcHMuYWRtaW5Db250ZW50KVxuICAgICkge1xuICAgICAgdGhpcy51cGRhdGVDb250ZW50KCk7XG4gICAgfVxuICAgIGlmIChwcmV2U3RhdGUubWVzc2FnZS5pZCAhPT0gdGhpcy5zdGF0ZS5tZXNzYWdlLmlkKSB7XG4gICAgICBjb25zdCBtYWluID0gZ2xvYmFsLndpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpblwiKTtcbiAgICAgIGlmIChtYWluKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm1lc3NhZ2UuaWQpIHtcbiAgICAgICAgICBtYWluLmNsYXNzTGlzdC5hZGQoXCJoYXMtc25pcHBldFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYWluLmNsYXNzTGlzdC5yZW1vdmUoXCJoYXMtc25pcHBldFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUNvbnRlbnQoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAuLi50aGlzLnByb3BzLmFkbWluQ29udGVudCxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGdldE1vbml0b3JVcmwoeyB1cmwsIGZsb3dSZXF1ZXN0UGFyYW1zID0ge30gfSkge1xuICAgIGNvbnN0IGZsb3dWYWx1ZXMgPSBhd2FpdCB0aGlzLmZldGNoRmxvd1BhcmFtcyhmbG93UmVxdWVzdFBhcmFtcyk7XG5cbiAgICAvLyBOb3RlIHRoYXQgZmxvd1BhcmFtcyBhcmUgYWN0dWFsbHkgYWRkZWQgZHluYW1pY2FsbHkgb24gdGhlIHBhZ2VcbiAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybCk7XG4gICAgW1wiZGV2aWNlSWRcIiwgXCJmbG93SWRcIiwgXCJmbG93QmVnaW5UaW1lXCJdLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGlmIChrZXkgaW4gZmxvd1ZhbHVlcykge1xuICAgICAgICB1cmxPYmouc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIGZsb3dWYWx1ZXNba2V5XSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdXJsT2JqLnRvU3RyaW5nKCk7XG4gIH1cblxuICBhc3luYyBvblVzZXJBY3Rpb24oYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgLy8gVGhpcyBuZWVkcyB0byBiZSBoYW5kbGVkIGxvY2FsbHkgYmVjYXVzZSBpdHNcbiAgICAgIGNhc2UgXCJFTkFCTEVfRklSRUZPWF9NT05JVE9SXCI6XG4gICAgICAgIGNvbnN0IHVybCA9IGF3YWl0IHRoaXMuZ2V0TW9uaXRvclVybChhY3Rpb24uZGF0YS5hcmdzKTtcbiAgICAgICAgQVNSb3V0ZXJVdGlscy5leGVjdXRlQWN0aW9uKHsgdHlwZTogXCJPUEVOX1VSTFwiLCBkYXRhOiB7IGFyZ3M6IHVybCB9IH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIEFTUm91dGVyVXRpbHMuZXhlY3V0ZUFjdGlvbihhY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlclNuaXBwZXRzKCkge1xuICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoIVNuaXBwZXRzVGVtcGxhdGVzW21lc3NhZ2UudGVtcGxhdGVdKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgU25pcHBldENvbXBvbmVudCA9IFNuaXBwZXRzVGVtcGxhdGVzW21lc3NhZ2UudGVtcGxhdGVdO1xuICAgIGNvbnN0IHsgY29udGVudCB9ID0gbWVzc2FnZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8SW1wcmVzc2lvbnNXcmFwcGVyXG4gICAgICAgIGlkPVwiTkVXVEFCX0ZPT1RFUl9CQVJcIlxuICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLm1lc3NhZ2V9XG4gICAgICAgIHNlbmRJbXByZXNzaW9uPXt0aGlzLnNlbmRJbXByZXNzaW9ufVxuICAgICAgICBzaG91bGRTZW5kSW1wcmVzc2lvbk9uVXBkYXRlPXtzaG91bGRTZW5kSW1wcmVzc2lvbk9uVXBkYXRlfVxuICAgICAgICAvLyBUaGlzIGhlbHBzIHdpdGggdGVzdGluZ1xuICAgICAgICBkb2N1bWVudD17dGhpcy5wcm9wcy5kb2N1bWVudH1cbiAgICAgID5cbiAgICAgICAgPExvY2FsaXphdGlvblByb3ZpZGVyIGJ1bmRsZXM9e2dlbmVyYXRlQnVuZGxlcyhjb250ZW50KX0+XG4gICAgICAgICAgPFNuaXBwZXRDb21wb25lbnRcbiAgICAgICAgICAgIHsuLi50aGlzLnN0YXRlLm1lc3NhZ2V9XG4gICAgICAgICAgICBVSVN1cmZhY2U9XCJORVdUQUJfRk9PVEVSX0JBUlwiXG4gICAgICAgICAgICBvbkJsb2NrPXt0aGlzLm9uQmxvY2tTZWxlY3RlZH1cbiAgICAgICAgICAgIG9uRGlzbWlzcz17dGhpcy5vbkRpc21pc3N9XG4gICAgICAgICAgICBvbkFjdGlvbj17dGhpcy5vblVzZXJBY3Rpb259XG4gICAgICAgICAgICBzZW5kQ2xpY2s9e3RoaXMuc2VuZENsaWNrfVxuICAgICAgICAgICAgc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnk9e3RoaXMuc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Mb2NhbGl6YXRpb25Qcm92aWRlcj5cbiAgICAgIDwvSW1wcmVzc2lvbnNXcmFwcGVyPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJQcmV2aWV3QmFubmVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLm1lc3NhZ2UucHJvdmlkZXIgIT09IFwicHJldmlld1wiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzbmlwcGV0cy1wcmV2aWV3LWJhbm5lclwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tc21hbGwtc3BhY2VyIGljb24taW5mb1wiIC8+XG4gICAgICAgIDxzcGFuPlByZXZpZXcgUHVycG9zZXMgT25seTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBtZXNzYWdlIH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmICghbWVzc2FnZS5pZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNob3VsZFJlbmRlckJlbG93U2VhcmNoID0gVEVNUExBVEVTX0JFTE9XX1NFQVJDSC5pbmNsdWRlcyhcbiAgICAgIG1lc3NhZ2UudGVtcGxhdGVcbiAgICApO1xuXG4gICAgcmV0dXJuIHNob3VsZFJlbmRlckJlbG93U2VhcmNoID8gKFxuICAgICAgLy8gUmVuZGVyIHNwZWNpYWwgYmVsb3cgc2VhcmNoIHNuaXBwZXRzIGluIHBsYWNlO1xuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZWxvdy1zZWFyY2gtc25pcHBldC13cmFwcGVyXCI+XG4gICAgICAgIHt0aGlzLnJlbmRlclNuaXBwZXRzKCl9XG4gICAgICA8L2Rpdj5cbiAgICApIDogKFxuICAgICAgLy8gRm9yIHJlZ3VsYXIgc25pcHBldHMgZXRjLiB3ZSBzaG91bGQgcmVuZGVyIGV2ZXJ5dGhpbmcgaW4gb3VyIGZvb3RlclxuICAgICAgLy8gY29udGFpbmVyLlxuICAgICAgUmVhY3RET00uY3JlYXRlUG9ydGFsKFxuICAgICAgICA8PlxuICAgICAgICAgIHt0aGlzLnJlbmRlclByZXZpZXdCYW5uZXIoKX1cbiAgICAgICAgICB7dGhpcy5yZW5kZXJTbmlwcGV0cygpfVxuICAgICAgICA8Lz4sXG4gICAgICAgIHRoaXMuZm9vdGVyUG9ydGFsXG4gICAgICApXG4gICAgKTtcbiAgfVxufVxuXG5BU1JvdXRlclVJU3VyZmFjZS5kZWZhdWx0UHJvcHMgPSB7IGRvY3VtZW50OiBnbG9iYWwuZG9jdW1lbnQgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNvbnN0IFZJU0lCTEUgPSBcInZpc2libGVcIjtcbmV4cG9ydCBjb25zdCBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuXG4vKipcbiAqIENvbXBvbmVudCB3cmFwcGVyIHVzZWQgdG8gc2VuZCB0ZWxlbWV0cnkgcGluZ3Mgb24gZXZlcnkgaW1wcmVzc2lvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEltcHJlc3Npb25zV3JhcHBlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAvLyBUaGlzIHNlbmRzIGFuIGV2ZW50IHdoZW4gYSB1c2VyIHNlZXMgYSBzZXQgb2YgbmV3IGNvbnRlbnQuIElmIGNvbnRlbnRcbiAgLy8gY2hhbmdlcyB3aGlsZSB0aGUgcGFnZSBpcyBoaWRkZW4gKGkuZS4gcHJlbG9hZGVkIG9yIG9uIGEgaGlkZGVuIHRhYiksXG4gIC8vIG9ubHkgc2VuZCB0aGUgZXZlbnQgaWYgdGhlIHBhZ2UgYmVjb21lcyB2aXNpYmxlIGFnYWluLlxuICBzZW5kSW1wcmVzc2lvbk9yQWRkTGlzdGVuZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICB0aGlzLnByb3BzLnNlbmRJbXByZXNzaW9uKHsgaWQ6IHRoaXMucHJvcHMuaWQgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIHNob3VsZCBvbmx5IGV2ZXIgc2VuZCB0aGUgbGF0ZXN0IGltcHJlc3Npb24gc3RhdHMgcGluZywgc28gcmVtb3ZlIGFueVxuICAgICAgLy8gb2xkZXIgbGlzdGVuZXJzLlxuICAgICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgICB0aGlzLnByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gdGhlIHBhZ2UgYmVjb21lcyB2aXNpYmxlLCBzZW5kIHRoZSBpbXByZXNzaW9uIHN0YXRzIHBpbmcgaWYgdGhlIHNlY3Rpb24gaXNuJ3QgY29sbGFwc2VkLlxuICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLnNlbmRJbXByZXNzaW9uKHsgaWQ6IHRoaXMucHJvcHMuaWQgfSk7XG4gICAgICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zZW5kT25Nb3VudCkge1xuICAgICAgdGhpcy5zZW5kSW1wcmVzc2lvbk9yQWRkTGlzdGVuZXIoKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2hvdWxkU2VuZEltcHJlc3Npb25PblVwZGF0ZSh0aGlzLnByb3BzLCBwcmV2UHJvcHMpKSB7XG4gICAgICB0aGlzLnNlbmRJbXByZXNzaW9uT3JBZGRMaXN0ZW5lcigpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgfVxufVxuXG5JbXByZXNzaW9uc1dyYXBwZXIuZGVmYXVsdFByb3BzID0ge1xuICBkb2N1bWVudDogZ2xvYmFsLmRvY3VtZW50LFxuICBzZW5kT25Nb3VudDogdHJ1ZSxcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFByb3BUeXBlczsiLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5leHBvcnQgY29uc3QgSVNfTkVXVEFCID1cbiAgZ2xvYmFsLmRvY3VtZW50ICYmIGdsb2JhbC5kb2N1bWVudC5kb2N1bWVudFVSSSA9PT0gXCJhYm91dDpuZXd0YWJcIjtcbmV4cG9ydCBjb25zdCBORVdUQUJfREFSS19USEVNRSA9IHtcbiAgbnRwX2JhY2tncm91bmQ6IHtcbiAgICByOiA0MixcbiAgICBnOiA0MixcbiAgICBiOiA0NixcbiAgICBhOiAxLFxuICB9LFxuICBudHBfY2FyZF9iYWNrZ3JvdW5kOiB7XG4gICAgcjogNjYsXG4gICAgZzogNjUsXG4gICAgYjogNzcsXG4gICAgYTogMSxcbiAgfSxcbiAgbnRwX3RleHQ6IHtcbiAgICByOiAyNDksXG4gICAgZzogMjQ5LFxuICAgIGI6IDI1MCxcbiAgICBhOiAxLFxuICB9LFxuICBzaWRlYmFyOiB7XG4gICAgcjogNTYsXG4gICAgZzogNTYsXG4gICAgYjogNjEsXG4gICAgYTogMSxcbiAgfSxcbiAgc2lkZWJhcl90ZXh0OiB7XG4gICAgcjogMjQ5LFxuICAgIGc6IDI0OSxcbiAgICBiOiAyNTAsXG4gICAgYTogMSxcbiAgfSxcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NOyIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuLyoqXG4gKiBDb25maXJtRGlhbG9nIGNvbXBvbmVudC5cbiAqIE9uZSBwcmltYXJ5IGFjdGlvbiBidXR0b24sIG9uZSBjYW5jZWwgYnV0dG9uLlxuICpcbiAqIENvbnRlbnQgZGlzcGxheWVkIGlzIGNvbnRyb2xsZWQgYnkgYGRhdGFgIHByb3AgdGhlIGNvbXBvbmVudCByZWNlaXZlcy5cbiAqIEV4YW1wbGU6XG4gKiBkYXRhOiB7XG4gKiAgIC8vIEFueSBzb3J0IG9mIGRhdGEgbmVlZGVkIHRvIGJlIHBhc3NlZCBhcm91bmQgYnkgYWN0aW9ucy5cbiAqICAgcGF5bG9hZDogc2l0ZS51cmwsXG4gKiAgIC8vIFByaW1hcnkgYnV0dG9uIEFsc29Ub01haW4gYWN0aW9uLlxuICogICBhY3Rpb246IFwiREVMRVRFX0hJU1RPUllfVVJMXCIsXG4gKiAgIC8vIFByaW1hcnkgYnV0dG9uIFVTZXJFdmVudCBhY3Rpb24uXG4gKiAgIHVzZXJFdmVudDogXCJERUxFVEVcIixcbiAqICAgLy8gQXJyYXkgb2YgbG9jYWxlIGlkcyB0byBkaXNwbGF5LlxuICogICBtZXNzYWdlX2JvZHk6IFtcImNvbmZpcm1faGlzdG9yeV9kZWxldGVfcDFcIiwgXCJjb25maXJtX2hpc3RvcnlfZGVsZXRlX25vdGljZV9wMlwiXSxcbiAqICAgLy8gVGV4dCBmb3IgcHJpbWFyeSBidXR0b24uXG4gKiAgIGNvbmZpcm1fYnV0dG9uX3N0cmluZ19pZDogXCJtZW51X2FjdGlvbl9kZWxldGVcIlxuICogfSxcbiAqL1xuZXhwb3J0IGNsYXNzIF9Db25maXJtRGlhbG9nIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuX2hhbmRsZUNhbmNlbEJ0biA9IHRoaXMuX2hhbmRsZUNhbmNlbEJ0bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUNvbmZpcm1CdG4gPSB0aGlzLl9oYW5kbGVDb25maXJtQnRuLmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlQ2FuY2VsQnRuKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25UeXBlcy5ESUFMT0dfQ0FOQ0VMIH0pO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICBldmVudDogYWN0aW9uVHlwZXMuRElBTE9HX0NBTkNFTCxcbiAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLmRhdGEuZXZlbnRTb3VyY2UsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBfaGFuZGxlQ29uZmlybUJ0bigpIHtcbiAgICB0aGlzLnByb3BzLmRhdGEub25Db25maXJtLmZvckVhY2godGhpcy5wcm9wcy5kaXNwYXRjaCk7XG4gIH1cblxuICBfcmVuZGVyTW9kYWxNZXNzYWdlKCkge1xuICAgIGNvbnN0IG1lc3NhZ2VfYm9keSA9IHRoaXMucHJvcHMuZGF0YS5ib2R5X3N0cmluZ19pZDtcblxuICAgIGlmICghbWVzc2FnZV9ib2R5KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW4+XG4gICAgICAgIHttZXNzYWdlX2JvZHkubWFwKG1zZyA9PiAoXG4gICAgICAgICAgPHAga2V5PXttc2d9IGRhdGEtbDEwbi1pZD17bXNnfSAvPlxuICAgICAgICApKX1cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy52aXNpYmxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb25maXJtYXRpb24tZGlhbG9nXCI+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJtb2RhbC1vdmVybGF5XCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLl9oYW5kbGVDYW5jZWxCdG59XG4gICAgICAgICAgcm9sZT1cInByZXNlbnRhdGlvblwiXG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWxcIj5cbiAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJtb2RhbC1tZXNzYWdlXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5kYXRhLmljb24gJiYgKFxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGljb24gaWNvbi1zcGFjZXIgaWNvbi0ke3RoaXMucHJvcHMuZGF0YS5pY29ufWB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge3RoaXMuX3JlbmRlck1vZGFsTWVzc2FnZSgpfVxuICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJhY3Rpb25zXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuX2hhbmRsZUNhbmNlbEJ0bn1cbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXt0aGlzLnByb3BzLmRhdGEuY2FuY2VsX2J1dHRvbl9zdHJpbmdfaWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkb25lXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5faGFuZGxlQ29uZmlybUJ0bn1cbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXt0aGlzLnByb3BzLmRhdGEuY29uZmlybV9idXR0b25fc3RyaW5nX2lkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgQ29uZmlybURpYWxvZyA9IGNvbm5lY3Qoc3RhdGUgPT4gc3RhdGUuRGlhbG9nKShfQ29uZmlybURpYWxvZyk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBDYXJkR3JpZCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvQ2FyZEdyaWQvQ2FyZEdyaWRcIjtcbmltcG9ydCB7IENvbGxlY3Rpb25DYXJkR3JpZCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvQ29sbGVjdGlvbkNhcmRHcmlkL0NvbGxlY3Rpb25DYXJkR3JpZFwiO1xuaW1wb3J0IHsgQ29sbGFwc2libGVTZWN0aW9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29sbGFwc2libGVTZWN0aW9uL0NvbGxhcHNpYmxlU2VjdGlvblwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgRFNNZXNzYWdlIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU01lc3NhZ2UvRFNNZXNzYWdlXCI7XG5pbXBvcnQgeyBEU1ByaXZhY3lNb2RhbCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNQcml2YWN5TW9kYWwvRFNQcml2YWN5TW9kYWxcIjtcbmltcG9ydCB7IERTU2lnbnVwIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU1NpZ251cC9EU1NpZ251cFwiO1xuaW1wb3J0IHsgRFNUZXh0UHJvbW8gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTVGV4dFByb21vL0RTVGV4dFByb21vXCI7XG5pbXBvcnQgeyBIaWdobGlnaHRzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9IaWdobGlnaHRzL0hpZ2hsaWdodHNcIjtcbmltcG9ydCB7IEhvcml6b250YWxSdWxlIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9Ib3Jpem9udGFsUnVsZS9Ib3Jpem9udGFsUnVsZVwiO1xuaW1wb3J0IHsgTmF2aWdhdGlvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvTmF2aWdhdGlvbi9OYXZpZ2F0aW9uXCI7XG5pbXBvcnQgeyBQcml2YWN5TGluayB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvUHJpdmFjeUxpbmsvUHJpdmFjeUxpbmtcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNlY3Rpb25UaXRsZSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvU2VjdGlvblRpdGxlL1NlY3Rpb25UaXRsZVwiO1xuaW1wb3J0IHsgc2VsZWN0TGF5b3V0UmVuZGVyIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9zZWxlY3RMYXlvdXRSZW5kZXJcIjtcbmltcG9ydCB7IFRvcFNpdGVzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlc1wiO1xuXG5jb25zdCBBTExPV0VEX0NTU19VUkxfUFJFRklYRVMgPSBbXG4gIFwiY2hyb21lOi8vXCIsXG4gIFwicmVzb3VyY2U6Ly9cIixcbiAgXCJodHRwczovL2ltZy1nZXRwb2NrZXQuY2RuLm1vemlsbGEubmV0L1wiLFxuXTtcbmNvbnN0IERVTU1ZX0NTU19TRUxFQ1RPUiA9IFwiRFVNTVkjQ1NTLlNFTEVDVE9SXCI7XG5cbi8qKlxuICogVmFsaWRhdGUgYSBDU1MgZGVjbGFyYXRpb24uIFRoZSB2YWx1ZXMgYXJlIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZCBieSBDU1NPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQWxsb3dlZENTUyhwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgLy8gQnVnIDE0NTQ4MjM6IElOVEVSTkFMIHByb3BlcnRpZXMsIGUuZy4sIC1tb3otY29udGV4dC1wcm9wZXJ0aWVzLCBhcmVcbiAgLy8gZXhwb3NlZCBidXQgdGhlaXIgdmFsdWVzIGFyZW4ndCByZXN1bHRpbmcgaW4gZ2V0dGluZyBub3RoaW5nLiBGb3J0dW5hdGVseSxcbiAgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCB2YWxpZGF0aW5nIHRoZSB2YWx1ZXMgb2YgdGhlIGN1cnJlbnQgc2V0IG9mIHByb3BlcnRpZXMuXG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgYWxsIHVybHMgYXJlIG9mIHRoZSBhbGxvd2VkIHByb3RvY29scy9wcmVmaXhlc1xuICBjb25zdCB1cmxzID0gdmFsdWUubWF0Y2goL3VybFxcKFwiW15cIl0rXCJcXCkvZyk7XG4gIHJldHVybiAoXG4gICAgIXVybHMgfHxcbiAgICB1cmxzLmV2ZXJ5KHVybCA9PlxuICAgICAgQUxMT1dFRF9DU1NfVVJMX1BSRUZJWEVTLnNvbWUocHJlZml4ID0+IHVybC5zbGljZSg1KS5zdGFydHNXaXRoKHByZWZpeCkpXG4gICAgKVxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgX0Rpc2NvdmVyeVN0cmVhbUJhc2UgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vblN0eWxlTW91bnQgPSB0aGlzLm9uU3R5bGVNb3VudC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25TdHlsZU1vdW50KHN0eWxlKSB7XG4gICAgLy8gVW5tb3VudGluZyBzdHlsZSBnZXRzIHJpZCBvZiBvbGQgc3R5bGVzLCBzbyBub3RoaW5nIGVsc2UgdG8gZG9cbiAgICBpZiAoIXN0eWxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBzaGVldCB9ID0gc3R5bGU7XG4gICAgY29uc3Qgc3R5bGVzID0gSlNPTi5wYXJzZShzdHlsZS5kYXRhc2V0LnN0eWxlcyk7XG4gICAgc3R5bGVzLmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgIHJvdy5mb3JFYWNoKChjb21wb25lbnQsIGNvbXBvbmVudEluZGV4KSA9PiB7XG4gICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gd2l0aG91dCBvcHRpb25hbCBzdHlsZXMgb3ZlcnJpZGVzXG4gICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmVudHJpZXMoY29tcG9uZW50KS5mb3JFYWNoKChbc2VsZWN0b3JzLCBkZWNsYXJhdGlvbnNdKSA9PiB7XG4gICAgICAgICAgLy8gU3RhcnQgd2l0aCBhIGR1bW15IHJ1bGUgdG8gdmFsaWRhdGUgZGVjbGFyYXRpb25zIGFuZCBzZWxlY3RvcnNcbiAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKGAke0RVTU1ZX0NTU19TRUxFQ1RPUn0ge31gKTtcbiAgICAgICAgICBjb25zdCBbcnVsZV0gPSBzaGVldC5jc3NSdWxlcztcblxuICAgICAgICAgIC8vIFZhbGlkYXRlIGRlY2xhcmF0aW9ucyBhbmQgcmVtb3ZlIGFueSBvZmZlbmRlcnMuIENTU09NIHNpbGVudGx5XG4gICAgICAgICAgLy8gZGlzY2FyZHMgaW52YWxpZCBlbnRyaWVzLCBzbyBoZXJlIHdlIGFwcGx5IGV4dHJhIHJlc3RyaWN0aW9ucy5cbiAgICAgICAgICBydWxlLnN0eWxlID0gZGVjbGFyYXRpb25zO1xuICAgICAgICAgIFsuLi5ydWxlLnN0eWxlXS5mb3JFYWNoKHByb3BlcnR5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcnVsZS5zdHlsZVtwcm9wZXJ0eV07XG4gICAgICAgICAgICBpZiAoIWlzQWxsb3dlZENTUyhwcm9wZXJ0eSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEJhZCBDU1MgZGVjbGFyYXRpb24gJHtwcm9wZXJ0eX06ICR7dmFsdWV9YCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICBydWxlLnN0eWxlLnJlbW92ZVByb3BlcnR5KHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIFNldCB0aGUgYWN0dWFsIGRlc2lyZWQgc2VsZWN0b3JzIHNjb3BlZCB0byB0aGUgY29tcG9uZW50XG4gICAgICAgICAgY29uc3QgcHJlZml4ID0gYC5kcy1sYXlvdXQgPiAuZHMtY29sdW1uOm50aC1jaGlsZCgke3Jvd0luZGV4ICtcbiAgICAgICAgICAgIDF9KSAuZHMtY29sdW1uLWdyaWQgPiA6bnRoLWNoaWxkKCR7Y29tcG9uZW50SW5kZXggKyAxfSlgO1xuICAgICAgICAgIC8vIE5COiBTcGxpdHRpbmcgb24gXCIsXCIgZG9lc24ndCB3b3JrIHdpdGggc3RyaW5ncyB3aXRoIGNvbW1hcywgYnV0XG4gICAgICAgICAgLy8gd2UncmUgb2theSB3aXRoIG5vdCBzdXBwb3J0aW5nIHRob3NlIHNlbGVjdG9yc1xuICAgICAgICAgIHJ1bGUuc2VsZWN0b3JUZXh0ID0gc2VsZWN0b3JzXG4gICAgICAgICAgICAuc3BsaXQoXCIsXCIpXG4gICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICBzZWxlY3RvciA9PlxuICAgICAgICAgICAgICAgIHByZWZpeCArXG4gICAgICAgICAgICAgICAgLy8gQXNzdW1lIDpwc2V1ZG8tY2xhc3NlcyBhcmUgZm9yIGNvbXBvbmVudCBpbnN0ZWFkIG9mIGRlc2NlbmRhbnRcbiAgICAgICAgICAgICAgICAoc2VsZWN0b3JbMF0gPT09IFwiOlwiID8gXCJcIiA6IFwiIFwiKSArXG4gICAgICAgICAgICAgICAgc2VsZWN0b3JcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5qb2luKFwiLFwiKTtcblxuICAgICAgICAgIC8vIENTU09NIHNpbGVudGx5IGlnbm9yZXMgYmFkIHNlbGVjdG9ycywgc28gd2UnbGwgYmUgbm9pc3kgaW5zdGVhZFxuICAgICAgICAgIGlmIChydWxlLnNlbGVjdG9yVGV4dCA9PT0gRFVNTVlfQ1NTX1NFTEVDVE9SKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBCYWQgQ1NTIHNlbGVjdG9yICR7c2VsZWN0b3JzfWApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXJDb21wb25lbnQoY29tcG9uZW50LCBlbWJlZFdpZHRoKSB7XG4gICAgY29uc3QgRU5HQUdFTUVOVF9MQUJFTF9FTkFCTEVEID0gdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXNbXG4gICAgICBgZGlzY292ZXJ5c3RyZWFtLmVuZ2FnZW1lbnRMYWJlbEVuYWJsZWRgXG4gICAgXTtcblxuICAgIHN3aXRjaCAoY29tcG9uZW50LnR5cGUpIHtcbiAgICAgIGNhc2UgXCJIaWdobGlnaHRzXCI6XG4gICAgICAgIHJldHVybiA8SGlnaGxpZ2h0cyAvPjtcbiAgICAgIGNhc2UgXCJUb3BTaXRlc1wiOlxuICAgICAgICBsZXQgcHJvbW9BbGlnbm1lbnQ7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjb21wb25lbnQuc3BvY3MgJiZcbiAgICAgICAgICBjb21wb25lbnQuc3BvY3MucG9zaXRpb25zICYmXG4gICAgICAgICAgY29tcG9uZW50LnNwb2NzLnBvc2l0aW9ucy5sZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgcHJvbW9BbGlnbm1lbnQgPVxuICAgICAgICAgICAgY29tcG9uZW50LnNwb2NzLnBvc2l0aW9uc1swXS5pbmRleCA9PT0gMCA/IFwibGVmdFwiIDogXCJyaWdodFwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFRvcFNpdGVzXG4gICAgICAgICAgICBoZWFkZXI9e2NvbXBvbmVudC5oZWFkZXJ9XG4gICAgICAgICAgICBkYXRhPXtjb21wb25lbnQuZGF0YX1cbiAgICAgICAgICAgIHByb21vQWxpZ25tZW50PXtwcm9tb0FsaWdubWVudH1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSBcIlRleHRQcm9tb1wiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxEU1RleHRQcm9tb1xuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICB0eXBlPXtjb21wb25lbnQudHlwZX1cbiAgICAgICAgICAgIGRhdGE9e2NvbXBvbmVudC5kYXRhfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiU2lnbnVwXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPERTU2lnbnVwXG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIHR5cGU9e2NvbXBvbmVudC50eXBlfVxuICAgICAgICAgICAgZGF0YT17Y29tcG9uZW50LmRhdGF9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJNZXNzYWdlXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPERTTWVzc2FnZVxuICAgICAgICAgICAgdGl0bGU9e2NvbXBvbmVudC5oZWFkZXIgJiYgY29tcG9uZW50LmhlYWRlci50aXRsZX1cbiAgICAgICAgICAgIHN1YnRpdGxlPXtjb21wb25lbnQuaGVhZGVyICYmIGNvbXBvbmVudC5oZWFkZXIuc3VidGl0bGV9XG4gICAgICAgICAgICBsaW5rX3RleHQ9e2NvbXBvbmVudC5oZWFkZXIgJiYgY29tcG9uZW50LmhlYWRlci5saW5rX3RleHR9XG4gICAgICAgICAgICBsaW5rX3VybD17Y29tcG9uZW50LmhlYWRlciAmJiBjb21wb25lbnQuaGVhZGVyLmxpbmtfdXJsfVxuICAgICAgICAgICAgaWNvbj17Y29tcG9uZW50LmhlYWRlciAmJiBjb21wb25lbnQuaGVhZGVyLmljb259XG4gICAgICAgICAgICBlc3NlbnRpYWxSZWFkc0hlYWRlcj17Y29tcG9uZW50LmVzc2VudGlhbFJlYWRzSGVhZGVyfVxuICAgICAgICAgICAgZWRpdG9yc1BpY2tzSGVhZGVyPXtjb21wb25lbnQuZWRpdG9yc1BpY2tzSGVhZGVyfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiU2VjdGlvblRpdGxlXCI6XG4gICAgICAgIHJldHVybiA8U2VjdGlvblRpdGxlIGhlYWRlcj17Y29tcG9uZW50LmhlYWRlcn0gLz47XG4gICAgICBjYXNlIFwiTmF2aWdhdGlvblwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxOYXZpZ2F0aW9uXG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIGxpbmtzPXtjb21wb25lbnQucHJvcGVydGllcy5saW5rc31cbiAgICAgICAgICAgIGV4dHJhTGlua3M9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmV4dHJhTGlua3N9XG4gICAgICAgICAgICBhbGlnbm1lbnQ9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmFsaWdubWVudH1cbiAgICAgICAgICAgIGRpc3BsYXlfdmFyaWFudD17Y29tcG9uZW50LnByb3BlcnRpZXMuZGlzcGxheV92YXJpYW50fVxuICAgICAgICAgICAgZXhwbG9yZV90b3BpY3M9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmV4cGxvcmVfdG9waWNzfVxuICAgICAgICAgICAgaGVhZGVyPXtjb21wb25lbnQuaGVhZGVyfVxuICAgICAgICAgICAgbG9jYWxlPXt0aGlzLnByb3BzLkFwcC5sb2NhbGV9XG4gICAgICAgICAgICBuZXdGb290ZXJTZWN0aW9uPXtjb21wb25lbnQubmV3Rm9vdGVyU2VjdGlvbn1cbiAgICAgICAgICAgIHByaXZhY3lOb3RpY2VVUkw9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLnByaXZhY3lOb3RpY2VVUkx9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJDb2xsZWN0aW9uQ2FyZEdyaWRcIjpcbiAgICAgICAgY29uc3QgeyBEaXNjb3ZlcnlTdHJlYW0gfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPENvbGxlY3Rpb25DYXJkR3JpZFxuICAgICAgICAgICAgZGF0YT17Y29tcG9uZW50LmRhdGF9XG4gICAgICAgICAgICBmZWVkPXtjb21wb25lbnQuZmVlZH1cbiAgICAgICAgICAgIHNwb2NzPXtEaXNjb3ZlcnlTdHJlYW0uc3BvY3N9XG4gICAgICAgICAgICBwbGFjZW1lbnQ9e2NvbXBvbmVudC5wbGFjZW1lbnR9XG4gICAgICAgICAgICBib3JkZXI9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmJvcmRlcn1cbiAgICAgICAgICAgIHR5cGU9e2NvbXBvbmVudC50eXBlfVxuICAgICAgICAgICAgaXRlbXM9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLml0ZW1zfVxuICAgICAgICAgICAgY3RhX3ZhcmlhbnQ9e2NvbXBvbmVudC5jdGFfdmFyaWFudH1cbiAgICAgICAgICAgIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHM9e0VOR0FHRU1FTlRfTEFCRUxfRU5BQkxFRH1cbiAgICAgICAgICAgIGRpc21pc3NpYmxlPXt0aGlzLnByb3BzLkRpc2NvdmVyeVN0cmVhbS5pc0NvbGxlY3Rpb25EaXNtaXNzaWJsZX1cbiAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiQ2FyZEdyaWRcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Q2FyZEdyaWRcbiAgICAgICAgICAgIGVuYWJsZV92aWRlb19wbGF5aGVhZHM9e1xuICAgICAgICAgICAgICAhIWNvbXBvbmVudC5wcm9wZXJ0aWVzLmVuYWJsZV92aWRlb19wbGF5aGVhZHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpdGxlPXtjb21wb25lbnQuaGVhZGVyICYmIGNvbXBvbmVudC5oZWFkZXIudGl0bGV9XG4gICAgICAgICAgICBkaXNwbGF5X3ZhcmlhbnQ9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmRpc3BsYXlfdmFyaWFudH1cbiAgICAgICAgICAgIGRhdGE9e2NvbXBvbmVudC5kYXRhfVxuICAgICAgICAgICAgZmVlZD17Y29tcG9uZW50LmZlZWR9XG4gICAgICAgICAgICBib3JkZXI9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmJvcmRlcn1cbiAgICAgICAgICAgIHR5cGU9e2NvbXBvbmVudC50eXBlfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICBpdGVtcz17Y29tcG9uZW50LnByb3BlcnRpZXMuaXRlbXN9XG4gICAgICAgICAgICBjb21wYWN0PXtjb21wb25lbnQucHJvcGVydGllcy5jb21wYWN0fVxuICAgICAgICAgICAgaGlkZURlc2NyaXB0aW9ucz17Y29tcG9uZW50LnByb3BlcnRpZXMuaGlkZURlc2NyaXB0aW9uc31cbiAgICAgICAgICAgIGNvbXBhY3RHcmlkPXtjb21wb25lbnQucHJvcGVydGllcy5jb21wYWN0R3JpZH1cbiAgICAgICAgICAgIGNvbXBhY3RJbWFnZXM9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmNvbXBhY3RJbWFnZXN9XG4gICAgICAgICAgICBpbWFnZUdyYWRpZW50PXtjb21wb25lbnQucHJvcGVydGllcy5pbWFnZUdyYWRpZW50fVxuICAgICAgICAgICAgbmV3U3BvbnNvcmVkTGFiZWw9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLm5ld1Nwb25zb3JlZExhYmVsfVxuICAgICAgICAgICAgdGl0bGVMaW5lcz17Y29tcG9uZW50LnByb3BlcnRpZXMudGl0bGVMaW5lc31cbiAgICAgICAgICAgIGRlc2NMaW5lcz17Y29tcG9uZW50LnByb3BlcnRpZXMuZGVzY0xpbmVzfVxuICAgICAgICAgICAgZXNzZW50aWFsUmVhZHNIZWFkZXI9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmVzc2VudGlhbFJlYWRzSGVhZGVyfVxuICAgICAgICAgICAgZWRpdG9yc1BpY2tzSGVhZGVyPXtjb21wb25lbnQucHJvcGVydGllcy5lZGl0b3JzUGlja3NIZWFkZXJ9XG4gICAgICAgICAgICByZWFkVGltZT17Y29tcG9uZW50LnByb3BlcnRpZXMucmVhZFRpbWV9XG4gICAgICAgICAgICBsb2FkTW9yZUVuYWJsZWQ9e2NvbXBvbmVudC5sb2FkTW9yZUVuYWJsZWR9XG4gICAgICAgICAgICBsYXN0Q2FyZE1lc3NhZ2VFbmFibGVkPXtjb21wb25lbnQubGFzdENhcmRNZXNzYWdlRW5hYmxlZH1cbiAgICAgICAgICAgIHNhdmVUb1BvY2tldENhcmQ9e2NvbXBvbmVudC5zYXZlVG9Qb2NrZXRDYXJkfVxuICAgICAgICAgICAgY3RhX3ZhcmlhbnQ9e2NvbXBvbmVudC5jdGFfdmFyaWFudH1cbiAgICAgICAgICAgIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHM9e0VOR0FHRU1FTlRfTEFCRUxfRU5BQkxFRH1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSBcIkhvcml6b250YWxSdWxlXCI6XG4gICAgICAgIHJldHVybiA8SG9yaXpvbnRhbFJ1bGUgLz47XG4gICAgICBjYXNlIFwiUHJpdmFjeUxpbmtcIjpcbiAgICAgICAgcmV0dXJuIDxQcml2YWN5TGluayBwcm9wZXJ0aWVzPXtjb21wb25lbnQucHJvcGVydGllc30gLz47XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gPGRpdj57Y29tcG9uZW50LnR5cGV9PC9kaXY+O1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlclN0eWxlcyhzdHlsZXMpIHtcbiAgICAvLyBVc2UganNvbiBzdHJpbmcgYXMgYm90aCB0aGUga2V5IGFuZCBzdHlsZXMgdG8gcmVuZGVyIHNvIFJlYWN0IGtub3dzIHdoZW5cbiAgICAvLyB0byB1bm1vdW50IGFuZCBtb3VudCBhIG5ldyBpbnN0YW5jZSBmb3IgbmV3IHN0eWxlcy5cbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoc3R5bGVzKTtcbiAgICByZXR1cm4gPHN0eWxlIGtleT17anNvbn0gZGF0YS1zdHlsZXM9e2pzb259IHJlZj17dGhpcy5vblN0eWxlTW91bnR9IC8+O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbG9jYWxlIH0gPSB0aGlzLnByb3BzO1xuICAgIC8vIFNlbGVjdCBsYXlvdXQgcmVuZGVyIGRhdGEgYnkgYWRkaW5nIHNwb2NzIGFuZCBwb3NpdGlvbiB0byByZWNvbW1lbmRhdGlvbnNcbiAgICBjb25zdCB7IGxheW91dFJlbmRlciB9ID0gc2VsZWN0TGF5b3V0UmVuZGVyKHtcbiAgICAgIHN0YXRlOiB0aGlzLnByb3BzLkRpc2NvdmVyeVN0cmVhbSxcbiAgICAgIHByZWZzOiB0aGlzLnByb3BzLlByZWZzLnZhbHVlcyxcbiAgICAgIGxvY2FsZSxcbiAgICB9KTtcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wcy5EaXNjb3ZlcnlTdHJlYW07XG5cbiAgICAvLyBBbGxvdyByZW5kZXJpbmcgd2l0aG91dCBleHRyYWN0aW5nIHNwZWNpYWwgY29tcG9uZW50c1xuICAgIGlmICghY29uZmlnLmNvbGxhcHNpYmxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJMYXlvdXQobGF5b3V0UmVuZGVyKTtcbiAgICB9XG5cbiAgICAvLyBGaW5kIHRoZSBmaXJzdCBjb21wb25lbnQgb2YgYSB0eXBlIGFuZCByZW1vdmUgaXQgZnJvbSBsYXlvdXRcbiAgICBjb25zdCBleHRyYWN0Q29tcG9uZW50ID0gdHlwZSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IFtyb3dJbmRleCwgcm93XSBvZiBPYmplY3QuZW50cmllcyhsYXlvdXRSZW5kZXIpKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBjb21wb25lbnRdIG9mIE9iamVjdC5lbnRyaWVzKHJvdy5jb21wb25lbnRzKSkge1xuICAgICAgICAgIGlmIChjb21wb25lbnQudHlwZSA9PT0gdHlwZSkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSByb3cgaWYgaXQgd2FzIHRoZSBvbmx5IGNvbXBvbmVudCBvciB0aGUgc2luZ2xlIGl0ZW1cbiAgICAgICAgICAgIGlmIChyb3cuY29tcG9uZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgbGF5b3V0UmVuZGVyLnNwbGljZShyb3dJbmRleCwgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByb3cuY29tcG9uZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICAvLyBHZXQgXCJ0b3BzdG9yaWVzXCIgU2VjdGlvbiBzdGF0ZSBmb3IgZGVmYXVsdCB2YWx1ZXNcbiAgICBjb25zdCB0b3BTdG9yaWVzID0gdGhpcy5wcm9wcy5TZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gXCJ0b3BzdG9yaWVzXCIpO1xuXG4gICAgaWYgKCF0b3BTdG9yaWVzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBFeHRyYWN0IFRvcFNpdGVzIHRvIHJlbmRlciBiZWZvcmUgdGhlIHJlc3QgYW5kIE1lc3NhZ2UgdG8gdXNlIGZvciBoZWFkZXJcbiAgICBjb25zdCB0b3BTaXRlcyA9IGV4dHJhY3RDb21wb25lbnQoXCJUb3BTaXRlc1wiKTtcbiAgICBjb25zdCBzcG9uc29yZWRDb2xsZWN0aW9uID0gZXh0cmFjdENvbXBvbmVudChcIkNvbGxlY3Rpb25DYXJkR3JpZFwiKTtcbiAgICBjb25zdCBtZXNzYWdlID0gZXh0cmFjdENvbXBvbmVudChcIk1lc3NhZ2VcIikgfHwge1xuICAgICAgaGVhZGVyOiB7XG4gICAgICAgIGxpbmtfdGV4dDogdG9wU3Rvcmllcy5sZWFybk1vcmUubGluay5tZXNzYWdlLFxuICAgICAgICBsaW5rX3VybDogdG9wU3Rvcmllcy5sZWFybk1vcmUubGluay5ocmVmLFxuICAgICAgICB0aXRsZTogdG9wU3Rvcmllcy50aXRsZSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGNvbnN0IHByaXZhY3lMaW5rQ29tcG9uZW50ID0gZXh0cmFjdENvbXBvbmVudChcIlByaXZhY3lMaW5rXCIpO1xuICAgIGxldCBsZWFybk1vcmUgPSB7XG4gICAgICBsaW5rOiB7XG4gICAgICAgIGhyZWY6IG1lc3NhZ2UuaGVhZGVyLmxpbmtfdXJsLFxuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLmhlYWRlci5saW5rX3RleHQsXG4gICAgICB9LFxuICAgIH07XG4gICAgbGV0IHNlY3Rpb25UaXRsZSA9IG1lc3NhZ2UuaGVhZGVyLnRpdGxlO1xuICAgIGxldCBzdWJUaXRsZSA9IFwiXCI7XG5cbiAgICAvLyBJZiB3ZSdyZSBpbiBvbmUgb2YgdGhlc2UgZXhwZXJpbWVudHMsIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG1lc3NhZ2UuXG4gICAgLy8gRm9yIG5vdyB0aGlzIGlzIEVuZ2xpc2ggb25seS5cbiAgICBpZiAobWVzc2FnZS5lc3NlbnRpYWxSZWFkc0hlYWRlciB8fCBtZXNzYWdlLmVkaXRvcnNQaWNrc0hlYWRlcikge1xuICAgICAgbGVhcm5Nb3JlID0gbnVsbDtcbiAgICAgIHN1YlRpdGxlID0gXCJSZWNvbW1lbmRlZCBCeSBQb2NrZXRcIjtcbiAgICAgIGlmIChtZXNzYWdlLmVzc2VudGlhbFJlYWRzSGVhZGVyKSB7XG4gICAgICAgIHNlY3Rpb25UaXRsZSA9IFwiVG9kYXnigJlzIEVzc2VudGlhbCBSZWFkc1wiO1xuICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLmVkaXRvcnNQaWNrc0hlYWRlcikge1xuICAgICAgICBzZWN0aW9uVGl0bGUgPSBcIkVkaXRvcuKAmXMgUGlja3NcIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW5kZXIgYSBEUy1zdHlsZSBUb3BTaXRlcyB0aGVuIHRoZSByZXN0IGlmIGFueSBpbiBhIGNvbGxhcHNpYmxlIHNlY3Rpb25cbiAgICByZXR1cm4gKFxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICB7dGhpcy5wcm9wcy5EaXNjb3ZlcnlTdHJlYW0uaXNQcml2YWN5SW5mb01vZGFsVmlzaWJsZSAmJiAoXG4gICAgICAgICAgPERTUHJpdmFjeU1vZGFsIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofSAvPlxuICAgICAgICApfVxuICAgICAgICB7dG9wU2l0ZXMgJiZcbiAgICAgICAgICB0aGlzLnJlbmRlckxheW91dChbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMixcbiAgICAgICAgICAgICAgY29tcG9uZW50czogW3RvcFNpdGVzXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSl9XG4gICAgICAgIHtzcG9uc29yZWRDb2xsZWN0aW9uICYmXG4gICAgICAgICAgdGhpcy5yZW5kZXJMYXlvdXQoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB3aWR0aDogMTIsXG4gICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtzcG9uc29yZWRDb2xsZWN0aW9uXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSl9XG4gICAgICAgIHshIWxheW91dFJlbmRlci5sZW5ndGggJiYgKFxuICAgICAgICAgIDxDb2xsYXBzaWJsZVNlY3Rpb25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImRzLWxheW91dFwiXG4gICAgICAgICAgICBjb2xsYXBzZWQ9e3RvcFN0b3JpZXMucHJlZi5jb2xsYXBzZWR9XG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIGlkPXt0b3BTdG9yaWVzLmlkfVxuICAgICAgICAgICAgaXNGaXhlZD17dHJ1ZX1cbiAgICAgICAgICAgIGxlYXJuTW9yZT17bGVhcm5Nb3JlfVxuICAgICAgICAgICAgcHJpdmFjeU5vdGljZVVSTD17dG9wU3Rvcmllcy5wcml2YWN5Tm90aWNlVVJMfVxuICAgICAgICAgICAgc2hvd1ByZWZOYW1lPXt0b3BTdG9yaWVzLnByZWYuZmVlZH1cbiAgICAgICAgICAgIHRpdGxlPXtzZWN0aW9uVGl0bGV9XG4gICAgICAgICAgICBzdWJUaXRsZT17c3ViVGl0bGV9XG4gICAgICAgICAgICBldmVudFNvdXJjZT1cIkNBUkRHUklEXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJMYXlvdXQobGF5b3V0UmVuZGVyKX1cbiAgICAgICAgICA8L0NvbGxhcHNpYmxlU2VjdGlvbj5cbiAgICAgICAgKX1cbiAgICAgICAge3RoaXMucmVuZGVyTGF5b3V0KFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aDogMTIsXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbeyB0eXBlOiBcIkhpZ2hsaWdodHNcIiB9XSxcbiAgICAgICAgICB9LFxuICAgICAgICBdKX1cbiAgICAgICAge3ByaXZhY3lMaW5rQ29tcG9uZW50ICYmXG4gICAgICAgICAgdGhpcy5yZW5kZXJMYXlvdXQoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB3aWR0aDogMTIsXG4gICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtwcml2YWN5TGlua0NvbXBvbmVudF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0pfVxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyTGF5b3V0KGxheW91dFJlbmRlcikge1xuICAgIGNvbnN0IHN0eWxlcyA9IFtdO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRpc2NvdmVyeS1zdHJlYW0gZHMtbGF5b3V0XCI+XG4gICAgICAgIHtsYXlvdXRSZW5kZXIubWFwKChyb3csIHJvd0luZGV4KSA9PiAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAga2V5PXtgcm93LSR7cm93SW5kZXh9YH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGRzLWNvbHVtbiBkcy1jb2x1bW4tJHtyb3cud2lkdGh9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWNvbHVtbi1ncmlkXCI+XG4gICAgICAgICAgICAgIHtyb3cuY29tcG9uZW50cy5tYXAoKGNvbXBvbmVudCwgY29tcG9uZW50SW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0eWxlc1tyb3dJbmRleF0gPSBbXG4gICAgICAgICAgICAgICAgICAuLi4oc3R5bGVzW3Jvd0luZGV4XSB8fCBbXSksXG4gICAgICAgICAgICAgICAgICBjb21wb25lbnQuc3R5bGVzLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtgY29tcG9uZW50LSR7Y29tcG9uZW50SW5kZXh9YH0+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckNvbXBvbmVudChjb21wb25lbnQsIHJvdy53aWR0aCl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgICAge3RoaXMucmVuZGVyU3R5bGVzKHN0eWxlcyl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBEaXNjb3ZlcnlTdHJlYW1CYXNlID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBEaXNjb3ZlcnlTdHJlYW06IHN0YXRlLkRpc2NvdmVyeVN0cmVhbSxcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxuICBTZWN0aW9uczogc3RhdGUuU2VjdGlvbnMsXG4gIGRvY3VtZW50OiBnbG9iYWwuZG9jdW1lbnQsXG4gIEFwcDogc3RhdGUuQXBwLFxufSkpKF9EaXNjb3ZlcnlTdHJlYW1CYXNlKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIERTSW1hZ2UgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLm9uT3B0aW1pemVkSW1hZ2VFcnJvciA9IHRoaXMub25PcHRpbWl6ZWRJbWFnZUVycm9yLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk5vbk9wdGltaXplZEltYWdlRXJyb3IgPSB0aGlzLm9uTm9uT3B0aW1pemVkSW1hZ2VFcnJvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Mb2FkID0gdGhpcy5vbkxvYWQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBvcHRpbWl6ZWRJbWFnZUZhaWxlZDogZmFsc2UsXG4gICAgICB1c2VUcmFuc2l0aW9uOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgb25JZGxlQ2FsbGJhY2soKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdXNlVHJhbnNpdGlvbjogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlZm9ybWF0SW1hZ2VVUkwodXJsLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgLy8gQ2hhbmdlIHRoZSBpbWFnZSBVUkwgdG8gcmVxdWVzdCBhIHNpemUgdGFpbG9yZWQgZm9yIHRoZSBwYXJlbnQgY29udGFpbmVyIHdpZHRoXG4gICAgLy8gQWxzbzogZm9yY2UgSlBFRywgcXVhbGl0eSA2MCwgbm8gdXBzY2FsaW5nLCBubyBFWElGIGRhdGFcbiAgICAvLyBVc2VzIFRodW1ib3I6IGh0dHBzOi8vdGh1bWJvci5yZWFkdGhlZG9jcy5pby9lbi9sYXRlc3QvdXNhZ2UuaHRtbFxuICAgIHJldHVybiBgaHR0cHM6Ly9pbWctZ2V0cG9ja2V0LmNkbi5tb3ppbGxhLm5ldC8ke3dpZHRofXgke2hlaWdodH0vZmlsdGVyczpmb3JtYXQoanBlZyk6cXVhbGl0eSg2MCk6bm9fdXBzY2FsZSgpOnN0cmlwX2V4aWYoKS8ke2VuY29kZVVSSUNvbXBvbmVudChcbiAgICAgIHVybFxuICAgICl9YDtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuaWRsZUNhbGxiYWNrSWQgPSB0aGlzLnByb3BzLndpbmRvd09iai5yZXF1ZXN0SWRsZUNhbGxiYWNrKFxuICAgICAgdGhpcy5vbklkbGVDYWxsYmFjay5iaW5kKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLmlkbGVDYWxsYmFja0lkKSB7XG4gICAgICB0aGlzLnByb3BzLndpbmRvd09iai5jYW5jZWxJZGxlQ2FsbGJhY2sodGhpcy5pZGxlQ2FsbGJhY2tJZCk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBjbGFzc05hbWVzID0gYGRzLWltYWdlXG4gICAgICAke3RoaXMucHJvcHMuZXh0cmFDbGFzc05hbWVzID8gYCAke3RoaXMucHJvcHMuZXh0cmFDbGFzc05hbWVzfWAgOiBgYH1cbiAgICAgICR7dGhpcy5zdGF0ZSAmJiB0aGlzLnN0YXRlLnVzZVRyYW5zaXRpb24gPyBgIHVzZS10cmFuc2l0aW9uYCA6IGBgfVxuICAgICAgJHt0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuaXNMb2FkZWQgPyBgIGxvYWRlZGAgOiBgYH1cbiAgICBgO1xuXG4gICAgbGV0IGltZztcblxuICAgIGlmICh0aGlzLnN0YXRlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMucHJvcHMub3B0aW1pemUgJiZcbiAgICAgICAgdGhpcy5wcm9wcy5yYXdTb3VyY2UgJiZcbiAgICAgICAgIXRoaXMuc3RhdGUub3B0aW1pemVkSW1hZ2VGYWlsZWRcbiAgICAgICkge1xuICAgICAgICBsZXQgYmFzZVNvdXJjZSA9IHRoaXMucHJvcHMucmF3U291cmNlO1xuXG4gICAgICAgIGxldCBzaXplUnVsZXMgPSBbXTtcbiAgICAgICAgbGV0IHNyY1NldFJ1bGVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgcnVsZSBvZiB0aGlzLnByb3BzLnNpemVzKSB7XG4gICAgICAgICAgbGV0IHsgbWVkaWFNYXRjaGVyLCB3aWR0aCwgaGVpZ2h0IH0gPSBydWxlO1xuICAgICAgICAgIGxldCBzaXplUnVsZSA9IGAke21lZGlhTWF0Y2hlcn0gJHt3aWR0aH1weGA7XG4gICAgICAgICAgc2l6ZVJ1bGVzLnB1c2goc2l6ZVJ1bGUpO1xuICAgICAgICAgIGxldCBzcmNTZXRSdWxlID0gYCR7dGhpcy5yZWZvcm1hdEltYWdlVVJMKFxuICAgICAgICAgICAgYmFzZVNvdXJjZSxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0XG4gICAgICAgICAgKX0gJHt3aWR0aH13YDtcbiAgICAgICAgICBsZXQgc3JjU2V0UnVsZTJ4ID0gYCR7dGhpcy5yZWZvcm1hdEltYWdlVVJMKFxuICAgICAgICAgICAgYmFzZVNvdXJjZSxcbiAgICAgICAgICAgIHdpZHRoICogMixcbiAgICAgICAgICAgIGhlaWdodCAqIDJcbiAgICAgICAgICApfSAke3dpZHRoICogMn13YDtcbiAgICAgICAgICBzcmNTZXRSdWxlcy5wdXNoKHNyY1NldFJ1bGUpO1xuICAgICAgICAgIHNyY1NldFJ1bGVzLnB1c2goc3JjU2V0UnVsZTJ4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNpemVzLmxlbmd0aCkge1xuICAgICAgICAgIC8vIFdlIGhhdmUgdG8gc3VwcGx5IGEgZmFsbGJhY2sgaW4gdGhlIHZlcnkgdW5saWtlbHkgZXZlbnQgdGhhdCBub25lIG9mXG4gICAgICAgICAgLy8gdGhlIG1lZGlhIHF1ZXJpZXMgbWF0Y2guIFRoZSBzbWFsbGVzdCBkaW1lbnNpb24gd2FzIGNob3NlbiBhcmJpdHJhcmlseS5cbiAgICAgICAgICBzaXplUnVsZXMucHVzaChcbiAgICAgICAgICAgIGAke3RoaXMucHJvcHMuc2l6ZXNbdGhpcy5wcm9wcy5zaXplcy5sZW5ndGggLSAxXS53aWR0aH1weGBcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaW1nID0gKFxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIGxvYWRpbmc9XCJsYXp5XCJcbiAgICAgICAgICAgIGFsdD17dGhpcy5wcm9wcy5hbHRfdGV4dH1cbiAgICAgICAgICAgIGNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCJcbiAgICAgICAgICAgIG9uTG9hZD17dGhpcy5vbkxvYWR9XG4gICAgICAgICAgICBvbkVycm9yPXt0aGlzLm9uT3B0aW1pemVkSW1hZ2VFcnJvcn1cbiAgICAgICAgICAgIHNpemVzPXtzaXplUnVsZXMuam9pbihcIixcIil9XG4gICAgICAgICAgICBzcmM9e2Jhc2VTb3VyY2V9XG4gICAgICAgICAgICBzcmNTZXQ9e3NyY1NldFJ1bGVzLmpvaW4oXCIsXCIpfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLnN0YXRlLm5vbk9wdGltaXplZEltYWdlRmFpbGVkKSB7XG4gICAgICAgIGltZyA9IChcbiAgICAgICAgICA8aW1nXG4gICAgICAgICAgICBsb2FkaW5nPVwibGF6eVwiXG4gICAgICAgICAgICBhbHQ9e3RoaXMucHJvcHMuYWx0X3RleHR9XG4gICAgICAgICAgICBjcm9zc09yaWdpbj1cImFub255bW91c1wiXG4gICAgICAgICAgICBvbkxvYWQ9e3RoaXMub25Mb2FkfVxuICAgICAgICAgICAgb25FcnJvcj17dGhpcy5vbk5vbk9wdGltaXplZEltYWdlRXJyb3J9XG4gICAgICAgICAgICBzcmM9e3RoaXMucHJvcHMuc291cmNlfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGltZyBlbGVtZW50IGlmIGJvdGggc291cmNlcyBmYWlsLiBSZW5kZXIgYSBwbGFjZWhvbGRlciBpbnN0ZWFkLlxuICAgICAgICBpbWcgPSA8ZGl2IGNsYXNzTmFtZT1cImJyb2tlbi1pbWFnZVwiIC8+O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiA8cGljdHVyZSBjbGFzc05hbWU9e2NsYXNzTmFtZXN9PntpbWd9PC9waWN0dXJlPjtcbiAgfVxuXG4gIG9uT3B0aW1pemVkSW1hZ2VFcnJvcigpIHtcbiAgICAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhIHJlLXJlbmRlciBhbmQgdGhlIHVub3B0aW1pemVkIDQ1MHB4IGltYWdlIHdpbGwgYmUgdXNlZCBhcyBhIGZhbGxiYWNrXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBvcHRpbWl6ZWRJbWFnZUZhaWxlZDogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIG9uTm9uT3B0aW1pemVkSW1hZ2VFcnJvcigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG5vbk9wdGltaXplZEltYWdlRmFpbGVkOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgb25Mb2FkKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgfSk7XG4gIH1cbn1cblxuRFNJbWFnZS5kZWZhdWx0UHJvcHMgPSB7XG4gIHNvdXJjZTogbnVsbCwgLy8gVGhlIGN1cnJlbnQgc291cmNlIHN0eWxlIGZyb20gUG9ja2V0IEFQSSAoYWx3YXlzIDQ1MHB4KVxuICByYXdTb3VyY2U6IG51bGwsIC8vIFVuYWR1bHRlcmF0ZWQgaW1hZ2UgVVJMIHRvIGZpbHRlciB0aHJvdWdoIFRodW1ib3JcbiAgZXh0cmFDbGFzc05hbWVzOiBudWxsLCAvLyBBZGRpdGlvbmFsIGNsYXNzbmFtZXMgdG8gYXBwZW5kIHRvIGNvbXBvbmVudFxuICBvcHRpbWl6ZTogdHJ1ZSwgLy8gTWVhc3VyZSBwYXJlbnQgY29udGFpbmVyIHRvIHJlcXVlc3QgZXhhY3Qgc2l6ZXNcbiAgYWx0X3RleHQ6IG51bGwsXG4gIHdpbmRvd09iajogd2luZG93LCAvLyBBZGRlZCB0byBzdXBwb3J0IHVuaXQgdGVzdHNcbiAgc2l6ZXM6IFtdLFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgQ29udGV4dE1lbnUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudVwiO1xuaW1wb3J0IHsgTGlua01lbnVPcHRpb25zIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9saW5rLW1lbnUtb3B0aW9uc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5jb25zdCBERUZBVUxUX1NJVEVfTUVOVV9PUFRJT05TID0gW1xuICBcIkNoZWNrUGluVG9wU2l0ZVwiLFxuICBcIkVkaXRUb3BTaXRlXCIsXG4gIFwiU2VwYXJhdG9yXCIsXG4gIFwiT3BlbkluTmV3V2luZG93XCIsXG4gIFwiT3BlbkluUHJpdmF0ZVdpbmRvd1wiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIkJsb2NrVXJsXCIsXG5dO1xuXG5leHBvcnQgY2xhc3MgX0xpbmtNZW51IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGdldE9wdGlvbnMoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCB7XG4gICAgICBzaXRlLFxuICAgICAgaW5kZXgsXG4gICAgICBzb3VyY2UsXG4gICAgICBpc1ByaXZhdGVCcm93c2luZ0VuYWJsZWQsXG4gICAgICBzaXRlSW5mbyxcbiAgICAgIHBsYXRmb3JtLFxuICAgIH0gPSBwcm9wcztcblxuICAgIC8vIEhhbmRsZSBzcGVjaWFsIGNhc2Ugb2YgZGVmYXVsdCBzaXRlXG4gICAgY29uc3QgcHJvcE9wdGlvbnMgPVxuICAgICAgc2l0ZS5pc0RlZmF1bHQgJiYgIXNpdGUuc2VhcmNoVG9wU2l0ZSAmJiAhc2l0ZS5zcG9uc29yZWRfcG9zaXRpb25cbiAgICAgICAgPyBERUZBVUxUX1NJVEVfTUVOVV9PUFRJT05TXG4gICAgICAgIDogcHJvcHMub3B0aW9ucztcblxuICAgIGNvbnN0IG9wdGlvbnMgPSBwcm9wT3B0aW9uc1xuICAgICAgLm1hcChvID0+XG4gICAgICAgIExpbmtNZW51T3B0aW9uc1tvXShcbiAgICAgICAgICBzaXRlLFxuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBpc1ByaXZhdGVCcm93c2luZ0VuYWJsZWQsXG4gICAgICAgICAgc2l0ZUluZm8sXG4gICAgICAgICAgcGxhdGZvcm1cbiAgICAgICAgKVxuICAgICAgKVxuICAgICAgLm1hcChvcHRpb24gPT4ge1xuICAgICAgICBjb25zdCB7IGFjdGlvbiwgaW1wcmVzc2lvbiwgaWQsIHR5cGUsIHVzZXJFdmVudCB9ID0gb3B0aW9uO1xuICAgICAgICBpZiAoIXR5cGUgJiYgaWQpIHtcbiAgICAgICAgICBvcHRpb24ub25DbGljayA9IChldmVudCA9IHt9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGN0cmxLZXksIG1ldGFLZXksIHNoaWZ0S2V5LCBidXR0b24gfSA9IGV2ZW50O1xuICAgICAgICAgICAgLy8gT25seSBzZW5kIGFsb25nIGV2ZW50IGluZm8gaWYgdGhlcmUncyBzb21ldGhpbmcgbm9uLWRlZmF1bHQgdG8gc2VuZFxuICAgICAgICAgICAgaWYgKGN0cmxLZXkgfHwgbWV0YUtleSB8fCBzaGlmdEtleSB8fCBidXR0b24gPT09IDEpIHtcbiAgICAgICAgICAgICAgYWN0aW9uLmRhdGEgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50OiB7IGN0cmxLZXksIG1ldGFLZXksIHNoaWZ0S2V5LCBidXR0b24gfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFjdGlvbi5kYXRhXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9wcy5kaXNwYXRjaChhY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHVzZXJFdmVudCkge1xuICAgICAgICAgICAgICBjb25zdCB1c2VyRXZlbnREYXRhID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBldmVudDogdXNlckV2ZW50LFxuICAgICAgICAgICAgICAgICAgc291cmNlLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiBpbmRleCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNpdGVJbmZvXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHByb3BzLmRpc3BhdGNoKGFjLlVzZXJFdmVudCh1c2VyRXZlbnREYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW1wcmVzc2lvbiAmJiBwcm9wcy5zaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzKSB7XG4gICAgICAgICAgICAgIHByb3BzLmRpc3BhdGNoKGltcHJlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdGlvbjtcbiAgICAgIH0pO1xuXG4gICAgLy8gVGhpcyBpcyBmb3IgYWNjZXNzaWJpbGl0eSB0byBzdXBwb3J0IG1ha2luZyBlYWNoIGl0ZW0gdGFiYmFibGUuXG4gICAgLy8gV2Ugd2FudCB0byBrbm93IHdoaWNoIGl0ZW0gaXMgdGhlIGZpcnN0IGFuZCB3aGljaCBpdGVtXG4gICAgLy8gaXMgdGhlIGxhc3QsIHNvIHdlIGNhbiBjbG9zZSB0aGUgY29udGV4dCBtZW51IGFjY29yZGluZ2x5LlxuICAgIG9wdGlvbnNbMF0uZmlyc3QgPSB0cnVlO1xuICAgIG9wdGlvbnNbb3B0aW9ucy5sZW5ndGggLSAxXS5sYXN0ID0gdHJ1ZTtcbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPENvbnRleHRNZW51XG4gICAgICAgIG9uVXBkYXRlPXt0aGlzLnByb3BzLm9uVXBkYXRlfVxuICAgICAgICBvblNob3c9e3RoaXMucHJvcHMub25TaG93fVxuICAgICAgICBvcHRpb25zPXt0aGlzLmdldE9wdGlvbnMoKX1cbiAgICAgICAga2V5Ym9hcmRBY2Nlc3M9e3RoaXMucHJvcHMua2V5Ym9hcmRBY2Nlc3N9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgZ2V0U3RhdGUgPSBzdGF0ZSA9PiAoe1xuICBpc1ByaXZhdGVCcm93c2luZ0VuYWJsZWQ6IHN0YXRlLlByZWZzLnZhbHVlcy5pc1ByaXZhdGVCcm93c2luZ0VuYWJsZWQsXG4gIHBsYXRmb3JtOiBzdGF0ZS5QcmVmcy52YWx1ZXMucGxhdGZvcm0sXG59KTtcbmV4cG9ydCBjb25zdCBMaW5rTWVudSA9IGNvbm5lY3QoZ2V0U3RhdGUpKF9MaW5rTWVudSk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5cbmV4cG9ydCBjbGFzcyBDb250ZXh0TWVudSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhpZGVDb250ZXh0ID0gdGhpcy5oaWRlQ29udGV4dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TaG93ID0gdGhpcy5vblNob3cuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIGhpZGVDb250ZXh0KCkge1xuICAgIHRoaXMucHJvcHMub25VcGRhdGUoZmFsc2UpO1xuICB9XG5cbiAgb25TaG93KCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uU2hvdykge1xuICAgICAgdGhpcy5wcm9wcy5vblNob3coKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLm9uU2hvdygpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhpZGVDb250ZXh0KTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGdsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oaWRlQ29udGV4dCk7XG4gIH1cblxuICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgLy8gRWF0IGFsbCBjbGlja3Mgb24gdGhlIGNvbnRleHQgbWVudSBzbyB0aGV5IGRvbid0IGJ1YmJsZSB1cCB0byB3aW5kb3cuXG4gICAgLy8gVGhpcyBwcmV2ZW50cyB0aGUgY29udGV4dCBtZW51IGZyb20gY2xvc2luZyB3aGVuIGNsaWNraW5nIGRpc2FibGVkIGl0ZW1zXG4gICAgLy8gb3IgdGhlIHNlcGFyYXRvcnMuXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLy8gRGlzYWJsaW5nIGZvY3VzIG9uIHRoZSBtZW51IHNwYW4gYWxsb3dzIHRoZSBmaXJzdCB0YWIgdG8gZm9jdXMgb24gdGhlIGZpcnN0IG1lbnUgaXRlbSBpbnN0ZWFkIG9mIHRoZSB3cmFwcGVyLlxuICAgIHJldHVybiAoXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvaW50ZXJhY3RpdmUtc3VwcG9ydHMtZm9jdXNcbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvbnRleHQtbWVudVwiPlxuICAgICAgICA8dWxcbiAgICAgICAgICByb2xlPVwibWVudVwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImNvbnRleHQtbWVudS1saXN0XCJcbiAgICAgICAgPlxuICAgICAgICAgIHt0aGlzLnByb3BzLm9wdGlvbnMubWFwKChvcHRpb24sIGkpID0+XG4gICAgICAgICAgICBvcHRpb24udHlwZSA9PT0gXCJzZXBhcmF0b3JcIiA/IChcbiAgICAgICAgICAgICAgPGxpIGtleT17aX0gY2xhc3NOYW1lPVwic2VwYXJhdG9yXCIgcm9sZT1cInNlcGFyYXRvclwiIC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICBvcHRpb24udHlwZSAhPT0gXCJlbXB0eVwiICYmIChcbiAgICAgICAgICAgICAgICA8Q29udGV4dE1lbnVJdGVtXG4gICAgICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgICAgICBvcHRpb249e29wdGlvbn1cbiAgICAgICAgICAgICAgICAgIGhpZGVDb250ZXh0PXt0aGlzLmhpZGVDb250ZXh0fVxuICAgICAgICAgICAgICAgICAga2V5Ym9hcmRBY2Nlc3M9e3RoaXMucHJvcHMua2V5Ym9hcmRBY2Nlc3N9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgX0NvbnRleHRNZW51SXRlbSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uS2V5RG93biA9IHRoaXMub25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbktleVVwID0gdGhpcy5vbktleVVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5mb2N1c0ZpcnN0ID0gdGhpcy5mb2N1c0ZpcnN0LmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5oaWRlQ29udGV4dCgpO1xuICAgIHRoaXMucHJvcHMub3B0aW9uLm9uQ2xpY2soZXZlbnQpO1xuICB9XG5cbiAgLy8gRm9jdXMgdGhlIGZpcnN0IG1lbnUgaXRlbSBpZiB0aGUgbWVudSB3YXMgYWNjZXNzZWQgdmlhIHRoZSBrZXlib2FyZC5cbiAgZm9jdXNGaXJzdChidXR0b24pIHtcbiAgICBpZiAodGhpcy5wcm9wcy5rZXlib2FyZEFjY2VzcyAmJiBidXR0b24pIHtcbiAgICAgIGJ1dHRvbi5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoaXMgc2VsZWN0cyB0aGUgY29ycmVjdCBub2RlIGJhc2VkIG9uIHRoZSBrZXkgcHJlc3NlZFxuICBmb2N1c1NpYmxpbmcodGFyZ2V0LCBrZXkpIHtcbiAgICBjb25zdCBwYXJlbnQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICBjb25zdCBjbG9zZXN0U2libGluZ1NlbGVjdG9yID1cbiAgICAgIGtleSA9PT0gXCJBcnJvd1VwXCIgPyBcInByZXZpb3VzU2libGluZ1wiIDogXCJuZXh0U2libGluZ1wiO1xuICAgIGlmICghcGFyZW50W2Nsb3Nlc3RTaWJsaW5nU2VsZWN0b3JdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChwYXJlbnRbY2xvc2VzdFNpYmxpbmdTZWxlY3Rvcl0uZmlyc3RFbGVtZW50Q2hpbGQpIHtcbiAgICAgIHBhcmVudFtjbG9zZXN0U2libGluZ1NlbGVjdG9yXS5maXJzdEVsZW1lbnRDaGlsZC5mb2N1cygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJlbnRbY2xvc2VzdFNpYmxpbmdTZWxlY3Rvcl1bXG4gICAgICAgIGNsb3Nlc3RTaWJsaW5nU2VsZWN0b3JcbiAgICAgIF0uZmlyc3RFbGVtZW50Q2hpbGQuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBvbktleURvd24oZXZlbnQpIHtcbiAgICBjb25zdCB7IG9wdGlvbiB9ID0gdGhpcy5wcm9wcztcbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgY2FzZSBcIlRhYlwiOlxuICAgICAgICAvLyB0YWIgZ29lcyBkb3duIGluIGNvbnRleHQgbWVudSwgc2hpZnQgKyB0YWIgZ29lcyB1cCBpbiBjb250ZXh0IG1lbnVcbiAgICAgICAgLy8gaWYgd2UncmUgb24gdGhlIGxhc3QgaXRlbSwgb25lIG1vcmUgdGFiIHdpbGwgY2xvc2UgdGhlIGNvbnRleHQgbWVudVxuICAgICAgICAvLyBzaW1pbGFybHksIGlmIHdlJ3JlIG9uIHRoZSBmaXJzdCBpdGVtLCBvbmUgbW9yZSBzaGlmdCArIHRhYiB3aWxsIGNsb3NlIGl0XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoZXZlbnQuc2hpZnRLZXkgJiYgb3B0aW9uLmZpcnN0KSB8fFxuICAgICAgICAgICghZXZlbnQuc2hpZnRLZXkgJiYgb3B0aW9uLmxhc3QpXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMucHJvcHMuaGlkZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJBcnJvd1VwXCI6XG4gICAgICBjYXNlIFwiQXJyb3dEb3duXCI6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuZm9jdXNTaWJsaW5nKGV2ZW50LnRhcmdldCwgZXZlbnQua2V5KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiRW50ZXJcIjpcbiAgICAgIGNhc2UgXCIgXCI6XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMucHJvcHMuaGlkZUNvbnRleHQoKTtcbiAgICAgICAgb3B0aW9uLm9uQ2xpY2soKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiRXNjYXBlXCI6XG4gICAgICAgIHRoaXMucHJvcHMuaGlkZUNvbnRleHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy8gUHJldmVudHMgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2Ygc3BhY2ViYXJcbiAgLy8gc2Nyb2xsaW5nIHRoZSBwYWdlICYgYXV0by10cmlnZ2VyaW5nIGJ1dHRvbnMuXG4gIG9uS2V5VXAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIiBcIikge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBvcHRpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSByb2xlPVwicHJlc2VudGF0aW9uXCIgY2xhc3NOYW1lPVwiY29udGV4dC1tZW51LWl0ZW1cIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT17b3B0aW9uLmRpc2FibGVkID8gXCJkaXNhYmxlZFwiIDogXCJcIn1cbiAgICAgICAgICByb2xlPVwibWVudWl0ZW1cIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICBvbktleURvd249e3RoaXMub25LZXlEb3dufVxuICAgICAgICAgIG9uS2V5VXA9e3RoaXMub25LZXlVcH1cbiAgICAgICAgICByZWY9e29wdGlvbi5maXJzdCA/IHRoaXMuZm9jdXNGaXJzdCA6IG51bGx9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBkYXRhLWwxMG4taWQ9e29wdGlvbi5zdHJpbmdfaWQgfHwgb3B0aW9uLmlkfSAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgQ29udGV4dE1lbnVJdGVtID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBQcmVmczogc3RhdGUuUHJlZnMsXG59KSkoX0NvbnRleHRNZW51SXRlbSk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5cbmNvbnN0IF9PcGVuSW5Qcml2YXRlV2luZG93ID0gc2l0ZSA9PiAoe1xuICBpZDogXCJuZXd0YWItbWVudS1vcGVuLW5ldy1wcml2YXRlLXdpbmRvd1wiLFxuICBpY29uOiBcIm5ldy13aW5kb3ctcHJpdmF0ZVwiLFxuICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgIHR5cGU6IGF0Lk9QRU5fUFJJVkFURV9XSU5ET1csXG4gICAgZGF0YTogeyB1cmw6IHNpdGUudXJsLCByZWZlcnJlcjogc2l0ZS5yZWZlcnJlciB9LFxuICB9KSxcbiAgdXNlckV2ZW50OiBcIk9QRU5fUFJJVkFURV9XSU5ET1dcIixcbn0pO1xuXG4vKipcbiAqIExpc3Qgb2YgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIGl0ZW1zIHRoYXQgY2FuIGJlIGluY2x1ZGVkIGFzIG1lbnUgb3B0aW9ucyBpbiBhXG4gKiBMaW5rTWVudS4gQWxsIGZ1bmN0aW9ucyB0YWtlIHRoZSBzaXRlIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIsIGFuZCBvcHRpb25hbGx5XG4gKiB0aGUgaW5kZXggb2YgdGhlIHNpdGUuXG4gKi9cbmV4cG9ydCBjb25zdCBMaW5rTWVudU9wdGlvbnMgPSB7XG4gIFNlcGFyYXRvcjogKCkgPT4gKHsgdHlwZTogXCJzZXBhcmF0b3JcIiB9KSxcbiAgRW1wdHlJdGVtOiAoKSA9PiAoeyB0eXBlOiBcImVtcHR5XCIgfSksXG4gIFNob3dQcml2YWN5SW5mbzogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LXNob3ctcHJpdmFjeS1pbmZvXCIsXG4gICAgaWNvbjogXCJpbmZvXCIsXG4gICAgYWN0aW9uOiB7XG4gICAgICB0eXBlOiBhdC5TSE9XX1BSSVZBQ1lfSU5GTyxcbiAgICB9LFxuICAgIHVzZXJFdmVudDogXCJTSE9XX1BSSVZBQ1lfSU5GT1wiLFxuICB9KSxcbiAgQWJvdXRTcG9uc29yZWQ6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1zaG93LXByaXZhY3ktaW5mb1wiLFxuICAgIGljb246IFwiaW5mb1wiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5BQk9VVF9TUE9OU09SRURfVE9QX1NJVEVTLFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJUT1BTSVRFX1NQT05TT1JfSU5GT1wiLFxuICB9KSxcbiAgUmVtb3ZlQm9va21hcms6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1yZW1vdmUtYm9va21hcmtcIixcbiAgICBpY29uOiBcImJvb2ttYXJrLWFkZGVkXCIsXG4gICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LkRFTEVURV9CT09LTUFSS19CWV9JRCxcbiAgICAgIGRhdGE6IHNpdGUuYm9va21hcmtHdWlkLFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJCT09LTUFSS19ERUxFVEVcIixcbiAgfSksXG4gIEFkZEJvb2ttYXJrOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtYm9va21hcmtcIixcbiAgICBpY29uOiBcImJvb2ttYXJrLWhvbGxvd1wiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5CT09LTUFSS19VUkwsXG4gICAgICBkYXRhOiB7IHVybDogc2l0ZS51cmwsIHRpdGxlOiBzaXRlLnRpdGxlLCB0eXBlOiBzaXRlLnR5cGUgfSxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiQk9PS01BUktfQUREXCIsXG4gIH0pLFxuICBPcGVuSW5OZXdXaW5kb3c6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1vcGVuLW5ldy13aW5kb3dcIixcbiAgICBpY29uOiBcIm5ldy13aW5kb3dcIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuT1BFTl9ORVdfV0lORE9XLFxuICAgICAgZGF0YToge1xuICAgICAgICByZWZlcnJlcjogc2l0ZS5yZWZlcnJlcixcbiAgICAgICAgdHlwZWRCb251czogc2l0ZS50eXBlZEJvbnVzLFxuICAgICAgICB1cmw6IHNpdGUudXJsLFxuICAgICAgfSxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiT1BFTl9ORVdfV0lORE9XXCIsXG4gIH0pLFxuICAvLyBUaGlzIGJsb2NrcyB0aGUgdXJsIGZvciByZWd1bGFyIHN0b3JpZXMsXG4gIC8vIGJ1dCBhbHNvIHNlbmRzIGEgbWVzc2FnZSB0byBEaXNjb3ZlcnlTdHJlYW0gd2l0aCBmbGlnaHRfaWQuXG4gIC8vIElmIERpc2NvdmVyeVN0cmVhbSBzZWVzIHRoaXMgbWVzc2FnZSBmb3IgYSBmbGlnaHRfaWRcbiAgLy8gaXQgYWxzbyBibG9ja3MgaXQgb24gdGhlIGZsaWdodF9pZC5cbiAgQmxvY2tVcmw6IChzaXRlLCBpbmRleCwgZXZlbnRTb3VyY2UpID0+IHtcbiAgICByZXR1cm4gTGlua01lbnVPcHRpb25zLkJsb2NrVXJscyhbc2l0ZV0sIGluZGV4LCBldmVudFNvdXJjZSk7XG4gIH0sXG4gIC8vIFNhbWUgYXMgQmxvY2tVcmwsIGNlcHQgY2FuIHdvcmsgb24gYW4gYXJyYXkgb2Ygc2l0ZXMuXG4gIEJsb2NrVXJsczogKHRpbGVzLCBwb3MsIGV2ZW50U291cmNlKSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LWRpc21pc3NcIixcbiAgICBpY29uOiBcImRpc21pc3NcIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuQkxPQ0tfVVJMLFxuICAgICAgZGF0YTogdGlsZXMubWFwKHNpdGUgPT4gKHtcbiAgICAgICAgdXJsOiBzaXRlLm9yaWdpbmFsX3VybCB8fCBzaXRlLm9wZW5fdXJsIHx8IHNpdGUudXJsLFxuICAgICAgICAvLyBwb2NrZXRfaWQgaXMgb25seSBmb3IgcG9ja2V0IHN0b3JpZXMgYmVpbmcgaW4gaGlnaGxpZ2h0cywgYW5kIHRoZW4gZGlzbWlzc2VkLlxuICAgICAgICBwb2NrZXRfaWQ6IHNpdGUucG9ja2V0X2lkLFxuICAgICAgICAvLyB1c2VkIGJ5IFBsYWNlc0ZlZWQgYW5kIFRvcFNpdGVzRmVlZCBmb3Igc3BvbnNvcmVkIHRvcCBzaXRlcyBibG9ja2luZy5cbiAgICAgICAgaXNTcG9uc29yZWRUb3BTaXRlOiBzaXRlLnNwb25zb3JlZF9wb3NpdGlvbixcbiAgICAgICAgLi4uKHNpdGUuZmxpZ2h0X2lkID8geyBmbGlnaHRfaWQ6IHNpdGUuZmxpZ2h0X2lkIH0gOiB7fSksXG4gICAgICB9KSksXG4gICAgfSksXG4gICAgaW1wcmVzc2lvbjogYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgIHNvdXJjZTogZXZlbnRTb3VyY2UsXG4gICAgICBibG9jazogMCxcbiAgICAgIHRpbGVzOiB0aWxlcy5tYXAoKHNpdGUsIGluZGV4KSA9PiAoe1xuICAgICAgICBpZDogc2l0ZS5ndWlkLFxuICAgICAgICBwb3M6IHBvcyArIGluZGV4LFxuICAgICAgICAuLi4oc2l0ZS5zaGltICYmIHNpdGUuc2hpbS5kZWxldGUgPyB7IHNoaW06IHNpdGUuc2hpbS5kZWxldGUgfSA6IHt9KSxcbiAgICAgIH0pKSxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiQkxPQ0tcIixcbiAgfSksXG5cbiAgLy8gVGhpcyBpcyBhbiBvcHRpb24gZm9yIHdlYiBleHRlbnRpb25zIHdoaWNoIHdpbGwgcmVzdWx0IGluIHJlbW92ZSBpdGVtcyBmcm9tXG4gIC8vIG1lbW9yeSBhbmQgbm90aWZ5IHRoZSB3ZWIgZXh0ZW5pb24sIHJhdGhlciB0aGFuIHVzaW5nIHRoZSBidWlsdC1pbiBibG9jayBsaXN0LlxuICBXZWJFeHREaXNtaXNzOiAoc2l0ZSwgaW5kZXgsIGV2ZW50U291cmNlKSA9PiAoe1xuICAgIGlkOiBcIm1lbnVfYWN0aW9uX3dlYmV4dF9kaXNtaXNzXCIsXG4gICAgc3RyaW5nX2lkOiBcIm5ld3RhYi1tZW51LWRpc21pc3NcIixcbiAgICBpY29uOiBcImRpc21pc3NcIixcbiAgICBhY3Rpb246IGFjLldlYkV4dEV2ZW50KGF0LldFQkVYVF9ESVNNSVNTLCB7XG4gICAgICBzb3VyY2U6IGV2ZW50U291cmNlLFxuICAgICAgdXJsOiBzaXRlLnVybCxcbiAgICAgIGFjdGlvbl9wb3NpdGlvbjogaW5kZXgsXG4gICAgfSksXG4gIH0pLFxuICBEZWxldGVVcmw6IChzaXRlLCBpbmRleCwgZXZlbnRTb3VyY2UsIGlzRW5hYmxlZCwgc2l0ZUluZm8pID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtZGVsZXRlLWhpc3RvcnlcIixcbiAgICBpY29uOiBcImRlbGV0ZVwiLFxuICAgIGFjdGlvbjoge1xuICAgICAgdHlwZTogYXQuRElBTE9HX09QRU4sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIG9uQ29uZmlybTogW1xuICAgICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuREVMRVRFX0hJU1RPUllfVVJMLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICB1cmw6IHNpdGUudXJsLFxuICAgICAgICAgICAgICBwb2NrZXRfaWQ6IHNpdGUucG9ja2V0X2lkLFxuICAgICAgICAgICAgICBmb3JjZUJsb2NrOiBzaXRlLmJvb2ttYXJrR3VpZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgICAgYWMuVXNlckV2ZW50KFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgeyBldmVudDogXCJERUxFVEVcIiwgc291cmNlOiBldmVudFNvdXJjZSwgYWN0aW9uX3Bvc2l0aW9uOiBpbmRleCB9LFxuICAgICAgICAgICAgICBzaXRlSW5mb1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgIF0sXG4gICAgICAgIGV2ZW50U291cmNlLFxuICAgICAgICBib2R5X3N0cmluZ19pZDogW1xuICAgICAgICAgIFwibmV3dGFiLWNvbmZpcm0tZGVsZXRlLWhpc3RvcnktcDFcIixcbiAgICAgICAgICBcIm5ld3RhYi1jb25maXJtLWRlbGV0ZS1oaXN0b3J5LXAyXCIsXG4gICAgICAgIF0sXG4gICAgICAgIGNvbmZpcm1fYnV0dG9uX3N0cmluZ19pZDogXCJuZXd0YWItdG9wc2l0ZXMtZGVsZXRlLWhpc3RvcnktYnV0dG9uXCIsXG4gICAgICAgIGNhbmNlbF9idXR0b25fc3RyaW5nX2lkOiBcIm5ld3RhYi10b3BzaXRlcy1jYW5jZWwtYnV0dG9uXCIsXG4gICAgICAgIGljb246IFwibW9kYWwtZGVsZXRlXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgdXNlckV2ZW50OiBcIkRJQUxPR19PUEVOXCIsXG4gIH0pLFxuICBTaG93RmlsZTogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LXNob3ctZmlsZVwiLFxuICAgIGljb246IFwic2VhcmNoXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LlNIT1dfRE9XTkxPQURfRklMRSxcbiAgICAgIGRhdGE6IHsgdXJsOiBzaXRlLnVybCB9LFxuICAgIH0pLFxuICB9KSxcbiAgT3BlbkZpbGU6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1vcGVuLWZpbGVcIixcbiAgICBpY29uOiBcIm9wZW4tZmlsZVwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5PUEVOX0RPV05MT0FEX0ZJTEUsXG4gICAgICBkYXRhOiB7IHVybDogc2l0ZS51cmwgfSxcbiAgICB9KSxcbiAgfSksXG4gIENvcHlEb3dubG9hZExpbms6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1jb3B5LWRvd25sb2FkLWxpbmtcIixcbiAgICBpY29uOiBcImNvcHlcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuQ09QWV9ET1dOTE9BRF9MSU5LLFxuICAgICAgZGF0YTogeyB1cmw6IHNpdGUudXJsIH0sXG4gICAgfSksXG4gIH0pLFxuICBHb1RvRG93bmxvYWRQYWdlOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtZ28tdG8tZG93bmxvYWQtcGFnZVwiLFxuICAgIGljb246IFwiZG93bmxvYWRcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgZGF0YTogeyB1cmw6IHNpdGUucmVmZXJyZXIgfSxcbiAgICB9KSxcbiAgICBkaXNhYmxlZDogIXNpdGUucmVmZXJyZXIsXG4gIH0pLFxuICBSZW1vdmVEb3dubG9hZDogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LXJlbW92ZS1kb3dubG9hZFwiLFxuICAgIGljb246IFwiZGVsZXRlXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LlJFTU9WRV9ET1dOTE9BRF9GSUxFLFxuICAgICAgZGF0YTogeyB1cmw6IHNpdGUudXJsIH0sXG4gICAgfSksXG4gIH0pLFxuICBQaW5Ub3BTaXRlOiAoc2l0ZSwgaW5kZXgpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtcGluXCIsXG4gICAgaWNvbjogXCJwaW5cIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuVE9QX1NJVEVTX1BJTixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc2l0ZSxcbiAgICAgICAgaW5kZXgsXG4gICAgICB9LFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJQSU5cIixcbiAgfSksXG4gIFVucGluVG9wU2l0ZTogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LXVucGluXCIsXG4gICAgaWNvbjogXCJ1bnBpblwiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5UT1BfU0lURVNfVU5QSU4sXG4gICAgICBkYXRhOiB7IHNpdGU6IHsgdXJsOiBzaXRlLnVybCB9IH0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIlVOUElOXCIsXG4gIH0pLFxuICBTYXZlVG9Qb2NrZXQ6IChzaXRlLCBpbmRleCwgZXZlbnRTb3VyY2UgPSBcIkNBUkRHUklEXCIpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtc2F2ZS10by1wb2NrZXRcIixcbiAgICBpY29uOiBcInBvY2tldC1zYXZlXCIsXG4gICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LlNBVkVfVE9fUE9DS0VULFxuICAgICAgZGF0YTogeyBzaXRlOiB7IHVybDogc2l0ZS51cmwsIHRpdGxlOiBzaXRlLnRpdGxlIH0gfSxcbiAgICB9KSxcbiAgICBpbXByZXNzaW9uOiBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgc291cmNlOiBldmVudFNvdXJjZSxcbiAgICAgIHBvY2tldDogMCxcbiAgICAgIHRpbGVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogc2l0ZS5ndWlkLFxuICAgICAgICAgIHBvczogaW5kZXgsXG4gICAgICAgICAgLi4uKHNpdGUuc2hpbSAmJiBzaXRlLnNoaW0uc2F2ZSA/IHsgc2hpbTogc2l0ZS5zaGltLnNhdmUgfSA6IHt9KSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIlNBVkVfVE9fUE9DS0VUXCIsXG4gIH0pLFxuICBEZWxldGVGcm9tUG9ja2V0OiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtZGVsZXRlLXBvY2tldFwiLFxuICAgIGljb246IFwicG9ja2V0LWRlbGV0ZVwiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5ERUxFVEVfRlJPTV9QT0NLRVQsXG4gICAgICBkYXRhOiB7IHBvY2tldF9pZDogc2l0ZS5wb2NrZXRfaWQgfSxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiREVMRVRFX0ZST01fUE9DS0VUXCIsXG4gIH0pLFxuICBBcmNoaXZlRnJvbVBvY2tldDogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LWFyY2hpdmUtcG9ja2V0XCIsXG4gICAgaWNvbjogXCJwb2NrZXQtYXJjaGl2ZVwiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5BUkNISVZFX0ZST01fUE9DS0VULFxuICAgICAgZGF0YTogeyBwb2NrZXRfaWQ6IHNpdGUucG9ja2V0X2lkIH0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIkFSQ0hJVkVfRlJPTV9QT0NLRVRcIixcbiAgfSksXG4gIEVkaXRUb3BTaXRlOiAoc2l0ZSwgaW5kZXgpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtZWRpdC10b3BzaXRlc1wiLFxuICAgIGljb246IFwiZWRpdFwiLFxuICAgIGFjdGlvbjoge1xuICAgICAgdHlwZTogYXQuVE9QX1NJVEVTX0VESVQsXG4gICAgICBkYXRhOiB7IGluZGV4IH0sXG4gICAgfSxcbiAgfSksXG4gIENoZWNrQm9va21hcms6IHNpdGUgPT5cbiAgICBzaXRlLmJvb2ttYXJrR3VpZFxuICAgICAgPyBMaW5rTWVudU9wdGlvbnMuUmVtb3ZlQm9va21hcmsoc2l0ZSlcbiAgICAgIDogTGlua01lbnVPcHRpb25zLkFkZEJvb2ttYXJrKHNpdGUpLFxuICBDaGVja1BpblRvcFNpdGU6IChzaXRlLCBpbmRleCkgPT5cbiAgICBzaXRlLmlzUGlubmVkXG4gICAgICA/IExpbmtNZW51T3B0aW9ucy5VbnBpblRvcFNpdGUoc2l0ZSlcbiAgICAgIDogTGlua01lbnVPcHRpb25zLlBpblRvcFNpdGUoc2l0ZSwgaW5kZXgpLFxuICBDaGVja1NhdmVkVG9Qb2NrZXQ6IChzaXRlLCBpbmRleCwgc291cmNlKSA9PlxuICAgIHNpdGUucG9ja2V0X2lkXG4gICAgICA/IExpbmtNZW51T3B0aW9ucy5EZWxldGVGcm9tUG9ja2V0KHNpdGUpXG4gICAgICA6IExpbmtNZW51T3B0aW9ucy5TYXZlVG9Qb2NrZXQoc2l0ZSwgaW5kZXgsIHNvdXJjZSksXG4gIENoZWNrQm9va21hcmtPckFyY2hpdmU6IHNpdGUgPT5cbiAgICBzaXRlLnBvY2tldF9pZFxuICAgICAgPyBMaW5rTWVudU9wdGlvbnMuQXJjaGl2ZUZyb21Qb2NrZXQoc2l0ZSlcbiAgICAgIDogTGlua01lbnVPcHRpb25zLkNoZWNrQm9va21hcmsoc2l0ZSksXG4gIENoZWNrQXJjaGl2ZUZyb21Qb2NrZXQ6IHNpdGUgPT5cbiAgICBzaXRlLnBvY2tldF9pZFxuICAgICAgPyBMaW5rTWVudU9wdGlvbnMuQXJjaGl2ZUZyb21Qb2NrZXQoc2l0ZSlcbiAgICAgIDogTGlua01lbnVPcHRpb25zLkVtcHR5SXRlbSgpLFxuICBDaGVja0RlbGV0ZUZyb21Qb2NrZXQ6IHNpdGUgPT5cbiAgICBzaXRlLnBvY2tldF9pZFxuICAgICAgPyBMaW5rTWVudU9wdGlvbnMuRGVsZXRlRnJvbVBvY2tldChzaXRlKVxuICAgICAgOiBMaW5rTWVudU9wdGlvbnMuRW1wdHlJdGVtKCksXG4gIE9wZW5JblByaXZhdGVXaW5kb3c6IChzaXRlLCBpbmRleCwgZXZlbnRTb3VyY2UsIGlzRW5hYmxlZCkgPT5cbiAgICBpc0VuYWJsZWQgPyBfT3BlbkluUHJpdmF0ZVdpbmRvdyhzaXRlKSA6IExpbmtNZW51T3B0aW9ucy5FbXB0eUl0ZW0oKSxcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBDb250ZXh0TWVudUJ1dHRvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2hvd0NvbnRleHRNZW51OiBmYWxzZSxcbiAgICAgIGNvbnRleHRNZW51S2V5Ym9hcmQ6IGZhbHNlLFxuICAgIH07XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbktleURvd24gPSB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25VcGRhdGUgPSB0aGlzLm9uVXBkYXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvcGVuQ29udGV4dE1lbnUoaXNLZXlCb2FyZCwgZXZlbnQpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vblVwZGF0ZSkge1xuICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZSh0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93Q29udGV4dE1lbnU6IHRydWUsXG4gICAgICBjb250ZXh0TWVudUtleWJvYXJkOiBpc0tleUJvYXJkLFxuICAgIH0pO1xuICB9XG5cbiAgb25DbGljayhldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5vcGVuQ29udGV4dE1lbnUoZmFsc2UsIGV2ZW50KTtcbiAgfVxuXG4gIG9uS2V5RG93bihldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIiB8fCBldmVudC5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5vcGVuQ29udGV4dE1lbnUodHJ1ZSwgZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIG9uVXBkYXRlKHNob3dDb250ZXh0TWVudSkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uVXBkYXRlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlKHNob3dDb250ZXh0TWVudSk7XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93Q29udGV4dE1lbnUgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB0b29sdGlwQXJncywgdG9vbHRpcCwgY2hpbGRyZW4sIHJlZkZ1bmN0aW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgc2hvd0NvbnRleHRNZW51LCBjb250ZXh0TWVudUtleWJvYXJkIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBkYXRhLWwxMG4taWQ9e3Rvb2x0aXB9XG4gICAgICAgICAgZGF0YS1sMTBuLWFyZ3M9e3Rvb2x0aXBBcmdzID8gSlNPTi5zdHJpbmdpZnkodG9vbHRpcEFyZ3MpIDogbnVsbH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJjb250ZXh0LW1lbnUtYnV0dG9uIGljb25cIlxuICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5vbktleURvd259XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHJlZj17cmVmRnVuY3Rpb259XG4gICAgICAgIC8+XG4gICAgICAgIHtzaG93Q29udGV4dE1lbnVcbiAgICAgICAgICA/IFJlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwge1xuICAgICAgICAgICAgICBrZXlib2FyZEFjY2VzczogY29udGV4dE1lbnVLZXlib2FyZCxcbiAgICAgICAgICAgICAgb25VcGRhdGU6IHRoaXMub25VcGRhdGUsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogbnVsbH1cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5jb25zdCBWSVNJQkxFID0gXCJ2aXNpYmxlXCI7XG5jb25zdCBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuXG4vLyBQZXIgYW5hbHl0aWNhbCByZXF1aXJlbWVudCwgd2Ugc2V0IHRoZSBtaW5pbWFsIGludGVyc2VjdGlvbiByYXRpbyB0b1xuLy8gMC41LCBhbmQgYW4gaW1wcmVzc2lvbiBpcyBpZGVudGlmaWVkIHdoZW4gdGhlIHdyYXBwZWQgaXRlbSBoYXMgYXQgbGVhc3Rcbi8vIDUwJSB2aXNpYmlsaXR5LlxuLy9cbi8vIFRoaXMgY29uc3RhbnQgaXMgZXhwb3J0ZWQgZm9yIHVuaXQgdGVzdFxuZXhwb3J0IGNvbnN0IElOVEVSU0VDVElPTl9SQVRJTyA9IDAuNTtcblxuLyoqXG4gKiBJbXByZXNzaW9uIHdyYXBwZXIgZm9yIERpc2NvdmVyeSBTdHJlYW0gcmVsYXRlZCBSZWFjdCBjb21wb25lbnRzLlxuICpcbiAqIEl0IG1ha3NlcyB1c2Ugb2YgdGhlIEludGVyc2VjdGlvbiBPYnNlcnZlciBBUEkgdG8gZGV0ZWN0IHRoZSB2aXNpYmlsaXR5LFxuICogYW5kIHJlbGllcyBvbiBwYWdlIHZpc2liaWxpdHkgdG8gZW5zdXJlIHRoZSBpbXByZXNzaW9uIGlzIHJlcG9ydGVkXG4gKiBvbmx5IHdoZW4gdGhlIGNvbXBvbmVudCBpcyB2aXNpYmxlIG9uIHRoZSBwYWdlLlxuICpcbiAqIE5vdGU6XG4gKiAgICogVGhpcyB3cmFwcGVyIHVzZWQgdG8gYmUgdXNlZCBlaXRoZXIgYXQgdGhlIGluZGl2aWR1YWwgY2FyZCBsZXZlbCxcbiAqICAgICBvciBieSB0aGUgY2FyZCBjb250YWluZXIgY29tcG9uZW50cy5cbiAqICAgICBJdCBpcyBub3cgb25seSB1c2VkIGZvciBpbmRpdmlkdWFsIGNhcmQgbGV2ZWwuXG4gKiAgICogRWFjaCBpbXByZXNzaW9uIHdpbGwgYmUgc2VudCBvbmx5IG9uY2UgYXMgc29vbiBhcyB0aGUgZGVzaXJlZFxuICogICAgIHZpc2liaWxpdHkgaXMgZGV0ZWN0ZWRcbiAqICAgKiBCYXRjaGluZyBpcyBub3QgeWV0IGltcGxlbWVudGVkLCBoZW5jZSBpdCBtaWdodCBzZW5kIG11bHRpcGxlXG4gKiAgICAgaW1wcmVzc2lvbiBwaW5ncyBzZXBhcmF0ZWx5XG4gKi9cbmV4cG9ydCBjbGFzcyBJbXByZXNzaW9uU3RhdHMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgLy8gVGhpcyBjaGVja3MgaWYgdGhlIGdpdmVuIGNhcmRzIGFyZSB0aGUgc2FtZSBhcyB0aG9zZSBpbiB0aGUgbGFzdCBpbXByZXNzaW9uIHBpbmcuXG4gIC8vIElmIHNvLCBpdCBzaG91bGQgbm90IHNlbmQgdGhlIHNhbWUgaW1wcmVzc2lvbiBwaW5nIGFnYWluLlxuICBfbmVlZHNJbXByZXNzaW9uU3RhdHMoY2FyZHMpIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzIHx8XG4gICAgICB0aGlzLmltcHJlc3Npb25DYXJkR3VpZHMubGVuZ3RoICE9PSBjYXJkcy5sZW5ndGhcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FyZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjYXJkc1tpXS5pZCAhPT0gdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzW2ldKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIF9kaXNwYXRjaEltcHJlc3Npb25TdGF0cygpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IGNhcmRzID0gcHJvcHMucm93cztcblxuICAgIGlmICh0aGlzLnByb3BzLmZsaWdodElkKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5ESVNDT1ZFUllfU1RSRUFNX1NQT0NfSU1QUkVTU0lPTixcbiAgICAgICAgICBkYXRhOiB7IGZsaWdodElkOiB0aGlzLnByb3BzLmZsaWdodElkIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9uZWVkc0ltcHJlc3Npb25TdGF0cyhjYXJkcykpIHtcbiAgICAgIHByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgIHNvdXJjZTogcHJvcHMuc291cmNlLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgdGlsZXM6IGNhcmRzLm1hcChsaW5rID0+ICh7XG4gICAgICAgICAgICBpZDogbGluay5pZCxcbiAgICAgICAgICAgIHBvczogbGluay5wb3MsXG4gICAgICAgICAgICAuLi4obGluay5zaGltID8geyBzaGltOiBsaW5rLnNoaW0gfSA6IHt9KSxcbiAgICAgICAgICB9KSksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzID0gY2FyZHMubWFwKGxpbmsgPT4gbGluay5pZCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVGhpcyBjaGVja3MgaWYgdGhlIGdpdmVuIGNhcmRzIGFyZSB0aGUgc2FtZSBhcyB0aG9zZSBpbiB0aGUgbGFzdCBsb2FkZWQgY29udGVudCBwaW5nLlxuICAvLyBJZiBzbywgaXQgc2hvdWxkIG5vdCBzZW5kIHRoZSBzYW1lIGxvYWRlZCBjb250ZW50IHBpbmcgYWdhaW4uXG4gIF9uZWVkc0xvYWRlZENvbnRlbnQoY2FyZHMpIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5sb2FkZWRDb250ZW50R3VpZHMgfHxcbiAgICAgIHRoaXMubG9hZGVkQ29udGVudEd1aWRzLmxlbmd0aCAhPT0gY2FyZHMubGVuZ3RoXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY2FyZHNbaV0uaWQgIT09IHRoaXMubG9hZGVkQ29udGVudEd1aWRzW2ldKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIF9kaXNwYXRjaExvYWRlZENvbnRlbnQoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCBjYXJkcyA9IHByb3BzLnJvd3M7XG5cbiAgICBpZiAodGhpcy5fbmVlZHNMb2FkZWRDb250ZW50KGNhcmRzKSkge1xuICAgICAgcHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbUxvYWRlZENvbnRlbnQoe1xuICAgICAgICAgIHNvdXJjZTogcHJvcHMuc291cmNlLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgdGlsZXM6IGNhcmRzLm1hcChsaW5rID0+ICh7IGlkOiBsaW5rLmlkLCBwb3M6IGxpbmsucG9zIH0pKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICB0aGlzLmxvYWRlZENvbnRlbnRHdWlkcyA9IGNhcmRzLm1hcChsaW5rID0+IGxpbmsuaWQpO1xuICAgIH1cbiAgfVxuXG4gIHNldEltcHJlc3Npb25PYnNlcnZlck9yQWRkTGlzdGVuZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIGlmICghcHJvcHMuZGlzcGF0Y2gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICAvLyBTZW5kIHRoZSBsb2FkZWQgY29udGVudCBwaW5nIG9uY2UgdGhlIHBhZ2UgaXMgdmlzaWJsZS5cbiAgICAgIHRoaXMuX2Rpc3BhdGNoTG9hZGVkQ29udGVudCgpO1xuICAgICAgdGhpcy5zZXRJbXByZXNzaW9uT2JzZXJ2ZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2Ugc2hvdWxkIG9ubHkgZXZlciBzZW5kIHRoZSBsYXRlc3QgaW1wcmVzc2lvbiBzdGF0cyBwaW5nLCBzbyByZW1vdmUgYW55XG4gICAgICAvLyBvbGRlciBsaXN0ZW5lcnMuXG4gICAgICBpZiAodGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICAgIHByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHByb3BzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgICAgIC8vIFNlbmQgdGhlIGxvYWRlZCBjb250ZW50IHBpbmcgb25jZSB0aGUgcGFnZSBpcyB2aXNpYmxlLlxuICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoTG9hZGVkQ29udGVudCgpO1xuICAgICAgICAgIHRoaXMuc2V0SW1wcmVzc2lvbk9ic2VydmVyKCk7XG4gICAgICAgICAgcHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHByb3BzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhbiBpbXByZXNzaW9uIG9ic2VydmVyIGZvciB0aGUgd3JhcHBlZCBjb21wb25lbnQuIEl0IG1ha2VzIHVzZSBvZlxuICAgKiB0aGUgSW50ZXJzZWN0aW9uIE9ic2VydmVyIEFQSSB0byBkZXRlY3QgaWYgdGhlIHdyYXBwZWQgY29tcG9uZW50IGlzXG4gICAqIHZpc2libGUgd2l0aCBhIGRlc2lyZWQgcmF0aW8sIGFuZCBvbmx5IHNlbmRzIGltcHJlc3Npb24gaWYgdGhhdCdzIHRoZSBjYXNlLlxuICAgKlxuICAgKiBTZWUgbW9yZSBkZXRhaWxzIGFib3V0IEludGVyc2VjdGlvbiBPYnNlcnZlciBBUEkgYXQ6XG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9JbnRlcnNlY3Rpb25fT2JzZXJ2ZXJfQVBJXG4gICAqL1xuICBzZXRJbXByZXNzaW9uT2JzZXJ2ZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIGlmICghcHJvcHMucm93cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9oYW5kbGVJbnRlcnNlY3QgPSBlbnRyaWVzID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZW50cmllcy5zb21lKFxuICAgICAgICAgIGVudHJ5ID0+XG4gICAgICAgICAgICBlbnRyeS5pc0ludGVyc2VjdGluZyAmJlxuICAgICAgICAgICAgZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPj0gSU5URVJTRUNUSU9OX1JBVElPXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICB0aGlzLl9kaXNwYXRjaEltcHJlc3Npb25TdGF0cygpO1xuICAgICAgICB0aGlzLmltcHJlc3Npb25PYnNlcnZlci51bm9ic2VydmUodGhpcy5yZWZzLmltcHJlc3Npb24pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0geyB0aHJlc2hvbGQ6IElOVEVSU0VDVElPTl9SQVRJTyB9O1xuICAgIHRoaXMuaW1wcmVzc2lvbk9ic2VydmVyID0gbmV3IHByb3BzLkludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgdGhpcy5faGFuZGxlSW50ZXJzZWN0LFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gICAgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnJlZnMuaW1wcmVzc2lvbik7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3dzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZXRJbXByZXNzaW9uT2JzZXJ2ZXJPckFkZExpc3RlbmVyKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX2hhbmRsZUludGVyc2VjdCAmJiB0aGlzLmltcHJlc3Npb25PYnNlcnZlcikge1xuICAgICAgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMucmVmcy5pbXByZXNzaW9uKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiByZWY9e1wiaW1wcmVzc2lvblwifSBjbGFzc05hbWU9XCJpbXByZXNzaW9uLW9ic2VydmVyXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5JbXByZXNzaW9uU3RhdHMuZGVmYXVsdFByb3BzID0ge1xuICBJbnRlcnNlY3Rpb25PYnNlcnZlcjogZ2xvYmFsLkludGVyc2VjdGlvbk9ic2VydmVyLFxuICBkb2N1bWVudDogZ2xvYmFsLmRvY3VtZW50LFxuICByb3dzOiBbXSxcbiAgc291cmNlOiBcIlwiLFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIFNhZmVBbmNob3IgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgLy8gVXNlIGRpc3BhdGNoIGluc3RlYWQgb2Ygbm9ybWFsIGxpbmsgY2xpY2sgYmVoYXZpb3IgdG8gaW5jbHVkZSByZWZlcnJlclxuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgeyBhbHRLZXksIGJ1dHRvbiwgY3RybEtleSwgbWV0YUtleSwgc2hpZnRLZXkgfSA9IGV2ZW50O1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGV2ZW50OiB7IGFsdEtleSwgYnV0dG9uLCBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSB9LFxuICAgICAgICAgICAgcmVmZXJyZXI6IFwiaHR0cHM6Ly9nZXRwb2NrZXQuY29tL3JlY29tbWVuZGF0aW9uc1wiLFxuICAgICAgICAgICAgLy8gVXNlIHRoZSBhbmNob3IncyB1cmwsIHdoaWNoIGNvdWxkIGhhdmUgYmVlbiBjbGVhbmVkIHVwXG4gICAgICAgICAgICB1cmw6IGV2ZW50LmN1cnJlbnRUYXJnZXQuaHJlZixcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBQcm9wYWdhdGUgZXZlbnQgaWYgdGhlcmUncyBhIGhhbmRsZXJcbiAgICBpZiAodGhpcy5wcm9wcy5vbkxpbmtDbGljaykge1xuICAgICAgdGhpcy5wcm9wcy5vbkxpbmtDbGljayhldmVudCk7XG4gICAgfVxuICB9XG5cbiAgc2FmZVVSSSh1cmwpIHtcbiAgICBsZXQgcHJvdG9jb2wgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBwcm90b2NvbCA9IG5ldyBVUkwodXJsKS5wcm90b2NvbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG5cbiAgICBjb25zdCBpc0FsbG93ZWQgPSBbXCJodHRwOlwiLCBcImh0dHBzOlwiXS5pbmNsdWRlcyhwcm90b2NvbCk7XG4gICAgaWYgKCFpc0FsbG93ZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihgJHt1cmx9IGlzIG5vdCBhbGxvd2VkIGZvciBhbmNob3IgdGFyZ2V0cy5gKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHVybCwgY2xhc3NOYW1lIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8YSBocmVmPXt0aGlzLnNhZmVVUkkodXJsKX0gY2xhc3NOYW1lPXtjbGFzc05hbWV9IG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9hPlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmV4cG9ydCBjb25zdCBjYXJkQ29udGV4dFR5cGVzID0ge1xuICBoaXN0b3J5OiB7XG4gICAgZmx1ZW50SUQ6IFwibmV3dGFiLWxhYmVsLXZpc2l0ZWRcIixcbiAgICBpY29uOiBcImhpc3RvcnktaXRlbVwiLFxuICB9LFxuICByZW1vdmVkQm9va21hcms6IHtcbiAgICBmbHVlbnRJRDogXCJuZXd0YWItbGFiZWwtcmVtb3ZlZC1ib29rbWFya1wiLFxuICAgIGljb246IFwiYm9va21hcmstcmVtb3ZlZFwiLFxuICB9LFxuICBib29rbWFyazoge1xuICAgIGZsdWVudElEOiBcIm5ld3RhYi1sYWJlbC1ib29rbWFya2VkXCIsXG4gICAgaWNvbjogXCJib29rbWFyay1hZGRlZFwiLFxuICB9LFxuICB0cmVuZGluZzoge1xuICAgIGZsdWVudElEOiBcIm5ld3RhYi1sYWJlbC1yZWNvbW1lbmRlZFwiLFxuICAgIGljb246IFwidHJlbmRpbmdcIixcbiAgfSxcbiAgcG9ja2V0OiB7XG4gICAgZmx1ZW50SUQ6IFwibmV3dGFiLWxhYmVsLXNhdmVkXCIsXG4gICAgaWNvbjogXCJwb2NrZXRcIixcbiAgfSxcbiAgZG93bmxvYWQ6IHtcbiAgICBmbHVlbnRJRDogXCJuZXd0YWItbGFiZWwtZG93bmxvYWRcIixcbiAgICBpY29uOiBcImRvd25sb2FkXCIsXG4gIH0sXG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdFRyYW5zaXRpb25Hcm91cDsiLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbi8qKlxuICogU2V0IHRleHQgb24gYSBjaGlsZCBlbGVtZW50L2NvbXBvbmVudCBkZXBlbmRpbmcgb24gaWYgdGhlIG1lc3NhZ2UgaXMgYWxyZWFkeVxuICogdHJhbnNsYXRlZCBwbGFpbiB0ZXh0IG9yIGEgZmx1ZW50IGlkIHdpdGggb3B0aW9uYWwgYXJncy5cbiAqL1xuZXhwb3J0IGNsYXNzIEZsdWVudE9yVGV4dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLy8gRW5zdXJlIHdlIGhhdmUgYSBzaW5nbGUgY2hpbGQgdG8gYXR0YWNoIGF0dHJpYnV0ZXNcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBtZXNzYWdlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW4gPyBSZWFjdC5DaGlsZHJlbi5vbmx5KGNoaWxkcmVuKSA6IDxzcGFuIC8+O1xuXG4gICAgLy8gRm9yIGEgc3RyaW5nIG1lc3NhZ2UsIGp1c3QgdXNlIGl0IGFzIHRoZSBjaGlsZCdzIHRleHRcbiAgICBsZXQgZ3JhbmRDaGlsZHJlbiA9IG1lc3NhZ2U7XG4gICAgbGV0IGV4dHJhUHJvcHM7XG5cbiAgICAvLyBDb252ZXJ0IGEgbWVzc2FnZSBvYmplY3QgdG8gc2V0IGRlc2lyZWQgZmx1ZW50LWRvbSBhdHRyaWJ1dGVzXG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBjb25zdCBhcmdzID0gbWVzc2FnZS5hcmdzIHx8IG1lc3NhZ2UudmFsdWVzO1xuICAgICAgZXh0cmFQcm9wcyA9IHtcbiAgICAgICAgXCJkYXRhLWwxMG4tYXJnc1wiOiBhcmdzICYmIEpTT04uc3RyaW5naWZ5KGFyZ3MpLFxuICAgICAgICBcImRhdGEtbDEwbi1pZFwiOiBtZXNzYWdlLmlkIHx8IG1lc3NhZ2Uuc3RyaW5nX2lkLFxuICAgICAgfTtcblxuICAgICAgLy8gVXNlIG9yaWdpbmFsIGNoaWxkcmVuIHBvdGVudGlhbGx5IHdpdGggZGF0YS1sMTBuLW5hbWUgYXR0cmlidXRlc1xuICAgICAgZ3JhbmRDaGlsZHJlbiA9IGNoaWxkLnByb3BzLmNoaWxkcmVuO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgbWVzc2FnZSB0byB0aGUgY2hpbGQgdmlhIGZsdWVudCBhdHRyaWJ1dGVzIG9yIHRleHQgbm9kZVxuICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIGV4dHJhUHJvcHMsIGdyYW5kQ2hpbGRyZW4pO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IENhcmRHcmlkIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9DYXJkR3JpZC9DYXJkR3JpZFwiO1xuaW1wb3J0IHsgRFNEaXNtaXNzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0Rpc21pc3MvRFNEaXNtaXNzXCI7XG5pbXBvcnQgeyBMaW5rTWVudU9wdGlvbnMgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL2xpbmstbWVudS1vcHRpb25zXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBDb2xsZWN0aW9uQ2FyZEdyaWQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkRpc21pc3NDbGljayA9IHRoaXMub25EaXNtaXNzQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZGlzbWlzc2VkOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgb25EaXNtaXNzQ2xpY2soKSB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoICYmIGRhdGEgJiYgZGF0YS5zcG9jcyAmJiBkYXRhLnNwb2NzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRpc21pc3NlZDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgcG9zID0gMDtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMucHJvcHMudHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgLy8gR3JhYiB0aGUgYXZhaWxhYmxlIGl0ZW1zIGluIHRoZSBhcnJheSB0byBkaXNtaXNzLlxuICAgICAgLy8gVGhpcyBmaXJlcyBhIHBpbmcgZm9yIGFsbCBpdGVtcyBhdmFpbGFibGUsIGV2ZW4gaWYgYmVsb3cgdGhlIGZvbGQuXG4gICAgICBjb25zdCBzcG9jc0RhdGEgPSBkYXRhLnNwb2NzLm1hcChpdGVtID0+ICh7XG4gICAgICAgIHVybDogaXRlbS51cmwsXG4gICAgICAgIGd1aWQ6IGl0ZW0uaWQsXG4gICAgICAgIHNoaW06IGl0ZW0uc2hpbSxcbiAgICAgICAgZmxpZ2h0X2lkOiBpdGVtLmZsaWdodElkLFxuICAgICAgfSkpO1xuXG4gICAgICBjb25zdCBibG9ja1VybE9wdGlvbiA9IExpbmtNZW51T3B0aW9ucy5CbG9ja1VybHMoc3BvY3NEYXRhLCBwb3MsIHNvdXJjZSk7XG4gICAgICBjb25zdCB7IGFjdGlvbiwgaW1wcmVzc2lvbiwgdXNlckV2ZW50IH0gPSBibG9ja1VybE9wdGlvbjtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWN0aW9uKTtcblxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgICBldmVudDogdXNlckV2ZW50LFxuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHBvcyxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICBpZiAoaW1wcmVzc2lvbikge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGltcHJlc3Npb24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGRhdGEsIGRpc21pc3NpYmxlIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUuZGlzbWlzc2VkIHx8XG4gICAgICAhZGF0YSB8fFxuICAgICAgIWRhdGEuc3BvY3MgfHxcbiAgICAgICFkYXRhLnNwb2NzWzBdIHx8XG4gICAgICAvLyBXZSBvbmx5IGRpc3BsYXkgY29tcGxldGUgY29sbGVjdGlvbnMuXG4gICAgICBkYXRhLnNwb2NzLmxlbmd0aCA8IDNcbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IHNwb2NzLCBwbGFjZW1lbnQsIGZlZWQgfSA9IHRoaXMucHJvcHM7XG4gICAgLy8gc3BvY3MuZGF0YSBpcyBzcG9jcyBzdGF0ZSBkYXRhLCBhbmQgbm90IGFuIGFycmF5IG9mIHNwb2NzLlxuICAgIGNvbnN0IHsgdGl0bGUsIGNvbnRleHQsIHNwb25zb3JlZF9ieV9vdmVycmlkZSwgc3BvbnNvciB9ID1cbiAgICAgIHNwb2NzLmRhdGFbcGxhY2VtZW50Lm5hbWVdIHx8IHt9O1xuICAgIC8vIEp1c3QgaW4gY2FzZSBvZiBiYWQgZGF0YSwgZG9uJ3QgZGlzcGxheSBhIGJyb2tlbiBjb2xsZWN0aW9uLlxuICAgIGlmICghdGl0bGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGxldCBzcG9uc29yZWRCeU1lc3NhZ2UgPSBcIlwiO1xuXG4gICAgLy8gSWYgb3ZlcnJpZGUgaXMgbm90IGZhbHNlIG9yIGFuIGVtcHR5IHN0cmluZy5cbiAgICBpZiAoc3BvbnNvcmVkX2J5X292ZXJyaWRlIHx8IHNwb25zb3JlZF9ieV9vdmVycmlkZSA9PT0gXCJcIikge1xuICAgICAgLy8gV2Ugc3BlY2lmaWNhbGx5IHdhbnQgdG8gZGlzcGxheSBub3RoaW5nIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICAvLyBTbyB0aGUgc2VydmVyIGNhbiB0dXJuIG9mZiB0aGUgbGFiZWwuXG4gICAgICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgdGhlIHVzZSBjYXNlcyB3aGVyZSB0aGUgc3BvbnNvcmVkIGNvbnRleHQgaXMgZGlzcGxheWVkIGVsc2V3aGVyZS5cbiAgICAgIHNwb25zb3JlZEJ5TWVzc2FnZSA9IHNwb25zb3JlZF9ieV9vdmVycmlkZTtcbiAgICB9IGVsc2UgaWYgKHNwb25zb3IpIHtcbiAgICAgIHNwb25zb3JlZEJ5TWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IGBuZXd0YWItbGFiZWwtc3BvbnNvcmVkLWJ5YCxcbiAgICAgICAgdmFsdWVzOiB7IHNwb25zb3IgfSxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChjb250ZXh0KSB7XG4gICAgICBzcG9uc29yZWRCeU1lc3NhZ2UgPSBjb250ZXh0O1xuICAgIH1cblxuICAgIC8vIEdlbmVyYWxseSBhIGNhcmQgZ3JpZCBkaXNwbGF5cyByZWNzIHdpdGggc3BvY3MgYWxyZWFkeSBpbmplY3RlZC5cbiAgICAvLyBOb3JtYWxseSBpdCBkb2Vzbid0IGNhcmUgd2hpY2ggcmVjIGlzIGEgc3BvYyBhbmQgd2hpY2ggaXNuJ3QsXG4gICAgLy8gaXQganVzdCBkaXNwbGF5cyBjb250ZW50IGluIGEgZ3JpZC5cbiAgICAvLyBGb3IgY29sbGVjdGlvbnMsIHdlJ3JlIG9ubHkgZGlzcGxheWluZyBhIGxpc3Qgb2Ygc3BvY3MuXG4gICAgLy8gV2UgZG9uJ3QgbmVlZCB0byB0ZWxsIHRoZSBjYXJkIGdyaWQgdGhhdCBvdXIgbGlzdCBvZiBjYXJkcyBhcmUgc3BvY3MsXG4gICAgLy8gaXQgc2hvdWxkbid0IG5lZWQgdG8gY2FyZS4gU28gd2UganVzdCBwYXNzIG91ciBzcG9jcyBhbG9uZyBhcyByZWNzLlxuICAgIC8vIFRoaW5rIG9mIGl0IGFzIGluamVjdGluZyBhbGwgcmVjIHBvc2l0aW9ucyB3aXRoIHNwb2NzLlxuICAgIC8vIENvbnNpZGVyIG1heWJlIG1ha2luZyByZWNvbW1lbmRhdGlvbnMgaW4gQ2FyZEdyaWQgdXNlIGEgbW9yZSBnZW5lcmljIG5hbWUuXG4gICAgY29uc3QgcmVjc0RhdGEgPSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnM6IGRhdGEuc3BvY3MsXG4gICAgfTtcblxuICAgIC8vIEFsbCBjYXJkcyBpbnNpZGUgb2YgYSBjb2xsZWN0aW9uIGNhcmQgZ3JpZCBoYXZlIGEgc2xpZ2h0bHkgZGlmZmVyZW50IHR5cGUuXG4gICAgLy8gRm9yIHRoZSBjYXNlIG9mIGludGVyYWN0aW9ucyB0byB0aGUgY2FyZCBncmlkLCB3ZSB1c2UgdGhlIHR5cGUgXCJDT0xMRUNUSU9OQ0FSREdSSURcIi5cbiAgICAvLyBFeGFtcGxlLCB5b3UgZGlzbWlzcyB0aGUgd2hvbGUgY29sbGVjdGlvbiwgd2UgdXNlIHRoZSB0eXBlIFwiQ09MTEVDVElPTkNBUkRHUklEXCIuXG4gICAgLy8gRm9yIGludGVyYWN0aW9ucyBpbnNpZGUgdGhlIGNhcmQgZ3JpZCwgZXhhbXBsZSwgeW91IGRpc21pc3MgYSBzaW5nbGUgY2FyZCBpbiB0aGUgY29sbGVjdGlvbixcbiAgICAvLyB3ZSB1c2UgdGhlIHR5cGUgXCJDT0xMRUNUSU9OQ0FSREdSSURfQ0FSRFwiLlxuICAgIGNvbnN0IHR5cGUgPSBgJHt0aGlzLnByb3BzLnR5cGV9X2NhcmRgO1xuXG4gICAgY29uc3QgY29sbGVjdGlvbkdyaWQgPSAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWNvbGxlY3Rpb24tY2FyZC1ncmlkXCI+XG4gICAgICAgIDxDYXJkR3JpZFxuICAgICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgICAgICBjb250ZXh0PXtzcG9uc29yZWRCeU1lc3NhZ2V9XG4gICAgICAgICAgZGF0YT17cmVjc0RhdGF9XG4gICAgICAgICAgZmVlZD17ZmVlZH1cbiAgICAgICAgICBib3JkZXI9e3RoaXMucHJvcHMuYm9yZGVyfVxuICAgICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgICAgaXNfY29sbGVjdGlvbj17dHJ1ZX1cbiAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICBpdGVtcz17dGhpcy5wcm9wcy5pdGVtc31cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG5cbiAgICBpZiAoZGlzbWlzc2libGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxEU0Rpc21pc3NcbiAgICAgICAgICBvbkRpc21pc3NDbGljaz17dGhpcy5vbkRpc21pc3NDbGlja31cbiAgICAgICAgICBleHRyYUNsYXNzZXM9e2Bkcy1kaXNtaXNzLWRzLWNvbGxlY3Rpb25gfVxuICAgICAgICA+XG4gICAgICAgICAge2NvbGxlY3Rpb25HcmlkfVxuICAgICAgICA8L0RTRGlzbWlzcz5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBjb2xsZWN0aW9uR3JpZDtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgRFNEaXNtaXNzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25EaXNtaXNzQ2xpY2sgPSB0aGlzLm9uRGlzbWlzc0NsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkhvdmVyID0gdGhpcy5vbkhvdmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vZmZIb3ZlciA9IHRoaXMub2ZmSG92ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaG92ZXJpbmc6IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBvbkRpc21pc3NDbGljaygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkRpc21pc3NDbGljaykge1xuICAgICAgdGhpcy5wcm9wcy5vbkRpc21pc3NDbGljaygpO1xuICAgIH1cbiAgfVxuXG4gIG9uSG92ZXIoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBob3ZlcmluZzogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIG9mZkhvdmVyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaG92ZXJpbmc6IGZhbHNlLFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSBgZHMtZGlzbWlzc1xuICAgICAgJHt0aGlzLnN0YXRlLmhvdmVyaW5nID8gYCBob3ZlcmluZ2AgOiBgYH1cbiAgICAgICR7dGhpcy5wcm9wcy5leHRyYUNsYXNzZXMgPyBgICR7dGhpcy5wcm9wcy5leHRyYUNsYXNzZXN9YCA6IGBgfWA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZHMtZGlzbWlzcy1idXR0b25cIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kaXNtaXNzLWJ1dHRvbi10b29sdGlwXCJcbiAgICAgICAgICBvbkhvdmVyPXt0aGlzLm9uSG92ZXJ9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkRpc21pc3NDbGlja31cbiAgICAgICAgICBvbk1vdXNlRW50ZXI9e3RoaXMub25Ib3Zlcn1cbiAgICAgICAgICBvbk1vdXNlTGVhdmU9e3RoaXMub2ZmSG92ZXJ9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tZGlzbWlzc1wiIC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgRXJyb3JCb3VuZGFyeSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Vycm9yQm91bmRhcnkvRXJyb3JCb3VuZGFyeVwiO1xuaW1wb3J0IHsgRmx1ZW50T3JUZXh0IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuXG4vKipcbiAqIEEgc2VjdGlvbiB0aGF0IGNhbiBjb2xsYXBzZS4gQXMgb2YgYnVnIDE3MTA5MzcsIGl0IGNhbiBubyBsb25nZXIgY29sbGFwc2UuXG4gKiBTZWUgYnVnIDE3MjczNjUgZm9yIGZvbGxvdy11cCB3b3JrIHRvIHNpbXBsaWZ5IHRoaXMgY29tcG9uZW50LlxuICovXG5leHBvcnQgY2xhc3MgX0NvbGxhcHNpYmxlU2VjdGlvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQm9keU1vdW50ID0gdGhpcy5vbkJvZHlNb3VudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZW51QnV0dG9uTW91c2VFbnRlciA9IHRoaXMub25NZW51QnV0dG9uTW91c2VFbnRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZW51QnV0dG9uTW91c2VMZWF2ZSA9IHRoaXMub25NZW51QnV0dG9uTW91c2VMZWF2ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZW51VXBkYXRlID0gdGhpcy5vbk1lbnVVcGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbWVudUJ1dHRvbkhvdmVyOiBmYWxzZSxcbiAgICAgIHNob3dDb250ZXh0TWVudTogZmFsc2UsXG4gICAgfTtcbiAgICB0aGlzLnNldENvbnRleHRNZW51QnV0dG9uUmVmID0gdGhpcy5zZXRDb250ZXh0TWVudUJ1dHRvblJlZi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgc2V0Q29udGV4dE1lbnVCdXR0b25SZWYoZWxlbWVudCkge1xuICAgIHRoaXMuY29udGV4dE1lbnVCdXR0b25SZWYgPSBlbGVtZW50O1xuICB9XG5cbiAgb25Cb2R5TW91bnQobm9kZSkge1xuICAgIHRoaXMuc2VjdGlvbkJvZHkgPSBub2RlO1xuICB9XG5cbiAgb25NZW51QnV0dG9uTW91c2VFbnRlcigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgbWVudUJ1dHRvbkhvdmVyOiB0cnVlIH0pO1xuICB9XG5cbiAgb25NZW51QnV0dG9uTW91c2VMZWF2ZSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgbWVudUJ1dHRvbkhvdmVyOiBmYWxzZSB9KTtcbiAgfVxuXG4gIG9uTWVudVVwZGF0ZShzaG93Q29udGV4dE1lbnUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvd0NvbnRleHRNZW51IH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGlzQW5pbWF0aW5nLFxuICAgICAgbWF4SGVpZ2h0LFxuICAgICAgbWVudUJ1dHRvbkhvdmVyLFxuICAgICAgc2hvd0NvbnRleHRNZW51LFxuICAgIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHsgaWQsIGNvbGxhcHNlZCwgbGVhcm5Nb3JlLCB0aXRsZSwgc3ViVGl0bGUgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgYWN0aXZlID0gbWVudUJ1dHRvbkhvdmVyIHx8IHNob3dDb250ZXh0TWVudTtcbiAgICBsZXQgYm9keVN0eWxlO1xuICAgIGlmIChpc0FuaW1hdGluZyAmJiAhY29sbGFwc2VkKSB7XG4gICAgICBib2R5U3R5bGUgPSB7IG1heEhlaWdodCB9O1xuICAgIH0gZWxzZSBpZiAoIWlzQW5pbWF0aW5nICYmIGNvbGxhcHNlZCkge1xuICAgICAgYm9keVN0eWxlID0geyBkaXNwbGF5OiBcIm5vbmVcIiB9O1xuICAgIH1cbiAgICBsZXQgdGl0bGVTdHlsZTtcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRlVGl0bGUpIHtcbiAgICAgIHRpdGxlU3R5bGUgPSB7IHZpc2liaWxpdHk6IFwiaGlkZGVuXCIgfTtcbiAgICB9XG4gICAgY29uc3QgaGFzU3VidGl0bGVDbGFzc05hbWUgPSBzdWJUaXRsZSA/IGBoYXMtc3VidGl0bGVgIDogYGA7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzZWN0aW9uXG4gICAgICAgIGNsYXNzTmFtZT17YGNvbGxhcHNpYmxlLXNlY3Rpb24gJHt0aGlzLnByb3BzLmNsYXNzTmFtZX0ke1xuICAgICAgICAgIGFjdGl2ZSA/IFwiIGFjdGl2ZVwiIDogXCJcIlxuICAgICAgICB9YH1cbiAgICAgICAgLy8gTm90ZTogZGF0YS1zZWN0aW9uLWlkIGlzIHVzZWQgZm9yIHdlYiBleHRlbnNpb24gYXBpIHRlc3RzIGluIG1vemlsbGEgY2VudHJhbFxuICAgICAgICBkYXRhLXNlY3Rpb24taWQ9e2lkfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tdG9wLWJhclwiPlxuICAgICAgICAgIDxoM1xuICAgICAgICAgICAgY2xhc3NOYW1lPXtgc2VjdGlvbi10aXRsZS1jb250YWluZXIgJHtoYXNTdWJ0aXRsZUNsYXNzTmFtZX1gfVxuICAgICAgICAgICAgc3R5bGU9e3RpdGxlU3R5bGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZVwiPlxuICAgICAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e3RpdGxlfSAvPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibGVhcm4tbW9yZS1saW5rLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAge2xlYXJuTW9yZSAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibGVhcm4tbW9yZS1saW5rXCI+XG4gICAgICAgICAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e2xlYXJuTW9yZS5saW5rLm1lc3NhZ2V9PlxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXtsZWFybk1vcmUubGluay5ocmVmfSAvPlxuICAgICAgICAgICAgICAgICAgPC9GbHVlbnRPclRleHQ+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAge3N1YlRpdGxlICYmIChcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic2VjdGlvbi1zdWItdGl0bGVcIj5cbiAgICAgICAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e3N1YlRpdGxlfSAvPlxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8RXJyb3JCb3VuZGFyeSBjbGFzc05hbWU9XCJzZWN0aW9uLWJvZHktZmFsbGJhY2tcIj5cbiAgICAgICAgICA8ZGl2IHJlZj17dGhpcy5vbkJvZHlNb3VudH0gc3R5bGU9e2JvZHlTdHlsZX0+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICAgPC9zZWN0aW9uPlxuICAgICk7XG4gIH1cbn1cblxuX0NvbGxhcHNpYmxlU2VjdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGRvY3VtZW50OiBnbG9iYWwuZG9jdW1lbnQgfHwge1xuICAgIGFkZEV2ZW50TGlzdGVuZXI6ICgpID0+IHt9LFxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6ICgpID0+IHt9LFxuICAgIHZpc2liaWxpdHlTdGF0ZTogXCJoaWRkZW5cIixcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBDb2xsYXBzaWJsZVNlY3Rpb24gPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbn0pKShfQ29sbGFwc2libGVTZWN0aW9uKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IEExMXlMaW5rQnV0dG9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQTExeUxpbmtCdXR0b24vQTExeUxpbmtCdXR0b25cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIEVycm9yQm91bmRhcnlGYWxsYmFjayBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLndpbmRvd09iaiA9IHRoaXMucHJvcHMud2luZG93T2JqIHx8IHdpbmRvdztcbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaW5jZSB3ZSBvbmx5IGdldCBoZXJlIGlmIHBhcnQgb2YgdGhlIHBhZ2UgaGFzIGNyYXNoZWQsIGRvIGFcbiAgICogZm9yY2VkIHJlbG9hZCB0byBnaXZlIHVzIHRoZSBiZXN0IGNoYW5jZSBhdCByZWNvdmVyaW5nLlxuICAgKi9cbiAgb25DbGljaygpIHtcbiAgICB0aGlzLndpbmRvd09iai5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgZGVmYXVsdENsYXNzID0gXCJhcy1lcnJvci1mYWxsYmFja1wiO1xuICAgIGxldCBjbGFzc05hbWU7XG4gICAgaWYgKFwiY2xhc3NOYW1lXCIgaW4gdGhpcy5wcm9wcykge1xuICAgICAgY2xhc3NOYW1lID0gYCR7dGhpcy5wcm9wcy5jbGFzc05hbWV9ICR7ZGVmYXVsdENsYXNzfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzTmFtZSA9IGRlZmF1bHRDbGFzcztcbiAgICB9XG5cbiAgICAvLyBcIkExMXlMaW5rQnV0dG9uXCIgdG8gZm9yY2Ugbm9ybWFsIGxpbmsgc3R5bGluZyBzdHVmZiAoZWcgY3Vyc29yIG9uIGhvdmVyKVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPGRpdiBkYXRhLWwxMG4taWQ9XCJuZXd0YWItZXJyb3ItZmFsbGJhY2staW5mb1wiIC8+XG4gICAgICAgIDxzcGFuPlxuICAgICAgICAgIDxBMTF5TGlua0J1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVsb2FkLWJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItZXJyb3ItZmFsbGJhY2stcmVmcmVzaC1saW5rXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5FcnJvckJvdW5kYXJ5RmFsbGJhY2suZGVmYXVsdFByb3BzID0geyBjbGFzc05hbWU6IFwiYXMtZXJyb3ItZmFsbGJhY2tcIiB9O1xuXG5leHBvcnQgY2xhc3MgRXJyb3JCb3VuZGFyeSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBoYXNFcnJvcjogZmFsc2UgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZENhdGNoKGVycm9yLCBpbmZvKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGhhc0Vycm9yOiB0cnVlIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5oYXNFcnJvcikge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfVxuXG4gICAgcmV0dXJuIDx0aGlzLnByb3BzLkZhbGxiYWNrQ29tcG9uZW50IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9IC8+O1xuICB9XG59XG5cbkVycm9yQm91bmRhcnkuZGVmYXVsdFByb3BzID0geyBGYWxsYmFja0NvbXBvbmVudDogRXJyb3JCb3VuZGFyeUZhbGxiYWNrIH07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBBMTF5TGlua0J1dHRvbihwcm9wcykge1xuICAvLyBmdW5jdGlvbiBmb3IgbWVyZ2luZyBjbGFzc2VzLCBpZiBuZWNlc3NhcnlcbiAgbGV0IGNsYXNzTmFtZSA9IFwiYTExeS1saW5rLWJ1dHRvblwiO1xuICBpZiAocHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgY2xhc3NOYW1lICs9IGAgJHtwcm9wcy5jbGFzc05hbWV9YDtcbiAgfVxuICByZXR1cm4gKFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIHsuLi5wcm9wc30gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgIDwvYnV0dG9uPlxuICApO1xufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2FmZUFuY2hvciB9IGZyb20gXCIuLi9TYWZlQW5jaG9yL1NhZmVBbmNob3JcIjtcbmltcG9ydCB7IEZsdWVudE9yVGV4dCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0ZsdWVudE9yVGV4dC9GbHVlbnRPclRleHRcIjtcblxuZXhwb3J0IGNsYXNzIERTTWVzc2FnZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtbWVzc2FnZVwiPlxuICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cInRpdGxlXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuaWNvbiAmJiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdseXBoXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7dGhpcy5wcm9wcy5pY29ufSlgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge3RoaXMucHJvcHMudGl0bGUgJiYgKFxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGl0bGUtdGV4dFwiPlxuICAgICAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e3RoaXMucHJvcHMudGl0bGV9IC8+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7dGhpcy5wcm9wcy5saW5rX3RleHQgJiYgdGhpcy5wcm9wcy5saW5rX3VybCAmJiAoXG4gICAgICAgICAgICA8U2FmZUFuY2hvciBjbGFzc05hbWU9XCJsaW5rXCIgdXJsPXt0aGlzLnByb3BzLmxpbmtfdXJsfT5cbiAgICAgICAgICAgICAgPEZsdWVudE9yVGV4dCBtZXNzYWdlPXt0aGlzLnByb3BzLmxpbmtfdGV4dH0gLz5cbiAgICAgICAgICAgIDwvU2FmZUFuY2hvcj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2hlYWRlcj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IE1vZGFsT3ZlcmxheVdyYXBwZXIgfSBmcm9tIFwiY29udGVudC1zcmMvYXNyb3V0ZXIvY29tcG9uZW50cy9Nb2RhbE92ZXJsYXkvTW9kYWxPdmVybGF5XCI7XG5cbmV4cG9ydCBjbGFzcyBEU1ByaXZhY3lNb2RhbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmNsb3NlTW9kYWwgPSB0aGlzLmNsb3NlTW9kYWwuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTGVhcm5MaW5rQ2xpY2sgPSB0aGlzLm9uTGVhcm5MaW5rQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTWFuYWdlTGlua0NsaWNrID0gdGhpcy5vbk1hbmFnZUxpbmtDbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25MZWFybkxpbmtDbGljayhldmVudCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICBldmVudDogXCJDTElDS19QUklWQUNZX0lORk9cIixcbiAgICAgICAgc291cmNlOiBcIkRTX1BSSVZBQ1lfTU9EQUxcIixcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIG9uTWFuYWdlTGlua0NsaWNrKGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Pbmx5VG9NYWluKHsgdHlwZTogYXQuU0VUVElOR1NfT1BFTiB9KSk7XG4gIH1cblxuICBjbG9zZU1vZGFsKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goe1xuICAgICAgdHlwZTogYEhJREVfUFJJVkFDWV9JTkZPYCxcbiAgICAgIGRhdGE6IHt9LFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWxPdmVybGF5V3JhcHBlclxuICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlTW9kYWx9XG4gICAgICAgIGlubmVyQ2xhc3NOYW1lPVwiZHMtcHJpdmFjeS1tb2RhbFwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJpdmFjeS1ub3RpY2VcIj5cbiAgICAgICAgICA8aDMgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXByaXZhY3ktbW9kYWwtaGVhZGVyXCIgLz5cbiAgICAgICAgICA8cCBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcHJpdmFjeS1tb2RhbC1wYXJhZ3JhcGgtMlwiIC8+XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1vZGFsLWxpbmsgbW9kYWwtbGluay1wcml2YWN5XCJcbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wcml2YWN5LW1vZGFsLWxpbmtcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkxlYXJuTGlua0NsaWNrfVxuICAgICAgICAgICAgaHJlZj1cImh0dHBzOi8vaGVscC5nZXRwb2NrZXQuY29tL2FydGljbGUvMTE0Mi1maXJlZm94LW5ldy10YWItcmVjb21tZW5kYXRpb25zLWZhcVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJtb2RhbC1saW5rIG1vZGFsLWxpbmstbWFuYWdlXCJcbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wcml2YWN5LW1vZGFsLWJ1dHRvbi1tYW5hZ2VcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbk1hbmFnZUxpbmtDbGlja31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwiYWN0aW9uc1wiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImRvbmVcIlxuICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlTW9kYWx9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcHJpdmFjeS1tb2RhbC1idXR0b24tZG9uZVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgPC9Nb2RhbE92ZXJsYXlXcmFwcGVyPlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIE1vZGFsT3ZlcmxheVdyYXBwZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbktleURvd24gPSB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gVGhlIGludGVuZGVkIGJlaGF2aW91ciBpcyB0byBsaXN0ZW4gZm9yIGFuIGVzY2FwZSBrZXlcbiAgLy8gYnV0IG5vdCBmb3IgYSBjbGljazsgc2VlIEJ1ZyAxNTgyMjQyXG4gIG9uS2V5RG93bihldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMucHJvcHMub25DbG9zZShldmVudCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMucHJvcHMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbktleURvd24pO1xuICAgIHRoaXMucHJvcHMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwibW9kYWwtb3BlblwiKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMucHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbktleURvd24pO1xuICAgIHRoaXMucHJvcHMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWwtb3BlblwiKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGxldCBjbGFzc05hbWUgPSBwcm9wcy51bnN0eWxlZCA/IFwiXCIgOiBcIm1vZGFsT3ZlcmxheUlubmVyIGFjdGl2ZVwiO1xuICAgIGlmIChwcm9wcy5pbm5lckNsYXNzTmFtZSkge1xuICAgICAgY2xhc3NOYW1lICs9IGAgJHtwcm9wcy5pbm5lckNsYXNzTmFtZX1gO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJtb2RhbE92ZXJsYXlPdXRlciBhY3RpdmVcIlxuICAgICAgICBvbktleURvd249e3RoaXMub25LZXlEb3dufVxuICAgICAgICByb2xlPVwicHJlc2VudGF0aW9uXCJcbiAgICAgID5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT17cHJvcHMuaGVhZGVySWR9XG4gICAgICAgICAgaWQ9e3Byb3BzLmlkfVxuICAgICAgICAgIHJvbGU9XCJkaWFsb2dcIlxuICAgICAgICA+XG4gICAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuTW9kYWxPdmVybGF5V3JhcHBlci5kZWZhdWx0UHJvcHMgPSB7IGRvY3VtZW50OiBnbG9iYWwuZG9jdW1lbnQgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgTGlua01lbnUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9MaW5rTWVudS9MaW5rTWVudVwiO1xuaW1wb3J0IHsgQ29udGV4dE1lbnVCdXR0b24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudUJ1dHRvblwiO1xuaW1wb3J0IHsgSW1wcmVzc2lvblN0YXRzIH0gZnJvbSBcIi4uLy4uL0Rpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cy9JbXByZXNzaW9uU3RhdHNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5cbmV4cG9ydCBjbGFzcyBEU1NpZ251cCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgIGxhc3RJdGVtOiBmYWxzZSxcbiAgICB9O1xuICAgIHRoaXMub25NZW51QnV0dG9uVXBkYXRlID0gdGhpcy5vbk1lbnVCdXR0b25VcGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTGlua0NsaWNrID0gdGhpcy5vbkxpbmtDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZW51U2hvdyA9IHRoaXMub25NZW51U2hvdy5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25NZW51QnV0dG9uVXBkYXRlKHNob3dDb250ZXh0TWVudSkge1xuICAgIGlmICghc2hvd0NvbnRleHRNZW51KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgbGFzdEl0ZW06IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgbmV4dEFuaW1hdGlvbkZyYW1lKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+XG4gICAgICB0aGlzLnByb3BzLndpbmRvd09iai5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVzb2x2ZSlcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgb25NZW51U2hvdygpIHtcbiAgICBsZXQgeyBsYXN0SXRlbSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAvLyBXYWl0IGZvciBuZXh0IGZyYW1lIGJlZm9yZSBjb21wdXRpbmcgc2Nyb2xsTWF4WCB0byBhbGxvdyBmbHVlbnQgbWVudSBzdHJpbmdzIHRvIGJlIHZpc2libGVcbiAgICBhd2FpdCB0aGlzLm5leHRBbmltYXRpb25GcmFtZSgpO1xuICAgIGlmICh0aGlzLnByb3BzLndpbmRvd09iai5zY3JvbGxNYXhYID4gMCkge1xuICAgICAgbGFzdEl0ZW0gPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIGxhc3RJdGVtLFxuICAgIH0pO1xuICB9XG5cbiAgb25MaW5rQ2xpY2soKSB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoICYmIGRhdGEgJiYgZGF0YS5zcG9jcyAmJiBkYXRhLnNwb2NzLmxlbmd0aCkge1xuICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5wcm9wcy50eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICAvLyBHcmFiIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBhcnJheSBhcyB3ZSBvbmx5IGhhdmUgMSBzcG9jIHBvc2l0aW9uLlxuICAgICAgY29uc3QgW3Nwb2NdID0gZGF0YS5zcG9jcztcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiAwLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgY2xpY2s6IDAsXG4gICAgICAgICAgdGlsZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IHNwb2MuaWQsXG4gICAgICAgICAgICAgIHBvczogMCxcbiAgICAgICAgICAgICAgLi4uKHNwb2Muc2hpbSAmJiBzcG9jLnNoaW0uY2xpY2tcbiAgICAgICAgICAgICAgICA/IHsgc2hpbTogc3BvYy5zaGltLmNsaWNrIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZGF0YSwgZGlzcGF0Y2gsIHR5cGUgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFkYXRhIHx8ICFkYXRhLnNwb2NzIHx8ICFkYXRhLnNwb2NzWzBdKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gR3JhYiB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgYXJyYXkgYXMgd2Ugb25seSBoYXZlIDEgc3BvYyBwb3NpdGlvbi5cbiAgICBjb25zdCBbc3BvY10gPSBkYXRhLnNwb2NzO1xuICAgIGNvbnN0IHsgdGl0bGUsIHVybCwgZXhjZXJwdCwgZmxpZ2h0X2lkLCBpZCwgc2hpbSB9ID0gc3BvYztcblxuICAgIGNvbnN0IFNJR05VUF9DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgICAgIFwiT3BlbkluTmV3V2luZG93XCIsXG4gICAgICBcIk9wZW5JblByaXZhdGVXaW5kb3dcIixcbiAgICAgIFwiU2VwYXJhdG9yXCIsXG4gICAgICBcIkJsb2NrVXJsXCIsXG4gICAgICAuLi4oZmxpZ2h0X2lkID8gW1wiU2hvd1ByaXZhY3lJbmZvXCJdIDogW10pLFxuICAgIF07XG5cbiAgICBjb25zdCBvdXRlckNsYXNzTmFtZSA9IFtcbiAgICAgIFwiZHMtc2lnbnVwXCIsXG4gICAgICB0aGlzLnN0YXRlLmFjdGl2ZSAmJiBcImFjdGl2ZVwiLFxuICAgICAgdGhpcy5zdGF0ZS5sYXN0SXRlbSAmJiBcImxhc3QtaXRlbVwiLFxuICAgIF1cbiAgICAgIC5maWx0ZXIodiA9PiB2KVxuICAgICAgLmpvaW4oXCIgXCIpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtvdXRlckNsYXNzTmFtZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtc2lnbnVwLWNvbnRlbnRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tc21hbGwtc3BhY2VyIGljb24tbWFpbFwiPjwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgIHt0aXRsZX17XCIgXCJ9XG4gICAgICAgICAgICA8U2FmZUFuY2hvclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcy1jaGV2cm9uLWxpbmtcIlxuICAgICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIG9uTGlua0NsaWNrPXt0aGlzLm9uTGlua0NsaWNrfVxuICAgICAgICAgICAgICB1cmw9e3VybH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2V4Y2VycHR9XG4gICAgICAgICAgICA8L1NhZmVBbmNob3I+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxJbXByZXNzaW9uU3RhdHNcbiAgICAgICAgICAgIGZsaWdodElkPXtmbGlnaHRfaWR9XG4gICAgICAgICAgICByb3dzPXtbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBwb3M6IDAsXG4gICAgICAgICAgICAgICAgc2hpbTogc2hpbSAmJiBzaGltLmltcHJlc3Npb24sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgc291cmNlPXt0eXBlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8Q29udGV4dE1lbnVCdXR0b25cbiAgICAgICAgICB0b29sdGlwPXtcIm5ld3RhYi1tZW51LWNvbnRlbnQtdG9vbHRpcFwifVxuICAgICAgICAgIHRvb2x0aXBBcmdzPXt7IHRpdGxlIH19XG4gICAgICAgICAgb25VcGRhdGU9e3RoaXMub25NZW51QnV0dG9uVXBkYXRlfVxuICAgICAgICA+XG4gICAgICAgICAgPExpbmtNZW51XG4gICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICBpbmRleD17MH1cbiAgICAgICAgICAgIHNvdXJjZT17dHlwZS50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgICAgb25TaG93PXt0aGlzLm9uTWVudVNob3d9XG4gICAgICAgICAgICBvcHRpb25zPXtTSUdOVVBfQ09OVEVYVF9NRU5VX09QVElPTlN9XG4gICAgICAgICAgICBzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzPXt0cnVlfVxuICAgICAgICAgICAgc2l0ZT17e1xuICAgICAgICAgICAgICByZWZlcnJlcjogXCJodHRwczovL2dldHBvY2tldC5jb20vcmVjb21tZW5kYXRpb25zXCIsXG4gICAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgIGd1aWQ6IGlkLFxuICAgICAgICAgICAgICBzaGltLFxuICAgICAgICAgICAgICBmbGlnaHRfaWQsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvQ29udGV4dE1lbnVCdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbkRTU2lnbnVwLmRlZmF1bHRQcm9wcyA9IHtcbiAgd2luZG93T2JqOiB3aW5kb3csIC8vIEFkZGVkIHRvIHN1cHBvcnQgdW5pdCB0ZXN0c1xufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgRFNEaXNtaXNzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0Rpc21pc3MvRFNEaXNtaXNzXCI7XG5pbXBvcnQgeyBEU0ltYWdlIH0gZnJvbSBcIi4uL0RTSW1hZ2UvRFNJbWFnZS5qc3hcIjtcbmltcG9ydCB7IEltcHJlc3Npb25TdGF0cyB9IGZyb20gXCIuLi8uLi9EaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMvSW1wcmVzc2lvblN0YXRzXCI7XG5pbXBvcnQgeyBMaW5rTWVudU9wdGlvbnMgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL2xpbmstbWVudS1vcHRpb25zXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTYWZlQW5jaG9yIH0gZnJvbSBcIi4uL1NhZmVBbmNob3IvU2FmZUFuY2hvclwiO1xuXG5leHBvcnQgY2xhc3MgRFNUZXh0UHJvbW8gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkxpbmtDbGljayA9IHRoaXMub25MaW5rQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uRGlzbWlzc0NsaWNrID0gdGhpcy5vbkRpc21pc3NDbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25MaW5rQ2xpY2soKSB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoICYmIGRhdGEgJiYgZGF0YS5zcG9jcyAmJiBkYXRhLnNwb2NzLmxlbmd0aCkge1xuICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5wcm9wcy50eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICAvLyBHcmFiIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBhcnJheSBhcyB3ZSBvbmx5IGhhdmUgMSBzcG9jIHBvc2l0aW9uLlxuICAgICAgY29uc3QgW3Nwb2NdID0gZGF0YS5zcG9jcztcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiAwLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgY2xpY2s6IDAsXG4gICAgICAgICAgdGlsZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IHNwb2MuaWQsXG4gICAgICAgICAgICAgIHBvczogMCxcbiAgICAgICAgICAgICAgLi4uKHNwb2Muc2hpbSAmJiBzcG9jLnNoaW0uY2xpY2tcbiAgICAgICAgICAgICAgICA/IHsgc2hpbTogc3BvYy5zaGltLmNsaWNrIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgb25EaXNtaXNzQ2xpY2soKSB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoICYmIGRhdGEgJiYgZGF0YS5zcG9jcyAmJiBkYXRhLnNwb2NzLmxlbmd0aCkge1xuICAgICAgY29uc3QgaW5kZXggPSAwO1xuICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5wcm9wcy50eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICAvLyBHcmFiIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBhcnJheSBhcyB3ZSBvbmx5IGhhdmUgMSBzcG9jIHBvc2l0aW9uLlxuICAgICAgY29uc3QgW3Nwb2NdID0gZGF0YS5zcG9jcztcbiAgICAgIGNvbnN0IHNwb2NEYXRhID0ge1xuICAgICAgICB1cmw6IHNwb2MudXJsLFxuICAgICAgICBndWlkOiBzcG9jLmlkLFxuICAgICAgICBzaGltOiBzcG9jLnNoaW0sXG4gICAgICB9O1xuICAgICAgY29uc3QgYmxvY2tVcmxPcHRpb24gPSBMaW5rTWVudU9wdGlvbnMuQmxvY2tVcmwoc3BvY0RhdGEsIGluZGV4LCBzb3VyY2UpO1xuXG4gICAgICBjb25zdCB7IGFjdGlvbiwgaW1wcmVzc2lvbiwgdXNlckV2ZW50IH0gPSBibG9ja1VybE9wdGlvbjtcblxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhY3Rpb24pO1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgICBldmVudDogdXNlckV2ZW50LFxuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IGluZGV4LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIGlmIChpbXByZXNzaW9uKSB7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goaW1wcmVzc2lvbik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIWRhdGEgfHwgIWRhdGEuc3BvY3MgfHwgIWRhdGEuc3BvY3NbMF0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBHcmFiIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBhcnJheSBhcyB3ZSBvbmx5IGhhdmUgMSBzcG9jIHBvc2l0aW9uLlxuICAgIGNvbnN0IFtzcG9jXSA9IGRhdGEuc3BvY3M7XG4gICAgY29uc3Qge1xuICAgICAgaW1hZ2Vfc3JjLFxuICAgICAgcmF3X2ltYWdlX3NyYyxcbiAgICAgIGFsdF90ZXh0LFxuICAgICAgdGl0bGUsXG4gICAgICB1cmwsXG4gICAgICBjb250ZXh0LFxuICAgICAgY3RhLFxuICAgICAgZmxpZ2h0X2lkLFxuICAgICAgaWQsXG4gICAgICBzaGltLFxuICAgIH0gPSBzcG9jO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxEU0Rpc21pc3NcbiAgICAgICAgb25EaXNtaXNzQ2xpY2s9e3RoaXMub25EaXNtaXNzQ2xpY2t9XG4gICAgICAgIGV4dHJhQ2xhc3Nlcz17YGRzLWRpc21pc3MtZHMtdGV4dC1wcm9tb2B9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtdGV4dC1wcm9tb1wiPlxuICAgICAgICAgIDxEU0ltYWdlXG4gICAgICAgICAgICBhbHRfdGV4dD17YWx0X3RleHR9XG4gICAgICAgICAgICBzb3VyY2U9e2ltYWdlX3NyY31cbiAgICAgICAgICAgIHJhd1NvdXJjZT17cmF3X2ltYWdlX3NyY31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dFwiPlxuICAgICAgICAgICAgPGgzPlxuICAgICAgICAgICAgICB7YCR7dGl0bGV9XFx1MjAwM2B9XG4gICAgICAgICAgICAgIDxTYWZlQW5jaG9yXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZHMtY2hldnJvbi1saW5rXCJcbiAgICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgICBvbkxpbmtDbGljaz17dGhpcy5vbkxpbmtDbGlja31cbiAgICAgICAgICAgICAgICB1cmw9e3VybH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtjdGF9XG4gICAgICAgICAgICAgIDwvU2FmZUFuY2hvcj5cbiAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJzdWJ0aXRsZVwiPntjb250ZXh0fTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8SW1wcmVzc2lvblN0YXRzXG4gICAgICAgICAgICBmbGlnaHRJZD17ZmxpZ2h0X2lkfVxuICAgICAgICAgICAgcm93cz17W1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgcG9zOiAwLFxuICAgICAgICAgICAgICAgIHNoaW06IHNoaW0gJiYgc2hpbS5pbXByZXNzaW9uLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXX1cbiAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgc291cmNlPXt0aGlzLnByb3BzLnR5cGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0RTRGlzbWlzcz5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTZWN0aW9uSW50bCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL1NlY3Rpb25zL1NlY3Rpb25zXCI7XG5cbmV4cG9ydCBjbGFzcyBfSGlnaGxpZ2h0cyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IHRoaXMucHJvcHMuU2VjdGlvbnMuZmluZChzID0+IHMuaWQgPT09IFwiaGlnaGxpZ2h0c1wiKTtcbiAgICBpZiAoIXNlY3Rpb24gfHwgIXNlY3Rpb24uZW5hYmxlZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtaGlnaGxpZ2h0cyBzZWN0aW9ucy1saXN0XCI+XG4gICAgICAgIDxTZWN0aW9uSW50bCB7Li4uc2VjdGlvbn0gaXNGaXhlZD17dHJ1ZX0gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IEhpZ2hsaWdodHMgPSBjb25uZWN0KHN0YXRlID0+ICh7IFNlY3Rpb25zOiBzdGF0ZS5TZWN0aW9ucyB9KSkoXG4gIF9IaWdobGlnaHRzXG4pO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgQ2FyZCwgUGxhY2Vob2xkZXJDYXJkIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ2FyZC9DYXJkXCI7XG5pbXBvcnQgeyBDb2xsYXBzaWJsZVNlY3Rpb24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db2xsYXBzaWJsZVNlY3Rpb24vQ29sbGFwc2libGVTZWN0aW9uXCI7XG5pbXBvcnQgeyBDb21wb25lbnRQZXJmVGltZXIgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db21wb25lbnRQZXJmVGltZXIvQ29tcG9uZW50UGVyZlRpbWVyXCI7XG5pbXBvcnQgeyBGbHVlbnRPclRleHQgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9GbHVlbnRPclRleHQvRmx1ZW50T3JUZXh0XCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBNb3JlUmVjb21tZW5kYXRpb25zIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvTW9yZVJlY29tbWVuZGF0aW9ucy9Nb3JlUmVjb21tZW5kYXRpb25zXCI7XG5pbXBvcnQgeyBQb2NrZXRMb2dnZWRJbkN0YSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL1BvY2tldExvZ2dlZEluQ3RhL1BvY2tldExvZ2dlZEluQ3RhXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUb3BpY3MgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BpY3MvVG9waWNzXCI7XG5pbXBvcnQgeyBUb3BTaXRlcyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL1RvcFNpdGVzL1RvcFNpdGVzXCI7XG5cbmNvbnN0IFZJU0lCTEUgPSBcInZpc2libGVcIjtcbmNvbnN0IFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5UID0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCI7XG5jb25zdCBDQVJEU19QRVJfUk9XX0RFRkFVTFQgPSAzO1xuY29uc3QgQ0FSRFNfUEVSX1JPV19DT01QQUNUX1dJREUgPSA0O1xuXG5leHBvcnQgY2xhc3MgU2VjdGlvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBnZXQgbnVtUm93cygpIHtcbiAgICBjb25zdCB7IHJvd3NQcmVmLCBtYXhSb3dzLCBQcmVmcyB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gcm93c1ByZWYgPyBQcmVmcy52YWx1ZXNbcm93c1ByZWZdIDogbWF4Um93cztcbiAgfVxuXG4gIF9kaXNwYXRjaEltcHJlc3Npb25TdGF0cygpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGxldCBjYXJkc1BlclJvdyA9IENBUkRTX1BFUl9ST1dfREVGQVVMVDtcbiAgICBpZiAoXG4gICAgICBwcm9wcy5jb21wYWN0Q2FyZHMgJiZcbiAgICAgIGdsb2JhbC5tYXRjaE1lZGlhKGAobWluLXdpZHRoOiAxMDcycHgpYCkubWF0Y2hlc1xuICAgICkge1xuICAgICAgLy8gSWYgdGhlIHNlY3Rpb24gaGFzIGNvbXBhY3QgY2FyZHMgYW5kIHRoZSB2aWV3cG9ydCBpcyB3aWRlIGVub3VnaCwgd2Ugc2hvd1xuICAgICAgLy8gNCBjb2x1bW5zIGluc3RlYWQgb2YgMy5cbiAgICAgIC8vICRicmVhay1wb2ludC13aWRlc3QgPSAxMDcycHggKGZyb20gX3ZhcmlhYmxlcy5zY3NzKVxuICAgICAgY2FyZHNQZXJSb3cgPSBDQVJEU19QRVJfUk9XX0NPTVBBQ1RfV0lERTtcbiAgICB9XG4gICAgY29uc3QgbWF4Q2FyZHMgPSBjYXJkc1BlclJvdyAqIHRoaXMubnVtUm93cztcbiAgICBjb25zdCBjYXJkcyA9IHByb3BzLnJvd3Muc2xpY2UoMCwgbWF4Q2FyZHMpO1xuXG4gICAgaWYgKHRoaXMubmVlZHNJbXByZXNzaW9uU3RhdHMoY2FyZHMpKSB7XG4gICAgICBwcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICBzb3VyY2U6IHByb3BzLmV2ZW50U291cmNlLFxuICAgICAgICAgIHRpbGVzOiBjYXJkcy5tYXAobGluayA9PiAoeyBpZDogbGluay5ndWlkIH0pKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICB0aGlzLmltcHJlc3Npb25DYXJkR3VpZHMgPSBjYXJkcy5tYXAobGluayA9PiBsaW5rLmd1aWQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoaXMgc2VuZHMgYW4gZXZlbnQgd2hlbiBhIHVzZXIgc2VlcyBhIHNldCBvZiBuZXcgY29udGVudC4gSWYgY29udGVudFxuICAvLyBjaGFuZ2VzIHdoaWxlIHRoZSBwYWdlIGlzIGhpZGRlbiAoaS5lLiBwcmVsb2FkZWQgb3Igb24gYSBoaWRkZW4gdGFiKSxcbiAgLy8gb25seSBzZW5kIHRoZSBldmVudCBpZiB0aGUgcGFnZSBiZWNvbWVzIHZpc2libGUgYWdhaW4uXG4gIHNlbmRJbXByZXNzaW9uU3RhdHNPckFkZExpc3RlbmVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG5cbiAgICBpZiAoIXByb3BzLnNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHMgfHwgIXByb3BzLmRpc3BhdGNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgdGhpcy5fZGlzcGF0Y2hJbXByZXNzaW9uU3RhdHMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2Ugc2hvdWxkIG9ubHkgZXZlciBzZW5kIHRoZSBsYXRlc3QgaW1wcmVzc2lvbiBzdGF0cyBwaW5nLCBzbyByZW1vdmUgYW55XG4gICAgICAvLyBvbGRlciBsaXN0ZW5lcnMuXG4gICAgICBpZiAodGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICAgIHByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gdGhlIHBhZ2UgYmVjb21lcyB2aXNpYmxlLCBzZW5kIHRoZSBpbXByZXNzaW9uIHN0YXRzIHBpbmcgaWYgdGhlIHNlY3Rpb24gaXNuJ3QgY29sbGFwc2VkLlxuICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBpZiAocHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLnByb3BzLnByZWYuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEltcHJlc3Npb25TdGF0cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcHJvcHMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5zZW5kTmV3VGFiUmVoeWRyYXRlZCh0aGlzLnByb3BzLmluaXRpYWxpemVkKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJvd3MubGVuZ3RoICYmICF0aGlzLnByb3BzLnByZWYuY29sbGFwc2VkKSB7XG4gICAgICB0aGlzLnNlbmRJbXByZXNzaW9uU3RhdHNPckFkZExpc3RlbmVyKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgaXNDb2xsYXBzZWQgPSBwcm9wcy5wcmVmLmNvbGxhcHNlZDtcbiAgICBjb25zdCB3YXNDb2xsYXBzZWQgPSBwcmV2UHJvcHMucHJlZi5jb2xsYXBzZWQ7XG4gICAgaWYgKFxuICAgICAgLy8gRG9uJ3Qgc2VuZCBpbXByZXNzaW9uIHN0YXRzIGZvciB0aGUgZW1wdHkgc3RhdGVcbiAgICAgIHByb3BzLnJvd3MubGVuZ3RoICYmXG4gICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gc2VuZCBpbXByZXNzaW9uIHN0YXRzIGlmIHRoZSBjb250ZW50IG9mIHRoZSBjYXJkcyBoYXMgY2hhbmdlZFxuICAgICAgLy8gYW5kIHRoZSBzZWN0aW9uIGlzIG5vdCBjb2xsYXBzZWQuLi5cbiAgICAgICgocHJvcHMucm93cyAhPT0gcHJldlByb3BzLnJvd3MgJiYgIWlzQ29sbGFwc2VkKSB8fFxuICAgICAgICAvLyBvciBpZiB3ZSBhcmUgZXhwYW5kaW5nIGEgc2VjdGlvbiB0aGF0IHdhcyBjb2xsYXBzZWQuXG4gICAgICAgICh3YXNDb2xsYXBzZWQgJiYgIWlzQ29sbGFwc2VkKSlcbiAgICApIHtcbiAgICAgIHRoaXMuc2VuZEltcHJlc3Npb25TdGF0c09yQWRkTGlzdGVuZXIoKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcykge1xuICAgIHRoaXMuc2VuZE5ld1RhYlJlaHlkcmF0ZWQobmV4dFByb3BzLmluaXRpYWxpemVkKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBuZWVkc0ltcHJlc3Npb25TdGF0cyhjYXJkcykge1xuICAgIGlmIChcbiAgICAgICF0aGlzLmltcHJlc3Npb25DYXJkR3VpZHMgfHxcbiAgICAgIHRoaXMuaW1wcmVzc2lvbkNhcmRHdWlkcy5sZW5ndGggIT09IGNhcmRzLmxlbmd0aFxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJkcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNhcmRzW2ldLmd1aWQgIT09IHRoaXMuaW1wcmVzc2lvbkNhcmRHdWlkc1tpXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBUaGUgTkVXX1RBQl9SRUhZRFJBVEVEIGV2ZW50IGlzIHVzZWQgdG8gaW5mb3JtIGZlZWRzIHRoYXQgdGhlaXJcbiAgLy8gZGF0YSBoYXMgYmVlbiBjb25zdW1lZCBlLmcuIGZvciBjb3VudGluZyB0aGUgbnVtYmVyIG9mIHRhYnMgdGhhdFxuICAvLyBoYXZlIHJlbmRlcmVkIHRoYXQgZGF0YS5cbiAgc2VuZE5ld1RhYlJlaHlkcmF0ZWQoaW5pdGlhbGl6ZWQpIHtcbiAgICBpZiAoaW5pdGlhbGl6ZWQgJiYgIXRoaXMucmVuZGVyTm90aWZpZWQpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oeyB0eXBlOiBhdC5ORVdfVEFCX1JFSFlEUkFURUQsIGRhdGE6IHt9IH0pXG4gICAgICApO1xuICAgICAgdGhpcy5yZW5kZXJOb3RpZmllZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGlkLFxuICAgICAgZXZlbnRTb3VyY2UsXG4gICAgICB0aXRsZSxcbiAgICAgIHJvd3MsXG4gICAgICBQb2NrZXQsXG4gICAgICB0b3BpY3MsXG4gICAgICBlbXB0eVN0YXRlLFxuICAgICAgZGlzcGF0Y2gsXG4gICAgICBjb21wYWN0Q2FyZHMsXG4gICAgICByZWFkX21vcmVfZW5kcG9pbnQsXG4gICAgICBjb250ZXh0TWVudU9wdGlvbnMsXG4gICAgICBpbml0aWFsaXplZCxcbiAgICAgIGxlYXJuTW9yZSxcbiAgICAgIHByZWYsXG4gICAgICBwcml2YWN5Tm90aWNlVVJMLFxuICAgICAgaXNGaXJzdCxcbiAgICAgIGlzTGFzdCxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHdhaXRpbmdGb3JTcG9jID1cbiAgICAgIGlkID09PSBcInRvcHN0b3JpZXNcIiAmJiB0aGlzLnByb3BzLlBvY2tldC53YWl0aW5nRm9yU3BvYztcbiAgICBjb25zdCBtYXhDYXJkc1BlclJvdyA9IGNvbXBhY3RDYXJkc1xuICAgICAgPyBDQVJEU19QRVJfUk9XX0NPTVBBQ1RfV0lERVxuICAgICAgOiBDQVJEU19QRVJfUk9XX0RFRkFVTFQ7XG4gICAgY29uc3QgeyBudW1Sb3dzIH0gPSB0aGlzO1xuICAgIGNvbnN0IG1heENhcmRzID0gbWF4Q2FyZHNQZXJSb3cgKiBudW1Sb3dzO1xuICAgIGNvbnN0IG1heENhcmRzT25OYXJyb3cgPSBDQVJEU19QRVJfUk9XX0RFRkFVTFQgKiBudW1Sb3dzO1xuXG4gICAgY29uc3QgeyBwb2NrZXRDdGEsIGlzVXNlckxvZ2dlZEluIH0gPSBQb2NrZXQgfHwge307XG4gICAgY29uc3QgeyB1c2VDdGEgfSA9IHBvY2tldEN0YSB8fCB7fTtcblxuICAgIC8vIERvbid0IGRpc3BsYXkgYW55dGhpbmcgdW50aWwgd2UgaGF2ZSBhIGRlZmluaXR2ZSByZXN1bHQgZnJvbSBQb2NrZXQsXG4gICAgLy8gdG8gYXZvaWQgYSBmbGFzaCBvZiBsb2dnZWQgb3V0IHN0YXRlIHdoaWxlIHdlIHJlbmRlci5cbiAgICBjb25zdCBpc1BvY2tldExvZ2dlZEluRGVmaW5lZCA9XG4gICAgICBpc1VzZXJMb2dnZWRJbiA9PT0gdHJ1ZSB8fCBpc1VzZXJMb2dnZWRJbiA9PT0gZmFsc2U7XG5cbiAgICBjb25zdCBoYXNUb3BpY3MgPSB0b3BpY3MgJiYgISF0b3BpY3MubGVuZ3RoO1xuXG4gICAgY29uc3Qgc2hvdWxkU2hvd1BvY2tldEN0YSA9XG4gICAgICBpZCA9PT0gXCJ0b3BzdG9yaWVzXCIgJiYgdXNlQ3RhICYmIGlzVXNlckxvZ2dlZEluID09PSBmYWxzZTtcblxuICAgIC8vIFNob3cgdG9waWNzIG9ubHkgZm9yIHRvcCBzdG9yaWVzIGFuZCBpZiBpdCBoYXMgbG9hZGVkIHdpdGggdG9waWNzLlxuICAgIC8vIFRoZSBjbGFzc3MgLnRvcC1zdG9yaWVzLWJvdHRvbS1jb250YWluZXIgZW5zdXJlcyBjb250ZW50IGRvZXNuJ3Qgc2hpZnQgYXMgdGhpbmdzIGxvYWQuXG4gICAgY29uc3Qgc2hvdWxkU2hvd1RvcGljcyA9XG4gICAgICBpZCA9PT0gXCJ0b3BzdG9yaWVzXCIgJiZcbiAgICAgIGhhc1RvcGljcyAmJlxuICAgICAgKCh1c2VDdGEgJiYgaXNVc2VyTG9nZ2VkSW4gPT09IHRydWUpIHx8XG4gICAgICAgICghdXNlQ3RhICYmIGlzUG9ja2V0TG9nZ2VkSW5EZWZpbmVkKSk7XG5cbiAgICAvLyBXZSB1c2UgdG9waWNzIHRvIGRldGVybWluZSBsYW5ndWFnZSBzdXBwb3J0IGZvciByZWFkIG1vcmUuXG4gICAgY29uc3Qgc2hvdWxkU2hvd1JlYWRNb3JlID0gcmVhZF9tb3JlX2VuZHBvaW50ICYmIGhhc1RvcGljcztcblxuICAgIGNvbnN0IHJlYWxSb3dzID0gcm93cy5zbGljZSgwLCBtYXhDYXJkcyk7XG5cbiAgICAvLyBUaGUgZW1wdHkgc3RhdGUgc2hvdWxkIG9ubHkgYmUgc2hvd24gYWZ0ZXIgd2UgaGF2ZSBpbml0aWFsaXplZCBhbmQgdGhlcmUgaXMgbm8gY29udGVudC5cbiAgICAvLyBPdGhlcndpc2UsIHdlIHNob3VsZCBzaG93IHBsYWNlaG9sZGVycy5cbiAgICBjb25zdCBzaG91bGRTaG93RW1wdHlTdGF0ZSA9IGluaXRpYWxpemVkICYmICFyb3dzLmxlbmd0aDtcblxuICAgIGNvbnN0IGNhcmRzID0gW107XG4gICAgaWYgKCFzaG91bGRTaG93RW1wdHlTdGF0ZSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhDYXJkczsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGxpbmsgPSByZWFsUm93c1tpXTtcbiAgICAgICAgLy8gT24gbmFycm93IHZpZXdwb3J0cywgd2Ugb25seSBzaG93IDMgY2FyZHMgcGVyIHJvdy4gV2UnbGwgbWFyayB0aGUgcmVzdCBhc1xuICAgICAgICAvLyAuaGlkZS1mb3ItbmFycm93IHRvIGhpZGUgaW4gQ1NTIHZpYSBAbWVkaWEgcXVlcnkuXG4gICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IGkgPj0gbWF4Q2FyZHNPbk5hcnJvdyA/IFwiaGlkZS1mb3ItbmFycm93XCIgOiBcIlwiO1xuICAgICAgICBsZXQgdXNlUGxhY2Vob2xkZXIgPSAhbGluaztcbiAgICAgICAgLy8gSWYgd2UgYXJlIGluIHRoZSB0aGlyZCBjYXJkIGFuZCB3YWl0aW5nIGZvciBzcG9jLFxuICAgICAgICAvLyB1c2UgdGhlIHBsYWNlaG9sZGVyLlxuICAgICAgICBpZiAoIXVzZVBsYWNlaG9sZGVyICYmIGkgPT09IDIgJiYgd2FpdGluZ0ZvclNwb2MpIHtcbiAgICAgICAgICB1c2VQbGFjZWhvbGRlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FyZHMucHVzaChcbiAgICAgICAgICAhdXNlUGxhY2Vob2xkZXIgPyAoXG4gICAgICAgICAgICA8Q2FyZFxuICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgIGluZGV4PXtpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgICBsaW5rPXtsaW5rfVxuICAgICAgICAgICAgICBjb250ZXh0TWVudU9wdGlvbnM9e2NvbnRleHRNZW51T3B0aW9uc31cbiAgICAgICAgICAgICAgZXZlbnRTb3VyY2U9e2V2ZW50U291cmNlfVxuICAgICAgICAgICAgICBzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzPXt0aGlzLnByb3BzLnNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHN9XG4gICAgICAgICAgICAgIGlzV2ViRXh0ZW5zaW9uPXt0aGlzLnByb3BzLmlzV2ViRXh0ZW5zaW9ufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPFBsYWNlaG9sZGVyQ2FyZCBrZXk9e2l9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSAvPlxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZWN0aW9uQ2xhc3NOYW1lID0gW1xuICAgICAgXCJzZWN0aW9uXCIsXG4gICAgICBjb21wYWN0Q2FyZHMgPyBcImNvbXBhY3QtY2FyZHNcIiA6IFwibm9ybWFsLWNhcmRzXCIsXG4gICAgXS5qb2luKFwiIFwiKTtcblxuICAgIC8vIDxTZWN0aW9uPiA8LS0gUmVhY3QgY29tcG9uZW50XG4gICAgLy8gPHNlY3Rpb24+IDwtLSBIVE1MNSBlbGVtZW50XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb21wb25lbnRQZXJmVGltZXIgey4uLnRoaXMucHJvcHN9PlxuICAgICAgICA8Q29sbGFwc2libGVTZWN0aW9uXG4gICAgICAgICAgY2xhc3NOYW1lPXtzZWN0aW9uQ2xhc3NOYW1lfVxuICAgICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgICAgICBpZD17aWR9XG4gICAgICAgICAgZXZlbnRTb3VyY2U9e2V2ZW50U291cmNlfVxuICAgICAgICAgIGNvbGxhcHNlZD17dGhpcy5wcm9wcy5wcmVmLmNvbGxhcHNlZH1cbiAgICAgICAgICBzaG93UHJlZk5hbWU9eyhwcmVmICYmIHByZWYuZmVlZCkgfHwgaWR9XG4gICAgICAgICAgcHJpdmFjeU5vdGljZVVSTD17cHJpdmFjeU5vdGljZVVSTH1cbiAgICAgICAgICBQcmVmcz17dGhpcy5wcm9wcy5QcmVmc31cbiAgICAgICAgICBpc0ZpeGVkPXt0aGlzLnByb3BzLmlzRml4ZWR9XG4gICAgICAgICAgaXNGaXJzdD17aXNGaXJzdH1cbiAgICAgICAgICBpc0xhc3Q9e2lzTGFzdH1cbiAgICAgICAgICBsZWFybk1vcmU9e2xlYXJuTW9yZX1cbiAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICBpc1dlYkV4dGVuc2lvbj17dGhpcy5wcm9wcy5pc1dlYkV4dGVuc2lvbn1cbiAgICAgICAgPlxuICAgICAgICAgIHshc2hvdWxkU2hvd0VtcHR5U3RhdGUgJiYgKFxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNlY3Rpb24tbGlzdFwiIHN0eWxlPXt7IHBhZGRpbmc6IDAgfX0+XG4gICAgICAgICAgICAgIHtjYXJkc31cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7c2hvdWxkU2hvd0VtcHR5U3RhdGUgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLWVtcHR5LXN0YXRlXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZW1wdHktc3RhdGVcIj5cbiAgICAgICAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e2VtcHR5U3RhdGUubWVzc2FnZX0+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJlbXB0eS1zdGF0ZS1tZXNzYWdlXCIgLz5cbiAgICAgICAgICAgICAgICA8L0ZsdWVudE9yVGV4dD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtpZCA9PT0gXCJ0b3BzdG9yaWVzXCIgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3Atc3Rvcmllcy1ib3R0b20tY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgIHtzaG91bGRTaG93VG9waWNzICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndyYXBwZXItdG9waWNzXCI+XG4gICAgICAgICAgICAgICAgICA8VG9waWNzIHRvcGljcz17dGhpcy5wcm9wcy50b3BpY3N9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAge3Nob3VsZFNob3dQb2NrZXRDdGEgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid3JhcHBlci1jdGFcIj5cbiAgICAgICAgICAgICAgICAgIDxQb2NrZXRMb2dnZWRJbkN0YSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid3JhcHBlci1tb3JlLXJlY29tbWVuZGF0aW9uc1wiPlxuICAgICAgICAgICAgICAgIHtzaG91bGRTaG93UmVhZE1vcmUgJiYgKFxuICAgICAgICAgICAgICAgICAgPE1vcmVSZWNvbW1lbmRhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgcmVhZF9tb3JlX2VuZHBvaW50PXtyZWFkX21vcmVfZW5kcG9pbnR9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9Db2xsYXBzaWJsZVNlY3Rpb24+XG4gICAgICA8L0NvbXBvbmVudFBlcmZUaW1lcj5cbiAgICApO1xuICB9XG59XG5cblNlY3Rpb24uZGVmYXVsdFByb3BzID0ge1xuICBkb2N1bWVudDogZ2xvYmFsLmRvY3VtZW50LFxuICByb3dzOiBbXSxcbiAgZW1wdHlTdGF0ZToge30sXG4gIHByZWY6IHt9LFxuICB0aXRsZTogXCJcIixcbn07XG5cbmV4cG9ydCBjb25zdCBTZWN0aW9uSW50bCA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxuICBQb2NrZXQ6IHN0YXRlLlBvY2tldCxcbn0pKShTZWN0aW9uKTtcblxuZXhwb3J0IGNsYXNzIF9TZWN0aW9ucyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXJTZWN0aW9ucygpIHtcbiAgICBjb25zdCBzZWN0aW9ucyA9IFtdO1xuICAgIGNvbnN0IGVuYWJsZWRTZWN0aW9ucyA9IHRoaXMucHJvcHMuU2VjdGlvbnMuZmlsdGVyKFxuICAgICAgc2VjdGlvbiA9PiBzZWN0aW9uLmVuYWJsZWRcbiAgICApO1xuICAgIGNvbnN0IHtcbiAgICAgIHNlY3Rpb25PcmRlcixcbiAgICAgIFwiZmVlZHMudG9wc2l0ZXNcIjogc2hvd1RvcFNpdGVzLFxuICAgIH0gPSB0aGlzLnByb3BzLlByZWZzLnZhbHVlcztcbiAgICAvLyBFbmFibGVkIHNlY3Rpb25zIGRvZXNuJ3QgaW5jbHVkZSBUb3AgU2l0ZXMsIHNvIHdlIGFkZCBpdCBpZiBlbmFibGVkLlxuICAgIGNvbnN0IGV4cGVjdGVkQ291bnQgPSBlbmFibGVkU2VjdGlvbnMubGVuZ3RoICsgfn5zaG93VG9wU2l0ZXM7XG5cbiAgICBmb3IgKGNvbnN0IHNlY3Rpb25JZCBvZiBzZWN0aW9uT3JkZXIuc3BsaXQoXCIsXCIpKSB7XG4gICAgICBjb25zdCBjb21tb25Qcm9wcyA9IHtcbiAgICAgICAga2V5OiBzZWN0aW9uSWQsXG4gICAgICAgIGlzRmlyc3Q6IHNlY3Rpb25zLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgaXNMYXN0OiBzZWN0aW9ucy5sZW5ndGggPT09IGV4cGVjdGVkQ291bnQgLSAxLFxuICAgICAgfTtcbiAgICAgIGlmIChzZWN0aW9uSWQgPT09IFwidG9wc2l0ZXNcIiAmJiBzaG93VG9wU2l0ZXMpIHtcbiAgICAgICAgc2VjdGlvbnMucHVzaCg8VG9wU2l0ZXMgey4uLmNvbW1vblByb3BzfSAvPik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gZW5hYmxlZFNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBzZWN0aW9uSWQpO1xuICAgICAgICBpZiAoc2VjdGlvbikge1xuICAgICAgICAgIHNlY3Rpb25zLnB1c2goPFNlY3Rpb25JbnRsIHsuLi5zZWN0aW9ufSB7Li4uY29tbW9uUHJvcHN9IC8+KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VjdGlvbnM7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbnMtbGlzdFwiPnt0aGlzLnJlbmRlclNlY3Rpb25zKCl9PC9kaXY+O1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBTZWN0aW9ucyA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgU2VjdGlvbnM6IHN0YXRlLlNlY3Rpb25zLFxuICBQcmVmczogc3RhdGUuUHJlZnMsXG59KSkoX1NlY3Rpb25zKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IGNhcmRDb250ZXh0VHlwZXMgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgQ29udGV4dE1lbnVCdXR0b24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudUJ1dHRvblwiO1xuaW1wb3J0IHsgTGlua01lbnUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9MaW5rTWVudS9MaW5rTWVudVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2NyZWVuc2hvdFV0aWxzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9zY3JlZW5zaG90LXV0aWxzXCI7XG5cbi8vIEtlZXAgdHJhY2sgb2YgcGVuZGluZyBpbWFnZSBsb2FkcyB0byBvbmx5IHJlcXVlc3Qgb25jZVxuY29uc3QgZ0ltYWdlTG9hZGluZyA9IG5ldyBNYXAoKTtcblxuLyoqXG4gKiBDYXJkIGNvbXBvbmVudC5cbiAqIENhcmRzIGFyZSBmb3VuZCB3aXRoaW4gYSBTZWN0aW9uIGNvbXBvbmVudCBhbmQgY29udGFpbiBpbmZvcm1hdGlvbiBhYm91dCBhIGxpbmsgc3VjaFxuICogYXMgcHJldmlldyBpbWFnZSwgcGFnZSB0aXRsZSwgcGFnZSBkZXNjcmlwdGlvbiwgYW5kIHNvbWUgY29udGV4dCBhYm91dCBpZiB0aGUgcGFnZVxuICogd2FzIHZpc2l0ZWQsIGJvb2ttYXJrZWQsIHRyZW5kaW5nIGV0Yy4uLlxuICogRWFjaCBTZWN0aW9uIGNhbiBtYWtlIGFuIHVub3JkZXJlZCBsaXN0IG9mIENhcmRzIHdoaWNoIHdpbGwgY3JlYXRlIG9uZSBpbnN0YW5lIG9mXG4gKiB0aGlzIGNsYXNzLiBFYWNoIGNhcmQgd2lsbCB0aGVuIGdldCBhIGNvbnRleHQgbWVudSB3aGljaCByZWZsZWN0cyB0aGUgYWN0aW9ucyB0aGF0XG4gKiBjYW4gYmUgZG9uZSBvbiB0aGlzIENhcmQuXG4gKi9cbmV4cG9ydCBjbGFzcyBfQ2FyZCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYWN0aXZlQ2FyZDogbnVsbCxcbiAgICAgIGltYWdlTG9hZGVkOiBmYWxzZSxcbiAgICAgIGNhcmRJbWFnZTogbnVsbCxcbiAgICB9O1xuICAgIHRoaXMub25NZW51QnV0dG9uVXBkYXRlID0gdGhpcy5vbk1lbnVCdXR0b25VcGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTGlua0NsaWNrID0gdGhpcy5vbkxpbmtDbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byBjb25kaXRpb25hbGx5IGxvYWQgYW4gaW1hZ2UgYW5kIHVwZGF0ZSBzdGF0ZSB3aGVuIGl0IGxvYWRzLlxuICAgKi9cbiAgYXN5bmMgbWF5YmVMb2FkSW1hZ2UoKSB7XG4gICAgLy8gTm8gbmVlZCB0byBsb2FkIGlmIGl0J3MgYWxyZWFkeSBsb2FkZWQgb3Igbm8gaW1hZ2VcbiAgICBjb25zdCB7IGNhcmRJbWFnZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoIWNhcmRJbWFnZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGltYWdlVXJsID0gY2FyZEltYWdlLnVybDtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaW1hZ2VMb2FkZWQpIHtcbiAgICAgIC8vIEluaXRpYWxpemUgYSBwcm9taXNlIHRvIHNoYXJlIGEgbG9hZCBhY3Jvc3MgbXVsdGlwbGUgY2FyZCB1cGRhdGVzXG4gICAgICBpZiAoIWdJbWFnZUxvYWRpbmcuaGFzKGltYWdlVXJsKSkge1xuICAgICAgICBjb25zdCBsb2FkZXJQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGxvYWRlciA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgIGxvYWRlci5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCByZXNvbHZlKTtcbiAgICAgICAgICBsb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHJlamVjdCk7XG4gICAgICAgICAgbG9hZGVyLnNyYyA9IGltYWdlVXJsO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTYXZlIGFuZCByZW1vdmUgdGhlIHByb21pc2Ugb25seSB3aGlsZSBpdCdzIHBlbmRpbmdcbiAgICAgICAgZ0ltYWdlTG9hZGluZy5zZXQoaW1hZ2VVcmwsIGxvYWRlclByb21pc2UpO1xuICAgICAgICBsb2FkZXJQcm9taXNlXG4gICAgICAgICAgLmNhdGNoKGV4ID0+IGV4KVxuICAgICAgICAgIC50aGVuKCgpID0+IGdJbWFnZUxvYWRpbmcuZGVsZXRlKGltYWdlVXJsKSlcbiAgICAgICAgICAuY2F0Y2goKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2FpdCBmb3IgdGhlIGltYWdlIHdoZXRoZXIganVzdCBzdGFydGVkIGxvYWRpbmcgb3IgcmV1c2VkIHByb21pc2VcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGdJbWFnZUxvYWRpbmcuZ2V0KGltYWdlVXJsKTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmFpbGVkIGltYWdlIHdpdGhvdXQgY2hhbmdpbmcgc3RhdGVcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBPbmx5IHVwZGF0ZSBzdGF0ZSBpZiB3ZSdyZSBzdGlsbCB3YWl0aW5nIHRvIGxvYWQgdGhlIG9yaWdpbmFsIGltYWdlXG4gICAgICBpZiAoXG4gICAgICAgIFNjcmVlbnNob3RVdGlscy5pc1JlbW90ZUltYWdlTG9jYWwoXG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXJkSW1hZ2UsXG4gICAgICAgICAgdGhpcy5wcm9wcy5saW5rLmltYWdlXG4gICAgICAgICkgJiZcbiAgICAgICAgIXRoaXMuc3RhdGUuaW1hZ2VMb2FkZWRcbiAgICAgICkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW1hZ2VMb2FkZWQ6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byBvYnRhaW4gdGhlIG5leHQgc3RhdGUgYmFzZWQgb24gbmV4dFByb3BzIGFuZCBwcmV2U3RhdGUuXG4gICAqXG4gICAqIE5PVEU6IFJlbmFtZSB0aGlzIG1ldGhvZCB0byBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgd2hlbiB3ZSB1cGRhdGUgUmVhY3RcbiAgICogICAgICAgdG8gPj0gMTYuMy4gV2Ugd2lsbCBuZWVkIHRvIHVwZGF0ZSB0ZXN0cyBhcyB3ZWxsLiBXZSBjYW5ub3QgcmVuYW1lIHRoaXNcbiAgICogICAgICAgbWV0aG9kIHRvIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyBub3cgYmVjYXVzZSB0aGVyZSBpcyBhIG1pc21hdGNoIGluXG4gICAqICAgICAgIHRoZSBSZWFjdCB2ZXJzaW9uIHRoYXQgd2UgYXJlIHVzaW5nIGZvciBib3RoIHRlc3RpbmcgYW5kIHByb2R1Y3Rpb24uXG4gICAqICAgICAgIChpLmUuIHJlYWN0LXRlc3QtcmVuZGVyID0+IFwiMTYuMy4yXCIsIHJlYWN0ID0+IFwiMTYuMi4wXCIpLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FpcmJuYi9lbnp5bWUvYmxvYi9tYXN0ZXIvcGFja2FnZXMvZW56eW1lLWFkYXB0ZXItcmVhY3QtMTYvcGFja2FnZS5qc29uI0w0My5cbiAgICovXG4gIHN0YXRpYyBnZXROZXh0U3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICBjb25zdCB7IGltYWdlIH0gPSBuZXh0UHJvcHMubGluaztcbiAgICBjb25zdCBpbWFnZUluU3RhdGUgPSBTY3JlZW5zaG90VXRpbHMuaXNSZW1vdGVJbWFnZUxvY2FsKFxuICAgICAgcHJldlN0YXRlLmNhcmRJbWFnZSxcbiAgICAgIGltYWdlXG4gICAgKTtcbiAgICBsZXQgbmV4dFN0YXRlID0gbnVsbDtcblxuICAgIC8vIEltYWdlIGlzIHVwZGF0aW5nLlxuICAgIGlmICghaW1hZ2VJblN0YXRlICYmIG5leHRQcm9wcy5saW5rKSB7XG4gICAgICBuZXh0U3RhdGUgPSB7IGltYWdlTG9hZGVkOiBmYWxzZSB9O1xuICAgIH1cblxuICAgIGlmIChpbWFnZUluU3RhdGUpIHtcbiAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgfVxuXG4gICAgLy8gU2luY2UgaW1hZ2Ugd2FzIHVwZGF0ZWQsIGF0dGVtcHQgdG8gcmV2b2tlIG9sZCBpbWFnZSBibG9iIFVSTCwgaWYgaXQgZXhpc3RzLlxuICAgIFNjcmVlbnNob3RVdGlscy5tYXliZVJldm9rZUJsb2JPYmplY3RVUkwocHJldlN0YXRlLmNhcmRJbWFnZSk7XG5cbiAgICBuZXh0U3RhdGUgPSBuZXh0U3RhdGUgfHwge307XG4gICAgbmV4dFN0YXRlLmNhcmRJbWFnZSA9IFNjcmVlbnNob3RVdGlscy5jcmVhdGVMb2NhbEltYWdlT2JqZWN0KGltYWdlKTtcblxuICAgIHJldHVybiBuZXh0U3RhdGU7XG4gIH1cblxuICBvbk1lbnVCdXR0b25VcGRhdGUoaXNPcGVuKSB7XG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGl2ZUNhcmQ6IHRoaXMucHJvcHMuaW5kZXggfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3RpdmVDYXJkOiBudWxsIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBvcnQgdG8gdGVsZW1ldHJ5IGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGl0ZW0uXG4gICAqL1xuICBfZ2V0VGVsZW1ldHJ5SW5mbygpIHtcbiAgICAvLyBGaWx0ZXIgb3V0IFwiaGlzdG9yeVwiIHR5cGUgZm9yIGJlaW5nIHRoZSBkZWZhdWx0XG4gICAgaWYgKHRoaXMucHJvcHMubGluay50eXBlICE9PSBcImhpc3RvcnlcIikge1xuICAgICAgcmV0dXJuIHsgdmFsdWU6IHsgY2FyZF90eXBlOiB0aGlzLnByb3BzLmxpbmsudHlwZSB9IH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBvbkxpbmtDbGljayhldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgeyBhbHRLZXksIGJ1dHRvbiwgY3RybEtleSwgbWV0YUtleSwgc2hpZnRLZXkgfSA9IGV2ZW50O1xuICAgIGlmICh0aGlzLnByb3BzLmxpbmsudHlwZSA9PT0gXCJkb3dubG9hZFwiKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5PUEVOX0RPV05MT0FEX0ZJTEUsXG4gICAgICAgICAgZGF0YTogT2JqZWN0LmFzc2lnbih0aGlzLnByb3BzLmxpbmssIHtcbiAgICAgICAgICAgIGV2ZW50OiB7IGJ1dHRvbiwgY3RybEtleSwgbWV0YUtleSwgc2hpZnRLZXkgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0Lk9QRU5fTElOSyxcbiAgICAgICAgICBkYXRhOiBPYmplY3QuYXNzaWduKHRoaXMucHJvcHMubGluaywge1xuICAgICAgICAgICAgZXZlbnQ6IHsgYWx0S2V5LCBidXR0b24sIGN0cmxLZXksIG1ldGFLZXksIHNoaWZ0S2V5IH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5pc1dlYkV4dGVuc2lvbikge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuV2ViRXh0RXZlbnQoYXQuV0VCRVhUX0NMSUNLLCB7XG4gICAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLmV2ZW50U291cmNlLFxuICAgICAgICAgIHVybDogdGhpcy5wcm9wcy5saW5rLnVybCxcbiAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMuaW5kZXgsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoXG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLmV2ZW50U291cmNlLFxuICAgICAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMuaW5kZXgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGhpcy5fZ2V0VGVsZW1ldHJ5SW5mbygpXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5zaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzKSB7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5wcm9wcy5ldmVudFNvdXJjZSxcbiAgICAgICAgICAgIGNsaWNrOiAwLFxuICAgICAgICAgICAgdGlsZXM6IFt7IGlkOiB0aGlzLnByb3BzLmxpbmsuZ3VpZCwgcG9zOiB0aGlzLnByb3BzLmluZGV4IH1dLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5tYXliZUxvYWRJbWFnZSgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMubWF5YmVMb2FkSW1hZ2UoKTtcbiAgfVxuXG4gIC8vIE5PVEU6IFJlbW92ZSB0aGlzIGZ1bmN0aW9uIHdoZW4gd2UgdXBkYXRlIFJlYWN0IHRvID49IDE2LjMgc2luY2UgUmVhY3Qgd2lsbFxuICAvLyAgICAgICBjYWxsIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyBhdXRvbWF0aWNhbGx5LiBXZSB3aWxsIGFsc28gbmVlZCB0b1xuICAvLyAgICAgICByZW5hbWUgZ2V0TmV4dFN0YXRlRnJvbVByb3BzIHRvIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IF9DYXJkLmdldE5leHRTdGF0ZUZyb21Qcm9wcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlKTtcbiAgICBpZiAobmV4dFN0YXRlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKG5leHRTdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gTk9URTogUmVtb3ZlIHRoaXMgZnVuY3Rpb24gd2hlbiB3ZSB1cGRhdGUgUmVhY3QgdG8gPj0gMTYuMyBzaW5jZSBSZWFjdCB3aWxsXG4gIC8vICAgICAgIGNhbGwgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIGF1dG9tYXRpY2FsbHkuIFdlIHdpbGwgYWxzbyBuZWVkIHRvXG4gIC8vICAgICAgIHJlbmFtZSBnZXROZXh0U3RhdGVGcm9tUHJvcHMgdG8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLlxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IF9DYXJkLmdldE5leHRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHRoaXMuc3RhdGUpO1xuICAgIGlmIChuZXh0U3RhdGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBTY3JlZW5zaG90VXRpbHMubWF5YmVSZXZva2VCbG9iT2JqZWN0VVJMKHRoaXMuc3RhdGUuY2FyZEltYWdlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBpbmRleCxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGxpbmssXG4gICAgICBkaXNwYXRjaCxcbiAgICAgIGNvbnRleHRNZW51T3B0aW9ucyxcbiAgICAgIGV2ZW50U291cmNlLFxuICAgICAgc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cyxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHRpdGxlID0gbGluay50aXRsZSB8fCBsaW5rLmhvc3RuYW1lO1xuICAgIGNvbnN0IGlzQ29udGV4dE1lbnVPcGVuID0gdGhpcy5zdGF0ZS5hY3RpdmVDYXJkID09PSBpbmRleDtcbiAgICAvLyBEaXNwbGF5IFwibm93XCIgYXMgXCJ0cmVuZGluZ1wiIHVudGlsIHdlIGhhdmUgbmV3IHN0cmluZ3MgIzM0MDJcbiAgICBjb25zdCB7IGljb24sIGZsdWVudElEIH0gPVxuICAgICAgY2FyZENvbnRleHRUeXBlc1tsaW5rLnR5cGUgPT09IFwibm93XCIgPyBcInRyZW5kaW5nXCIgOiBsaW5rLnR5cGVdIHx8IHt9O1xuICAgIGNvbnN0IGhhc0ltYWdlID0gdGhpcy5zdGF0ZS5jYXJkSW1hZ2UgfHwgbGluay5oYXNJbWFnZTtcbiAgICBjb25zdCBpbWFnZVN0eWxlID0ge1xuICAgICAgYmFja2dyb3VuZEltYWdlOiB0aGlzLnN0YXRlLmNhcmRJbWFnZVxuICAgICAgICA/IGB1cmwoJHt0aGlzLnN0YXRlLmNhcmRJbWFnZS51cmx9KWBcbiAgICAgICAgOiBcIm5vbmVcIixcbiAgICB9O1xuICAgIGNvbnN0IG91dGVyQ2xhc3NOYW1lID0gW1xuICAgICAgXCJjYXJkLW91dGVyXCIsXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBpc0NvbnRleHRNZW51T3BlbiAmJiBcImFjdGl2ZVwiLFxuICAgICAgcHJvcHMucGxhY2Vob2xkZXIgJiYgXCJwbGFjZWhvbGRlclwiLFxuICAgIF1cbiAgICAgIC5maWx0ZXIodiA9PiB2KVxuICAgICAgLmpvaW4oXCIgXCIpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9e291dGVyQ2xhc3NOYW1lfT5cbiAgICAgICAgPGFcbiAgICAgICAgICBocmVmPXtsaW5rLnR5cGUgPT09IFwicG9ja2V0XCIgPyBsaW5rLm9wZW5fdXJsIDogbGluay51cmx9XG4gICAgICAgICAgb25DbGljaz17IXByb3BzLnBsYWNlaG9sZGVyID8gdGhpcy5vbkxpbmtDbGljayA6IHVuZGVmaW5lZH1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXByZXZpZXctaW1hZ2Utb3V0ZXJcIj5cbiAgICAgICAgICAgICAge2hhc0ltYWdlICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjYXJkLXByZXZpZXctaW1hZ2Uke1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmltYWdlTG9hZGVkID8gXCIgbG9hZGVkXCIgOiBcIlwiXG4gICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXtpbWFnZVN0eWxlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1kZXRhaWxzXCI+XG4gICAgICAgICAgICAgIHtsaW5rLnR5cGUgPT09IFwiZG93bmxvYWRcIiAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FyZC1ob3N0LW5hbWUgYWx0ZXJuYXRlXCJcbiAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1tZW51LW9wZW4tZmlsZVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2xpbmsuaG9zdG5hbWUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ob3N0LW5hbWVcIj5cbiAgICAgICAgICAgICAgICAgIHtsaW5rLmhvc3RuYW1lLnNsaWNlKDAsIDEwMCl9XG4gICAgICAgICAgICAgICAgICB7bGluay50eXBlID09PSBcImRvd25sb2FkXCIgJiYgYCAgXFx1MjAxNCAke2xpbmsuZGVzY3JpcHRpb259YH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17W1xuICAgICAgICAgICAgICAgICAgXCJjYXJkLXRleHRcIixcbiAgICAgICAgICAgICAgICAgIGljb24gPyBcIlwiIDogXCJuby1jb250ZXh0XCIsXG4gICAgICAgICAgICAgICAgICBsaW5rLmRlc2NyaXB0aW9uID8gXCJcIiA6IFwibm8tZGVzY3JpcHRpb25cIixcbiAgICAgICAgICAgICAgICAgIGxpbmsuaG9zdG5hbWUgPyBcIlwiIDogXCJuby1ob3N0LW5hbWVcIixcbiAgICAgICAgICAgICAgICBdLmpvaW4oXCIgXCIpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIiBkaXI9XCJhdXRvXCI+XG4gICAgICAgICAgICAgICAgICB7bGluay50aXRsZX1cbiAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImNhcmQtZGVzY3JpcHRpb25cIiBkaXI9XCJhdXRvXCI+XG4gICAgICAgICAgICAgICAgICB7bGluay5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtY29udGV4dFwiPlxuICAgICAgICAgICAgICAgIHtpY29uICYmICFsaW5rLmNvbnRleHQgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjYXJkLWNvbnRleHQtaWNvbiBpY29uIGljb24tJHtpY29ufWB9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge2xpbmsuaWNvbiAmJiBsaW5rLmNvbnRleHQgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYXJkLWNvbnRleHQtaWNvbiBpY29uXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBgdXJsKCcke2xpbmsuaWNvbn0nKWAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7Zmx1ZW50SUQgJiYgIWxpbmsuY29udGV4dCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtY29udGV4dC1sYWJlbFwiIGRhdGEtbDEwbi1pZD17Zmx1ZW50SUR9IC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bGluay5jb250ZXh0ICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1jb250ZXh0LWxhYmVsXCI+e2xpbmsuY29udGV4dH08L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2E+XG4gICAgICAgIHshcHJvcHMucGxhY2Vob2xkZXIgJiYgKFxuICAgICAgICAgIDxDb250ZXh0TWVudUJ1dHRvblxuICAgICAgICAgICAgdG9vbHRpcD1cIm5ld3RhYi1tZW51LWNvbnRlbnQtdG9vbHRpcFwiXG4gICAgICAgICAgICB0b29sdGlwQXJncz17eyB0aXRsZSB9fVxuICAgICAgICAgICAgb25VcGRhdGU9e3RoaXMub25NZW51QnV0dG9uVXBkYXRlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxMaW5rTWVudVxuICAgICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgICAgc291cmNlPXtldmVudFNvdXJjZX1cbiAgICAgICAgICAgICAgb3B0aW9ucz17bGluay5jb250ZXh0TWVudU9wdGlvbnMgfHwgY29udGV4dE1lbnVPcHRpb25zfVxuICAgICAgICAgICAgICBzaXRlPXtsaW5rfVxuICAgICAgICAgICAgICBzaXRlSW5mbz17dGhpcy5fZ2V0VGVsZW1ldHJ5SW5mbygpfVxuICAgICAgICAgICAgICBzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzPXtzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0NvbnRleHRNZW51QnV0dG9uPlxuICAgICAgICApfVxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5fQ2FyZC5kZWZhdWx0UHJvcHMgPSB7IGxpbms6IHt9IH07XG5leHBvcnQgY29uc3QgQ2FyZCA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgcGxhdGZvcm06IHN0YXRlLlByZWZzLnZhbHVlcy5wbGF0Zm9ybSxcbn0pKShfQ2FyZCk7XG5leHBvcnQgY29uc3QgUGxhY2Vob2xkZXJDYXJkID0gcHJvcHMgPT4gKFxuICA8Q2FyZCBwbGFjZWhvbGRlcj17dHJ1ZX0gY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9IC8+XG4pO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuLyoqXG4gKiBMaXN0IG9mIGhlbHBlciBmdW5jdGlvbnMgZm9yIHNjcmVlbnNob3QtYmFzZWQgaW1hZ2VzLlxuICpcbiAqIFRoZXJlIGFyZSB0d28ga2luZHMgb2YgaW1hZ2VzOlxuICogMS4gUmVtb3RlIEltYWdlOiBUaGlzIGlzIHRoZSBpbWFnZSBmcm9tIHRoZSBtYWluIHByb2Nlc3MgYW5kIGl0IHJlZmVycyB0b1xuICogICAgdGhlIGltYWdlIGluIHRoZSBSZWFjdCBwcm9wcy4gVGhpcyBjYW4gZWl0aGVyIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBgZGF0YWBcbiAqICAgIGFuZCBgcGF0aGAgcHJvcGVydGllcywgaWYgaXQgaXMgYSBibG9iLCBvciBhIHN0cmluZywgaWYgaXQgaXMgYSBub3JtYWwgaW1hZ2UuXG4gKiAyLiBMb2NhbCBJbWFnZTogVGhpcyBpcyB0aGUgaW1hZ2Ugb2JqZWN0IGluIHRoZSBjb250ZW50IHByb2Nlc3MgYW5kIGl0IHJlZmVyc1xuICogICAgdG8gdGhlIGltYWdlICpvYmplY3QqIGluIHRoZSBSZWFjdCBjb21wb25lbnQncyBzdGF0ZS4gQWxsIGxvY2FsIGltYWdlXG4gKiAgICBvYmplY3RzIGhhdmUgdGhlIGB1cmxgIHByb3BlcnR5LCBhbmQgYW4gYWRkaXRpb25hbCBwcm9wZXJ0eSBgcGF0aGAsIGlmIHRoZXlcbiAqICAgIGFyZSBibG9icy5cbiAqL1xuZXhwb3J0IGNvbnN0IFNjcmVlbnNob3RVdGlscyA9IHtcbiAgaXNCbG9iKGlzTG9jYWwsIGltYWdlKSB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgaW1hZ2UgJiZcbiAgICAgIGltYWdlLnBhdGggJiZcbiAgICAgICgoIWlzTG9jYWwgJiYgaW1hZ2UuZGF0YSkgfHwgKGlzTG9jYWwgJiYgaW1hZ2UudXJsKSlcbiAgICApO1xuICB9LFxuXG4gIC8vIFRoaXMgc2hvdWxkIGFsd2F5cyBiZSBjYWxsZWQgd2l0aCBhIHJlbW90ZSBpbWFnZSBhbmQgbm90IGEgbG9jYWwgaW1hZ2UuXG4gIGNyZWF0ZUxvY2FsSW1hZ2VPYmplY3QocmVtb3RlSW1hZ2UpIHtcbiAgICBpZiAoIXJlbW90ZUltYWdlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNCbG9iKGZhbHNlLCByZW1vdGVJbWFnZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVybDogZ2xvYmFsLlVSTC5jcmVhdGVPYmplY3RVUkwocmVtb3RlSW1hZ2UuZGF0YSksXG4gICAgICAgIHBhdGg6IHJlbW90ZUltYWdlLnBhdGgsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyB1cmw6IHJlbW90ZUltYWdlIH07XG4gIH0sXG5cbiAgLy8gUmV2b2tlcyB0aGUgb2JqZWN0IFVSTCBvZiB0aGUgaW1hZ2UgaWYgdGhlIGxvY2FsIGltYWdlIGlzIGEgYmxvYi5cbiAgLy8gVGhpcyBzaG91bGQgYWx3YXlzIGJlIGNhbGxlZCB3aXRoIGEgbG9jYWwgaW1hZ2UgYW5kIG5vdCBhIHJlbW90ZSBpbWFnZS5cbiAgbWF5YmVSZXZva2VCbG9iT2JqZWN0VVJMKGxvY2FsSW1hZ2UpIHtcbiAgICBpZiAodGhpcy5pc0Jsb2IodHJ1ZSwgbG9jYWxJbWFnZSkpIHtcbiAgICAgIGdsb2JhbC5VUkwucmV2b2tlT2JqZWN0VVJMKGxvY2FsSW1hZ2UudXJsKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQ2hlY2tzIGlmIHJlbW90ZUltYWdlIGFuZCBsb2NhbEltYWdlIGFyZSB0aGUgc2FtZS5cbiAgaXNSZW1vdGVJbWFnZUxvY2FsKGxvY2FsSW1hZ2UsIHJlbW90ZUltYWdlKSB7XG4gICAgLy8gQm90aCByZW1vdGVJbWFnZSBhbmQgbG9jYWxJbWFnZSBhcmUgcHJlc2VudC5cbiAgICBpZiAocmVtb3RlSW1hZ2UgJiYgbG9jYWxJbWFnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNCbG9iKGZhbHNlLCByZW1vdGVJbWFnZSlcbiAgICAgICAgPyBsb2NhbEltYWdlLnBhdGggPT09IHJlbW90ZUltYWdlLnBhdGhcbiAgICAgICAgOiBsb2NhbEltYWdlLnVybCA9PT0gcmVtb3RlSW1hZ2U7XG4gICAgfVxuXG4gICAgLy8gVGhpcyB3aWxsIG9ubHkgaGFuZGxlIHRoZSByZW1haW5pbmcgdGhyZWUgcG9zc2libGUgb3V0Y29tZXMuXG4gICAgLy8gKGkuZS4gZXZlcnl0aGluZyBleGNlcHQgd2hlbiBib3RoIGltYWdlIGFuZCBsb2NhbEltYWdlIGFyZSBwcmVzZW50KVxuICAgIHJldHVybiAhcmVtb3RlSW1hZ2UgJiYgIWxvY2FsSW1hZ2U7XG4gIH0sXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgcGVyZlNlcnZpY2UgYXMgcGVyZlN2YyB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvcGVyZi1zZXJ2aWNlXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbi8vIEN1cnJlbnRseSByZWNvcmQgb25seSBhIGZpeGVkIHNldCBvZiBzZWN0aW9ucy4gVGhpcyB3aWxsIHByZXZlbnQgZGF0YVxuLy8gZnJvbSBjdXN0b20gc2VjdGlvbnMgZnJvbSBzaG93aW5nIHVwIG9yIGZyb20gdG9wc3Rvcmllcy5cbmNvbnN0IFJFQ09SREVEX1NFQ1RJT05TID0gW1wiaGlnaGxpZ2h0c1wiLCBcInRvcHNpdGVzXCJdO1xuXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50UGVyZlRpbWVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgLy8gSnVzdCBmb3IgdGVzdCBkZXBlbmRlbmN5IGluamVjdGlvbjpcbiAgICB0aGlzLnBlcmZTdmMgPSB0aGlzLnByb3BzLnBlcmZTdmMgfHwgcGVyZlN2YztcblxuICAgIHRoaXMuX3NlbmRCYWRTdGF0ZUV2ZW50ID0gdGhpcy5fc2VuZEJhZFN0YXRlRXZlbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9zZW5kUGFpbnRlZEV2ZW50ID0gdGhpcy5fc2VuZFBhaW50ZWRFdmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3JlcG9ydE1pc3NpbmdEYXRhID0gZmFsc2U7XG4gICAgdGhpcy5fdGltZXN0YW1wSGFuZGxlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3JlY29yZGVkRmlyc3RSZW5kZXIgPSBmYWxzZTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICghUkVDT1JERURfU0VDVElPTlMuaW5jbHVkZXModGhpcy5wcm9wcy5pZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9tYXliZVNlbmRQYWludGVkRXZlbnQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBpZiAoIVJFQ09SREVEX1NFQ1RJT05TLmluY2x1ZGVzKHRoaXMucHJvcHMuaWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fbWF5YmVTZW5kUGFpbnRlZEV2ZW50KCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbCB0aGUgZ2l2ZW4gY2FsbGJhY2sgYWZ0ZXIgdGhlIHVwY29taW5nIGZyYW1lIHBhaW50cy5cbiAgICpcbiAgICogQG5vdGUgQm90aCBzZXRUaW1lb3V0IGFuZCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgYXJlIHRocm90dGxlZCB3aGVuIHRoZSBwYWdlXG4gICAqIGlzIGhpZGRlbiwgc28gdGhpcyBjYWxsYmFjayBtYXkgZ2V0IGNhbGxlZCB1cCB0byBhIHNlY29uZCBvciBzbyBhZnRlciB0aGVcbiAgICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lIFwicGFpbnRcIiBmb3IgaGlkZGVuIHRhYnMuXG4gICAqXG4gICAqIE5ld3RhYnMgaGlkZGVuIHdoaWxlIGxvYWRpbmcgd2lsbCBwcmVzdW1hYmx5IGJlIGZhaXJseSByYXJlIChvdGhlciB0aGFuXG4gICAqIHByZWxvYWRlZCB0YWJzLCB3aGljaCB3ZSB3aWxsIGJlIGZpbHRlcmluZyBvdXQgb24gdGhlIHNlcnZlciBzaWRlKSwgc28gc3VjaFxuICAgKiBjYXNlcyBzaG91bGQgZ2V0IGxvc3QgaW4gdGhlIG5vaXNlLlxuICAgKlxuICAgKiBJZiB3ZSBkZWNpZGUgdGhhdCBpdCdzIGltcG9ydGFudCB0byBmaW5kIG91dCB3aGVuIHNvbWV0aGluZyB0aGF0J3MgaGlkZGVuXG4gICAqIGhhcyBcInBhaW50ZWRcIiwgaG93ZXZlciwgYW5vdGhlciBvcHRpb24gaXMgdG8gcG9zdCBhIG1lc3NhZ2UgdG8gdGhpcyB3aW5kb3cuXG4gICAqIFRoYXQgc2hvdWxkIGhhcHBlbiBldmVuIGZhc3RlciB0aGFuIHNldFRpbWVvdXQsIGFuZCwgYXQgbGVhc3QgYXMgb2YgdGhpc1xuICAgKiB3cml0aW5nLCBpdCdzIG5vdCB0aHJvdHRsZWQgaW4gaGlkZGVuIHdpbmRvd3MgaW4gRmlyZWZveC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICpcbiAgICogQHJldHVybnMgdm9pZFxuICAgKi9cbiAgX2FmdGVyRnJhbWVQYWludChjYWxsYmFjaykge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKSk7XG4gIH1cblxuICBfbWF5YmVTZW5kQmFkU3RhdGVFdmVudCgpIHtcbiAgICAvLyBGb2xsb3cgdXAgYnVnczpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9hY3Rpdml0eS1zdHJlYW0vaXNzdWVzLzM2OTFcbiAgICBpZiAoIXRoaXMucHJvcHMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIC8vIFJlbWVtYmVyIHRvIHJlcG9ydCBiYWNrIHdoZW4gZGF0YSBpcyBhdmFpbGFibGUuXG4gICAgICB0aGlzLl9yZXBvcnRNaXNzaW5nRGF0YSA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9yZXBvcnRNaXNzaW5nRGF0YSkge1xuICAgICAgdGhpcy5fcmVwb3J0TWlzc2luZ0RhdGEgPSBmYWxzZTtcbiAgICAgIC8vIFJlcG9ydCBob3cgbG9uZyBpdCB0b29rIGZvciBjb21wb25lbnQgdG8gYmVjb21lIGluaXRpYWxpemVkLlxuICAgICAgdGhpcy5fc2VuZEJhZFN0YXRlRXZlbnQoKTtcbiAgICB9XG4gIH1cblxuICBfbWF5YmVTZW5kUGFpbnRlZEV2ZW50KCkge1xuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCBhIHRpbWVzdGFtcCwgZG9uJ3QgZG8gaXQgYWdhaW4uXG4gICAgaWYgKHRoaXMuX3RpbWVzdGFtcEhhbmRsZWQgfHwgIXRoaXMucHJvcHMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBbmQgaWYgd2UgaGF2ZW4ndCwgd2UncmUgZG9pbmcgc28gbm93LCBzbyByZW1lbWJlciB0aGF0LiBFdmVuIGlmXG4gICAgLy8gc29tZXRoaW5nIGdvZXMgd3JvbmcgaW4gdGhlIGNhbGxiYWNrLCB3ZSBjYW4ndCB0cnkgYWdhaW4sIGFzIHdlJ2QgYmVcbiAgICAvLyBzZW5kaW5nIGJhY2sgdGhlIHdyb25nIGRhdGEsIGFuZCB3ZSBoYXZlIHRvIGRvIGl0IGhlcmUsIHNvIHRoYXQgb3RoZXJcbiAgICAvLyBjYWxscyB0byB0aGlzIG1ldGhvZCB3aGlsZSB3YWl0aW5nIGZvciB0aGUgbmV4dCBmcmFtZSB3b24ndCBhbHNvIHRyeSB0b1xuICAgIC8vIGhhbmRsZSBpdC5cbiAgICB0aGlzLl90aW1lc3RhbXBIYW5kbGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9hZnRlckZyYW1lUGFpbnQodGhpcy5fc2VuZFBhaW50ZWRFdmVudCk7XG4gIH1cblxuICAvKipcbiAgICogVHJpZ2dlcmVkIGJ5IGNhbGwgdG8gcmVuZGVyLiBPbmx5IGZpcnN0IGNhbGwgZ29lcyB0aHJvdWdoIGR1ZSB0b1xuICAgKiBgX3JlY29yZGVkRmlyc3RSZW5kZXJgLlxuICAgKi9cbiAgX2Vuc3VyZUZpcnN0UmVuZGVyVHNSZWNvcmRlZCgpIHtcbiAgICAvLyBVc2VkIGFzIHQwIGZvciByZWNvcmRpbmcgaG93IGxvbmcgY29tcG9uZW50IHRvb2sgdG8gaW5pdGlhbGl6ZS5cbiAgICBpZiAoIXRoaXMuX3JlY29yZGVkRmlyc3RSZW5kZXIpIHtcbiAgICAgIHRoaXMuX3JlY29yZGVkRmlyc3RSZW5kZXIgPSB0cnVlO1xuICAgICAgLy8gdG9wc2l0ZXNfZmlyc3RfcmVuZGVyX3RzLCBoaWdobGlnaHRzX2ZpcnN0X3JlbmRlcl90cy5cbiAgICAgIGNvbnN0IGtleSA9IGAke3RoaXMucHJvcHMuaWR9X2ZpcnN0X3JlbmRlcl90c2A7XG4gICAgICB0aGlzLnBlcmZTdmMubWFyayhrZXkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGBTQVZFX1NFU1NJT05fUEVSRl9EQVRBYCB3aXRoIHRpbWVzdGFtcCBpbiBtc1xuICAgKiBvZiBob3cgbXVjaCBsb25nZXIgdGhlIGRhdGEgdG9vayB0byBiZSByZWFkeSBmb3IgZGlzcGxheSB0aGFuIGl0IHdvdWxkXG4gICAqIGhhdmUgYmVlbiB0aGUgaWRlYWwgY2FzZS5cbiAgICogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvcGluZy1jZW50cmUvaXNzdWVzLzk4XG4gICAqL1xuICBfc2VuZEJhZFN0YXRlRXZlbnQoKSB7XG4gICAgLy8gaGlnaGxpZ2h0c19kYXRhX3JlYWR5X3RzLCB0b3BzaXRlc19kYXRhX3JlYWR5X3RzLlxuICAgIGNvbnN0IGRhdGFSZWFkeUtleSA9IGAke3RoaXMucHJvcHMuaWR9X2RhdGFfcmVhZHlfdHNgO1xuICAgIHRoaXMucGVyZlN2Yy5tYXJrKGRhdGFSZWFkeUtleSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZmlyc3RSZW5kZXJLZXkgPSBgJHt0aGlzLnByb3BzLmlkfV9maXJzdF9yZW5kZXJfdHNgO1xuICAgICAgLy8gdmFsdWUgaGFzIHRvIGJlIEludDMyLlxuICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUludChcbiAgICAgICAgdGhpcy5wZXJmU3ZjLmdldE1vc3RSZWNlbnRBYnNNYXJrU3RhcnRCeU5hbWUoZGF0YVJlYWR5S2V5KSAtXG4gICAgICAgICAgdGhpcy5wZXJmU3ZjLmdldE1vc3RSZWNlbnRBYnNNYXJrU3RhcnRCeU5hbWUoZmlyc3RSZW5kZXJLZXkpLFxuICAgICAgICAxMFxuICAgICAgKTtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LlNBVkVfU0VTU0lPTl9QRVJGX0RBVEEsXG4gICAgICAgICAgLy8gaGlnaGxpZ2h0c19kYXRhX2xhdGVfYnlfbXMsIHRvcHNpdGVzX2RhdGFfbGF0ZV9ieV9tcy5cbiAgICAgICAgICBkYXRhOiB7IFtgJHt0aGlzLnByb3BzLmlkfV9kYXRhX2xhdGVfYnlfbXNgXTogdmFsdWUgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIC8vIElmIHRoaXMgZmFpbGVkLCBpdCdzIGxpa2VseSBiZWNhdXNlIHRoZSBgcHJpdmFjeS5yZXNpc3RGaW5nZXJwcmludGluZ2BcbiAgICAgIC8vIHByZWYgaXMgdHJ1ZS5cbiAgICB9XG4gIH1cblxuICBfc2VuZFBhaW50ZWRFdmVudCgpIHtcbiAgICAvLyBSZWNvcmQgZmlyc3RfcGFpbnRlZCBldmVudCBidXQgb25seSBzZW5kIGlmIHRvcHNpdGVzLlxuICAgIGlmICh0aGlzLnByb3BzLmlkICE9PSBcInRvcHNpdGVzXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB0b3BzaXRlc19maXJzdF9wYWludGVkX3RzLlxuICAgIGNvbnN0IGtleSA9IGAke3RoaXMucHJvcHMuaWR9X2ZpcnN0X3BhaW50ZWRfdHNgO1xuICAgIHRoaXMucGVyZlN2Yy5tYXJrKGtleSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgZGF0YVtrZXldID0gdGhpcy5wZXJmU3ZjLmdldE1vc3RSZWNlbnRBYnNNYXJrU3RhcnRCeU5hbWUoa2V5KTtcblxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuU0FWRV9TRVNTSU9OX1BFUkZfREFUQSxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgLy8gSWYgdGhpcyBmYWlsZWQsIGl0J3MgbGlrZWx5IGJlY2F1c2UgdGhlIGBwcml2YWN5LnJlc2lzdEZpbmdlcnByaW50aW5nYFxuICAgICAgLy8gcHJlZiBpcyB0cnVlLiAgV2Ugc2hvdWxkIGF0IGxlYXN0IG5vdCBibG93IHVwLCBhbmQgc2hvdWxkIGNvbnRpbnVlXG4gICAgICAvLyB0byBzZXQgdGhpcy5fdGltZXN0YW1wSGFuZGxlZCB0byBhdm9pZCBnb2luZyB0aHJvdWdoIHRoaXMgYWdhaW4uXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmIChSRUNPUkRFRF9TRUNUSU9OUy5pbmNsdWRlcyh0aGlzLnByb3BzLmlkKSkge1xuICAgICAgdGhpcy5fZW5zdXJlRmlyc3RSZW5kZXJUc1JlY29yZGVkKCk7XG4gICAgICB0aGlzLl9tYXliZVNlbmRCYWRTdGF0ZUV2ZW50KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxubGV0IHVzYWJsZVBlcmZPYmogPSB3aW5kb3cucGVyZm9ybWFuY2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBfUGVyZlNlcnZpY2Uob3B0aW9ucykge1xuICAvLyBGb3IgdGVzdGluZywgc28gdGhhdCB3ZSBjYW4gdXNlIGEgZmFrZSBXaW5kb3cucGVyZm9ybWFuY2Ugb2JqZWN0IHdpdGhcbiAgLy8ga25vd24gc3RhdGUuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMucGVyZm9ybWFuY2VPYmopIHtcbiAgICB0aGlzLl9wZXJmID0gb3B0aW9ucy5wZXJmb3JtYW5jZU9iajtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9wZXJmID0gdXNhYmxlUGVyZk9iajtcbiAgfVxufVxuXG5fUGVyZlNlcnZpY2UucHJvdG90eXBlID0ge1xuICAvKipcbiAgICogQ2FsbHMgdGhlIHVuZGVybHlpbmcgbWFyaygpIG1ldGhvZCBvbiB0aGUgYXBwcm9wcmlhdGUgV2luZG93LnBlcmZvcm1hbmNlXG4gICAqIG9iamVjdCB0byBhZGQgYSBtYXJrIHdpdGggdGhlIGdpdmVuIG5hbWUgdG8gdGhlIGFwcHJvcHJpYXRlIHBlcmZvcm1hbmNlXG4gICAqIHRpbWVsaW5lLlxuICAgKlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgIHRoZSBuYW1lIHRvIGdpdmUgdGhlIGN1cnJlbnQgbWFya1xuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgbWFyazogZnVuY3Rpb24gbWFyayhzdHIpIHtcbiAgICB0aGlzLl9wZXJmLm1hcmsoc3RyKTtcbiAgfSxcblxuICAvKipcbiAgICogQ2FsbHMgdGhlIHVuZGVybHlpbmcgZ2V0RW50cmllc0J5TmFtZSBvbiB0aGUgYXBwcm9wcmlhdGUgV2luZG93LnBlcmZvcm1hbmNlXG4gICAqIG9iamVjdC5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZSBlZyBcIm1hcmtcIlxuICAgKiBAcmV0dXJuIHtBcnJheX0gICAgICAgUGVyZm9ybWFuY2UqIG9iamVjdHNcbiAgICovXG4gIGdldEVudHJpZXNCeU5hbWU6IGZ1bmN0aW9uIGdldEVudHJpZXNCeU5hbWUobmFtZSwgdHlwZSkge1xuICAgIHJldHVybiB0aGlzLl9wZXJmLmdldEVudHJpZXNCeU5hbWUobmFtZSwgdHlwZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lT3JpZ2luIHByb3BlcnR5IGZyb20gdGhlIGFwcHJvcHJpYXRlIHBlcmZvcm1hbmNlIG9iamVjdC5cbiAgICogVXNlZCB0byBlbnN1cmUgdGhhdCB0aW1lc3RhbXBzIGZyb20gdGhlIGFkZC1vbiBjb2RlIGFuZCB0aGUgY29udGVudCBjb2RlXG4gICAqIGFyZSBjb21wYXJhYmxlLlxuICAgKlxuICAgKiBAbm90ZSBJZiB0aGlzIGlzIGNhbGxlZCBmcm9tIGEgY29udGV4dCB3aXRob3V0IGEgd2luZG93XG4gICAqIChlZyBhIEpTTSBpbiBjaHJvbWUpLCBpdCB3aWxsIHJldHVybiB0aGUgdGltZU9yaWdpbiBvZiB0aGUgWFVMIGhpZGRlblxuICAgKiB3aW5kb3csIHdoaWNoIGFwcGVhcnMgdG8gYmUgdGhlIGZpcnN0IGNyZWF0ZWQgd2luZG93IChhbmQgdGh1c1xuICAgKiB0aW1lT3JpZ2luKSBpbiB0aGUgYnJvd3Nlci4gIE5vdGUgYWxzbywgaG93ZXZlciwgdGhlcmUgaXMgYWxzbyBhIHByaXZhdGVcbiAgICogaGlkZGVuIHdpbmRvdywgcHJlc3VtYWJseSBmb3IgcHJpdmF0ZSBicm93c2luZywgd2hpY2ggYXBwZWFycyB0byBiZVxuICAgKiBjcmVhdGVkIGR5bmFtaWNhbGx5IGxhdGVyLiAgRXhhY3RseSBob3cvd2hlbiB0aGF0IHNob3dzIHVwIG5lZWRzIHRvIGJlXG4gICAqIGludmVzdGlnYXRlZC5cbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSBBIGRvdWJsZSBvZiBtaWxsaXNlY29uZHMgd2l0aCBhIHByZWNpc2lvbiBvZiAwLjV1cy5cbiAgICovXG4gIGdldCB0aW1lT3JpZ2luKCkge1xuICAgIHJldHVybiB0aGlzLl9wZXJmLnRpbWVPcmlnaW47XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIFwiYWJzb2x1dGVcIiB2ZXJzaW9uIG9mIHBlcmZvcm1hbmNlLm5vdygpLCBpLmUuIG9uZSB0aGF0XG4gICAqIHNob3VsZCAoW2J1ZyAxNDAxNDA2XShodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNDAxNDA2KVxuICAgKiBiZSBjb21wYXJhYmxlIGFjcm9zcyBib3RoIGNocm9tZSBhbmQgY29udGVudC5cbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfVxuICAgKi9cbiAgYWJzTm93OiBmdW5jdGlvbiBhYnNOb3coKSB7XG4gICAgcmV0dXJuIHRoaXMudGltZU9yaWdpbiArIHRoaXMuX3BlcmYubm93KCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgcmV0dXJucyB0aGUgYWJzb2x1dGUgc3RhcnRUaW1lIGZyb20gdGhlIG1vc3QgcmVjZW50IHBlcmZvcm1hbmNlLm1hcmsoKVxuICAgKiB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgIHRoZSBuYW1lIHRvIGxvb2t1cCB0aGUgc3RhcnQgdGltZSBmb3JcbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSAgICAgICB0aGUgcmV0dXJuZWQgc3RhcnQgdGltZSwgYXMgYSBET01IaWdoUmVzVGltZVN0YW1wXG4gICAqXG4gICAqIEB0aHJvd3Mge0Vycm9yfSAgICAgICAgXCJObyBNYXJrcyB3aXRoIHRoZSBuYW1lIC4uLlwiIGlmIG5vbmUgYXJlIGF2YWlsYWJsZVxuICAgKlxuICAgKiBAbm90ZSBBbHdheXMgc3Vycm91bmQgY2FsbHMgdG8gdGhpcyBieSB0cnkvY2F0Y2guICBPdGhlcndpc2UgeW91ciBjb2RlXG4gICAqIG1heSBmYWlsIHdoZW4gdGhlIGBwcml2YWN5LnJlc2lzdEZpbmdlcnByaW50aW5nYCBwcmVmIGlzIHRydWUuICBXaGVuXG4gICAqIHRoaXMgcHJlZiBpcyBzZXQsIGFsbCBhdHRlbXB0cyB0byBnZXQgbWFya3Mgd2lsbCBsaWtlbHkgZmFpbCwgd2hpY2ggd2lsbFxuICAgKiBjYXVzZSB0aGlzIG1ldGhvZCB0byB0aHJvdy5cbiAgICpcbiAgICogU2VlIFtidWcgMTM2OTMwM10oaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2OTMwMylcbiAgICogZm9yIG1vcmUgaW5mby5cbiAgICovXG4gIGdldE1vc3RSZWNlbnRBYnNNYXJrU3RhcnRCeU5hbWUobmFtZSkge1xuICAgIGxldCBlbnRyaWVzID0gdGhpcy5nZXRFbnRyaWVzQnlOYW1lKG5hbWUsIFwibWFya1wiKTtcblxuICAgIGlmICghZW50cmllcy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gbWFya3Mgd2l0aCB0aGUgbmFtZSAke25hbWV9YCk7XG4gICAgfVxuXG4gICAgbGV0IG1vc3RSZWNlbnRFbnRyeSA9IGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gdGhpcy5fcGVyZi50aW1lT3JpZ2luICsgbW9zdFJlY2VudEVudHJ5LnN0YXJ0VGltZTtcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBwZXJmU2VydmljZSA9IG5ldyBfUGVyZlNlcnZpY2UoKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIE1vcmVSZWNvbW1lbmRhdGlvbnMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcmVhZF9tb3JlX2VuZHBvaW50IH0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChyZWFkX21vcmVfZW5kcG9pbnQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxhXG4gICAgICAgICAgY2xhc3NOYW1lPVwibW9yZS1yZWNvbW1lbmRhdGlvbnNcIlxuICAgICAgICAgIGhyZWY9e3JlYWRfbW9yZV9lbmRwb2ludH1cbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcG9ja2V0LW1vcmUtcmVjb21tZW5kYXRpb25zXCJcbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBfUG9ja2V0TG9nZ2VkSW5DdGEgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcG9ja2V0Q3RhIH0gPSB0aGlzLnByb3BzLlBvY2tldDtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicG9ja2V0LWxvZ2dlZC1pbi1jdGFcIj5cbiAgICAgICAgPGFcbiAgICAgICAgICBjbGFzc05hbWU9XCJwb2NrZXQtY3RhLWJ1dHRvblwiXG4gICAgICAgICAgaHJlZj17cG9ja2V0Q3RhLmN0YVVybCA/IHBvY2tldEN0YS5jdGFVcmwgOiBcImh0dHBzOi8vZ2V0cG9ja2V0LmNvbS9cIn1cbiAgICAgICAgPlxuICAgICAgICAgIHtwb2NrZXRDdGEuY3RhQnV0dG9uID8gKFxuICAgICAgICAgICAgcG9ja2V0Q3RhLmN0YUJ1dHRvblxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8c3BhbiBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcG9ja2V0LWN0YS1idXR0b25cIiAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvYT5cblxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9e3BvY2tldEN0YS5jdGFVcmwgPyBwb2NrZXRDdGEuY3RhVXJsIDogXCJodHRwczovL2dldHBvY2tldC5jb20vXCJ9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjdGEtdGV4dFwiPlxuICAgICAgICAgICAge3BvY2tldEN0YS5jdGFUZXh0ID8gKFxuICAgICAgICAgICAgICBwb2NrZXRDdGEuY3RhVGV4dFxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPHNwYW4gZGF0YS1sMTBuLWlkPVwibmV3dGFiLXBvY2tldC1jdGEtdGV4dFwiIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9hPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFBvY2tldExvZ2dlZEluQ3RhID0gY29ubmVjdChzdGF0ZSA9PiAoeyBQb2NrZXQ6IHN0YXRlLlBvY2tldCB9KSkoXG4gIF9Qb2NrZXRMb2dnZWRJbkN0YVxuKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIFRvcGljIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHVybCwgbmFtZSB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YSBrZXk9e25hbWV9IGhyZWY9e3VybH0+XG4gICAgICAgICAge25hbWV9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG9waWNzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHRvcGljcyB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidG9waWNzXCI+XG4gICAgICAgIDxzcGFuIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtcmVhZC1tb3JlXCIgLz5cbiAgICAgICAgPHVsPlxuICAgICAgICAgIHt0b3BpY3MgJiZcbiAgICAgICAgICAgIHRvcGljcy5tYXAodCA9PiA8VG9waWMga2V5PXt0Lm5hbWV9IHVybD17dC51cmx9IG5hbWU9e3QubmFtZX0gLz4pfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IE1JTl9SSUNIX0ZBVklDT05fU0laRSwgVE9QX1NJVEVTX1NPVVJDRSB9IGZyb20gXCIuL1RvcFNpdGVzQ29uc3RhbnRzXCI7XG5pbXBvcnQgeyBDb2xsYXBzaWJsZVNlY3Rpb24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db2xsYXBzaWJsZVNlY3Rpb24vQ29sbGFwc2libGVTZWN0aW9uXCI7XG5pbXBvcnQgeyBDb21wb25lbnRQZXJmVGltZXIgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db21wb25lbnRQZXJmVGltZXIvQ29tcG9uZW50UGVyZlRpbWVyXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBNb2RhbE92ZXJsYXlXcmFwcGVyIH0gZnJvbSBcIi4uLy4uL2Fzcm91dGVyL2NvbXBvbmVudHMvTW9kYWxPdmVybGF5L01vZGFsT3ZlcmxheVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2VhcmNoU2hvcnRjdXRzRm9ybSB9IGZyb20gXCIuL1NlYXJjaFNob3J0Y3V0c0Zvcm1cIjtcbmltcG9ydCB7IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVyB9IGZyb20gXCJjb21tb24vUmVkdWNlcnMuanNtXCI7XG5pbXBvcnQgeyBUb3BTaXRlRm9ybSB9IGZyb20gXCIuL1RvcFNpdGVGb3JtXCI7XG5pbXBvcnQgeyBUb3BTaXRlTGlzdCB9IGZyb20gXCIuL1RvcFNpdGVcIjtcblxuZnVuY3Rpb24gdG9wU2l0ZUljb25UeXBlKGxpbmspIHtcbiAgaWYgKGxpbmsuY3VzdG9tU2NyZWVuc2hvdFVSTCkge1xuICAgIHJldHVybiBcImN1c3RvbV9zY3JlZW5zaG90XCI7XG4gIH1cbiAgaWYgKGxpbmsudGlwcHlUb3BJY29uIHx8IGxpbmsuZmF2aWNvblJlZiA9PT0gXCJ0aXBweXRvcFwiKSB7XG4gICAgcmV0dXJuIFwidGlwcHl0b3BcIjtcbiAgfVxuICBpZiAobGluay5mYXZpY29uU2l6ZSA+PSBNSU5fUklDSF9GQVZJQ09OX1NJWkUpIHtcbiAgICByZXR1cm4gXCJyaWNoX2ljb25cIjtcbiAgfVxuICBpZiAobGluay5zY3JlZW5zaG90KSB7XG4gICAgcmV0dXJuIFwic2NyZWVuc2hvdFwiO1xuICB9XG4gIHJldHVybiBcIm5vX2ltYWdlXCI7XG59XG5cbi8qKlxuICogSXRlcmF0ZXMgdGhyb3VnaCBUb3BTaXRlcyBhbmQgY291bnRzIHR5cGVzIG9mIGltYWdlcy5cbiAqIEBwYXJhbSBhY2MgQWNjdW11bGF0b3IgZm9yIHJlZHVjZXIuXG4gKiBAcGFyYW0gdG9wc2l0ZSBFbnRyeSBpbiBUb3BTaXRlcy5cbiAqL1xuZnVuY3Rpb24gY291bnRUb3BTaXRlc0ljb25zVHlwZXModG9wU2l0ZXMpIHtcbiAgY29uc3QgY291bnRUb3BTaXRlc1R5cGVzID0gKGFjYywgbGluaykgPT4ge1xuICAgIGFjY1t0b3BTaXRlSWNvblR5cGUobGluayldKys7XG4gICAgcmV0dXJuIGFjYztcbiAgfTtcblxuICByZXR1cm4gdG9wU2l0ZXMucmVkdWNlKGNvdW50VG9wU2l0ZXNUeXBlcywge1xuICAgIGN1c3RvbV9zY3JlZW5zaG90OiAwLFxuICAgIHNjcmVlbnNob3Q6IDAsXG4gICAgdGlwcHl0b3A6IDAsXG4gICAgcmljaF9pY29uOiAwLFxuICAgIG5vX2ltYWdlOiAwLFxuICB9KTtcbn1cblxuZXhwb3J0IGNsYXNzIF9Ub3BTaXRlcyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uRWRpdEZvcm1DbG9zZSA9IHRoaXMub25FZGl0Rm9ybUNsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblNlYXJjaFNob3J0Y3V0c0Zvcm1DbG9zZSA9IHRoaXMub25TZWFyY2hTaG9ydGN1dHNGb3JtQ2xvc2UuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoIHNlc3Npb24gc3RhdGlzdGljcyBhYm91dCB0aGUgcXVhbGl0eSBvZiBUb3BTaXRlcyBpY29ucyBhbmQgcGlubmVkIGNvdW50LlxuICAgKi9cbiAgX2Rpc3BhdGNoVG9wU2l0ZXNTdGF0cygpIHtcbiAgICBjb25zdCB0b3BTaXRlcyA9IHRoaXMuX2dldFZpc2libGVUb3BTaXRlcygpLmZpbHRlcihcbiAgICAgIHRvcFNpdGUgPT4gdG9wU2l0ZSAhPT0gbnVsbCAmJiB0b3BTaXRlICE9PSB1bmRlZmluZWRcbiAgICApO1xuICAgIGNvbnN0IHRvcFNpdGVzSWNvbnNTdGF0cyA9IGNvdW50VG9wU2l0ZXNJY29uc1R5cGVzKHRvcFNpdGVzKTtcbiAgICBjb25zdCB0b3BTaXRlc1Bpbm5lZCA9IHRvcFNpdGVzLmZpbHRlcihzaXRlID0+ICEhc2l0ZS5pc1Bpbm5lZCkubGVuZ3RoO1xuICAgIGNvbnN0IHNlYXJjaFNob3J0Y3V0cyA9IHRvcFNpdGVzLmZpbHRlcihzaXRlID0+ICEhc2l0ZS5zZWFyY2hUb3BTaXRlKVxuICAgICAgLmxlbmd0aDtcbiAgICAvLyBEaXNwYXRjaCB0ZWxlbWV0cnkgZXZlbnQgd2l0aCB0aGUgY291bnQgb2YgVG9wU2l0ZXMgaW1hZ2VzIHR5cGVzLlxuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuU0FWRV9TRVNTSU9OX1BFUkZfREFUQSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRvcHNpdGVzX2ljb25fc3RhdHM6IHRvcFNpdGVzSWNvbnNTdGF0cyxcbiAgICAgICAgICB0b3BzaXRlc19waW5uZWQ6IHRvcFNpdGVzUGlubmVkLFxuICAgICAgICAgIHRvcHNpdGVzX3NlYXJjaF9zaG9ydGN1dHM6IHNlYXJjaFNob3J0Y3V0cyxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIFRvcFNpdGVzIHRoYXQgYXJlIHZpc2libGUgYmFzZWQgb24gcHJlZnMgYW5kIHdpbmRvdyB3aWR0aC5cbiAgICovXG4gIF9nZXRWaXNpYmxlVG9wU2l0ZXMoKSB7XG4gICAgLy8gV2UgaGlkZSAyIHNpdGVzIHBlciByb3cgd2hlbiBub3QgaW4gdGhlIHdpZGUgbGF5b3V0LlxuICAgIGxldCBzaXRlc1BlclJvdyA9IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVztcbiAgICAvLyAkYnJlYWstcG9pbnQtd2lkZXN0ID0gMTA3MnB4IChmcm9tIF92YXJpYWJsZXMuc2NzcylcbiAgICBpZiAoIWdsb2JhbC5tYXRjaE1lZGlhKGAobWluLXdpZHRoOiAxMDcycHgpYCkubWF0Y2hlcykge1xuICAgICAgc2l0ZXNQZXJSb3cgLT0gMjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuVG9wU2l0ZXMucm93cy5zbGljZShcbiAgICAgIDAsXG4gICAgICB0aGlzLnByb3BzLlRvcFNpdGVzUm93cyAqIHNpdGVzUGVyUm93XG4gICAgKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB0aGlzLl9kaXNwYXRjaFRvcFNpdGVzU3RhdHMoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuX2Rpc3BhdGNoVG9wU2l0ZXNTdGF0cygpO1xuICB9XG5cbiAgb25FZGl0Rm9ybUNsb3NlKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgIGV2ZW50OiBcIlRPUF9TSVRFU19FRElUX0NMT1NFXCIsXG4gICAgICB9KVxuICAgICk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7IHR5cGU6IGF0LlRPUF9TSVRFU19DQU5DRUxfRURJVCB9KTtcbiAgfVxuXG4gIG9uU2VhcmNoU2hvcnRjdXRzRm9ybUNsb3NlKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgIGV2ZW50OiBcIlNFQVJDSF9FRElUX0NMT1NFXCIsXG4gICAgICB9KVxuICAgICk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7IHR5cGU6IGF0LlRPUF9TSVRFU19DTE9TRV9TRUFSQ0hfU0hPUlRDVVRTX01PREFMIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBlZGl0Rm9ybSwgc2hvd1NlYXJjaFNob3J0Y3V0c0Zvcm0gfSA9IHByb3BzLlRvcFNpdGVzO1xuICAgIGNvbnN0IGV4dHJhTWVudU9wdGlvbnMgPSBbXCJBZGRUb3BTaXRlXCJdO1xuICAgIGNvbnN0IGNvbG9ycyA9IHByb3BzLlByZWZzLnZhbHVlc1tcIm5ld05ld3RhYkV4cGVyaWVuY2UuY29sb3JzXCJdO1xuXG4gICAgaWYgKHByb3BzLlByZWZzLnZhbHVlc1tcImltcHJvdmVzZWFyY2gudG9wU2l0ZVNlYXJjaFNob3J0Y3V0c1wiXSkge1xuICAgICAgZXh0cmFNZW51T3B0aW9ucy5wdXNoKFwiQWRkU2VhcmNoU2hvcnRjdXRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxDb21wb25lbnRQZXJmVGltZXJcbiAgICAgICAgaWQ9XCJ0b3BzaXRlc1wiXG4gICAgICAgIGluaXRpYWxpemVkPXtwcm9wcy5Ub3BTaXRlcy5pbml0aWFsaXplZH1cbiAgICAgICAgZGlzcGF0Y2g9e3Byb3BzLmRpc3BhdGNofVxuICAgICAgPlxuICAgICAgICA8Q29sbGFwc2libGVTZWN0aW9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwidG9wLXNpdGVzXCJcbiAgICAgICAgICBpZD1cInRvcHNpdGVzXCJcbiAgICAgICAgICB0aXRsZT17cHJvcHMudGl0bGUgfHwgeyBpZDogXCJuZXd0YWItc2VjdGlvbi1oZWFkZXItdG9wc2l0ZXNcIiB9fVxuICAgICAgICAgIGhpZGVUaXRsZT17dHJ1ZX1cbiAgICAgICAgICBleHRyYU1lbnVPcHRpb25zPXtleHRyYU1lbnVPcHRpb25zfVxuICAgICAgICAgIHNob3dQcmVmTmFtZT1cImZlZWRzLnRvcHNpdGVzXCJcbiAgICAgICAgICBldmVudFNvdXJjZT17VE9QX1NJVEVTX1NPVVJDRX1cbiAgICAgICAgICBjb2xsYXBzZWQ9e2ZhbHNlfVxuICAgICAgICAgIGlzRml4ZWQ9e3Byb3BzLmlzRml4ZWR9XG4gICAgICAgICAgaXNGaXJzdD17cHJvcHMuaXNGaXJzdH1cbiAgICAgICAgICBpc0xhc3Q9e3Byb3BzLmlzTGFzdH1cbiAgICAgICAgICBkaXNwYXRjaD17cHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgID5cbiAgICAgICAgICA8VG9wU2l0ZUxpc3RcbiAgICAgICAgICAgIFRvcFNpdGVzPXtwcm9wcy5Ub3BTaXRlc31cbiAgICAgICAgICAgIFRvcFNpdGVzUm93cz17cHJvcHMuVG9wU2l0ZXNSb3dzfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3Byb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgdG9wU2l0ZUljb25UeXBlPXt0b3BTaXRlSWNvblR5cGV9XG4gICAgICAgICAgICBjb2xvcnM9e2NvbG9yc31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdC10b3BzaXRlcy13cmFwcGVyXCI+XG4gICAgICAgICAgICB7ZWRpdEZvcm0gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXQtdG9wc2l0ZXNcIj5cbiAgICAgICAgICAgICAgICA8TW9kYWxPdmVybGF5V3JhcHBlclxuICAgICAgICAgICAgICAgICAgdW5zdHlsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLm9uRWRpdEZvcm1DbG9zZX1cbiAgICAgICAgICAgICAgICAgIGlubmVyQ2xhc3NOYW1lPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxUb3BTaXRlRm9ybVxuICAgICAgICAgICAgICAgICAgICBzaXRlPXtwcm9wcy5Ub3BTaXRlcy5yb3dzW2VkaXRGb3JtLmluZGV4XX1cbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5vbkVkaXRGb3JtQ2xvc2V9XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICAgICAgICB7Li4uZWRpdEZvcm19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvTW9kYWxPdmVybGF5V3JhcHBlcj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge3Nob3dTZWFyY2hTaG9ydGN1dHNGb3JtICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0LXNlYXJjaC1zaG9ydGN1dHNcIj5cbiAgICAgICAgICAgICAgICA8TW9kYWxPdmVybGF5V3JhcHBlclxuICAgICAgICAgICAgICAgICAgdW5zdHlsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLm9uU2VhcmNoU2hvcnRjdXRzRm9ybUNsb3NlfVxuICAgICAgICAgICAgICAgICAgaW5uZXJDbGFzc05hbWU9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFNlYXJjaFNob3J0Y3V0c0Zvcm1cbiAgICAgICAgICAgICAgICAgICAgVG9wU2l0ZXM9e3Byb3BzLlRvcFNpdGVzfVxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLm9uU2VhcmNoU2hvcnRjdXRzRm9ybUNsb3NlfVxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Nb2RhbE92ZXJsYXlXcmFwcGVyPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ29sbGFwc2libGVTZWN0aW9uPlxuICAgICAgPC9Db21wb25lbnRQZXJmVGltZXI+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgVG9wU2l0ZXMgPSBjb25uZWN0KChzdGF0ZSwgcHJvcHMpID0+ICh7XG4gIC8vIEZvciBTUE9DIEV4cGVyaW1lbnQgb25seSwgdGFrZSBUb3BTaXRlcyBmcm9tIERpc2NvdmVyeVN0cmVhbSBUb3BTaXRlcyB0aGF0IHRha2VzIGluIFNQT0MgRGF0YVxuICBUb3BTaXRlczogcHJvcHMuVG9wU2l0ZXNXaXRoU3BvYyB8fCBzdGF0ZS5Ub3BTaXRlcyxcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxuICBUb3BTaXRlc1Jvd3M6IHN0YXRlLlByZWZzLnZhbHVlcy50b3BTaXRlc1Jvd3MsXG59KSkoX1RvcFNpdGVzKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmV4cG9ydCBjb25zdCBUT1BfU0lURVNfU09VUkNFID0gXCJUT1BfU0lURVNcIjtcbmV4cG9ydCBjb25zdCBUT1BfU0lURVNfQ09OVEVYVF9NRU5VX09QVElPTlMgPSBbXG4gIFwiQ2hlY2tQaW5Ub3BTaXRlXCIsXG4gIFwiRWRpdFRvcFNpdGVcIixcbiAgXCJTZXBhcmF0b3JcIixcbiAgXCJPcGVuSW5OZXdXaW5kb3dcIixcbiAgXCJPcGVuSW5Qcml2YXRlV2luZG93XCIsXG4gIFwiU2VwYXJhdG9yXCIsXG4gIFwiQmxvY2tVcmxcIixcbiAgXCJEZWxldGVVcmxcIixcbl07XG5leHBvcnQgY29uc3QgVE9QX1NJVEVTX1NQT0NfQ09OVEVYVF9NRU5VX09QVElPTlMgPSBbXG4gIFwiUGluVG9wU2l0ZVwiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIk9wZW5Jbk5ld1dpbmRvd1wiLFxuICBcIk9wZW5JblByaXZhdGVXaW5kb3dcIixcbiAgXCJTZXBhcmF0b3JcIixcbiAgXCJCbG9ja1VybFwiLFxuICBcIlNob3dQcml2YWN5SW5mb1wiLFxuXTtcbmV4cG9ydCBjb25zdCBUT1BfU0lURVNfU1BPTlNPUkVEX1BPU0lUSU9OX0NPTlRFWFRfTUVOVV9PUFRJT05TID0gW1xuICBcIk9wZW5Jbk5ld1dpbmRvd1wiLFxuICBcIk9wZW5JblByaXZhdGVXaW5kb3dcIixcbiAgXCJTZXBhcmF0b3JcIixcbiAgXCJCbG9ja1VybFwiLFxuICBcIkFib3V0U3BvbnNvcmVkXCIsXG5dO1xuLy8gdGhlIHNwZWNpYWwgdG9wIHNpdGUgZm9yIHNlYXJjaCBzaG9ydGN1dCBleHBlcmltZW50IGNhbiBvbmx5IGhhdmUgdGhlIG9wdGlvbiB0byB1bnBpbiAod2hpY2ggcmVtb3ZlcykgdGhlIHRvcHNpdGVcbmV4cG9ydCBjb25zdCBUT1BfU0lURVNfU0VBUkNIX1NIT1JUQ1VUU19DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgXCJDaGVja1BpblRvcFNpdGVcIixcbiAgXCJTZXBhcmF0b3JcIixcbiAgXCJCbG9ja1VybFwiLFxuXTtcbi8vIG1pbmltdW0gc2l6ZSBuZWNlc3NhcnkgdG8gc2hvdyBhIHJpY2ggaWNvbiBpbnN0ZWFkIG9mIGEgc2NyZWVuc2hvdFxuZXhwb3J0IGNvbnN0IE1JTl9SSUNIX0ZBVklDT05fU0laRSA9IDk2O1xuLy8gbWluaW11bSBzaXplIG5lY2Vzc2FyeSB0byBzaG93IGFueSBpY29uXG5leHBvcnQgY29uc3QgTUlOX1NNQUxMX0ZBVklDT05fU0laRSA9IDE2O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVE9QX1NJVEVTX1NPVVJDRSB9IGZyb20gXCIuL1RvcFNpdGVzQ29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RhYmxlU2VhcmNoU2hvcnRjdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgc2hvcnRjdXQsIHNlbGVjdGVkIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGltYWdlU3R5bGUgPSB7IGJhY2tncm91bmRJbWFnZTogYHVybChcIiR7c2hvcnRjdXQudGlwcHlUb3BJY29ufVwiKWAgfTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3Atc2l0ZS1vdXRlciBzZWFyY2gtc2hvcnRjdXRcIj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICBpZD17c2hvcnRjdXQua2V5d29yZH1cbiAgICAgICAgICBuYW1lPXtzaG9ydGN1dC5rZXl3b3JkfVxuICAgICAgICAgIGNoZWNrZWQ9e3NlbGVjdGVkfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uQ2hhbmdlfVxuICAgICAgICAvPlxuICAgICAgICA8bGFiZWwgaHRtbEZvcj17c2hvcnRjdXQua2V5d29yZH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3Atc2l0ZS1pbm5lclwiPlxuICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGlsZVwiPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRvcC1zaXRlLWljb24gcmljaC1pY29uXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXtpbWFnZVN0eWxlfVxuICAgICAgICAgICAgICAgICAgZGF0YS1mYWxsYmFjaz1cIkBcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3Atc2l0ZS1pY29uIHNlYXJjaC10b3BzaXRlXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGl0bGVcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBkaXI9XCJhdXRvXCI+e3Nob3J0Y3V0LmtleXdvcmR9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNlYXJjaFNob3J0Y3V0c0Zvcm0gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DYW5jZWxCdXR0b25DbGljayA9IHRoaXMub25DYW5jZWxCdXR0b25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TYXZlQnV0dG9uQ2xpY2sgPSB0aGlzLm9uU2F2ZUJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG5cbiAgICAvLyBjbG9uZSB0aGUgc2hvcnRjdXRzIGFuZCBhZGQgdGhlbSB0byB0aGUgc3RhdGUgc28gd2UgY2FuIGFkZCBpc1NlbGVjdGVkIHByb3BlcnR5XG4gICAgY29uc3Qgc2hvcnRjdXRzID0gW107XG4gICAgY29uc3QgeyByb3dzLCBzZWFyY2hTaG9ydGN1dHMgfSA9IHByb3BzLlRvcFNpdGVzO1xuICAgIHNlYXJjaFNob3J0Y3V0cy5mb3JFYWNoKHNob3J0Y3V0ID0+IHtcbiAgICAgIHNob3J0Y3V0cy5wdXNoKHtcbiAgICAgICAgLi4uc2hvcnRjdXQsXG4gICAgICAgIGlzU2VsZWN0ZWQ6ICEhcm93cy5maW5kKFxuICAgICAgICAgIHJvdyA9PlxuICAgICAgICAgICAgcm93ICYmXG4gICAgICAgICAgICByb3cuaXNQaW5uZWQgJiZcbiAgICAgICAgICAgIHJvdy5zZWFyY2hUb3BTaXRlICYmXG4gICAgICAgICAgICByb3cubGFiZWwgPT09IHNob3J0Y3V0LmtleXdvcmRcbiAgICAgICAgKSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuc3RhdGUgPSB7IHNob3J0Y3V0cyB9O1xuICB9XG5cbiAgaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XG4gICAgY29uc3QgeyB0YXJnZXQgfSA9IGV2ZW50O1xuICAgIGNvbnN0IHsgbmFtZSwgY2hlY2tlZCB9ID0gdGFyZ2V0O1xuICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+IHtcbiAgICAgIGNvbnN0IHNob3J0Y3V0cyA9IHByZXZTdGF0ZS5zaG9ydGN1dHMuc2xpY2UoKTtcbiAgICAgIGxldCBzaG9ydGN1dCA9IHNob3J0Y3V0cy5maW5kKCh7IGtleXdvcmQgfSkgPT4ga2V5d29yZCA9PT0gbmFtZSk7XG4gICAgICBzaG9ydGN1dC5pc1NlbGVjdGVkID0gY2hlY2tlZDtcbiAgICAgIHJldHVybiB7IHNob3J0Y3V0cyB9O1xuICAgIH0pO1xuICB9XG5cbiAgb25DYW5jZWxCdXR0b25DbGljayhldikge1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5wcm9wcy5vbkNsb3NlKCk7XG4gIH1cblxuICBvblNhdmVCdXR0b25DbGljayhldikge1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBDaGVjayBpZiB0aGVyZSB3ZXJlIGFueSBjaGFuZ2VzIGFuZCBhY3QgYWNjb3JkaW5nbHlcbiAgICBjb25zdCB7IHJvd3MgfSA9IHRoaXMucHJvcHMuVG9wU2l0ZXM7XG4gICAgY29uc3QgcGluUXVldWUgPSBbXTtcbiAgICBjb25zdCB1bnBpblF1ZXVlID0gW107XG4gICAgdGhpcy5zdGF0ZS5zaG9ydGN1dHMuZm9yRWFjaChzaG9ydGN1dCA9PiB7XG4gICAgICBjb25zdCBhbHJlYWR5UGlubmVkID0gcm93cy5maW5kKFxuICAgICAgICByb3cgPT5cbiAgICAgICAgICByb3cgJiZcbiAgICAgICAgICByb3cuaXNQaW5uZWQgJiZcbiAgICAgICAgICByb3cuc2VhcmNoVG9wU2l0ZSAmJlxuICAgICAgICAgIHJvdy5sYWJlbCA9PT0gc2hvcnRjdXQua2V5d29yZFxuICAgICAgKTtcbiAgICAgIGlmIChzaG9ydGN1dC5pc1NlbGVjdGVkICYmICFhbHJlYWR5UGlubmVkKSB7XG4gICAgICAgIHBpblF1ZXVlLnB1c2godGhpcy5fc2VhcmNoVG9wU2l0ZShzaG9ydGN1dCkpO1xuICAgICAgfSBlbHNlIGlmICghc2hvcnRjdXQuaXNTZWxlY3RlZCAmJiBhbHJlYWR5UGlubmVkKSB7XG4gICAgICAgIHVucGluUXVldWUucHVzaCh7XG4gICAgICAgICAgdXJsOiBhbHJlYWR5UGlubmVkLnVybCxcbiAgICAgICAgICBzZWFyY2hWZW5kb3I6IHNob3J0Y3V0LnNob3J0VVJMLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFRlbGwgdGhlIGZlZWQgdG8gZG8gdGhlIHdvcmsuXG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5VUERBVEVfUElOTkVEX1NFQVJDSF9TSE9SVENVVFMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhZGRlZFNob3J0Y3V0czogcGluUXVldWUsXG4gICAgICAgICAgZGVsZXRlZFNob3J0Y3V0czogdW5waW5RdWV1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIC8vIFNlbmQgdGhlIFRlbGVtZXRyeSBwaW5ncy5cbiAgICBwaW5RdWV1ZS5mb3JFYWNoKHNob3J0Y3V0ID0+IHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICAgIGV2ZW50OiBcIlNFQVJDSF9FRElUX0FERFwiLFxuICAgICAgICAgIHZhbHVlOiB7IHNlYXJjaF92ZW5kb3I6IHNob3J0Y3V0LnNlYXJjaFZlbmRvciB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcbiAgICB1bnBpblF1ZXVlLmZvckVhY2goc2hvcnRjdXQgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgICAgZXZlbnQ6IFwiU0VBUkNIX0VESVRfREVMRVRFXCIsXG4gICAgICAgICAgdmFsdWU6IHsgc2VhcmNoX3ZlbmRvcjogc2hvcnRjdXQuc2VhcmNoVmVuZG9yIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGhpcy5wcm9wcy5vbkNsb3NlKCk7XG4gIH1cblxuICBfc2VhcmNoVG9wU2l0ZShzaG9ydGN1dCkge1xuICAgIHJldHVybiB7XG4gICAgICB1cmw6IHNob3J0Y3V0LnVybCxcbiAgICAgIHNlYXJjaFRvcFNpdGU6IHRydWUsXG4gICAgICBsYWJlbDogc2hvcnRjdXQua2V5d29yZCxcbiAgICAgIHNlYXJjaFZlbmRvcjogc2hvcnRjdXQuc2hvcnRVUkwsXG4gICAgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gY2xhc3NOYW1lPVwidG9wc2l0ZS1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLXNob3J0Y3V0cy1jb250YWluZXJcIj5cbiAgICAgICAgICA8aDNcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGUgZ3JleS10aXRsZVwiXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9wc2l0ZXMtYWRkLXNlYXJjaC1lbmdpbmUtaGVhZGVyXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5zaG9ydGN1dHMubWFwKHNob3J0Y3V0ID0+IChcbiAgICAgICAgICAgICAgPFNlbGVjdGFibGVTZWFyY2hTaG9ydGN1dFxuICAgICAgICAgICAgICAgIGtleT17c2hvcnRjdXQua2V5d29yZH1cbiAgICAgICAgICAgICAgICBzaG9ydGN1dD17c2hvcnRjdXR9XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ9e3Nob3J0Y3V0LmlzU2VsZWN0ZWR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJhY3Rpb25zXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FuY2VsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNhbmNlbEJ1dHRvbkNsaWNrfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcHNpdGVzLWNhbmNlbC1idXR0b25cIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZG9uZVwiXG4gICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25TYXZlQnV0dG9uQ2xpY2t9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9wc2l0ZXMtc2F2ZS1idXR0b25cIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICAgIDwvZm9ybT5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQge1xuICBNSU5fUklDSF9GQVZJQ09OX1NJWkUsXG4gIE1JTl9TTUFMTF9GQVZJQ09OX1NJWkUsXG4gIFRPUF9TSVRFU19DT05URVhUX01FTlVfT1BUSU9OUyxcbiAgVE9QX1NJVEVTX1NQT0NfQ09OVEVYVF9NRU5VX09QVElPTlMsXG4gIFRPUF9TSVRFU19TUE9OU09SRURfUE9TSVRJT05fQ09OVEVYVF9NRU5VX09QVElPTlMsXG4gIFRPUF9TSVRFU19TRUFSQ0hfU0hPUlRDVVRTX0NPTlRFWFRfTUVOVV9PUFRJT05TLFxuICBUT1BfU0lURVNfU09VUkNFLFxufSBmcm9tIFwiLi9Ub3BTaXRlc0NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTGlua01lbnUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9MaW5rTWVudS9MaW5rTWVudVwiO1xuaW1wb3J0IHsgSW1wcmVzc2lvblN0YXRzIH0gZnJvbSBcIi4uL0Rpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cy9JbXByZXNzaW9uU3RhdHNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNjcmVlbnNob3RVdGlscyB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvc2NyZWVuc2hvdC11dGlsc1wiO1xuaW1wb3J0IHsgVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XIH0gZnJvbSBcImNvbW1vbi9SZWR1Y2Vycy5qc21cIjtcbmltcG9ydCB7IENvbnRleHRNZW51QnV0dG9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29udGV4dE1lbnUvQ29udGV4dE1lbnVCdXR0b25cIjtcbmltcG9ydCB7IFRvcFNpdGVJbXByZXNzaW9uV3JhcHBlciB9IGZyb20gXCIuL1RvcFNpdGVJbXByZXNzaW9uV3JhcHBlclwiO1xuY29uc3QgU1BPQ19UWVBFID0gXCJTUE9DXCI7XG5jb25zdCBORVdUQUJfU09VUkNFID0gXCJuZXd0YWJcIjtcblxuZXhwb3J0IGNsYXNzIFRvcFNpdGVMaW5rIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7IHNjcmVlbnNob3RJbWFnZTogbnVsbCB9O1xuICAgIHRoaXMub25EcmFnRXZlbnQgPSB0aGlzLm9uRHJhZ0V2ZW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbktleVByZXNzID0gdGhpcy5vbktleVByZXNzLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKlxuICAgKiBIZWxwZXIgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGRyb3Agem9uZSBzaG91bGQgYWxsb3cgYSBkcm9wLiBXZSBvbmx5IGFsbG93XG4gICAqIGRyb3BwaW5nIHRvcCBzaXRlcyBmb3Igbm93LiBXZSBkb24ndCBhbGxvdyBkcm9wcGluZyBvbiBzcG9uc29yZWQgdG9wIHNpdGVzXG4gICAqIGFzIHRoZWlyIHBvc2l0aW9uIGlzIGZpeGVkLlxuICAgKi9cbiAgX2FsbG93RHJvcChlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICh0aGlzLmRyYWdnZWQgfHwgIXRoaXMucHJvcHMubGluay5zcG9uc29yZWRfcG9zaXRpb24pICYmXG4gICAgICBlLmRhdGFUcmFuc2Zlci50eXBlcy5pbmNsdWRlcyhcInRleHQvdG9wc2l0ZS1pbmRleFwiKVxuICAgICk7XG4gIH1cblxuICBvbkRyYWdFdmVudChldmVudCkge1xuICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgY2FzZSBcImNsaWNrXCI6XG4gICAgICAgIC8vIFN0b3AgYW55IGxpbmsgY2xpY2tzIGlmIHdlIHN0YXJ0ZWQgYW55IGRyYWdnaW5nXG4gICAgICAgIGlmICh0aGlzLmRyYWdnZWQpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRyYWdzdGFydFwiOlxuICAgICAgICBldmVudC50YXJnZXQuYmx1cigpO1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5saW5rLnNwb25zb3JlZF9wb3NpdGlvbikge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmFnZ2VkID0gdHJ1ZTtcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSBcIm1vdmVcIjtcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L3RvcHNpdGUtaW5kZXhcIiwgdGhpcy5wcm9wcy5pbmRleCk7XG4gICAgICAgIHRoaXMucHJvcHMub25EcmFnRXZlbnQoXG4gICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgdGhpcy5wcm9wcy5pbmRleCxcbiAgICAgICAgICB0aGlzLnByb3BzLmxpbmssXG4gICAgICAgICAgdGhpcy5wcm9wcy50aXRsZVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkcmFnZW5kXCI6XG4gICAgICAgIHRoaXMucHJvcHMub25EcmFnRXZlbnQoZXZlbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkcmFnZW50ZXJcIjpcbiAgICAgIGNhc2UgXCJkcmFnb3ZlclwiOlxuICAgICAgY2FzZSBcImRyb3BcIjpcbiAgICAgICAgaWYgKHRoaXMuX2FsbG93RHJvcChldmVudCkpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMucHJvcHMub25EcmFnRXZlbnQoZXZlbnQsIHRoaXMucHJvcHMuaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm1vdXNlZG93blwiOlxuICAgICAgICAvLyBCbG9jayB0aGUgc2Nyb2xsIHdoZWVsIGZyb20gYXBwZWFyaW5nIGZvciBtaWRkbGUgY2xpY2tzIG9uIHNlYXJjaCB0b3Agc2l0ZXNcbiAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMSAmJiB0aGlzLnByb3BzLmxpbmsuc2VhcmNoVG9wU2l0ZSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXQgYXQgdGhlIGZpcnN0IG1vdXNlIGV2ZW50IG9mIGEgcG90ZW50aWFsIGRyYWdcbiAgICAgICAgdGhpcy5kcmFnZ2VkID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIZWxwZXIgdG8gb2J0YWluIHRoZSBuZXh0IHN0YXRlIGJhc2VkIG9uIG5leHRQcm9wcyBhbmQgcHJldlN0YXRlLlxuICAgKlxuICAgKiBOT1RFOiBSZW5hbWUgdGhpcyBtZXRob2QgdG8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIHdoZW4gd2UgdXBkYXRlIFJlYWN0XG4gICAqICAgICAgIHRvID49IDE2LjMuIFdlIHdpbGwgbmVlZCB0byB1cGRhdGUgdGVzdHMgYXMgd2VsbC4gV2UgY2Fubm90IHJlbmFtZSB0aGlzXG4gICAqICAgICAgIG1ldGhvZCB0byBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgbm93IGJlY2F1c2UgdGhlcmUgaXMgYSBtaXNtYXRjaCBpblxuICAgKiAgICAgICB0aGUgUmVhY3QgdmVyc2lvbiB0aGF0IHdlIGFyZSB1c2luZyBmb3IgYm90aCB0ZXN0aW5nIGFuZCBwcm9kdWN0aW9uLlxuICAgKiAgICAgICAoaS5lLiByZWFjdC10ZXN0LXJlbmRlciA9PiBcIjE2LjMuMlwiLCByZWFjdCA9PiBcIjE2LjIuMFwiKS5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9haXJibmIvZW56eW1lL2Jsb2IvbWFzdGVyL3BhY2thZ2VzL2VuenltZS1hZGFwdGVyLXJlYWN0LTE2L3BhY2thZ2UuanNvbiNMNDMuXG4gICAqL1xuICBzdGF0aWMgZ2V0TmV4dFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgY29uc3QgeyBzY3JlZW5zaG90IH0gPSBuZXh0UHJvcHMubGluaztcbiAgICBjb25zdCBpbWFnZUluU3RhdGUgPSBTY3JlZW5zaG90VXRpbHMuaXNSZW1vdGVJbWFnZUxvY2FsKFxuICAgICAgcHJldlN0YXRlLnNjcmVlbnNob3RJbWFnZSxcbiAgICAgIHNjcmVlbnNob3RcbiAgICApO1xuICAgIGlmIChpbWFnZUluU3RhdGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFNpbmNlIGltYWdlIHdhcyB1cGRhdGVkLCBhdHRlbXB0IHRvIHJldm9rZSBvbGQgaW1hZ2UgYmxvYiBVUkwsIGlmIGl0IGV4aXN0cy5cbiAgICBTY3JlZW5zaG90VXRpbHMubWF5YmVSZXZva2VCbG9iT2JqZWN0VVJMKHByZXZTdGF0ZS5zY3JlZW5zaG90SW1hZ2UpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNjcmVlbnNob3RJbWFnZTogU2NyZWVuc2hvdFV0aWxzLmNyZWF0ZUxvY2FsSW1hZ2VPYmplY3Qoc2NyZWVuc2hvdCksXG4gICAgfTtcbiAgfVxuXG4gIC8vIE5PVEU6IFJlbW92ZSB0aGlzIGZ1bmN0aW9uIHdoZW4gd2UgdXBkYXRlIFJlYWN0IHRvID49IDE2LjMgc2luY2UgUmVhY3Qgd2lsbFxuICAvLyAgICAgICBjYWxsIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyBhdXRvbWF0aWNhbGx5LiBXZSB3aWxsIGFsc28gbmVlZCB0b1xuICAvLyAgICAgICByZW5hbWUgZ2V0TmV4dFN0YXRlRnJvbVByb3BzIHRvIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IFRvcFNpdGVMaW5rLmdldE5leHRTdGF0ZUZyb21Qcm9wcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlKTtcbiAgICBpZiAobmV4dFN0YXRlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKG5leHRTdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gTk9URTogUmVtb3ZlIHRoaXMgZnVuY3Rpb24gd2hlbiB3ZSB1cGRhdGUgUmVhY3QgdG8gPj0gMTYuMyBzaW5jZSBSZWFjdCB3aWxsXG4gIC8vICAgICAgIGNhbGwgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIGF1dG9tYXRpY2FsbHkuIFdlIHdpbGwgYWxzbyBuZWVkIHRvXG4gIC8vICAgICAgIHJlbmFtZSBnZXROZXh0U3RhdGVGcm9tUHJvcHMgdG8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLlxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IFRvcFNpdGVMaW5rLmdldE5leHRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHRoaXMuc3RhdGUpO1xuICAgIGlmIChuZXh0U3RhdGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBTY3JlZW5zaG90VXRpbHMubWF5YmVSZXZva2VCbG9iT2JqZWN0VVJMKHRoaXMuc3RhdGUuc2NyZWVuc2hvdEltYWdlKTtcbiAgfVxuXG4gIG9uS2V5UHJlc3MoZXZlbnQpIHtcbiAgICAvLyBJZiB3ZSBoYXZlIHRhYmJlZCB0byBhIHNlYXJjaCBzaG9ydGN1dCB0b3Agc2l0ZSwgYW5kIHdlIGNsaWNrICdlbnRlcicsXG4gICAgLy8gd2Ugc2hvdWxkIGV4ZWN1dGUgdGhlIG9uQ2xpY2sgZnVuY3Rpb24uIFRoaXMgbmVlZHMgdG8gYmUgYWRkZWQgYmVjYXVzZVxuICAgIC8vIHNlYXJjaCB0b3Agc2l0ZXMgYXJlIGFuY2hvciB0YWdzIHdpdGhvdXQgYW4gaHJlZi4gU2VlIGJ1ZyAxNDgzMTM1XG4gICAgaWYgKHRoaXMucHJvcHMubGluay5zZWFyY2hUb3BTaXRlICYmIGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2xpY2soZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqIFRha2VzIHRoZSB1cmwgYXMgYSBzdHJpbmcsIHJ1bnMgaXQgdGhyb3VnaCBhIHNpbXBsZSAobm9uLXNlY3VyZSkgaGFzaCB0dXJuaW5nIGl0IGludG8gYSByYW5kb20gbnVtYmVyXG4gICAqIEFwcGx5IHRoYXQgcmFuZG9tIG51bWJlciB0byB0aGUgY29sb3IgYXJyYXkuIFRoZSBzYW1lIHVybCB3aWxsIGFsd2F5cyBnZW5lcmF0ZSB0aGUgc2FtZSBjb2xvci5cbiAgICovXG4gIGdlbmVyYXRlQ29sb3IoKSB7XG4gICAgbGV0IHsgdGl0bGUsIGNvbG9ycyB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIWNvbG9ycykge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuXG4gICAgbGV0IGNvbG9yQXJyYXkgPSBjb2xvcnMuc3BsaXQoXCIsXCIpO1xuXG4gICAgY29uc3QgaGFzaFN0ciA9IHN0ciA9PiB7XG4gICAgICBsZXQgaGFzaCA9IDA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaGFzaCArPSBjaGFyQ29kZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNoO1xuICAgIH07XG5cbiAgICBsZXQgaGFzaCA9IGhhc2hTdHIodGl0bGUpO1xuICAgIGxldCBpbmRleCA9IGhhc2ggJSBjb2xvckFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gY29sb3JBcnJheVtpbmRleF07XG4gIH1cblxuICBjYWxjdWxhdGVTdHlsZSgpIHtcbiAgICBjb25zdCB7IGRlZmF1bHRTdHlsZSwgbGluayB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHsgdGlwcHlUb3BJY29uLCBmYXZpY29uU2l6ZSB9ID0gbGluaztcbiAgICBsZXQgaW1hZ2VDbGFzc05hbWU7XG4gICAgbGV0IGltYWdlU3R5bGU7XG4gICAgbGV0IHNob3dTbWFsbEZhdmljb24gPSBmYWxzZTtcbiAgICBsZXQgc21hbGxGYXZpY29uU3R5bGU7XG4gICAgbGV0IGhhc1NjcmVlbnNob3RJbWFnZSA9XG4gICAgICB0aGlzLnN0YXRlLnNjcmVlbnNob3RJbWFnZSAmJiB0aGlzLnN0YXRlLnNjcmVlbnNob3RJbWFnZS51cmw7XG4gICAgbGV0IHNlbGVjdGVkQ29sb3I7XG5cbiAgICBpZiAoZGVmYXVsdFN0eWxlKSB7XG4gICAgICAvLyBmb3JjZSBubyBzdHlsZXMgKGxldHRlciBmYWxsYmFjaykgZXZlbiBpZiB0aGUgbGluayBoYXMgaW1hZ2VyeVxuICAgICAgc2VsZWN0ZWRDb2xvciA9IHRoaXMuZ2VuZXJhdGVDb2xvcigpO1xuICAgIH0gZWxzZSBpZiAobGluay5zZWFyY2hUb3BTaXRlKSB7XG4gICAgICBpbWFnZUNsYXNzTmFtZSA9IFwidG9wLXNpdGUtaWNvbiByaWNoLWljb25cIjtcbiAgICAgIGltYWdlU3R5bGUgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogbGluay5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke3RpcHB5VG9wSWNvbn0pYCxcbiAgICAgIH07XG4gICAgICBzbWFsbEZhdmljb25TdHlsZSA9IHsgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7dGlwcHlUb3BJY29ufSlgIH07XG4gICAgfSBlbHNlIGlmIChsaW5rLmN1c3RvbVNjcmVlbnNob3RVUkwpIHtcbiAgICAgIC8vIGFzc3VtZSBoaWdoIHF1YWxpdHkgY3VzdG9tIHNjcmVlbnNob3QgYW5kIHVzZSByaWNoIGljb24gc3R5bGVzIGFuZCBjbGFzcyBuYW1lc1xuXG4gICAgICAvLyBUb3BTaXRlIHNwb2MgZXhwZXJpbWVudCBvbmx5XG4gICAgICBjb25zdCBzcG9jSW1nVVJMID1cbiAgICAgICAgbGluay50eXBlID09PSBTUE9DX1RZUEUgPyBsaW5rLmN1c3RvbVNjcmVlbnNob3RVUkwgOiBcIlwiO1xuXG4gICAgICBpbWFnZUNsYXNzTmFtZSA9IFwidG9wLXNpdGUtaWNvbiByaWNoLWljb25cIjtcbiAgICAgIGltYWdlU3R5bGUgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogbGluay5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogaGFzU2NyZWVuc2hvdEltYWdlXG4gICAgICAgICAgPyBgdXJsKCR7dGhpcy5zdGF0ZS5zY3JlZW5zaG90SW1hZ2UudXJsfSlgXG4gICAgICAgICAgOiBgdXJsKCR7c3BvY0ltZ1VSTH0pYCxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0aXBweVRvcEljb24gfHwgZmF2aWNvblNpemUgPj0gTUlOX1JJQ0hfRkFWSUNPTl9TSVpFKSB7XG4gICAgICAvLyBzdHlsZXMgYW5kIGNsYXNzIG5hbWVzIGZvciB0b3Agc2l0ZXMgd2l0aCByaWNoIGljb25zXG4gICAgICBpbWFnZUNsYXNzTmFtZSA9IFwidG9wLXNpdGUtaWNvbiByaWNoLWljb25cIjtcbiAgICAgIGltYWdlU3R5bGUgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogbGluay5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke3RpcHB5VG9wSWNvbiB8fCBsaW5rLmZhdmljb259KWAsXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZmF2aWNvblNpemUgPj0gTUlOX1NNQUxMX0ZBVklDT05fU0laRSkge1xuICAgICAgc2hvd1NtYWxsRmF2aWNvbiA9IHRydWU7XG4gICAgICBzbWFsbEZhdmljb25TdHlsZSA9IHsgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7bGluay5mYXZpY29ufSlgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdGVkQ29sb3IgPSB0aGlzLmdlbmVyYXRlQ29sb3IoKTtcbiAgICAgIGltYWdlQ2xhc3NOYW1lID0gXCJcIjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc2hvd1NtYWxsRmF2aWNvbixcbiAgICAgIHNtYWxsRmF2aWNvblN0eWxlLFxuICAgICAgaW1hZ2VTdHlsZSxcbiAgICAgIGltYWdlQ2xhc3NOYW1lLFxuICAgICAgc2VsZWN0ZWRDb2xvcixcbiAgICB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgaXNEcmFnZ2FibGUsXG4gICAgICBsaW5rLFxuICAgICAgb25DbGljayxcbiAgICAgIHRpdGxlLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHRvcFNpdGVPdXRlckNsYXNzTmFtZSA9IGB0b3Atc2l0ZS1vdXRlciR7XG4gICAgICBjbGFzc05hbWUgPyBgICR7Y2xhc3NOYW1lfWAgOiBcIlwiXG4gICAgfSR7bGluay5pc0RyYWdnZWQgPyBcIiBkcmFnZ2VkXCIgOiBcIlwifSR7XG4gICAgICBsaW5rLnNlYXJjaFRvcFNpdGUgPyBcIiBzZWFyY2gtc2hvcnRjdXRcIiA6IFwiXCJcbiAgICB9YDtcbiAgICBjb25zdCBbbGV0dGVyRmFsbGJhY2tdID0gdGl0bGU7XG4gICAgY29uc3Qge1xuICAgICAgc2hvd1NtYWxsRmF2aWNvbixcbiAgICAgIHNtYWxsRmF2aWNvblN0eWxlLFxuICAgICAgaW1hZ2VTdHlsZSxcbiAgICAgIGltYWdlQ2xhc3NOYW1lLFxuICAgICAgc2VsZWN0ZWRDb2xvcixcbiAgICB9ID0gdGhpcy5jYWxjdWxhdGVTdHlsZSgpO1xuXG4gICAgbGV0IGRyYWdnYWJsZVByb3BzID0ge307XG4gICAgaWYgKGlzRHJhZ2dhYmxlKSB7XG4gICAgICBkcmFnZ2FibGVQcm9wcyA9IHtcbiAgICAgICAgb25DbGljazogdGhpcy5vbkRyYWdFdmVudCxcbiAgICAgICAgb25EcmFnRW5kOiB0aGlzLm9uRHJhZ0V2ZW50LFxuICAgICAgICBvbkRyYWdTdGFydDogdGhpcy5vbkRyYWdFdmVudCxcbiAgICAgICAgb25Nb3VzZURvd246IHRoaXMub25EcmFnRXZlbnQsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGlcbiAgICAgICAgY2xhc3NOYW1lPXt0b3BTaXRlT3V0ZXJDbGFzc05hbWV9XG4gICAgICAgIG9uRHJvcD17dGhpcy5vbkRyYWdFdmVudH1cbiAgICAgICAgb25EcmFnT3Zlcj17dGhpcy5vbkRyYWdFdmVudH1cbiAgICAgICAgb25EcmFnRW50ZXI9e3RoaXMub25EcmFnRXZlbnR9XG4gICAgICAgIG9uRHJhZ0xlYXZlPXt0aGlzLm9uRHJhZ0V2ZW50fVxuICAgICAgICB7Li4uZHJhZ2dhYmxlUHJvcHN9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wLXNpdGUtaW5uZXJcIj5cbiAgICAgICAgICB7LyogV2UgZG9uJ3QgeWV0IHN1cHBvcnQgYW4gYWNjZXNzaWJsZSBkcmFnLWFuZC1kcm9wIGltcGxlbWVudGF0aW9uLCBzZWUgQnVnIDE1NTIwMDUgKi99XG4gICAgICAgICAgey8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc3gtYTExeS9hbmNob3ItaXMtdmFsaWQgKi99XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRvcC1zaXRlLWJ1dHRvblwiXG4gICAgICAgICAgICBocmVmPXtsaW5rLnNlYXJjaFRvcFNpdGUgPyB1bmRlZmluZWQgOiBsaW5rLnVybH1cbiAgICAgICAgICAgIHRhYkluZGV4PVwiMFwiXG4gICAgICAgICAgICBvbktleVByZXNzPXt0aGlzLm9uS2V5UHJlc3N9XG4gICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICAgICAgZHJhZ2dhYmxlPXt0cnVlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGlsZVwiIGFyaWEtaGlkZGVuPXt0cnVlfT5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZENvbG9yXG4gICAgICAgICAgICAgICAgICAgID8gXCJpY29uLXdyYXBwZXIgbGV0dGVyLWZhbGxiYWNrXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcImljb24td3JhcHBlclwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRhdGEtZmFsbGJhY2s9e2xldHRlckZhbGxiYWNrfVxuICAgICAgICAgICAgICAgIHN0eWxlPXtzZWxlY3RlZENvbG9yID8geyBiYWNrZ3JvdW5kQ29sb3I6IHNlbGVjdGVkQ29sb3IgfSA6IHt9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2ltYWdlQ2xhc3NOYW1lfSBzdHlsZT17aW1hZ2VTdHlsZX0gLz5cbiAgICAgICAgICAgICAgICB7c2hvd1NtYWxsRmF2aWNvbiAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRvcC1zaXRlLWljb24gZGVmYXVsdC1pY29uXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1mYWxsYmFjaz17c21hbGxGYXZpY29uU3R5bGUgPyBcIlwiIDogbGV0dGVyRmFsbGJhY2t9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtzbWFsbEZhdmljb25TdHlsZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtsaW5rLnNlYXJjaFRvcFNpdGUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wLXNpdGUtaWNvbiBzZWFyY2gtdG9wc2l0ZVwiIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGl0bGUke2xpbmsuaXNQaW5uZWQgPyBcIiBoYXMtaWNvbiBwaW5uZWRcIiA6IFwiXCJ9JHtcbiAgICAgICAgICAgICAgICBsaW5rLnR5cGUgPT09IFNQT0NfVFlQRSB8fCBsaW5rLnNob3dfc3BvbnNvcmVkX2xhYmVsXG4gICAgICAgICAgICAgICAgICA/IFwiIHNwb25zb3JlZFwiXG4gICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGRpcj1cImF1dG9cIj5cbiAgICAgICAgICAgICAgICB7bGluay5pc1Bpbm5lZCAmJiA8ZGl2IGNsYXNzTmFtZT1cImljb24gaWNvbi1waW4tc21hbGxcIiAvPn1cbiAgICAgICAgICAgICAgICB7dGl0bGUgfHwgPGJyIC8+fVxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzcG9uc29yZWQtbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcHNpdGUtc3BvbnNvcmVkXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2E+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgIHtsaW5rLnR5cGUgPT09IFNQT0NfVFlQRSA/IChcbiAgICAgICAgICAgIDxJbXByZXNzaW9uU3RhdHNcbiAgICAgICAgICAgICAgZmxpZ2h0SWQ9e2xpbmsuZmxpZ2h0SWR9XG4gICAgICAgICAgICAgIHJvd3M9e1tcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBpZDogbGluay5pZCxcbiAgICAgICAgICAgICAgICAgIHBvczogbGluay5wb3MsXG4gICAgICAgICAgICAgICAgICBzaGltOiBsaW5rLnNoaW0gJiYgbGluay5zaGltLmltcHJlc3Npb24sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIHNvdXJjZT17VE9QX1NJVEVTX1NPVVJDRX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgey8qIFNldCB1cCBhbiBpbXByZXNzaW9uIHdyYXBwZXIgZm9yIHRoZSBzcG9uc29yZWQgVG9wU2l0ZSAqL31cbiAgICAgICAgICB7bGluay5zcG9uc29yZWRfcG9zaXRpb24gPyAoXG4gICAgICAgICAgICA8VG9wU2l0ZUltcHJlc3Npb25XcmFwcGVyXG4gICAgICAgICAgICAgIHRpbGU9e3tcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wcm9wcy5pbmRleCArIDEsXG4gICAgICAgICAgICAgICAgdGlsZV9pZDogbGluay5zcG9uc29yZWRfdGlsZV9pZCB8fCAtMSxcbiAgICAgICAgICAgICAgICByZXBvcnRpbmdfdXJsOiBsaW5rLnNwb25zb3JlZF9pbXByZXNzaW9uX3VybCxcbiAgICAgICAgICAgICAgICBhZHZlcnRpc2VyOiB0aXRsZS50b0xvY2FsZUxvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgIHNvdXJjZTogTkVXVEFCX1NPVVJDRSxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuVG9wU2l0ZUxpbmsuZGVmYXVsdFByb3BzID0ge1xuICB0aXRsZTogXCJcIixcbiAgbGluazoge30sXG4gIGlzRHJhZ2dhYmxlOiB0cnVlLFxufTtcblxuZXhwb3J0IGNsYXNzIFRvcFNpdGUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgc2hvd0NvbnRleHRNZW51OiBmYWxzZSB9O1xuICAgIHRoaXMub25MaW5rQ2xpY2sgPSB0aGlzLm9uTGlua0NsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1lbnVVcGRhdGUgPSB0aGlzLm9uTWVudVVwZGF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcG9ydCB0byB0ZWxlbWV0cnkgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaXRlbS5cbiAgICovXG4gIF9nZXRUZWxlbWV0cnlJbmZvKCkge1xuICAgIGNvbnN0IHZhbHVlID0geyBpY29uX3R5cGU6IHRoaXMucHJvcHMubGluay5pY29uVHlwZSB9O1xuICAgIC8vIEZpbHRlciBvdXQgXCJub3RfcGlubmVkXCIgdHlwZSBmb3IgYmVpbmcgdGhlIGRlZmF1bHRcbiAgICBpZiAodGhpcy5wcm9wcy5saW5rLmlzUGlubmVkKSB7XG4gICAgICB2YWx1ZS5jYXJkX3R5cGUgPSBcInBpbm5lZFwiO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5saW5rLnNlYXJjaFRvcFNpdGUpIHtcbiAgICAgIC8vIFNldCB0aGUgY2FyZF90eXBlIGFzIFwic2VhcmNoXCIgcmVnYXJkbGVzcyBvZiBpdHMgcGlubmluZyBzdGF0dXNcbiAgICAgIHZhbHVlLmNhcmRfdHlwZSA9IFwic2VhcmNoXCI7XG4gICAgICB2YWx1ZS5zZWFyY2hfdmVuZG9yID0gdGhpcy5wcm9wcy5saW5rLmhvc3RuYW1lO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLmxpbmsudHlwZSA9PT0gU1BPQ19UWVBFIHx8XG4gICAgICB0aGlzLnByb3BzLmxpbmsuc3BvbnNvcmVkX3Bvc2l0aW9uXG4gICAgKSB7XG4gICAgICB2YWx1ZS5jYXJkX3R5cGUgPSBcInNwb2NcIjtcbiAgICB9XG4gICAgcmV0dXJuIHsgdmFsdWUgfTtcbiAgfVxuXG4gIHVzZXJFdmVudChldmVudCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Vc2VyRXZlbnQoXG4gICAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMuaW5kZXgsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aGlzLl9nZXRUZWxlbWV0cnlJbmZvKClcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBvbkxpbmtDbGljayhldmVudCkge1xuICAgIHRoaXMudXNlckV2ZW50KFwiQ0xJQ0tcIik7XG5cbiAgICAvLyBTcGVjaWFsbHkgaGFuZGxlIGEgdG9wIHNpdGUgbGluayBjbGljayBmb3IgXCJ0eXBlZFwiIGZyZWNlbmN5IGJvbnVzIGFzXG4gICAgLy8gc3BlY2lmaWVkIGFzIGEgcHJvcGVydHkgb24gdGhlIGxpbmsuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB7IGFsdEtleSwgYnV0dG9uLCBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSB9ID0gZXZlbnQ7XG4gICAgaWYgKCF0aGlzLnByb3BzLmxpbmsuc2VhcmNoVG9wU2l0ZSkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgICAgIGRhdGE6IE9iamVjdC5hc3NpZ24odGhpcy5wcm9wcy5saW5rLCB7XG4gICAgICAgICAgICBldmVudDogeyBhbHRLZXksIGJ1dHRvbiwgY3RybEtleSwgbWV0YUtleSwgc2hpZnRLZXkgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIC8vIEZpcmUgb2ZmIGEgc3BvYyBzcGVjaWZpYyBpbXByZXNzaW9uLlxuICAgICAgaWYgKHRoaXMucHJvcHMubGluay50eXBlID09PSBTUE9DX1RZUEUpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICAgICAgY2xpY2s6IDAsXG4gICAgICAgICAgICB0aWxlczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMucHJvcHMubGluay5pZCxcbiAgICAgICAgICAgICAgICBwb3M6IHRoaXMucHJvcHMubGluay5wb3MsXG4gICAgICAgICAgICAgICAgc2hpbTogdGhpcy5wcm9wcy5saW5rLnNoaW0gJiYgdGhpcy5wcm9wcy5saW5rLnNoaW0uY2xpY2ssXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wcm9wcy5saW5rLnNlbmRBdHRyaWJ1dGlvblJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LlBBUlRORVJfTElOS19BVFRSSUJVVElPTixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0VVJMOiB0aGlzLnByb3BzLmxpbmsudXJsLFxuICAgICAgICAgICAgICBzb3VyY2U6IFwibmV3dGFiXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wcm9wcy5saW5rLnNwb25zb3JlZF9wb3NpdGlvbikge1xuICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMucHJvcHMubGluay5sYWJlbCB8fCB0aGlzLnByb3BzLmxpbmsuaG9zdG5hbWU7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5UT1BfU0lURVNfSU1QUkVTU0lPTl9TVEFUUyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJjbGlja1wiLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wcm9wcy5pbmRleCArIDEsXG4gICAgICAgICAgICAgIHRpbGVfaWQ6IHRoaXMucHJvcHMubGluay5zcG9uc29yZWRfdGlsZV9pZCB8fCAtMSxcbiAgICAgICAgICAgICAgcmVwb3J0aW5nX3VybDogdGhpcy5wcm9wcy5saW5rLnNwb25zb3JlZF9jbGlja191cmwsXG4gICAgICAgICAgICAgIGFkdmVydGlzZXI6IHRpdGxlLnRvTG9jYWxlTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgIHNvdXJjZTogTkVXVEFCX1NPVVJDRSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuRklMTF9TRUFSQ0hfVEVSTSxcbiAgICAgICAgICBkYXRhOiB7IGxhYmVsOiB0aGlzLnByb3BzLmxpbmsubGFiZWwgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgb25NZW51VXBkYXRlKGlzT3Blbikge1xuICAgIGlmIChpc09wZW4pIHtcbiAgICAgIHRoaXMucHJvcHMub25BY3RpdmF0ZSh0aGlzLnByb3BzLmluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcm9wcy5vbkFjdGl2YXRlKCk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBsaW5rIH0gPSBwcm9wcztcbiAgICBjb25zdCBpc0NvbnRleHRNZW51T3BlbiA9IHByb3BzLmFjdGl2ZUluZGV4ID09PSBwcm9wcy5pbmRleDtcbiAgICBjb25zdCB0aXRsZSA9IGxpbmsubGFiZWwgfHwgbGluay5ob3N0bmFtZTtcbiAgICBsZXQgbWVudU9wdGlvbnM7XG4gICAgaWYgKGxpbmsuc3BvbnNvcmVkX3Bvc2l0aW9uKSB7XG4gICAgICBtZW51T3B0aW9ucyA9IFRPUF9TSVRFU19TUE9OU09SRURfUE9TSVRJT05fQ09OVEVYVF9NRU5VX09QVElPTlM7XG4gICAgfSBlbHNlIGlmIChsaW5rLnNlYXJjaFRvcFNpdGUpIHtcbiAgICAgIG1lbnVPcHRpb25zID0gVE9QX1NJVEVTX1NFQVJDSF9TSE9SVENVVFNfQ09OVEVYVF9NRU5VX09QVElPTlM7XG4gICAgfSBlbHNlIGlmIChsaW5rLnR5cGUgPT09IFNQT0NfVFlQRSkge1xuICAgICAgbWVudU9wdGlvbnMgPSBUT1BfU0lURVNfU1BPQ19DT05URVhUX01FTlVfT1BUSU9OUztcbiAgICB9IGVsc2Uge1xuICAgICAgbWVudU9wdGlvbnMgPSBUT1BfU0lURVNfQ09OVEVYVF9NRU5VX09QVElPTlM7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxUb3BTaXRlTGlua1xuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25MaW5rQ2xpY2t9XG4gICAgICAgIG9uRHJhZ0V2ZW50PXt0aGlzLnByb3BzLm9uRHJhZ0V2ZW50fVxuICAgICAgICBjbGFzc05hbWU9e2Ake3Byb3BzLmNsYXNzTmFtZSB8fCBcIlwifSR7XG4gICAgICAgICAgaXNDb250ZXh0TWVudU9wZW4gPyBcIiBhY3RpdmVcIiA6IFwiXCJcbiAgICAgICAgfWB9XG4gICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgID5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8Q29udGV4dE1lbnVCdXR0b25cbiAgICAgICAgICAgIHRvb2x0aXA9XCJuZXd0YWItbWVudS1jb250ZW50LXRvb2x0aXBcIlxuICAgICAgICAgICAgdG9vbHRpcEFyZ3M9e3sgdGl0bGUgfX1cbiAgICAgICAgICAgIG9uVXBkYXRlPXt0aGlzLm9uTWVudVVwZGF0ZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8TGlua01lbnVcbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e3Byb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICBpbmRleD17cHJvcHMuaW5kZXh9XG4gICAgICAgICAgICAgIG9uVXBkYXRlPXt0aGlzLm9uTWVudVVwZGF0ZX1cbiAgICAgICAgICAgICAgb3B0aW9ucz17bWVudU9wdGlvbnN9XG4gICAgICAgICAgICAgIHNpdGU9e2xpbmt9XG4gICAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e2xpbmsudHlwZSA9PT0gU1BPQ19UWVBFfVxuICAgICAgICAgICAgICBzaXRlSW5mbz17dGhpcy5fZ2V0VGVsZW1ldHJ5SW5mbygpfVxuICAgICAgICAgICAgICBzb3VyY2U9e1RPUF9TSVRFU19TT1VSQ0V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvQ29udGV4dE1lbnVCdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Ub3BTaXRlTGluaz5cbiAgICApO1xuICB9XG59XG5Ub3BTaXRlLmRlZmF1bHRQcm9wcyA9IHtcbiAgbGluazoge30sXG4gIG9uQWN0aXZhdGUoKSB7fSxcbn07XG5cbmV4cG9ydCBjbGFzcyBUb3BTaXRlUGxhY2Vob2xkZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkVkaXRCdXR0b25DbGljayA9IHRoaXMub25FZGl0QnV0dG9uQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uRWRpdEJ1dHRvbkNsaWNrKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goe1xuICAgICAgdHlwZTogYXQuVE9QX1NJVEVTX0VESVQsXG4gICAgICBkYXRhOiB7IGluZGV4OiB0aGlzLnByb3BzLmluZGV4IH0sXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUb3BTaXRlTGlua1xuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgY2xhc3NOYW1lPXtgcGxhY2Vob2xkZXIgJHt0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCBcIlwifWB9XG4gICAgICAgIGlzRHJhZ2dhYmxlPXtmYWxzZX1cbiAgICAgID5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJjb250ZXh0LW1lbnUtYnV0dG9uIGVkaXQtYnV0dG9uIGljb25cIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1tZW51LXRvcHNpdGVzLXBsYWNlaG9sZGVyLXRvb2x0aXBcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25FZGl0QnV0dG9uQ2xpY2t9XG4gICAgICAgIC8+XG4gICAgICA8L1RvcFNpdGVMaW5rPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRvcFNpdGVMaXN0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHN0YXRpYyBnZXQgREVGQVVMVF9TVEFURSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlSW5kZXg6IG51bGwsXG4gICAgICBkcmFnZ2VkSW5kZXg6IG51bGwsXG4gICAgICBkcmFnZ2VkU2l0ZTogbnVsbCxcbiAgICAgIGRyYWdnZWRUaXRsZTogbnVsbCxcbiAgICAgIHRvcFNpdGVzUHJldmlldzogbnVsbCxcbiAgICB9O1xuICB9XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IFRvcFNpdGVMaXN0LkRFRkFVTFRfU1RBVEU7XG4gICAgdGhpcy5vbkRyYWdFdmVudCA9IHRoaXMub25EcmFnRXZlbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQWN0aXZhdGUgPSB0aGlzLm9uQWN0aXZhdGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUpIHtcbiAgICAgIGNvbnN0IHByZXZUb3BTaXRlcyA9IHRoaXMucHJvcHMuVG9wU2l0ZXMgJiYgdGhpcy5wcm9wcy5Ub3BTaXRlcy5yb3dzO1xuICAgICAgY29uc3QgbmV3VG9wU2l0ZXMgPSBuZXh0UHJvcHMuVG9wU2l0ZXMgJiYgbmV4dFByb3BzLlRvcFNpdGVzLnJvd3M7XG4gICAgICBpZiAoXG4gICAgICAgIHByZXZUb3BTaXRlcyAmJlxuICAgICAgICBwcmV2VG9wU2l0ZXNbdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXhdICYmXG4gICAgICAgIHByZXZUb3BTaXRlc1t0aGlzLnN0YXRlLmRyYWdnZWRJbmRleF0udXJsID09PVxuICAgICAgICAgIHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUudXJsICYmXG4gICAgICAgICghbmV3VG9wU2l0ZXNbdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXhdIHx8XG4gICAgICAgICAgbmV3VG9wU2l0ZXNbdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXhdLnVybCAhPT1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUudXJsKVxuICAgICAgKSB7XG4gICAgICAgIC8vIFdlIGdvdCB0aGUgbmV3IG9yZGVyIGZyb20gdGhlIHJlZHV4IHN0b3JlIHZpYSBwcm9wcy4gV2UgY2FuIGNsZWFyIHN0YXRlIG5vdy5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZShUb3BTaXRlTGlzdC5ERUZBVUxUX1NUQVRFKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1c2VyRXZlbnQoZXZlbnQsIGluZGV4KSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgIGV2ZW50LFxuICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgIGFjdGlvbl9wb3NpdGlvbjogaW5kZXgsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBvbkRyYWdFdmVudChldmVudCwgaW5kZXgsIGxpbmssIHRpdGxlKSB7XG4gICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICBjYXNlIFwiZHJhZ3N0YXJ0XCI6XG4gICAgICAgIHRoaXMuZHJvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBkcmFnZ2VkSW5kZXg6IGluZGV4LFxuICAgICAgICAgIGRyYWdnZWRTaXRlOiBsaW5rLFxuICAgICAgICAgIGRyYWdnZWRUaXRsZTogdGl0bGUsXG4gICAgICAgICAgYWN0aXZlSW5kZXg6IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVzZXJFdmVudChcIkRSQUdcIiwgaW5kZXgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkcmFnZW5kXCI6XG4gICAgICAgIGlmICghdGhpcy5kcm9wcGVkKSB7XG4gICAgICAgICAgLy8gSWYgdGhlcmUgd2FzIG5vIGRyb3AgZXZlbnQsIHJlc2V0IHRoZSBzdGF0ZSB0byB0aGUgZGVmYXVsdC5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKFRvcFNpdGVMaXN0LkRFRkFVTFRfU1RBVEUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRyYWdlbnRlclwiOlxuICAgICAgICBpZiAoaW5kZXggPT09IHRoaXMuc3RhdGUuZHJhZ2dlZEluZGV4KSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRvcFNpdGVzUHJldmlldzogbnVsbCB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHRvcFNpdGVzUHJldmlldzogdGhpcy5fbWFrZVRvcFNpdGVzUHJldmlldyhpbmRleCksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZHJvcFwiOlxuICAgICAgICBpZiAoaW5kZXggIT09IHRoaXMuc3RhdGUuZHJhZ2dlZEluZGV4KSB7XG4gICAgICAgICAgdGhpcy5kcm9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19JTlNFUlQsXG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBzaXRlOiB7XG4gICAgICAgICAgICAgICAgICB1cmw6IHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUudXJsLFxuICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuc3RhdGUuZHJhZ2dlZFRpdGxlLFxuICAgICAgICAgICAgICAgICAgY3VzdG9tU2NyZWVuc2hvdFVSTDogdGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZVxuICAgICAgICAgICAgICAgICAgICAuY3VzdG9tU2NyZWVuc2hvdFVSTCxcbiAgICAgICAgICAgICAgICAgIC8vIE9ubHkgaWYgdGhlIHNlYXJjaCB0b3BzaXRlcyBleHBlcmltZW50IGlzIGVuYWJsZWRcbiAgICAgICAgICAgICAgICAgIC4uLih0aGlzLnN0YXRlLmRyYWdnZWRTaXRlLnNlYXJjaFRvcFNpdGUgJiYge1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hUb3BTaXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICBkcmFnZ2VkRnJvbUluZGV4OiB0aGlzLnN0YXRlLmRyYWdnZWRJbmRleCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnVzZXJFdmVudChcIkRST1BcIiwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRUb3BTaXRlcygpIHtcbiAgICAvLyBNYWtlIGEgY29weSBvZiB0aGUgc2l0ZXMgdG8gdHJ1bmNhdGUgb3IgZXh0ZW5kIHRvIGRlc2lyZWQgbGVuZ3RoXG4gICAgbGV0IHRvcFNpdGVzID0gdGhpcy5wcm9wcy5Ub3BTaXRlcy5yb3dzLnNsaWNlKCk7XG4gICAgdG9wU2l0ZXMubGVuZ3RoID0gdGhpcy5wcm9wcy5Ub3BTaXRlc1Jvd3MgKiBUT1BfU0lURVNfTUFYX1NJVEVTX1BFUl9ST1c7XG4gICAgcmV0dXJuIHRvcFNpdGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2UgYSBwcmV2aWV3IG9mIHRoZSB0b3BzaXRlcyB0aGF0IHdpbGwgYmUgdGhlIHJlc3VsdCBvZiBkcm9wcGluZyB0aGUgY3VycmVudGx5XG4gICAqIGRyYWdnZWQgc2l0ZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICAgKi9cbiAgX21ha2VUb3BTaXRlc1ByZXZpZXcoaW5kZXgpIHtcbiAgICBjb25zdCB0b3BTaXRlcyA9IHRoaXMuX2dldFRvcFNpdGVzKCk7XG4gICAgdG9wU2l0ZXNbdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXhdID0gbnVsbDtcbiAgICBjb25zdCBwcmV2aWV3ID0gdG9wU2l0ZXMubWFwKHNpdGUgPT5cbiAgICAgIHNpdGUgJiYgKHNpdGUuaXNQaW5uZWQgfHwgc2l0ZS5zcG9uc29yZWRfcG9zaXRpb24pID8gc2l0ZSA6IG51bGxcbiAgICApO1xuICAgIGNvbnN0IHVucGlubmVkID0gdG9wU2l0ZXMuZmlsdGVyKFxuICAgICAgc2l0ZSA9PiBzaXRlICYmICFzaXRlLmlzUGlubmVkICYmICFzaXRlLnNwb25zb3JlZF9wb3NpdGlvblxuICAgICk7XG4gICAgY29uc3Qgc2l0ZVRvSW5zZXJ0ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZSwge1xuICAgICAgaXNQaW5uZWQ6IHRydWUsXG4gICAgICBpc0RyYWdnZWQ6IHRydWUsXG4gICAgfSk7XG5cbiAgICBpZiAoIXByZXZpZXdbaW5kZXhdKSB7XG4gICAgICBwcmV2aWV3W2luZGV4XSA9IHNpdGVUb0luc2VydDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmluZCB0aGUgaG9sZSB0byBzaGlmdCB0aGUgcGlubmVkIHNpdGUocykgdG93YXJkcy4gV2Ugc2hpZnQgdG93YXJkcyB0aGVcbiAgICAgIC8vIGhvbGUgbGVmdCBieSB0aGUgc2l0ZSBiZWluZyBkcmFnZ2VkLlxuICAgICAgbGV0IGhvbGVJbmRleCA9IGluZGV4O1xuICAgICAgY29uc3QgaW5kZXhTdGVwID0gaW5kZXggPiB0aGlzLnN0YXRlLmRyYWdnZWRJbmRleCA/IC0xIDogMTtcbiAgICAgIHdoaWxlIChwcmV2aWV3W2hvbGVJbmRleF0pIHtcbiAgICAgICAgaG9sZUluZGV4ICs9IGluZGV4U3RlcDtcbiAgICAgIH1cblxuICAgICAgLy8gU2hpZnQgdG93YXJkcyB0aGUgaG9sZS5cbiAgICAgIGNvbnN0IHNoaWZ0aW5nU3RlcCA9IGluZGV4ID4gdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXggPyAxIDogLTE7XG4gICAgICB3aGlsZSAoXG4gICAgICAgIGluZGV4ID4gdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXggPyBob2xlSW5kZXggPCBpbmRleCA6IGhvbGVJbmRleCA+IGluZGV4XG4gICAgICApIHtcbiAgICAgICAgbGV0IG5leHRJbmRleCA9IGhvbGVJbmRleCArIHNoaWZ0aW5nU3RlcDtcbiAgICAgICAgd2hpbGUgKHByZXZpZXdbbmV4dEluZGV4XSAmJiBwcmV2aWV3W25leHRJbmRleF0uc3BvbnNvcmVkX3Bvc2l0aW9uKSB7XG4gICAgICAgICAgbmV4dEluZGV4ICs9IHNoaWZ0aW5nU3RlcDtcbiAgICAgICAgfVxuICAgICAgICBwcmV2aWV3W2hvbGVJbmRleF0gPSBwcmV2aWV3W25leHRJbmRleF07XG4gICAgICAgIGhvbGVJbmRleCA9IG5leHRJbmRleDtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdbaW5kZXhdID0gc2l0ZVRvSW5zZXJ0O1xuICAgIH1cblxuICAgIC8vIEZpbGwgaW4gdGhlIHJlbWFpbmluZyBob2xlcyB3aXRoIHVucGlubmVkIHNpdGVzLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFwcmV2aWV3W2ldKSB7XG4gICAgICAgIHByZXZpZXdbaV0gPSB1bnBpbm5lZC5zaGlmdCgpIHx8IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHByZXZpZXc7XG4gIH1cblxuICBvbkFjdGl2YXRlKGluZGV4KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGl2ZUluZGV4OiBpbmRleCB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHRvcFNpdGVzID0gdGhpcy5zdGF0ZS50b3BTaXRlc1ByZXZpZXcgfHwgdGhpcy5fZ2V0VG9wU2l0ZXMoKTtcbiAgICBjb25zdCB0b3BTaXRlc1VJID0gW107XG4gICAgY29uc3QgY29tbW9uUHJvcHMgPSB7XG4gICAgICBvbkRyYWdFdmVudDogdGhpcy5vbkRyYWdFdmVudCxcbiAgICAgIGRpc3BhdGNoOiBwcm9wcy5kaXNwYXRjaCxcbiAgICB9O1xuICAgIC8vIFdlIGFzc2lnbiBhIGtleSB0byBlYWNoIHBsYWNlaG9sZGVyIHNsb3QuIFdlIG5lZWQgaXQgdG8gYmUgaW5kZXBlbmRlbnRcbiAgICAvLyBvZiB0aGUgc2xvdCBpbmRleCAoaSBiZWxvdykgc28gdGhhdCB0aGUga2V5cyB1c2VkIHN0YXkgdGhlIHNhbWUgZHVyaW5nXG4gICAgLy8gZHJhZyBhbmQgZHJvcCByZW9yZGVyaW5nIGFuZCB0aGUgdW5kZXJseWluZyBET00gbm9kZXMgYXJlIHJldXNlZC5cbiAgICAvLyBUaGlzIG1vc3RseSAob25seT8pIGFmZmVjdHMgbGludXggc28gYmUgc3VyZSB0byB0ZXN0IG9uIGxpbnV4IGJlZm9yZSBjaGFuZ2luZy5cbiAgICBsZXQgaG9sZUluZGV4ID0gMDtcblxuICAgIC8vIE9uIG5hcnJvdyB2aWV3cG9ydHMsIHdlIG9ubHkgc2hvdyA2IHNpdGVzIHBlciByb3cuIFdlJ2xsIG1hcmsgdGhlIHJlc3QgYXNcbiAgICAvLyAuaGlkZS1mb3ItbmFycm93IHRvIGhpZGUgaW4gQ1NTIHZpYSBAbWVkaWEgcXVlcnkuXG4gICAgY29uc3QgbWF4TmFycm93VmlzaWJsZUluZGV4ID0gcHJvcHMuVG9wU2l0ZXNSb3dzICogNjtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gdG9wU2l0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBsaW5rID1cbiAgICAgICAgdG9wU2l0ZXNbaV0gJiZcbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgdG9wU2l0ZXNbaV0sIHtcbiAgICAgICAgICBpY29uVHlwZTogdGhpcy5wcm9wcy50b3BTaXRlSWNvblR5cGUodG9wU2l0ZXNbaV0pLFxuICAgICAgICB9KTtcbiAgICAgIGNvbnN0IHNsb3RQcm9wcyA9IHtcbiAgICAgICAga2V5OiBsaW5rID8gbGluay51cmwgOiBob2xlSW5kZXgrKyxcbiAgICAgICAgaW5kZXg6IGksXG4gICAgICB9O1xuICAgICAgaWYgKGkgPj0gbWF4TmFycm93VmlzaWJsZUluZGV4KSB7XG4gICAgICAgIHNsb3RQcm9wcy5jbGFzc05hbWUgPSBcImhpZGUtZm9yLW5hcnJvd1wiO1xuICAgICAgfVxuICAgICAgdG9wU2l0ZXNVSS5wdXNoKFxuICAgICAgICAhbGluayA/IChcbiAgICAgICAgICA8VG9wU2l0ZVBsYWNlaG9sZGVyIHsuLi5zbG90UHJvcHN9IHsuLi5jb21tb25Qcm9wc30gLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8VG9wU2l0ZVxuICAgICAgICAgICAgbGluaz17bGlua31cbiAgICAgICAgICAgIGFjdGl2ZUluZGV4PXt0aGlzLnN0YXRlLmFjdGl2ZUluZGV4fVxuICAgICAgICAgICAgb25BY3RpdmF0ZT17dGhpcy5vbkFjdGl2YXRlfVxuICAgICAgICAgICAgey4uLnNsb3RQcm9wc31cbiAgICAgICAgICAgIHsuLi5jb21tb25Qcm9wc31cbiAgICAgICAgICAgIGNvbG9ycz17cHJvcHMuY29sb3JzfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8dWxcbiAgICAgICAgY2xhc3NOYW1lPXtgdG9wLXNpdGVzLWxpc3Qke1xuICAgICAgICAgIHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUgPyBcIiBkbmQtYWN0aXZlXCIgOiBcIlwiXG4gICAgICAgIH1gfVxuICAgICAgPlxuICAgICAgICB7dG9wU2l0ZXNVSX1cbiAgICAgIDwvdWw+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5jb25zdCBWSVNJQkxFID0gXCJ2aXNpYmxlXCI7XG5jb25zdCBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuXG4vLyBQZXIgYW5hbHl0aWNhbCByZXF1aXJlbWVudCwgd2Ugc2V0IHRoZSBtaW5pbWFsIGludGVyc2VjdGlvbiByYXRpbyB0b1xuLy8gMC41LCBhbmQgYW4gaW1wcmVzc2lvbiBpcyBpZGVudGlmaWVkIHdoZW4gdGhlIHdyYXBwZWQgaXRlbSBoYXMgYXQgbGVhc3Rcbi8vIDUwJSB2aXNpYmlsaXR5LlxuLy9cbi8vIFRoaXMgY29uc3RhbnQgaXMgZXhwb3J0ZWQgZm9yIHVuaXQgdGVzdFxuZXhwb3J0IGNvbnN0IElOVEVSU0VDVElPTl9SQVRJTyA9IDAuNTtcblxuLyoqXG4gKiBJbXByZXNzaW9uIHdyYXBwZXIgZm9yIGEgVG9wU2l0ZSB0aWxlLlxuICpcbiAqIEl0IG1ha3NlcyB1c2Ugb2YgdGhlIEludGVyc2VjdGlvbiBPYnNlcnZlciBBUEkgdG8gZGV0ZWN0IHRoZSB2aXNpYmlsaXR5LFxuICogYW5kIHJlbGllcyBvbiBwYWdlIHZpc2liaWxpdHkgdG8gZW5zdXJlIHRoZSBpbXByZXNzaW9uIGlzIHJlcG9ydGVkXG4gKiBvbmx5IHdoZW4gdGhlIGNvbXBvbmVudCBpcyB2aXNpYmxlIG9uIHRoZSBwYWdlLlxuICovXG5leHBvcnQgY2xhc3MgVG9wU2l0ZUltcHJlc3Npb25XcmFwcGVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIF9kaXNwYXRjaEltcHJlc3Npb25TdGF0cygpIHtcbiAgICBjb25zdCB7IHRpbGUgfSA9IHRoaXMucHJvcHM7XG5cbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19JTVBSRVNTSU9OX1NUQVRTLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdHlwZTogXCJpbXByZXNzaW9uXCIsXG4gICAgICAgICAgLi4udGlsZSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHNldEltcHJlc3Npb25PYnNlcnZlck9yQWRkTGlzdGVuZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIGlmICghcHJvcHMuZGlzcGF0Y2gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICB0aGlzLnNldEltcHJlc3Npb25PYnNlcnZlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSBzaG91bGQgb25seSBldmVyIHNlbmQgdGhlIGxhdGVzdCBpbXByZXNzaW9uIHN0YXRzIHBpbmcsIHNvIHJlbW92ZSBhbnlcbiAgICAgIC8vIG9sZGVyIGxpc3RlbmVycy5cbiAgICAgIGlmICh0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpIHtcbiAgICAgICAgcHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBpZiAocHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICAgICAgdGhpcy5zZXRJbXByZXNzaW9uT2JzZXJ2ZXIoKTtcbiAgICAgICAgICBwcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcHJvcHMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IGFuIGltcHJlc3Npb24gb2JzZXJ2ZXIgZm9yIHRoZSB3cmFwcGVkIGNvbXBvbmVudC4gSXQgbWFrZXMgdXNlIG9mXG4gICAqIHRoZSBJbnRlcnNlY3Rpb24gT2JzZXJ2ZXIgQVBJIHRvIGRldGVjdCBpZiB0aGUgd3JhcHBlZCBjb21wb25lbnQgaXNcbiAgICogdmlzaWJsZSB3aXRoIGEgZGVzaXJlZCByYXRpbywgYW5kIG9ubHkgc2VuZHMgaW1wcmVzc2lvbiBpZiB0aGF0J3MgdGhlIGNhc2UuXG4gICAqXG4gICAqIFNlZSBtb3JlIGRldGFpbHMgYWJvdXQgSW50ZXJzZWN0aW9uIE9ic2VydmVyIEFQSSBhdDpcbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ludGVyc2VjdGlvbl9PYnNlcnZlcl9BUElcbiAgICovXG4gIHNldEltcHJlc3Npb25PYnNlcnZlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuXG4gICAgaWYgKCFwcm9wcy50aWxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faGFuZGxlSW50ZXJzZWN0ID0gZW50cmllcyA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGVudHJpZXMuc29tZShcbiAgICAgICAgICBlbnRyeSA9PlxuICAgICAgICAgICAgZW50cnkuaXNJbnRlcnNlY3RpbmcgJiZcbiAgICAgICAgICAgIGVudHJ5LmludGVyc2VjdGlvblJhdGlvID49IElOVEVSU0VDVElPTl9SQVRJT1xuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2hJbXByZXNzaW9uU3RhdHMoKTtcbiAgICAgICAgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMucmVmcy50b3BzaXRlX2ltcHJlc3Npb25fd3JhcHBlcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7IHRocmVzaG9sZDogSU5URVJTRUNUSU9OX1JBVElPIH07XG4gICAgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIgPSBuZXcgcHJvcHMuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICB0aGlzLl9oYW5kbGVJbnRlcnNlY3QsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgICB0aGlzLmltcHJlc3Npb25PYnNlcnZlci5vYnNlcnZlKHRoaXMucmVmcy50b3BzaXRlX2ltcHJlc3Npb25fd3JhcHBlcik7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aWxlKSB7XG4gICAgICB0aGlzLnNldEltcHJlc3Npb25PYnNlcnZlck9yQWRkTGlzdGVuZXIoKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5faGFuZGxlSW50ZXJzZWN0ICYmIHRoaXMuaW1wcmVzc2lvbk9ic2VydmVyKSB7XG4gICAgICB0aGlzLmltcHJlc3Npb25PYnNlcnZlci51bm9ic2VydmUodGhpcy5yZWZzLnRvcHNpdGVfaW1wcmVzc2lvbl93cmFwcGVyKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICByZWY9e1widG9wc2l0ZV9pbXByZXNzaW9uX3dyYXBwZXJcIn1cbiAgICAgICAgY2xhc3NOYW1lPVwidG9wc2l0ZS1pbXByZXNzaW9uLW9ic2VydmVyXCJcbiAgICAgID5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cblRvcFNpdGVJbXByZXNzaW9uV3JhcHBlci5kZWZhdWx0UHJvcHMgPSB7XG4gIEludGVyc2VjdGlvbk9ic2VydmVyOiBnbG9iYWwuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsXG4gIGRvY3VtZW50OiBnbG9iYWwuZG9jdW1lbnQsXG4gIHRpbGU6IG51bGwsXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgSG9yaXpvbnRhbFJ1bGUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8aHIgY2xhc3NOYW1lPVwiZHMtaHJcIiAvPjtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTYWZlQW5jaG9yIH0gZnJvbSBcIi4uL1NhZmVBbmNob3IvU2FmZUFuY2hvclwiO1xuaW1wb3J0IHsgRmx1ZW50T3JUZXh0IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dFwiO1xuXG5leHBvcnQgY2xhc3MgVG9waWMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLm9uTGlua0NsaWNrID0gdGhpcy5vbkxpbmtDbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25MaW5rQ2xpY2soZXZlbnQpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNwYXRjaCkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgICBldmVudDogXCJDTElDS1wiLFxuICAgICAgICAgIHNvdXJjZTogXCJQT1BVTEFSX1RPUElDU1wiLFxuICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogMCxcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgdG9waWM6IGV2ZW50LnRhcmdldC50ZXh0LnRvTG93ZXJDYXNlKCkucmVwbGFjZShgIGAsIGAtYCksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdXJsLCBuYW1lIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8U2FmZUFuY2hvclxuICAgICAgICBvbkxpbmtDbGljaz17dGhpcy5vbkxpbmtDbGlja31cbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX1cbiAgICAgICAgdXJsPXt1cmx9XG4gICAgICA+XG4gICAgICAgIHtuYW1lfVxuICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5hdmlnYXRpb24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGxldCBsaW5rcyA9IHRoaXMucHJvcHMubGlua3MgfHwgW107XG4gICAgY29uc3QgYWxpZ25tZW50ID0gdGhpcy5wcm9wcy5hbGlnbm1lbnQgfHwgXCJjZW50ZXJlZFwiO1xuICAgIGNvbnN0IGhlYWRlciA9IHRoaXMucHJvcHMuaGVhZGVyIHx8IHt9O1xuICAgIGNvbnN0IGVuZ2xpc2ggPSB0aGlzLnByb3BzLmxvY2FsZS5zdGFydHNXaXRoKFwiZW4tXCIpO1xuICAgIGNvbnN0IHByaXZhY3lOb3RpY2UgPSB0aGlzLnByb3BzLnByaXZhY3lOb3RpY2VVUkwgfHwge307XG4gICAgY29uc3QgeyBuZXdGb290ZXJTZWN0aW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGNsYXNzTmFtZSA9IGBkcy1uYXZpZ2F0aW9uIGRzLW5hdmlnYXRpb24tJHthbGlnbm1lbnR9ICR7XG4gICAgICBuZXdGb290ZXJTZWN0aW9uID8gYGRzLW5hdmlnYXRpb24tbmV3LXRvcGljc2AgOiBgYFxuICAgIH1gO1xuICAgIGxldCB7IHRpdGxlIH0gPSBoZWFkZXI7XG4gICAgaWYgKG5ld0Zvb3RlclNlY3Rpb24pIHtcbiAgICAgIHRpdGxlID0geyBpZDogXCJuZXd0YWItcG9ja2V0LW5ldy10b3BpY3MtdGl0bGVcIiB9O1xuICAgICAgaWYgKHRoaXMucHJvcHMuZXh0cmFMaW5rcykge1xuICAgICAgICBsaW5rcyA9IFtcbiAgICAgICAgICAuLi5saW5rcy5zbGljZSgwLCBsaW5rcy5sZW5ndGggLSAxKSxcbiAgICAgICAgICAuLi50aGlzLnByb3BzLmV4dHJhTGlua3MsXG4gICAgICAgICAgbGlua3NbbGlua3MubGVuZ3RoIC0gMV0sXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICB7dGl0bGUgJiYgZW5nbGlzaCA/IChcbiAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e3RpdGxlfT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRzLW5hdmlnYXRpb24taGVhZGVyXCIgLz5cbiAgICAgICAgICA8L0ZsdWVudE9yVGV4dD5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAge2VuZ2xpc2ggPyAoXG4gICAgICAgICAgPHVsPlxuICAgICAgICAgICAge2xpbmtzICYmXG4gICAgICAgICAgICAgIGxpbmtzLm1hcCh0ID0+IChcbiAgICAgICAgICAgICAgICA8bGkga2V5PXt0Lm5hbWV9PlxuICAgICAgICAgICAgICAgICAgPFRvcGljXG4gICAgICAgICAgICAgICAgICAgIHVybD17dC51cmx9XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9e3QubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgIHshbmV3Rm9vdGVyU2VjdGlvbiA/IChcbiAgICAgICAgICA8U2FmZUFuY2hvciBjbGFzc05hbWU9XCJkcy1uYXZpZ2F0aW9uLXByaXZhY3lcIiB1cmw9e3ByaXZhY3lOb3RpY2UudXJsfT5cbiAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17cHJpdmFjeU5vdGljZS50aXRsZX0gLz5cbiAgICAgICAgICA8L1NhZmVBbmNob3I+XG4gICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgIHtuZXdGb290ZXJTZWN0aW9uID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtbmF2aWdhdGlvbi1mYW1pbHlcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24gZmlyZWZveC1sb2dvXCIgLz5cbiAgICAgICAgICAgIDxzcGFuPnw8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIHBvY2tldC1sb2dvXCIgLz5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRzLW5hdmlnYXRpb24tZmFtaWx5LW1lc3NhZ2VcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcG9ja2V0LXBvY2tldC1maXJlZm94LWZhbWlseVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogbnVsbH1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5pbXBvcnQgeyBGbHVlbnRPclRleHQgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9GbHVlbnRPclRleHQvRmx1ZW50T3JUZXh0XCI7XG5cbmV4cG9ydCBjbGFzcyBQcml2YWN5TGluayBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wZXJ0aWVzIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLXByaXZhY3ktbGlua1wiPlxuICAgICAgICA8U2FmZUFuY2hvciB1cmw9e3Byb3BlcnRpZXMudXJsfT5cbiAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e3Byb3BlcnRpZXMudGl0bGV9IC8+XG4gICAgICAgIDwvU2FmZUFuY2hvcj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIFNlY3Rpb25UaXRsZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaGVhZGVyOiB7IHRpdGxlLCBzdWJ0aXRsZSB9LFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLXNlY3Rpb24tdGl0bGVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZVwiPnt0aXRsZX08L2Rpdj5cbiAgICAgICAge3N1YnRpdGxlID8gPGRpdiBjbGFzc05hbWU9XCJzdWJ0aXRsZVwiPntzdWJ0aXRsZX08L2Rpdj4gOiBudWxsfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuZXhwb3J0IGNvbnN0IHNlbGVjdExheW91dFJlbmRlciA9ICh7IHN0YXRlID0ge30sIHByZWZzID0ge30sIGxvY2FsZSA9IFwiXCIgfSkgPT4ge1xuICBjb25zdCB7IGxheW91dCwgZmVlZHMsIHNwb2NzIH0gPSBzdGF0ZTtcbiAgbGV0IHNwb2NJbmRleFBsYWNlbWVudE1hcCA9IHt9O1xuXG4gIC8qIFRoaXMgZnVuY3Rpb24gZmlsbHMgc3BvYyBwb3NpdGlvbnMgb24gYSBwZXIgcGxhY2VtZW50IGJhc2lzIHdpdGggYXZhaWxhYmxlIHNwb2NzLlxuICAgKiBJdCBkb2VzIHRoaXMgYnkgbG9vcGluZyB0aHJvdWdoIGVhY2ggcG9zaXRpb24gZm9yIGEgcGxhY2VtZW50IGFuZCByZXBsYWNpbmcgYSByZWMgd2l0aCBhIHNwb2MuXG4gICAqIElmIGl0IHJ1bnMgb3V0IG9mIHNwb2NzIG9yIHBvc2l0aW9ucywgaXQgc3RvcHMuXG4gICAqIElmIGl0IHNlZXMgdGhlIHNhbWUgcGxhY2VtZW50IGFnYWluLCBpdCByZW1lbWJlcnMgdGhlIHByZXZpb3VzIHNwb2MgaW5kZXgsIGFuZCBjb250aW51ZXMuXG4gICAqIElmIGl0IHNlZXMgYSBibG9ja2VkIHNwb2MsIGl0IHNraXBzIHRoYXQgcG9zaXRpb24gbGVhdmluZyBpbiBhIHJlZ3VsYXIgc3RvcnkuXG4gICAqL1xuICBmdW5jdGlvbiBmaWxsU3BvY1Bvc2l0aW9uc0ZvclBsYWNlbWVudChcbiAgICBkYXRhLFxuICAgIHNwb2NzQ29uZmlnLFxuICAgIHNwb2NzRGF0YSxcbiAgICBwbGFjZW1lbnROYW1lXG4gICkge1xuICAgIGlmIChcbiAgICAgICFzcG9jSW5kZXhQbGFjZW1lbnRNYXBbcGxhY2VtZW50TmFtZV0gJiZcbiAgICAgIHNwb2NJbmRleFBsYWNlbWVudE1hcFtwbGFjZW1lbnROYW1lXSAhPT0gMFxuICAgICkge1xuICAgICAgc3BvY0luZGV4UGxhY2VtZW50TWFwW3BsYWNlbWVudE5hbWVdID0gMDtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IFsuLi5kYXRhXTtcbiAgICBmb3IgKGxldCBwb3NpdGlvbiBvZiBzcG9jc0NvbmZpZy5wb3NpdGlvbnMpIHtcbiAgICAgIGNvbnN0IHNwb2MgPSBzcG9jc0RhdGFbc3BvY0luZGV4UGxhY2VtZW50TWFwW3BsYWNlbWVudE5hbWVdXTtcbiAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBzcG9jcyBsZWZ0LCB3ZSBjYW4gc3RvcCBmaWxsaW5nIHBvc2l0aW9ucy5cbiAgICAgIGlmICghc3BvYykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLy8gQSBwbGFjZW1lbnQgY291bGQgYmUgdXNlZCBpbiB0d28gc2VjdGlvbnMuXG4gICAgICAvLyBJbiB0aGVzZSBjYXNlcywgd2Ugd2FudCB0byBtYWludGFpbiB0aGUgaW5kZXggb2YgdGhlIHByZXZpb3VzIHNlY3Rpb24uXG4gICAgICAvLyBJZiB3ZSBkaWRuJ3QgZG8gdGhpcywgaXQgbWlnaHQgZHVwbGljYXRlIHNwb2NzLlxuICAgICAgc3BvY0luZGV4UGxhY2VtZW50TWFwW3BsYWNlbWVudE5hbWVdKys7XG5cbiAgICAgIC8vIEEgc3BvYyB0aGF0J3MgYmxvY2tlZCBpcyByZW1vdmVkIGZyb20gdGhlIHNvdXJjZSBmb3Igc3Vic2VxdWVudCBuZXd0YWIgbG9hZHMuXG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgc3BvYyBpbiB0aGUgc291cmNlIHRoYXQncyBibG9ja2VkLCBpdCBtZWFucyBpdCB3YXMgKmp1c3QqIGJsb2NrZWQsXG4gICAgICAvLyBhbmQgaW4gdGhpcyBjYXNlLCB3ZSBza2lwIHRoaXMgcG9zaXRpb24sIGFuZCBzaG93IGEgcmVndWxhciBzcG9jIGluc3RlYWQuXG4gICAgICBpZiAoIXNwb2NzLmJsb2NrZWQuaW5jbHVkZXMoc3BvYy51cmwpKSB7XG4gICAgICAgIHJlc3VsdHMuc3BsaWNlKHBvc2l0aW9uLmluZGV4LCAwLCBzcG9jKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIGNvbnN0IHBvc2l0aW9ucyA9IHt9O1xuICBjb25zdCBEU19DT01QT05FTlRTID0gW1xuICAgIFwiTWVzc2FnZVwiLFxuICAgIFwiVGV4dFByb21vXCIsXG4gICAgXCJTZWN0aW9uVGl0bGVcIixcbiAgICBcIlNpZ251cFwiLFxuICAgIFwiTmF2aWdhdGlvblwiLFxuICAgIFwiQ2FyZEdyaWRcIixcbiAgICBcIkNvbGxlY3Rpb25DYXJkR3JpZFwiLFxuICAgIFwiSG9yaXpvbnRhbFJ1bGVcIixcbiAgICBcIlByaXZhY3lMaW5rXCIsXG4gIF07XG5cbiAgY29uc3QgZmlsdGVyQXJyYXkgPSBbXTtcblxuICBpZiAoIXByZWZzW1wiZmVlZHMudG9wc2l0ZXNcIl0pIHtcbiAgICBmaWx0ZXJBcnJheS5wdXNoKFwiVG9wU2l0ZXNcIik7XG4gIH1cblxuICBjb25zdCBwb2NrZXRFbmFibGVkID1cbiAgICBwcmVmc1tcImZlZWRzLnNlY3Rpb24udG9wc3Rvcmllc1wiXSAmJiBwcmVmc1tcImZlZWRzLnN5c3RlbS50b3BzdG9yaWVzXCJdO1xuICBpZiAoIXBvY2tldEVuYWJsZWQpIHtcbiAgICBmaWx0ZXJBcnJheS5wdXNoKC4uLkRTX0NPTVBPTkVOVFMpO1xuICB9XG5cbiAgY29uc3QgcGxhY2Vob2xkZXJDb21wb25lbnQgPSBjb21wb25lbnQgPT4ge1xuICAgIGlmICghY29tcG9uZW50LmZlZWQpIHtcbiAgICAgIC8vIFRPRE8gd2Ugbm93IG5lZWQgYSBwbGFjZWhvbGRlciBmb3IgdG9wc2l0ZXMgYW5kIHRleHRQcm9tby5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmNvbXBvbmVudCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHNwb2NzOiBbXSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnM6IFtdLFxuICAgIH07XG5cbiAgICBsZXQgaXRlbXMgPSAwO1xuICAgIGlmIChjb21wb25lbnQucHJvcGVydGllcyAmJiBjb21wb25lbnQucHJvcGVydGllcy5pdGVtcykge1xuICAgICAgaXRlbXMgPSBjb21wb25lbnQucHJvcGVydGllcy5pdGVtcztcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtczsgaSsrKSB7XG4gICAgICBkYXRhLnJlY29tbWVuZGF0aW9ucy5wdXNoKHsgcGxhY2Vob2xkZXI6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgLi4uY29tcG9uZW50LCBkYXRhIH07XG4gIH07XG5cbiAgLy8gVE9ETyB1cGRhdGUgZGV2dG9vbHMgdG8gc2hvdyBwbGFjZW1lbnRzXG4gIGNvbnN0IGhhbmRsZVNwb2NzID0gKGRhdGEsIGNvbXBvbmVudCkgPT4ge1xuICAgIGxldCByZXN1bHQgPSBbLi4uZGF0YV07XG4gICAgLy8gRG8gd2UgZXZlciBleHBlY3QgdG8gcG9zc2libHkgaGF2ZSBhIHNwb2MuXG4gICAgaWYgKFxuICAgICAgY29tcG9uZW50LnNwb2NzICYmXG4gICAgICBjb21wb25lbnQuc3BvY3MucG9zaXRpb25zICYmXG4gICAgICBjb21wb25lbnQuc3BvY3MucG9zaXRpb25zLmxlbmd0aFxuICAgICkge1xuICAgICAgY29uc3QgcGxhY2VtZW50ID0gY29tcG9uZW50LnBsYWNlbWVudCB8fCB7fTtcbiAgICAgIGNvbnN0IHBsYWNlbWVudE5hbWUgPSBwbGFjZW1lbnQubmFtZSB8fCBcInNwb2NzXCI7XG4gICAgICBjb25zdCBzcG9jc0RhdGEgPSBzcG9jcy5kYXRhW3BsYWNlbWVudE5hbWVdO1xuICAgICAgLy8gV2UgZXhwZWN0IGEgc3BvYywgc3BvY3MgYXJlIGxvYWRlZCwgYW5kIHRoZSBzZXJ2ZXIgcmV0dXJuZWQgc3BvY3MuXG4gICAgICBpZiAoXG4gICAgICAgIHNwb2NzLmxvYWRlZCAmJlxuICAgICAgICBzcG9jc0RhdGEgJiZcbiAgICAgICAgc3BvY3NEYXRhLml0ZW1zICYmXG4gICAgICAgIHNwb2NzRGF0YS5pdGVtcy5sZW5ndGhcbiAgICAgICkge1xuICAgICAgICByZXN1bHQgPSBmaWxsU3BvY1Bvc2l0aW9uc0ZvclBsYWNlbWVudChcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgY29tcG9uZW50LnNwb2NzLFxuICAgICAgICAgIHNwb2NzRGF0YS5pdGVtcyxcbiAgICAgICAgICBwbGFjZW1lbnROYW1lXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ29tcG9uZW50ID0gY29tcG9uZW50ID0+IHtcbiAgICBpZiAoXG4gICAgICBjb21wb25lbnQuc3BvY3MgJiZcbiAgICAgIGNvbXBvbmVudC5zcG9jcy5wb3NpdGlvbnMgJiZcbiAgICAgIGNvbXBvbmVudC5zcG9jcy5wb3NpdGlvbnMubGVuZ3RoXG4gICAgKSB7XG4gICAgICBjb25zdCBwbGFjZW1lbnQgPSBjb21wb25lbnQucGxhY2VtZW50IHx8IHt9O1xuICAgICAgY29uc3QgcGxhY2VtZW50TmFtZSA9IHBsYWNlbWVudC5uYW1lIHx8IFwic3BvY3NcIjtcbiAgICAgIGNvbnN0IHNwb2NzRGF0YSA9IHNwb2NzLmRhdGFbcGxhY2VtZW50TmFtZV07XG4gICAgICBpZiAoXG4gICAgICAgIHNwb2NzLmxvYWRlZCAmJlxuICAgICAgICBzcG9jc0RhdGEgJiZcbiAgICAgICAgc3BvY3NEYXRhLml0ZW1zICYmXG4gICAgICAgIHNwb2NzRGF0YS5pdGVtcy5sZW5ndGhcbiAgICAgICkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmNvbXBvbmVudCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBzcG9jczogc3BvY3NEYXRhLml0ZW1zXG4gICAgICAgICAgICAgIC5maWx0ZXIoc3BvYyA9PiBzcG9jICYmICFzcG9jcy5ibG9ja2VkLmluY2x1ZGVzKHNwb2MudXJsKSlcbiAgICAgICAgICAgICAgLm1hcCgoc3BvYywgaW5kZXgpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uc3BvYyxcbiAgICAgICAgICAgICAgICBwb3M6IGluZGV4LFxuICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmNvbXBvbmVudCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3BvY3M6IFtdLFxuICAgICAgfSxcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNvbXBvbmVudFdpdGhGZWVkID0gY29tcG9uZW50ID0+IHtcbiAgICBwb3NpdGlvbnNbY29tcG9uZW50LnR5cGVdID0gcG9zaXRpb25zW2NvbXBvbmVudC50eXBlXSB8fCAwO1xuICAgIGxldCBkYXRhID0ge1xuICAgICAgcmVjb21tZW5kYXRpb25zOiBbXSxcbiAgICB9O1xuXG4gICAgY29uc3QgZmVlZCA9IGZlZWRzLmRhdGFbY29tcG9uZW50LmZlZWQudXJsXTtcbiAgICBpZiAoZmVlZCAmJiBmZWVkLmRhdGEpIHtcbiAgICAgIGRhdGEgPSB7XG4gICAgICAgIC4uLmZlZWQuZGF0YSxcbiAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbLi4uKGZlZWQuZGF0YS5yZWNvbW1lbmRhdGlvbnMgfHwgW10pXSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGNvbXBvbmVudCAmJiBjb21wb25lbnQucHJvcGVydGllcyAmJiBjb21wb25lbnQucHJvcGVydGllcy5vZmZzZXQpIHtcbiAgICAgIGRhdGEgPSB7XG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogZGF0YS5yZWNvbW1lbmRhdGlvbnMuc2xpY2UoXG4gICAgICAgICAgY29tcG9uZW50LnByb3BlcnRpZXMub2Zmc2V0XG4gICAgICAgICksXG4gICAgICB9O1xuICAgIH1cblxuICAgIGRhdGEgPSB7XG4gICAgICAuLi5kYXRhLFxuICAgICAgcmVjb21tZW5kYXRpb25zOiBoYW5kbGVTcG9jcyhkYXRhLnJlY29tbWVuZGF0aW9ucywgY29tcG9uZW50KSxcbiAgICB9O1xuXG4gICAgbGV0IGl0ZW1zID0gMDtcbiAgICBpZiAoY29tcG9uZW50LnByb3BlcnRpZXMgJiYgY29tcG9uZW50LnByb3BlcnRpZXMuaXRlbXMpIHtcbiAgICAgIGl0ZW1zID0gTWF0aC5taW4oY29tcG9uZW50LnByb3BlcnRpZXMuaXRlbXMsIGRhdGEucmVjb21tZW5kYXRpb25zLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLy8gbG9vcCB0aHJvdWdoIGEgY29tcG9uZW50IGl0ZW1zXG4gICAgLy8gU3RvcmUgdGhlIGl0ZW1zIHBvc2l0aW9uIHNlcXVlbnRpYWxseSBmb3IgbXVsdGlwbGUgY29tcG9uZW50cyBvZiB0aGUgc2FtZSB0eXBlLlxuICAgIC8vIEV4YW1wbGU6IEEgc2Vjb25kIGNhcmQgZ3JpZCBzdGFydHMgcG9zIG9mZnNldCBmcm9tIHRoZSBsYXN0IGNhcmQgZ3JpZC5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zOyBpKyspIHtcbiAgICAgIGRhdGEucmVjb21tZW5kYXRpb25zW2ldID0ge1xuICAgICAgICAuLi5kYXRhLnJlY29tbWVuZGF0aW9uc1tpXSxcbiAgICAgICAgcG9zOiBwb3NpdGlvbnNbY29tcG9uZW50LnR5cGVdKyssXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IC4uLmNvbXBvbmVudCwgZGF0YSB9O1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckxheW91dCA9ICgpID0+IHtcbiAgICBjb25zdCByZW5kZXJlZExheW91dEFycmF5ID0gW107XG4gICAgZm9yIChjb25zdCByb3cgb2YgbGF5b3V0LmZpbHRlcihcbiAgICAgIHIgPT4gci5jb21wb25lbnRzLmZpbHRlcihjID0+ICFmaWx0ZXJBcnJheS5pbmNsdWRlcyhjLnR5cGUpKS5sZW5ndGhcbiAgICApKSB7XG4gICAgICBsZXQgY29tcG9uZW50cyA9IFtdO1xuICAgICAgcmVuZGVyZWRMYXlvdXRBcnJheS5wdXNoKHtcbiAgICAgICAgLi4ucm93LFxuICAgICAgICBjb21wb25lbnRzLFxuICAgICAgfSk7XG4gICAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiByb3cuY29tcG9uZW50cy5maWx0ZXIoXG4gICAgICAgIGMgPT4gIWZpbHRlckFycmF5LmluY2x1ZGVzKGMudHlwZSlcbiAgICAgICkpIHtcbiAgICAgICAgY29uc3Qgc3BvY3NDb25maWcgPSBjb21wb25lbnQuc3BvY3M7XG4gICAgICAgIGlmIChzcG9jc0NvbmZpZyB8fCBjb21wb25lbnQuZmVlZCkge1xuICAgICAgICAgIC8vIFRPRE8gbWFrZSBzdXJlIHRoaXMgc3RpbGwgd29ya3MgZm9yIGRpZmZlcmVudCBsb2FkaW5nIGNhc2VzLlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIChjb21wb25lbnQuZmVlZCAmJiAhZmVlZHMuZGF0YVtjb21wb25lbnQuZmVlZC51cmxdKSB8fFxuICAgICAgICAgICAgKHNwb2NzQ29uZmlnICYmXG4gICAgICAgICAgICAgIHNwb2NzQ29uZmlnLnBvc2l0aW9ucyAmJlxuICAgICAgICAgICAgICBzcG9jc0NvbmZpZy5wb3NpdGlvbnMubGVuZ3RoICYmXG4gICAgICAgICAgICAgICFzcG9jcy5sb2FkZWQpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb21wb25lbnRzLnB1c2gocGxhY2Vob2xkZXJDb21wb25lbnQoY29tcG9uZW50KSk7XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyZWRMYXlvdXRBcnJheTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvbXBvbmVudC5mZWVkKSB7XG4gICAgICAgICAgICBjb21wb25lbnRzLnB1c2goaGFuZGxlQ29tcG9uZW50V2l0aEZlZWQoY29tcG9uZW50KSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucHVzaChoYW5kbGVDb21wb25lbnQoY29tcG9uZW50KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJlZExheW91dEFycmF5O1xuICB9O1xuXG4gIGNvbnN0IGxheW91dFJlbmRlciA9IHJlbmRlckxheW91dCgpO1xuXG4gIHJldHVybiB7IGxheW91dFJlbmRlciB9O1xufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IFRvcFNpdGVzIGFzIE9sZFRvcFNpdGVzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZXNcIjtcbmltcG9ydCB7IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVyB9IGZyb20gXCJjb21tb24vUmVkdWNlcnMuanNtXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBfVG9wU2l0ZXMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgLy8gRmluZCBhIFNQT0MgdGhhdCBkb2Vzbid0IGFscmVhZHkgZXhpc3QgaW4gVXNlcidzIFRvcFNpdGVzXG4gIGdldEZpcnN0QXZhaWxhYmxlU3BvYyh0b3BTaXRlcywgZGF0YSkge1xuICAgIGNvbnN0IHsgc3BvY3MgfSA9IGRhdGE7XG4gICAgaWYgKCFzcG9jcyB8fCBzcG9jcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZXJUb3BTaXRlcyA9IG5ldyBTZXQoXG4gICAgICB0b3BTaXRlcy5tYXAodG9wU2l0ZSA9PiB0b3BTaXRlICYmIHRvcFNpdGUudXJsKVxuICAgICk7XG5cbiAgICAvLyBXZSBcImNsZWFuIHVybHNcIiB3aXRoIGh0dHAgaW4gVG9wU2l0ZUZvcm0uanN4XG4gICAgLy8gU3BvYyBkb21haW5zIGFyZSBpbiB0aGUgZm9ybWF0ICdzcG9uc29ybmFtZS5jb20nXG4gICAgcmV0dXJuIHNwb2NzLmZpbmQoXG4gICAgICBzcG9jID0+XG4gICAgICAgICF1c2VyVG9wU2l0ZXMuaGFzKHNwb2MudXJsKSAmJlxuICAgICAgICAhdXNlclRvcFNpdGVzLmhhcyhgaHR0cDovLyR7c3BvYy5kb21haW59YCkgJiZcbiAgICAgICAgIXVzZXJUb3BTaXRlcy5oYXMoYGh0dHBzOi8vJHtzcG9jLmRvbWFpbn1gKSAmJlxuICAgICAgICAhdXNlclRvcFNpdGVzLmhhcyhgaHR0cDovL3d3dy4ke3Nwb2MuZG9tYWlufWApICYmXG4gICAgICAgICF1c2VyVG9wU2l0ZXMuaGFzKGBodHRwczovL3d3dy4ke3Nwb2MuZG9tYWlufWApXG4gICAgKTtcbiAgfVxuXG4gIC8vIEZpbmQgdGhlIGZpcnN0IGVtcHR5IG9yIHVucGlubmVkIGluZGV4IHdlIGNhbiBwbGFjZSB0aGUgU1BPQyBpbi5cbiAgLy8gUmV0dXJuIC0xIGlmIG5vIGF2YWlsYWJsZSBpbmRleCBhbmQgd2Ugc2hvdWxkIHB1c2ggaXQgYXQgdGhlIGVuZC5cbiAgZ2V0Rmlyc3RBdmFpbGFibGVJbmRleCh0b3BTaXRlcywgcHJvbW9BbGlnbm1lbnQpIHtcbiAgICBpZiAocHJvbW9BbGlnbm1lbnQgPT09IFwibGVmdFwiKSB7XG4gICAgICByZXR1cm4gdG9wU2l0ZXMuZmluZEluZGV4KHRvcFNpdGUgPT4gIXRvcFNpdGUgfHwgIXRvcFNpdGUuaXNQaW5uZWQpO1xuICAgIH1cblxuICAgIC8vIFRoZSByb3cgaXNuJ3QgZnVsbCBzbyB3ZSBjYW4gcHVzaCBpdCB0byB0aGUgZW5kIG9mIHRoZSByb3cuXG4gICAgaWYgKHRvcFNpdGVzLmxlbmd0aCA8IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVykge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSByb3cgaXMgZnVsbCwgd2UgY2FuIGNoZWNrIHRoZSByb3cgZmlyc3QgZm9yIHVucGlubmVkIHRvcHNpdGVzIHRvIHJlcGxhY2UuXG4gICAgLy8gRWxzZSB3ZSBjYW4gY2hlY2sgYWZ0ZXIgdGhlIHJvdy4gVGhpcyBiZWhhdmlvciBpcyBob3cgdW5waW5uZWQgdG9wc2l0ZXMgbW92ZSB3aGlsZSBkcmFnIGFuZCBkcm9wLlxuICAgIGxldCBlbmRPZlJvdyA9IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVyAtIDE7XG4gICAgZm9yIChsZXQgaSA9IGVuZE9mUm93OyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKCF0b3BTaXRlc1tpXSB8fCAhdG9wU2l0ZXNbaV0uaXNQaW5uZWQpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IGVuZE9mUm93ICsgMTsgaSA8IHRvcFNpdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXRvcFNpdGVzW2ldIHx8ICF0b3BTaXRlc1tpXS5pc1Bpbm5lZCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICBpbnNlcnRTcG9jQ29udGVudChUb3BTaXRlcywgZGF0YSwgcHJvbW9BbGlnbm1lbnQpIHtcbiAgICBpZiAoXG4gICAgICAhVG9wU2l0ZXMucm93cyB8fFxuICAgICAgVG9wU2l0ZXMucm93cy5sZW5ndGggPT09IDAgfHxcbiAgICAgICFkYXRhLnNwb2NzIHx8XG4gICAgICBkYXRhLnNwb2NzLmxlbmd0aCA9PT0gMFxuICAgICkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgbGV0IHRvcFNpdGVzID0gWy4uLlRvcFNpdGVzLnJvd3NdO1xuICAgIGNvbnN0IHRvcFNpdGVTcG9jID0gdGhpcy5nZXRGaXJzdEF2YWlsYWJsZVNwb2ModG9wU2l0ZXMsIGRhdGEpO1xuXG4gICAgaWYgKCF0b3BTaXRlU3BvYykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgbGluayA9IHtcbiAgICAgIGN1c3RvbVNjcmVlbnNob3RVUkw6IHRvcFNpdGVTcG9jLmltYWdlX3NyYyxcbiAgICAgIHR5cGU6IFwiU1BPQ1wiLFxuICAgICAgbGFiZWw6IHRvcFNpdGVTcG9jLnNwb25zb3IsXG4gICAgICB0aXRsZTogdG9wU2l0ZVNwb2Muc3BvbnNvcixcbiAgICAgIHVybDogdG9wU2l0ZVNwb2MudXJsLFxuICAgICAgZmxpZ2h0SWQ6IHRvcFNpdGVTcG9jLmZsaWdodF9pZCxcbiAgICAgIGlkOiB0b3BTaXRlU3BvYy5pZCxcbiAgICAgIGd1aWQ6IHRvcFNpdGVTcG9jLmlkLFxuICAgICAgc2hpbTogdG9wU2l0ZVNwb2Muc2hpbSxcbiAgICAgIC8vIEZvciBub3cgd2UgYXJlIGFzc3VtaW5nIHBvc2l0aW9uIGJhc2VkIG9uIGludGVuZGVkIHBvc2l0aW9uLlxuICAgICAgLy8gQWN0dWFsIHBvc2l0aW9uIGNhbiBzaGlmdCBiYXNlZCBvbiBvdGhlciBjb250ZW50LlxuICAgICAgLy8gV2UgYWxzbyBoYXJkIGNvZGUgbGVmdCBhbmQgcmlnaHQgdG8gYmUgMCBhbmQgNy5cbiAgICAgIC8vIFdlIHNlbmQgdGhlIGludGVuZGVkIHBvc3Rpb24gaW4gdGhlIHBpbmcuXG4gICAgICBwb3M6IHByb21vQWxpZ25tZW50ID09PSBcImxlZnRcIiA/IDAgOiA3LFxuICAgIH07XG5cbiAgICBjb25zdCBmaXJzdEF2YWlsYWJsZUluZGV4ID0gdGhpcy5nZXRGaXJzdEF2YWlsYWJsZUluZGV4KFxuICAgICAgdG9wU2l0ZXMsXG4gICAgICBwcm9tb0FsaWdubWVudFxuICAgICk7XG5cbiAgICBpZiAoZmlyc3RBdmFpbGFibGVJbmRleCA9PT0gLTEpIHtcbiAgICAgIHRvcFNpdGVzLnB1c2gobGluayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vcm1hbCBpbnNlcnRpb24gd2lsbCBub3Qgd29yayBzaW5jZSBwaW5uZWQgdG9wc2l0ZXMgYXJlIGluIHRoZWlyIGNvcnJlY3QgaW5kZXggYWxyZWFkeVxuICAgICAgLy8gU2ltaWxhciBsb2dpYyBpcyBkb25lIHRvIGhhbmRsZSBkcmFnIGFuZCBkcm9wIHdpdGggcGlubmVkIHRvcHNpdGVzIGluIFRvcFNpdGUuanN4XG5cbiAgICAgIGxldCBzaGlmdGVkVG9wU2l0ZSA9IHRvcFNpdGVzW2ZpcnN0QXZhaWxhYmxlSW5kZXhdO1xuICAgICAgbGV0IGluZGV4ID0gZmlyc3RBdmFpbGFibGVJbmRleCArIDE7XG5cbiAgICAgIC8vIFNoaWZ0IHVucGlubmVkIHRvcHNpdGVzIHRvIHRoZSByaWdodCBieSBmaW5kaW5nIHRoZSBuZXh0IHVucGlubmVkIHRvcHNpdGUgdG8gcmVwbGFjZVxuICAgICAgd2hpbGUgKHNoaWZ0ZWRUb3BTaXRlKSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gdG9wU2l0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdG9wU2l0ZXMucHVzaChzaGlmdGVkVG9wU2l0ZSk7XG4gICAgICAgICAgc2hpZnRlZFRvcFNpdGUgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKHRvcFNpdGVzW2luZGV4XSAmJiB0b3BTaXRlc1tpbmRleF0uaXNQaW5uZWQpIHtcbiAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG5leHRUb3BTaXRlID0gdG9wU2l0ZXNbaW5kZXhdO1xuICAgICAgICAgIHRvcFNpdGVzW2luZGV4XSA9IHNoaWZ0ZWRUb3BTaXRlO1xuICAgICAgICAgIHNoaWZ0ZWRUb3BTaXRlID0gbmV4dFRvcFNpdGU7XG4gICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0b3BTaXRlc1tmaXJzdEF2YWlsYWJsZUluZGV4XSA9IGxpbms7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgLi4uVG9wU2l0ZXMsIHJvd3M6IHRvcFNpdGVzIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBoZWFkZXIgPSB7fSwgZGF0YSwgcHJvbW9BbGlnbm1lbnQsIFRvcFNpdGVzIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgVG9wU2l0ZXNXaXRoU3BvYyA9XG4gICAgICBUb3BTaXRlcyAmJiBkYXRhICYmIHByb21vQWxpZ25tZW50XG4gICAgICAgID8gdGhpcy5pbnNlcnRTcG9jQ29udGVudChUb3BTaXRlcywgZGF0YSwgcHJvbW9BbGlnbm1lbnQpXG4gICAgICAgIDogbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YGRzLXRvcC1zaXRlcyAke1RvcFNpdGVzV2l0aFNwb2MgPyBcInRvcC1zaXRlcy1zcG9jXCIgOiBcIlwifWB9XG4gICAgICA+XG4gICAgICAgIDxPbGRUb3BTaXRlc1xuICAgICAgICAgIGlzRml4ZWQ9e3RydWV9XG4gICAgICAgICAgdGl0bGU9e2hlYWRlci50aXRsZX1cbiAgICAgICAgICBUb3BTaXRlc1dpdGhTcG9jPXtUb3BTaXRlc1dpdGhTcG9jfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgVG9wU2l0ZXMgPSBjb25uZWN0KHN0YXRlID0+ICh7IFRvcFNpdGVzOiBzdGF0ZS5Ub3BTaXRlcyB9KSkoXG4gIF9Ub3BTaXRlc1xuKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbi8qIGdsb2JhbHMgQ29udGVudFNlYXJjaFVJQ29udHJvbGxlciwgQ29udGVudFNlYXJjaEhhbmRvZmZVSUNvbnRyb2xsZXIgKi9cblwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBJU19ORVdUQUIgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgX1NlYXJjaCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uU2VhcmNoQ2xpY2sgPSB0aGlzLm9uU2VhcmNoQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU2VhcmNoSGFuZG9mZkNsaWNrID0gdGhpcy5vblNlYXJjaEhhbmRvZmZDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TZWFyY2hIYW5kb2ZmUGFzdGUgPSB0aGlzLm9uU2VhcmNoSGFuZG9mZlBhc3RlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblNlYXJjaEhhbmRvZmZEcm9wID0gdGhpcy5vblNlYXJjaEhhbmRvZmZEcm9wLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbklucHV0TW91bnQgPSB0aGlzLm9uSW5wdXRNb3VudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25JbnB1dE1vdW50SGFuZG9mZiA9IHRoaXMub25JbnB1dE1vdW50SGFuZG9mZi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TZWFyY2hIYW5kb2ZmQnV0dG9uTW91bnQgPSB0aGlzLm9uU2VhcmNoSGFuZG9mZkJ1dHRvbk1vdW50LmJpbmQoXG4gICAgICB0aGlzXG4gICAgKTtcbiAgfVxuXG4gIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgLy8gQWxzbyB0cmFjayBzZWFyY2ggZXZlbnRzIHdpdGggb3VyIG93biB0ZWxlbWV0cnlcbiAgICBpZiAoZXZlbnQuZGV0YWlsLnR5cGUgPT09IFwiU2VhcmNoXCIpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuVXNlckV2ZW50KHsgZXZlbnQ6IFwiU0VBUkNIXCIgfSkpO1xuICAgIH1cbiAgfVxuXG4gIG9uU2VhcmNoQ2xpY2soZXZlbnQpIHtcbiAgICB3aW5kb3cuZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyLnNlYXJjaChldmVudCk7XG4gIH1cblxuICBkb1NlYXJjaEhhbmRvZmYodGV4dCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHsgdHlwZTogYXQuSEFORE9GRl9TRUFSQ0hfVE9fQVdFU09NRUJBUiwgZGF0YTogeyB0ZXh0IH0gfSlcbiAgICApO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyB0eXBlOiBhdC5GQUtFX0ZPQ1VTX1NFQVJDSCB9KTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLlVzZXJFdmVudCh7IGV2ZW50OiBcIlNFQVJDSF9IQU5ET0ZGXCIgfSkpO1xuICAgIGlmICh0ZXh0KSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHsgdHlwZTogYXQuRElTQUJMRV9TRUFSQ0ggfSk7XG4gICAgfVxuICB9XG5cbiAgb25TZWFyY2hIYW5kb2ZmQ2xpY2soZXZlbnQpIHtcbiAgICAvLyBXaGVuIHNlYXJjaCBoYW5kLW9mZiBpcyBlbmFibGVkLCB3ZSByZW5kZXIgYSBiaWcgYnV0dG9uIHRoYXQgaXMgc3R5bGVkIHRvXG4gICAgLy8gbG9vayBsaWtlIGEgc2VhcmNoIHRleHRib3guIElmIHRoZSBidXR0b24gaXMgY2xpY2tlZCwgd2Ugc3R5bGVcbiAgICAvLyB0aGUgYnV0dG9uIGFzIGlmIGl0IHdhcyBhIGZvY3VzZWQgc2VhcmNoIGJveCBhbmQgc2hvdyBhIGZha2UgY3Vyc29yIGJ1dFxuICAgIC8vIHJlYWxseSBmb2N1cyB0aGUgYXdlc29tZWJhciB3aXRob3V0IHRoZSBmb2N1cyBzdHlsZXMgKFwiaGlkZGVuIGZvY3VzXCIpLlxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5kb1NlYXJjaEhhbmRvZmYoKTtcbiAgfVxuXG4gIG9uU2VhcmNoSGFuZG9mZlBhc3RlKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmRvU2VhcmNoSGFuZG9mZihldmVudC5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpKTtcbiAgfVxuXG4gIG9uU2VhcmNoSGFuZG9mZkRyb3AoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGxldCB0ZXh0ID0gZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0XCIpO1xuICAgIGlmICh0ZXh0KSB7XG4gICAgICB0aGlzLmRvU2VhcmNoSGFuZG9mZih0ZXh0KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBkZWxldGUgd2luZG93LmdDb250ZW50U2VhcmNoQ29udHJvbGxlcjtcbiAgfVxuXG4gIG9uSW5wdXRNb3VudChpbnB1dCkge1xuICAgIGlmIChpbnB1dCkge1xuICAgICAgLy8gVGhlIFwiaGVhbHRoUmVwb3J0S2V5XCIgYW5kIG5lZWRzIHRvIGJlIFwibmV3dGFiXCIgb3IgXCJhYm91dGhvbWVcIiBzbyB0aGF0XG4gICAgICAvLyBCcm93c2VyVXNhZ2VUZWxlbWV0cnkuanNtIGtub3dzIHRvIGhhbmRsZSBldmVudHMgd2l0aCB0aGlzIG5hbWUsIGFuZFxuICAgICAgLy8gY2FuIGFkZCB0aGUgYXBwcm9wcmlhdGUgdGVsZW1ldHJ5IHByb2JlcyBmb3Igc2VhcmNoLiBXaXRob3V0IHRoZSBjb3JyZWN0XG4gICAgICAvLyBuYW1lLCBjZXJ0YWluIHRlc3RzIGxpa2UgYnJvd3Nlcl9Vc2FnZVRlbGVtZXRyeV9jb250ZW50LmpzIHdpbGwgZmFpbFxuICAgICAgLy8gKFNlZSBnaXRodWIgdGlja2V0ICMyMzQ4IGZvciBtb3JlIGRldGFpbHMpXG4gICAgICBjb25zdCBoZWFsdGhSZXBvcnRLZXkgPSBJU19ORVdUQUIgPyBcIm5ld3RhYlwiIDogXCJhYm91dGhvbWVcIjtcblxuICAgICAgLy8gVGhlIFwic2VhcmNoU291cmNlXCIgbmVlZHMgdG8gYmUgXCJuZXd0YWJcIiBvciBcImhvbWVwYWdlXCIgYW5kIGlzIHNlbnQgd2l0aFxuICAgICAgLy8gdGhlIHNlYXJjaCBkYXRhIGFuZCBhY3RzIGFzIGNvbnRleHQgZm9yIHRoZSBzZWFyY2ggcmVxdWVzdCAoU2VlXG4gICAgICAvLyBuc0lTZWFyY2hFbmdpbmUuZ2V0U3VibWlzc2lvbikuIEl0IGlzIG5lY2Vzc2FyeSBzbyB0aGF0IHNlYXJjaCBlbmdpbmVcbiAgICAgIC8vIHBsdWdpbnMgY2FuIGNvcnJlY3RseSBhdHJpYnV0ZSByZWZlcnJhbHMuIChTZWUgZ2l0aHViIHRpY2tldCAjMzMyMSBmb3JcbiAgICAgIC8vIG1vcmUgZGV0YWlscylcbiAgICAgIGNvbnN0IHNlYXJjaFNvdXJjZSA9IElTX05FV1RBQiA/IFwibmV3dGFiXCIgOiBcImhvbWVwYWdlXCI7XG5cbiAgICAgIC8vIGdDb250ZW50U2VhcmNoQ29udHJvbGxlciBuZWVkcyB0byBleGlzdCBhcyBhIGdsb2JhbCBzbyB0aGF0IHRlc3RzIGZvclxuICAgICAgLy8gdGhlIGV4aXN0aW5nIGFib3V0OmhvbWUgY2FuIGZpbmQgaXQ7IGFuZCBzbyBpdCBhbGxvd3MgdGhlc2UgdGVzdHMgdG8gcGFzcy5cbiAgICAgIC8vIEluIHRoZSBmdXR1cmUsIHdoZW4gYWN0aXZpdHkgc3RyZWFtIGlzIGRlZmF1bHQgYWJvdXQ6aG9tZSwgdGhpcyBjYW4gYmUgcmVuYW1lZFxuICAgICAgd2luZG93LmdDb250ZW50U2VhcmNoQ29udHJvbGxlciA9IG5ldyBDb250ZW50U2VhcmNoVUlDb250cm9sbGVyKFxuICAgICAgICBpbnB1dCxcbiAgICAgICAgaW5wdXQucGFyZW50Tm9kZSxcbiAgICAgICAgaGVhbHRoUmVwb3J0S2V5LFxuICAgICAgICBzZWFyY2hTb3VyY2VcbiAgICAgICk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKFwiQ29udGVudFNlYXJjaENsaWVudFwiLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmdDb250ZW50U2VhcmNoQ29udHJvbGxlciA9IG51bGw7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyKFwiQ29udGVudFNlYXJjaENsaWVudFwiLCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICBvbklucHV0TW91bnRIYW5kb2ZmKGlucHV0KSB7XG4gICAgaWYgKGlucHV0KSB7XG4gICAgICAvLyBUaGUgaGFuZG9mZiBVSSBjb250cm9sbGVyIGhlbHBzIHVzIHNldCB0aGUgc2VhcmNoIGljb24gYW5kIHJlYWN0cyB0b1xuICAgICAgLy8gY2hhbmdlcyB0byBkZWZhdWx0IGVuZ2luZSB0byBrZWVwIGV2ZXJ5dGhpbmcgaW4gc3luYy5cbiAgICAgIHRoaXMuX2hhbmRvZmZTZWFyY2hDb250cm9sbGVyID0gbmV3IENvbnRlbnRTZWFyY2hIYW5kb2ZmVUlDb250cm9sbGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0RGVmYXVsdEVuZ2luZU5hbWUoKSB7XG4gICAgLy8gX2hhbmRvZmZTZWFyY2hDb250cm9sbGVyIHdpbGwgbWFuYWdlIGVuZ2luZSBuYW1lcyBvbmNlIGl0IGlzIGluaXRpYWxpemVkLlxuICAgIHJldHVybiB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tcInVybGJhci5wbGFjZWhvbGRlck5hbWVcIl07XG4gIH1cblxuICBnZXRIYW5kb2ZmSW5wdXRMMTBuQXR0cmlidXRlcygpIHtcbiAgICBsZXQgZGVmYXVsdEVuZ2luZU5hbWUgPSB0aGlzLmdldERlZmF1bHRFbmdpbmVOYW1lKCk7XG4gICAgcmV0dXJuIGRlZmF1bHRFbmdpbmVOYW1lXG4gICAgICA/IHtcbiAgICAgICAgICBcImRhdGEtbDEwbi1pZFwiOiBcIm5ld3RhYi1zZWFyY2gtYm94LWhhbmRvZmYtaW5wdXRcIixcbiAgICAgICAgICBcImRhdGEtbDEwbi1hcmdzXCI6IGB7XCJlbmdpbmVcIjogXCIke2RlZmF1bHRFbmdpbmVOYW1lfVwifWAsXG4gICAgICAgIH1cbiAgICAgIDoge1xuICAgICAgICAgIFwiZGF0YS1sMTBuLWlkXCI6IFwibmV3dGFiLXNlYXJjaC1ib3gtaGFuZG9mZi1pbnB1dC1uby1lbmdpbmVcIixcbiAgICAgICAgfTtcbiAgfVxuXG4gIGdldEhhbmRvZmZUZXh0TDEwbkF0dHJpYnV0ZXMoKSB7XG4gICAgbGV0IGRlZmF1bHRFbmdpbmVOYW1lID0gdGhpcy5nZXREZWZhdWx0RW5naW5lTmFtZSgpO1xuICAgIHJldHVybiBkZWZhdWx0RW5naW5lTmFtZVxuICAgICAgPyB7XG4gICAgICAgICAgXCJkYXRhLWwxMG4taWRcIjogXCJuZXd0YWItc2VhcmNoLWJveC1oYW5kb2ZmLXRleHRcIixcbiAgICAgICAgICBcImRhdGEtbDEwbi1hcmdzXCI6IGB7XCJlbmdpbmVcIjogXCIke2RlZmF1bHRFbmdpbmVOYW1lfVwifWAsXG4gICAgICAgIH1cbiAgICAgIDoge1xuICAgICAgICAgIFwiZGF0YS1sMTBuLWlkXCI6IFwibmV3dGFiLXNlYXJjaC1ib3gtaGFuZG9mZi10ZXh0LW5vLWVuZ2luZVwiLFxuICAgICAgICB9O1xuICB9XG5cbiAgb25TZWFyY2hIYW5kb2ZmQnV0dG9uTW91bnQoYnV0dG9uKSB7XG4gICAgLy8gS2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgYnV0dG9uIGZvciB1c2UgZHVyaW5nIFwicGFzdGVcIiBldmVudCBoYW5kbGluZy5cbiAgICB0aGlzLl9zZWFyY2hIYW5kb2ZmQnV0dG9uID0gYnV0dG9uO1xuICB9XG5cbiAgLypcbiAgICogRG8gbm90IGNoYW5nZSB0aGUgSUQgb24gdGhlIGlucHV0IGZpZWxkLCBhcyBsZWdhY3kgbmV3dGFiIGNvZGVcbiAgICogc3BlY2lmaWNhbGx5IGxvb2tzIGZvciB0aGUgaWQgJ25ld3RhYi1zZWFyY2gtdGV4dCcgb24gaW5wdXQgZmllbGRzXG4gICAqIGluIG9yZGVyIHRvIGV4ZWN1dGUgc2VhcmNoZXMgaW4gdmFyaW91cyB0ZXN0c1xuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHdyYXBwZXJDbGFzc05hbWUgPSBbXG4gICAgICBcInNlYXJjaC13cmFwcGVyXCIsXG4gICAgICB0aGlzLnByb3BzLmRpc2FibGUgJiYgXCJzZWFyY2gtZGlzYWJsZWRcIixcbiAgICAgIHRoaXMucHJvcHMuZmFrZUZvY3VzICYmIFwiZmFrZS1mb2N1c1wiLFxuICAgIF1cbiAgICAgIC5maWx0ZXIodiA9PiB2KVxuICAgICAgLmpvaW4oXCIgXCIpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt3cmFwcGVyQ2xhc3NOYW1lfT5cbiAgICAgICAge3RoaXMucHJvcHMuc2hvd0xvZ28gJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9nby1hbmQtd29yZG1hcmtcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9nb1wiIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndvcmRtYXJrXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgeyF0aGlzLnByb3BzLmhhbmRvZmZFbmFibGVkICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlYXJjaC1pbm5lci13cmFwcGVyXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgaWQ9XCJuZXd0YWItc2VhcmNoLXRleHRcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VhcmNoLWJveC1pbnB1dFwiXG4gICAgICAgICAgICAgIG1heExlbmd0aD1cIjI1NlwiXG4gICAgICAgICAgICAgIHJlZj17dGhpcy5vbklucHV0TW91bnR9XG4gICAgICAgICAgICAgIHR5cGU9XCJzZWFyY2hcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgaWQ9XCJzZWFyY2hTdWJtaXRcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWFyY2gtYnV0dG9uXCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNlYXJjaC1ib3gtc2VhcmNoLWJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25TZWFyY2hDbGlja31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIHt0aGlzLnByb3BzLmhhbmRvZmZFbmFibGVkICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlYXJjaC1pbm5lci13cmFwcGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlYXJjaC1oYW5kb2ZmLWJ1dHRvblwiXG4gICAgICAgICAgICAgIHsuLi50aGlzLmdldEhhbmRvZmZJbnB1dEwxMG5BdHRyaWJ1dGVzKCl9XG4gICAgICAgICAgICAgIHJlZj17dGhpcy5vblNlYXJjaEhhbmRvZmZCdXR0b25Nb3VudH1cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblNlYXJjaEhhbmRvZmZDbGlja31cbiAgICAgICAgICAgICAgdGFiSW5kZXg9XCItMVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmYWtlLXRleHRib3hcIlxuICAgICAgICAgICAgICAgIHsuLi50aGlzLmdldEhhbmRvZmZUZXh0TDEwbkF0dHJpYnV0ZXMoKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInNlYXJjaFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmFrZS1lZGl0YWJsZVwiXG4gICAgICAgICAgICAgICAgdGFiSW5kZXg9XCItMVwiXG4gICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICBvbkRyb3A9e3RoaXMub25TZWFyY2hIYW5kb2ZmRHJvcH1cbiAgICAgICAgICAgICAgICBvblBhc3RlPXt0aGlzLm9uU2VhcmNoSGFuZG9mZlBhc3RlfVxuICAgICAgICAgICAgICAgIHJlZj17dGhpcy5vbklucHV0TW91bnRIYW5kb2ZmfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZha2UtY2FyZXRcIiAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBTZWFyY2ggPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbn0pKShfU2VhcmNoKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IHBlcmZTZXJ2aWNlIGFzIHBlcmZTdmMgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL3BlcmYtc2VydmljZVwiO1xuXG5jb25zdCBWSVNJQkxFID0gXCJ2aXNpYmxlXCI7XG5jb25zdCBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuXG5leHBvcnQgY2xhc3MgRGV0ZWN0VXNlclNlc3Npb25TdGFydCB7XG4gIGNvbnN0cnVjdG9yKHN0b3JlLCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLl9zdG9yZSA9IHN0b3JlO1xuICAgIC8vIE92ZXJyaWRlcyBmb3IgdGVzdGluZ1xuICAgIHRoaXMuZG9jdW1lbnQgPSBvcHRpb25zLmRvY3VtZW50IHx8IGdsb2JhbC5kb2N1bWVudDtcbiAgICB0aGlzLl9wZXJmU2VydmljZSA9IG9wdGlvbnMucGVyZlNlcnZpY2UgfHwgcGVyZlN2YztcbiAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UgPSB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBzZW5kRXZlbnRPckFkZExpc3RlbmVyIC0gTm90aWZ5IGltbWVkaWF0ZWx5IGlmIHRoZSBwYWdlIGlzIGFscmVhZHkgdmlzaWJsZSxcbiAgICogICAgICAgICAgICAgICAgICAgIG9yIGVsc2Ugc2V0IHVwIGEgbGlzdGVuZXIgZm9yIHdoZW4gdmlzaWJpbGl0eSBjaGFuZ2VzLlxuICAgKiAgICAgICAgICAgICAgICAgICAgVGhpcyBpcyBuZWVkZWQgZm9yIGFjY3VyYXRlIHNlc3Npb24gdHJhY2tpbmcgZm9yIHRlbGVtZXRyeSxcbiAgICogICAgICAgICAgICAgICAgICAgIGJlY2F1c2UgdGFicyBhcmUgcHJlLWxvYWRlZC5cbiAgICovXG4gIHNlbmRFdmVudE9yQWRkTGlzdGVuZXIoKSB7XG4gICAgaWYgKHRoaXMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICAvLyBJZiB0aGUgZG9jdW1lbnQgaXMgYWxyZWFkeSB2aXNpYmxlLCB0byB0aGUgdXNlciwgc2VuZCBhIG5vdGlmaWNhdGlvblxuICAgICAgLy8gaW1tZWRpYXRlbHkgdGhhdCBhIHNlc3Npb24gaGFzIHN0YXJ0ZWQuXG4gICAgICB0aGlzLl9zZW5kRXZlbnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdGhlIGRvY3VtZW50IGlzIG5vdCB2aXNpYmxlLCBsaXN0ZW4gZm9yIHdoZW4gaXQgZG9lcyBiZWNvbWUgdmlzaWJsZS5cbiAgICAgIHRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogX3NlbmRFdmVudCAtIFNlbmRzIGEgbWVzc2FnZSB0byB0aGUgbWFpbiBwcm9jZXNzIHRvIGluZGljYXRlIHRoZSBjdXJyZW50XG4gICAqICAgICAgICAgICAgICB0YWIgaXMgbm93IHZpc2libGUgdG8gdGhlIHVzZXIsIGluY2x1ZGVzIHRoZVxuICAgKiAgICAgICAgICAgICAgdmlzaWJpbGl0eV9ldmVudF9yY3ZkX3RzIHRpbWUgaW4gbXMgZnJvbSB0aGUgVU5JWCBlcG9jaC5cbiAgICovXG4gIF9zZW5kRXZlbnQoKSB7XG4gICAgdGhpcy5fcGVyZlNlcnZpY2UubWFyayhcInZpc2liaWxpdHlfZXZlbnRfcmN2ZF90c1wiKTtcblxuICAgIHRyeSB7XG4gICAgICBsZXQgdmlzaWJpbGl0eV9ldmVudF9yY3ZkX3RzID0gdGhpcy5fcGVyZlNlcnZpY2UuZ2V0TW9zdFJlY2VudEFic01hcmtTdGFydEJ5TmFtZShcbiAgICAgICAgXCJ2aXNpYmlsaXR5X2V2ZW50X3JjdmRfdHNcIlxuICAgICAgKTtcblxuICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LlNBVkVfU0VTU0lPTl9QRVJGX0RBVEEsXG4gICAgICAgICAgZGF0YTogeyB2aXNpYmlsaXR5X2V2ZW50X3JjdmRfdHMgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIC8vIElmIHRoaXMgZmFpbGVkLCBpdCdzIGxpa2VseSBiZWNhdXNlIHRoZSBgcHJpdmFjeS5yZXNpc3RGaW5nZXJwcmludGluZ2BcbiAgICAgIC8vIHByZWYgaXMgdHJ1ZS4gIFdlIHNob3VsZCBhdCBsZWFzdCBub3QgYmxvdyB1cC5cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogX29uVmlzaWJpbGl0eUNoYW5nZSAtIElmIHRoZSB2aXNpYmlsaXR5IGhhcyBjaGFuZ2VkIHRvIHZpc2libGUsIHNlbmRzIGEgbm90aWZpY2F0aW9uXG4gICAqICAgICAgICAgICAgICAgICAgICAgIGFuZCByZW1vdmVzIHRoZSBldmVudCBsaXN0ZW5lci4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgdGFiLlxuICAgKi9cbiAgX29uVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICBpZiAodGhpcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgIHRoaXMuX3NlbmRFdmVudCgpO1xuICAgICAgdGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuLyogZXNsaW50LWVudiBtb3ppbGxhL2ZyYW1lLXNjcmlwdCAqL1xuXG5pbXBvcnQge1xuICBhY3Rpb25DcmVhdG9ycyBhcyBhYyxcbiAgYWN0aW9uVHlwZXMgYXMgYXQsXG4gIGFjdGlvblV0aWxzIGFzIGF1LFxufSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBhcHBseU1pZGRsZXdhcmUsIGNvbWJpbmVSZWR1Y2VycywgY3JlYXRlU3RvcmUgfSBmcm9tIFwicmVkdXhcIjtcblxuZXhwb3J0IGNvbnN0IE1FUkdFX1NUT1JFX0FDVElPTiA9IFwiTkVXX1RBQl9JTklUSUFMX1NUQVRFXCI7XG5leHBvcnQgY29uc3QgT1VUR09JTkdfTUVTU0FHRV9OQU1FID0gXCJBY3Rpdml0eVN0cmVhbTpDb250ZW50VG9NYWluXCI7XG5leHBvcnQgY29uc3QgSU5DT01JTkdfTUVTU0FHRV9OQU1FID0gXCJBY3Rpdml0eVN0cmVhbTpNYWluVG9Db250ZW50XCI7XG5leHBvcnQgY29uc3QgRUFSTFlfUVVFVUVEX0FDVElPTlMgPSBbYXQuU0FWRV9TRVNTSU9OX1BFUkZfREFUQV07XG5cbi8qKlxuICogQSBoaWdoZXItb3JkZXIgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhIHJlZHVjZXIgdGhhdCwgb24gTUVSR0VfU1RPUkUgYWN0aW9uLFxuICogd2lsbCByZXR1cm4gdGhlIGFjdGlvbi5kYXRhIG9iamVjdCBtZXJnZWQgaW50byB0aGUgcHJldmlvdXMgc3RhdGUuXG4gKlxuICogRm9yIGFsbCBvdGhlciBhY3Rpb25zLCBpdCBtZXJlbHkgY2FsbHMgbWFpblJlZHVjZXIuXG4gKlxuICogQmVjYXVzZSB3ZSB3YW50IHRoaXMgdG8gbWVyZ2UgdGhlIGVudGlyZSBzdGF0ZSBvYmplY3QsIGl0J3Mgd3JpdHRlbiBhcyBhXG4gKiBoaWdoZXIgb3JkZXIgZnVuY3Rpb24gd2hpY2ggdGFrZXMgdGhlIG1haW4gcmVkdWNlciAoaXRzZWxmIG9mdGVuIGEgY2FsbCB0b1xuICogY29tYmluZVJlZHVjZXJzKSBhcyBhIHBhcmFtZXRlci5cbiAqXG4gKiBAcGFyYW0gIHtmdW5jdGlvbn0gbWFpblJlZHVjZXIgcmVkdWNlciB0byBjYWxsIGlmIGFjdGlvbiAhPSBNRVJHRV9TVE9SRV9BQ1RJT05cbiAqIEByZXR1cm4ge2Z1bmN0aW9ufSAgICAgICAgICAgICBhIHJlZHVjZXIgdGhhdCwgb24gTUVSR0VfU1RPUkVfQUNUSU9OIGFjdGlvbixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWxsIHJldHVybiB0aGUgYWN0aW9uLmRhdGEgb2JqZWN0IG1lcmdlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludG8gdGhlIHByZXZpb3VzIHN0YXRlLCBhbmQgdGhlIHJlc3VsdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIGNhbGxpbmcgbWFpblJlZHVjZXIgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBtZXJnZVN0YXRlUmVkdWNlcihtYWluUmVkdWNlcikge1xuICByZXR1cm4gKHByZXZTdGF0ZSwgYWN0aW9uKSA9PiB7XG4gICAgaWYgKGFjdGlvbi50eXBlID09PSBNRVJHRV9TVE9SRV9BQ1RJT04pIHtcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgLi4uYWN0aW9uLmRhdGEgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFpblJlZHVjZXIocHJldlN0YXRlLCBhY3Rpb24pO1xuICB9O1xufVxuXG4vKipcbiAqIG1lc3NhZ2VNaWRkbGV3YXJlIC0gTWlkZGxld2FyZSB0aGF0IGxvb2tzIGZvciBTZW50VG9NYWluIHR5cGUgYWN0aW9ucywgYW5kIHNlbmRzIHRoZW0gaWYgbmVjZXNzYXJ5XG4gKi9cbmNvbnN0IG1lc3NhZ2VNaWRkbGV3YXJlID0gc3RvcmUgPT4gbmV4dCA9PiBhY3Rpb24gPT4ge1xuICBjb25zdCBza2lwTG9jYWwgPSBhY3Rpb24ubWV0YSAmJiBhY3Rpb24ubWV0YS5za2lwTG9jYWw7XG4gIGlmIChhdS5pc1NlbmRUb01haW4oYWN0aW9uKSkge1xuICAgIFJQTVNlbmRBc3luY01lc3NhZ2UoT1VUR09JTkdfTUVTU0FHRV9OQU1FLCBhY3Rpb24pO1xuICB9XG4gIGlmICghc2tpcExvY2FsKSB7XG4gICAgbmV4dChhY3Rpb24pO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcmVoeWRyYXRpb25NaWRkbGV3YXJlID0gKHsgZ2V0U3RhdGUgfSkgPT4ge1xuICAvLyBOQjogVGhlIHBhcmFtZXRlciBoZXJlIGlzIE1pZGRsZXdhcmVBUEkgd2hpY2ggbG9va3MgbGlrZSBhIFN0b3JlIGFuZCBzaGFyZXNcbiAgLy8gdGhlIHNhbWUgZ2V0U3RhdGUsIHNvIGF0dGFjaGVkIHByb3BlcnRpZXMgYXJlIGFjY2Vzc2libGUgZnJvbSB0aGUgc3RvcmUuXG4gIGdldFN0YXRlLmRpZFJlaHlkcmF0ZSA9IGZhbHNlO1xuICBnZXRTdGF0ZS5kaWRSZXF1ZXN0SW5pdGlhbFN0YXRlID0gZmFsc2U7XG4gIHJldHVybiBuZXh0ID0+IGFjdGlvbiA9PiB7XG4gICAgaWYgKGdldFN0YXRlLmRpZFJlaHlkcmF0ZSB8fCB3aW5kb3cuX19GUk9NX1NUQVJUVVBfQ0FDSEVfXykge1xuICAgICAgLy8gU3RhcnR1cCBtZXNzYWdlcyBjYW4gYmUgc2FmZWx5IGlnbm9yZWQgYnkgdGhlIGFib3V0OmhvbWUgZG9jdW1lbnRcbiAgICAgIC8vIHN0b3JlZCBpbiB0aGUgc3RhcnR1cCBjYWNoZS5cbiAgICAgIGlmIChcbiAgICAgICAgd2luZG93Ll9fRlJPTV9TVEFSVFVQX0NBQ0hFX18gJiZcbiAgICAgICAgYWN0aW9uLm1ldGEgJiZcbiAgICAgICAgYWN0aW9uLm1ldGEuaXNTdGFydHVwXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgIH1cblxuICAgIGNvbnN0IGlzTWVyZ2VTdG9yZUFjdGlvbiA9IGFjdGlvbi50eXBlID09PSBNRVJHRV9TVE9SRV9BQ1RJT047XG4gICAgY29uc3QgaXNSZWh5ZHJhdGlvblJlcXVlc3QgPSBhY3Rpb24udHlwZSA9PT0gYXQuTkVXX1RBQl9TVEFURV9SRVFVRVNUO1xuXG4gICAgaWYgKGlzUmVoeWRyYXRpb25SZXF1ZXN0KSB7XG4gICAgICBnZXRTdGF0ZS5kaWRSZXF1ZXN0SW5pdGlhbFN0YXRlID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKGlzTWVyZ2VTdG9yZUFjdGlvbikge1xuICAgICAgZ2V0U3RhdGUuZGlkUmVoeWRyYXRlID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgfVxuXG4gICAgLy8gSWYgaW5pdCBoYXBwZW5lZCBhZnRlciBvdXIgcmVxdWVzdCB3YXMgbWFkZSwgd2UgbmVlZCB0byByZS1yZXF1ZXN0XG4gICAgaWYgKGdldFN0YXRlLmRpZFJlcXVlc3RJbml0aWFsU3RhdGUgJiYgYWN0aW9uLnR5cGUgPT09IGF0LklOSVQpIHtcbiAgICAgIHJldHVybiBuZXh0KGFjLkFsc29Ub01haW4oeyB0eXBlOiBhdC5ORVdfVEFCX1NUQVRFX1JFUVVFU1QgfSkpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGF1LmlzQnJvYWRjYXN0VG9Db250ZW50KGFjdGlvbikgfHxcbiAgICAgIGF1LmlzU2VuZFRvT25lQ29udGVudChhY3Rpb24pIHx8XG4gICAgICBhdS5pc1NlbmRUb1ByZWxvYWRlZChhY3Rpb24pXG4gICAgKSB7XG4gICAgICAvLyBOb3RlIHRoYXQgYWN0aW9ucyByZWNlaXZlZCBiZWZvcmUgZGlkUmVoeWRyYXRlIHdpbGwgbm90IGJlIGRpc3BhdGNoZWRcbiAgICAgIC8vIGJlY2F1c2UgdGhpcyBjb3VsZCBuZWdhdGl2ZWx5IGFmZmVjdCBwcmVsb2FkaW5nIGFuZCB0aGUgdGhlIHN0YXRlXG4gICAgICAvLyB3aWxsIGJlIHJlcGxhY2VkIGJ5IHJlaHlkcmF0aW9uIGFueXdheS5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gIH07XG59O1xuXG4vKipcbiAqIFRoaXMgbWlkZGxld2FyZSBxdWV1ZXMgdXAgYWxsIHRoZSBFQVJMWV9RVUVVRURfQUNUSU9OUyB1bnRpbCBpdCByZWNlaXZlc1xuICogdGhlIGZpcnN0IGFjdGlvbiBmcm9tIG1haW4uIFRoaXMgaXMgdXNlZnVsIGZvciB0aG9zZSBhY3Rpb25zIGZvciBtYWluIHdoaWNoXG4gKiByZXF1aXJlIGhpZ2hlciByZWxpYWJpbGl0eSwgaS5lLiB0aGUgYWN0aW9uIHdpbGwgbm90IGJlIGxvc3QgaW4gdGhlIGNhc2VcbiAqIHRoYXQgaXQgZ2V0cyBzZW50IGJlZm9yZSB0aGUgbWFpbiBpcyByZWFkeSB0byByZWNlaXZlIGl0LiBDb252ZXJzZWx5LCBhbnlcbiAqIGFjdGlvbnMgYWxsb3dlZCBlYXJseSBhcmUgYWNjZXB0ZWQgdG8gYmUgaWdub3JhYmxlIG9yIHJlLXNlbmRhYmxlLlxuICovXG5leHBvcnQgY29uc3QgcXVldWVFYXJseU1lc3NhZ2VNaWRkbGV3YXJlID0gKHsgZ2V0U3RhdGUgfSkgPT4ge1xuICAvLyBOQjogVGhlIHBhcmFtZXRlciBoZXJlIGlzIE1pZGRsZXdhcmVBUEkgd2hpY2ggbG9va3MgbGlrZSBhIFN0b3JlIGFuZCBzaGFyZXNcbiAgLy8gdGhlIHNhbWUgZ2V0U3RhdGUsIHNvIGF0dGFjaGVkIHByb3BlcnRpZXMgYXJlIGFjY2Vzc2libGUgZnJvbSB0aGUgc3RvcmUuXG4gIGdldFN0YXRlLmVhcmx5QWN0aW9uUXVldWUgPSBbXTtcbiAgZ2V0U3RhdGUucmVjZWl2ZWRGcm9tTWFpbiA9IGZhbHNlO1xuICByZXR1cm4gbmV4dCA9PiBhY3Rpb24gPT4ge1xuICAgIGlmIChnZXRTdGF0ZS5yZWNlaXZlZEZyb21NYWluKSB7XG4gICAgICBuZXh0KGFjdGlvbik7XG4gICAgfSBlbHNlIGlmIChhdS5pc0Zyb21NYWluKGFjdGlvbikpIHtcbiAgICAgIG5leHQoYWN0aW9uKTtcbiAgICAgIGdldFN0YXRlLnJlY2VpdmVkRnJvbU1haW4gPSB0cnVlO1xuICAgICAgLy8gU2VuZGluZyBvdXQgYWxsIHRoZSBlYXJseSBhY3Rpb25zIGFzIG1haW4gaXMgcmVhZHkgbm93XG4gICAgICBnZXRTdGF0ZS5lYXJseUFjdGlvblF1ZXVlLmZvckVhY2gobmV4dCk7XG4gICAgICBnZXRTdGF0ZS5lYXJseUFjdGlvblF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgfSBlbHNlIGlmIChFQVJMWV9RVUVVRURfQUNUSU9OUy5pbmNsdWRlcyhhY3Rpb24udHlwZSkpIHtcbiAgICAgIGdldFN0YXRlLmVhcmx5QWN0aW9uUXVldWUucHVzaChhY3Rpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMZXQgYW55IG90aGVyIHR5cGUgb2YgYWN0aW9uIGdvIHRocm91Z2hcbiAgICAgIG5leHQoYWN0aW9uKTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIGluaXRTdG9yZSAtIENyZWF0ZSBhIHN0b3JlIGFuZCBsaXN0ZW4gZm9yIGluY29taW5nIGFjdGlvbnNcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IHJlZHVjZXJzIEFuIG9iamVjdCBjb250YWluaW5nIFJlZHV4IHJlZHVjZXJzXG4gKiBAcGFyYW0gIHtvYmplY3R9IGludGlhbFN0YXRlIChvcHRpb25hbCkgVGhlIGluaXRpYWwgc3RhdGUgb2YgdGhlIHN0b3JlLCBpZiBkZXNpcmVkXG4gKiBAcmV0dXJuIHtvYmplY3R9ICAgICAgICAgIEEgcmVkdXggc3RvcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRTdG9yZShyZWR1Y2VycywgaW5pdGlhbFN0YXRlKSB7XG4gIGNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoXG4gICAgbWVyZ2VTdGF0ZVJlZHVjZXIoY29tYmluZVJlZHVjZXJzKHJlZHVjZXJzKSksXG4gICAgaW5pdGlhbFN0YXRlLFxuICAgIGdsb2JhbC5SUE1BZGRNZXNzYWdlTGlzdGVuZXIgJiZcbiAgICAgIGFwcGx5TWlkZGxld2FyZShcbiAgICAgICAgcXVldWVFYXJseU1lc3NhZ2VNaWRkbGV3YXJlLFxuICAgICAgICByZWh5ZHJhdGlvbk1pZGRsZXdhcmUsXG4gICAgICAgIG1lc3NhZ2VNaWRkbGV3YXJlXG4gICAgICApXG4gICk7XG5cbiAgaWYgKGdsb2JhbC5SUE1BZGRNZXNzYWdlTGlzdGVuZXIpIHtcbiAgICBnbG9iYWwuUlBNQWRkTWVzc2FnZUxpc3RlbmVyKElOQ09NSU5HX01FU1NBR0VfTkFNRSwgbXNnID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKG1zZy5kYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb250ZW50IG1zZzpcIiwgbXNnLCBcIkRpc3BhdGNoIGVycm9yOiBcIiwgZXgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgZHVtcChcbiAgICAgICAgICBgQ29udGVudCBtc2c6ICR7SlNPTi5zdHJpbmdpZnkobXNnKX1cXG5EaXNwYXRjaCBlcnJvcjogJHtleH1cXG4ke1xuICAgICAgICAgICAgZXguc3RhY2tcbiAgICAgICAgICB9YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHN0b3JlO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBSZWR1eDsiLCIvKlxuICogU3luY2hyb25vdXNseSBtYXAgYW4gaWRlbnRpZmllciBvciBhbiBhcnJheSBvZiBpZGVudGlmaWVycyB0byB0aGUgYmVzdFxuICogYEZsdWVudEJ1bmRsZWAgaW5zdGFuY2UocykuXG4gKlxuICogQHBhcmFtIHtJdGVyYWJsZX0gaXRlcmFibGVcbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IGlkc1xuICogQHJldHVybnMge0ZsdWVudEJ1bmRsZXxBcnJheTxGbHVlbnRCdW5kbGU+fVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXBCdW5kbGVTeW5jKGl0ZXJhYmxlLCBpZHMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGlkcykpIHtcbiAgICByZXR1cm4gZ2V0QnVuZGxlRm9ySWQoaXRlcmFibGUsIGlkcyk7XG4gIH1cblxuICByZXR1cm4gaWRzLm1hcChcbiAgICBpZCA9PiBnZXRCdW5kbGVGb3JJZChpdGVyYWJsZSwgaWQpXG4gICk7XG59XG5cbi8qXG4gKiBGaW5kIHRoZSBiZXN0IGBGbHVlbnRCdW5kbGVgIHdpdGggdGhlIHRyYW5zbGF0aW9uIGZvciBgaWRgLlxuICovXG5mdW5jdGlvbiBnZXRCdW5kbGVGb3JJZChpdGVyYWJsZSwgaWQpIHtcbiAgZm9yIChjb25zdCBidW5kbGUgb2YgaXRlcmFibGUpIHtcbiAgICBpZiAoYnVuZGxlLmhhc01lc3NhZ2UoaWQpKSB7XG4gICAgICByZXR1cm4gYnVuZGxlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuIiwiLypcbiAqIEFzeW5jaHJvbm91c2x5IG1hcCBhbiBpZGVudGlmaWVyIG9yIGFuIGFycmF5IG9mIGlkZW50aWZpZXJzIHRvIHRoZSBiZXN0XG4gKiBgRmx1ZW50QnVuZGxlYCBpbnN0YW5jZShzKS5cbiAqXG4gKiBAcGFyYW0ge0FzeW5jSXRlcmFibGV9IGl0ZXJhYmxlXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSBpZHNcbiAqIEByZXR1cm5zIHtQcm9taXNlPEZsdWVudEJ1bmRsZXxBcnJheTxGbHVlbnRCdW5kbGU+Pn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gbWFwQnVuZGxlQXN5bmMoaXRlcmFibGUsIGlkcykge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoaWRzKSkge1xuICAgIGZvciBhd2FpdCAoY29uc3QgYnVuZGxlIG9mIGl0ZXJhYmxlKSB7XG4gICAgICBpZiAoYnVuZGxlLmhhc01lc3NhZ2UoaWRzKSkge1xuICAgICAgICByZXR1cm4gYnVuZGxlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxldCByZW1haW5pbmdDb3VudCA9IGlkcy5sZW5ndGg7XG4gIGNvbnN0IGZvdW5kQnVuZGxlcyA9IG5ldyBBcnJheShyZW1haW5pbmdDb3VudCkuZmlsbChudWxsKTtcblxuICBmb3IgYXdhaXQgKGNvbnN0IGJ1bmRsZSBvZiBpdGVyYWJsZSkge1xuICAgIGZvciAoY29uc3QgW2luZGV4LCBpZF0gb2YgaWRzLmVudHJpZXMoKSkge1xuICAgICAgaWYgKCFmb3VuZEJ1bmRsZXNbaW5kZXhdICYmIGJ1bmRsZS5oYXNNZXNzYWdlKGlkKSkge1xuICAgICAgICBmb3VuZEJ1bmRsZXNbaW5kZXhdID0gYnVuZGxlO1xuICAgICAgICByZW1haW5pbmdDb3VudC0tO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXR1cm4gZWFybHkgd2hlbiBhbGwgaWRzIGhhdmUgYmVlbiBtYXBwZWQgdG8gY29udGV4dHMuXG4gICAgICBpZiAocmVtYWluaW5nQ291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZvdW5kQnVuZGxlcztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZm91bmRCdW5kbGVzO1xufVxuIiwiLypcbiAqIEBtb2R1bGUgZmx1ZW50LXNlcXVlbmNlXG4gKiBAb3ZlcnZpZXcgTWFuYWdlIG9yZGVyZWQgc2VxdWVuY2VzIG9mIEZsdWVudEJ1bmRsZXMuXG4gKi9cblxuZXhwb3J0IHtkZWZhdWx0IGFzIG1hcEJ1bmRsZVN5bmN9IGZyb20gXCIuL21hcF9zeW5jXCI7XG5leHBvcnQge2RlZmF1bHQgYXMgbWFwQnVuZGxlQXN5bmN9IGZyb20gXCIuL21hcF9hc3luY1wiO1xuIiwiLypcbiAqIEJhc2UgQ2FjaGVkSXRlcmFibGUgY2xhc3MuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhY2hlZEl0ZXJhYmxlIGV4dGVuZHMgQXJyYXkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGBDYWNoZWRJdGVyYWJsZWAgaW5zdGFuY2UgZnJvbSBhbiBpdGVyYWJsZSBvciwgaWYgYW5vdGhlclxuICAgICAqIGluc3RhbmNlIG9mIGBDYWNoZWRJdGVyYWJsZWAgaXMgcGFzc2VkLCByZXR1cm4gaXQgd2l0aG91dCBhbnlcbiAgICAgKiBtb2RpZmljYXRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtJdGVyYWJsZX0gaXRlcmFibGVcbiAgICAgKiBAcmV0dXJucyB7Q2FjaGVkSXRlcmFibGV9XG4gICAgICovXG4gICAgc3RhdGljIGZyb20oaXRlcmFibGUpIHtcbiAgICAgICAgaWYgKGl0ZXJhYmxlIGluc3RhbmNlb2YgdGhpcykge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKGl0ZXJhYmxlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ2FjaGVkSXRlcmFibGUgZnJvbSBcIi4vY2FjaGVkX2l0ZXJhYmxlLm1qc1wiO1xuXG4vKlxuICogQ2FjaGVkU3luY0l0ZXJhYmxlIGNhY2hlcyB0aGUgZWxlbWVudHMgeWllbGRlZCBieSBhbiBpdGVyYWJsZS5cbiAqXG4gKiBJdCBjYW4gYmUgdXNlZCB0byBpdGVyYXRlIG92ZXIgYW4gaXRlcmFibGUgbWFueSB0aW1lcyB3aXRob3V0IGRlcGxldGluZyB0aGVcbiAqIGl0ZXJhYmxlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYWNoZWRTeW5jSXRlcmFibGUgZXh0ZW5kcyBDYWNoZWRJdGVyYWJsZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGBDYWNoZWRTeW5jSXRlcmFibGVgIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtJdGVyYWJsZX0gaXRlcmFibGVcbiAgICAgKiBAcmV0dXJucyB7Q2FjaGVkU3luY0l0ZXJhYmxlfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGl0ZXJhYmxlKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcmFibGUpKSB7XG4gICAgICAgICAgICB0aGlzLml0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgaW1wbGVtZW50IHRoZSBpdGVyYXRpb24gcHJvdG9jb2wuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IHRoaXM7XG4gICAgICAgIGxldCBjdXIgPSAwO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0KCkge1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZWQubGVuZ3RoIDw9IGN1cikge1xuICAgICAgICAgICAgICAgICAgICBjYWNoZWQucHVzaChjYWNoZWQuaXRlcmF0b3IubmV4dCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFtjdXIrK107XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgYWxsb3dzIHVzZXIgdG8gY29uc3VtZSB0aGUgbmV4dCBlbGVtZW50IGZyb20gdGhlIGl0ZXJhdG9yXG4gICAgICogaW50byB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY291bnQgLSBudW1iZXIgb2YgZWxlbWVudHMgdG8gY29uc3VtZVxuICAgICAqL1xuICAgIHRvdWNoTmV4dChjb3VudCA9IDEpIHtcbiAgICAgICAgbGV0IGlkeCA9IDA7XG4gICAgICAgIHdoaWxlIChpZHgrKyA8IGNvdW50KSB7XG4gICAgICAgICAgICBjb25zdCBsYXN0ID0gdGhpc1t0aGlzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKGxhc3QgJiYgbGFzdC5kb25lKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnB1c2godGhpcy5pdGVyYXRvci5uZXh0KCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiB0aGUgbGFzdCBjYWNoZWQge3ZhbHVlLCBkb25lfSBvYmplY3QgdG8gYWxsb3cgdGhlIGNhbGxpbmdcbiAgICAgICAgLy8gY29kZSB0byBkZWNpZGUgaWYgaXQgbmVlZHMgdG8gY2FsbCB0b3VjaE5leHQgYWdhaW4uXG4gICAgICAgIHJldHVybiB0aGlzW3RoaXMubGVuZ3RoIC0gMV07XG4gICAgfVxufVxuIiwiaW1wb3J0IENhY2hlZEl0ZXJhYmxlIGZyb20gXCIuL2NhY2hlZF9pdGVyYWJsZS5tanNcIjtcblxuLypcbiAqIENhY2hlZEFzeW5jSXRlcmFibGUgY2FjaGVzIHRoZSBlbGVtZW50cyB5aWVsZGVkIGJ5IGFuIGFzeW5jIGl0ZXJhYmxlLlxuICpcbiAqIEl0IGNhbiBiZSB1c2VkIHRvIGl0ZXJhdGUgb3ZlciBhbiBpdGVyYWJsZSBtYW55IHRpbWVzIHdpdGhvdXQgZGVwbGV0aW5nIHRoZVxuICogaXRlcmFibGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhY2hlZEFzeW5jSXRlcmFibGUgZXh0ZW5kcyBDYWNoZWRJdGVyYWJsZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGBDYWNoZWRBc3luY0l0ZXJhYmxlYCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SXRlcmFibGV9IGl0ZXJhYmxlXG4gICAgICogQHJldHVybnMge0NhY2hlZEFzeW5jSXRlcmFibGV9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaXRlcmFibGUpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBpZiAoU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXJhYmxlKSkge1xuICAgICAgICAgICAgdGhpcy5pdGVyYXRvciA9IGl0ZXJhYmxlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcmFibGUpKSB7XG4gICAgICAgICAgICB0aGlzLml0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgaW1wbGVtZW50IHRoZSBpdGVyYXRpb24gcHJvdG9jb2wuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3luY2hyb25vdXMgaXRlcmF0b3Igb3ZlciB0aGUgY2FjaGVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogUmV0dXJuIGEgZ2VuZXJhdG9yIG9iamVjdCBpbXBsZW1lbnRpbmcgdGhlIGl0ZXJhdG9yIHByb3RvY29sIG92ZXIgdGhlXG4gICAgICogY2FjaGVkIGVsZW1lbnRzIG9mIHRoZSBvcmlnaW5hbCAoYXN5bmMgb3Igc3luYykgaXRlcmFibGUuXG4gICAgICovXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IHRoaXM7XG4gICAgICAgIGxldCBjdXIgPSAwO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0KCkge1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZWQubGVuZ3RoID09PSBjdXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFtjdXIrK107XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXN5bmNocm9ub3VzIGl0ZXJhdG9yIGNhY2hpbmcgdGhlIHlpZWxkZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBFbGVtZW50cyB5aWVsZGVkIGJ5IHRoZSBvcmlnaW5hbCBpdGVyYWJsZSB3aWxsIGJlIGNhY2hlZCBhbmQgYXZhaWxhYmxlXG4gICAgICogc3luY2hyb25vdXNseS4gUmV0dXJucyBhbiBhc3luYyBnZW5lcmF0b3Igb2JqZWN0IGltcGxlbWVudGluZyB0aGVcbiAgICAgKiBpdGVyYXRvciBwcm90b2NvbCBvdmVyIHRoZSBlbGVtZW50cyBvZiB0aGUgb3JpZ2luYWwgKGFzeW5jIG9yIHN5bmMpXG4gICAgICogaXRlcmFibGUuXG4gICAgICovXG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgY29uc3QgY2FjaGVkID0gdGhpcztcbiAgICAgICAgbGV0IGN1ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFzeW5jIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZC5sZW5ndGggPD0gY3VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlZC5wdXNoKGF3YWl0IGNhY2hlZC5pdGVyYXRvci5uZXh0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkW2N1cisrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBhbGxvd3MgdXNlciB0byBjb25zdW1lIHRoZSBuZXh0IGVsZW1lbnQgZnJvbSB0aGUgaXRlcmF0b3JcbiAgICAgKiBpbnRvIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudCAtIG51bWJlciBvZiBlbGVtZW50cyB0byBjb25zdW1lXG4gICAgICovXG4gICAgYXN5bmMgdG91Y2hOZXh0KGNvdW50ID0gMSkge1xuICAgICAgICBsZXQgaWR4ID0gMDtcbiAgICAgICAgd2hpbGUgKGlkeCsrIDwgY291bnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzW3RoaXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAobGFzdCAmJiBsYXN0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHVzaChhd2FpdCB0aGlzLml0ZXJhdG9yLm5leHQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV0dXJuIHRoZSBsYXN0IGNhY2hlZCB7dmFsdWUsIGRvbmV9IG9iamVjdCB0byBhbGxvdyB0aGUgY2FsbGluZ1xuICAgICAgICAvLyBjb2RlIHRvIGRlY2lkZSBpZiBpdCBuZWVkcyB0byBjYWxsIHRvdWNoTmV4dCBhZ2Fpbi5cbiAgICAgICAgcmV0dXJuIHRoaXNbdGhpcy5sZW5ndGggLSAxXTtcbiAgICB9XG59XG4iLCJleHBvcnQge2RlZmF1bHQgYXMgQ2FjaGVkU3luY0l0ZXJhYmxlfSBmcm9tIFwiLi9jYWNoZWRfc3luY19pdGVyYWJsZS5tanNcIjtcbmV4cG9ydCB7ZGVmYXVsdCBhcyBDYWNoZWRBc3luY0l0ZXJhYmxlfSBmcm9tIFwiLi9jYWNoZWRfYXN5bmNfaXRlcmFibGUubWpzXCI7XG4iLCJpbXBvcnQgeyBtYXBCdW5kbGVTeW5jIH0gZnJvbSBcImZsdWVudC1zZXF1ZW5jZVwiO1xuaW1wb3J0IHsgQ2FjaGVkU3luY0l0ZXJhYmxlIH0gZnJvbSBcImNhY2hlZC1pdGVyYWJsZVwiO1xuXG4vKlxuICogYFJlYWN0TG9jYWxpemF0aW9uYCBoYW5kbGVzIHRyYW5zbGF0aW9uIGZvcm1hdHRpbmcgYW5kIGZhbGxiYWNrLlxuICpcbiAqIFRoZSBjdXJyZW50IG5lZ290aWF0ZWQgZmFsbGJhY2sgY2hhaW4gb2YgbGFuZ3VhZ2VzIGlzIHN0b3JlZCBpbiB0aGVcbiAqIGBSZWFjdExvY2FsaXphdGlvbmAgaW5zdGFuY2UgaW4gZm9ybSBvZiBhbiBpdGVyYWJsZSBvZiBgRmx1ZW50QnVuZGxlYFxuICogaW5zdGFuY2VzLiAgVGhpcyBpdGVyYWJsZSBpcyB1c2VkIHRvIGZpbmQgdGhlIGJlc3QgZXhpc3RpbmcgdHJhbnNsYXRpb24gZm9yXG4gKiBhIGdpdmVuIGlkZW50aWZpZXIuXG4gKlxuICogYExvY2FsaXplZGAgY29tcG9uZW50cyBtdXN0IHN1YnNjcmliZSB0byB0aGUgY2hhbmdlcyBvZiB0aGVcbiAqIGBSZWFjdExvY2FsaXphdGlvbmAncyBmYWxsYmFjayBjaGFpbi4gIFdoZW4gdGhlIGZhbGxiYWNrIGNoYWluIGNoYW5nZXMgKHRoZVxuICogYGJ1bmRsZXNgIGl0ZXJhYmxlIGlzIHNldCBhbmV3KSwgYWxsIHN1YnNjcmliZWQgY29tcG9udGVudCBtdXN0IHJlbG9jYWxpemUuXG4gKlxuICogVGhlIGBSZWFjdExvY2FsaXphdGlvbmAgY2xhc3MgaW5zdGFuY2VzIGFyZSBleHBvc2VkIHRvIGBMb2NhbGl6ZWRgIGVsZW1lbnRzXG4gKiB2aWEgdGhlIGBMb2NhbGl6YXRpb25Qcm92aWRlcmAgY29tcG9uZW50LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWFjdExvY2FsaXphdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGJ1bmRsZXMpIHtcbiAgICB0aGlzLmJ1bmRsZXMgPSBDYWNoZWRTeW5jSXRlcmFibGUuZnJvbShidW5kbGVzKTtcbiAgICB0aGlzLnN1YnMgPSBuZXcgU2V0KCk7XG4gIH1cblxuICAvKlxuICAgKiBTdWJzY3JpYmUgYSBgTG9jYWxpemVkYCBjb21wb25lbnQgdG8gY2hhbmdlcyBvZiBgYnVuZGxlc2AuXG4gICAqL1xuICBzdWJzY3JpYmUoY29tcCkge1xuICAgIHRoaXMuc3Vicy5hZGQoY29tcCk7XG4gIH1cblxuICAvKlxuICAgKiBVbnN1YnNjcmliZSBhIGBMb2NhbGl6ZWRgIGNvbXBvbmVudCBmcm9tIGBidW5kbGVzYCBjaGFuZ2VzLlxuICAgKi9cbiAgdW5zdWJzY3JpYmUoY29tcCkge1xuICAgIHRoaXMuc3Vicy5kZWxldGUoY29tcCk7XG4gIH1cblxuICAvKlxuICAgKiBTZXQgYSBuZXcgYGJ1bmRsZXNgIGl0ZXJhYmxlIGFuZCB0cmlnZ2VyIHRoZSByZXRyYW5zbGF0aW9uLlxuICAgKi9cbiAgc2V0QnVuZGxlcyhidW5kbGVzKSB7XG4gICAgdGhpcy5idW5kbGVzID0gQ2FjaGVkU3luY0l0ZXJhYmxlLmZyb20oYnVuZGxlcyk7XG5cbiAgICAvLyBVcGRhdGUgYWxsIHN1YnNjcmliZWQgTG9jYWxpemVkIGNvbXBvbmVudHMuXG4gICAgdGhpcy5zdWJzLmZvckVhY2goY29tcCA9PiBjb21wLnJlbG9jYWxpemUoKSk7XG4gIH1cblxuICBnZXRCdW5kbGUoaWQpIHtcbiAgICByZXR1cm4gbWFwQnVuZGxlU3luYyh0aGlzLmJ1bmRsZXMsIGlkKTtcbiAgfVxuXG4gIC8qXG4gICAqIEZpbmQgYSB0cmFuc2xhdGlvbiBieSBgaWRgIGFuZCBmb3JtYXQgaXQgdG8gYSBzdHJpbmcgdXNpbmcgYGFyZ3NgLlxuICAgKi9cbiAgZ2V0U3RyaW5nKGlkLCBhcmdzLCBmYWxsYmFjaykge1xuICAgIGNvbnN0IGJ1bmRsZSA9IHRoaXMuZ2V0QnVuZGxlKGlkKTtcblxuICAgIGlmIChidW5kbGUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxsYmFjayB8fCBpZDtcbiAgICB9XG5cbiAgICBjb25zdCBtc2cgPSBidW5kbGUuZ2V0TWVzc2FnZShpZCk7XG4gICAgcmV0dXJuIGJ1bmRsZS5mb3JtYXQobXNnLCBhcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSZWFjdExvY2FsaXphdGlvbihwcm9wcywgcHJvcE5hbWUpIHtcbiAgY29uc3QgcHJvcCA9IHByb3BzW3Byb3BOYW1lXTtcblxuICBpZiAocHJvcCBpbnN0YW5jZW9mIFJlYWN0TG9jYWxpemF0aW9uKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gbmV3IEVycm9yKFxuICAgIGBUaGUgJHtwcm9wTmFtZX0gY29udGV4dCBmaWVsZCBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlYWN0TG9jYWxpemF0aW9uLmBcbiAgKTtcbn1cbiIsIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG5sZXQgY2FjaGVkUGFyc2VNYXJrdXA7XG5cbi8vIFdlIHVzZSBhIGZ1bmN0aW9uIGNyZWF0b3IgdG8gbWFrZSB0aGUgcmVmZXJlbmNlIHRvIGBkb2N1bWVudGAgbGF6eS4gQXQgdGhlXG4vLyBzYW1lIHRpbWUsIGl0J3MgZWFnZXIgZW5vdWdoIHRvIHRocm93IGluIDxMb2NhbGl6YXRpb25Qcm92aWRlcj4gYXMgc29vbiBhc1xuLy8gaXQncyBmaXJzdCBtb3VudGVkIHdoaWNoIHJlZHVjZXMgdGhlIHJpc2sgb2YgdGhpcyBlcnJvciBtYWtpbmcgaXQgdG8gdGhlXG4vLyBydW50aW1lIHdpdGhvdXQgZGV2ZWxvcGVycyBub3RpY2luZyBpdCBpbiBkZXZlbG9wbWVudC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVBhcnNlTWFya3VwKCkge1xuICBpZiAodHlwZW9mKGRvY3VtZW50KSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIC8vIFdlIGNhbid0IHVzZSA8dGVtcGxhdGU+IHRvIHNhbml0aXplIHRyYW5zbGF0aW9ucy5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcImBkb2N1bWVudGAgaXMgdW5kZWZpbmVkLiBXaXRob3V0IGl0LCB0cmFuc2xhdGlvbnMgY2Fubm90IFwiICtcbiAgICAgIFwiYmUgc2FmZWx5IHNhbml0aXplZC4gQ29uc3VsdCB0aGUgZG9jdW1lbnRhdGlvbiBhdCBcIiArXG4gICAgICBcImh0dHBzOi8vZ2l0aHViLmNvbS9wcm9qZWN0Zmx1ZW50L2ZsdWVudC5qcy93aWtpL1JlYWN0LU92ZXJsYXlzLlwiXG4gICAgKTtcbiAgfVxuXG4gIGlmICghY2FjaGVkUGFyc2VNYXJrdXApIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbiAgICBjYWNoZWRQYXJzZU1hcmt1cCA9IGZ1bmN0aW9uIHBhcnNlTWFya3VwKHN0cikge1xuICAgICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gc3RyO1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20odGVtcGxhdGUuY29udGVudC5jaGlsZE5vZGVzKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGNhY2hlZFBhcnNlTWFya3VwO1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBDaGlsZHJlbiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiO1xuaW1wb3J0IFJlYWN0TG9jYWxpemF0aW9uLCB7IGlzUmVhY3RMb2NhbGl6YXRpb259IGZyb20gXCIuL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IGNyZWF0ZVBhcnNlTWFya3VwIGZyb20gXCIuL21hcmt1cFwiO1xuXG4vKlxuICogVGhlIFByb3ZpZGVyIGNvbXBvbmVudCBmb3IgdGhlIGBSZWFjdExvY2FsaXphdGlvbmAgY2xhc3MuXG4gKlxuICogRXhwb3NlcyBhIGBSZWFjdExvY2FsaXphdGlvbmAgaW5zdGFuY2UgdG8gYWxsIGRlc2NlbmRhbnRzIHZpYSBSZWFjdCdzXG4gKiBjb250ZXh0IGZlYXR1cmUuICBJdCBtYWtlcyB0cmFuc2xhdGlvbnMgYXZhaWxhYmxlIHRvIGFsbCBsb2NhbGl6YWJsZVxuICogZWxlbWVudHMgaW4gdGhlIGRlc2NlbmRhbnQncyByZW5kZXIgdHJlZSB3aXRob3V0IHRoZSBuZWVkIHRvIHBhc3MgdGhlbVxuICogZXhwbGljaXRseS5cbiAqXG4gKiAgICAgPExvY2FsaXphdGlvblByb3ZpZGVyIGJ1bmRsZXM9e+KApn0+XG4gKiAgICAgICAgIOKAplxuICogICAgIDwvTG9jYWxpemF0aW9uUHJvdmlkZXI+XG4gKlxuICogVGhlIGBMb2NhbGl6YXRpb25Qcm92aWRlcmAgY29tcG9uZW50IHRha2VzIG9uZSBwcm9wOiBgYnVuZGxlc2AuICBJdCBzaG91bGRcbiAqIGJlIGFuIGl0ZXJhYmxlIG9mIGBGbHVlbnRCdW5kbGVgIGluc3RhbmNlcyBpbiBvcmRlciBvZiB0aGUgdXNlcidzXG4gKiBwcmVmZXJyZWQgbGFuZ3VhZ2VzLiAgVGhlIGBGbHVlbnRCdW5kbGVgIGluc3RhbmNlcyB3aWxsIGJlIHVzZWQgYnlcbiAqIGBSZWFjdExvY2FsaXphdGlvbmAgdG8gZm9ybWF0IHRyYW5zbGF0aW9ucy4gIElmIGEgdHJhbnNsYXRpb24gaXMgbWlzc2luZyBpblxuICogb25lIGluc3RhbmNlLCBgUmVhY3RMb2NhbGl6YXRpb25gIHdpbGwgZmFsbCBiYWNrIHRvIHRoZSBuZXh0IG9uZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9jYWxpemF0aW9uUHJvdmlkZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICBjb25zdCB7YnVuZGxlcywgcGFyc2VNYXJrdXB9ID0gcHJvcHM7XG5cbiAgICBpZiAoYnVuZGxlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMb2NhbGl6YXRpb25Qcm92aWRlciBtdXN0IHJlY2VpdmUgdGhlIGJ1bmRsZXMgcHJvcC5cIik7XG4gICAgfVxuXG4gICAgaWYgKCFidW5kbGVzW1N5bWJvbC5pdGVyYXRvcl0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBidW5kbGVzIHByb3AgbXVzdCBiZSBhbiBpdGVyYWJsZS5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5sMTBuID0gbmV3IFJlYWN0TG9jYWxpemF0aW9uKGJ1bmRsZXMpO1xuICAgIHRoaXMucGFyc2VNYXJrdXAgPSBwYXJzZU1hcmt1cCB8fCBjcmVhdGVQYXJzZU1hcmt1cCgpO1xuICB9XG5cbiAgZ2V0Q2hpbGRDb250ZXh0KCkge1xuICAgIHJldHVybiB7XG4gICAgICBsMTBuOiB0aGlzLmwxMG4sXG4gICAgICBwYXJzZU1hcmt1cDogdGhpcy5wYXJzZU1hcmt1cCxcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0KSB7XG4gICAgY29uc3QgeyBidW5kbGVzIH0gPSBuZXh0O1xuXG4gICAgaWYgKGJ1bmRsZXMgIT09IHRoaXMucHJvcHMuYnVuZGxlcykge1xuICAgICAgdGhpcy5sMTBuLnNldEJ1bmRsZXMoYnVuZGxlcyk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBDaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICB9XG59XG5cbkxvY2FsaXphdGlvblByb3ZpZGVyLmNoaWxkQ29udGV4dFR5cGVzID0ge1xuICBsMTBuOiBpc1JlYWN0TG9jYWxpemF0aW9uLFxuICBwYXJzZU1hcmt1cDogUHJvcFR5cGVzLmZ1bmMsXG59O1xuXG5Mb2NhbGl6YXRpb25Qcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZWxlbWVudC5pc1JlcXVpcmVkLFxuICBidW5kbGVzOiBpc0l0ZXJhYmxlLFxuICBwYXJzZU1hcmt1cDogUHJvcFR5cGVzLmZ1bmMsXG59O1xuXG5mdW5jdGlvbiBpc0l0ZXJhYmxlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICBjb25zdCBwcm9wID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHByb3ApKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gbmV3IEVycm9yKFxuICAgIGBUaGUgJHtwcm9wTmFtZX0gcHJvcCBzdXBwbGllZCB0byAke2NvbXBvbmVudE5hbWV9IG11c3QgYmUgYW4gaXRlcmFibGUuYFxuICApO1xufVxuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IGlzUmVhY3RMb2NhbGl6YXRpb24gfSBmcm9tIFwiLi9sb2NhbGl6YXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gd2l0aExvY2FsaXphdGlvbihJbm5lcikge1xuICBjbGFzcyBXaXRoTG9jYWxpemF0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIGNvbnN0IHsgbDEwbiB9ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICBpZiAobDEwbikge1xuICAgICAgICBsMTBuLnN1YnNjcmliZSh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGNvbnN0IHsgbDEwbiB9ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICBpZiAobDEwbikge1xuICAgICAgICBsMTBuLnVuc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgICogUmVyZW5kZXIgdGhpcyBjb21wb25lbnQgaW4gYSBuZXcgbGFuZ3VhZ2UuXG4gICAgICovXG4gICAgcmVsb2NhbGl6ZSgpIHtcbiAgICAgIC8vIFdoZW4gdGhlIGBSZWFjdExvY2FsaXphdGlvbmAncyBmYWxsYmFjayBjaGFpbiBjaGFuZ2VzLCB1cGRhdGUgdGhlXG4gICAgICAvLyBjb21wb25lbnQuXG4gICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBGaW5kIGEgdHJhbnNsYXRpb24gYnkgYGlkYCBhbmQgZm9ybWF0IGl0IHRvIGEgc3RyaW5nIHVzaW5nIGBhcmdzYC5cbiAgICAgKi9cbiAgICBnZXRTdHJpbmcoaWQsIGFyZ3MsIGZhbGxiYWNrKSB7XG4gICAgICBjb25zdCB7IGwxMG4gfSA9IHRoaXMuY29udGV4dDtcblxuICAgICAgaWYgKCFsMTBuKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFjayB8fCBpZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGwxMG4uZ2V0U3RyaW5nKGlkLCBhcmdzLCBmYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIElubmVyLFxuICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICAgIC8vIGdldFN0cmluZyBuZWVkcyB0byBiZSByZS1ib3VuZCBvbiB1cGRhdGVzIHRvIHRyaWdnZXIgYSByZS1yZW5kZXJcbiAgICAgICAgICB7IGdldFN0cmluZzogKC4uLmFyZ3MpID0+IHRoaXMuZ2V0U3RyaW5nKC4uLmFyZ3MpIH0sXG4gICAgICAgICAgdGhpcy5wcm9wc1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIFdpdGhMb2NhbGl6YXRpb24uZGlzcGxheU5hbWUgPSBgV2l0aExvY2FsaXphdGlvbigke2Rpc3BsYXlOYW1lKElubmVyKX0pYDtcblxuICBXaXRoTG9jYWxpemF0aW9uLmNvbnRleHRUeXBlcyA9IHtcbiAgICBsMTBuOiBpc1JlYWN0TG9jYWxpemF0aW9uXG4gIH07XG5cbiAgcmV0dXJuIFdpdGhMb2NhbGl6YXRpb247XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlOYW1lKGNvbXBvbmVudCkge1xuICByZXR1cm4gY29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IGNvbXBvbmVudC5uYW1lIHx8IFwiQ29tcG9uZW50XCI7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoaXMgZGlyZWN0b3J5LlxuICovXG5cbi8vIEZvciBIVE1MLCBjZXJ0YWluIHRhZ3Mgc2hvdWxkIG9taXQgdGhlaXIgY2xvc2UgdGFnLiBXZSBrZWVwIGEgd2hpdGVsaXN0IGZvclxuLy8gdGhvc2Ugc3BlY2lhbC1jYXNlIHRhZ3MuXG5cbnZhciBvbWl0dGVkQ2xvc2VUYWdzID0ge1xuICBhcmVhOiB0cnVlLFxuICBiYXNlOiB0cnVlLFxuICBicjogdHJ1ZSxcbiAgY29sOiB0cnVlLFxuICBlbWJlZDogdHJ1ZSxcbiAgaHI6IHRydWUsXG4gIGltZzogdHJ1ZSxcbiAgaW5wdXQ6IHRydWUsXG4gIGtleWdlbjogdHJ1ZSxcbiAgbGluazogdHJ1ZSxcbiAgbWV0YTogdHJ1ZSxcbiAgcGFyYW06IHRydWUsXG4gIHNvdXJjZTogdHJ1ZSxcbiAgdHJhY2s6IHRydWUsXG4gIHdicjogdHJ1ZSxcbiAgLy8gTk9URTogbWVudWl0ZW0ncyBjbG9zZSB0YWcgc2hvdWxkIGJlIG9taXR0ZWQsIGJ1dCB0aGF0IGNhdXNlcyBwcm9ibGVtcy5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IG9taXR0ZWRDbG9zZVRhZ3M7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoaXMgZGlyZWN0b3J5LlxuICovXG5cbmltcG9ydCBvbWl0dGVkQ2xvc2VUYWdzIGZyb20gJy4vb21pdHRlZENsb3NlVGFncyc7XG5cbi8vIEZvciBIVE1MLCBjZXJ0YWluIHRhZ3MgY2Fubm90IGhhdmUgY2hpbGRyZW4uIFRoaXMgaGFzIHRoZSBzYW1lIHB1cnBvc2UgYXNcbi8vIGBvbWl0dGVkQ2xvc2VUYWdzYCBleGNlcHQgdGhhdCBgbWVudWl0ZW1gIHNob3VsZCBzdGlsbCBoYXZlIGl0cyBjbG9zaW5nIHRhZy5cblxudmFyIHZvaWRFbGVtZW50VGFncyA9IHtcbiAgbWVudWl0ZW06IHRydWUsXG4gIC4uLm9taXR0ZWRDbG9zZVRhZ3MsXG59O1xuXG5leHBvcnQgZGVmYXVsdCB2b2lkRWxlbWVudFRhZ3M7XG4iLCJpbXBvcnQgeyBpc1ZhbGlkRWxlbWVudCwgY2xvbmVFbGVtZW50LCBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcbmltcG9ydCB7IGlzUmVhY3RMb2NhbGl6YXRpb24gfSBmcm9tIFwiLi9sb2NhbGl6YXRpb25cIjtcbmltcG9ydCBWT0lEX0VMRU1FTlRTIGZyb20gXCIuLi92ZW5kb3Ivdm9pZEVsZW1lbnRUYWdzXCI7XG5cbi8vIE1hdGNoIHRoZSBvcGVuaW5nIGFuZ2xlIGJyYWNrZXQgKDwpIGluIEhUTUwgdGFncywgYW5kIEhUTUwgZW50aXRpZXMgbGlrZVxuLy8gJmFtcDssICYjMDAzODssICYjeDAwMjY7LlxuY29uc3QgcmVNYXJrdXAgPSAvPHwmIz9cXHcrOy87XG5cbi8qXG4gKiBQcmVwYXJlIHByb3BzIHBhc3NlZCB0byBgTG9jYWxpemVkYCBmb3IgZm9ybWF0dGluZy5cbiAqL1xuZnVuY3Rpb24gdG9Bcmd1bWVudHMocHJvcHMpIHtcbiAgY29uc3QgYXJncyA9IHt9O1xuICBjb25zdCBlbGVtcyA9IHt9O1xuXG4gIGZvciAoY29uc3QgW3Byb3BuYW1lLCBwcm9wdmFsXSBvZiBPYmplY3QuZW50cmllcyhwcm9wcykpIHtcbiAgICBpZiAocHJvcG5hbWUuc3RhcnRzV2l0aChcIiRcIikpIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBwcm9wbmFtZS5zdWJzdHIoMSk7XG4gICAgICBhcmdzW25hbWVdID0gcHJvcHZhbDtcbiAgICB9IGVsc2UgaWYgKGlzVmFsaWRFbGVtZW50KHByb3B2YWwpKSB7XG4gICAgICAvLyBXZSdsbCB0cnkgdG8gbWF0Y2ggbG9jYWxOYW1lcyBvZiBlbGVtZW50cyBmb3VuZCBpbiB0aGUgdHJhbnNsYXRpb24gd2l0aFxuICAgICAgLy8gbmFtZXMgb2YgZWxlbWVudHMgcGFzc2VkIGFzIHByb3BzLiBsb2NhbE5hbWVzIGFyZSBhbHdheXMgbG93ZXJjYXNlLlxuICAgICAgY29uc3QgbmFtZSA9IHByb3BuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICBlbGVtc1tuYW1lXSA9IHByb3B2YWw7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFthcmdzLCBlbGVtc107XG59XG5cbi8qXG4gKiBUaGUgYExvY2FsaXplZGAgY2xhc3MgcmVuZGVycyBpdHMgY2hpbGQgd2l0aCB0cmFuc2xhdGVkIHByb3BzIGFuZCBjaGlsZHJlbi5cbiAqXG4gKiAgICAgPExvY2FsaXplZCBpZD1cImhlbGxvLXdvcmxkXCI+XG4gKiAgICAgICAgIDxwPnsnSGVsbG8sIHdvcmxkISd9PC9wPlxuICogICAgIDwvTG9jYWxpemVkPlxuICpcbiAqIFRoZSBgaWRgIHByb3Agc2hvdWxkIGJlIHRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgdHJhbnNsYXRpb24uICBBbnlcbiAqIGF0dHJpYnV0ZXMgZm91bmQgaW4gdGhlIHRyYW5zbGF0aW9uIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgd3JhcHBlZCBlbGVtZW50LlxuICpcbiAqIEFyZ3VtZW50cyB0byB0aGUgdHJhbnNsYXRpb24gY2FuIGJlIHBhc3NlZCBhcyBgJGAtcHJlZml4ZWQgcHJvcHMgb25cbiAqIGBMb2NhbGl6ZWRgLlxuICpcbiAqICAgICA8TG9jYWxpemVkIGlkPVwiaGVsbG8td29ybGRcIiAkdXNlcm5hbWU9e25hbWV9PlxuICogICAgICAgICA8cD57J0hlbGxvLCB7ICR1c2VybmFtZSB9ISd9PC9wPlxuICogICAgIDwvTG9jYWxpemVkPlxuICpcbiAqICBJdCdzIHJlY29tbWVuZGVkIHRoYXQgdGhlIGNvbnRlbnRzIG9mIHRoZSB3cmFwcGVkIGNvbXBvbmVudCBiZSBhIHN0cmluZ1xuICogIGV4cHJlc3Npb24uICBUaGUgc3RyaW5nIHdpbGwgYmUgdXNlZCBhcyB0aGUgdWx0aW1hdGUgZmFsbGJhY2sgaWYgbm9cbiAqICB0cmFuc2xhdGlvbiBpcyBhdmFpbGFibGUuICBJdCBhbHNvIG1ha2VzIGl0IGVhc3kgdG8gZ3JlcCBmb3Igc3RyaW5ncyBpbiB0aGVcbiAqICBzb3VyY2UgY29kZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9jYWxpemVkIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBsMTBuIH0gPSB0aGlzLmNvbnRleHQ7XG5cbiAgICBpZiAobDEwbikge1xuICAgICAgbDEwbi5zdWJzY3JpYmUodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY29uc3QgeyBsMTBuIH0gPSB0aGlzLmNvbnRleHQ7XG5cbiAgICBpZiAobDEwbikge1xuICAgICAgbDEwbi51bnN1YnNjcmliZSh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiBSZXJlbmRlciB0aGlzIGNvbXBvbmVudCBpbiBhIG5ldyBsYW5ndWFnZS5cbiAgICovXG4gIHJlbG9jYWxpemUoKSB7XG4gICAgLy8gV2hlbiB0aGUgYFJlYWN0TG9jYWxpemF0aW9uYCdzIGZhbGxiYWNrIGNoYWluIGNoYW5nZXMsIHVwZGF0ZSB0aGVcbiAgICAvLyBjb21wb25lbnQuXG4gICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbDEwbiwgcGFyc2VNYXJrdXAgfSA9IHRoaXMuY29udGV4dDtcbiAgICBjb25zdCB7IGlkLCBhdHRycywgY2hpbGRyZW46IGVsZW0gPSBudWxsIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgLy8gVmFsaWRhdGUgdGhhdCB0aGUgY2hpbGQgZWxlbWVudCBpc24ndCBhbiBhcnJheVxuICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW0pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCI8TG9jYWxpemVkLz4gZXhwZWN0ZWQgdG8gcmVjZWl2ZSBhIHNpbmdsZSBcIiArXG4gICAgICAgIFwiUmVhY3Qgbm9kZSBjaGlsZFwiKTtcbiAgICB9XG5cbiAgICBpZiAoIWwxMG4pIHtcbiAgICAgIC8vIFVzZSB0aGUgd3JhcHBlZCBjb21wb25lbnQgYXMgZmFsbGJhY2suXG4gICAgICByZXR1cm4gZWxlbTtcbiAgICB9XG5cbiAgICBjb25zdCBidW5kbGUgPSBsMTBuLmdldEJ1bmRsZShpZCk7XG5cbiAgICBpZiAoYnVuZGxlID09PSBudWxsKSB7XG4gICAgICAvLyBVc2UgdGhlIHdyYXBwZWQgY29tcG9uZW50IGFzIGZhbGxiYWNrLlxuICAgICAgcmV0dXJuIGVsZW07XG4gICAgfVxuXG4gICAgY29uc3QgbXNnID0gYnVuZGxlLmdldE1lc3NhZ2UoaWQpO1xuICAgIGNvbnN0IFthcmdzLCBlbGVtc10gPSB0b0FyZ3VtZW50cyh0aGlzLnByb3BzKTtcbiAgICBjb25zdCBtZXNzYWdlVmFsdWUgPSBidW5kbGUuZm9ybWF0KG1zZywgYXJncyk7XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgZmFsbGJhY2sgaXMgYSB2YWxpZCBlbGVtZW50IC0tIGlmIG5vdCB0aGVuIGl0J3Mgbm90XG4gICAgLy8gbWFya3VwIChlLmcuIG5vdGhpbmcgb3IgYSBmYWxsYmFjayBzdHJpbmcpIHNvIGp1c3QgdXNlIHRoZVxuICAgIC8vIGZvcm1hdHRlZCBtZXNzYWdlIHZhbHVlXG4gICAgaWYgKCFpc1ZhbGlkRWxlbWVudChlbGVtKSkge1xuICAgICAgcmV0dXJuIG1lc3NhZ2VWYWx1ZTtcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVmYXVsdCBpcyB0byBmb3JiaWQgYWxsIG1lc3NhZ2UgYXR0cmlidXRlcy4gSWYgdGhlIGF0dHJzIHByb3AgZXhpc3RzXG4gICAgLy8gb24gdGhlIExvY2FsaXplZCBpbnN0YW5jZSwgb25seSBzZXQgbWVzc2FnZSBhdHRyaWJ1dGVzIHdoaWNoIGhhdmUgYmVlblxuICAgIC8vIGV4cGxpY2l0bHkgYWxsb3dlZCBieSB0aGUgZGV2ZWxvcGVyLlxuICAgIGlmIChhdHRycyAmJiBtc2cuYXR0cnMpIHtcbiAgICAgIHZhciBsb2NhbGl6ZWRQcm9wcyA9IHt9O1xuICAgICAgZm9yIChjb25zdCBbbmFtZSwgYWxsb3dlZF0gb2YgT2JqZWN0LmVudHJpZXMoYXR0cnMpKSB7XG4gICAgICAgIGlmIChhbGxvd2VkICYmIG1zZy5hdHRycy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgIGxvY2FsaXplZFByb3BzW25hbWVdID0gYnVuZGxlLmZvcm1hdChtc2cuYXR0cnNbbmFtZV0sIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHdyYXBwZWQgY29tcG9uZW50IGlzIGEga25vd24gdm9pZCBlbGVtZW50LCBleHBsaWNpdGx5IGRpc21pc3MgdGhlXG4gICAgLy8gbWVzc2FnZSB2YWx1ZSBhbmQgZG8gbm90IHBhc3MgaXQgdG8gY2xvbmVFbGVtZW50IGluIG9yZGVyIHRvIGF2b2lkIHRoZVxuICAgIC8vIFwidm9pZCBlbGVtZW50IHRhZ3MgbXVzdCBuZWl0aGVyIGhhdmUgYGNoaWxkcmVuYCBub3IgdXNlXG4gICAgLy8gYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYFwiIGVycm9yLlxuICAgIGlmIChlbGVtLnR5cGUgaW4gVk9JRF9FTEVNRU5UUykge1xuICAgICAgcmV0dXJuIGNsb25lRWxlbWVudChlbGVtLCBsb2NhbGl6ZWRQcm9wcyk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG1lc3NhZ2UgaGFzIGEgbnVsbCB2YWx1ZSwgd2UncmUgb25seSBpbnRlcmVzdGVkIGluIGl0cyBhdHRyaWJ1dGVzLlxuICAgIC8vIERvIG5vdCBwYXNzIHRoZSBudWxsIHZhbHVlIHRvIGNsb25lRWxlbWVudCBhcyBpdCB3b3VsZCBudWtlIGFsbCBjaGlsZHJlblxuICAgIC8vIG9mIHRoZSB3cmFwcGVkIGNvbXBvbmVudC5cbiAgICBpZiAobWVzc2FnZVZhbHVlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gY2xvbmVFbGVtZW50KGVsZW0sIGxvY2FsaXplZFByb3BzKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgbWVzc2FnZSB2YWx1ZSBkb2Vzbid0IGNvbnRhaW4gYW55IG1hcmt1cCBub3IgYW55IEhUTUwgZW50aXRpZXMsXG4gICAgLy8gaW5zZXJ0IGl0IGFzIHRoZSBvbmx5IGNoaWxkIG9mIHRoZSB3cmFwcGVkIGNvbXBvbmVudC5cbiAgICBpZiAoIXJlTWFya3VwLnRlc3QobWVzc2FnZVZhbHVlKSkge1xuICAgICAgcmV0dXJuIGNsb25lRWxlbWVudChlbGVtLCBsb2NhbGl6ZWRQcm9wcywgbWVzc2FnZVZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgbWVzc2FnZSBjb250YWlucyBtYXJrdXAsIHBhcnNlIGl0IGFuZCB0cnkgdG8gbWF0Y2ggdGhlIGNoaWxkcmVuXG4gICAgLy8gZm91bmQgaW4gdGhlIHRyYW5zbGF0aW9uIHdpdGggdGhlIHByb3BzIHBhc3NlZCB0byB0aGlzIExvY2FsaXplZC5cbiAgICBjb25zdCB0cmFuc2xhdGlvbk5vZGVzID0gcGFyc2VNYXJrdXAobWVzc2FnZVZhbHVlKTtcbiAgICBjb25zdCB0cmFuc2xhdGVkQ2hpbGRyZW4gPSB0cmFuc2xhdGlvbk5vZGVzLm1hcChjaGlsZE5vZGUgPT4ge1xuICAgICAgaWYgKGNoaWxkTm9kZS5ub2RlVHlwZSA9PT0gY2hpbGROb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICByZXR1cm4gY2hpbGROb2RlLnRleHRDb250ZW50O1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgY2hpbGQgaXMgbm90IGV4cGVjdGVkIGp1c3QgdGFrZSBpdHMgdGV4dENvbnRlbnQuXG4gICAgICBpZiAoIWVsZW1zLmhhc093blByb3BlcnR5KGNoaWxkTm9kZS5sb2NhbE5hbWUpKSB7XG4gICAgICAgIHJldHVybiBjaGlsZE5vZGUudGV4dENvbnRlbnQ7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNvdXJjZUNoaWxkID0gZWxlbXNbY2hpbGROb2RlLmxvY2FsTmFtZV07XG5cbiAgICAgIC8vIElmIHRoZSBlbGVtZW50IHBhc3NlZCBhcyBhIHByb3AgdG8gPExvY2FsaXplZD4gaXMgYSBrbm93biB2b2lkIGVsZW1lbnQsXG4gICAgICAvLyBleHBsaWNpdGx5IGRpc21pc3MgYW55IHRleHRDb250ZW50IHdoaWNoIG1pZ2h0IGhhdmUgYWNjaWRlbnRhbGx5IGJlZW5cbiAgICAgIC8vIGRlZmluZWQgaW4gdGhlIHRyYW5zbGF0aW9uIHRvIHByZXZlbnQgdGhlIFwidm9pZCBlbGVtZW50IHRhZ3MgbXVzdCBub3RcbiAgICAgIC8vIGhhdmUgY2hpbGRyZW5cIiBlcnJvci5cbiAgICAgIGlmIChzb3VyY2VDaGlsZC50eXBlIGluIFZPSURfRUxFTUVOVFMpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZUNoaWxkO1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPIFByb3RlY3QgY29udGVudHMgb2YgZWxlbWVudHMgd3JhcHBlZCBpbiA8TG9jYWxpemVkPlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Byb2plY3RmbHVlbnQvZmx1ZW50LmpzL2lzc3Vlcy8xODRcbiAgICAgIC8vIFRPRE8gIENvbnRyb2wgbG9jYWxpemFibGUgYXR0cmlidXRlcyBvbiBlbGVtZW50cyBwYXNzZWQgYXMgcHJvcHNcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wcm9qZWN0Zmx1ZW50L2ZsdWVudC5qcy9pc3N1ZXMvMTg1XG4gICAgICByZXR1cm4gY2xvbmVFbGVtZW50KHNvdXJjZUNoaWxkLCBudWxsLCBjaGlsZE5vZGUudGV4dENvbnRlbnQpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNsb25lRWxlbWVudChlbGVtLCBsb2NhbGl6ZWRQcm9wcywgLi4udHJhbnNsYXRlZENoaWxkcmVuKTtcbiAgfVxufVxuXG5Mb2NhbGl6ZWQuY29udGV4dFR5cGVzID0ge1xuICBsMTBuOiBpc1JlYWN0TG9jYWxpemF0aW9uLFxuICBwYXJzZU1hcmt1cDogUHJvcFR5cGVzLmZ1bmMsXG59O1xuXG5Mb2NhbGl6ZWQucHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGVcbn07XG4iLCIvKlxuICogQG1vZHVsZSBmbHVlbnQtcmVhY3RcbiAqIEBvdmVydmlld1xuICpcblxuICogYGZsdWVudC1yZWFjdGAgcHJvdmlkZXMgUmVhY3QgYmluZGluZ3MgZm9yIEZsdWVudC4gIEl0IHRha2VzIGFkdmFudGFnZSBvZlxuICogUmVhY3QncyBDb21wb25lbnRzIHN5c3RlbSBhbmQgdGhlIHZpcnR1YWwgRE9NLiAgVHJhbnNsYXRpb25zIGFyZSBleHBvc2VkIHRvXG4gKiBjb21wb25lbnRzIHZpYSB0aGUgcHJvdmlkZXIgcGF0dGVybi5cbiAqXG4gKiAgICAgPExvY2FsaXphdGlvblByb3ZpZGVyIGJ1bmRsZXM9e+KApn0+XG4gKiAgICAgICAgIDxMb2NhbGl6ZWQgaWQ9XCJoZWxsby13b3JsZFwiPlxuICogICAgICAgICAgICAgPHA+eydIZWxsbywgd29ybGQhJ308L3A+XG4gKiAgICAgICAgIDwvTG9jYWxpemVkPlxuICogICAgIDwvTG9jYWxpemF0aW9uUHJvdmlkZXI+XG4gKlxuICogQ29uc3VsdCB0aGUgZG9jdW1lbnRhdGlvbiBvZiB0aGUgYExvY2FsaXphdGlvblByb3ZpZGVyYCBhbmQgdGhlIGBMb2NhbGl6ZWRgXG4gKiBjb21wb25lbnRzIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICovXG5cbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG9jYWxpemF0aW9uUHJvdmlkZXIgfSBmcm9tIFwiLi9wcm92aWRlclwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB3aXRoTG9jYWxpemF0aW9uIH0gZnJvbSBcIi4vd2l0aF9sb2NhbGl6YXRpb25cIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG9jYWxpemVkIH0gZnJvbSBcIi4vbG9jYWxpemVkXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFJlYWN0TG9jYWxpemF0aW9uLCBpc1JlYWN0TG9jYWxpemF0aW9uIH1cbiAgZnJvbSBcIi4vbG9jYWxpemF0aW9uXCI7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmNvbnN0IEFMTE9XRURfU1RZTEVfVEFHUyA9IFtcImNvbG9yXCIsIFwiYmFja2dyb3VuZENvbG9yXCJdO1xuXG5leHBvcnQgY29uc3QgQnV0dG9uID0gcHJvcHMgPT4ge1xuICBjb25zdCBzdHlsZSA9IHt9O1xuXG4gIC8vIEFkZCBhbGxvd2VkIHN0eWxlIHRhZ3MgZnJvbSBwcm9wcywgZS5nLiBwcm9wcy5jb2xvciBiZWNvbWVzIHN0eWxlPXtjb2xvcjogcHJvcHMuY29sb3J9XG4gIGZvciAoY29uc3QgdGFnIG9mIEFMTE9XRURfU1RZTEVfVEFHUykge1xuICAgIGlmICh0eXBlb2YgcHJvcHNbdGFnXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgc3R5bGVbdGFnXSA9IHByb3BzW3RhZ107XG4gICAgfVxuICB9XG4gIC8vIHJlbW92ZSBib3JkZXIgaWYgYmcgaXMgc2V0IHRvIHNvbWV0aGluZyBjdXN0b21cbiAgaWYgKHN0eWxlLmJhY2tncm91bmRDb2xvcikge1xuICAgIHN0eWxlLmJvcmRlciA9IFwiMFwiO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgXCJBU1JvdXRlckJ1dHRvbiBzZWNvbmRhcnlcIn1cbiAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICA+XG4gICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgPC9idXR0b24+XG4gICk7XG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuLy8gbGlmdGVkIGZyb20gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20va2l0emUvMjNkODJiYjllYjBiYWFiZmQwM2E2YTcyMGIxZDYzN2ZcbmNvbnN0IENvbmRpdGlvbmFsV3JhcHBlciA9ICh7IGNvbmRpdGlvbiwgd3JhcCwgY2hpbGRyZW4gfSkgPT5cbiAgY29uZGl0aW9uICYmIHdyYXAgPyB3cmFwKGNoaWxkcmVuKSA6IGNoaWxkcmVuO1xuXG5leHBvcnQgZGVmYXVsdCBDb25kaXRpb25hbFdyYXBwZXI7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2FmZVVSSSh1cmwpIHtcbiAgaWYgKCF1cmwpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBjb25zdCB7IHByb3RvY29sIH0gPSBuZXcgVVJMKHVybCk7XG4gIGNvbnN0IGlzQWxsb3dlZCA9IFtcbiAgICBcImh0dHA6XCIsXG4gICAgXCJodHRwczpcIixcbiAgICBcImRhdGE6XCIsXG4gICAgXCJyZXNvdXJjZTpcIixcbiAgICBcImNocm9tZTpcIixcbiAgXS5pbmNsdWRlcyhwcm90b2NvbCk7XG4gIGlmICghaXNBbGxvd2VkKSB7XG4gICAgY29uc29sZS53YXJuKGBUaGUgcHJvdG9jb2wgJHtwcm90b2NvbH0gaXMgbm90IGFsbG93ZWQgZm9yIHRlbXBsYXRlIFVSTHMuYCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICB9XG4gIHJldHVybiBpc0FsbG93ZWQgPyB1cmwgOiBcIlwiO1xufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgTG9jYWxpemVkIH0gZnJvbSBcImZsdWVudC1yZWFjdFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgUklDSF9URVhUX0tFWVMgfSBmcm9tIFwiLi4vLi4vcmljaC10ZXh0LXN0cmluZ3NcIjtcbmltcG9ydCB7IHNhZmVVUkkgfSBmcm9tIFwiLi4vLi4vdGVtcGxhdGUtdXRpbHNcIjtcblxuLy8gRWxlbWVudHMgYWxsb3dlZCBpbiBzbmlwcGV0IGNvbnRlbnRcbmNvbnN0IEFMTE9XRURfVEFHUyA9IHtcbiAgYjogPGIgLz4sXG4gIGk6IDxpIC8+LFxuICB1OiA8dSAvPixcbiAgc3Ryb25nOiA8c3Ryb25nIC8+LFxuICBlbTogPGVtIC8+LFxuICBicjogPGJyIC8+LFxufTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gYW4gb2JqZWN0ICh0YWcgbmFtZToge3VybH0pIGludG8gKHRhZyBuYW1lOiBhbmNob3IpIHdoZXJlIHRoZSB1cmxcbiAqIGlzIHVzZWQgYXMgaHJlZiwgaW4gb3JkZXIgdG8gcmVuZGVyIGxpbmtzIGluc2lkZSBhIEZsdWVudC5Mb2NhbGl6ZWQgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydExpbmtzKFxuICBsaW5rcyxcbiAgc2VuZENsaWNrLFxuICBkb05vdEF1dG9CbG9jayxcbiAgb3Blbk5ld1dpbmRvdyA9IGZhbHNlXG4pIHtcbiAgaWYgKGxpbmtzKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGxpbmtzKS5yZWR1Y2UoKGFjYywgbGlua1RhZykgPT4ge1xuICAgICAgY29uc3QgeyBhY3Rpb24gfSA9IGxpbmtzW2xpbmtUYWddO1xuICAgICAgLy8gU2V0dGluZyB0aGUgdmFsdWUgdG8gZmFsc2Ugd2lsbCBub3QgaW5jbHVkZSB0aGUgYXR0cmlidXRlIGluIHRoZSBhbmNob3JcbiAgICAgIGNvbnN0IHVybCA9IGFjdGlvbiA/IGZhbHNlIDogc2FmZVVSSShsaW5rc1tsaW5rVGFnXS51cmwpO1xuXG4gICAgICBhY2NbbGlua1RhZ10gPSAoXG4gICAgICAgIC8vIGVzbGludCB3YXMgZ2V0dGluZyBhIGZhbHNlIHBvc2l0aXZlIGNhdXNlZCBieSB0aGUgZHluYW1pYyBpbmplY3Rpb25cbiAgICAgICAgLy8gb2YgY29udGVudC5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L2FuY2hvci1oYXMtY29udGVudFxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9e3VybH1cbiAgICAgICAgICB0YXJnZXQ9e29wZW5OZXdXaW5kb3cgPyBcIl9ibGFua1wiIDogXCJcIn1cbiAgICAgICAgICBkYXRhLW1ldHJpYz17bGlua3NbbGlua1RhZ10ubWV0cmljfVxuICAgICAgICAgIGRhdGEtYWN0aW9uPXthY3Rpb259XG4gICAgICAgICAgZGF0YS1hcmdzPXtsaW5rc1tsaW5rVGFnXS5hcmdzfVxuICAgICAgICAgIGRhdGEtZG9fbm90X2F1dG9ibG9jaz17ZG9Ob3RBdXRvQmxvY2t9XG4gICAgICAgICAgZGF0YS1lbnRyeXBvaW50X25hbWU9e2xpbmtzW2xpbmtUYWddLmVudHJ5cG9pbnRfbmFtZX1cbiAgICAgICAgICBkYXRhLWVudHJ5cG9pbnRfdmFsdWU9e2xpbmtzW2xpbmtUYWddLmVudHJ5cG9pbnRfdmFsdWV9XG4gICAgICAgICAgcmVsPVwibm9yZWZlcnJlclwiXG4gICAgICAgICAgb25DbGljaz17c2VuZENsaWNrfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogTWVzc2FnZSB3cmFwcGVyIHVzZWQgdG8gc2FuaXRpemUgbWFya3VwIGFuZCByZW5kZXIgSFRNTC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJpY2hUZXh0KHByb3BzKSB7XG4gIGlmICghUklDSF9URVhUX0tFWVMuaW5jbHVkZXMocHJvcHMubG9jYWxpemF0aW9uX2lkKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBBU1JvdXRlcjogJHtwcm9wcy5sb2NhbGl6YXRpb25faWR9IGlzIG5vdCBhIHZhbGlkIHJpY2ggdGV4dCBwcm9wZXJ0eS4gSWYgeW91IHdhbnQgaXQgdG8gYmUgcHJvY2Vzc2VkLCB5b3UgbmVlZCB0byBhZGQgaXQgdG8gYXNyb3V0ZXIvcmljaC10ZXh0LXN0cmluZ3MuanNgXG4gICAgKTtcbiAgfVxuICByZXR1cm4gKFxuICAgIDxMb2NhbGl6ZWRcbiAgICAgIGlkPXtwcm9wcy5sb2NhbGl6YXRpb25faWR9XG4gICAgICB7Li4uQUxMT1dFRF9UQUdTfVxuICAgICAgey4uLnByb3BzLmN1c3RvbUVsZW1lbnRzfVxuICAgICAgey4uLmNvbnZlcnRMaW5rcyhcbiAgICAgICAgcHJvcHMubGlua3MsXG4gICAgICAgIHByb3BzLnNlbmRDbGljayxcbiAgICAgICAgcHJvcHMuZG9Ob3RBdXRvQmxvY2ssXG4gICAgICAgIHByb3BzLm9wZW5OZXdXaW5kb3dcbiAgICAgICl9XG4gICAgPlxuICAgICAgPHNwYW4+e3Byb3BzLnRleHR9PC9zcGFuPlxuICAgIDwvTG9jYWxpemVkPlxuICApO1xufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgU25pcHBldEJhc2UgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkJsb2NrQ2xpY2tlZCA9IHRoaXMub25CbG9ja0NsaWNrZWQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uRGlzbWlzc0NsaWNrZWQgPSB0aGlzLm9uRGlzbWlzc0NsaWNrZWQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNldEJsb2NrQnV0dG9uUmVmID0gdGhpcy5zZXRCbG9ja0J1dHRvblJlZi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25CbG9ja0J1dHRvbk1vdXNlRW50ZXIgPSB0aGlzLm9uQmxvY2tCdXR0b25Nb3VzZUVudGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkJsb2NrQnV0dG9uTW91c2VMZWF2ZSA9IHRoaXMub25CbG9ja0J1dHRvbk1vdXNlTGVhdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0geyBibG9ja0J1dHRvbkhvdmVyOiBmYWxzZSB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMuYmxvY2tCdXR0b25SZWYpIHtcbiAgICAgIHRoaXMuYmxvY2tCdXR0b25SZWYuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJtb3VzZWVudGVyXCIsXG4gICAgICAgIHRoaXMub25CbG9ja0J1dHRvbk1vdXNlRW50ZXJcbiAgICAgICk7XG4gICAgICB0aGlzLmJsb2NrQnV0dG9uUmVmLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwibW91c2VsZWF2ZVwiLFxuICAgICAgICB0aGlzLm9uQmxvY2tCdXR0b25Nb3VzZUxlYXZlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLmJsb2NrQnV0dG9uUmVmKSB7XG4gICAgICB0aGlzLmJsb2NrQnV0dG9uUmVmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwibW91c2VlbnRlclwiLFxuICAgICAgICB0aGlzLm9uQmxvY2tCdXR0b25Nb3VzZUVudGVyXG4gICAgICApO1xuICAgICAgdGhpcy5ibG9ja0J1dHRvblJlZi5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBcIm1vdXNlbGVhdmVcIixcbiAgICAgICAgdGhpcy5vbkJsb2NrQnV0dG9uTW91c2VMZWF2ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBzZXRCbG9ja0J1dHRvblJlZihlbGVtZW50KSB7XG4gICAgdGhpcy5ibG9ja0J1dHRvblJlZiA9IGVsZW1lbnQ7XG4gIH1cblxuICBvbkJsb2NrQnV0dG9uTW91c2VFbnRlcigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgYmxvY2tCdXR0b25Ib3ZlcjogdHJ1ZSB9KTtcbiAgfVxuXG4gIG9uQmxvY2tCdXR0b25Nb3VzZUxlYXZlKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBibG9ja0J1dHRvbkhvdmVyOiBmYWxzZSB9KTtcbiAgfVxuXG4gIG9uQmxvY2tDbGlja2VkKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb3ZpZGVyICE9PSBcInByZXZpZXdcIikge1xuICAgICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICAgIGV2ZW50OiBcIkJMT0NLXCIsXG4gICAgICAgIGlkOiB0aGlzLnByb3BzLlVJU3VyZmFjZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMub25CbG9jaygpO1xuICB9XG5cbiAgb25EaXNtaXNzQ2xpY2tlZCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm92aWRlciAhPT0gXCJwcmV2aWV3XCIpIHtcbiAgICAgIHRoaXMucHJvcHMuc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnkoe1xuICAgICAgICBldmVudDogXCJESVNNSVNTXCIsXG4gICAgICAgIGlkOiB0aGlzLnByb3BzLlVJU3VyZmFjZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMub25EaXNtaXNzKCk7XG4gIH1cblxuICByZW5kZXJEaXNtaXNzQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmZvb3RlckRpc21pc3MpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9vdGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb290ZXItY29udGVudFwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJBU1JvdXRlckJ1dHRvbiBzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uRGlzbWlzc0NsaWNrZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNvbnRlbnQuc2NlbmUyX2Rpc21pc3NfYnV0dG9uX3RleHR9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGxhYmVsID0gdGhpcy5wcm9wcy5jb250ZW50LmJsb2NrX2J1dHRvbl90ZXh0IHx8IFwiUmVtb3ZlIHRoaXNcIjtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJibG9ja0J1dHRvblwiXG4gICAgICAgIHRpdGxlPXtsYWJlbH1cbiAgICAgICAgYXJpYS1sYWJlbD17bGFiZWx9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25CbG9ja0NsaWNrZWR9XG4gICAgICAgIHJlZj17dGhpcy5zZXRCbG9ja0J1dHRvblJlZn1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgYmxvY2tCdXR0b25Ib3ZlciB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIGNvbnN0IGNvbnRhaW5lckNsYXNzTmFtZSA9IGBTbmlwcGV0QmFzZUNvbnRhaW5lciR7XG4gICAgICBwcm9wcy5jbGFzc05hbWUgPyBgICR7cHJvcHMuY2xhc3NOYW1lfWAgOiBcIlwiXG4gICAgfSR7YmxvY2tCdXR0b25Ib3ZlciA/IFwiIGFjdGl2ZVwiIDogXCJcIn1gO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjb250YWluZXJDbGFzc05hbWV9IHN0eWxlPXt0aGlzLnByb3BzLnRleHRTdHlsZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5uZXJXcmFwcGVyXCI+e3Byb3BzLmNoaWxkcmVufTwvZGl2PlxuICAgICAgICB7dGhpcy5yZW5kZXJEaXNtaXNzQnV0dG9uKCl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9CdXR0b24vQnV0dG9uXCI7XG5pbXBvcnQgQ29uZGl0aW9uYWxXcmFwcGVyIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0NvbmRpdGlvbmFsV3JhcHBlci9Db25kaXRpb25hbFdyYXBwZXJcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFJpY2hUZXh0IH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvUmljaFRleHQvUmljaFRleHRcIjtcbmltcG9ydCB7IHNhZmVVUkkgfSBmcm9tIFwiLi4vLi4vdGVtcGxhdGUtdXRpbHNcIjtcbmltcG9ydCB7IFNuaXBwZXRCYXNlIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvU25pcHBldEJhc2UvU25pcHBldEJhc2VcIjtcblxuY29uc3QgREVGQVVMVF9JQ09OX1BBVEggPSBcImNocm9tZTovL2JyYW5kaW5nL2NvbnRlbnQvaWNvbjY0LnBuZ1wiO1xuLy8gQWx0IHRleHQgcGxhY2Vob2xkZXIgaW4gY2FzZSB0aGUgcHJvcCBmcm9tIHRoZSBzZXJ2ZXIgaXNuJ3QgYXZhaWxhYmxlXG5jb25zdCBJQ09OX0FMVF9URVhUID0gXCJcIjtcblxuZXhwb3J0IGNsYXNzIFNpbXBsZVNuaXBwZXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkJ1dHRvbkNsaWNrID0gdGhpcy5vbkJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkJ1dHRvbkNsaWNrKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb3ZpZGVyICE9PSBcInByZXZpZXdcIikge1xuICAgICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICAgIGV2ZW50OiBcIkNMSUNLX0JVVFRPTlwiLFxuICAgICAgICBpZDogdGhpcy5wcm9wcy5VSVN1cmZhY2UsXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgYnV0dG9uX3VybCxcbiAgICAgIGJ1dHRvbl9lbnRyeXBvaW50X3ZhbHVlLFxuICAgICAgYnV0dG9uX2VudHJ5cG9pbnRfbmFtZSxcbiAgICB9ID0gdGhpcy5wcm9wcy5jb250ZW50O1xuICAgIC8vIElmIGJ1dHRvbl91cmwgaXMgZGVmaW5lZCBoYW5kbGUgaXQgYXMgT1BFTl9VUkwgYWN0aW9uXG4gICAgY29uc3QgdHlwZSA9IHRoaXMucHJvcHMuY29udGVudC5idXR0b25fYWN0aW9uIHx8IChidXR0b25fdXJsICYmIFwiT1BFTl9VUkxcIik7XG4gICAgLy8gQXNzaWduIHRoZSBzbmlwcGV0IHJlZmVycmFsIGZvciB0aGUgYWN0aW9uXG4gICAgY29uc3QgZW50cnlwb2ludCA9IGJ1dHRvbl9lbnRyeXBvaW50X25hbWVcbiAgICAgID8gbmV3IFVSTFNlYXJjaFBhcmFtcyhbXG4gICAgICAgICAgW2J1dHRvbl9lbnRyeXBvaW50X25hbWUsIGJ1dHRvbl9lbnRyeXBvaW50X3ZhbHVlXSxcbiAgICAgICAgXSkudG9TdHJpbmcoKVxuICAgICAgOiBidXR0b25fZW50cnlwb2ludF92YWx1ZTtcbiAgICB0aGlzLnByb3BzLm9uQWN0aW9uKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGFyZ3M6IHRoaXMucHJvcHMuY29udGVudC5idXR0b25fYWN0aW9uX2FyZ3MgfHwgYnV0dG9uX3VybCxcbiAgICAgICAgLi4uKGVudHJ5cG9pbnQgJiYgeyBlbnRyeXBvaW50IH0pLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBpZiAoIXRoaXMucHJvcHMuY29udGVudC5kb19ub3RfYXV0b2Jsb2NrKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQmxvY2soKTtcbiAgICB9XG4gIH1cblxuICBfc2hvdWxkUmVuZGVyQnV0dG9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnQuYnV0dG9uX2FjdGlvbiB8fFxuICAgICAgdGhpcy5wcm9wcy5vbkJ1dHRvbkNsaWNrIHx8XG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnQuYnV0dG9uX3VybFxuICAgICk7XG4gIH1cblxuICByZW5kZXJUaXRsZSgpIHtcbiAgICBjb25zdCB7IHRpdGxlIH0gPSB0aGlzLnByb3BzLmNvbnRlbnQ7XG4gICAgcmV0dXJuIHRpdGxlID8gKFxuICAgICAgPGgzXG4gICAgICAgIGNsYXNzTmFtZT17YHRpdGxlICR7dGhpcy5fc2hvdWxkUmVuZGVyQnV0dG9uKCkgPyBcInRpdGxlLWlubGluZVwiIDogXCJcIn1gfVxuICAgICAgPlxuICAgICAgICB7dGhpcy5yZW5kZXJUaXRsZUljb24oKX0ge3RpdGxlfVxuICAgICAgPC9oMz5cbiAgICApIDogbnVsbDtcbiAgfVxuXG4gIHJlbmRlclRpdGxlSWNvbigpIHtcbiAgICBjb25zdCB0aXRsZUljb25MaWdodCA9IHNhZmVVUkkodGhpcy5wcm9wcy5jb250ZW50LnRpdGxlX2ljb24pO1xuICAgIGNvbnN0IHRpdGxlSWNvbkRhcmsgPSBzYWZlVVJJKFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50LnRpdGxlX2ljb25fZGFya190aGVtZSB8fCB0aGlzLnByb3BzLmNvbnRlbnQudGl0bGVfaWNvblxuICAgICk7XG4gICAgaWYgKCF0aXRsZUljb25MaWdodCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0aXRsZUljb24gaWNvbi1saWdodC10aGVtZVwiXG4gICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBgdXJsKFwiJHt0aXRsZUljb25MaWdodH1cIilgIH19XG4gICAgICAgIC8+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgY2xhc3NOYW1lPVwidGl0bGVJY29uIGljb24tZGFyay10aGVtZVwiXG4gICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBgdXJsKFwiJHt0aXRsZUljb25EYXJrfVwiKWAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckJ1dHRvbigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGlmICghdGhpcy5fc2hvdWxkUmVuZGVyQnV0dG9uKCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQnV0dG9uQ2xpY2sgfHwgdGhpcy5vbkJ1dHRvbkNsaWNrfVxuICAgICAgICBjb2xvcj17cHJvcHMuY29udGVudC5idXR0b25fY29sb3J9XG4gICAgICAgIGJhY2tncm91bmRDb2xvcj17cHJvcHMuY29udGVudC5idXR0b25fYmFja2dyb3VuZF9jb2xvcn1cbiAgICAgID5cbiAgICAgICAge3Byb3BzLmNvbnRlbnQuYnV0dG9uX2xhYmVsfVxuICAgICAgPC9CdXR0b24+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclRleHQoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICByZXR1cm4gKFxuICAgICAgPFJpY2hUZXh0XG4gICAgICAgIHRleHQ9e3Byb3BzLmNvbnRlbnQudGV4dH1cbiAgICAgICAgY3VzdG9tRWxlbWVudHM9e3RoaXMucHJvcHMuY3VzdG9tRWxlbWVudHN9XG4gICAgICAgIGxvY2FsaXphdGlvbl9pZD1cInRleHRcIlxuICAgICAgICBsaW5rcz17cHJvcHMuY29udGVudC5saW5rc31cbiAgICAgICAgc2VuZENsaWNrPXtwcm9wcy5zZW5kQ2xpY2t9XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICB3cmFwU2VjdGlvbkhlYWRlcih1cmwpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oY2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiA8YSBocmVmPXt1cmx9PntjaGlsZHJlbn08L2E+O1xuICAgIH07XG4gIH1cblxuICB3cmFwU25pcHBldENvbnRlbnQoY2hpbGRyZW4pIHtcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJpbm5lckNvbnRlbnRXcmFwcGVyXCI+e2NoaWxkcmVufTwvZGl2PjtcbiAgfVxuXG4gIHJlbmRlclNlY3Rpb25IZWFkZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIC8vIGFuIGljb24gYW5kIHRleHQgbXVzdCBiZSBzcGVjaWZpZWQgdG8gcmVuZGVyIHRoZSBzZWN0aW9uIGhlYWRlclxuICAgIGlmIChwcm9wcy5jb250ZW50LnNlY3Rpb25fdGl0bGVfaWNvbiAmJiBwcm9wcy5jb250ZW50LnNlY3Rpb25fdGl0bGVfdGV4dCkge1xuICAgICAgY29uc3Qgc2VjdGlvblRpdGxlSWNvbkxpZ2h0ID0gc2FmZVVSSShwcm9wcy5jb250ZW50LnNlY3Rpb25fdGl0bGVfaWNvbik7XG4gICAgICBjb25zdCBzZWN0aW9uVGl0bGVJY29uRGFyayA9IHNhZmVVUkkoXG4gICAgICAgIHByb3BzLmNvbnRlbnQuc2VjdGlvbl90aXRsZV9pY29uX2RhcmtfdGhlbWUgfHxcbiAgICAgICAgICBwcm9wcy5jb250ZW50LnNlY3Rpb25fdGl0bGVfaWNvblxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNlY3Rpb25UaXRsZVVSTCA9IHByb3BzLmNvbnRlbnQuc2VjdGlvbl90aXRsZV91cmw7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi1oZWFkZXJcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZVwiPlxuICAgICAgICAgICAgPENvbmRpdGlvbmFsV3JhcHBlclxuICAgICAgICAgICAgICBjb25kaXRpb249e3NlY3Rpb25UaXRsZVVSTH1cbiAgICAgICAgICAgICAgd3JhcD17dGhpcy53cmFwU2VjdGlvbkhlYWRlcihzZWN0aW9uVGl0bGVVUkwpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImljb24gaWNvbi1zbWFsbC1zcGFjZXIgaWNvbi1saWdodC10aGVtZVwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBgdXJsKFwiJHtzZWN0aW9uVGl0bGVJY29uTGlnaHR9XCIpYCB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImljb24gaWNvbi1zbWFsbC1zcGFjZXIgaWNvbi1kYXJrLXRoZW1lXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoXCIke3NlY3Rpb25UaXRsZUljb25EYXJrfVwiKWAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZS10ZXh0XCI+XG4gICAgICAgICAgICAgICAge3Byb3BzLmNvbnRlbnQuc2VjdGlvbl90aXRsZV90ZXh0fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L0NvbmRpdGlvbmFsV3JhcHBlcj5cbiAgICAgICAgICA8L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCBzZWN0aW9uSGVhZGVyID0gdGhpcy5yZW5kZXJTZWN0aW9uSGVhZGVyKCk7XG4gICAgbGV0IGNsYXNzTmFtZSA9IFwiU2ltcGxlU25pcHBldFwiO1xuXG4gICAgaWYgKHByb3BzLmNsYXNzTmFtZSkge1xuICAgICAgY2xhc3NOYW1lICs9IGAgJHtwcm9wcy5jbGFzc05hbWV9YDtcbiAgICB9XG4gICAgaWYgKHByb3BzLmNvbnRlbnQudGFsbCkge1xuICAgICAgY2xhc3NOYW1lICs9IFwiIHRhbGxcIjtcbiAgICB9XG4gICAgaWYgKHNlY3Rpb25IZWFkZXIpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcIiBoYXMtc2VjdGlvbi1oZWFkZXJcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzbmlwcGV0LWhvdmVyLXdyYXBwZXJcIj5cbiAgICAgICAgPFNuaXBwZXRCYXNlXG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgIHRleHRTdHlsZT17dGhpcy5wcm9wcy50ZXh0U3R5bGV9XG4gICAgICAgID5cbiAgICAgICAgICB7c2VjdGlvbkhlYWRlcn1cbiAgICAgICAgICA8Q29uZGl0aW9uYWxXcmFwcGVyXG4gICAgICAgICAgICBjb25kaXRpb249e3NlY3Rpb25IZWFkZXJ9XG4gICAgICAgICAgICB3cmFwPXt0aGlzLndyYXBTbmlwcGV0Q29udGVudH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIHNyYz17c2FmZVVSSShwcm9wcy5jb250ZW50Lmljb24pIHx8IERFRkFVTFRfSUNPTl9QQVRIfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpY29uIGljb24tbGlnaHQtdGhlbWVcIlxuICAgICAgICAgICAgICBhbHQ9e3Byb3BzLmNvbnRlbnQuaWNvbl9hbHRfdGV4dCB8fCBJQ09OX0FMVF9URVhUfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPXtcbiAgICAgICAgICAgICAgICBzYWZlVVJJKHByb3BzLmNvbnRlbnQuaWNvbl9kYXJrX3RoZW1lIHx8IHByb3BzLmNvbnRlbnQuaWNvbikgfHxcbiAgICAgICAgICAgICAgICBERUZBVUxUX0lDT05fUEFUSFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImljb24gaWNvbi1kYXJrLXRoZW1lXCJcbiAgICAgICAgICAgICAgYWx0PXtwcm9wcy5jb250ZW50Lmljb25fYWx0X3RleHQgfHwgSUNPTl9BTFRfVEVYVH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJUaXRsZSgpfSA8cCBjbGFzc05hbWU9XCJib2R5XCI+e3RoaXMucmVuZGVyVGV4dCgpfTwvcD5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuZXh0cmFDb250ZW50fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7PGRpdj57dGhpcy5yZW5kZXJCdXR0b24oKX08L2Rpdj59XG4gICAgICAgICAgPC9Db25kaXRpb25hbFdyYXBwZXI+XG4gICAgICAgIDwvU25pcHBldEJhc2U+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTaW1wbGVTbmlwcGV0IH0gZnJvbSBcIi4uL1NpbXBsZVNuaXBwZXQvU2ltcGxlU25pcHBldFwiO1xuXG5jbGFzcyBFT1lTbmlwcGV0QmFzZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhhbmRsZVN1Ym1pdCA9IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogc2V0RnJlcXVlbmN5VmFsdWUgLSBgZnJlcXVlbmN5YCBmb3JtIHBhcmFtZXRlciB2YWx1ZSBzaG91bGQgYmUgYG1vbnRobHlgXG4gICAqICAgICAgICAgICAgICAgICAgICAgaWYgYG1vbnRobHktY2hlY2tib3hgIGlzIHNlbGVjdGVkIG9yIGBzaW5nbGVgIG90aGVyd2lzZVxuICAgKi9cbiAgc2V0RnJlcXVlbmN5VmFsdWUoKSB7XG4gICAgY29uc3QgZnJlcXVlbmN5Q2hlY2tib3ggPSB0aGlzLnJlZnMuZm9ybS5xdWVyeVNlbGVjdG9yKFwiI21vbnRobHktY2hlY2tib3hcIik7XG4gICAgaWYgKGZyZXF1ZW5jeUNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgIHRoaXMucmVmcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0nZnJlcXVlbmN5J11cIikudmFsdWUgPSBcIm1vbnRobHlcIjtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVTdWJtaXQoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMucHJvcHMuc2VuZENsaWNrKGV2ZW50KTtcbiAgICB0aGlzLnNldEZyZXF1ZW5jeVZhbHVlKCk7XG4gICAgaWYgKCF0aGlzLnByb3BzLmNvbnRlbnQuZG9fbm90X2F1dG9ibG9jaykge1xuICAgICAgdGhpcy5wcm9wcy5vbkJsb2NrKCk7XG4gICAgfVxuICAgIHRoaXMucmVmcy5mb3JtLnN1Ym1pdCgpO1xuICB9XG5cbiAgcmVuZGVyRG9uYXRpb25zKCkge1xuICAgIGNvbnN0IGZpZWxkTmFtZXMgPSBbXCJmaXJzdFwiLCBcInNlY29uZFwiLCBcInRoaXJkXCIsIFwiZm91cnRoXCJdO1xuICAgIGNvbnN0IG51bWJlckZvcm1hdCA9IG5ldyBJbnRsLk51bWJlckZvcm1hdChcbiAgICAgIHRoaXMucHJvcHMuY29udGVudC5sb2NhbGUgfHwgbmF2aWdhdG9yLmxhbmd1YWdlLFxuICAgICAge1xuICAgICAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxuICAgICAgICBjdXJyZW5jeTogdGhpcy5wcm9wcy5jb250ZW50LmN1cnJlbmN5X2NvZGUsXG4gICAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMCxcbiAgICAgIH1cbiAgICApO1xuICAgIC8vIERlZmF1bHQgdG8gYHNlY29uZGAgYnV0dG9uXG4gICAgY29uc3QgeyBzZWxlY3RlZF9idXR0b24gfSA9IHRoaXMucHJvcHMuY29udGVudDtcbiAgICBjb25zdCBidG5TdHlsZSA9IHtcbiAgICAgIGNvbG9yOiB0aGlzLnByb3BzLmNvbnRlbnQuYnV0dG9uX2NvbG9yLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnByb3BzLmNvbnRlbnQuYnV0dG9uX2JhY2tncm91bmRfY29sb3IsXG4gICAgfTtcbiAgICBjb25zdCBkb25hdGlvblVSTFBhcmFtcyA9IFtdO1xuICAgIGNvbnN0IHBhcmFtc1N0YXJ0SW5kZXggPSB0aGlzLnByb3BzLmNvbnRlbnQuZG9uYXRpb25fZm9ybV91cmwuaW5kZXhPZihcIj9cIik7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBuZXcgVVJMU2VhcmNoUGFyYW1zKFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50LmRvbmF0aW9uX2Zvcm1fdXJsLnNsaWNlKHBhcmFtc1N0YXJ0SW5kZXgpXG4gICAgKS5lbnRyaWVzKCkpIHtcbiAgICAgIGRvbmF0aW9uVVJMUGFyYW1zLnB1c2goZW50cnkpO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybVxuICAgICAgICBjbGFzc05hbWU9XCJFT1lTbmlwcGV0Rm9ybVwiXG4gICAgICAgIGFjdGlvbj17dGhpcy5wcm9wcy5jb250ZW50LmRvbmF0aW9uX2Zvcm1fdXJsfVxuICAgICAgICBtZXRob2Q9e3RoaXMucHJvcHMuZm9ybV9tZXRob2R9XG4gICAgICAgIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH1cbiAgICAgICAgZGF0YS1tZXRyaWM9XCJFT1lTbmlwcGV0Rm9ybVwiXG4gICAgICAgIHJlZj1cImZvcm1cIlxuICAgICAgPlxuICAgICAgICB7ZG9uYXRpb25VUkxQYXJhbXMubWFwKChba2V5LCB2YWx1ZV0sIGlkeCkgPT4gKFxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT17a2V5fSB2YWx1ZT17dmFsdWV9IGtleT17aWR4fSAvPlxuICAgICAgICApKX1cbiAgICAgICAge2ZpZWxkTmFtZXMubWFwKChmaWVsZCwgaWR4KSA9PiB7XG4gICAgICAgICAgY29uc3QgYnV0dG9uX25hbWUgPSBgZG9uYXRpb25fYW1vdW50XyR7ZmllbGR9YDtcbiAgICAgICAgICBjb25zdCBhbW91bnQgPSB0aGlzLnByb3BzLmNvbnRlbnRbYnV0dG9uX25hbWVdO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQga2V5PXtpZHh9PlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJhbW91bnRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXthbW91bnR9XG4gICAgICAgICAgICAgICAgaWQ9e2ZpZWxkfVxuICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkPXtidXR0b25fbmFtZSA9PT0gc2VsZWN0ZWRfYnV0dG9ufVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17ZmllbGR9IGNsYXNzTmFtZT1cImRvbmF0aW9uLWFtb3VudFwiPlxuICAgICAgICAgICAgICAgIHtudW1iZXJGb3JtYXQuZm9ybWF0KGFtb3VudCl9XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICk7XG4gICAgICAgIH0pfVxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9udGhseS1jaGVja2JveC1jb250YWluZXJcIj5cbiAgICAgICAgICA8aW5wdXQgaWQ9XCJtb250aGx5LWNoZWNrYm94XCIgdHlwZT1cImNoZWNrYm94XCIgLz5cbiAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cIm1vbnRobHktY2hlY2tib3hcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNvbnRlbnQubW9udGhseV9jaGVja2JveF9sYWJlbF90ZXh0fVxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImZyZXF1ZW5jeVwiIHZhbHVlPVwic2luZ2xlXCIgLz5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cImhpZGRlblwiXG4gICAgICAgICAgbmFtZT1cImN1cnJlbmN5XCJcbiAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy5jb250ZW50LmN1cnJlbmN5X2NvZGV9XG4gICAgICAgIC8+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJoaWRkZW5cIlxuICAgICAgICAgIG5hbWU9XCJwcmVzZXRzXCJcbiAgICAgICAgICB2YWx1ZT17ZmllbGROYW1lcy5tYXAoXG4gICAgICAgICAgICBmaWVsZCA9PiB0aGlzLnByb3BzLmNvbnRlbnRbYGRvbmF0aW9uX2Ftb3VudF8ke2ZpZWxkfWBdXG4gICAgICAgICAgKX1cbiAgICAgICAgLz5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHN0eWxlPXtidG5TdHlsZX1cbiAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJBU1JvdXRlckJ1dHRvbiBwcmltYXJ5IGRvbmF0aW9uLWZvcm0tdXJsXCJcbiAgICAgICAgPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNvbnRlbnQuYnV0dG9uX2xhYmVsfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHRleHRTdHlsZSA9IHtcbiAgICAgIGNvbG9yOiB0aGlzLnByb3BzLmNvbnRlbnQudGV4dF9jb2xvcixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5wcm9wcy5jb250ZW50LmJhY2tncm91bmRfY29sb3IsXG4gICAgfTtcbiAgICBjb25zdCBjdXN0b21FbGVtZW50ID0gKFxuICAgICAgPGVtIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogdGhpcy5wcm9wcy5jb250ZW50LmhpZ2hsaWdodF9jb2xvciB9fSAvPlxuICAgICk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTaW1wbGVTbmlwcGV0XG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBjbGFzc05hbWU9e3RoaXMucHJvcHMuY29udGVudC50ZXN0fVxuICAgICAgICBjdXN0b21FbGVtZW50cz17eyBlbTogY3VzdG9tRWxlbWVudCB9fVxuICAgICAgICB0ZXh0U3R5bGU9e3RleHRTdHlsZX1cbiAgICAgICAgZXh0cmFDb250ZW50PXt0aGlzLnJlbmRlckRvbmF0aW9ucygpfVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBFT1lTbmlwcGV0ID0gcHJvcHMgPT4ge1xuICBjb25zdCBleHRlbmRlZENvbnRlbnQgPSB7XG4gICAgbW9udGhseV9jaGVja2JveF9sYWJlbF90ZXh0OiBcIk1ha2UgbXkgZG9uYXRpb24gbW9udGhseVwiLFxuICAgIGxvY2FsZTogXCJlbi1VU1wiLFxuICAgIGN1cnJlbmN5X2NvZGU6IFwidXNkXCIsXG4gICAgc2VsZWN0ZWRfYnV0dG9uOiBcImRvbmF0aW9uX2Ftb3VudF9zZWNvbmRcIixcbiAgICAuLi5wcm9wcy5jb250ZW50LFxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPEVPWVNuaXBwZXRCYXNlIHsuLi5wcm9wc30gY29udGVudD17ZXh0ZW5kZWRDb250ZW50fSBmb3JtX21ldGhvZD1cIkdFVFwiIC8+XG4gICk7XG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvQnV0dG9uL0J1dHRvblwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgUmljaFRleHQgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9SaWNoVGV4dC9SaWNoVGV4dFwiO1xuaW1wb3J0IHsgc2FmZVVSSSB9IGZyb20gXCIuLi8uLi90ZW1wbGF0ZS11dGlsc1wiO1xuaW1wb3J0IHsgU2ltcGxlU25pcHBldCB9IGZyb20gXCIuLi9TaW1wbGVTbmlwcGV0L1NpbXBsZVNuaXBwZXRcIjtcbmltcG9ydCB7IFNuaXBwZXRCYXNlIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvU25pcHBldEJhc2UvU25pcHBldEJhc2VcIjtcbmltcG9ydCBDb25kaXRpb25hbFdyYXBwZXIgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvQ29uZGl0aW9uYWxXcmFwcGVyL0NvbmRpdGlvbmFsV3JhcHBlclwiO1xuXG4vLyBBbHQgdGV4dCBwbGFjZWhvbGRlciBpbiBjYXNlIHRoZSBwcm9wIGZyb20gdGhlIHNlcnZlciBpc24ndCBhdmFpbGFibGVcbmNvbnN0IElDT05fQUxUX1RFWFQgPSBcIlwiO1xuXG5leHBvcnQgY2xhc3MgU3VibWl0Rm9ybVNuaXBwZXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5leHBhbmRTbmlwcGV0ID0gdGhpcy5leHBhbmRTbmlwcGV0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVTdWJtaXQgPSB0aGlzLmhhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlU3VibWl0QXR0ZW1wdCA9IHRoaXMuaGFuZGxlU3VibWl0QXR0ZW1wdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25JbnB1dENoYW5nZSA9IHRoaXMub25JbnB1dENoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBleHBhbmRlZDogZmFsc2UsXG4gICAgICBzdWJtaXRBdHRlbXB0ZWQ6IGZhbHNlLFxuICAgICAgc2lnbnVwU3VibWl0dGVkOiBmYWxzZSxcbiAgICAgIHNpZ251cFN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZGlzYWJsZUZvcm06IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBoYW5kbGVTdWJtaXRBdHRlbXB0KCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5zdWJtaXRBdHRlbXB0ZWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdWJtaXRBdHRlbXB0ZWQ6IHRydWUgfSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlU3VibWl0KGV2ZW50KSB7XG4gICAgbGV0IGpzb247XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5kaXNhYmxlRm9ybSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGRpc2FibGVGb3JtOiB0cnVlIH0pO1xuICAgIHRoaXMucHJvcHMuc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnkoe1xuICAgICAgZXZlbnQ6IFwiQ0xJQ0tfQlVUVE9OXCIsXG4gICAgICBldmVudF9jb250ZXh0OiBcImNvbnZlcnNpb24tc3Vic2NyaWJlLWFjdGl2YXRpb25cIixcbiAgICAgIGlkOiBcIk5FV1RBQl9GT09URVJfQkFSX0NPTlRFTlRcIixcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLnByb3BzLmZvcm1fbWV0aG9kLnRvVXBwZXJDYXNlKCkgPT09IFwiR0VUXCIpIHtcbiAgICAgIHRoaXMucHJvcHMub25CbG9jayh7IHByZXZlbnREaXNtaXNzOiB0cnVlIH0pO1xuICAgICAgdGhpcy5yZWZzLmZvcm0uc3VibWl0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyB1cmwsIGZvcm1EYXRhIH0gPSB0aGlzLnByb3BzLnByb2Nlc3NGb3JtRGF0YVxuICAgICAgPyB0aGlzLnByb3BzLnByb2Nlc3NGb3JtRGF0YSh0aGlzLnJlZnMubWFpbklucHV0LCB0aGlzLnByb3BzKVxuICAgICAgOiB7IHVybDogdGhpcy5yZWZzLmZvcm0uYWN0aW9uLCBmb3JtRGF0YTogbmV3IEZvcm1EYXRhKHRoaXMucmVmcy5mb3JtKSB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZldGNoUmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHVybCwge1xuICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgY3JlZGVudGlhbHM6IFwib21pdFwiLFxuICAgICAgfSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGZldGNoUmVxdWVzdCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZmV0Y2gtb3B0aW9ucy9uby1mZXRjaC1jcmVkZW50aWFsc1xuICAgICAganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIH1cblxuICAgIGlmIChqc29uICYmIGpzb24uc3RhdHVzID09PSBcIm9rXCIpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzaWdudXBTdWNjZXNzOiB0cnVlLCBzaWdudXBTdWJtaXR0ZWQ6IHRydWUgfSk7XG4gICAgICBpZiAoIXRoaXMucHJvcHMuY29udGVudC5kb19ub3RfYXV0b2Jsb2NrKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25CbG9jayh7IHByZXZlbnREaXNtaXNzOiB0cnVlIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICAgIGV2ZW50OiBcIkNMSUNLX0JVVFRPTlwiLFxuICAgICAgICBldmVudF9jb250ZXh0OiBcInN1YnNjcmliZS1zdWNjZXNzXCIsXG4gICAgICAgIGlkOiBcIk5FV1RBQl9GT09URVJfQkFSX0NPTlRFTlRcIixcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJUaGVyZSB3YXMgYSBwcm9ibGVtIHN1Ym1pdHRpbmcgdGhlIGZvcm1cIixcbiAgICAgICAganNvbiB8fCBcIltObyBKU09OIHJlc3BvbnNlXVwiXG4gICAgICApO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNpZ251cFN1Y2Nlc3M6IGZhbHNlLCBzaWdudXBTdWJtaXR0ZWQ6IHRydWUgfSk7XG4gICAgICB0aGlzLnByb3BzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5KHtcbiAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tfQlVUVE9OXCIsXG4gICAgICAgIGV2ZW50X2NvbnRleHQ6IFwic3Vic2NyaWJlLWVycm9yXCIsXG4gICAgICAgIGlkOiBcIk5FV1RBQl9GT09URVJfQkFSX0NPTlRFTlRcIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBkaXNhYmxlRm9ybTogZmFsc2UgfSk7XG4gIH1cblxuICBleHBhbmRTbmlwcGV0KCkge1xuICAgIHRoaXMucHJvcHMuc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnkoe1xuICAgICAgZXZlbnQ6IFwiQ0xJQ0tfQlVUVE9OXCIsXG4gICAgICBldmVudF9jb250ZXh0OiBcInNjZW5lMS1idXR0b24tbGVhcm4tbW9yZVwiLFxuICAgICAgaWQ6IHRoaXMucHJvcHMuVUlTdXJmYWNlLFxuICAgIH0pO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBleHBhbmRlZDogdHJ1ZSxcbiAgICAgIHNpZ251cFN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgc2lnbnVwU3VibWl0dGVkOiBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlckhpZGRlbkZvcm1JbnB1dHMoKSB7XG4gICAgY29uc3QgeyBoaWRkZW5faW5wdXRzIH0gPSB0aGlzLnByb3BzLmNvbnRlbnQ7XG5cbiAgICBpZiAoIWhpZGRlbl9pbnB1dHMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3Qua2V5cyhoaWRkZW5faW5wdXRzKS5tYXAoKGtleSwgaWR4KSA9PiAoXG4gICAgICA8aW5wdXQga2V5PXtpZHh9IHR5cGU9XCJoaWRkZW5cIiBuYW1lPXtrZXl9IHZhbHVlPXtoaWRkZW5faW5wdXRzW2tleV19IC8+XG4gICAgKSk7XG4gIH1cblxuICByZW5kZXJEaXNjbGFpbWVyKCkge1xuICAgIGNvbnN0IHsgY29udGVudCB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIWNvbnRlbnQuc2NlbmUyX2Rpc2NsYWltZXJfaHRtbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJkaXNjbGFpbWVyVGV4dFwiPlxuICAgICAgICA8UmljaFRleHRcbiAgICAgICAgICB0ZXh0PXtjb250ZW50LnNjZW5lMl9kaXNjbGFpbWVyX2h0bWx9XG4gICAgICAgICAgbG9jYWxpemF0aW9uX2lkPVwiZGlzY2xhaW1lcl9odG1sXCJcbiAgICAgICAgICBsaW5rcz17Y29udGVudC5saW5rc31cbiAgICAgICAgICBkb05vdEF1dG9CbG9jaz17dHJ1ZX1cbiAgICAgICAgICBvcGVuTmV3V2luZG93PXt0cnVlfVxuICAgICAgICAgIHNlbmRDbGljaz17dGhpcy5wcm9wcy5zZW5kQ2xpY2t9XG4gICAgICAgIC8+XG4gICAgICA8L3A+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckZvcm1Qcml2YWN5Tm90aWNlKCkge1xuICAgIGNvbnN0IHsgY29udGVudCB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIWNvbnRlbnQuc2NlbmUyX3ByaXZhY3lfaHRtbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJwcml2YWN5Tm90aWNlXCI+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgaWQ9XCJpZF9wcml2YWN5XCJcbiAgICAgICAgICBuYW1lPVwicHJpdmFjeVwiXG4gICAgICAgICAgcmVxdWlyZWQ9XCJyZXF1aXJlZFwiXG4gICAgICAgIC8+XG4gICAgICAgIDxsYWJlbCBodG1sRm9yPVwiaWRfcHJpdmFjeVwiPlxuICAgICAgICAgIDxSaWNoVGV4dFxuICAgICAgICAgICAgdGV4dD17Y29udGVudC5zY2VuZTJfcHJpdmFjeV9odG1sfVxuICAgICAgICAgICAgbG9jYWxpemF0aW9uX2lkPVwicHJpdmFjeV9odG1sXCJcbiAgICAgICAgICAgIGxpbmtzPXtjb250ZW50LmxpbmtzfVxuICAgICAgICAgICAgZG9Ob3RBdXRvQmxvY2s9e3RydWV9XG4gICAgICAgICAgICBvcGVuTmV3V2luZG93PXt0cnVlfVxuICAgICAgICAgICAgc2VuZENsaWNrPXt0aGlzLnByb3BzLnNlbmRDbGlja31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgPC9wPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJTaWdudXBTdWJtaXR0ZWQoKSB7XG4gICAgY29uc3QgeyBjb250ZW50IH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGlzU3VjY2VzcyA9IHRoaXMuc3RhdGUuc2lnbnVwU3VjY2VzcztcbiAgICBjb25zdCBzdWNjZXNzVGl0bGUgPSBpc1N1Y2Nlc3MgJiYgY29udGVudC5zdWNjZXNzX3RpdGxlO1xuICAgIGNvbnN0IGJvZHlUZXh0ID0gaXNTdWNjZXNzXG4gICAgICA/IHsgc3VjY2Vzc190ZXh0OiBjb250ZW50LnN1Y2Nlc3NfdGV4dCB9XG4gICAgICA6IHsgZXJyb3JfdGV4dDogY29udGVudC5lcnJvcl90ZXh0IH07XG4gICAgY29uc3QgcmV0cnlCdXR0b25UZXh0ID0gY29udGVudC5yZXRyeV9idXR0b25fbGFiZWw7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTbmlwcGV0QmFzZSB7Li4udGhpcy5wcm9wc30+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VibWlzc2lvblN0YXR1c1wiPlxuICAgICAgICAgIHtzdWNjZXNzVGl0bGUgPyAoXG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwic3VibWl0U3RhdHVzVGl0bGVcIj57c3VjY2Vzc1RpdGxlfTwvaDI+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICA8UmljaFRleHRcbiAgICAgICAgICAgICAgey4uLmJvZHlUZXh0fVxuICAgICAgICAgICAgICBsb2NhbGl6YXRpb25faWQ9e2lzU3VjY2VzcyA/IFwic3VjY2Vzc190ZXh0XCIgOiBcImVycm9yX3RleHRcIn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7aXNTdWNjZXNzID8gbnVsbCA6IChcbiAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmV4cGFuZFNuaXBwZXR9PntyZXRyeUJ1dHRvblRleHR9PC9CdXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1NuaXBwZXRCYXNlPlxuICAgICk7XG4gIH1cblxuICBvbklucHV0Q2hhbmdlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnZhbGlkYXRlSW5wdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaGFzRXJyb3IgPSB0aGlzLnByb3BzLnZhbGlkYXRlSW5wdXQoXG4gICAgICBldmVudC50YXJnZXQudmFsdWUsXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRcbiAgICApO1xuICAgIGV2ZW50LnRhcmdldC5zZXRDdXN0b21WYWxpZGl0eShoYXNFcnJvcik7XG4gIH1cblxuICB3cmFwU2VjdGlvbkhlYWRlcih1cmwpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oY2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiA8YSBocmVmPXt1cmx9PntjaGlsZHJlbn08L2E+O1xuICAgIH07XG4gIH1cblxuICByZW5kZXJJbnB1dCgpIHtcbiAgICBjb25zdCBwbGFjaG9sZGVyID1cbiAgICAgIHRoaXMucHJvcHMuY29udGVudC5zY2VuZTJfZW1haWxfcGxhY2Vob2xkZXJfdGV4dCB8fFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50LnNjZW5lMl9pbnB1dF9wbGFjZWhvbGRlcjtcbiAgICByZXR1cm4gKFxuICAgICAgPGlucHV0XG4gICAgICAgIHJlZj1cIm1haW5JbnB1dFwiXG4gICAgICAgIHR5cGU9e3RoaXMucHJvcHMuaW5wdXRUeXBlIHx8IFwiZW1haWxcIn1cbiAgICAgICAgY2xhc3NOYW1lPXtgbWFpbklucHV0JHt0aGlzLnN0YXRlLnN1Ym1pdEF0dGVtcHRlZCA/IFwiXCIgOiBcIiBjbGVhblwifWB9XG4gICAgICAgIG5hbWU9XCJlbWFpbFwiXG4gICAgICAgIHJlcXVpcmVkPXt0cnVlfVxuICAgICAgICBwbGFjZWhvbGRlcj17cGxhY2hvbGRlcn1cbiAgICAgICAgb25DaGFuZ2U9e3RoaXMucHJvcHMudmFsaWRhdGVJbnB1dCA/IHRoaXMub25JbnB1dENoYW5nZSA6IG51bGx9XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJGb3JtKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybVxuICAgICAgICBhY3Rpb249e3RoaXMucHJvcHMuZm9ybV9hY3Rpb259XG4gICAgICAgIG1ldGhvZD17dGhpcy5wcm9wcy5mb3JtX21ldGhvZH1cbiAgICAgICAgb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fVxuICAgICAgICByZWY9XCJmb3JtXCJcbiAgICAgID5cbiAgICAgICAge3RoaXMucmVuZGVySGlkZGVuRm9ybUlucHV0cygpfVxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIHt0aGlzLnJlbmRlcklucHV0KCl9XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJBU1JvdXRlckJ1dHRvbiBwcmltYXJ5XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU3VibWl0QXR0ZW1wdH1cbiAgICAgICAgICAgIHJlZj1cImZvcm1TdWJtaXRCdG5cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNvbnRlbnQuc2NlbmUyX2J1dHRvbl9sYWJlbH1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt0aGlzLnJlbmRlckZvcm1Qcml2YWN5Tm90aWNlKCkgfHwgdGhpcy5yZW5kZXJEaXNjbGFpbWVyKCl9XG4gICAgICA8L2Zvcm0+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclNjZW5lMkljb24oKSB7XG4gICAgY29uc3QgeyBjb250ZW50IH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghY29udGVudC5zY2VuZTJfaWNvbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2NlbmUySWNvblwiPlxuICAgICAgICA8aW1nXG4gICAgICAgICAgc3JjPXtzYWZlVVJJKGNvbnRlbnQuc2NlbmUyX2ljb24pfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImljb24tbGlnaHQtdGhlbWVcIlxuICAgICAgICAgIGFsdD17Y29udGVudC5zY2VuZTJfaWNvbl9hbHRfdGV4dCB8fCBJQ09OX0FMVF9URVhUfVxuICAgICAgICAvPlxuICAgICAgICA8aW1nXG4gICAgICAgICAgc3JjPXtzYWZlVVJJKGNvbnRlbnQuc2NlbmUyX2ljb25fZGFya190aGVtZSB8fCBjb250ZW50LnNjZW5lMl9pY29uKX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJpY29uLWRhcmstdGhlbWVcIlxuICAgICAgICAgIGFsdD17Y29udGVudC5zY2VuZTJfaWNvbl9hbHRfdGV4dCB8fCBJQ09OX0FMVF9URVhUfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclNpZ251cFZpZXcoKSB7XG4gICAgY29uc3QgeyBjb250ZW50IH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGNvbnRhaW5lckNsYXNzID0gYFN1Ym1pdEZvcm1TbmlwcGV0ICR7dGhpcy5wcm9wcy5jbGFzc05hbWV9YDtcbiAgICByZXR1cm4gKFxuICAgICAgPFNuaXBwZXRCYXNlXG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBjbGFzc05hbWU9e2NvbnRhaW5lckNsYXNzfVxuICAgICAgICBmb290ZXJEaXNtaXNzPXt0cnVlfVxuICAgICAgPlxuICAgICAgICB7dGhpcy5yZW5kZXJTY2VuZTJJY29uKCl9XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZVwiPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAge2NvbnRlbnQuc2NlbmUyX3RpdGxlICYmIChcbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInNjZW5lMlRpdGxlXCI+e2NvbnRlbnQuc2NlbmUyX3RpdGxlfTwvaDM+XG4gICAgICAgICAgICApfXtcIiBcIn1cbiAgICAgICAgICAgIHtjb250ZW50LnNjZW5lMl90ZXh0ICYmIChcbiAgICAgICAgICAgICAgPFJpY2hUZXh0XG4gICAgICAgICAgICAgICAgc2NlbmUyX3RleHQ9e2NvbnRlbnQuc2NlbmUyX3RleHR9XG4gICAgICAgICAgICAgICAgbG9jYWxpemF0aW9uX2lkPVwic2NlbmUyX3RleHRcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5yZW5kZXJGb3JtKCl9XG4gICAgICA8L1NuaXBwZXRCYXNlPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJTZWN0aW9uSGVhZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG5cbiAgICAvLyBhbiBpY29uIGFuZCB0ZXh0IG11c3QgYmUgc3BlY2lmaWVkIHRvIHJlbmRlciB0aGUgc2VjdGlvbiBoZWFkZXJcbiAgICBpZiAocHJvcHMuY29udGVudC5zZWN0aW9uX3RpdGxlX2ljb24gJiYgcHJvcHMuY29udGVudC5zZWN0aW9uX3RpdGxlX3RleHQpIHtcbiAgICAgIGNvbnN0IHNlY3Rpb25UaXRsZUljb25MaWdodCA9IHNhZmVVUkkocHJvcHMuY29udGVudC5zZWN0aW9uX3RpdGxlX2ljb24pO1xuICAgICAgY29uc3Qgc2VjdGlvblRpdGxlSWNvbkRhcmsgPSBzYWZlVVJJKFxuICAgICAgICBwcm9wcy5jb250ZW50LnNlY3Rpb25fdGl0bGVfaWNvbl9kYXJrX3RoZW1lIHx8XG4gICAgICAgICAgcHJvcHMuY29udGVudC5zZWN0aW9uX3RpdGxlX2ljb25cbiAgICAgICk7XG4gICAgICBjb25zdCBzZWN0aW9uVGl0bGVVUkwgPSBwcm9wcy5jb250ZW50LnNlY3Rpb25fdGl0bGVfdXJsO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24taGVhZGVyXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGVcIj5cbiAgICAgICAgICAgIDxDb25kaXRpb25hbFdyYXBwZXJcbiAgICAgICAgICAgICAgd3JhcD17dGhpcy53cmFwU2VjdGlvbkhlYWRlcihzZWN0aW9uVGl0bGVVUkwpfVxuICAgICAgICAgICAgICBjb25kaXRpb249e3NlY3Rpb25UaXRsZVVSTH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpY29uIGljb24tc21hbGwtc3BhY2VyIGljb24tbGlnaHQtdGhlbWVcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogYHVybChcIiR7c2VjdGlvblRpdGxlSWNvbkxpZ2h0fVwiKWAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpY29uIGljb24tc21hbGwtc3BhY2VyIGljb24tZGFyay10aGVtZVwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBgdXJsKFwiJHtzZWN0aW9uVGl0bGVJY29uRGFya31cIilgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGUtdGV4dFwiPlxuICAgICAgICAgICAgICAgIHtwcm9wcy5jb250ZW50LnNlY3Rpb25fdGl0bGVfdGV4dH1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9Db25kaXRpb25hbFdyYXBwZXI+XG4gICAgICAgICAgPC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmVuZGVyU2lnbnVwVmlld0FsdCgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnQgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgY29udGFpbmVyQ2xhc3MgPSBgU3VibWl0Rm9ybVNuaXBwZXQgJHt0aGlzLnByb3BzLmNsYXNzTmFtZX0gc2NlbmUyQWx0YDtcbiAgICByZXR1cm4gKFxuICAgICAgPFNuaXBwZXRCYXNlXG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBjbGFzc05hbWU9e2NvbnRhaW5lckNsYXNzfVxuICAgICAgICAvLyBEb24ndCBzaG93IGJvdHRvbSBkaXNtaXNzIGJ1dHRvblxuICAgICAgICBmb290ZXJEaXNtaXNzPXtmYWxzZX1cbiAgICAgID5cbiAgICAgICAge3RoaXMucmVuZGVyU2VjdGlvbkhlYWRlcigpfVxuICAgICAgICB7dGhpcy5yZW5kZXJTY2VuZTJJY29uKCl9XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZVwiPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAge2NvbnRlbnQuc2NlbmUyX3RleHQgJiYgKFxuICAgICAgICAgICAgICA8UmljaFRleHRcbiAgICAgICAgICAgICAgICBzY2VuZTJfdGV4dD17Y29udGVudC5zY2VuZTJfdGV4dH1cbiAgICAgICAgICAgICAgICBsb2NhbGl6YXRpb25faWQ9XCJzY2VuZTJfdGV4dFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICB7dGhpcy5yZW5kZXJGb3JtKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9TbmlwcGV0QmFzZT5cbiAgICApO1xuICB9XG5cbiAgZ2V0Rmlyc3RTY2VuZUNvbnRlbnQoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMucHJvcHMuY29udGVudClcbiAgICAgIC5maWx0ZXIoa2V5ID0+IGtleS5pbmNsdWRlcyhcInNjZW5lMVwiKSlcbiAgICAgIC5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICAgIGFjY1trZXkuc3Vic3RyKDcpXSA9IHRoaXMucHJvcHMuY29udGVudFtrZXldO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSB7IC4uLnRoaXMucHJvcHMuY29udGVudCwgLi4udGhpcy5nZXRGaXJzdFNjZW5lQ29udGVudCgpIH07XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5zaWdudXBTdWJtaXR0ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlclNpZ251cFN1Ym1pdHRlZCgpO1xuICAgIH1cbiAgICAvLyBSZW5kZXIgb25seSBzY2VuZSAyIChzaWdudXAgdmlldykuIE11c3QgY2hlY2sgYmVmb3JlIGByZW5kZXJTaWdudXBWaWV3YFxuICAgIC8vIHRvIGNhdGNoIHRoZSBGYWlsdXJlL1RyeSBhZ2FpbiBzY2VuYXJpbyB3aGVyZSB3ZSB3YW50IHRvIHJldHVybiBhbmQgcmVuZGVyXG4gICAgLy8gdGhlIHNjZW5lIGFnYWluLlxuICAgIGlmICh0aGlzLnByb3BzLmV4cGFuZGVkQWx0KSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJTaWdudXBWaWV3QWx0KCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLmV4cGFuZGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJTaWdudXBWaWV3KCk7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8U2ltcGxlU25pcHBldFxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgY29udGVudD17Y29udGVudH1cbiAgICAgICAgb25CdXR0b25DbGljaz17dGhpcy5leHBhbmRTbmlwcGV0fVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTdWJtaXRGb3JtU25pcHBldCB9IGZyb20gXCIuLi9TdWJtaXRGb3JtU25pcHBldC9TdWJtaXRGb3JtU25pcHBldC5qc3hcIjtcblxuZXhwb3J0IGNvbnN0IEZYQVNpZ251cFNuaXBwZXQgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHVzZXJBZ2VudCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XFwvKFswLTldKylcXC4vKTtcbiAgY29uc3QgZmlyZWZveF92ZXJzaW9uID0gdXNlckFnZW50ID8gcGFyc2VJbnQodXNlckFnZW50WzFdLCAxMCkgOiAwO1xuICBjb25zdCBleHRlbmRlZENvbnRlbnQgPSB7XG4gICAgc2NlbmUxX2J1dHRvbl9sYWJlbDogXCJMZWFybiBtb3JlXCIsXG4gICAgcmV0cnlfYnV0dG9uX2xhYmVsOiBcIlRyeSBhZ2FpblwiLFxuICAgIHNjZW5lMl9lbWFpbF9wbGFjZWhvbGRlcl90ZXh0OiBcIllvdXIgZW1haWwgaGVyZVwiLFxuICAgIHNjZW5lMl9idXR0b25fbGFiZWw6IFwiU2lnbiBtZSB1cFwiLFxuICAgIHNjZW5lMl9kaXNtaXNzX2J1dHRvbl90ZXh0OiBcIkRpc21pc3NcIixcbiAgICAuLi5wcm9wcy5jb250ZW50LFxuICAgIGhpZGRlbl9pbnB1dHM6IHtcbiAgICAgIGFjdGlvbjogXCJlbWFpbFwiLFxuICAgICAgY29udGV4dDogXCJmeF9kZXNrdG9wX3YzXCIsXG4gICAgICBlbnRyeXBvaW50OiBcInNuaXBwZXRzXCIsXG4gICAgICB1dG1fc291cmNlOiBcInNuaXBwZXRcIixcbiAgICAgIHV0bV9jb250ZW50OiBmaXJlZm94X3ZlcnNpb24sXG4gICAgICB1dG1fY2FtcGFpZ246IHByb3BzLmNvbnRlbnQudXRtX2NhbXBhaWduLFxuICAgICAgdXRtX3Rlcm06IHByb3BzLmNvbnRlbnQudXRtX3Rlcm0sXG4gICAgICAuLi5wcm9wcy5jb250ZW50LmhpZGRlbl9pbnB1dHMsXG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxTdWJtaXRGb3JtU25pcHBldFxuICAgICAgey4uLnByb3BzfVxuICAgICAgY29udGVudD17ZXh0ZW5kZWRDb250ZW50fVxuICAgICAgZm9ybV9hY3Rpb249e1wiaHR0cHM6Ly9hY2NvdW50cy5maXJlZm94LmNvbS9cIn1cbiAgICAgIGZvcm1fbWV0aG9kPVwiR0VUXCJcbiAgICAvPlxuICApO1xufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFN1Ym1pdEZvcm1TbmlwcGV0IH0gZnJvbSBcIi4uL1N1Ym1pdEZvcm1TbmlwcGV0L1N1Ym1pdEZvcm1TbmlwcGV0LmpzeFwiO1xuXG5leHBvcnQgY29uc3QgTmV3c2xldHRlclNuaXBwZXQgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IGV4dGVuZGVkQ29udGVudCA9IHtcbiAgICBzY2VuZTFfYnV0dG9uX2xhYmVsOiBcIkxlYXJuIG1vcmVcIixcbiAgICByZXRyeV9idXR0b25fbGFiZWw6IFwiVHJ5IGFnYWluXCIsXG4gICAgc2NlbmUyX2VtYWlsX3BsYWNlaG9sZGVyX3RleHQ6IFwiWW91ciBlbWFpbCBoZXJlXCIsXG4gICAgc2NlbmUyX2J1dHRvbl9sYWJlbDogXCJTaWduIG1lIHVwXCIsXG4gICAgc2NlbmUyX2Rpc21pc3NfYnV0dG9uX3RleHQ6IFwiRGlzbWlzc1wiLFxuICAgIHNjZW5lMl9uZXdzbGV0dGVyOiBcIm1vemlsbGEtZm91bmRhdGlvblwiLFxuICAgIC4uLnByb3BzLmNvbnRlbnQsXG4gICAgaGlkZGVuX2lucHV0czoge1xuICAgICAgbmV3c2xldHRlcnM6IHByb3BzLmNvbnRlbnQuc2NlbmUyX25ld3NsZXR0ZXIgfHwgXCJtb3ppbGxhLWZvdW5kYXRpb25cIixcbiAgICAgIGZtdDogXCJIXCIsXG4gICAgICBsYW5nOiBwcm9wcy5jb250ZW50LmxvY2FsZSB8fCBcImVuLVVTXCIsXG4gICAgICBzb3VyY2VfdXJsOiBgaHR0cHM6Ly9zbmlwcGV0cy5tb3ppbGxhLmNvbS9zaG93LyR7cHJvcHMuaWR9YCxcbiAgICAgIC4uLnByb3BzLmNvbnRlbnQuaGlkZGVuX2lucHV0cyxcbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFN1Ym1pdEZvcm1TbmlwcGV0XG4gICAgICB7Li4ucHJvcHN9XG4gICAgICBjb250ZW50PXtleHRlbmRlZENvbnRlbnR9XG4gICAgICBmb3JtX2FjdGlvbj17XCJodHRwczovL2Jhc2tldC5tb3ppbGxhLm9yZy9zdWJzY3JpYmUuanNvblwifVxuICAgICAgZm9ybV9tZXRob2Q9XCJQT1NUXCJcbiAgICAvPlxuICApO1xufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgZ2l2ZW4gc3RyaW5nIGlzIGFuIGVtYWlsIG9yIHBob25lIG51bWJlciBvciBuZWl0aGVyXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsIFRoZSB1c2VyIGlucHV0XG4gKiBAcGFyYW0ge0FTUk1lc3NhZ2VDb250ZW50fSBjb250ZW50IC5jb250ZW50IHByb3BlcnR5IG9uIEFTUiBtZXNzYWdlXG4gKiBAcmV0dXJucyB7XCJlbWFpbFwifFwicGhvbmVcInxcIlwifSBUaGUgdHlwZSBvZiB0aGUgaW5wdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1haWxPclBob25lTnVtYmVyKHZhbCwgY29udGVudCkge1xuICBjb25zdCB7IGxvY2FsZSB9ID0gY29udGVudDtcbiAgLy8gaHR0cDovL2VtYWlscmVnZXguY29tL1xuICBjb25zdCBlbWFpbF9yZSA9IC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4gIGNvbnN0IGNoZWNrX2VtYWlsID0gZW1haWxfcmUudGVzdCh2YWwpO1xuICBsZXQgY2hlY2tfcGhvbmU7IC8vIGRlcGVuZHMgb24gbG9jYWxlXG4gIHN3aXRjaCAobG9jYWxlKSB7XG4gICAgY2FzZSBcImVuLVVTXCI6XG4gICAgY2FzZSBcImVuLUNBXCI6XG4gICAgICAvLyBhbGxvdyAxMC0xMSBkaWdpdHMgaW4gY2FzZSB1c2VyIHdhbnRzIHRvIGVudGVyIGNvdW50cnkgY29kZVxuICAgICAgY2hlY2tfcGhvbmUgPSB2YWwubGVuZ3RoID49IDEwICYmIHZhbC5sZW5ndGggPD0gMTEgJiYgIWlzTmFOKHZhbCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZGVcIjpcbiAgICAgIC8vIGFsbG93IGJldHdlZW4gMiBhbmQgMTIgZGlnaXRzIGZvciBnZXJtYW4gcGhvbmUgbnVtYmVyc1xuICAgICAgY2hlY2tfcGhvbmUgPSB2YWwubGVuZ3RoID49IDIgJiYgdmFsLmxlbmd0aCA8PSAxMiAmJiAhaXNOYU4odmFsKTtcbiAgICAgIGJyZWFrO1xuICAgIC8vIHRoaXMgY2FzZSBzaG91bGQgbmV2ZXIgYmUgaGl0LCBidXQgZ29vZCB0byBoYXZlIGEgZmFsbGJhY2sganVzdCBpbiBjYXNlXG4gICAgZGVmYXVsdDpcbiAgICAgIGNoZWNrX3Bob25lID0gIWlzTmFOKHZhbCk7XG4gICAgICBicmVhaztcbiAgfVxuICBpZiAoY2hlY2tfZW1haWwpIHtcbiAgICByZXR1cm4gXCJlbWFpbFwiO1xuICB9IGVsc2UgaWYgKGNoZWNrX3Bob25lKSB7XG4gICAgcmV0dXJuIFwicGhvbmVcIjtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGlzRW1haWxPclBob25lTnVtYmVyIH0gZnJvbSBcIi4vaXNFbWFpbE9yUGhvbmVOdW1iZXJcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFN1Ym1pdEZvcm1TbmlwcGV0IH0gZnJvbSBcIi4uL1N1Ym1pdEZvcm1TbmlwcGV0L1N1Ym1pdEZvcm1TbmlwcGV0LmpzeFwiO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZUlucHV0KHZhbHVlLCBjb250ZW50KSB7XG4gIGNvbnN0IHR5cGUgPSBpc0VtYWlsT3JQaG9uZU51bWJlcih2YWx1ZSwgY29udGVudCk7XG4gIHJldHVybiB0eXBlID8gXCJcIiA6IFwiTXVzdCBiZSBhbiBlbWFpbCBvciBhIHBob25lIG51bWJlci5cIjtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0Zvcm1EYXRhKGlucHV0LCBtZXNzYWdlKSB7XG4gIGNvbnN0IHsgY29udGVudCB9ID0gbWVzc2FnZTtcbiAgY29uc3QgdHlwZSA9IGNvbnRlbnQuaW5jbHVkZV9zbXNcbiAgICA/IGlzRW1haWxPclBob25lTnVtYmVyKGlucHV0LnZhbHVlLCBjb250ZW50KVxuICAgIDogXCJlbWFpbFwiO1xuICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBsZXQgdXJsO1xuICBpZiAodHlwZSA9PT0gXCJwaG9uZVwiKSB7XG4gICAgdXJsID0gXCJodHRwczovL2Jhc2tldC5tb3ppbGxhLm9yZy9uZXdzL3N1YnNjcmliZV9zbXMvXCI7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwibW9iaWxlX251bWJlclwiLCBpbnB1dC52YWx1ZSk7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwibXNnX25hbWVcIiwgY29udGVudC5tZXNzYWdlX2lkX3Ntcyk7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwiY291bnRyeVwiLCBjb250ZW50LmNvdW50cnkpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiZW1haWxcIikge1xuICAgIHVybCA9IFwiaHR0cHM6Ly9iYXNrZXQubW96aWxsYS5vcmcvbmV3cy9zdWJzY3JpYmUvXCI7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwiZW1haWxcIiwgaW5wdXQudmFsdWUpO1xuICAgIGZvcm1EYXRhLmFwcGVuZChcIm5ld3NsZXR0ZXJzXCIsIGNvbnRlbnQubWVzc2FnZV9pZF9lbWFpbCk7XG4gICAgZm9ybURhdGEuYXBwZW5kKFxuICAgICAgXCJzb3VyY2VfdXJsXCIsXG4gICAgICBlbmNvZGVVUklDb21wb25lbnQoYGh0dHBzOi8vc25pcHBldHMubW96aWxsYS5jb20vc2hvdy8ke21lc3NhZ2UuaWR9YClcbiAgICApO1xuICB9XG4gIGZvcm1EYXRhLmFwcGVuZChcImxhbmdcIiwgY29udGVudC5sb2NhbGUpO1xuICByZXR1cm4geyBmb3JtRGF0YSwgdXJsIH07XG59XG5cbmZ1bmN0aW9uIGFkZERlZmF1bHRWYWx1ZXMocHJvcHMpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5wcm9wcyxcbiAgICBjb250ZW50OiB7XG4gICAgICBzY2VuZTFfYnV0dG9uX2xhYmVsOiBcIkxlYXJuIG1vcmVcIixcbiAgICAgIHJldHJ5X2J1dHRvbl9sYWJlbDogXCJUcnkgYWdhaW5cIixcbiAgICAgIHNjZW5lMl9kaXNtaXNzX2J1dHRvbl90ZXh0OiBcIkRpc21pc3NcIixcbiAgICAgIHNjZW5lMl9idXR0b25fbGFiZWw6IFwiU2VuZFwiLFxuICAgICAgc2NlbmUyX2lucHV0X3BsYWNlaG9sZGVyOiBcIllvdXIgZW1haWwgaGVyZVwiLFxuICAgICAgbG9jYWxlOiBcImVuLVVTXCIsXG4gICAgICBjb3VudHJ5OiBcInVzXCIsXG4gICAgICBtZXNzYWdlX2lkX2VtYWlsOiBcIlwiLFxuICAgICAgaW5jbHVkZV9zbXM6IGZhbHNlLFxuICAgICAgLi4ucHJvcHMuY29udGVudCxcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgU2VuZFRvRGV2aWNlU25pcHBldCA9IHByb3BzID0+IHtcbiAgY29uc3QgcHJvcHNXaXRoRGVmYXVsdHMgPSBhZGREZWZhdWx0VmFsdWVzKHByb3BzKTtcblxuICByZXR1cm4gKFxuICAgIDxTdWJtaXRGb3JtU25pcHBldFxuICAgICAgey4uLnByb3BzV2l0aERlZmF1bHRzfVxuICAgICAgZm9ybV9tZXRob2Q9XCJQT1NUXCJcbiAgICAgIGNsYXNzTmFtZT1cInNlbmRfdG9fZGV2aWNlX3NuaXBwZXRcIlxuICAgICAgaW5wdXRUeXBlPXtwcm9wc1dpdGhEZWZhdWx0cy5jb250ZW50LmluY2x1ZGVfc21zID8gXCJ0ZXh0XCIgOiBcImVtYWlsXCJ9XG4gICAgICB2YWxpZGF0ZUlucHV0PXtcbiAgICAgICAgcHJvcHNXaXRoRGVmYXVsdHMuY29udGVudC5pbmNsdWRlX3NtcyA/IHZhbGlkYXRlSW5wdXQgOiBudWxsXG4gICAgICB9XG4gICAgICBwcm9jZXNzRm9ybURhdGE9e3Byb2Nlc3NGb3JtRGF0YX1cbiAgICAvPlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IFNlbmRUb0RldmljZVNjZW5lMlNuaXBwZXQgPSBwcm9wcyA9PiB7XG4gIHJldHVybiA8U2VuZFRvRGV2aWNlU25pcHBldCBleHBhbmRlZEFsdD17dHJ1ZX0gey4uLnByb3BzfSAvPjtcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9CdXR0b24vQnV0dG9uXCI7XG5pbXBvcnQgeyBSaWNoVGV4dCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1JpY2hUZXh0L1JpY2hUZXh0XCI7XG5pbXBvcnQgeyBzYWZlVVJJIH0gZnJvbSBcIi4uLy4uL3RlbXBsYXRlLXV0aWxzXCI7XG5pbXBvcnQgeyBTbmlwcGV0QmFzZSB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1NuaXBwZXRCYXNlL1NuaXBwZXRCYXNlXCI7XG5cbmNvbnN0IERFRkFVTFRfSUNPTl9QQVRIID0gXCJjaHJvbWU6Ly9icmFuZGluZy9jb250ZW50L2ljb242NC5wbmdcIjtcbi8vIEFsdCB0ZXh0IHBsYWNlaG9sZGVyIGluIGNhc2UgdGhlIHByb3AgZnJvbSB0aGUgc2VydmVyIGlzbid0IGF2YWlsYWJsZVxuY29uc3QgSUNPTl9BTFRfVEVYVCA9IFwiXCI7XG5cbmV4cG9ydCBjbGFzcyBTaW1wbGVCZWxvd1NlYXJjaFNuaXBwZXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkJ1dHRvbkNsaWNrID0gdGhpcy5vbkJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICByZW5kZXJUZXh0KCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgcmV0dXJuIHByb3BzLmNvbnRlbnQudGV4dCA/IChcbiAgICAgIDxSaWNoVGV4dFxuICAgICAgICB0ZXh0PXtwcm9wcy5jb250ZW50LnRleHR9XG4gICAgICAgIGN1c3RvbUVsZW1lbnRzPXt0aGlzLnByb3BzLmN1c3RvbUVsZW1lbnRzfVxuICAgICAgICBsb2NhbGl6YXRpb25faWQ9XCJ0ZXh0XCJcbiAgICAgICAgbGlua3M9e3Byb3BzLmNvbnRlbnQubGlua3N9XG4gICAgICAgIHNlbmRDbGljaz17cHJvcHMuc2VuZENsaWNrfVxuICAgICAgLz5cbiAgICApIDogbnVsbDtcbiAgfVxuXG4gIHJlbmRlclRpdGxlKCkge1xuICAgIGNvbnN0IHsgdGl0bGUgfSA9IHRoaXMucHJvcHMuY29udGVudDtcbiAgICByZXR1cm4gdGl0bGUgPyAoXG4gICAgICA8aDMgY2xhc3NOYW1lPXtcInRpdGxlIHRpdGxlLWlubGluZVwifT5cbiAgICAgICAge3RpdGxlfVxuICAgICAgICA8YnIgLz5cbiAgICAgIDwvaDM+XG4gICAgKSA6IG51bGw7XG4gIH1cblxuICBhc3luYyBvbkJ1dHRvbkNsaWNrKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb3ZpZGVyICE9PSBcInByZXZpZXdcIikge1xuICAgICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICAgIGV2ZW50OiBcIkNMSUNLX0JVVFRPTlwiLFxuICAgICAgICBpZDogdGhpcy5wcm9wcy5VSVN1cmZhY2UsXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgeyBidXR0b25fdXJsIH0gPSB0aGlzLnByb3BzLmNvbnRlbnQ7XG4gICAgLy8gSWYgYnV0dG9uX3VybCBpcyBkZWZpbmVkIGhhbmRsZSBpdCBhcyBPUEVOX1VSTCBhY3Rpb25cbiAgICBjb25zdCB0eXBlID0gdGhpcy5wcm9wcy5jb250ZW50LmJ1dHRvbl9hY3Rpb24gfHwgKGJ1dHRvbl91cmwgJiYgXCJPUEVOX1VSTFwiKTtcbiAgICBhd2FpdCB0aGlzLnByb3BzLm9uQWN0aW9uKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhOiB7IGFyZ3M6IHRoaXMucHJvcHMuY29udGVudC5idXR0b25fYWN0aW9uX2FyZ3MgfHwgYnV0dG9uX3VybCB9LFxuICAgIH0pO1xuICAgIGlmICghdGhpcy5wcm9wcy5jb250ZW50LmRvX25vdF9hdXRvYmxvY2spIHtcbiAgICAgIHRoaXMucHJvcHMub25CbG9jaygpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG91bGRSZW5kZXJCdXR0b24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMucHJvcHMuY29udGVudC5idXR0b25fYWN0aW9uIHx8XG4gICAgICB0aGlzLnByb3BzLm9uQnV0dG9uQ2xpY2sgfHxcbiAgICAgIHRoaXMucHJvcHMuY29udGVudC5idXR0b25fdXJsXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckJ1dHRvbigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGlmICghdGhpcy5fc2hvdWxkUmVuZGVyQnV0dG9uKCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQnV0dG9uQ2xpY2sgfHwgdGhpcy5vbkJ1dHRvbkNsaWNrfVxuICAgICAgICBjb2xvcj17cHJvcHMuY29udGVudC5idXR0b25fY29sb3J9XG4gICAgICAgIGJhY2tncm91bmRDb2xvcj17cHJvcHMuY29udGVudC5idXR0b25fYmFja2dyb3VuZF9jb2xvcn1cbiAgICAgID5cbiAgICAgICAge3Byb3BzLmNvbnRlbnQuYnV0dG9uX2xhYmVsfVxuICAgICAgPC9CdXR0b24+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGxldCBjbGFzc05hbWUgPSBcIlNpbXBsZUJlbG93U2VhcmNoU25pcHBldFwiO1xuICAgIGxldCBjb250YWluZXJOYW1lID0gXCJiZWxvdy1zZWFyY2gtc25pcHBldFwiO1xuXG4gICAgaWYgKHByb3BzLmNsYXNzTmFtZSkge1xuICAgICAgY2xhc3NOYW1lICs9IGAgJHtwcm9wcy5jbGFzc05hbWV9YDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3Nob3VsZFJlbmRlckJ1dHRvbigpKSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgd2l0aEJ1dHRvblwiO1xuICAgICAgY29udGFpbmVyTmFtZSArPSBcIiB3aXRoQnV0dG9uXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjb250YWluZXJOYW1lfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzbmlwcGV0LWhvdmVyLXdyYXBwZXJcIj5cbiAgICAgICAgICA8U25pcHBldEJhc2VcbiAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICAgdGV4dFN0eWxlPXt0aGlzLnByb3BzLnRleHRTdHlsZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIHNyYz17c2FmZVVSSShwcm9wcy5jb250ZW50Lmljb24pIHx8IERFRkFVTFRfSUNPTl9QQVRIfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpY29uIGljb24tbGlnaHQtdGhlbWVcIlxuICAgICAgICAgICAgICBhbHQ9e3Byb3BzLmNvbnRlbnQuaWNvbl9hbHRfdGV4dCB8fCBJQ09OX0FMVF9URVhUfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPXtcbiAgICAgICAgICAgICAgICBzYWZlVVJJKHByb3BzLmNvbnRlbnQuaWNvbl9kYXJrX3RoZW1lIHx8IHByb3BzLmNvbnRlbnQuaWNvbikgfHxcbiAgICAgICAgICAgICAgICBERUZBVUxUX0lDT05fUEFUSFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImljb24gaWNvbi1kYXJrLXRoZW1lXCJcbiAgICAgICAgICAgICAgYWx0PXtwcm9wcy5jb250ZW50Lmljb25fYWx0X3RleHQgfHwgSUNPTl9BTFRfVEVYVH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHRDb250YWluZXJcIj5cbiAgICAgICAgICAgICAge3RoaXMucmVuZGVyVGl0bGUoKX1cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiYm9keVwiPnt0aGlzLnJlbmRlclRleHQoKX08L3A+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmV4dHJhQ29udGVudH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgezxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uQ29udGFpbmVyXCI+e3RoaXMucmVuZGVyQnV0dG9uKCl9PC9kaXY+fVxuICAgICAgICAgIDwvU25pcHBldEJhc2U+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgRU9ZU25pcHBldCB9IGZyb20gXCIuL0VPWVNuaXBwZXQvRU9ZU25pcHBldFwiO1xuaW1wb3J0IHsgRlhBU2lnbnVwU25pcHBldCB9IGZyb20gXCIuL0ZYQVNpZ251cFNuaXBwZXQvRlhBU2lnbnVwU25pcHBldFwiO1xuaW1wb3J0IHsgTmV3c2xldHRlclNuaXBwZXQgfSBmcm9tIFwiLi9OZXdzbGV0dGVyU25pcHBldC9OZXdzbGV0dGVyU25pcHBldFwiO1xuaW1wb3J0IHtcbiAgU2VuZFRvRGV2aWNlU25pcHBldCxcbiAgU2VuZFRvRGV2aWNlU2NlbmUyU25pcHBldCxcbn0gZnJvbSBcIi4vU2VuZFRvRGV2aWNlU25pcHBldC9TZW5kVG9EZXZpY2VTbmlwcGV0XCI7XG5pbXBvcnQgeyBTaW1wbGVCZWxvd1NlYXJjaFNuaXBwZXQgfSBmcm9tIFwiLi9TaW1wbGVCZWxvd1NlYXJjaFNuaXBwZXQvU2ltcGxlQmVsb3dTZWFyY2hTbmlwcGV0XCI7XG5pbXBvcnQgeyBTaW1wbGVTbmlwcGV0IH0gZnJvbSBcIi4vU2ltcGxlU25pcHBldC9TaW1wbGVTbmlwcGV0XCI7XG5cbi8vIEtleSBuYW1lcyBtYXRjaGluZyBzY2hlbWEgbmFtZSBvZiB0ZW1wbGF0ZXNcbmV4cG9ydCBjb25zdCBTbmlwcGV0c1RlbXBsYXRlcyA9IHtcbiAgc2ltcGxlX3NuaXBwZXQ6IFNpbXBsZVNuaXBwZXQsXG4gIG5ld3NsZXR0ZXJfc25pcHBldDogTmV3c2xldHRlclNuaXBwZXQsXG4gIGZ4YV9zaWdudXBfc25pcHBldDogRlhBU2lnbnVwU25pcHBldCxcbiAgc2VuZF90b19kZXZpY2Vfc25pcHBldDogU2VuZFRvRGV2aWNlU25pcHBldCxcbiAgc2VuZF90b19kZXZpY2Vfc2NlbmUyX3NuaXBwZXQ6IFNlbmRUb0RldmljZVNjZW5lMlNuaXBwZXQsXG4gIGVveV9zbmlwcGV0OiBFT1lTbmlwcGV0LFxuICBzaW1wbGVfYmVsb3dfc2VhcmNoX3NuaXBwZXQ6IFNpbXBsZUJlbG93U2VhcmNoU25pcHBldCxcbn07XG4iLCIvKiBnbG9iYWwgSW50bCAqL1xuXG4vKipcbiAqIFRoZSBgRmx1ZW50VHlwZWAgY2xhc3MgaXMgdGhlIGJhc2Ugb2YgRmx1ZW50J3MgdHlwZSBzeXN0ZW0uXG4gKlxuICogRmx1ZW50IHR5cGVzIHdyYXAgSmF2YVNjcmlwdCB2YWx1ZXMgYW5kIHN0b3JlIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBmb3JcbiAqIHRoZW0sIHdoaWNoIGNhbiB0aGVuIGJlIHVzZWQgaW4gdGhlIGB0b1N0cmluZ2AgbWV0aG9kIHRvZ2V0aGVyIHdpdGggYSBwcm9wZXJcbiAqIGBJbnRsYCBmb3JtYXR0ZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBGbHVlbnRUeXBlIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBgRmx1ZW50VHlwZWAgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSAgIHtBbnl9ICAgIHZhbHVlIC0gSmF2YVNjcmlwdCB2YWx1ZSB0byB3cmFwLlxuICAgKiBAcGFyYW0gICB7T2JqZWN0fSBvcHRzICAtIENvbmZpZ3VyYXRpb24uXG4gICAqIEByZXR1cm5zIHtGbHVlbnRUeXBlfVxuICAgKi9cbiAgY29uc3RydWN0b3IodmFsdWUsIG9wdHMpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5vcHRzID0gb3B0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBVbndyYXAgdGhlIHJhdyB2YWx1ZSBzdG9yZWQgYnkgdGhpcyBgRmx1ZW50VHlwZWAuXG4gICAqXG4gICAqIEByZXR1cm5zIHtBbnl9XG4gICAqL1xuICB2YWx1ZU9mKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCB0aGlzIGluc3RhbmNlIG9mIGBGbHVlbnRUeXBlYCB0byBhIHN0cmluZy5cbiAgICpcbiAgICogRm9ybWF0dGVkIHZhbHVlcyBhcmUgc3VpdGFibGUgZm9yIHVzZSBvdXRzaWRlIG9mIHRoZSBgRmx1ZW50QnVuZGxlYC5cbiAgICogVGhpcyBtZXRob2QgY2FuIHVzZSBgSW50bGAgZm9ybWF0dGVycyBtZW1vaXplZCBieSB0aGUgYEZsdWVudEJ1bmRsZWBcbiAgICogaW5zdGFuY2UgcGFzc2VkIGFzIGFuIGFyZ3VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gICB7Rmx1ZW50QnVuZGxlfSBbYnVuZGxlXVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgdG9TdHJpbmcoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU3ViY2xhc3NlcyBvZiBGbHVlbnRUeXBlIG11c3QgaW1wbGVtZW50IHRvU3RyaW5nLlwiKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmx1ZW50Tm9uZSBleHRlbmRzIEZsdWVudFR5cGUge1xuICB2YWx1ZU9mKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGB7JHt0aGlzLnZhbHVlIHx8IFwiPz8/XCJ9fWA7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZsdWVudE51bWJlciBleHRlbmRzIEZsdWVudFR5cGUge1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSwgb3B0cykge1xuICAgIHN1cGVyKHBhcnNlRmxvYXQodmFsdWUpLCBvcHRzKTtcbiAgfVxuXG4gIHRvU3RyaW5nKGJ1bmRsZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBuZiA9IGJ1bmRsZS5fbWVtb2l6ZUludGxPYmplY3QoXG4gICAgICAgIEludGwuTnVtYmVyRm9ybWF0LCB0aGlzLm9wdHNcbiAgICAgICk7XG4gICAgICByZXR1cm4gbmYuZm9ybWF0KHRoaXMudmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFhYWCBSZXBvcnQgdGhlIGVycm9yLlxuICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGbHVlbnREYXRlVGltZSBleHRlbmRzIEZsdWVudFR5cGUge1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSwgb3B0cykge1xuICAgIHN1cGVyKG5ldyBEYXRlKHZhbHVlKSwgb3B0cyk7XG4gIH1cblxuICB0b1N0cmluZyhidW5kbGUpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZHRmID0gYnVuZGxlLl9tZW1vaXplSW50bE9iamVjdChcbiAgICAgICAgSW50bC5EYXRlVGltZUZvcm1hdCwgdGhpcy5vcHRzXG4gICAgICApO1xuICAgICAgcmV0dXJuIGR0Zi5mb3JtYXQodGhpcy52YWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gWFhYIFJlcG9ydCB0aGUgZXJyb3IuXG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQG92ZXJ2aWV3XG4gKlxuICogVGhlIEZUTCByZXNvbHZlciBzaGlwcyB3aXRoIGEgbnVtYmVyIG9mIGZ1bmN0aW9ucyBidWlsdC1pbi5cbiAqXG4gKiBFYWNoIGZ1bmN0aW9uIHRha2UgdHdvIGFyZ3VtZW50czpcbiAqICAgLSBhcmdzIC0gYW4gYXJyYXkgb2YgcG9zaXRpb25hbCBhcmdzXG4gKiAgIC0gb3B0cyAtIGFuIG9iamVjdCBvZiBrZXktdmFsdWUgYXJnc1xuICpcbiAqIEFyZ3VtZW50cyB0byBmdW5jdGlvbnMgYXJlIGd1YXJhbnRlZWQgdG8gYWxyZWFkeSBiZSBpbnN0YW5jZXMgb2ZcbiAqIGBGbHVlbnRUeXBlYC4gIEZ1bmN0aW9ucyBtdXN0IHJldHVybiBgRmx1ZW50VHlwZWAgb2JqZWN0cyBhcyB3ZWxsLlxuICovXG5cbmltcG9ydCB7IEZsdWVudE5vbmUsIEZsdWVudE51bWJlciwgRmx1ZW50RGF0ZVRpbWUgfSBmcm9tIFwiLi90eXBlcy5qc1wiO1xuXG5mdW5jdGlvbiBtZXJnZShhcmdvcHRzLCBvcHRzKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBhcmdvcHRzLCB2YWx1ZXMob3B0cykpO1xufVxuXG5mdW5jdGlvbiB2YWx1ZXMob3B0cykge1xuICBjb25zdCB1bndyYXBwZWQgPSB7fTtcbiAgZm9yIChjb25zdCBbbmFtZSwgb3B0XSBvZiBPYmplY3QuZW50cmllcyhvcHRzKSkge1xuICAgIHVud3JhcHBlZFtuYW1lXSA9IG9wdC52YWx1ZU9mKCk7XG4gIH1cbiAgcmV0dXJuIHVud3JhcHBlZDtcbn1cblxuZXhwb3J0XG5mdW5jdGlvbiBOVU1CRVIoW2FyZ10sIG9wdHMpIHtcbiAgaWYgKGFyZyBpbnN0YW5jZW9mIEZsdWVudE5vbmUpIHtcbiAgICByZXR1cm4gYXJnO1xuICB9XG4gIGlmIChhcmcgaW5zdGFuY2VvZiBGbHVlbnROdW1iZXIpIHtcbiAgICByZXR1cm4gbmV3IEZsdWVudE51bWJlcihhcmcudmFsdWVPZigpLCBtZXJnZShhcmcub3B0cywgb3B0cykpO1xuICB9XG4gIHJldHVybiBuZXcgRmx1ZW50Tm9uZShcIk5VTUJFUigpXCIpO1xufVxuXG5leHBvcnRcbmZ1bmN0aW9uIERBVEVUSU1FKFthcmddLCBvcHRzKSB7XG4gIGlmIChhcmcgaW5zdGFuY2VvZiBGbHVlbnROb25lKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfVxuICBpZiAoYXJnIGluc3RhbmNlb2YgRmx1ZW50RGF0ZVRpbWUpIHtcbiAgICByZXR1cm4gbmV3IEZsdWVudERhdGVUaW1lKGFyZy52YWx1ZU9mKCksIG1lcmdlKGFyZy5vcHRzLCBvcHRzKSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBGbHVlbnROb25lKFwiREFURVRJTUUoKVwiKTtcbn1cbiIsIi8qIGdsb2JhbCBJbnRsICovXG5cbi8qKlxuICogQG92ZXJ2aWV3XG4gKlxuICogVGhlIHJvbGUgb2YgdGhlIEZsdWVudCByZXNvbHZlciBpcyB0byBmb3JtYXQgYSB0cmFuc2xhdGlvbiBvYmplY3QgdG8gYW5cbiAqIGluc3RhbmNlIG9mIGBGbHVlbnRUeXBlYCBvciBhbiBhcnJheSBvZiBpbnN0YW5jZXMuXG4gKlxuICogVHJhbnNsYXRpb25zIGNhbiBjb250YWluIHJlZmVyZW5jZXMgdG8gb3RoZXIgbWVzc2FnZXMgb3IgdmFyaWFibGVzLFxuICogY29uZGl0aW9uYWwgbG9naWMgaW4gZm9ybSBvZiBzZWxlY3QgZXhwcmVzc2lvbnMsIHRyYWl0cyB3aGljaCBkZXNjcmliZSB0aGVpclxuICogZ3JhbW1hdGljYWwgZmVhdHVyZXMsIGFuZCBjYW4gdXNlIEZsdWVudCBidWlsdGlucyB3aGljaCBtYWtlIHVzZSBvZiB0aGVcbiAqIGBJbnRsYCBmb3JtYXR0ZXJzIHRvIGZvcm1hdCBudW1iZXJzLCBkYXRlcywgbGlzdHMgYW5kIG1vcmUgaW50byB0aGVcbiAqIGJ1bmRsZSdzIGxhbmd1YWdlLiBTZWUgdGhlIGRvY3VtZW50YXRpb24gb2YgdGhlIEZsdWVudCBzeW50YXggZm9yIG1vcmVcbiAqIGluZm9ybWF0aW9uLlxuICpcbiAqIEluIGNhc2Ugb2YgZXJyb3JzIHRoZSByZXNvbHZlciB3aWxsIHRyeSB0byBzYWx2YWdlIGFzIG11Y2ggb2YgdGhlXG4gKiB0cmFuc2xhdGlvbiBhcyBwb3NzaWJsZS4gIEluIHJhcmUgc2l0dWF0aW9ucyB3aGVyZSB0aGUgcmVzb2x2ZXIgZGlkbid0IGtub3dcbiAqIGhvdyB0byByZWNvdmVyIGZyb20gYW4gZXJyb3IgaXQgd2lsbCByZXR1cm4gYW4gaW5zdGFuY2Ugb2YgYEZsdWVudE5vbmVgLlxuICpcbiAqIEFsbCBleHByZXNzaW9ucyByZXNvbHZlIHRvIGFuIGluc3RhbmNlIG9mIGBGbHVlbnRUeXBlYC4gVGhlIGNhbGxlciBzaG91bGRcbiAqIHVzZSB0aGUgYHRvU3RyaW5nYCBtZXRob2QgdG8gY29udmVydCB0aGUgaW5zdGFuY2UgdG8gYSBuYXRpdmUgdmFsdWUuXG4gKlxuICogQWxsIGZ1bmN0aW9ucyBpbiB0aGlzIGZpbGUgcGFzcyBhcm91bmQgYSBzcGVjaWFsIG9iamVjdCBjYWxsZWQgYHNjb3BlYC5cbiAqIFRoaXMgb2JqZWN0IHN0b3JlcyBhIHNldCBvZiBlbGVtZW50cyB1c2VkIGJ5IGFsbCByZXNvbHZlIGZ1bmN0aW9uczpcbiAqXG4gKiAgKiB7Rmx1ZW50QnVuZGxlfSBidW5kbGVcbiAqICAgICAgYnVuZGxlIGZvciB3aGljaCB0aGUgZ2l2ZW4gcmVzb2x1dGlvbiBpcyBoYXBwZW5pbmdcbiAqICAqIHtPYmplY3R9IGFyZ3NcbiAqICAgICAgbGlzdCBvZiBkZXZlbG9wZXIgcHJvdmlkZWQgYXJndW1lbnRzIHRoYXQgY2FuIGJlIHVzZWRcbiAqICAqIHtBcnJheX0gZXJyb3JzXG4gKiAgICAgIGxpc3Qgb2YgZXJyb3JzIGNvbGxlY3RlZCB3aGlsZSByZXNvbHZpbmdcbiAqICAqIHtXZWFrU2V0fSBkaXJ0eVxuICogICAgICBTZXQgb2YgcGF0dGVybnMgYWxyZWFkeSBlbmNvdW50ZXJlZCBkdXJpbmcgdGhpcyByZXNvbHV0aW9uLlxuICogICAgICBUaGlzIGlzIHVzZWQgdG8gcHJldmVudCBjeWNsaWMgcmVzb2x1dGlvbnMuXG4gKi9cblxuXG5pbXBvcnQgeyBGbHVlbnRUeXBlLCBGbHVlbnROb25lLCBGbHVlbnROdW1iZXIsIEZsdWVudERhdGVUaW1lIH1cbiAgZnJvbSBcIi4vdHlwZXMuanNcIjtcbmltcG9ydCAqIGFzIGJ1aWx0aW5zIGZyb20gXCIuL2J1aWx0aW5zLmpzXCI7XG5cbi8vIFByZXZlbnQgZXhwYW5zaW9uIG9mIHRvbyBsb25nIHBsYWNlYWJsZXMuXG5jb25zdCBNQVhfUExBQ0VBQkxFX0xFTkdUSCA9IDI1MDA7XG5cbi8vIFVuaWNvZGUgYmlkaSBpc29sYXRpb24gY2hhcmFjdGVycy5cbmNvbnN0IEZTSSA9IFwiXFx1MjA2OFwiO1xuY29uc3QgUERJID0gXCJcXHUyMDY5XCI7XG5cblxuLy8gSGVscGVyOiBtYXRjaCBhIHZhcmlhbnQga2V5IHRvIHRoZSBnaXZlbiBzZWxlY3Rvci5cbmZ1bmN0aW9uIG1hdGNoKGJ1bmRsZSwgc2VsZWN0b3IsIGtleSkge1xuICBpZiAoa2V5ID09PSBzZWxlY3Rvcikge1xuICAgIC8vIEJvdGggYXJlIHN0cmluZ3MuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBYWFggQ29uc2lkZXIgY29tcGFyaW5nIG9wdGlvbnMgdG9vLCBlLmcuIG1pbmltdW1GcmFjdGlvbkRpZ2l0cy5cbiAgaWYgKGtleSBpbnN0YW5jZW9mIEZsdWVudE51bWJlclxuICAgICYmIHNlbGVjdG9yIGluc3RhbmNlb2YgRmx1ZW50TnVtYmVyXG4gICAgJiYga2V5LnZhbHVlID09PSBzZWxlY3Rvci52YWx1ZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHNlbGVjdG9yIGluc3RhbmNlb2YgRmx1ZW50TnVtYmVyICYmIHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIpIHtcbiAgICBsZXQgY2F0ZWdvcnkgPSBidW5kbGVcbiAgICAgIC5fbWVtb2l6ZUludGxPYmplY3QoSW50bC5QbHVyYWxSdWxlcywgc2VsZWN0b3Iub3B0cylcbiAgICAgIC5zZWxlY3Qoc2VsZWN0b3IudmFsdWUpO1xuICAgIGlmIChrZXkgPT09IGNhdGVnb3J5KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIEhlbHBlcjogcmVzb2x2ZSB0aGUgZGVmYXVsdCB2YXJpYW50IGZyb20gYSBsaXN0IG9mIHZhcmlhbnRzLlxuZnVuY3Rpb24gZ2V0RGVmYXVsdChzY29wZSwgdmFyaWFudHMsIHN0YXIpIHtcbiAgaWYgKHZhcmlhbnRzW3N0YXJdKSB7XG4gICAgcmV0dXJuIFR5cGUoc2NvcGUsIHZhcmlhbnRzW3N0YXJdKTtcbiAgfVxuXG4gIHNjb3BlLmVycm9ycy5wdXNoKG5ldyBSYW5nZUVycm9yKFwiTm8gZGVmYXVsdFwiKSk7XG4gIHJldHVybiBuZXcgRmx1ZW50Tm9uZSgpO1xufVxuXG4vLyBIZWxwZXI6IHJlc29sdmUgYXJndW1lbnRzIHRvIGEgY2FsbCBleHByZXNzaW9uLlxuZnVuY3Rpb24gZ2V0QXJndW1lbnRzKHNjb3BlLCBhcmdzKSB7XG4gIGNvbnN0IHBvc2l0aW9uYWwgPSBbXTtcbiAgY29uc3QgbmFtZWQgPSB7fTtcblxuICBmb3IgKGNvbnN0IGFyZyBvZiBhcmdzKSB7XG4gICAgaWYgKGFyZy50eXBlID09PSBcIm5hcmdcIikge1xuICAgICAgbmFtZWRbYXJnLm5hbWVdID0gVHlwZShzY29wZSwgYXJnLnZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9zaXRpb25hbC5wdXNoKFR5cGUoc2NvcGUsIGFyZykpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBbcG9zaXRpb25hbCwgbmFtZWRdO1xufVxuXG4vLyBSZXNvbHZlIGFuIGV4cHJlc3Npb24gdG8gYSBGbHVlbnQgdHlwZS5cbmZ1bmN0aW9uIFR5cGUoc2NvcGUsIGV4cHIpIHtcbiAgLy8gQSBmYXN0LXBhdGggZm9yIHN0cmluZ3Mgd2hpY2ggYXJlIHRoZSBtb3N0IGNvbW1vbiBjYXNlLiBTaW5jZSB0aGV5XG4gIC8vIG5hdGl2ZWx5IGhhdmUgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIHRoZXkgY2FuIGJlIHVzZWQgYXMgaWYgdGhleSB3ZXJlXG4gIC8vIGEgRmx1ZW50VHlwZSBpbnN0YW5jZSB3aXRob3V0IGluY3VycmluZyB0aGUgY29zdCBvZiBjcmVhdGluZyBvbmUuXG4gIGlmICh0eXBlb2YgZXhwciA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBzY29wZS5idW5kbGUuX3RyYW5zZm9ybShleHByKTtcbiAgfVxuXG4gIC8vIEEgZmFzdC1wYXRoIGZvciBgRmx1ZW50Tm9uZWAgd2hpY2ggZG9lc24ndCByZXF1aXJlIGFueSBhZGRpdGlvbmFsIGxvZ2ljLlxuICBpZiAoZXhwciBpbnN0YW5jZW9mIEZsdWVudE5vbmUpIHtcbiAgICByZXR1cm4gZXhwcjtcbiAgfVxuXG4gIC8vIFRoZSBSdW50aW1lIEFTVCAoRW50cmllcykgZW5jb2RlcyBwYXR0ZXJucyAoY29tcGxleCBzdHJpbmdzIHdpdGhcbiAgLy8gcGxhY2VhYmxlcykgYXMgQXJyYXlzLlxuICBpZiAoQXJyYXkuaXNBcnJheShleHByKSkge1xuICAgIHJldHVybiBQYXR0ZXJuKHNjb3BlLCBleHByKTtcbiAgfVxuXG4gIHN3aXRjaCAoZXhwci50eXBlKSB7XG4gICAgY2FzZSBcInN0clwiOlxuICAgICAgcmV0dXJuIGV4cHIudmFsdWU7XG4gICAgY2FzZSBcIm51bVwiOlxuICAgICAgcmV0dXJuIG5ldyBGbHVlbnROdW1iZXIoZXhwci52YWx1ZSwge1xuICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IGV4cHIucHJlY2lzaW9uLFxuICAgICAgfSk7XG4gICAgY2FzZSBcInZhclwiOlxuICAgICAgcmV0dXJuIFZhcmlhYmxlUmVmZXJlbmNlKHNjb3BlLCBleHByKTtcbiAgICBjYXNlIFwibWVzZ1wiOlxuICAgICAgcmV0dXJuIE1lc3NhZ2VSZWZlcmVuY2Uoc2NvcGUsIGV4cHIpO1xuICAgIGNhc2UgXCJ0ZXJtXCI6XG4gICAgICByZXR1cm4gVGVybVJlZmVyZW5jZShzY29wZSwgZXhwcik7XG4gICAgY2FzZSBcImZ1bmNcIjpcbiAgICAgIHJldHVybiBGdW5jdGlvblJlZmVyZW5jZShzY29wZSwgZXhwcik7XG4gICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgcmV0dXJuIFNlbGVjdEV4cHJlc3Npb24oc2NvcGUsIGV4cHIpO1xuICAgIGNhc2UgdW5kZWZpbmVkOiB7XG4gICAgICAvLyBJZiBpdCdzIGEgbm9kZSB3aXRoIGEgdmFsdWUsIHJlc29sdmUgdGhlIHZhbHVlLlxuICAgICAgaWYgKGV4cHIudmFsdWUgIT09IG51bGwgJiYgZXhwci52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBUeXBlKHNjb3BlLCBleHByLnZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgc2NvcGUuZXJyb3JzLnB1c2gobmV3IFJhbmdlRXJyb3IoXCJObyB2YWx1ZVwiKSk7XG4gICAgICByZXR1cm4gbmV3IEZsdWVudE5vbmUoKTtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBuZXcgRmx1ZW50Tm9uZSgpO1xuICB9XG59XG5cbi8vIFJlc29sdmUgYSByZWZlcmVuY2UgdG8gYSB2YXJpYWJsZS5cbmZ1bmN0aW9uIFZhcmlhYmxlUmVmZXJlbmNlKHNjb3BlLCB7bmFtZX0pIHtcbiAgaWYgKCFzY29wZS5hcmdzIHx8ICFzY29wZS5hcmdzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgaWYgKHNjb3BlLmluc2lkZVRlcm1SZWZlcmVuY2UgPT09IGZhbHNlKSB7XG4gICAgICBzY29wZS5lcnJvcnMucHVzaChuZXcgUmVmZXJlbmNlRXJyb3IoYFVua25vd24gdmFyaWFibGU6ICR7bmFtZX1gKSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRmx1ZW50Tm9uZShgJCR7bmFtZX1gKTtcbiAgfVxuXG4gIGNvbnN0IGFyZyA9IHNjb3BlLmFyZ3NbbmFtZV07XG5cbiAgLy8gUmV0dXJuIGVhcmx5IGlmIHRoZSBhcmd1bWVudCBhbHJlYWR5IGlzIGFuIGluc3RhbmNlIG9mIEZsdWVudFR5cGUuXG4gIGlmIChhcmcgaW5zdGFuY2VvZiBGbHVlbnRUeXBlKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfVxuXG4gIC8vIENvbnZlcnQgdGhlIGFyZ3VtZW50IHRvIGEgRmx1ZW50IHR5cGUuXG4gIHN3aXRjaCAodHlwZW9mIGFyZykge1xuICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgIHJldHVybiBhcmc7XG4gICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgcmV0dXJuIG5ldyBGbHVlbnROdW1iZXIoYXJnKTtcbiAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICBpZiAoYXJnIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZsdWVudERhdGVUaW1lKGFyZyk7XG4gICAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHNjb3BlLmVycm9ycy5wdXNoKFxuICAgICAgICBuZXcgVHlwZUVycm9yKGBVbnN1cHBvcnRlZCB2YXJpYWJsZSB0eXBlOiAke25hbWV9LCAke3R5cGVvZiBhcmd9YClcbiAgICAgICk7XG4gICAgICByZXR1cm4gbmV3IEZsdWVudE5vbmUoYCQke25hbWV9YCk7XG4gIH1cbn1cblxuLy8gUmVzb2x2ZSBhIHJlZmVyZW5jZSB0byBhbm90aGVyIG1lc3NhZ2UuXG5mdW5jdGlvbiBNZXNzYWdlUmVmZXJlbmNlKHNjb3BlLCB7bmFtZSwgYXR0cn0pIHtcbiAgY29uc3QgbWVzc2FnZSA9IHNjb3BlLmJ1bmRsZS5fbWVzc2FnZXMuZ2V0KG5hbWUpO1xuICBpZiAoIW1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnIgPSBuZXcgUmVmZXJlbmNlRXJyb3IoYFVua25vd24gbWVzc2FnZTogJHtuYW1lfWApO1xuICAgIHNjb3BlLmVycm9ycy5wdXNoKGVycik7XG4gICAgcmV0dXJuIG5ldyBGbHVlbnROb25lKG5hbWUpO1xuICB9XG5cbiAgaWYgKGF0dHIpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSBtZXNzYWdlLmF0dHJzICYmIG1lc3NhZ2UuYXR0cnNbYXR0cl07XG4gICAgaWYgKGF0dHJpYnV0ZSkge1xuICAgICAgcmV0dXJuIFR5cGUoc2NvcGUsIGF0dHJpYnV0ZSk7XG4gICAgfVxuICAgIHNjb3BlLmVycm9ycy5wdXNoKG5ldyBSZWZlcmVuY2VFcnJvcihgVW5rbm93biBhdHRyaWJ1dGU6ICR7YXR0cn1gKSk7XG4gICAgcmV0dXJuIG5ldyBGbHVlbnROb25lKGAke25hbWV9LiR7YXR0cn1gKTtcbiAgfVxuXG4gIHJldHVybiBUeXBlKHNjb3BlLCBtZXNzYWdlKTtcbn1cblxuLy8gUmVzb2x2ZSBhIGNhbGwgdG8gYSBUZXJtIHdpdGgga2V5LXZhbHVlIGFyZ3VtZW50cy5cbmZ1bmN0aW9uIFRlcm1SZWZlcmVuY2Uoc2NvcGUsIHtuYW1lLCBhdHRyLCBhcmdzfSkge1xuICBjb25zdCBpZCA9IGAtJHtuYW1lfWA7XG4gIGNvbnN0IHRlcm0gPSBzY29wZS5idW5kbGUuX3Rlcm1zLmdldChpZCk7XG4gIGlmICghdGVybSkge1xuICAgIGNvbnN0IGVyciA9IG5ldyBSZWZlcmVuY2VFcnJvcihgVW5rbm93biB0ZXJtOiAke2lkfWApO1xuICAgIHNjb3BlLmVycm9ycy5wdXNoKGVycik7XG4gICAgcmV0dXJuIG5ldyBGbHVlbnROb25lKGlkKTtcbiAgfVxuXG4gIC8vIEV2ZXJ5IFRlcm1SZWZlcmVuY2UgaGFzIGl0cyBvd24gYXJncy5cbiAgY29uc3QgWywga2V5YXJnc10gPSBnZXRBcmd1bWVudHMoc2NvcGUsIGFyZ3MpO1xuICBjb25zdCBsb2NhbCA9IHsuLi5zY29wZSwgYXJnczoga2V5YXJncywgaW5zaWRlVGVybVJlZmVyZW5jZTogdHJ1ZX07XG5cbiAgaWYgKGF0dHIpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSB0ZXJtLmF0dHJzICYmIHRlcm0uYXR0cnNbYXR0cl07XG4gICAgaWYgKGF0dHJpYnV0ZSkge1xuICAgICAgcmV0dXJuIFR5cGUobG9jYWwsIGF0dHJpYnV0ZSk7XG4gICAgfVxuICAgIHNjb3BlLmVycm9ycy5wdXNoKG5ldyBSZWZlcmVuY2VFcnJvcihgVW5rbm93biBhdHRyaWJ1dGU6ICR7YXR0cn1gKSk7XG4gICAgcmV0dXJuIG5ldyBGbHVlbnROb25lKGAke2lkfS4ke2F0dHJ9YCk7XG4gIH1cblxuICByZXR1cm4gVHlwZShsb2NhbCwgdGVybSk7XG59XG5cbi8vIFJlc29sdmUgYSBjYWxsIHRvIGEgRnVuY3Rpb24gd2l0aCBwb3NpdGlvbmFsIGFuZCBrZXktdmFsdWUgYXJndW1lbnRzLlxuZnVuY3Rpb24gRnVuY3Rpb25SZWZlcmVuY2Uoc2NvcGUsIHtuYW1lLCBhcmdzfSkge1xuICAvLyBTb21lIGZ1bmN0aW9ucyBhcmUgYnVpbHQtaW4uIE90aGVycyBtYXkgYmUgcHJvdmlkZWQgYnkgdGhlIHJ1bnRpbWUgdmlhXG4gIC8vIHRoZSBgRmx1ZW50QnVuZGxlYCBjb25zdHJ1Y3Rvci5cbiAgY29uc3QgZnVuYyA9IHNjb3BlLmJ1bmRsZS5fZnVuY3Rpb25zW25hbWVdIHx8IGJ1aWx0aW5zW25hbWVdO1xuICBpZiAoIWZ1bmMpIHtcbiAgICBzY29wZS5lcnJvcnMucHVzaChuZXcgUmVmZXJlbmNlRXJyb3IoYFVua25vd24gZnVuY3Rpb246ICR7bmFtZX0oKWApKTtcbiAgICByZXR1cm4gbmV3IEZsdWVudE5vbmUoYCR7bmFtZX0oKWApO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBzY29wZS5lcnJvcnMucHVzaChuZXcgVHlwZUVycm9yKGBGdW5jdGlvbiAke25hbWV9KCkgaXMgbm90IGNhbGxhYmxlYCkpO1xuICAgIHJldHVybiBuZXcgRmx1ZW50Tm9uZShgJHtuYW1lfSgpYCk7XG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBmdW5jKC4uLmdldEFyZ3VtZW50cyhzY29wZSwgYXJncykpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gWFhYIFJlcG9ydCBlcnJvcnMuXG4gICAgcmV0dXJuIG5ldyBGbHVlbnROb25lKGAke25hbWV9KClgKTtcbiAgfVxufVxuXG4vLyBSZXNvbHZlIGEgc2VsZWN0IGV4cHJlc3Npb24gdG8gdGhlIG1lbWJlciBvYmplY3QuXG5mdW5jdGlvbiBTZWxlY3RFeHByZXNzaW9uKHNjb3BlLCB7c2VsZWN0b3IsIHZhcmlhbnRzLCBzdGFyfSkge1xuICBsZXQgc2VsID0gVHlwZShzY29wZSwgc2VsZWN0b3IpO1xuICBpZiAoc2VsIGluc3RhbmNlb2YgRmx1ZW50Tm9uZSkge1xuICAgIGNvbnN0IHZhcmlhbnQgPSBnZXREZWZhdWx0KHNjb3BlLCB2YXJpYW50cywgc3Rhcik7XG4gICAgcmV0dXJuIFR5cGUoc2NvcGUsIHZhcmlhbnQpO1xuICB9XG5cbiAgLy8gTWF0Y2ggdGhlIHNlbGVjdG9yIGFnYWluc3Qga2V5cyBvZiBlYWNoIHZhcmlhbnQsIGluIG9yZGVyLlxuICBmb3IgKGNvbnN0IHZhcmlhbnQgb2YgdmFyaWFudHMpIHtcbiAgICBjb25zdCBrZXkgPSBUeXBlKHNjb3BlLCB2YXJpYW50LmtleSk7XG4gICAgaWYgKG1hdGNoKHNjb3BlLmJ1bmRsZSwgc2VsLCBrZXkpKSB7XG4gICAgICByZXR1cm4gVHlwZShzY29wZSwgdmFyaWFudCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgdmFyaWFudCA9IGdldERlZmF1bHQoc2NvcGUsIHZhcmlhbnRzLCBzdGFyKTtcbiAgcmV0dXJuIFR5cGUoc2NvcGUsIHZhcmlhbnQpO1xufVxuXG4vLyBSZXNvbHZlIGEgcGF0dGVybiAoYSBjb21wbGV4IHN0cmluZyB3aXRoIHBsYWNlYWJsZXMpLlxuZnVuY3Rpb24gUGF0dGVybihzY29wZSwgcHRuKSB7XG4gIGlmIChzY29wZS5kaXJ0eS5oYXMocHRuKSkge1xuICAgIHNjb3BlLmVycm9ycy5wdXNoKG5ldyBSYW5nZUVycm9yKFwiQ3ljbGljIHJlZmVyZW5jZVwiKSk7XG4gICAgcmV0dXJuIG5ldyBGbHVlbnROb25lKCk7XG4gIH1cblxuICAvLyBUYWcgdGhlIHBhdHRlcm4gYXMgZGlydHkgZm9yIHRoZSBwdXJwb3NlIG9mIHRoZSBjdXJyZW50IHJlc29sdXRpb24uXG4gIHNjb3BlLmRpcnR5LmFkZChwdG4pO1xuICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAvLyBXcmFwIGludGVycG9sYXRpb25zIHdpdGggRGlyZWN0aW9uYWwgSXNvbGF0ZSBGb3JtYXR0aW5nIGNoYXJhY3RlcnNcbiAgLy8gb25seSB3aGVuIHRoZSBwYXR0ZXJuIGhhcyBtb3JlIHRoYW4gb25lIGVsZW1lbnQuXG4gIGNvbnN0IHVzZUlzb2xhdGluZyA9IHNjb3BlLmJ1bmRsZS5fdXNlSXNvbGF0aW5nICYmIHB0bi5sZW5ndGggPiAxO1xuXG4gIGZvciAoY29uc3QgZWxlbSBvZiBwdG4pIHtcbiAgICBpZiAodHlwZW9mIGVsZW0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHNjb3BlLmJ1bmRsZS5fdHJhbnNmb3JtKGVsZW0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcnQgPSBUeXBlKHNjb3BlLCBlbGVtKS50b1N0cmluZyhzY29wZS5idW5kbGUpO1xuXG4gICAgaWYgKHVzZUlzb2xhdGluZykge1xuICAgICAgcmVzdWx0LnB1c2goRlNJKTtcbiAgICB9XG5cbiAgICBpZiAocGFydC5sZW5ndGggPiBNQVhfUExBQ0VBQkxFX0xFTkdUSCkge1xuICAgICAgc2NvcGUuZXJyb3JzLnB1c2goXG4gICAgICAgIG5ldyBSYW5nZUVycm9yKFxuICAgICAgICAgIFwiVG9vIG1hbnkgY2hhcmFjdGVycyBpbiBwbGFjZWFibGUgXCIgK1xuICAgICAgICAgIGAoJHtwYXJ0Lmxlbmd0aH0sIG1heCBhbGxvd2VkIGlzICR7TUFYX1BMQUNFQUJMRV9MRU5HVEh9KWBcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHJlc3VsdC5wdXNoKHBhcnQuc2xpY2UoTUFYX1BMQUNFQUJMRV9MRU5HVEgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnB1c2gocGFydCk7XG4gICAgfVxuXG4gICAgaWYgKHVzZUlzb2xhdGluZykge1xuICAgICAgcmVzdWx0LnB1c2goUERJKTtcbiAgICB9XG4gIH1cblxuICBzY29wZS5kaXJ0eS5kZWxldGUocHRuKTtcbiAgcmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xufVxuXG4vKipcbiAqIEZvcm1hdCBhIHRyYW5zbGF0aW9uIGludG8gYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtICAge0ZsdWVudEJ1bmRsZX0gYnVuZGxlXG4gKiAgICBBIEZsdWVudEJ1bmRsZSBpbnN0YW5jZSB3aGljaCB3aWxsIGJlIHVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqICAgIGNvbnRleHR1YWwgaW5mb3JtYXRpb24gb2YgdGhlIG1lc3NhZ2UuXG4gKiBAcGFyYW0gICB7T2JqZWN0fSAgICAgICAgIGFyZ3NcbiAqICAgIExpc3Qgb2YgYXJndW1lbnRzIHByb3ZpZGVkIGJ5IHRoZSBkZXZlbG9wZXIgd2hpY2ggY2FuIGJlIGFjY2Vzc2VkXG4gKiAgICBmcm9tIHRoZSBtZXNzYWdlLlxuICogQHBhcmFtICAge09iamVjdH0gICAgICAgICBtZXNzYWdlXG4gKiAgICBBbiBvYmplY3Qgd2l0aCB0aGUgTWVzc2FnZSB0byBiZSByZXNvbHZlZC5cbiAqIEBwYXJhbSAgIHtBcnJheX0gICAgICAgICAgZXJyb3JzXG4gKiAgICBBbiBlcnJvciBhcnJheSB0aGF0IGFueSBlbmNvdW50ZXJlZCBlcnJvcnMgd2lsbCBiZSBhcHBlbmRlZCB0by5cbiAqIEByZXR1cm5zIHtGbHVlbnRUeXBlfVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXNvbHZlKGJ1bmRsZSwgYXJncywgbWVzc2FnZSwgZXJyb3JzID0gW10pIHtcbiAgY29uc3Qgc2NvcGUgPSB7XG4gICAgYnVuZGxlLCBhcmdzLCBlcnJvcnMsIGRpcnR5OiBuZXcgV2Vha1NldCgpLFxuICAgIC8vIFRlcm1SZWZlcmVuY2VzIGFyZSByZXNvbHZlZCBpbiBhIG5ldyBzY29wZS5cbiAgICBpbnNpZGVUZXJtUmVmZXJlbmNlOiBmYWxzZSxcbiAgfTtcbiAgcmV0dXJuIFR5cGUoc2NvcGUsIG1lc3NhZ2UpLnRvU3RyaW5nKGJ1bmRsZSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGbHVlbnRFcnJvciBleHRlbmRzIEVycm9yIHt9XG4iLCJpbXBvcnQgRmx1ZW50RXJyb3IgZnJvbSBcIi4vZXJyb3IuanNcIjtcblxuLy8gVGhpcyByZWdleCBpcyB1c2VkIHRvIGl0ZXJhdGUgdGhyb3VnaCB0aGUgYmVnaW5uaW5ncyBvZiBtZXNzYWdlcyBhbmQgdGVybXMuXG4vLyBXaXRoIHRoZSAvbSBmbGFnLCB0aGUgXiBtYXRjaGVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgZXZlcnkgbGluZS5cbmNvbnN0IFJFX01FU1NBR0VfU1RBUlQgPSAvXigtP1thLXpBLVpdW1xcdy1dKikgKj0gKi9tZztcblxuLy8gQm90aCBBdHRyaWJ1dGVzIGFuZCBWYXJpYW50cyBhcmUgcGFyc2VkIGluIHdoaWxlIGxvb3BzLiBUaGVzZSByZWdleGVzIGFyZVxuLy8gdXNlZCB0byBicmVhayBvdXQgb2YgdGhlbS5cbmNvbnN0IFJFX0FUVFJJQlVURV9TVEFSVCA9IC9cXC4oW2EtekEtWl1bXFx3LV0qKSAqPSAqL3k7XG5jb25zdCBSRV9WQVJJQU5UX1NUQVJUID0gL1xcKj9cXFsveTtcblxuY29uc3QgUkVfTlVNQkVSX0xJVEVSQUwgPSAvKC0/WzAtOV0rKD86XFwuKFswLTldKykpPykveTtcbmNvbnN0IFJFX0lERU5USUZJRVIgPSAvKFthLXpBLVpdW1xcdy1dKikveTtcbmNvbnN0IFJFX1JFRkVSRU5DRSA9IC8oWyQtXSk/KFthLXpBLVpdW1xcdy1dKikoPzpcXC4oW2EtekEtWl1bXFx3LV0qKSk/L3k7XG5jb25zdCBSRV9GVU5DVElPTl9OQU1FID0gL15bQS1aXVtBLVowLTlfLV0qJC87XG5cbi8vIEEgXCJydW5cIiBpcyBhIHNlcXVlbmNlIG9mIHRleHQgb3Igc3RyaW5nIGxpdGVyYWwgY2hhcmFjdGVycyB3aGljaCBkb24ndFxuLy8gcmVxdWlyZSBhbnkgc3BlY2lhbCBoYW5kbGluZy4gRm9yIFRleHRFbGVtZW50cyBzdWNoIHNwZWNpYWwgY2hhcmFjdGVycyBhcmU6IHtcbi8vIChzdGFydHMgYSBwbGFjZWFibGUpLCBhbmQgbGluZSBicmVha3Mgd2hpY2ggcmVxdWlyZSBhZGRpdGlvbmFsIGxvZ2ljIHRvIGNoZWNrXG4vLyBpZiB0aGUgbmV4dCBsaW5lIGlzIGluZGVudGVkLiBGb3IgU3RyaW5nTGl0ZXJhbHMgdGhleSBhcmU6IFxcIChzdGFydHMgYW5cbi8vIGVzY2FwZSBzZXF1ZW5jZSksIFwiIChlbmRzIHRoZSBsaXRlcmFsKSwgYW5kIGxpbmUgYnJlYWtzIHdoaWNoIGFyZSBub3QgYWxsb3dlZFxuLy8gaW4gU3RyaW5nTGl0ZXJhbHMuIE5vdGUgdGhhdCBzdHJpbmcgcnVucyBtYXkgYmUgZW1wdHk7IHRleHQgcnVucyBtYXkgbm90LlxuY29uc3QgUkVfVEVYVF9SVU4gPSAvKFtee31cXG5cXHJdKykveTtcbmNvbnN0IFJFX1NUUklOR19SVU4gPSAvKFteXFxcXFwiXFxuXFxyXSopL3k7XG5cbi8vIEVzY2FwZSBzZXF1ZW5jZXMuXG5jb25zdCBSRV9TVFJJTkdfRVNDQVBFID0gL1xcXFwoW1xcXFxcIl0pL3k7XG5jb25zdCBSRV9VTklDT0RFX0VTQ0FQRSA9IC9cXFxcdShbYS1mQS1GMC05XXs0fSl8XFxcXFUoW2EtZkEtRjAtOV17Nn0pL3k7XG5cbi8vIFVzZWQgZm9yIHRyaW1taW5nIFRleHRFbGVtZW50cyBhbmQgaW5kZW50cy5cbmNvbnN0IFJFX0xFQURJTkdfTkVXTElORVMgPSAvXlxcbisvO1xuY29uc3QgUkVfVFJBSUxJTkdfU1BBQ0VTID0gLyArJC87XG4vLyBVc2VkIGluIG1ha2VJbmRlbnQgdG8gc3RyaXAgc3BhY2VzIGZyb20gYmxhbmsgbGluZXMgYW5kIG5vcm1hbGl6ZSBDUkxGIHRvIExGLlxuY29uc3QgUkVfQkxBTktfTElORVMgPSAvICpcXHI/XFxuL2c7XG4vLyBVc2VkIGluIG1ha2VJbmRlbnQgdG8gbWVhc3VyZSB0aGUgaW5kZW50YXRpb24uXG5jb25zdCBSRV9JTkRFTlQgPSAvKCAqKSQvO1xuXG4vLyBDb21tb24gdG9rZW5zLlxuY29uc3QgVE9LRU5fQlJBQ0VfT1BFTiA9IC97XFxzKi95O1xuY29uc3QgVE9LRU5fQlJBQ0VfQ0xPU0UgPSAvXFxzKn0veTtcbmNvbnN0IFRPS0VOX0JSQUNLRVRfT1BFTiA9IC9cXFtcXHMqL3k7XG5jb25zdCBUT0tFTl9CUkFDS0VUX0NMT1NFID0gL1xccypdICoveTtcbmNvbnN0IFRPS0VOX1BBUkVOX09QRU4gPSAvXFxzKlxcKFxccyoveTtcbmNvbnN0IFRPS0VOX0FSUk9XID0gL1xccyotPlxccyoveTtcbmNvbnN0IFRPS0VOX0NPTE9OID0gL1xccyo6XFxzKi95O1xuLy8gTm90ZSB0aGUgb3B0aW9uYWwgY29tbWEuIEFzIGEgZGV2aWF0aW9uIGZyb20gdGhlIEZsdWVudCBFQk5GLCB0aGUgcGFyc2VyXG4vLyBkb2Vzbid0IGVuZm9yY2UgY29tbWFzIGJldHdlZW4gY2FsbCBhcmd1bWVudHMuXG5jb25zdCBUT0tFTl9DT01NQSA9IC9cXHMqLD9cXHMqL3k7XG5jb25zdCBUT0tFTl9CTEFOSyA9IC9cXHMrL3k7XG5cbi8vIE1heGltdW0gbnVtYmVyIG9mIHBsYWNlYWJsZXMgaW4gYSBzaW5nbGUgUGF0dGVybiB0byBwcm90ZWN0IGFnYWluc3QgUXVhZHJhdGljXG4vLyBCbG93dXAgYXR0YWNrcy4gU2VlIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL21hZ2F6aW5lL2VlMzM1NzEzLmFzcHguXG5jb25zdCBNQVhfUExBQ0VBQkxFUyA9IDEwMDtcblxuLyoqXG4gKiBGbHVlbnQgUmVzb3VyY2UgaXMgYSBzdHJ1Y3R1cmUgc3RvcmluZyBhIG1hcCBvZiBwYXJzZWQgbG9jYWxpemF0aW9uIGVudHJpZXMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsdWVudFJlc291cmNlIGV4dGVuZHMgTWFwIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBGbHVlbnRSZXNvdXJjZSBmcm9tIEZsdWVudCBjb2RlLlxuICAgKi9cbiAgc3RhdGljIGZyb21TdHJpbmcoc291cmNlKSB7XG4gICAgUkVfTUVTU0FHRV9TVEFSVC5sYXN0SW5kZXggPSAwO1xuXG4gICAgbGV0IHJlc291cmNlID0gbmV3IHRoaXMoKTtcbiAgICBsZXQgY3Vyc29yID0gMDtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUgYmVnaW5uaW5ncyBvZiBtZXNzYWdlcyBhbmQgdGVybXMgdG8gZWZmaWNpZW50bHkgc2tpcFxuICAgIC8vIGNvbW1lbnRzIGFuZCByZWNvdmVyIGZyb20gZXJyb3JzLlxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgbmV4dCA9IFJFX01FU1NBR0VfU1RBUlQuZXhlYyhzb3VyY2UpO1xuICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGN1cnNvciA9IFJFX01FU1NBR0VfU1RBUlQubGFzdEluZGV4O1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzb3VyY2Uuc2V0KG5leHRbMV0sIHBhcnNlTWVzc2FnZSgpKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRmx1ZW50RXJyb3IpIHtcbiAgICAgICAgICAvLyBEb24ndCByZXBvcnQgYW55IEZsdWVudCBzeW50YXggZXJyb3JzLiBTa2lwIGRpcmVjdGx5IHRvIHRoZVxuICAgICAgICAgIC8vIGJlZ2lubmluZyBvZiB0aGUgbmV4dCBtZXNzYWdlIG9yIHRlcm0uXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXNvdXJjZTtcblxuICAgIC8vIFRoZSBwYXJzZXIgaW1wbGVtZW50YXRpb24gaXMgaW5saW5lZCBiZWxvdyBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy5cblxuICAgIC8vIFRoZSBwYXJzZXIgZm9jdXNlcyBvbiBtaW5pbWl6aW5nIHRoZSBudW1iZXIgb2YgZmFsc2UgbmVnYXRpdmVzIGF0IHRoZVxuICAgIC8vIGV4cGVuc2Ugb2YgaW5jcmVhc2luZyB0aGUgcmlzayBvZiBmYWxzZSBwb3NpdGl2ZXMuIEluIG90aGVyIHdvcmRzLCBpdFxuICAgIC8vIGFpbXMgYXQgcGFyc2luZyB2YWxpZCBGbHVlbnQgbWVzc2FnZXMgd2l0aCBhIHN1Y2Nlc3MgcmF0ZSBvZiAxMDAlLCBidXQgaXRcbiAgICAvLyBtYXkgYWxzbyBwYXJzZSBhIGZldyBpbnZhbGlkIG1lc3NhZ2VzIHdoaWNoIHRoZSByZWZlcmVuY2UgcGFyc2VyIHdvdWxkXG4gICAgLy8gcmVqZWN0LiBUaGUgcGFyc2VyIGRvZXNuJ3QgcGVyZm9ybSBhbnkgdmFsaWRhdGlvbiBhbmQgbWF5IHByb2R1Y2UgZW50cmllc1xuICAgIC8vIHdoaWNoIHdvdWxkbid0IG1ha2Ugc2Vuc2UgaW4gdGhlIHJlYWwgd29ybGQuIEZvciBiZXN0IHJlc3VsdHMgdXNlcnMgYXJlXG4gICAgLy8gYWR2aXNlZCB0byB2YWxpZGF0ZSB0cmFuc2xhdGlvbnMgd2l0aCB0aGUgZmx1ZW50LXN5bnRheCBwYXJzZXJcbiAgICAvLyBwcmUtcnVudGltZS5cblxuICAgIC8vIFRoZSBwYXJzZXIgbWFrZXMgYW4gZXh0ZW5zaXZlIHVzZSBvZiBzdGlja3kgcmVnZXhlcyB3aGljaCBjYW4gYmUgYW5jaG9yZWRcbiAgICAvLyB0byBhbnkgb2Zmc2V0IG9mIHRoZSBzb3VyY2Ugc3RyaW5nIHdpdGhvdXQgc2xpY2luZyBpdC4gRXJyb3JzIGFyZSB0aHJvd25cbiAgICAvLyB0byBiYWlsIG91dCBvZiBwYXJzaW5nIG9mIGlsbC1mb3JtZWQgbWVzc2FnZXMuXG5cbiAgICBmdW5jdGlvbiB0ZXN0KHJlKSB7XG4gICAgICByZS5sYXN0SW5kZXggPSBjdXJzb3I7XG4gICAgICByZXR1cm4gcmUudGVzdChzb3VyY2UpO1xuICAgIH1cblxuICAgIC8vIEFkdmFuY2UgdGhlIGN1cnNvciBieSB0aGUgY2hhciBpZiBpdCBtYXRjaGVzLiBNYXkgYmUgdXNlZCBhcyBhIHByZWRpY2F0ZVxuICAgIC8vICh3YXMgdGhlIG1hdGNoIGZvdW5kPykgb3IsIGlmIGVycm9yQ2xhc3MgaXMgcGFzc2VkLCBhcyBhbiBhc3NlcnRpb24uXG4gICAgZnVuY3Rpb24gY29uc3VtZUNoYXIoY2hhciwgZXJyb3JDbGFzcykge1xuICAgICAgaWYgKHNvdXJjZVtjdXJzb3JdID09PSBjaGFyKSB7XG4gICAgICAgIGN1cnNvcisrO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlcnJvckNsYXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBlcnJvckNsYXNzKGBFeHBlY3RlZCAke2NoYXJ9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQWR2YW5jZSB0aGUgY3Vyc29yIGJ5IHRoZSB0b2tlbiBpZiBpdCBtYXRjaGVzLiBNYXkgYmUgdXNlZCBhcyBhIHByZWRpY2F0ZVxuICAgIC8vICh3YXMgdGhlIG1hdGNoIGZvdW5kPykgb3IsIGlmIGVycm9yQ2xhc3MgaXMgcGFzc2VkLCBhcyBhbiBhc3NlcnRpb24uXG4gICAgZnVuY3Rpb24gY29uc3VtZVRva2VuKHJlLCBlcnJvckNsYXNzKSB7XG4gICAgICBpZiAodGVzdChyZSkpIHtcbiAgICAgICAgY3Vyc29yID0gcmUubGFzdEluZGV4O1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlcnJvckNsYXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBlcnJvckNsYXNzKGBFeHBlY3RlZCAke3JlLnRvU3RyaW5nKCl9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRXhlY3V0ZSBhIHJlZ2V4LCBhZHZhbmNlIHRoZSBjdXJzb3IsIGFuZCByZXR1cm4gYWxsIGNhcHR1cmUgZ3JvdXBzLlxuICAgIGZ1bmN0aW9uIG1hdGNoKHJlKSB7XG4gICAgICByZS5sYXN0SW5kZXggPSBjdXJzb3I7XG4gICAgICBsZXQgcmVzdWx0ID0gcmUuZXhlYyhzb3VyY2UpO1xuICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRmx1ZW50RXJyb3IoYEV4cGVjdGVkICR7cmUudG9TdHJpbmcoKX1gKTtcbiAgICAgIH1cbiAgICAgIGN1cnNvciA9IHJlLmxhc3RJbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gRXhlY3V0ZSBhIHJlZ2V4LCBhZHZhbmNlIHRoZSBjdXJzb3IsIGFuZCByZXR1cm4gdGhlIGNhcHR1cmUgZ3JvdXAuXG4gICAgZnVuY3Rpb24gbWF0Y2gxKHJlKSB7XG4gICAgICByZXR1cm4gbWF0Y2gocmUpWzFdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlTWVzc2FnZSgpIHtcbiAgICAgIGxldCB2YWx1ZSA9IHBhcnNlUGF0dGVybigpO1xuICAgICAgbGV0IGF0dHJzID0gcGFyc2VBdHRyaWJ1dGVzKCk7XG5cbiAgICAgIGlmIChhdHRycyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRmx1ZW50RXJyb3IoXCJFeHBlY3RlZCBtZXNzYWdlIHZhbHVlIG9yIGF0dHJpYnV0ZXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge3ZhbHVlLCBhdHRyc307XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VBdHRyaWJ1dGVzKCkge1xuICAgICAgbGV0IGF0dHJzID0ge307XG5cbiAgICAgIHdoaWxlICh0ZXN0KFJFX0FUVFJJQlVURV9TVEFSVCkpIHtcbiAgICAgICAgbGV0IG5hbWUgPSBtYXRjaDEoUkVfQVRUUklCVVRFX1NUQVJUKTtcbiAgICAgICAgbGV0IHZhbHVlID0gcGFyc2VQYXR0ZXJuKCk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBGbHVlbnRFcnJvcihcIkV4cGVjdGVkIGF0dHJpYnV0ZSB2YWx1ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBhdHRyc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoYXR0cnMpLmxlbmd0aCA+IDAgPyBhdHRycyA6IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VQYXR0ZXJuKCkge1xuICAgICAgLy8gRmlyc3QgdHJ5IHRvIHBhcnNlIGFueSBzaW1wbGUgdGV4dCBvbiB0aGUgc2FtZSBsaW5lIGFzIHRoZSBpZC5cbiAgICAgIGlmICh0ZXN0KFJFX1RFWFRfUlVOKSkge1xuICAgICAgICB2YXIgZmlyc3QgPSBtYXRjaDEoUkVfVEVYVF9SVU4pO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGVyZSdzIGEgcGxhY2VhYmxlIG9uIHRoZSBmaXJzdCBsaW5lLCBwYXJzZSBhIGNvbXBsZXggcGF0dGVybi5cbiAgICAgIGlmIChzb3VyY2VbY3Vyc29yXSA9PT0gXCJ7XCIgfHwgc291cmNlW2N1cnNvcl0gPT09IFwifVwiKSB7XG4gICAgICAgIC8vIFJlLXVzZSB0aGUgdGV4dCBwYXJzZWQgYWJvdmUsIGlmIHBvc3NpYmxlLlxuICAgICAgICByZXR1cm4gcGFyc2VQYXR0ZXJuRWxlbWVudHMoZmlyc3QgPyBbZmlyc3RdIDogW10sIEluZmluaXR5KTtcbiAgICAgIH1cblxuICAgICAgLy8gUkVfVEVYVF9WQUxVRSBzdG9wcyBhdCBuZXdsaW5lcy4gT25seSBjb250aW51ZSBwYXJzaW5nIHRoZSBwYXR0ZXJuIGlmXG4gICAgICAvLyB3aGF0IGNvbWVzIGFmdGVyIHRoZSBuZXdsaW5lIGlzIGluZGVudGVkLlxuICAgICAgbGV0IGluZGVudCA9IHBhcnNlSW5kZW50KCk7XG4gICAgICBpZiAoaW5kZW50KSB7XG4gICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlJ3MgdGV4dCBvbiB0aGUgZmlyc3QgbGluZSwgdGhlIGJsYW5rIGJsb2NrIGlzIHBhcnQgb2YgdGhlXG4gICAgICAgICAgLy8gdHJhbnNsYXRpb24gY29udGVudCBpbiBpdHMgZW50aXJldHkuXG4gICAgICAgICAgcmV0dXJuIHBhcnNlUGF0dGVybkVsZW1lbnRzKFtmaXJzdCwgaW5kZW50XSwgaW5kZW50Lmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSdyZSBkZWFsaW5nIHdpdGggYSBibG9jayBwYXR0ZXJuLCBpLmUuIGEgcGF0dGVybiB3aGljaFxuICAgICAgICAvLyBzdGFydHMgb24gYSBuZXcgbGluZS4gRGlzY3JhZCB0aGUgbGVhZGluZyBuZXdsaW5lcyBidXQga2VlcCB0aGVcbiAgICAgICAgLy8gaW5saW5lIGluZGVudDsgaXQgd2lsbCBiZSB1c2VkIGJ5IHRoZSBkZWRlbnRhdGlvbiBsb2dpYy5cbiAgICAgICAgaW5kZW50LnZhbHVlID0gdHJpbShpbmRlbnQudmFsdWUsIFJFX0xFQURJTkdfTkVXTElORVMpO1xuICAgICAgICByZXR1cm4gcGFyc2VQYXR0ZXJuRWxlbWVudHMoW2luZGVudF0sIGluZGVudC5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZmlyc3QpIHtcbiAgICAgICAgLy8gSXQgd2FzIGp1c3QgYSBzaW1wbGUgaW5saW5lIHRleHQgYWZ0ZXIgYWxsLlxuICAgICAgICByZXR1cm4gdHJpbShmaXJzdCwgUkVfVFJBSUxJTkdfU1BBQ0VTKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gUGFyc2UgYSBjb21wbGV4IHBhdHRlcm4gYXMgYW4gYXJyYXkgb2YgZWxlbWVudHMuXG4gICAgZnVuY3Rpb24gcGFyc2VQYXR0ZXJuRWxlbWVudHMoZWxlbWVudHMgPSBbXSwgY29tbW9uSW5kZW50KSB7XG4gICAgICBsZXQgcGxhY2VhYmxlQ291bnQgPSAwO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAodGVzdChSRV9URVhUX1JVTikpIHtcbiAgICAgICAgICBlbGVtZW50cy5wdXNoKG1hdGNoMShSRV9URVhUX1JVTikpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNvdXJjZVtjdXJzb3JdID09PSBcIntcIikge1xuICAgICAgICAgIGlmICgrK3BsYWNlYWJsZUNvdW50ID4gTUFYX1BMQUNFQUJMRVMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGbHVlbnRFcnJvcihcIlRvbyBtYW55IHBsYWNlYWJsZXNcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnRzLnB1c2gocGFyc2VQbGFjZWFibGUoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc291cmNlW2N1cnNvcl0gPT09IFwifVwiKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZsdWVudEVycm9yKFwiVW5iYWxhbmNlZCBjbG9zaW5nIGJyYWNlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGluZGVudCA9IHBhcnNlSW5kZW50KCk7XG4gICAgICAgIGlmIChpbmRlbnQpIHtcbiAgICAgICAgICBlbGVtZW50cy5wdXNoKGluZGVudCk7XG4gICAgICAgICAgY29tbW9uSW5kZW50ID0gTWF0aC5taW4oY29tbW9uSW5kZW50LCBpbmRlbnQubGVuZ3RoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBsZXQgbGFzdEluZGV4ID0gZWxlbWVudHMubGVuZ3RoIC0gMTtcbiAgICAgIC8vIFRyaW0gdGhlIHRyYWlsaW5nIHNwYWNlcyBpbiB0aGUgbGFzdCBlbGVtZW50IGlmIGl0J3MgYSBUZXh0RWxlbWVudC5cbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudHNbbGFzdEluZGV4XSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBlbGVtZW50c1tsYXN0SW5kZXhdID0gdHJpbShlbGVtZW50c1tsYXN0SW5kZXhdLCBSRV9UUkFJTElOR19TUEFDRVMpO1xuICAgICAgfVxuXG4gICAgICBsZXQgYmFrZWQgPSBbXTtcbiAgICAgIGZvciAobGV0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gXCJpbmRlbnRcIikge1xuICAgICAgICAgIC8vIERlZGVudCBpbmRlbnRlZCBsaW5lcyBieSB0aGUgbWF4aW11bSBjb21tb24gaW5kZW50LlxuICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnZhbHVlLnNsaWNlKDAsIGVsZW1lbnQudmFsdWUubGVuZ3RoIC0gY29tbW9uSW5kZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LnR5cGUgPT09IFwic3RyXCIpIHtcbiAgICAgICAgICAvLyBPcHRpbWl6ZSBTdHJpbmdMaXRlcmFscyBpbnRvIHRoZWlyIHZhbHVlLlxuICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgYmFrZWQucHVzaChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJha2VkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlUGxhY2VhYmxlKCkge1xuICAgICAgY29uc3VtZVRva2VuKFRPS0VOX0JSQUNFX09QRU4sIEZsdWVudEVycm9yKTtcblxuICAgICAgbGV0IHNlbGVjdG9yID0gcGFyc2VJbmxpbmVFeHByZXNzaW9uKCk7XG4gICAgICBpZiAoY29uc3VtZVRva2VuKFRPS0VOX0JSQUNFX0NMT1NFKSkge1xuICAgICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb25zdW1lVG9rZW4oVE9LRU5fQVJST1cpKSB7XG4gICAgICAgIGxldCB2YXJpYW50cyA9IHBhcnNlVmFyaWFudHMoKTtcbiAgICAgICAgY29uc3VtZVRva2VuKFRPS0VOX0JSQUNFX0NMT1NFLCBGbHVlbnRFcnJvcik7XG4gICAgICAgIHJldHVybiB7dHlwZTogXCJzZWxlY3RcIiwgc2VsZWN0b3IsIC4uLnZhcmlhbnRzfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEZsdWVudEVycm9yKFwiVW5jbG9zZWQgcGxhY2VhYmxlXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlSW5saW5lRXhwcmVzc2lvbigpIHtcbiAgICAgIGlmIChzb3VyY2VbY3Vyc29yXSA9PT0gXCJ7XCIpIHtcbiAgICAgICAgLy8gSXQncyBhIG5lc3RlZCBwbGFjZWFibGUuXG4gICAgICAgIHJldHVybiBwYXJzZVBsYWNlYWJsZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGVzdChSRV9SRUZFUkVOQ0UpKSB7XG4gICAgICAgIGxldCBbLCBzaWdpbCwgbmFtZSwgYXR0ciA9IG51bGxdID0gbWF0Y2goUkVfUkVGRVJFTkNFKTtcblxuICAgICAgICBpZiAoc2lnaWwgPT09IFwiJFwiKSB7XG4gICAgICAgICAgcmV0dXJuIHt0eXBlOiBcInZhclwiLCBuYW1lfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25zdW1lVG9rZW4oVE9LRU5fUEFSRU5fT1BFTikpIHtcbiAgICAgICAgICBsZXQgYXJncyA9IHBhcnNlQXJndW1lbnRzKCk7XG5cbiAgICAgICAgICBpZiAoc2lnaWwgPT09IFwiLVwiKSB7XG4gICAgICAgICAgICAvLyBBIHBhcmFtZXRlcml6ZWQgdGVybTogLXRlcm0oLi4uKS5cbiAgICAgICAgICAgIHJldHVybiB7dHlwZTogXCJ0ZXJtXCIsIG5hbWUsIGF0dHIsIGFyZ3N9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChSRV9GVU5DVElPTl9OQU1FLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7dHlwZTogXCJmdW5jXCIsIG5hbWUsIGFyZ3N9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRocm93IG5ldyBGbHVlbnRFcnJvcihcIkZ1bmN0aW9uIG5hbWVzIG11c3QgYmUgYWxsIHVwcGVyLWNhc2VcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2lnaWwgPT09IFwiLVwiKSB7XG4gICAgICAgICAgLy8gQSBub24tcGFyYW1ldGVyaXplZCB0ZXJtOiAtdGVybS5cbiAgICAgICAgICByZXR1cm4ge3R5cGU6IFwidGVybVwiLCBuYW1lLCBhdHRyLCBhcmdzOiBbXX07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge3R5cGU6IFwibWVzZ1wiLCBuYW1lLCBhdHRyfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcnNlTGl0ZXJhbCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlQXJndW1lbnRzKCkge1xuICAgICAgbGV0IGFyZ3MgPSBbXTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHN3aXRjaCAoc291cmNlW2N1cnNvcl0pIHtcbiAgICAgICAgICBjYXNlIFwiKVwiOiAvLyBFbmQgb2YgdGhlIGFyZ3VtZW50IGxpc3QuXG4gICAgICAgICAgICBjdXJzb3IrKztcbiAgICAgICAgICAgIHJldHVybiBhcmdzO1xuICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOiAvLyBFT0ZcbiAgICAgICAgICAgIHRocm93IG5ldyBGbHVlbnRFcnJvcihcIlVuY2xvc2VkIGFyZ3VtZW50IGxpc3RcIik7XG4gICAgICAgIH1cblxuICAgICAgICBhcmdzLnB1c2gocGFyc2VBcmd1bWVudCgpKTtcbiAgICAgICAgLy8gQ29tbWFzIGJldHdlZW4gYXJndW1lbnRzIGFyZSB0cmVhdGVkIGFzIHdoaXRlc3BhY2UuXG4gICAgICAgIGNvbnN1bWVUb2tlbihUT0tFTl9DT01NQSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VBcmd1bWVudCgpIHtcbiAgICAgIGxldCBleHByID0gcGFyc2VJbmxpbmVFeHByZXNzaW9uKCk7XG4gICAgICBpZiAoZXhwci50eXBlICE9PSBcIm1lc2dcIikge1xuICAgICAgICByZXR1cm4gZXhwcjtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbnN1bWVUb2tlbihUT0tFTl9DT0xPTikpIHtcbiAgICAgICAgLy8gVGhlIHJlZmVyZW5jZSBpcyB0aGUgYmVnaW5uaW5nIG9mIGEgbmFtZWQgYXJndW1lbnQuXG4gICAgICAgIHJldHVybiB7dHlwZTogXCJuYXJnXCIsIG5hbWU6IGV4cHIubmFtZSwgdmFsdWU6IHBhcnNlTGl0ZXJhbCgpfTtcbiAgICAgIH1cblxuICAgICAgLy8gSXQncyBhIHJlZ3VsYXIgbWVzc2FnZSByZWZlcmVuY2UuXG4gICAgICByZXR1cm4gZXhwcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVZhcmlhbnRzKCkge1xuICAgICAgbGV0IHZhcmlhbnRzID0gW107XG4gICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgbGV0IHN0YXI7XG5cbiAgICAgIHdoaWxlICh0ZXN0KFJFX1ZBUklBTlRfU1RBUlQpKSB7XG4gICAgICAgIGlmIChjb25zdW1lQ2hhcihcIipcIikpIHtcbiAgICAgICAgICBzdGFyID0gY291bnQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQga2V5ID0gcGFyc2VWYXJpYW50S2V5KCk7XG4gICAgICAgIGxldCB2YWx1ZSA9IHBhcnNlUGF0dGVybigpO1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRmx1ZW50RXJyb3IoXCJFeHBlY3RlZCB2YXJpYW50IHZhbHVlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhcmlhbnRzW2NvdW50KytdID0ge2tleSwgdmFsdWV9O1xuICAgICAgfVxuXG4gICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGFyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEZsdWVudEVycm9yKFwiRXhwZWN0ZWQgZGVmYXVsdCB2YXJpYW50XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge3ZhcmlhbnRzLCBzdGFyfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVZhcmlhbnRLZXkoKSB7XG4gICAgICBjb25zdW1lVG9rZW4oVE9LRU5fQlJBQ0tFVF9PUEVOLCBGbHVlbnRFcnJvcik7XG4gICAgICBsZXQga2V5ID0gdGVzdChSRV9OVU1CRVJfTElURVJBTClcbiAgICAgICAgPyBwYXJzZU51bWJlckxpdGVyYWwoKVxuICAgICAgICA6IG1hdGNoMShSRV9JREVOVElGSUVSKTtcbiAgICAgIGNvbnN1bWVUb2tlbihUT0tFTl9CUkFDS0VUX0NMT1NFLCBGbHVlbnRFcnJvcik7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlTGl0ZXJhbCgpIHtcbiAgICAgIGlmICh0ZXN0KFJFX05VTUJFUl9MSVRFUkFMKSkge1xuICAgICAgICByZXR1cm4gcGFyc2VOdW1iZXJMaXRlcmFsKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzb3VyY2VbY3Vyc29yXSA9PT0gXCJcXFwiXCIpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlU3RyaW5nTGl0ZXJhbCgpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRmx1ZW50RXJyb3IoXCJJbnZhbGlkIGV4cHJlc3Npb25cIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VOdW1iZXJMaXRlcmFsKCkge1xuICAgICAgbGV0IFssIHZhbHVlLCBmcmFjdGlvbiA9IFwiXCJdID0gbWF0Y2goUkVfTlVNQkVSX0xJVEVSQUwpO1xuICAgICAgbGV0IHByZWNpc2lvbiA9IGZyYWN0aW9uLmxlbmd0aDtcbiAgICAgIHJldHVybiB7dHlwZTogXCJudW1cIiwgdmFsdWU6IHBhcnNlRmxvYXQodmFsdWUpLCBwcmVjaXNpb259O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlU3RyaW5nTGl0ZXJhbCgpIHtcbiAgICAgIGNvbnN1bWVDaGFyKFwiXFxcIlwiLCBGbHVlbnRFcnJvcik7XG4gICAgICBsZXQgdmFsdWUgPSBcIlwiO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFsdWUgKz0gbWF0Y2gxKFJFX1NUUklOR19SVU4pO1xuXG4gICAgICAgIGlmIChzb3VyY2VbY3Vyc29yXSA9PT0gXCJcXFxcXCIpIHtcbiAgICAgICAgICB2YWx1ZSArPSBwYXJzZUVzY2FwZVNlcXVlbmNlKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uc3VtZUNoYXIoXCJcXFwiXCIpKSB7XG4gICAgICAgICAgcmV0dXJuIHt0eXBlOiBcInN0clwiLCB2YWx1ZX07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSd2ZSByZWFjaGVkIGFuIEVPTCBvZiBFT0YuXG4gICAgICAgIHRocm93IG5ldyBGbHVlbnRFcnJvcihcIlVuY2xvc2VkIHN0cmluZyBsaXRlcmFsXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVuZXNjYXBlIGtub3duIGVzY2FwZSBzZXF1ZW5jZXMuXG4gICAgZnVuY3Rpb24gcGFyc2VFc2NhcGVTZXF1ZW5jZSgpIHtcbiAgICAgIGlmICh0ZXN0KFJFX1NUUklOR19FU0NBUEUpKSB7XG4gICAgICAgIHJldHVybiBtYXRjaDEoUkVfU1RSSU5HX0VTQ0FQRSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0ZXN0KFJFX1VOSUNPREVfRVNDQVBFKSkge1xuICAgICAgICBsZXQgWywgY29kZXBvaW50NCwgY29kZXBvaW50Nl0gPSBtYXRjaChSRV9VTklDT0RFX0VTQ0FQRSk7XG4gICAgICAgIGxldCBjb2RlcG9pbnQgPSBwYXJzZUludChjb2RlcG9pbnQ0IHx8IGNvZGVwb2ludDYsIDE2KTtcbiAgICAgICAgcmV0dXJuIGNvZGVwb2ludCA8PSAweEQ3RkYgfHwgMHhFMDAwIDw9IGNvZGVwb2ludFxuICAgICAgICAgIC8vIEl0J3MgYSBVbmljb2RlIHNjYWxhciB2YWx1ZS5cbiAgICAgICAgICA/IFN0cmluZy5mcm9tQ29kZVBvaW50KGNvZGVwb2ludClcbiAgICAgICAgICAvLyBMb25lbHkgc3Vycm9nYXRlcyBjYW4gY2F1c2UgdHJvdWJsZSB3aGVuIHRoZSBwYXJzaW5nIHJlc3VsdCBpc1xuICAgICAgICAgIC8vIHNhdmVkIHVzaW5nIFVURi04LiBVc2UgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUiBpbnN0ZWFkLlxuICAgICAgICAgIDogXCLvv71cIjtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEZsdWVudEVycm9yKFwiVW5rbm93biBlc2NhcGUgc2VxdWVuY2VcIik7XG4gICAgfVxuXG4gICAgLy8gUGFyc2UgYmxhbmsgc3BhY2UuIFJldHVybiBpdCBpZiBpdCBsb29rcyBsaWtlIGluZGVudCBiZWZvcmUgYSBwYXR0ZXJuXG4gICAgLy8gbGluZS4gU2tpcCBpdCBvdGh3ZXJ3aXNlLlxuICAgIGZ1bmN0aW9uIHBhcnNlSW5kZW50KCkge1xuICAgICAgbGV0IHN0YXJ0ID0gY3Vyc29yO1xuICAgICAgY29uc3VtZVRva2VuKFRPS0VOX0JMQU5LKTtcblxuICAgICAgLy8gQ2hlY2sgdGhlIGZpcnN0IG5vbi1ibGFuayBjaGFyYWN0ZXIgYWZ0ZXIgdGhlIGluZGVudC5cbiAgICAgIHN3aXRjaCAoc291cmNlW2N1cnNvcl0pIHtcbiAgICAgICAgY2FzZSBcIi5cIjpcbiAgICAgICAgY2FzZSBcIltcIjpcbiAgICAgICAgY2FzZSBcIipcIjpcbiAgICAgICAgY2FzZSBcIn1cIjpcbiAgICAgICAgY2FzZSB1bmRlZmluZWQ6IC8vIEVPRlxuICAgICAgICAgIC8vIEEgc3BlY2lhbCBjaGFyYWN0ZXIuIEVuZCB0aGUgUGF0dGVybi5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgXCJ7XCI6XG4gICAgICAgICAgLy8gUGxhY2VhYmxlcyBkb24ndCByZXF1aXJlIGluZGVudGF0aW9uIChpbiBFQk5GOiBibG9jay1wbGFjZWFibGUpLlxuICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBQYXR0ZXJuLlxuICAgICAgICAgIHJldHVybiBtYWtlSW5kZW50KHNvdXJjZS5zbGljZShzdGFydCwgY3Vyc29yKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb24gdGhlIGxpbmUgaXMgbm90IG9uZSBvZiB0aGUgc3BlY2lhbCBjaGFyYWN0ZXJzXG4gICAgICAvLyBsaXN0ZWQgYWJvdmUsIGl0J3MgYSByZWd1bGFyIHRleHQgY2hhcmFjdGVyLiBDaGVjayBpZiB0aGVyZSdzIGF0IGxlYXN0XG4gICAgICAvLyBvbmUgc3BhY2Ugb2YgaW5kZW50IGJlZm9yZSBpdC5cbiAgICAgIGlmIChzb3VyY2VbY3Vyc29yIC0gMV0gPT09IFwiIFwiKSB7XG4gICAgICAgIC8vIEl0J3MgYW4gaW5kZW50ZWQgdGV4dCBjaGFyYWN0ZXIgKGluIEVCTkY6IGluZGVudGVkLWNoYXIpLiBDb250aW51ZVxuICAgICAgICAvLyB0aGUgUGF0dGVybi5cbiAgICAgICAgcmV0dXJuIG1ha2VJbmRlbnQoc291cmNlLnNsaWNlKHN0YXJ0LCBjdXJzb3IpKTtcbiAgICAgIH1cblxuICAgICAgLy8gQSBub3QtaW5kZW50ZWQgdGV4dCBjaGFyYWN0ZXIgaXMgbGlrZWx5IHRoZSBpZGVudGlmaWVyIG9mIHRoZSBuZXh0XG4gICAgICAvLyBtZXNzYWdlLiBFbmQgdGhlIFBhdHRlcm4uXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVHJpbSBibGFua3MgaW4gdGV4dCBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIHJlZ2V4LlxuICAgIGZ1bmN0aW9uIHRyaW0odGV4dCwgcmUpIHtcbiAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UocmUsIFwiXCIpO1xuICAgIH1cblxuICAgIC8vIE5vcm1hbGl6ZSBhIGJsYW5rIGJsb2NrIGFuZCBleHRyYWN0IHRoZSBpbmRlbnQgZGV0YWlscy5cbiAgICBmdW5jdGlvbiBtYWtlSW5kZW50KGJsYW5rKSB7XG4gICAgICBsZXQgdmFsdWUgPSBibGFuay5yZXBsYWNlKFJFX0JMQU5LX0xJTkVTLCBcIlxcblwiKTtcbiAgICAgIGxldCBsZW5ndGggPSBSRV9JTkRFTlQuZXhlYyhibGFuaylbMV0ubGVuZ3RoO1xuICAgICAgcmV0dXJuIHt0eXBlOiBcImluZGVudFwiLCB2YWx1ZSwgbGVuZ3RofTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCByZXNvbHZlIGZyb20gXCIuL3Jlc29sdmVyLmpzXCI7XG5pbXBvcnQgRmx1ZW50UmVzb3VyY2UgZnJvbSBcIi4vcmVzb3VyY2UuanNcIjtcblxuLyoqXG4gKiBNZXNzYWdlIGJ1bmRsZXMgYXJlIHNpbmdsZS1sYW5ndWFnZSBzdG9yZXMgb2YgdHJhbnNsYXRpb25zLiAgVGhleSBhcmVcbiAqIHJlc3BvbnNpYmxlIGZvciBwYXJzaW5nIHRyYW5zbGF0aW9uIHJlc291cmNlcyBpbiB0aGUgRmx1ZW50IHN5bnRheCBhbmQgY2FuXG4gKiBmb3JtYXQgdHJhbnNsYXRpb24gdW5pdHMgKGVudGl0aWVzKSB0byBzdHJpbmdzLlxuICpcbiAqIEFsd2F5cyB1c2UgYEZsdWVudEJ1bmRsZS5mb3JtYXRgIHRvIHJldHJpZXZlIHRyYW5zbGF0aW9uIHVuaXRzIGZyb20gYVxuICogYnVuZGxlLiBUcmFuc2xhdGlvbnMgY2FuIGNvbnRhaW4gcmVmZXJlbmNlcyB0byBvdGhlciBlbnRpdGllcyBvciB2YXJpYWJsZXMsXG4gKiBjb25kaXRpb25hbCBsb2dpYyBpbiBmb3JtIG9mIHNlbGVjdCBleHByZXNzaW9ucywgdHJhaXRzIHdoaWNoIGRlc2NyaWJlIHRoZWlyXG4gKiBncmFtbWF0aWNhbCBmZWF0dXJlcywgYW5kIGNhbiB1c2UgRmx1ZW50IGJ1aWx0aW5zIHdoaWNoIG1ha2UgdXNlIG9mIHRoZVxuICogYEludGxgIGZvcm1hdHRlcnMgdG8gZm9ybWF0IG51bWJlcnMsIGRhdGVzLCBsaXN0cyBhbmQgbW9yZSBpbnRvIHRoZVxuICogYnVuZGxlJ3MgbGFuZ3VhZ2UuIFNlZSB0aGUgZG9jdW1lbnRhdGlvbiBvZiB0aGUgRmx1ZW50IHN5bnRheCBmb3IgbW9yZVxuICogaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsdWVudEJ1bmRsZSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgYEZsdWVudEJ1bmRsZWAuXG4gICAqXG4gICAqIFRoZSBgbG9jYWxlc2AgYXJndW1lbnQgaXMgdXNlZCB0byBpbnN0YW50aWF0ZSBgSW50bGAgZm9ybWF0dGVycyB1c2VkIGJ5XG4gICAqIHRyYW5zbGF0aW9ucy4gIFRoZSBgb3B0aW9uc2Agb2JqZWN0IGNhbiBiZSB1c2VkIHRvIGNvbmZpZ3VyZSB0aGUgYnVuZGxlLlxuICAgKlxuICAgKiBFeGFtcGxlczpcbiAgICpcbiAgICogICAgIGNvbnN0IGJ1bmRsZSA9IG5ldyBGbHVlbnRCdW5kbGUobG9jYWxlcyk7XG4gICAqXG4gICAqICAgICBjb25zdCBidW5kbGUgPSBuZXcgRmx1ZW50QnVuZGxlKGxvY2FsZXMsIHsgdXNlSXNvbGF0aW5nOiBmYWxzZSB9KTtcbiAgICpcbiAgICogICAgIGNvbnN0IGJ1bmRsZSA9IG5ldyBGbHVlbnRCdW5kbGUobG9jYWxlcywge1xuICAgKiAgICAgICB1c2VJc29sYXRpbmc6IHRydWUsXG4gICAqICAgICAgIGZ1bmN0aW9uczoge1xuICAgKiAgICAgICAgIE5PREVfRU5WOiAoKSA9PiBwcm9jZXNzLmVudi5OT0RFX0VOVlxuICAgKiAgICAgICB9XG4gICAqICAgICB9KTtcbiAgICpcbiAgICogQXZhaWxhYmxlIG9wdGlvbnM6XG4gICAqXG4gICAqICAgLSBgZnVuY3Rpb25zYCAtIGFuIG9iamVjdCBvZiBhZGRpdGlvbmFsIGZ1bmN0aW9ucyBhdmFpbGFibGUgdG9cbiAgICogICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb25zIGFzIGJ1aWx0aW5zLlxuICAgKlxuICAgKiAgIC0gYHVzZUlzb2xhdGluZ2AgLSBib29sZWFuIHNwZWNpZnlpbmcgd2hldGhlciB0byB1c2UgVW5pY29kZSBpc29sYXRpb25cbiAgICogICAgICAgICAgICAgICAgICAgIG1hcmtzIChGU0ksIFBESSkgZm9yIGJpZGkgaW50ZXJwb2xhdGlvbnMuXG4gICAqICAgICAgICAgICAgICAgICAgICBEZWZhdWx0OiB0cnVlXG4gICAqXG4gICAqICAgLSBgdHJhbnNmb3JtYCAtIGEgZnVuY3Rpb24gdXNlZCB0byB0cmFuc2Zvcm0gc3RyaW5nIHBhcnRzIG9mIHBhdHRlcm5zLlxuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfEFycmF5PHN0cmluZz59IGxvY2FsZXMgLSBMb2NhbGUgb3IgbG9jYWxlcyBvZiB0aGUgYnVuZGxlXG4gICAqIEBwYXJhbSAgIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAcmV0dXJucyB7Rmx1ZW50QnVuZGxlfVxuICAgKi9cbiAgY29uc3RydWN0b3IobG9jYWxlcywge1xuICAgIGZ1bmN0aW9ucyA9IHt9LFxuICAgIHVzZUlzb2xhdGluZyA9IHRydWUsXG4gICAgdHJhbnNmb3JtID0gdiA9PiB2LFxuICB9ID0ge30pIHtcbiAgICB0aGlzLmxvY2FsZXMgPSBBcnJheS5pc0FycmF5KGxvY2FsZXMpID8gbG9jYWxlcyA6IFtsb2NhbGVzXTtcblxuICAgIHRoaXMuX3Rlcm1zID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuX21lc3NhZ2VzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuX2Z1bmN0aW9ucyA9IGZ1bmN0aW9ucztcbiAgICB0aGlzLl91c2VJc29sYXRpbmcgPSB1c2VJc29sYXRpbmc7XG4gICAgdGhpcy5fdHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIHRoaXMuX2ludGxzID0gbmV3IFdlYWtNYXAoKTtcbiAgfVxuXG4gIC8qXG4gICAqIFJldHVybiBhbiBpdGVyYXRvciBvdmVyIHB1YmxpYyBgW2lkLCBtZXNzYWdlXWAgcGFpcnMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtJdGVyYXRvcn1cbiAgICovXG4gIGdldCBtZXNzYWdlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fbWVzc2FnZXNbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICB9XG5cbiAgLypcbiAgICogQ2hlY2sgaWYgYSBtZXNzYWdlIGlzIHByZXNlbnQgaW4gdGhlIGJ1bmRsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkZW50aWZpZXIgb2YgdGhlIG1lc3NhZ2UgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sfVxuICAgKi9cbiAgaGFzTWVzc2FnZShpZCkge1xuICAgIHJldHVybiB0aGlzLl9tZXNzYWdlcy5oYXMoaWQpO1xuICB9XG5cbiAgLypcbiAgICogUmV0dXJuIHRoZSBpbnRlcm5hbCByZXByZXNlbnRhdGlvbiBvZiBhIG1lc3NhZ2UuXG4gICAqXG4gICAqIFRoZSBpbnRlcm5hbCByZXByZXNlbnRhdGlvbiBzaG91bGQgb25seSBiZSB1c2VkIGFzIGFuIGFyZ3VtZW50IHRvXG4gICAqIGBGbHVlbnRCdW5kbGUuZm9ybWF0YC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkZW50aWZpZXIgb2YgdGhlIG1lc3NhZ2UgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtBbnl9XG4gICAqL1xuICBnZXRNZXNzYWdlKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VzLmdldChpZCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgdHJhbnNsYXRpb24gcmVzb3VyY2UgdG8gdGhlIGJ1bmRsZS5cbiAgICpcbiAgICogVGhlIHRyYW5zbGF0aW9uIHJlc291cmNlIG11c3QgdXNlIHRoZSBGbHVlbnQgc3ludGF4LiAgSXQgd2lsbCBiZSBwYXJzZWQgYnlcbiAgICogdGhlIGJ1bmRsZSBhbmQgZWFjaCB0cmFuc2xhdGlvbiB1bml0IChtZXNzYWdlKSB3aWxsIGJlIGF2YWlsYWJsZSBpbiB0aGVcbiAgICogYnVuZGxlIGJ5IGl0cyBpZGVudGlmaWVyLlxuICAgKlxuICAgKiAgICAgYnVuZGxlLmFkZE1lc3NhZ2VzKCdmb28gPSBGb28nKTtcbiAgICogICAgIGJ1bmRsZS5nZXRNZXNzYWdlKCdmb28nKTtcbiAgICpcbiAgICogICAgIC8vIFJldHVybnMgYSByYXcgcmVwcmVzZW50YXRpb24gb2YgdGhlICdmb28nIG1lc3NhZ2UuXG4gICAqXG4gICAqICAgICBidW5kbGUuYWRkTWVzc2FnZXMoJ2JhciA9IEJhcicpO1xuICAgKiAgICAgYnVuZGxlLmFkZE1lc3NhZ2VzKCdiYXIgPSBOZXdiYXInLCB7IGFsbG93T3ZlcnJpZGVzOiB0cnVlIH0pO1xuICAgKiAgICAgYnVuZGxlLmdldE1lc3NhZ2UoJ2JhcicpO1xuICAgKlxuICAgKiAgICAgLy8gUmV0dXJucyBhIHJhdyByZXByZXNlbnRhdGlvbiBvZiB0aGUgJ2JhcicgbWVzc2FnZTogTmV3YmFyLlxuICAgKlxuICAgKiBQYXJzZWQgZW50aXRpZXMgc2hvdWxkIGJlIGZvcm1hdHRlZCB3aXRoIHRoZSBgZm9ybWF0YCBtZXRob2QgaW4gY2FzZSB0aGV5XG4gICAqIGNvbnRhaW4gbG9naWMgKHJlZmVyZW5jZXMsIHNlbGVjdCBleHByZXNzaW9ucyBldGMuKS5cbiAgICpcbiAgICogQXZhaWxhYmxlIG9wdGlvbnM6XG4gICAqXG4gICAqICAgLSBgYWxsb3dPdmVycmlkZXNgIC0gYm9vbGVhbiBzcGVjaWZ5aW5nIHdoZXRoZXIgaXQncyBhbGxvd2VkIHRvIG92ZXJyaWRlXG4gICAqICAgICAgICAgICAgICAgICAgICAgIGFuIGV4aXN0aW5nIG1lc3NhZ2Ugb3IgdGVybSB3aXRoIGEgbmV3IHZhbHVlLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0OiBmYWxzZVxuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSBzb3VyY2UgLSBUZXh0IHJlc291cmNlIHdpdGggdHJhbnNsYXRpb25zLlxuICAgKiBAcGFyYW0gICB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQHJldHVybnMge0FycmF5PEVycm9yPn1cbiAgICovXG4gIGFkZE1lc3NhZ2VzKHNvdXJjZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHJlcyA9IEZsdWVudFJlc291cmNlLmZyb21TdHJpbmcoc291cmNlKTtcbiAgICByZXR1cm4gdGhpcy5hZGRSZXNvdXJjZShyZXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHRyYW5zbGF0aW9uIHJlc291cmNlIHRvIHRoZSBidW5kbGUuXG4gICAqXG4gICAqIFRoZSB0cmFuc2xhdGlvbiByZXNvdXJjZSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIEZsdWVudFJlc291cmNlLFxuICAgKiBlLmcuIHBhcnNlZCBieSBgRmx1ZW50UmVzb3VyY2UuZnJvbVN0cmluZ2AuXG4gICAqXG4gICAqICAgICBsZXQgcmVzID0gRmx1ZW50UmVzb3VyY2UuZnJvbVN0cmluZyhcImZvbyA9IEZvb1wiKTtcbiAgICogICAgIGJ1bmRsZS5hZGRSZXNvdXJjZShyZXMpO1xuICAgKiAgICAgYnVuZGxlLmdldE1lc3NhZ2UoJ2ZvbycpO1xuICAgKlxuICAgKiAgICAgLy8gUmV0dXJucyBhIHJhdyByZXByZXNlbnRhdGlvbiBvZiB0aGUgJ2ZvbycgbWVzc2FnZS5cbiAgICpcbiAgICogICAgIGxldCByZXMgPSBGbHVlbnRSZXNvdXJjZS5mcm9tU3RyaW5nKFwiYmFyID0gQmFyXCIpO1xuICAgKiAgICAgYnVuZGxlLmFkZFJlc291cmNlKHJlcyk7XG4gICAqICAgICByZXMgPSBGbHVlbnRSZXNvdXJjZS5mcm9tU3RyaW5nKFwiYmFyID0gTmV3YmFyXCIpO1xuICAgKiAgICAgYnVuZGxlLmFkZFJlc291cmNlKHJlcywgeyBhbGxvd092ZXJyaWRlczogdHJ1ZSB9KTtcbiAgICogICAgIGJ1bmRsZS5nZXRNZXNzYWdlKCdiYXInKTtcbiAgICpcbiAgICogICAgIC8vIFJldHVybnMgYSByYXcgcmVwcmVzZW50YXRpb24gb2YgdGhlICdiYXInIG1lc3NhZ2U6IE5ld2Jhci5cbiAgICpcbiAgICogUGFyc2VkIGVudGl0aWVzIHNob3VsZCBiZSBmb3JtYXR0ZWQgd2l0aCB0aGUgYGZvcm1hdGAgbWV0aG9kIGluIGNhc2UgdGhleVxuICAgKiBjb250YWluIGxvZ2ljIChyZWZlcmVuY2VzLCBzZWxlY3QgZXhwcmVzc2lvbnMgZXRjLikuXG4gICAqXG4gICAqIEF2YWlsYWJsZSBvcHRpb25zOlxuICAgKlxuICAgKiAgIC0gYGFsbG93T3ZlcnJpZGVzYCAtIGJvb2xlYW4gc3BlY2lmeWluZyB3aGV0aGVyIGl0J3MgYWxsb3dlZCB0byBvdmVycmlkZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICBhbiBleGlzdGluZyBtZXNzYWdlIG9yIHRlcm0gd2l0aCBhIG5ldyB2YWx1ZS5cbiAgICogICAgICAgICAgICAgICAgICAgICAgRGVmYXVsdDogZmFsc2VcbiAgICpcbiAgICogQHBhcmFtICAge0ZsdWVudFJlc291cmNlfSByZXMgLSBGbHVlbnRSZXNvdXJjZSBvYmplY3QuXG4gICAqIEBwYXJhbSAgIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAcmV0dXJucyB7QXJyYXk8RXJyb3I+fVxuICAgKi9cbiAgYWRkUmVzb3VyY2UocmVzLCB7XG4gICAgYWxsb3dPdmVycmlkZXMgPSBmYWxzZSxcbiAgfSA9IHt9KSB7XG4gICAgY29uc3QgZXJyb3JzID0gW107XG5cbiAgICBmb3IgKGNvbnN0IFtpZCwgdmFsdWVdIG9mIHJlcykge1xuICAgICAgaWYgKGlkLnN0YXJ0c1dpdGgoXCItXCIpKSB7XG4gICAgICAgIC8vIElkZW50aWZpZXJzIHN0YXJ0aW5nIHdpdGggYSBkYXNoICgtKSBkZWZpbmUgdGVybXMuIFRlcm1zIGFyZSBwcml2YXRlXG4gICAgICAgIC8vIGFuZCBjYW5ub3QgYmUgcmV0cmlldmVkIGZyb20gRmx1ZW50QnVuZGxlLlxuICAgICAgICBpZiAoYWxsb3dPdmVycmlkZXMgPT09IGZhbHNlICYmIHRoaXMuX3Rlcm1zLmhhcyhpZCkpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChgQXR0ZW1wdCB0byBvdmVycmlkZSBhbiBleGlzdGluZyB0ZXJtOiBcIiR7aWR9XCJgKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXJtcy5zZXQoaWQsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhbGxvd092ZXJyaWRlcyA9PT0gZmFsc2UgJiYgdGhpcy5fbWVzc2FnZXMuaGFzKGlkKSkge1xuICAgICAgICAgIGVycm9ycy5wdXNoKGBBdHRlbXB0IHRvIG92ZXJyaWRlIGFuIGV4aXN0aW5nIG1lc3NhZ2U6IFwiJHtpZH1cImApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzLnNldChpZCwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlcnJvcnM7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0IGEgbWVzc2FnZSB0byBhIHN0cmluZyBvciBudWxsLlxuICAgKlxuICAgKiBGb3JtYXQgYSByYXcgYG1lc3NhZ2VgIGZyb20gdGhlIGJ1bmRsZSBpbnRvIGEgc3RyaW5nIChvciBhIG51bGwgaWYgaXQgaGFzXG4gICAqIGEgbnVsbCB2YWx1ZSkuICBgYXJnc2Agd2lsbCBiZSB1c2VkIHRvIHJlc29sdmUgcmVmZXJlbmNlcyB0byB2YXJpYWJsZXNcbiAgICogcGFzc2VkIGFzIGFyZ3VtZW50cyB0byB0aGUgdHJhbnNsYXRpb24uXG4gICAqXG4gICAqIEluIGNhc2Ugb2YgZXJyb3JzIGBmb3JtYXRgIHdpbGwgdHJ5IHRvIHNhbHZhZ2UgYXMgbXVjaCBvZiB0aGUgdHJhbnNsYXRpb25cbiAgICogYXMgcG9zc2libGUgYW5kIHdpbGwgc3RpbGwgcmV0dXJuIGEgc3RyaW5nLiAgRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIHRoZVxuICAgKiBlbmNvdW50ZXJlZCBlcnJvcnMgYXJlIG5vdCByZXR1cm5lZCBidXQgaW5zdGVhZCBhcmUgYXBwZW5kZWQgdG8gdGhlXG4gICAqIGBlcnJvcnNgIGFycmF5IHBhc3NlZCBhcyB0aGUgdGhpcmQgYXJndW1lbnQuXG4gICAqXG4gICAqICAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICogICAgIGJ1bmRsZS5hZGRNZXNzYWdlcygnaGVsbG8gPSBIZWxsbywgeyAkbmFtZSB9IScpO1xuICAgKiAgICAgY29uc3QgaGVsbG8gPSBidW5kbGUuZ2V0TWVzc2FnZSgnaGVsbG8nKTtcbiAgICogICAgIGJ1bmRsZS5mb3JtYXQoaGVsbG8sIHsgbmFtZTogJ0phbmUnIH0sIGVycm9ycyk7XG4gICAqXG4gICAqICAgICAvLyBSZXR1cm5zICdIZWxsbywgSmFuZSEnIGFuZCBgZXJyb3JzYCBpcyBlbXB0eS5cbiAgICpcbiAgICogICAgIGJ1bmRsZS5mb3JtYXQoaGVsbG8sIHVuZGVmaW5lZCwgZXJyb3JzKTtcbiAgICpcbiAgICogICAgIC8vIFJldHVybnMgJ0hlbGxvLCBuYW1lIScgYW5kIGBlcnJvcnNgIGlzIG5vdzpcbiAgICpcbiAgICogICAgIFs8UmVmZXJlbmNlRXJyb3I6IFVua25vd24gdmFyaWFibGU6IG5hbWU+XVxuICAgKlxuICAgKiBAcGFyYW0gICB7T2JqZWN0IHwgc3RyaW5nfSAgICBtZXNzYWdlXG4gICAqIEBwYXJhbSAgIHtPYmplY3QgfCB1bmRlZmluZWR9IGFyZ3NcbiAgICogQHBhcmFtICAge0FycmF5fSAgICAgICAgICAgICAgZXJyb3JzXG4gICAqIEByZXR1cm5zIHs/c3RyaW5nfVxuICAgKi9cbiAgZm9ybWF0KG1lc3NhZ2UsIGFyZ3MsIGVycm9ycykge1xuICAgIC8vIG9wdGltaXplIGVudGl0aWVzIHdoaWNoIGFyZSBzaW1wbGUgc3RyaW5ncyB3aXRoIG5vIGF0dHJpYnV0ZXNcbiAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm0obWVzc2FnZSk7XG4gICAgfVxuXG4gICAgLy8gb3B0aW1pemUgZW50aXRpZXMgd2l0aCBudWxsIHZhbHVlc1xuICAgIGlmIChtZXNzYWdlID09PSBudWxsIHx8IG1lc3NhZ2UudmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIG9wdGltaXplIHNpbXBsZS1zdHJpbmcgZW50aXRpZXMgd2l0aCBhdHRyaWJ1dGVzXG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlLnZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtKG1lc3NhZ2UudmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiByZXNvbHZlKHRoaXMsIGFyZ3MsIG1lc3NhZ2UsIGVycm9ycyk7XG4gIH1cblxuICBfbWVtb2l6ZUludGxPYmplY3QoY3Rvciwgb3B0cykge1xuICAgIGNvbnN0IGNhY2hlID0gdGhpcy5faW50bHMuZ2V0KGN0b3IpIHx8IHt9O1xuICAgIGNvbnN0IGlkID0gSlNPTi5zdHJpbmdpZnkob3B0cyk7XG5cbiAgICBpZiAoIWNhY2hlW2lkXSkge1xuICAgICAgY2FjaGVbaWRdID0gbmV3IGN0b3IodGhpcy5sb2NhbGVzLCBvcHRzKTtcbiAgICAgIHRoaXMuX2ludGxzLnNldChjdG9yLCBjYWNoZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhY2hlW2lkXTtcbiAgfVxufVxuIiwiLypcbiAqIEBtb2R1bGUgZmx1ZW50XG4gKiBAb3ZlcnZpZXdcbiAqXG4gKiBgZmx1ZW50YCBpcyBhIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgUHJvamVjdCBGbHVlbnQsIGEgbG9jYWxpemF0aW9uXG4gKiBmcmFtZXdvcmsgZGVzaWduZWQgdG8gdW5sZWFzaCB0aGUgZXhwcmVzc2l2ZSBwb3dlciBvZiB0aGUgbmF0dXJhbCBsYW5ndWFnZS5cbiAqXG4gKi9cblxuZXhwb3J0IHsgZGVmYXVsdCBhcyBGbHVlbnRCdW5kbGUgfSBmcm9tIFwiLi9idW5kbGUuanNcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRmx1ZW50UmVzb3VyY2UgfSBmcm9tIFwiLi9yZXNvdXJjZS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGbHVlbnRFcnJvciB9IGZyb20gXCIuL2Vycm9yLmpzXCI7XG5leHBvcnQgeyBGbHVlbnRUeXBlLCBGbHVlbnROdW1iZXIsIEZsdWVudERhdGVUaW1lIH0gZnJvbSBcIi4vdHlwZXMuanNcIjtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IEZsdWVudEJ1bmRsZSB9IGZyb20gXCJmbHVlbnRcIjtcblxuLyoqXG4gKiBQcm9wZXJ0aWVzIHRoYXQgYWxsb3cgcmljaCB0ZXh0IE1VU1QgYmUgYWRkZWQgdG8gdGhpcyBsaXN0LlxuICogICBrZXk6IHRoZSBsb2NhbGl6YXRpb25faWQgdGhhdCBzaG91bGQgYmUgdXNlZFxuICogICB2YWx1ZTogYSBwcm9wZXJ0eSBvciBhcnJheSBvZiBwcm9wZXJ0aWVzIG9uIHRoZSBtZXNzYWdlLmNvbnRlbnQgb2JqZWN0XG4gKi9cbmNvbnN0IFJJQ0hfVEVYVF9DT05GSUcgPSB7XG4gIHRleHQ6IFtcInRleHRcIiwgXCJzY2VuZTFfdGV4dFwiXSxcbiAgc3VjY2Vzc190ZXh0OiBcInN1Y2Nlc3NfdGV4dFwiLFxuICBlcnJvcl90ZXh0OiBcImVycm9yX3RleHRcIixcbiAgc2NlbmUyX3RleHQ6IFwic2NlbmUyX3RleHRcIixcbiAgYW1vX2h0bWw6IFwiYW1vX2h0bWxcIixcbiAgcHJpdmFjeV9odG1sOiBcInNjZW5lMl9wcml2YWN5X2h0bWxcIixcbiAgZGlzY2xhaW1lcl9odG1sOiBcInNjZW5lMl9kaXNjbGFpbWVyX2h0bWxcIixcbn07XG5cbmV4cG9ydCBjb25zdCBSSUNIX1RFWFRfS0VZUyA9IE9iamVjdC5rZXlzKFJJQ0hfVEVYVF9DT05GSUcpO1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhbiBhcnJheSBvZiBtZXNzYWdlcyBzdWl0YWJsZSBmb3IgZmx1ZW50J3MgbG9jYWxpemF0aW9uIHByb3ZpZGVyXG4gKiBpbmNsdWRpbmcgYWxsIG5lZWRlZCBzdHJpbmdzIGZvciByaWNoIHRleHQuXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGVudCBBIC5jb250ZW50IG9iamVjdCBmcm9tIGFuIEFTUiBtZXNzYWdlIChpLmUuIG1lc3NhZ2UuY29udGVudClcbiAqIEByZXR1cm5zIHtGbHVlbnRCdW5kbGVbXX0gQSBhcnJheSBjb250YWluaW5nIHRoZSBmbHVlbnQgbWVzc2FnZSBjb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUJ1bmRsZXMoY29udGVudCkge1xuICBjb25zdCBidW5kbGUgPSBuZXcgRmx1ZW50QnVuZGxlKFwiZW4tVVNcIik7XG5cbiAgUklDSF9URVhUX0tFWVMuZm9yRWFjaChrZXkgPT4ge1xuICAgIGNvbnN0IGF0dHJzID0gUklDSF9URVhUX0NPTkZJR1trZXldO1xuICAgIGNvbnN0IGF0dHJzVG9UcnkgPSBBcnJheS5pc0FycmF5KGF0dHJzKSA/IFsuLi5hdHRyc10gOiBbYXR0cnNdO1xuICAgIGxldCBzdHJpbmcgPSBcIlwiO1xuICAgIHdoaWxlICghc3RyaW5nICYmIGF0dHJzVG9UcnkubGVuZ3RoKSB7XG4gICAgICBjb25zdCBhdHRyID0gYXR0cnNUb1RyeS5wb3AoKTtcbiAgICAgIHN0cmluZyA9IGNvbnRlbnRbYXR0cl07XG4gICAgfVxuICAgIGJ1bmRsZS5hZGRNZXNzYWdlcyhgJHtrZXl9ID0gJHtzdHJpbmd9YCk7XG4gIH0pO1xuICByZXR1cm4gW2J1bmRsZV07XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBMaW5rTWVudSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0xpbmtNZW51L0xpbmtNZW51XCI7XG5pbXBvcnQgeyBDb250ZXh0TWVudUJ1dHRvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51QnV0dG9uXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBEU0xpbmtNZW51IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGluZGV4LCBkaXNwYXRjaCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBUT1BfU1RPUklFU19DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgICAgIFwiQ2hlY2tCb29rbWFya1wiLFxuICAgICAgXCJDaGVja0FyY2hpdmVGcm9tUG9ja2V0XCIsXG4gICAgICAuLi4odGhpcy5wcm9wcy5zYXZlVG9Qb2NrZXRDYXJkXG4gICAgICAgID8gW1wiQ2hlY2tEZWxldGVGcm9tUG9ja2V0XCJdXG4gICAgICAgIDogW1wiQ2hlY2tTYXZlZFRvUG9ja2V0XCJdKSxcbiAgICAgIFwiU2VwYXJhdG9yXCIsXG4gICAgICBcIk9wZW5Jbk5ld1dpbmRvd1wiLFxuICAgICAgXCJPcGVuSW5Qcml2YXRlV2luZG93XCIsXG4gICAgICBcIlNlcGFyYXRvclwiLFxuICAgICAgXCJCbG9ja1VybFwiLFxuICAgICAgLi4uKHRoaXMucHJvcHMuc2hvd1ByaXZhY3lJbmZvID8gW1wiU2hvd1ByaXZhY3lJbmZvXCJdIDogW10pLFxuICAgIF07XG4gICAgY29uc3QgdHlwZSA9IHRoaXMucHJvcHMudHlwZSB8fCBcIkRJU0NPVkVSWV9TVFJFQU1cIjtcbiAgICBjb25zdCB0aXRsZSA9IHRoaXMucHJvcHMudGl0bGUgfHwgdGhpcy5wcm9wcy5zb3VyY2U7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250ZXh0LW1lbnUtcG9zaXRpb24tY29udGFpbmVyXCI+XG4gICAgICAgIDxDb250ZXh0TWVudUJ1dHRvblxuICAgICAgICAgIHRvb2x0aXA9e1wibmV3dGFiLW1lbnUtY29udGVudC10b29sdGlwXCJ9XG4gICAgICAgICAgdG9vbHRpcEFyZ3M9e3sgdGl0bGUgfX1cbiAgICAgICAgICBvblVwZGF0ZT17dGhpcy5wcm9wcy5vbk1lbnVVcGRhdGV9XG4gICAgICAgID5cbiAgICAgICAgICA8TGlua01lbnVcbiAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgIHNvdXJjZT17dHlwZS50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgICAgb25TaG93PXt0aGlzLnByb3BzLm9uTWVudVNob3d9XG4gICAgICAgICAgICBvcHRpb25zPXtUT1BfU1RPUklFU19DT05URVhUX01FTlVfT1BUSU9OU31cbiAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e3RydWV9XG4gICAgICAgICAgICBzaXRlPXt7XG4gICAgICAgICAgICAgIHJlZmVycmVyOiBcImh0dHBzOi8vZ2V0cG9ja2V0LmNvbS9yZWNvbW1lbmRhdGlvbnNcIixcbiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMucHJvcHMudGl0bGUsXG4gICAgICAgICAgICAgIHR5cGU6IHRoaXMucHJvcHMudHlwZSxcbiAgICAgICAgICAgICAgdXJsOiB0aGlzLnByb3BzLnVybCxcbiAgICAgICAgICAgICAgZ3VpZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgICAgICAgcG9ja2V0X2lkOiB0aGlzLnByb3BzLnBvY2tldF9pZCxcbiAgICAgICAgICAgICAgc2hpbTogdGhpcy5wcm9wcy5zaGltLFxuICAgICAgICAgICAgICBib29rbWFya0d1aWQ6IHRoaXMucHJvcHMuYm9va21hcmtHdWlkLFxuICAgICAgICAgICAgICBmbGlnaHRfaWQ6IHRoaXMucHJvcHMuZmxpZ2h0SWQsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvQ29udGV4dE1lbnVCdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBjYXJkQ29udGV4dFR5cGVzIH0gZnJvbSBcIi4uLy4uL0NhcmQvdHlwZXMuanNcIjtcbmltcG9ydCB7IENTU1RyYW5zaXRpb24sIFRyYW5zaXRpb25Hcm91cCB9IGZyb20gXCJyZWFjdC10cmFuc2l0aW9uLWdyb3VwXCI7XG5pbXBvcnQgeyBGbHVlbnRPclRleHQgfSBmcm9tIFwiLi4vLi4vRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dC5qc3hcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuLy8gQW5pbWF0aW9uIHRpbWUgaXMgbWlycm9yZWQgaW4gRFNDb250ZXh0Rm9vdGVyLnNjc3NcbmNvbnN0IEFOSU1BVElPTl9EVVJBVElPTiA9IDMwMDA7XG5cbmV4cG9ydCBjb25zdCBEU01lc3NhZ2VMYWJlbCA9IHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIGNvbnRleHQsXG4gICAgY29udGV4dF90eXBlLFxuICAgIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHMsXG4gICAgZW5nYWdlbWVudCxcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7IGljb24sIGZsdWVudElEIH0gPSBjYXJkQ29udGV4dFR5cGVzW2NvbnRleHRfdHlwZV0gfHwge307XG5cbiAgaWYgKCFjb250ZXh0ICYmIChjb250ZXh0X3R5cGUgfHwgKGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHMgJiYgZW5nYWdlbWVudCkpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUcmFuc2l0aW9uR3JvdXAgY29tcG9uZW50PXtudWxsfT5cbiAgICAgICAgPENTU1RyYW5zaXRpb25cbiAgICAgICAgICBrZXk9e2ZsdWVudElEfVxuICAgICAgICAgIHRpbWVvdXQ9e0FOSU1BVElPTl9EVVJBVElPTn1cbiAgICAgICAgICBjbGFzc05hbWVzPVwic3RvcnktYW5pbWF0ZVwiXG4gICAgICAgID5cbiAgICAgICAgICB7ZW5nYWdlbWVudCAmJiAhY29udGV4dF90eXBlID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdG9yeS12aWV3LWNvdW50XCI+e2VuZ2FnZW1lbnR9PC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxTdGF0dXNNZXNzYWdlIGljb249e2ljb259IGZsdWVudElEPXtmbHVlbnRJRH0gLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L0NTU1RyYW5zaXRpb24+XG4gICAgICA8L1RyYW5zaXRpb25Hcm91cD5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgU3RhdHVzTWVzc2FnZSA9ICh7IGljb24sIGZsdWVudElEIH0pID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJzdGF0dXMtbWVzc2FnZVwiPlxuICAgIDxzcGFuXG4gICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICBjbGFzc05hbWU9e2BzdG9yeS1iYWRnZS1pY29uIGljb24gaWNvbi0ke2ljb259YH1cbiAgICAvPlxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3RvcnktY29udGV4dC1sYWJlbFwiIGRhdGEtbDEwbi1pZD17Zmx1ZW50SUR9IC8+XG4gIDwvZGl2PlxuKTtcblxuZXhwb3J0IGNvbnN0IFNwb25zb3JMYWJlbCA9ICh7XG4gIHNwb25zb3JlZF9ieV9vdmVycmlkZSxcbiAgc3BvbnNvcixcbiAgY29udGV4dCxcbiAgbmV3U3BvbnNvcmVkTGFiZWwsXG59KSA9PiB7XG4gIGNvbnN0IGNsYXNzTGlzdCA9IGBzdG9yeS1zcG9uc29yZWQtbGFiZWwgJHtuZXdTcG9uc29yZWRMYWJlbCB8fCBcIlwifSBjbGFtcGA7XG4gIC8vIElmIG92ZXJyaWRlIGlzIG5vdCBmYWxzZSBvciBhbiBlbXB0eSBzdHJpbmcuXG4gIGlmIChzcG9uc29yZWRfYnlfb3ZlcnJpZGUpIHtcbiAgICByZXR1cm4gPHAgY2xhc3NOYW1lPXtjbGFzc0xpc3R9PntzcG9uc29yZWRfYnlfb3ZlcnJpZGV9PC9wPjtcbiAgfSBlbHNlIGlmIChzcG9uc29yZWRfYnlfb3ZlcnJpZGUgPT09IFwiXCIpIHtcbiAgICAvLyBXZSBzcGVjaWZpY2FsbHkgd2FudCB0byBkaXNwbGF5IG5vdGhpbmcgaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVtcHR5IHN0cmluZy5cbiAgICAvLyBTbyB0aGUgc2VydmVyIGNhbiB0dXJuIG9mZiB0aGUgbGFiZWwuXG4gICAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHRoZSB1c2UgY2FzZXMgd2hlcmUgdGhlIHNwb25zb3JlZCBjb250ZXh0IGlzIGRpc3BsYXllZCBlbHNld2hlcmUuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAoc3BvbnNvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9e2NsYXNzTGlzdH0+XG4gICAgICAgIDxGbHVlbnRPclRleHRcbiAgICAgICAgICBtZXNzYWdlPXt7XG4gICAgICAgICAgICBpZDogYG5ld3RhYi1sYWJlbC1zcG9uc29yZWQtYnlgLFxuICAgICAgICAgICAgdmFsdWVzOiB7IHNwb25zb3IgfSxcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9wPlxuICAgICk7XG4gIH0gZWxzZSBpZiAoY29udGV4dCkge1xuICAgIHJldHVybiA8cCBjbGFzc05hbWU9e2NsYXNzTGlzdH0+e2NvbnRleHR9PC9wPjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjbGFzcyBEU0NvbnRleHRGb290ZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8vIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHMgaXMgYmFzZWQgb24gcHJlZiBgYnJvd3Nlci5uZXd0YWJwYWdlLmFjdGl2aXR5LXN0cmVhbS5kaXNjb3ZlcnlzdHJlYW0uZW5nYWdlbWVudExhYmVsRW5hYmxlZGBcbiAgICBjb25zdCB7XG4gICAgICBjb250ZXh0LFxuICAgICAgY29udGV4dF90eXBlLFxuICAgICAgZW5nYWdlbWVudCxcbiAgICAgIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHMsXG4gICAgICBzcG9uc29yLFxuICAgICAgc3BvbnNvcmVkX2J5X292ZXJyaWRlLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3Qgc3BvbnNvckxhYmVsID0gU3BvbnNvckxhYmVsKHtcbiAgICAgIHNwb25zb3JlZF9ieV9vdmVycmlkZSxcbiAgICAgIHNwb25zb3IsXG4gICAgICBjb250ZXh0LFxuICAgIH0pO1xuICAgIGNvbnN0IGRzTWVzc2FnZUxhYmVsID0gRFNNZXNzYWdlTGFiZWwoe1xuICAgICAgY29udGV4dCxcbiAgICAgIGNvbnRleHRfdHlwZSxcbiAgICAgIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHMsXG4gICAgICBlbmdhZ2VtZW50LFxuICAgIH0pO1xuXG4gICAgaWYgKHNwb25zb3JMYWJlbCB8fCBkc01lc3NhZ2VMYWJlbCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdG9yeS1mb290ZXJcIj5cbiAgICAgICAgICB7c3BvbnNvckxhYmVsfVxuICAgICAgICAgIHtkc01lc3NhZ2VMYWJlbH1cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBEU01lc3NhZ2VGb290ZXIgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBjb250ZXh0LFxuICAgIGNvbnRleHRfdHlwZSxcbiAgICBlbmdhZ2VtZW50LFxuICAgIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHMsXG4gICAgc2F2ZVRvUG9ja2V0Q2FyZCxcbiAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IGRzTWVzc2FnZUxhYmVsID0gRFNNZXNzYWdlTGFiZWwoe1xuICAgIGNvbnRleHQsXG4gICAgY29udGV4dF90eXBlLFxuICAgIGVuZ2FnZW1lbnQsXG4gICAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscyxcbiAgfSk7XG5cbiAgLy8gVGhpcyBjYXNlIGlzIHNwZWNpZmljIGFuZCBhbHJlYWR5IGRpc3BsYXllZCB0byB0aGUgdXNlciBlbHNld2hlcmUuXG4gIGlmICghZHNNZXNzYWdlTGFiZWwgfHwgKHNhdmVUb1BvY2tldENhcmQgJiYgY29udGV4dF90eXBlID09PSBcInBvY2tldFwiKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwic3RvcnktZm9vdGVyXCI+e2RzTWVzc2FnZUxhYmVsfTwvZGl2Pjtcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBEU0ltYWdlIH0gZnJvbSBcIi4uL0RTSW1hZ2UvRFNJbWFnZS5qc3hcIjtcbmltcG9ydCB7IERTTGlua01lbnUgfSBmcm9tIFwiLi4vRFNMaW5rTWVudS9EU0xpbmtNZW51XCI7XG5pbXBvcnQgeyBJbXByZXNzaW9uU3RhdHMgfSBmcm9tIFwiLi4vLi4vRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzL0ltcHJlc3Npb25TdGF0c1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2FmZUFuY2hvciB9IGZyb20gXCIuLi9TYWZlQW5jaG9yL1NhZmVBbmNob3JcIjtcbmltcG9ydCB7XG4gIERTQ29udGV4dEZvb3RlcixcbiAgU3BvbnNvckxhYmVsLFxuICBEU01lc3NhZ2VGb290ZXIsXG59IGZyb20gXCIuLi9EU0NvbnRleHRGb290ZXIvRFNDb250ZXh0Rm9vdGVyLmpzeFwiO1xuaW1wb3J0IHsgRmx1ZW50T3JUZXh0IH0gZnJvbSBcIi4uLy4uL0ZsdWVudE9yVGV4dC9GbHVlbnRPclRleHQuanN4XCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5cbmNvbnN0IFJFQURJTkdfV1BNID0gMjIwO1xuXG4vKipcbiAqIFJFQUQgVElNRSBGUk9NIFdPUkQgQ09VTlRcbiAqIEBwYXJhbSB7aW50fSB3b3JkQ291bnQgbnVtYmVyIG9mIHdvcmRzIGluIGFuIGFydGljbGVcbiAqIEByZXR1cm5zIHtpbnR9IG51bWJlciBvZiB3b3JkcyBwZXIgbWludXRlIGluIG1pbnV0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRUaW1lRnJvbVdvcmRDb3VudCh3b3JkQ291bnQpIHtcbiAgaWYgKCF3b3JkQ291bnQpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIE1hdGguY2VpbChwYXJzZUludCh3b3JkQ291bnQsIDEwKSAvIFJFQURJTkdfV1BNKTtcbn1cblxuZXhwb3J0IGNvbnN0IERTU291cmNlID0gKHtcbiAgc291cmNlLFxuICB0aW1lVG9SZWFkLFxuICBuZXdTcG9uc29yZWRMYWJlbCxcbiAgY29udGV4dCxcbiAgc3BvbnNvcixcbiAgc3BvbnNvcmVkX2J5X292ZXJyaWRlLFxufSkgPT4ge1xuICAvLyBGaXJzdCB0cnkgdG8gZGlzcGxheSBzcG9uc29yZWQgbGFiZWwgb3IgdGltZSB0byByZWFkIGhlcmUuXG4gIGlmIChuZXdTcG9uc29yZWRMYWJlbCkge1xuICAgIC8vIElmIHdlIGNhbiBkaXNwbGF5IHNvbWV0aGluZyBmb3Igc3BvY3MsIGRvIHNvLlxuICAgIGlmIChzcG9uc29yZWRfYnlfb3ZlcnJpZGUgfHwgc3BvbnNvciB8fCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8U3BvbnNvckxhYmVsXG4gICAgICAgICAgY29udGV4dD17Y29udGV4dH1cbiAgICAgICAgICBzcG9uc29yPXtzcG9uc29yfVxuICAgICAgICAgIHNwb25zb3JlZF9ieV9vdmVycmlkZT17c3BvbnNvcmVkX2J5X292ZXJyaWRlfVxuICAgICAgICAgIG5ld1Nwb25zb3JlZExhYmVsPVwibmV3LXNwb25zb3JlZC1sYWJlbFwiXG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIHdlIGFyZSBub3QgYSBzcG9jLCBhbmQgY2FuIGRpc3BsYXkgYSB0aW1lIHRvIHJlYWQgdmFsdWUuXG4gIGlmICh0aW1lVG9SZWFkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cInNvdXJjZSBjbGFtcCB0aW1lLXRvLXJlYWRcIj5cbiAgICAgICAgPEZsdWVudE9yVGV4dFxuICAgICAgICAgIG1lc3NhZ2U9e3tcbiAgICAgICAgICAgIGlkOiBgbmV3dGFiLWxhYmVsLXNvdXJjZS1yZWFkLXRpbWVgLFxuICAgICAgICAgICAgdmFsdWVzOiB7IHNvdXJjZSwgdGltZVRvUmVhZCB9LFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICA8L3A+XG4gICAgKTtcbiAgfVxuXG4gIC8vIE90aGVyd2lzZSBkaXNwbGF5IGEgZGVmYXVsdCBzb3VyY2UuXG4gIHJldHVybiA8cCBjbGFzc05hbWU9XCJzb3VyY2UgY2xhbXBcIj57c291cmNlfTwvcD47XG59O1xuXG4vLyBEZWZhdWx0IE1ldGEgdGhhdCBkaXNwbGF5cyBDVEEgYXMgbGluayBpZiBjdGFfdmFyaWFudCBpbiBsYXlvdXQgaXMgc2V0IGFzIFwibGlua1wiXG5leHBvcnQgY29uc3QgRGVmYXVsdE1ldGEgPSAoe1xuICBkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzLFxuICBzb3VyY2UsXG4gIHRpdGxlLFxuICBleGNlcnB0LFxuICB0aW1lVG9SZWFkLFxuICBuZXdTcG9uc29yZWRMYWJlbCxcbiAgY29udGV4dCxcbiAgY29udGV4dF90eXBlLFxuICBjdGEsXG4gIGVuZ2FnZW1lbnQsXG4gIGN0YV92YXJpYW50LFxuICBzcG9uc29yLFxuICBzcG9uc29yZWRfYnlfb3ZlcnJpZGUsXG4gIHNhdmVUb1BvY2tldENhcmQsXG59KSA9PiAoXG4gIDxkaXYgY2xhc3NOYW1lPVwibWV0YVwiPlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby13cmFwXCI+XG4gICAgICA8RFNTb3VyY2VcbiAgICAgICAgc291cmNlPXtzb3VyY2V9XG4gICAgICAgIHRpbWVUb1JlYWQ9e3RpbWVUb1JlYWR9XG4gICAgICAgIG5ld1Nwb25zb3JlZExhYmVsPXtuZXdTcG9uc29yZWRMYWJlbH1cbiAgICAgICAgY29udGV4dD17Y29udGV4dH1cbiAgICAgICAgc3BvbnNvcj17c3BvbnNvcn1cbiAgICAgICAgc3BvbnNvcmVkX2J5X292ZXJyaWRlPXtzcG9uc29yZWRfYnlfb3ZlcnJpZGV9XG4gICAgICAvPlxuICAgICAgPGhlYWRlciB0aXRsZT17dGl0bGV9IGNsYXNzTmFtZT1cInRpdGxlIGNsYW1wXCI+XG4gICAgICAgIHt0aXRsZX1cbiAgICAgIDwvaGVhZGVyPlxuICAgICAge2V4Y2VycHQgJiYgPHAgY2xhc3NOYW1lPVwiZXhjZXJwdCBjbGFtcFwiPntleGNlcnB0fTwvcD59XG4gICAgICB7Y3RhX3ZhcmlhbnQgPT09IFwibGlua1wiICYmIGN0YSAmJiAoXG4gICAgICAgIDxkaXYgcm9sZT1cImxpbmtcIiBjbGFzc05hbWU9XCJjdGEtbGluayBpY29uIGljb24tYXJyb3dcIiB0YWJJbmRleD1cIjBcIj5cbiAgICAgICAgICB7Y3RhfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICAgeyFuZXdTcG9uc29yZWRMYWJlbCAmJiAoXG4gICAgICA8RFNDb250ZXh0Rm9vdGVyXG4gICAgICAgIGNvbnRleHRfdHlwZT17Y29udGV4dF90eXBlfVxuICAgICAgICBjb250ZXh0PXtjb250ZXh0fVxuICAgICAgICBzcG9uc29yPXtzcG9uc29yfVxuICAgICAgICBzcG9uc29yZWRfYnlfb3ZlcnJpZGU9e3Nwb25zb3JlZF9ieV9vdmVycmlkZX1cbiAgICAgICAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscz17ZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVsc31cbiAgICAgICAgZW5nYWdlbWVudD17ZW5nYWdlbWVudH1cbiAgICAgIC8+XG4gICAgKX1cbiAgICB7LyogU3BvbnNvcmVkIGxhYmVsIGlzIG5vcm1hbGx5IGluIHRoZSB3YXkgb2YgYW55IG1lc3NhZ2UuXG4gICAgICAgIG5ld1Nwb25zb3JlZExhYmVsIGNhcmRzIHNwb25zb3JlZCBsYWJlbCBpcyBtb3ZlZCB0byBqdXN0IHVuZGVyIHRoZSB0aHVtYm5haWwsXG4gICAgICAgIHNvIHdlIGNhbiBkaXNwbGF5IGJvdGgsIHNvIHdlIHNwZWNpZmljYWxseSBkb24ndCBwYXNzIGluIGNvbnRleHQuICovfVxuICAgIHtuZXdTcG9uc29yZWRMYWJlbCAmJiAoXG4gICAgICA8RFNNZXNzYWdlRm9vdGVyXG4gICAgICAgIGNvbnRleHRfdHlwZT17Y29udGV4dF90eXBlfVxuICAgICAgICBjb250ZXh0PXtudWxsfVxuICAgICAgICBkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzPXtkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzfVxuICAgICAgICBlbmdhZ2VtZW50PXtlbmdhZ2VtZW50fVxuICAgICAgICBzYXZlVG9Qb2NrZXRDYXJkPXtzYXZlVG9Qb2NrZXRDYXJkfVxuICAgICAgLz5cbiAgICApfVxuICA8L2Rpdj5cbik7XG5cbmV4cG9ydCBjb25zdCBDVEFCdXR0b25NZXRhID0gKHtcbiAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscyxcbiAgc291cmNlLFxuICB0aXRsZSxcbiAgZXhjZXJwdCxcbiAgY29udGV4dCxcbiAgY29udGV4dF90eXBlLFxuICBjdGEsXG4gIGVuZ2FnZW1lbnQsXG4gIHNwb25zb3IsXG4gIHNwb25zb3JlZF9ieV9vdmVycmlkZSxcbn0pID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJtZXRhXCI+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXdyYXBcIj5cbiAgICAgIDxwIGNsYXNzTmFtZT1cInNvdXJjZSBjbGFtcFwiPlxuICAgICAgICB7Y29udGV4dCAmJiAoXG4gICAgICAgICAgPEZsdWVudE9yVGV4dFxuICAgICAgICAgICAgbWVzc2FnZT17e1xuICAgICAgICAgICAgICBpZDogYG5ld3RhYi1sYWJlbC1zcG9uc29yZWRgLFxuICAgICAgICAgICAgICB2YWx1ZXM6IHsgc3BvbnNvck9yU291cmNlOiBzcG9uc29yID8gc3BvbnNvciA6IHNvdXJjZSB9LFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuXG4gICAgICAgIHshY29udGV4dCAmJiAoc3BvbnNvciA/IHNwb25zb3IgOiBzb3VyY2UpfVxuICAgICAgPC9wPlxuICAgICAgPGhlYWRlciB0aXRsZT17dGl0bGV9IGNsYXNzTmFtZT1cInRpdGxlIGNsYW1wXCI+XG4gICAgICAgIHt0aXRsZX1cbiAgICAgIDwvaGVhZGVyPlxuICAgICAge2V4Y2VycHQgJiYgPHAgY2xhc3NOYW1lPVwiZXhjZXJwdCBjbGFtcFwiPntleGNlcnB0fTwvcD59XG4gICAgPC9kaXY+XG4gICAge2NvbnRleHQgJiYgY3RhICYmIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uIGN0YS1idXR0b25cIj57Y3RhfTwvYnV0dG9uPn1cbiAgICB7IWNvbnRleHQgJiYgKFxuICAgICAgPERTQ29udGV4dEZvb3RlclxuICAgICAgICBjb250ZXh0X3R5cGU9e2NvbnRleHRfdHlwZX1cbiAgICAgICAgY29udGV4dD17Y29udGV4dH1cbiAgICAgICAgc3BvbnNvcj17c3BvbnNvcn1cbiAgICAgICAgc3BvbnNvcmVkX2J5X292ZXJyaWRlPXtzcG9uc29yZWRfYnlfb3ZlcnJpZGV9XG4gICAgICAgIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHM9e2Rpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHN9XG4gICAgICAgIGVuZ2FnZW1lbnQ9e2VuZ2FnZW1lbnR9XG4gICAgICAvPlxuICAgICl9XG4gIDwvZGl2PlxuKTtcblxuZXhwb3J0IGNsYXNzIF9EU0NhcmQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLm9uTGlua0NsaWNrID0gdGhpcy5vbkxpbmtDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TYXZlQ2xpY2sgPSB0aGlzLm9uU2F2ZUNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1lbnVVcGRhdGUgPSB0aGlzLm9uTWVudVVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZW51U2hvdyA9IHRoaXMub25NZW51U2hvdy5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5zZXRDb250ZXh0TWVudUJ1dHRvbkhvc3RSZWYgPSBlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMuY29udGV4dE1lbnVCdXR0b25Ib3N0RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfTtcbiAgICB0aGlzLnNldFBsYWNlaG9sZGVyUmVmID0gZWxlbWVudCA9PiB7XG4gICAgICB0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1NlZW46IGZhbHNlLFxuICAgIH07XG5cbiAgICAvLyBJZiB0aGlzIGlzIGZvciB0aGUgYWJvdXQ6aG9tZSBzdGFydHVwIGNhY2hlLCB0aGVuIHdlIGFsd2F5cyB3YW50XG4gICAgLy8gdG8gcmVuZGVyIHRoZSBEU0NhcmQsIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciBvciBub3QgaXRzIGJlZW4gc2Vlbi5cbiAgICBpZiAocHJvcHMuQXBwLmlzRm9yU3RhcnR1cENhY2hlKSB7XG4gICAgICB0aGlzLnN0YXRlLmlzU2VlbiA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gV2Ugd2FudCB0byBjaG9vc2UgdGhlIG9wdGltYWwgdGh1bWJuYWlsIGZvciB0aGUgdW5kZXJseWluZyBEU0ltYWdlLCBidXRcbiAgICAvLyB3YW50IHRvIGRvIGl0IGluIGEgcGVyZm9ybWFudCB3YXkuIFRoZSBicmVha3BvaW50cyB1c2VkIGluIHRoZVxuICAgIC8vIENTUyBvZiB0aGUgcGFnZSBhcmUsIHVuZm9ydHVudGVseSwgbm90IGVhc3kgdG8gcmV0cmlldmUgd2l0aG91dFxuICAgIC8vIGNhdXNpbmcgYSBzdHlsZSBmbHVzaC4gVG8gYXZvaWQgdGhhdCwgd2UgaGFyZGNvZGUgdGhlbSBoZXJlLlxuICAgIC8vXG4gICAgLy8gVGhlIHZhbHVlcyBjaG9zZW4gaGVyZSB3ZXJlIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBjYXJkIHRodW1ibmFpbHMgYXNcbiAgICAvLyBjb21wdXRlZCBieSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSBmb3IgZWFjaCB0eXBlIG9mIHZpZXdwb3J0IHdpZHRoXG4gICAgLy8gYWNyb3NzIGJvdGggaGlnaC1kZW5zaXR5IGFuZCBub3JtYWwtZGVuc2l0eSBkaXNwbGF5cy5cbiAgICB0aGlzLmRzSW1hZ2VTaXplcyA9IFtcbiAgICAgIHtcbiAgICAgICAgbWVkaWFNYXRjaGVyOiBcIihtaW4td2lkdGg6IDExMjJweClcIixcbiAgICAgICAgd2lkdGg6IDI5NixcbiAgICAgICAgaGVpZ2h0OiAxNDgsXG4gICAgICB9LFxuXG4gICAgICB7XG4gICAgICAgIG1lZGlhTWF0Y2hlcjogXCIobWluLXdpZHRoOiA4NjZweClcIixcbiAgICAgICAgd2lkdGg6IDIxOCxcbiAgICAgICAgaGVpZ2h0OiAxMDksXG4gICAgICB9LFxuXG4gICAgICB7XG4gICAgICAgIG1lZGlhTWF0Y2hlcjogXCIobWF4LXdpZHRoOiA2MTBweClcIixcbiAgICAgICAgd2lkdGg6IDIwMixcbiAgICAgICAgaGVpZ2h0OiAxMDEsXG4gICAgICB9LFxuICAgIF07XG4gIH1cblxuICBvbkxpbmtDbGljayhldmVudCkge1xuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICAgIGV2ZW50OiBcIkNMSUNLXCIsXG4gICAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLmlzX3ZpZGVvXG4gICAgICAgICAgICA/IFwiQ0FSREdSSURfVklERU9cIlxuICAgICAgICAgICAgOiB0aGlzLnByb3BzLnR5cGUudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMucG9zLFxuICAgICAgICAgIHZhbHVlOiB7IGNhcmRfdHlwZTogdGhpcy5wcm9wcy5mbGlnaHRJZCA/IFwic3BvY1wiIDogXCJvcmdhbmljXCIgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkltcHJlc3Npb25TdGF0cyh7XG4gICAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLmlzX3ZpZGVvXG4gICAgICAgICAgICA/IFwiQ0FSREdSSURfVklERU9cIlxuICAgICAgICAgICAgOiB0aGlzLnByb3BzLnR5cGUudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICBjbGljazogMCxcbiAgICAgICAgICB0aWxlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgICAgICAgcG9zOiB0aGlzLnByb3BzLnBvcyxcbiAgICAgICAgICAgICAgLi4uKHRoaXMucHJvcHMuc2hpbSAmJiB0aGlzLnByb3BzLnNoaW0uY2xpY2tcbiAgICAgICAgICAgICAgICA/IHsgc2hpbTogdGhpcy5wcm9wcy5zaGltLmNsaWNrIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgb25TYXZlQ2xpY2soZXZlbnQpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNwYXRjaCkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuU0FWRV9UT19QT0NLRVQsXG4gICAgICAgICAgZGF0YTogeyBzaXRlOiB7IHVybDogdGhpcy5wcm9wcy51cmwsIHRpdGxlOiB0aGlzLnByb3BzLnRpdGxlIH0gfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgICAgZXZlbnQ6IFwiU0FWRV9UT19QT0NLRVRcIixcbiAgICAgICAgICBzb3VyY2U6IFwiQ0FSREdSSURfSE9WRVJcIixcbiAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMucG9zLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICBzb3VyY2U6IFwiQ0FSREdSSURfSE9WRVJcIixcbiAgICAgICAgICBwb2NrZXQ6IDAsXG4gICAgICAgICAgdGlsZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgICAgIHBvczogdGhpcy5wcm9wcy5wb3MsXG4gICAgICAgICAgICAgIC4uLih0aGlzLnByb3BzLnNoaW0gJiYgdGhpcy5wcm9wcy5zaGltLnNhdmVcbiAgICAgICAgICAgICAgICA/IHsgc2hpbTogdGhpcy5wcm9wcy5zaGltLnNhdmUgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBvbk1lbnVVcGRhdGUoc2hvd0NvbnRleHRNZW51KSB7XG4gICAgaWYgKCFzaG93Q29udGV4dE1lbnUpIHtcbiAgICAgIGNvbnN0IGRzTGlua01lbnVIb3N0RGl2ID0gdGhpcy5jb250ZXh0TWVudUJ1dHRvbkhvc3RFbGVtZW50O1xuICAgICAgaWYgKGRzTGlua01lbnVIb3N0RGl2KSB7XG4gICAgICAgIGRzTGlua01lbnVIb3N0RGl2LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIiwgXCJsYXN0LWl0ZW1cIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgb25NZW51U2hvdygpIHtcbiAgICBjb25zdCBkc0xpbmtNZW51SG9zdERpdiA9IHRoaXMuY29udGV4dE1lbnVCdXR0b25Ib3N0RWxlbWVudDtcbiAgICBpZiAoZHNMaW5rTWVudUhvc3REaXYpIHtcbiAgICAgIC8vIEZvcmNlIHRyYW5zbGF0aW9uIHNvIHdlIGNhbiBiZSBzdXJlIGl0J3MgcmVhZHkgYmVmb3JlIG1lYXN1cmluZy5cbiAgICAgIGF3YWl0IHRoaXMucHJvcHMud2luZG93T2JqLmRvY3VtZW50LmwxMG4udHJhbnNsYXRlRnJhZ21lbnQoXG4gICAgICAgIGRzTGlua01lbnVIb3N0RGl2XG4gICAgICApO1xuICAgICAgaWYgKHRoaXMucHJvcHMud2luZG93T2JqLnNjcm9sbE1heFggPiAwKSB7XG4gICAgICAgIGRzTGlua01lbnVIb3N0RGl2LmNsYXNzTGlzdC5hZGQoXCJsYXN0LWl0ZW1cIik7XG4gICAgICB9XG4gICAgICBkc0xpbmtNZW51SG9zdERpdi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgIH1cbiAgfVxuXG4gIG9uU2VlbihlbnRyaWVzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllcy5maW5kKGUgPT4gZS5pc0ludGVyc2VjdGluZyk7XG5cbiAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICBpZiAodGhpcy5wbGFjZWhvbGRlckVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLm9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdG9wIG9ic2VydmluZyBzaW5jZSBlbGVtZW50IGhhcyBiZWVuIHNlZW5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNTZWVuOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvbklkbGVDYWxsYmFjaygpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNTZWVuKSB7XG4gICAgICBpZiAodGhpcy5vYnNlcnZlciAmJiB0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCkge1xuICAgICAgICB0aGlzLm9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNTZWVuOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5pZGxlQ2FsbGJhY2tJZCA9IHRoaXMucHJvcHMud2luZG93T2JqLnJlcXVlc3RJZGxlQ2FsbGJhY2soXG4gICAgICB0aGlzLm9uSWRsZUNhbGxiYWNrLmJpbmQodGhpcylcbiAgICApO1xuICAgIGlmICh0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCkge1xuICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcih0aGlzLm9uU2Vlbi5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgLy8gUmVtb3ZlIG9ic2VydmVyIG9uIHVubW91bnRcbiAgICBpZiAodGhpcy5vYnNlcnZlciAmJiB0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCkge1xuICAgICAgdGhpcy5vYnNlcnZlci51bm9ic2VydmUodGhpcy5wbGFjZWhvbGRlckVsZW1lbnQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pZGxlQ2FsbGJhY2tJZCkge1xuICAgICAgdGhpcy5wcm9wcy53aW5kb3dPYmouY2FuY2VsSWRsZUNhbGxiYWNrKHRoaXMuaWRsZUNhbGxiYWNrSWQpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wbGFjZWhvbGRlciB8fCAhdGhpcy5zdGF0ZS5pc1NlZW4pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtY2FyZCBwbGFjZWhvbGRlclwiIHJlZj17dGhpcy5zZXRQbGFjZWhvbGRlclJlZn0gLz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMubGFzdENhcmQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtY2FyZCBsYXN0LWNhcmQtbWVzc2FnZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW1nLXdyYXBwZXJcIj5cbiAgICAgICAgICAgIDxwaWN0dXJlIGNsYXNzTmFtZT1cImRzLWltYWdlIGltZyBsb2FkZWRcIj5cbiAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtbGFzdC1jYXJkLWltYWdlXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsYXN0LWNhcmQtbWVzc2FnZS1pbWFnZVwiXG4gICAgICAgICAgICAgICAgc3JjPVwiY2hyb21lOi8vYWN0aXZpdHktc3RyZWFtL2NvbnRlbnQvZGF0YS9jb250ZW50L2Fzc2V0cy9jYXVnaHQtdXAtaWxsdXN0cmF0aW9uLnN2Z1wiXG4gICAgICAgICAgICAgICAgYWx0PVwiWW914oCZcmUgYWxsIGNhdWdodCB1cFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L3BpY3R1cmU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXRhXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8td3JhcFwiPlxuICAgICAgICAgICAgICA8aGVhZGVyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGl0bGUgY2xhbXBcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtbGFzdC1jYXJkLXRpdGxlXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcy1sYXN0LWNhcmQtZGVzY1wiXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXBvY2tldC1sYXN0LWNhcmQtZGVzY1wiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBpc0J1dHRvbkNUQSA9IHRoaXMucHJvcHMuY3RhX3ZhcmlhbnQgPT09IFwiYnV0dG9uXCI7XG5cbiAgICBjb25zdCB7XG4gICAgICBpc192aWRlbyxcbiAgICAgIHNhdmVUb1BvY2tldENhcmQsXG4gICAgICBoaWRlRGVzY3JpcHRpb25zLFxuICAgICAgY29tcGFjdEltYWdlcyxcbiAgICAgIGltYWdlR3JhZGllbnQsXG4gICAgICB0aXRsZUxpbmVzID0gMyxcbiAgICAgIGRlc2NMaW5lcyA9IDMsXG4gICAgICBkaXNwbGF5UmVhZFRpbWUsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgZXhjZXJwdCA9ICFoaWRlRGVzY3JpcHRpb25zID8gdGhpcy5wcm9wcy5leGNlcnB0IDogXCJcIjtcblxuICAgIGxldCB0aW1lVG9SZWFkO1xuICAgIGlmIChkaXNwbGF5UmVhZFRpbWUpIHtcbiAgICAgIHRpbWVUb1JlYWQgPVxuICAgICAgICB0aGlzLnByb3BzLnRpbWVfdG9fcmVhZCB8fCByZWFkVGltZUZyb21Xb3JkQ291bnQodGhpcy5wcm9wcy53b3JkX2NvdW50KTtcbiAgICB9XG5cbiAgICBjb25zdCB2aWRlb0NhcmRDbGFzc05hbWUgPSBpc192aWRlbyA/IGB2aWRlby1jYXJkYCA6IGBgO1xuICAgIGNvbnN0IGNvbXBhY3RJbWFnZXNDbGFzc05hbWUgPSBjb21wYWN0SW1hZ2VzID8gYGRzLWNhcmQtY29tcGFjdC1pbWFnZWAgOiBgYDtcbiAgICBjb25zdCBpbWFnZUdyYWRpZW50Q2xhc3NOYW1lID0gaW1hZ2VHcmFkaWVudFxuICAgICAgPyBgZHMtY2FyZC1pbWFnZS1ncmFkaWVudGBcbiAgICAgIDogYGA7XG4gICAgY29uc3QgdGl0bGVMaW5lc05hbWUgPSBgZHMtY2FyZC10aXRsZS1saW5lcy0ke3RpdGxlTGluZXN9YDtcbiAgICBjb25zdCBkZXNjTGluZXNDbGFzc05hbWUgPSBgZHMtY2FyZC1kZXNjLWxpbmVzLSR7ZGVzY0xpbmVzfWA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2Bkcy1jYXJkICR7dmlkZW9DYXJkQ2xhc3NOYW1lfSAke3ZpZGVvQ2FyZENsYXNzTmFtZX0gJHtjb21wYWN0SW1hZ2VzQ2xhc3NOYW1lfSAke2ltYWdlR3JhZGllbnRDbGFzc05hbWV9ICR7dGl0bGVMaW5lc05hbWV9ICR7ZGVzY0xpbmVzQ2xhc3NOYW1lfWB9XG4gICAgICAgIHJlZj17dGhpcy5zZXRDb250ZXh0TWVudUJ1dHRvbkhvc3RSZWZ9XG4gICAgICA+XG4gICAgICAgIDxTYWZlQW5jaG9yXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZHMtY2FyZC1saW5rXCJcbiAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICBvbkxpbmtDbGljaz17IXRoaXMucHJvcHMucGxhY2Vob2xkZXIgPyB0aGlzLm9uTGlua0NsaWNrIDogdW5kZWZpbmVkfVxuICAgICAgICAgIHVybD17dGhpcy5wcm9wcy51cmx9XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImltZy13cmFwcGVyXCI+XG4gICAgICAgICAgICA8RFNJbWFnZVxuICAgICAgICAgICAgICBleHRyYUNsYXNzTmFtZXM9XCJpbWdcIlxuICAgICAgICAgICAgICBzb3VyY2U9e3RoaXMucHJvcHMuaW1hZ2Vfc3JjfVxuICAgICAgICAgICAgICByYXdTb3VyY2U9e3RoaXMucHJvcHMucmF3X2ltYWdlX3NyY31cbiAgICAgICAgICAgICAgc2l6ZXM9e3RoaXMuZHNJbWFnZVNpemVzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmlzX3ZpZGVvICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwbGF5aGVhZFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPlZpZGVvIENvbnRlbnQ8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7aXNCdXR0b25DVEEgPyAoXG4gICAgICAgICAgICA8Q1RBQnV0dG9uTWV0YVxuICAgICAgICAgICAgICBkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzPXt0aGlzLnByb3BzLmRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHN9XG4gICAgICAgICAgICAgIHNvdXJjZT17dGhpcy5wcm9wcy5zb3VyY2V9XG4gICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLnRpdGxlfVxuICAgICAgICAgICAgICBleGNlcnB0PXtleGNlcnB0fVxuICAgICAgICAgICAgICB0aW1lVG9SZWFkPXt0aW1lVG9SZWFkfVxuICAgICAgICAgICAgICBjb250ZXh0PXt0aGlzLnByb3BzLmNvbnRleHR9XG4gICAgICAgICAgICAgIGNvbnRleHRfdHlwZT17dGhpcy5wcm9wcy5jb250ZXh0X3R5cGV9XG4gICAgICAgICAgICAgIGVuZ2FnZW1lbnQ9e3RoaXMucHJvcHMuZW5nYWdlbWVudH1cbiAgICAgICAgICAgICAgY3RhPXt0aGlzLnByb3BzLmN0YX1cbiAgICAgICAgICAgICAgc3BvbnNvcj17dGhpcy5wcm9wcy5zcG9uc29yfVxuICAgICAgICAgICAgICBzcG9uc29yZWRfYnlfb3ZlcnJpZGU9e3RoaXMucHJvcHMuc3BvbnNvcmVkX2J5X292ZXJyaWRlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPERlZmF1bHRNZXRhXG4gICAgICAgICAgICAgIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHM9e3RoaXMucHJvcHMuZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVsc31cbiAgICAgICAgICAgICAgc291cmNlPXt0aGlzLnByb3BzLnNvdXJjZX1cbiAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9XG4gICAgICAgICAgICAgIGV4Y2VycHQ9e2V4Y2VycHR9XG4gICAgICAgICAgICAgIG5ld1Nwb25zb3JlZExhYmVsPXt0aGlzLnByb3BzLm5ld1Nwb25zb3JlZExhYmVsfVxuICAgICAgICAgICAgICB0aW1lVG9SZWFkPXt0aW1lVG9SZWFkfVxuICAgICAgICAgICAgICBjb250ZXh0PXt0aGlzLnByb3BzLmNvbnRleHR9XG4gICAgICAgICAgICAgIGVuZ2FnZW1lbnQ9e3RoaXMucHJvcHMuZW5nYWdlbWVudH1cbiAgICAgICAgICAgICAgY29udGV4dF90eXBlPXt0aGlzLnByb3BzLmNvbnRleHRfdHlwZX1cbiAgICAgICAgICAgICAgY3RhPXt0aGlzLnByb3BzLmN0YX1cbiAgICAgICAgICAgICAgY3RhX3ZhcmlhbnQ9e3RoaXMucHJvcHMuY3RhX3ZhcmlhbnR9XG4gICAgICAgICAgICAgIHNwb25zb3I9e3RoaXMucHJvcHMuc3BvbnNvcn1cbiAgICAgICAgICAgICAgc3BvbnNvcmVkX2J5X292ZXJyaWRlPXt0aGlzLnByb3BzLnNwb25zb3JlZF9ieV9vdmVycmlkZX1cbiAgICAgICAgICAgICAgc2F2ZVRvUG9ja2V0Q2FyZD17c2F2ZVRvUG9ja2V0Q2FyZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8SW1wcmVzc2lvblN0YXRzXG4gICAgICAgICAgICBmbGlnaHRJZD17dGhpcy5wcm9wcy5mbGlnaHRJZH1cbiAgICAgICAgICAgIHJvd3M9e1tcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICAgICAgICAgIHBvczogdGhpcy5wcm9wcy5wb3MsXG4gICAgICAgICAgICAgICAgLi4uKHRoaXMucHJvcHMuc2hpbSAmJiB0aGlzLnByb3BzLnNoaW0uaW1wcmVzc2lvblxuICAgICAgICAgICAgICAgICAgPyB7IHNoaW06IHRoaXMucHJvcHMuc2hpbS5pbXByZXNzaW9uIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXX1cbiAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgc291cmNlPXt0aGlzLnByb3BzLmlzX3ZpZGVvID8gXCJDQVJER1JJRF9WSURFT1wiIDogdGhpcy5wcm9wcy50eXBlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvU2FmZUFuY2hvcj5cbiAgICAgICAge3NhdmVUb1BvY2tldENhcmQgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1zdHAtYnV0dG9uLWhvdmVyLWJhY2tncm91bmRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1zdHAtYnV0dG9uLXBvc2l0aW9uLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJjYXJkLXN0cC1idXR0b25cIiBvbkNsaWNrPXt0aGlzLm9uU2F2ZUNsaWNrfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jb250ZXh0X3R5cGUgPT09IFwicG9ja2V0XCIgPyAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdG9yeS1iYWRnZS1pY29uIGljb24gaWNvbi1wb2NrZXRcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcG9ja2V0LXNhdmVkLXRvLXBvY2tldFwiIC8+XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RvcnktYmFkZ2UtaWNvbiBpY29uIGljb24tcG9ja2V0LXNhdmVcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcG9ja2V0LXNhdmUtdG8tcG9ja2V0XCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8RFNMaW5rTWVudVxuICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkfVxuICAgICAgICAgICAgICAgIGluZGV4PXt0aGlzLnByb3BzLnBvc31cbiAgICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgICB1cmw9e3RoaXMucHJvcHMudXJsfVxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLnRpdGxlfVxuICAgICAgICAgICAgICAgIHNvdXJjZT17dGhpcy5wcm9wcy5zb3VyY2V9XG4gICAgICAgICAgICAgICAgdHlwZT17dGhpcy5wcm9wcy50eXBlfVxuICAgICAgICAgICAgICAgIHBvY2tldF9pZD17dGhpcy5wcm9wcy5wb2NrZXRfaWR9XG4gICAgICAgICAgICAgICAgc2hpbT17dGhpcy5wcm9wcy5zaGltfVxuICAgICAgICAgICAgICAgIGJvb2ttYXJrR3VpZD17dGhpcy5wcm9wcy5ib29rbWFya0d1aWR9XG4gICAgICAgICAgICAgICAgZmxpZ2h0SWQ9e1xuICAgICAgICAgICAgICAgICAgIXRoaXMucHJvcHMuaXNfY29sbGVjdGlvbiA/IHRoaXMucHJvcHMuZmxpZ2h0SWQgOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2hvd1ByaXZhY3lJbmZvPXshIXRoaXMucHJvcHMuZmxpZ2h0SWR9XG4gICAgICAgICAgICAgICAgb25NZW51VXBkYXRlPXt0aGlzLm9uTWVudVVwZGF0ZX1cbiAgICAgICAgICAgICAgICBvbk1lbnVTaG93PXt0aGlzLm9uTWVudVNob3d9XG4gICAgICAgICAgICAgICAgc2F2ZVRvUG9ja2V0Q2FyZD17c2F2ZVRvUG9ja2V0Q2FyZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICB7IXNhdmVUb1BvY2tldENhcmQgJiYgKFxuICAgICAgICAgIDxEU0xpbmtNZW51XG4gICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZH1cbiAgICAgICAgICAgIGluZGV4PXt0aGlzLnByb3BzLnBvc31cbiAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgdXJsPXt0aGlzLnByb3BzLnVybH1cbiAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLnRpdGxlfVxuICAgICAgICAgICAgc291cmNlPXt0aGlzLnByb3BzLnNvdXJjZX1cbiAgICAgICAgICAgIHR5cGU9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgICAgIHBvY2tldF9pZD17dGhpcy5wcm9wcy5wb2NrZXRfaWR9XG4gICAgICAgICAgICBzaGltPXt0aGlzLnByb3BzLnNoaW19XG4gICAgICAgICAgICBib29rbWFya0d1aWQ9e3RoaXMucHJvcHMuYm9va21hcmtHdWlkfVxuICAgICAgICAgICAgZmxpZ2h0SWQ9e1xuICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5pc19jb2xsZWN0aW9uID8gdGhpcy5wcm9wcy5mbGlnaHRJZCA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hvd1ByaXZhY3lJbmZvPXshIXRoaXMucHJvcHMuZmxpZ2h0SWR9XG4gICAgICAgICAgICBob3N0UmVmPXt0aGlzLmNvbnRleHRNZW51QnV0dG9uSG9zdFJlZn1cbiAgICAgICAgICAgIG9uTWVudVVwZGF0ZT17dGhpcy5vbk1lbnVVcGRhdGV9XG4gICAgICAgICAgICBvbk1lbnVTaG93PXt0aGlzLm9uTWVudVNob3d9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuX0RTQ2FyZC5kZWZhdWx0UHJvcHMgPSB7XG4gIHdpbmRvd09iajogd2luZG93LCAvLyBBZGRlZCB0byBzdXBwb3J0IHVuaXQgdGVzdHNcbn07XG5cbmV4cG9ydCBjb25zdCBEU0NhcmQgPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIEFwcDogc3RhdGUuQXBwLFxufSkpKF9EU0NhcmQpO1xuXG5leHBvcnQgY29uc3QgUGxhY2Vob2xkZXJEU0NhcmQgPSBwcm9wcyA9PiA8RFNDYXJkIHBsYWNlaG9sZGVyPXt0cnVlfSAvPjtcbmV4cG9ydCBjb25zdCBMYXN0Q2FyZE1lc3NhZ2UgPSBwcm9wcyA9PiA8RFNDYXJkIGxhc3RDYXJkPXt0cnVlfSAvPjtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIERTRW1wdHlTdGF0ZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uUmVzZXQgPSB0aGlzLm9uUmVzZXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0ge307XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgICB9XG4gIH1cblxuICBvblJlc2V0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoICYmIHRoaXMucHJvcHMuZmVlZCkge1xuICAgICAgY29uc3QgeyBmZWVkIH0gPSB0aGlzLnByb3BzO1xuICAgICAgY29uc3QgeyB1cmwgfSA9IGZlZWQ7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogYXQuRElTQ09WRVJZX1NUUkVBTV9GRUVEX1VQREFURSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGZlZWQ6IHtcbiAgICAgICAgICAgIC4uLmZlZWQsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIC4uLmZlZWQuZGF0YSxcbiAgICAgICAgICAgICAgc3RhdHVzOiBcIndhaXRpbmdcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB1cmwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHdhaXRpbmc6IHRydWUgfSk7XG4gICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgd2FpdGluZzogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgfSwgMzAwKTtcblxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7IHR5cGU6IGF0LkRJU0NPVkVSWV9TVFJFQU1fUkVUUllfRkVFRCwgZGF0YTogeyBmZWVkIH0gfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnN0YXR1cyA9PT0gXCJ3YWl0aW5nXCIgfHwgdGhpcy5zdGF0ZS53YWl0aW5nKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwidHJ5LWFnYWluLWJ1dHRvbiB3YWl0aW5nXCJcbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItZGlzY292ZXJ5LWVtcHR5LXNlY3Rpb24tdG9wc3Rvcmllcy1sb2FkaW5nXCJcbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwidHJ5LWFnYWluLWJ1dHRvblwiXG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25SZXNldH1cbiAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWRpc2NvdmVyeS1lbXB0eS1zZWN0aW9uLXRvcHN0b3JpZXMtdHJ5LWFnYWluLWJ1dHRvblwiXG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJTdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zdGF0dXMgPT09IFwid2FpdGluZ1wiIHx8IHRoaXMucHJvcHMuc3RhdHVzID09PSBcImZhaWxlZFwiKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgPGgyIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kaXNjb3ZlcnktZW1wdHktc2VjdGlvbi10b3BzdG9yaWVzLXRpbWVkLW91dFwiIC8+XG4gICAgICAgICAge3RoaXMucmVuZGVyQnV0dG9uKCl9XG4gICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxoMiBkYXRhLWwxMG4taWQ9XCJuZXd0YWItZGlzY292ZXJ5LWVtcHR5LXNlY3Rpb24tdG9wc3Rvcmllcy1oZWFkZXJcIiAvPlxuICAgICAgICA8cCBkYXRhLWwxMG4taWQ9XCJuZXd0YWItZGlzY292ZXJ5LWVtcHR5LXNlY3Rpb24tdG9wc3Rvcmllcy1jb250ZW50XCIgLz5cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLWVtcHR5LXN0YXRlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZW1wdHktc3RhdGUtbWVzc2FnZVwiPnt0aGlzLnJlbmRlclN0YXRlKCl9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQge1xuICBEU0NhcmQsXG4gIFBsYWNlaG9sZGVyRFNDYXJkLFxuICBMYXN0Q2FyZE1lc3NhZ2UsXG59IGZyb20gXCIuLi9EU0NhcmQvRFNDYXJkLmpzeFwiO1xuaW1wb3J0IHsgRFNFbXB0eVN0YXRlIH0gZnJvbSBcIi4uL0RTRW1wdHlTdGF0ZS9EU0VtcHR5U3RhdGUuanN4XCI7XG5pbXBvcnQgeyBGbHVlbnRPclRleHQgfSBmcm9tIFwiLi4vLi4vRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dC5qc3hcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgQ2FyZEdyaWQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgbW9yZUxvYWRlZDogZmFsc2UgfTtcbiAgICB0aGlzLmxvYWRNb3JlQ2xpY2tlZCA9IHRoaXMubG9hZE1vcmVDbGlja2VkLmJpbmQodGhpcyk7XG4gIH1cblxuICBsb2FkTW9yZUNsaWNrZWQoKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgIGV2ZW50OiBcIkNMSUNLXCIsXG4gICAgICAgIHNvdXJjZTogXCJEU19MT0FEX01PUkVfQlVUVE9OXCIsXG4gICAgICB9KVxuICAgICk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IG1vcmVMb2FkZWQ6IHRydWUgfSk7XG4gIH1cblxuICBnZXQgc2hvd0xvYWRNb3JlKCkge1xuICAgIGNvbnN0IHsgbG9hZE1vcmVFbmFibGVkLCBkYXRhLCBsb2FkTW9yZVRocmVzaG9sZCB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gKFxuICAgICAgbG9hZE1vcmVFbmFibGVkICYmXG4gICAgICBkYXRhLnJlY29tbWVuZGF0aW9ucy5sZW5ndGggPiBsb2FkTW9yZVRocmVzaG9sZCAmJlxuICAgICAgIXRoaXMuc3RhdGUubW9yZUxvYWRlZFxuICAgICk7XG4gIH1cblxuICByZW5kZXJEU1N1YkhlYWRlcih0aXRsZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tdG9wLWJhciBkcy1zdWItaGVhZGVyXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGVcIj5cbiAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17dGl0bGV9IC8+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2gzPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckNhcmRzKCkge1xuICAgIGxldCB7IGl0ZW1zLCBjb21wYWN0IH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtcbiAgICAgIGhpZGVEZXNjcmlwdGlvbnMsXG4gICAgICBsYXN0Q2FyZE1lc3NhZ2VFbmFibGVkLFxuICAgICAgc2F2ZVRvUG9ja2V0Q2FyZCxcbiAgICAgIGxvYWRNb3JlVGhyZXNob2xkLFxuICAgICAgY29tcGFjdEdyaWQsXG4gICAgICBjb21wYWN0SW1hZ2VzLFxuICAgICAgaW1hZ2VHcmFkaWVudCxcbiAgICAgIG5ld1Nwb25zb3JlZExhYmVsLFxuICAgICAgdGl0bGVMaW5lcyxcbiAgICAgIGRlc2NMaW5lcyxcbiAgICAgIHJlYWRUaW1lLFxuICAgICAgZXNzZW50aWFsUmVhZHNIZWFkZXIsXG4gICAgICBlZGl0b3JzUGlja3NIZWFkZXIsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IHNob3dMYXN0Q2FyZE1lc3NhZ2UgPSBsYXN0Q2FyZE1lc3NhZ2VFbmFibGVkO1xuICAgIGlmICh0aGlzLnNob3dMb2FkTW9yZSkge1xuICAgICAgaXRlbXMgPSBsb2FkTW9yZVRocmVzaG9sZDtcbiAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gc2hvdyB0aGlzIHVudGlsIGFmdGVyIGxvYWQgbW9yZSBoYXMgYmVlbiBjbGlja2VkLlxuICAgICAgc2hvd0xhc3RDYXJkTWVzc2FnZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHJlY3MgPSB0aGlzLnByb3BzLmRhdGEucmVjb21tZW5kYXRpb25zLnNsaWNlKDAsIGl0ZW1zKTtcbiAgICBjb25zdCBjYXJkcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW1zOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCByZWMgPSByZWNzW2luZGV4XTtcbiAgICAgIGNhcmRzLnB1c2goXG4gICAgICAgICFyZWMgfHwgcmVjLnBsYWNlaG9sZGVyID8gKFxuICAgICAgICAgIDxQbGFjZWhvbGRlckRTQ2FyZCBrZXk9e2Bkc2NhcmQtJHtpbmRleH1gfSAvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxEU0NhcmRcbiAgICAgICAgICAgIGtleT17YGRzY2FyZC0ke3JlYy5pZH1gfVxuICAgICAgICAgICAgcG9zPXtyZWMucG9zfVxuICAgICAgICAgICAgZmxpZ2h0SWQ9e3JlYy5mbGlnaHRfaWR9XG4gICAgICAgICAgICBpbWFnZV9zcmM9e3JlYy5pbWFnZV9zcmN9XG4gICAgICAgICAgICByYXdfaW1hZ2Vfc3JjPXtyZWMucmF3X2ltYWdlX3NyY31cbiAgICAgICAgICAgIHdvcmRfY291bnQ9e3JlYy53b3JkX2NvdW50fVxuICAgICAgICAgICAgdGltZV90b19yZWFkPXtyZWMudGltZV90b19yZWFkfVxuICAgICAgICAgICAgZGlzcGxheVJlYWRUaW1lPXtyZWFkVGltZX1cbiAgICAgICAgICAgIHRpdGxlPXtyZWMudGl0bGV9XG4gICAgICAgICAgICBleGNlcnB0PXtyZWMuZXhjZXJwdH1cbiAgICAgICAgICAgIHVybD17cmVjLnVybH1cbiAgICAgICAgICAgIGlkPXtyZWMuaWR9XG4gICAgICAgICAgICBzaGltPXtyZWMuc2hpbX1cbiAgICAgICAgICAgIHR5cGU9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgICAgIGNvbnRleHQ9e3JlYy5jb250ZXh0fVxuICAgICAgICAgICAgc3BvbnNvcj17cmVjLnNwb25zb3J9XG4gICAgICAgICAgICBzcG9uc29yZWRfYnlfb3ZlcnJpZGU9e3JlYy5zcG9uc29yZWRfYnlfb3ZlcnJpZGV9XG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIHNvdXJjZT17cmVjLmRvbWFpbn1cbiAgICAgICAgICAgIHBvY2tldF9pZD17cmVjLnBvY2tldF9pZH1cbiAgICAgICAgICAgIGNvbnRleHRfdHlwZT17cmVjLmNvbnRleHRfdHlwZX1cbiAgICAgICAgICAgIGJvb2ttYXJrR3VpZD17cmVjLmJvb2ttYXJrR3VpZH1cbiAgICAgICAgICAgIGVuZ2FnZW1lbnQ9e3JlYy5lbmdhZ2VtZW50fVxuICAgICAgICAgICAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscz17dGhpcy5wcm9wcy5kaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzfVxuICAgICAgICAgICAgaGlkZURlc2NyaXB0aW9ucz17aGlkZURlc2NyaXB0aW9uc31cbiAgICAgICAgICAgIHNhdmVUb1BvY2tldENhcmQ9e3NhdmVUb1BvY2tldENhcmR9XG4gICAgICAgICAgICBjb21wYWN0SW1hZ2VzPXtjb21wYWN0SW1hZ2VzfVxuICAgICAgICAgICAgaW1hZ2VHcmFkaWVudD17aW1hZ2VHcmFkaWVudH1cbiAgICAgICAgICAgIG5ld1Nwb25zb3JlZExhYmVsPXtuZXdTcG9uc29yZWRMYWJlbH1cbiAgICAgICAgICAgIHRpdGxlTGluZXM9e3RpdGxlTGluZXN9XG4gICAgICAgICAgICBkZXNjTGluZXM9e2Rlc2NMaW5lc31cbiAgICAgICAgICAgIGN0YT17cmVjLmN0YX1cbiAgICAgICAgICAgIGN0YV92YXJpYW50PXt0aGlzLnByb3BzLmN0YV92YXJpYW50fVxuICAgICAgICAgICAgaXNfdmlkZW89e3RoaXMucHJvcHMuZW5hYmxlX3ZpZGVvX3BsYXloZWFkcyAmJiByZWMuaXNfdmlkZW99XG4gICAgICAgICAgICBpc19jb2xsZWN0aW9uPXt0aGlzLnByb3BzLmlzX2NvbGxlY3Rpb259XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSBoYXZlIGJvdGggaGVhZGVyLCBpbmplY3QgdGhlIHNlY29uZCBvbmUgYWZ0ZXIgdGhlIHNlY29uZCByb3cuXG4gICAgLy8gRm9yIG5vdyB0aGlzIGlzIEVuZ2xpc2ggb25seS5cbiAgICBpZiAoZXNzZW50aWFsUmVhZHNIZWFkZXIgJiYgZWRpdG9yc1BpY2tzSGVhZGVyKSB7XG4gICAgICAvLyBGb3IgY29tcGFjdCBzZWNvbmQgcm93IGlzIDggY2FyZHMsIGFuZCByZWd1bGFyIGl0IGlzIDYgY2FyZHMuXG4gICAgICBpZiAoY29tcGFjdCkge1xuICAgICAgICBjYXJkcy5zcGxpY2UoOCwgMCwgdGhpcy5yZW5kZXJEU1N1YkhlYWRlcihcIkVkaXRvcuKAmXMgUGlja3NcIikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZHMuc3BsaWNlKDYsIDAsIHRoaXMucmVuZGVyRFNTdWJIZWFkZXIoXCJFZGl0b3LigJlzIFBpY2tzXCIpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXBsYWNlIGxhc3QgY2FyZCB3aXRoIFwieW91IGFyZSBhbGwgY2F1Z2h0IHVwIGNhcmRcIlxuICAgIGlmIChzaG93TGFzdENhcmRNZXNzYWdlKSB7XG4gICAgICBjYXJkcy5zcGxpY2UoXG4gICAgICAgIGNhcmRzLmxlbmd0aCAtIDEsXG4gICAgICAgIDEsXG4gICAgICAgIDxMYXN0Q2FyZE1lc3NhZ2Uga2V5PXtgZHNjYXJkLWxhc3QtJHtjYXJkcy5sZW5ndGggLSAxfWB9IC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFVzZWQgZm9yIENTUyBvdmVycmlkZXMgdG8gZGVmYXVsdCBzdHlsaW5nIChlZzogXCJoZXJvXCIpXG4gICAgY29uc3QgdmFyaWFudENsYXNzID0gdGhpcy5wcm9wcy5kaXNwbGF5X3ZhcmlhbnRcbiAgICAgID8gYGRzLWNhcmQtZ3JpZC0ke3RoaXMucHJvcHMuZGlzcGxheV92YXJpYW50fWBcbiAgICAgIDogYGA7XG5cbiAgICBjb25zdCBjb21wYWN0Q2xhc3MgPSBjb21wYWN0ID8gYGRzLWNhcmQtZ3JpZC1jb21wYWN0LXZhcmlhbnRgIDogYGA7XG5cbiAgICBjb25zdCBoaWRlRGVzY3JpcHRpb25zQ2xhc3NOYW1lID0gIWhpZGVEZXNjcmlwdGlvbnNcbiAgICAgID8gYGRzLWNhcmQtZ3JpZC1pbmNsdWRlLWRlc2NyaXB0aW9uc2BcbiAgICAgIDogYGA7XG5cbiAgICBjb25zdCBjb21wYWN0R3JpZENsYXNzTmFtZSA9IGNvbXBhY3RHcmlkID8gYGRzLWNhcmQtZ3JpZC1jb21wYWN0YCA6IGBgO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtgZHMtY2FyZC1ncmlkIGRzLWNhcmQtZ3JpZC0ke3RoaXMucHJvcHMuYm9yZGVyfSAke3ZhcmlhbnRDbGFzc30gJHtjb21wYWN0Q2xhc3N9ICR7aGlkZURlc2NyaXB0aW9uc0NsYXNzTmFtZX0gJHtjb21wYWN0R3JpZENsYXNzTmFtZX1gfVxuICAgICAgPlxuICAgICAgICB7Y2FyZHN9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gdGhpcy5wcm9wcztcblxuICAgIC8vIEhhbmRsZSBhIHJlbmRlciBiZWZvcmUgZmVlZCBoYXMgYmVlbiBmZXRjaGVkIGJ5IGRpc3BsYXlpbmcgbm90aGluZ1xuICAgIGlmICghZGF0YSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIGEgdXNlciBoYXMgZGlzbWlzc2VkIGFsbCByZWNvbW1lbmRhdGlvbnNcbiAgICBjb25zdCBpc0VtcHR5ID0gZGF0YS5yZWNvbW1lbmRhdGlvbnMubGVuZ3RoID09PSAwO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIHt0aGlzLnByb3BzLnRpdGxlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWhlYWRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZVwiPnt0aGlzLnByb3BzLnRpdGxlfTwvZGl2PlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY29udGV4dCAmJiAoXG4gICAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17dGhpcy5wcm9wcy5jb250ZXh0fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWNvbnRleHRcIiAvPlxuICAgICAgICAgICAgICA8L0ZsdWVudE9yVGV4dD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIHtpc0VtcHR5ID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtY2FyZC1ncmlkIGVtcHR5XCI+XG4gICAgICAgICAgICA8RFNFbXB0eVN0YXRlXG4gICAgICAgICAgICAgIHN0YXR1cz17ZGF0YS5zdGF0dXN9XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICBmZWVkPXt0aGlzLnByb3BzLmZlZWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIHRoaXMucmVuZGVyQ2FyZHMoKVxuICAgICAgICApfVxuICAgICAgICB7dGhpcy5zaG93TG9hZE1vcmUgJiYgKFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIkFTUm91dGVyQnV0dG9uIHByaW1hcnkgZHMtY2FyZC1ncmlkLWxvYWQtbW9yZS1idXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5sb2FkTW9yZUNsaWNrZWR9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcG9ja2V0LWxvYWQtbW9yZS1zdG9yaWVzLWJ1dHRvblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuQ2FyZEdyaWQuZGVmYXVsdFByb3BzID0ge1xuICBib3JkZXI6IGBib3JkZXJgLFxuICBpdGVtczogNCwgLy8gTnVtYmVyIG9mIHN0b3JpZXMgdG8gZGlzcGxheVxuICBlbmFibGVfdmlkZW9fcGxheWhlYWRzOiBmYWxzZSxcbiAgbGFzdENhcmRNZXNzYWdlRW5hYmxlZDogZmFsc2UsXG4gIHNhdmVUb1BvY2tldENhcmQ6IGZhbHNlLFxuICBsb2FkTW9yZVRocmVzaG9sZDogMTIsXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgVGhlbWVzU2VjdGlvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgLz47XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIEJhY2tncm91bmRzU2VjdGlvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgLz47XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuXG5leHBvcnQgY2xhc3MgQ29udGVudFNlY3Rpb24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vblByZWZlcmVuY2VTZWxlY3QgPSB0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaW5wdXRVc2VyRXZlbnQoZXZlbnRTb3VyY2UsIHN0YXR1cykge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICBldmVudDogXCJQUkVGX0NIQU5HRURcIixcbiAgICAgICAgc291cmNlOiBldmVudFNvdXJjZSxcbiAgICAgICAgdmFsdWU6IHsgc3RhdHVzLCBtZW51X3NvdXJjZTogXCJDVVNUT01JWkVfTUVOVVwiIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBvblByZWZlcmVuY2VTZWxlY3QoZSkge1xuICAgIGxldCBwcmVmTmFtZSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcInByZWZlcmVuY2VcIik7XG4gICAgY29uc3QgZXZlbnRTb3VyY2UgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJldmVudFNvdXJjZVwiKTtcbiAgICBsZXQgdmFsdWU7XG4gICAgaWYgKGUudGFyZ2V0Lm5vZGVOYW1lID09PSBcIlNFTEVDVFwiKSB7XG4gICAgICB2YWx1ZSA9IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlLCAxMCk7XG4gICAgfSBlbHNlIGlmIChlLnRhcmdldC5ub2RlTmFtZSA9PT0gXCJJTlBVVFwiKSB7XG4gICAgICB2YWx1ZSA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICBpZiAoZXZlbnRTb3VyY2UpIHtcbiAgICAgICAgdGhpcy5pbnB1dFVzZXJFdmVudChldmVudFNvdXJjZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnByb3BzLnNldFByZWYocHJlZk5hbWUsIHZhbHVlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICB0b3BTaXRlc0VuYWJsZWQsXG4gICAgICBwb2NrZXRFbmFibGVkLFxuICAgICAgaGlnaGxpZ2h0c0VuYWJsZWQsXG4gICAgICBzaG93U3BvbnNvcmVkVG9wU2l0ZXNFbmFibGVkLFxuICAgICAgc2hvd1Nwb25zb3JlZFBvY2tldEVuYWJsZWQsXG4gICAgICB0b3BTaXRlc1Jvd3NDb3VudCxcbiAgICB9ID0gdGhpcy5wcm9wcy5lbmFibGVkU2VjdGlvbnM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJob21lLXNlY3Rpb25cIj5cbiAgICAgICAgPGRpdiBpZD1cInNob3J0Y3V0cy1zZWN0aW9uXCIgY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJzd2l0Y2hcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBpZD1cInNob3J0Y3V0cy10b2dnbGVcIlxuICAgICAgICAgICAgICBjaGVja2VkPXt0b3BTaXRlc0VuYWJsZWR9XG4gICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdH1cbiAgICAgICAgICAgICAgcHJlZmVyZW5jZT1cImZlZWRzLnRvcHNpdGVzXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwiY3VzdG9tLXNob3J0Y3V0cy10aXRsZVwiXG4gICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJjdXN0b20tc2hvcnRjdXRzLXN1YnRpdGxlXCJcbiAgICAgICAgICAgICAgZXZlbnRTb3VyY2U9XCJUT1BfU0lURVNcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNsaWRlclwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj48L3NwYW4+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGgyIGlkPVwiY3VzdG9tLXNob3J0Y3V0cy10aXRsZVwiIGNsYXNzTmFtZT1cInRpdGxlXCI+XG4gICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgIGh0bWxGb3I9XCJzaG9ydGN1dHMtdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXNob3J0Y3V0cy10aXRsZVwiXG4gICAgICAgICAgICAgID48L2xhYmVsPlxuICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgIGlkPVwiY3VzdG9tLXNob3J0Y3V0cy1zdWJ0aXRsZVwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInN1YnRpdGxlXCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1zaG9ydGN1dHMtc3VidGl0bGVcIlxuICAgICAgICAgICAgPjwvcD5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbW9yZS1pbmZvLXRvcC13cmFwcGVyICR7XG4gICAgICAgICAgICAgICAgdG9wU2l0ZXNFbmFibGVkID8gXCJcIiA6IFwic2hyaW5rXCJcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Btb3JlLWluZm9ybWF0aW9uICR7XG4gICAgICAgICAgICAgICAgICB0b3BTaXRlc0VuYWJsZWQgPyBcImV4cGFuZFwiIDogXCJzaHJpbmtcIlxuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgaWQ9XCJyb3ctc2VsZWN0b3JcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VsZWN0b3JcIlxuICAgICAgICAgICAgICAgICAgbmFtZT1cInJvdy1jb3VudFwiXG4gICAgICAgICAgICAgICAgICBwcmVmZXJlbmNlPVwidG9wU2l0ZXNSb3dzXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0b3BTaXRlc1Jvd3NDb3VudH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdH1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdG9wU2l0ZXNFbmFibGVkfVxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwiY3VzdG9tLXNob3J0Y3V0cy10aXRsZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvblxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIjFcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXJvdy1zZWxlY3RvclwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1hcmdzPSd7XCJudW1cIjogMX0nXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvblxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIjJcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXJvdy1zZWxlY3RvclwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1hcmdzPSd7XCJudW1cIjogMn0nXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvblxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIjNcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXJvdy1zZWxlY3RvclwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1hcmdzPSd7XCJudW1cIjogM30nXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvblxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIjRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXJvdy1zZWxlY3RvclwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1hcmdzPSd7XCJudW1cIjogNH0nXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLm1heUhhdmVTcG9uc29yZWRUb3BTaXRlcyAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoZWNrLXdyYXBwZXJcIiByb2xlPVwicHJlc2VudGF0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwic3BvbnNvcmVkLXNob3J0Y3V0c1wiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3BvbnNvcmVkLWNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXRvcFNpdGVzRW5hYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtzaG93U3BvbnNvcmVkVG9wU2l0ZXNFbmFibGVkfVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25QcmVmZXJlbmNlU2VsZWN0fVxuICAgICAgICAgICAgICAgICAgICAgIHByZWZlcmVuY2U9XCJzaG93U3BvbnNvcmVkVG9wU2l0ZXNcIlxuICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U291cmNlPVwiU1BPTlNPUkVEX1RPUF9TSVRFU1wiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNwb25zb3JlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcj1cInNwb25zb3JlZC1zaG9ydGN1dHNcIlxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b20tc3BvbnNvcmVkLXNpdGVzXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHt0aGlzLnByb3BzLnBvY2tldFJlZ2lvbiAmJiAoXG4gICAgICAgICAgPGRpdiBpZD1cInBvY2tldC1zZWN0aW9uXCIgY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInN3aXRjaFwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBpZD1cInBvY2tldC10b2dnbGVcIlxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3BvY2tldEVuYWJsZWR9XG4gICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblByZWZlcmVuY2VTZWxlY3R9XG4gICAgICAgICAgICAgICAgcHJlZmVyZW5jZT1cImZlZWRzLnNlY3Rpb24udG9wc3Rvcmllc1wiXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwiY3VzdG9tLXBvY2tldC10aXRsZVwiXG4gICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImN1c3RvbS1wb2NrZXQtc3VidGl0bGVcIlxuICAgICAgICAgICAgICAgIGV2ZW50U291cmNlPVwiVE9QX1NUT1JJRVNcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzbGlkZXJcIiByb2xlPVwicHJlc2VudGF0aW9uXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxoMiBpZD1cImN1c3RvbS1wb2NrZXQtdGl0bGVcIiBjbGFzc05hbWU9XCJ0aXRsZVwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgaHRtbEZvcj1cInBvY2tldC10b2dnbGVcIlxuICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1wb2NrZXQtdGl0bGVcIlxuICAgICAgICAgICAgICAgID48L2xhYmVsPlxuICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgIGlkPVwiY3VzdG9tLXBvY2tldC1zdWJ0aXRsZVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3VidGl0bGVcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b20tcG9ja2V0LXN1YnRpdGxlXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMubWF5SGF2ZVNwb25zb3JlZFN0b3JpZXMgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YG1vcmUtaW5mby1wb2NrZXQtd3JhcHBlciAke1xuICAgICAgICAgICAgICAgICAgICBwb2NrZXRFbmFibGVkID8gXCJcIiA6IFwic2hyaW5rXCJcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbW9yZS1pbmZvcm1hdGlvbiAke1xuICAgICAgICAgICAgICAgICAgICAgIHBvY2tldEVuYWJsZWQgPyBcImV4cGFuZFwiIDogXCJzaHJpbmtcIlxuICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGVjay13cmFwcGVyXCIgcm9sZT1cInByZXNlbnRhdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJzcG9uc29yZWQtcG9ja2V0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNwb25zb3JlZC1jaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXBvY2tldEVuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtzaG93U3BvbnNvcmVkUG9ja2V0RW5hYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblByZWZlcmVuY2VTZWxlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVmZXJlbmNlPVwic2hvd1Nwb25zb3JlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFNvdXJjZT1cIlBPQ0tFVF9TUE9DU1wiXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNwb25zb3JlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9yPVwic3BvbnNvcmVkLXBvY2tldFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXBvY2tldC1zcG9uc29yZWRcIlxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICA8ZGl2IGlkPVwicmVjZW50LXNlY3Rpb25cIiBjbGFzc05hbWU9XCJzZWN0aW9uXCI+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInN3aXRjaFwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGlkPVwiaGlnaGxpZ2h0cy10b2dnbGVcIlxuICAgICAgICAgICAgICBjaGVja2VkPXtoaWdobGlnaHRzRW5hYmxlZH1cbiAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25QcmVmZXJlbmNlU2VsZWN0fVxuICAgICAgICAgICAgICBwcmVmZXJlbmNlPVwiZmVlZHMuc2VjdGlvbi5oaWdobGlnaHRzXCJcbiAgICAgICAgICAgICAgZXZlbnRTb3VyY2U9XCJISUdITElHSFRTXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwiY3VzdG9tLXJlY2VudC10aXRsZVwiXG4gICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJjdXN0b20tcmVjZW50LXN1YnRpdGxlXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzbGlkZXJcIiByb2xlPVwicHJlc2VudGF0aW9uXCI+PC9zcGFuPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoMiBpZD1cImN1c3RvbS1yZWNlbnQtdGl0bGVcIiBjbGFzc05hbWU9XCJ0aXRsZVwiPlxuICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICBodG1sRm9yPVwiaGlnaGxpZ2h0cy10b2dnbGVcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b20tcmVjZW50LXRpdGxlXCJcbiAgICAgICAgICAgICAgPjwvbGFiZWw+XG4gICAgICAgICAgICA8L2gyPlxuXG4gICAgICAgICAgICA8cFxuICAgICAgICAgICAgICBpZD1cImN1c3RvbS1yZWNlbnQtc3VidGl0bGVcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdWJ0aXRsZVwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b20tcmVjZW50LXN1YnRpdGxlXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRpdmlkZXJcIiByb2xlPVwic2VwYXJhdG9yXCI+PC9zcGFuPlxuXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgaWQ9XCJzZXR0aW5ncy1saW5rXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImV4dGVybmFsLWxpbmtcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5vcGVuUHJlZmVyZW5jZXN9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXNldHRpbmdzXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IFRoZW1lc1NlY3Rpb24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9DdXN0b21pemVNZW51L1RoZW1lc1NlY3Rpb24vVGhlbWVzU2VjdGlvblwiO1xuaW1wb3J0IHsgQmFja2dyb3VuZHNTZWN0aW9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ3VzdG9taXplTWVudS9CYWNrZ3JvdW5kc1NlY3Rpb24vQmFja2dyb3VuZHNTZWN0aW9uXCI7XG5pbXBvcnQgeyBDb250ZW50U2VjdGlvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0N1c3RvbWl6ZU1lbnUvQ29udGVudFNlY3Rpb24vQ29udGVudFNlY3Rpb25cIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENTU1RyYW5zaXRpb24gfSBmcm9tIFwicmVhY3QtdHJhbnNpdGlvbi1ncm91cFwiO1xuXG5leHBvcnQgY2xhc3MgX0N1c3RvbWl6ZU1lbnUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkVudGVyZWQgPSB0aGlzLm9uRW50ZXJlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25FeGl0ZWQgPSB0aGlzLm9uRXhpdGVkLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkVudGVyZWQoKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VCdXR0b24pIHtcbiAgICAgIHRoaXMuY2xvc2VCdXR0b24uZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBvbkV4aXRlZCgpIHtcbiAgICBpZiAodGhpcy5vcGVuQnV0dG9uKSB7XG4gICAgICB0aGlzLm9wZW5CdXR0b24uZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuPlxuICAgICAgICA8Q1NTVHJhbnNpdGlvblxuICAgICAgICAgIHRpbWVvdXQ9ezMwMH1cbiAgICAgICAgICBjbGFzc05hbWVzPVwicGVyc29uYWxpemUtYW5pbWF0ZVwiXG4gICAgICAgICAgaW49eyF0aGlzLnByb3BzLnNob3dpbmd9XG4gICAgICAgICAgYXBwZWFyPXt0cnVlfVxuICAgICAgICA+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbiBpY29uLXNldHRpbmdzIHBlcnNvbmFsaXplLWJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnByb3BzLm9uT3BlbigpfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXBlcnNvbmFsaXplLWljb24tbGFiZWxcIlxuICAgICAgICAgICAgcmVmPXtjID0+ICh0aGlzLm9wZW5CdXR0b24gPSBjKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0NTU1RyYW5zaXRpb24+XG4gICAgICAgIDxDU1NUcmFuc2l0aW9uXG4gICAgICAgICAgdGltZW91dD17MjUwfVxuICAgICAgICAgIGNsYXNzTmFtZXM9XCJjdXN0b21pemUtYW5pbWF0ZVwiXG4gICAgICAgICAgaW49e3RoaXMucHJvcHMuc2hvd2luZ31cbiAgICAgICAgICBvbkVudGVyZWQ9e3RoaXMub25FbnRlcmVkfVxuICAgICAgICAgIG9uRXhpdGVkPXt0aGlzLm9uRXhpdGVkfVxuICAgICAgICAgIGFwcGVhcj17dHJ1ZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImN1c3RvbWl6ZS1tZW51XCJcbiAgICAgICAgICAgIHJvbGU9XCJkaWFsb2dcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXBlcnNvbmFsaXplLWRpYWxvZy1sYWJlbFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnByb3BzLm9uQ2xvc2UoKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2UtYnV0dG9uXCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1jbG9zZS1idXR0b25cIlxuICAgICAgICAgICAgICByZWY9e2MgPT4gKHRoaXMuY2xvc2VCdXR0b24gPSBjKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8VGhlbWVzU2VjdGlvbiAvPlxuICAgICAgICAgICAgPEJhY2tncm91bmRzU2VjdGlvbiAvPlxuICAgICAgICAgICAgPENvbnRlbnRTZWN0aW9uXG4gICAgICAgICAgICAgIG9wZW5QcmVmZXJlbmNlcz17dGhpcy5wcm9wcy5vcGVuUHJlZmVyZW5jZXN9XG4gICAgICAgICAgICAgIHNldFByZWY9e3RoaXMucHJvcHMuc2V0UHJlZn1cbiAgICAgICAgICAgICAgZW5hYmxlZFNlY3Rpb25zPXt0aGlzLnByb3BzLmVuYWJsZWRTZWN0aW9uc31cbiAgICAgICAgICAgICAgcG9ja2V0UmVnaW9uPXt0aGlzLnByb3BzLnBvY2tldFJlZ2lvbn1cbiAgICAgICAgICAgICAgbWF5SGF2ZVNwb25zb3JlZFRvcFNpdGVzPXt0aGlzLnByb3BzLm1heUhhdmVTcG9uc29yZWRUb3BTaXRlc31cbiAgICAgICAgICAgICAgbWF5SGF2ZVNwb25zb3JlZFN0b3JpZXM9e1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuRGlzY292ZXJ5U3RyZWFtLmNvbmZpZy5zaG93X3Nwb2NzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0NTU1RyYW5zaXRpb24+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgQ3VzdG9taXplTWVudSA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgRGlzY292ZXJ5U3RyZWFtOiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0sXG59KSkoX0N1c3RvbWl6ZU1lbnUpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxudGhpcy5EZWR1cGUgPSBjbGFzcyBEZWR1cGUge1xuICBjb25zdHJ1Y3RvcihjcmVhdGVLZXkpIHtcbiAgICB0aGlzLmNyZWF0ZUtleSA9IGNyZWF0ZUtleSB8fCB0aGlzLmRlZmF1bHRDcmVhdGVLZXk7XG4gIH1cblxuICBkZWZhdWx0Q3JlYXRlS2V5KGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWR1cGUgYW55IG51bWJlciBvZiBncm91cGVkIGVsZW1lbnRzIGZhdm9yaW5nIHRob3NlIGZyb20gZWFybGllciBncm91cHMuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IGdyb3VwcyBDb250YWlucyBhbiBhcmJpdHJhcnkgbnVtYmVyIG9mIGFycmF5cyBvZiBlbGVtZW50cy5cbiAgICogQHJldHVybnMge0FycmF5fSBBIG1hdGNoaW5nIGFycmF5IG9mIGVhY2ggcHJvdmlkZWQgZ3JvdXAgZGVkdXBlZC5cbiAgICovXG4gIGdyb3VwKC4uLmdyb3Vwcykge1xuICAgIGNvbnN0IGdsb2JhbEtleXMgPSBuZXcgU2V0KCk7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZm9yIChjb25zdCB2YWx1ZXMgb2YgZ3JvdXBzKSB7XG4gICAgICBjb25zdCB2YWx1ZU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuY3JlYXRlS2V5KHZhbHVlKTtcbiAgICAgICAgaWYgKCFnbG9iYWxLZXlzLmhhcyhrZXkpICYmICF2YWx1ZU1hcC5oYXMoa2V5KSkge1xuICAgICAgICAgIHZhbHVlTWFwLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzdWx0LnB1c2godmFsdWVNYXApO1xuICAgICAgdmFsdWVNYXAuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4gZ2xvYmFsS2V5cy5hZGQoa2V5KSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQubWFwKG0gPT4gQXJyYXkuZnJvbShtLnZhbHVlcygpKSk7XG4gIH1cbn07XG5cbmNvbnN0IEVYUE9SVEVEX1NZTUJPTFMgPSBbXCJEZWR1cGVcIl07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHsgYWN0aW9uVHlwZXM6IGF0IH0gPSBDaHJvbWVVdGlscy5pbXBvcnQoXG4gIFwicmVzb3VyY2U6Ly9hY3Rpdml0eS1zdHJlYW0vY29tbW9uL0FjdGlvbnMuanNtXCJcbik7XG5jb25zdCB7IERlZHVwZSB9ID0gQ2hyb21lVXRpbHMuaW1wb3J0KFxuICBcInJlc291cmNlOi8vYWN0aXZpdHktc3RyZWFtL2NvbW1vbi9EZWR1cGUuanNtXCJcbik7XG5cbmNvbnN0IFRPUF9TSVRFU19ERUZBVUxUX1JPV1MgPSAxO1xuY29uc3QgVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XID0gODtcbmNvbnN0IFBSRUZfQ09MTEVDVElPTl9ESVNNSVNTSUJMRSA9IFwiZGlzY292ZXJ5c3RyZWFtLmlzQ29sbGVjdGlvbkRpc21pc3NpYmxlXCI7XG5cbmNvbnN0IGRlZHVwZSA9IG5ldyBEZWR1cGUoc2l0ZSA9PiBzaXRlICYmIHNpdGUudXJsKTtcblxuY29uc3QgSU5JVElBTF9TVEFURSA9IHtcbiAgQXBwOiB7XG4gICAgLy8gSGF2ZSB3ZSByZWNlaXZlZCByZWFsIGRhdGEgZnJvbSB0aGUgYXBwIHlldD9cbiAgICBpbml0aWFsaXplZDogZmFsc2UsXG4gICAgbG9jYWxlOiBcIlwiLFxuICB9LFxuICBBU1JvdXRlcjogeyBpbml0aWFsaXplZDogZmFsc2UgfSxcbiAgU25pcHBldHM6IHsgaW5pdGlhbGl6ZWQ6IGZhbHNlIH0sXG4gIFRvcFNpdGVzOiB7XG4gICAgLy8gSGF2ZSB3ZSByZWNlaXZlZCByZWFsIGRhdGEgZnJvbSBoaXN0b3J5IHlldD9cbiAgICBpbml0aWFsaXplZDogZmFsc2UsXG4gICAgLy8gVGhlIGhpc3RvcnkgKGFuZCBwb3NzaWJseSBkZWZhdWx0KSBsaW5rc1xuICAgIHJvd3M6IFtdLFxuICAgIC8vIFVzZWQgaW4gY29udGVudCBvbmx5IHRvIGRpc3BhdGNoIGFjdGlvbiB0byBUb3BTaXRlRm9ybS5cbiAgICBlZGl0Rm9ybTogbnVsbCxcbiAgICAvLyBVc2VkIGluIGNvbnRlbnQgb25seSB0byBvcGVuIHRoZSBTZWFyY2hTaG9ydGN1dHNGb3JtIG1vZGFsLlxuICAgIHNob3dTZWFyY2hTaG9ydGN1dHNGb3JtOiBmYWxzZSxcbiAgICAvLyBUaGUgbGlzdCBvZiBhdmFpbGFibGUgc2VhcmNoIHNob3J0Y3V0cy5cbiAgICBzZWFyY2hTaG9ydGN1dHM6IFtdLFxuICB9LFxuICBQcmVmczoge1xuICAgIGluaXRpYWxpemVkOiBmYWxzZSxcbiAgICB2YWx1ZXM6IHsgZmVhdHVyZUNvbmZpZzoge30gfSxcbiAgfSxcbiAgRGlhbG9nOiB7XG4gICAgdmlzaWJsZTogZmFsc2UsXG4gICAgZGF0YToge30sXG4gIH0sXG4gIFNlY3Rpb25zOiBbXSxcbiAgUG9ja2V0OiB7XG4gICAgaXNVc2VyTG9nZ2VkSW46IG51bGwsXG4gICAgcG9ja2V0Q3RhOiB7fSxcbiAgICB3YWl0aW5nRm9yU3BvYzogdHJ1ZSxcbiAgfSxcbiAgLy8gVGhpcyBpcyB0aGUgbmV3IHBvY2tldCBjb25maWd1cmFibGUgbGF5b3V0IHN0YXRlLlxuICBEaXNjb3ZlcnlTdHJlYW06IHtcbiAgICAvLyBUaGlzIGlzIGEgSlNPTi1wYXJzZWQgY29weSBvZiB0aGUgZGlzY292ZXJ5c3RyZWFtLmNvbmZpZyBwcmVmIHZhbHVlLlxuICAgIGNvbmZpZzogeyBlbmFibGVkOiBmYWxzZSwgbGF5b3V0X2VuZHBvaW50OiBcIlwiIH0sXG4gICAgbGF5b3V0OiBbXSxcbiAgICBsYXN0VXBkYXRlZDogbnVsbCxcbiAgICBpc1ByaXZhY3lJbmZvTW9kYWxWaXNpYmxlOiBmYWxzZSxcbiAgICBpc0NvbGxlY3Rpb25EaXNtaXNzaWJsZTogZmFsc2UsXG4gICAgZmVlZHM6IHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgLy8gXCJodHRwczovL2Zvby5jb20vZmVlZDFcIjoge2xhc3RVcGRhdGVkOiAxMjMsIGRhdGE6IFtdfVxuICAgICAgfSxcbiAgICAgIGxvYWRlZDogZmFsc2UsXG4gICAgfSxcbiAgICBzcG9jczoge1xuICAgICAgc3BvY3NfZW5kcG9pbnQ6IFwiXCIsXG4gICAgICBsYXN0VXBkYXRlZDogbnVsbCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgLy8gXCJzcG9jc1wiOiB7dGl0bGU6IFwiXCIsIGNvbnRleHQ6IFwiXCIsIGl0ZW1zOiBbXX0sXG4gICAgICAgIC8vIFwicGxhY2VtZW50MVwiOiB7dGl0bGU6IFwiXCIsIGNvbnRleHQ6IFwiXCIsIGl0ZW1zOiBbXX0sXG4gICAgICB9LFxuICAgICAgbG9hZGVkOiBmYWxzZSxcbiAgICAgIGZyZXF1ZW5jeV9jYXBzOiBbXSxcbiAgICAgIGJsb2NrZWQ6IFtdLFxuICAgICAgcGxhY2VtZW50czogW10sXG4gICAgfSxcbiAgfSxcbiAgUGVyc29uYWxpemF0aW9uOiB7XG4gICAgbGFzdFVwZGF0ZWQ6IG51bGwsXG4gICAgaW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICB9LFxuICBTZWFyY2g6IHtcbiAgICAvLyBXaGVuIHNlYXJjaCBoYW5kLW9mZiBpcyBlbmFibGVkLCB3ZSByZW5kZXIgYSBiaWcgYnV0dG9uIHRoYXQgaXMgc3R5bGVkIHRvXG4gICAgLy8gbG9vayBsaWtlIGEgc2VhcmNoIHRleHRib3guIElmIHRoZSBidXR0b24gaXMgY2xpY2tlZCwgd2Ugc3R5bGVcbiAgICAvLyB0aGUgYnV0dG9uIGFzIGlmIGl0IHdhcyBhIGZvY3VzZWQgc2VhcmNoIGJveCBhbmQgc2hvdyBhIGZha2UgY3Vyc29yIGJ1dFxuICAgIC8vIHJlYWxseSBmb2N1cyB0aGUgYXdlc29tZWJhciB3aXRob3V0IHRoZSBmb2N1cyBzdHlsZXMgKFwiaGlkZGVuIGZvY3VzXCIpLlxuICAgIGZha2VGb2N1czogZmFsc2UsXG4gICAgLy8gSGlkZSB0aGUgc2VhcmNoIGJveCBhZnRlciBoYW5kaW5nIG9mZiB0byBBd2Vzb21lQmFyIGFuZCB1c2VyIHN0YXJ0cyB0eXBpbmcuXG4gICAgaGlkZTogZmFsc2UsXG4gIH0sXG59O1xuXG5mdW5jdGlvbiBBcHAocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5BcHAsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5JTklUOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgYWN0aW9uLmRhdGEgfHwge30sIHtcbiAgICAgICAgaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBBU1JvdXRlcihwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLkFTUm91dGVyLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuQVNfUk9VVEVSX0lOSVRJQUxJWkVEOlxuICAgICAgcmV0dXJuIHsgLi4uYWN0aW9uLmRhdGEsIGluaXRpYWxpemVkOiB0cnVlIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuLyoqXG4gKiBpbnNlcnRQaW5uZWQgLSBJbnNlcnRzIHBpbm5lZCBsaW5rcyBpbiB0aGVpciBzcGVjaWZpZWQgc2xvdHNcbiAqXG4gKiBAcGFyYW0ge2FycmF5fSBhIGxpc3Qgb2YgbGlua3NcbiAqIEBwYXJhbSB7YXJyYXl9IGEgbGlzdCBvZiBwaW5uZWQgbGlua3NcbiAqIEByZXR1cm4ge2FycmF5fSByZXN1bHRpbmcgbGlzdCBvZiBsaW5rcyB3aXRoIHBpbm5lZCBsaW5rcyBpbnNlcnRlZFxuICovXG5mdW5jdGlvbiBpbnNlcnRQaW5uZWQobGlua3MsIHBpbm5lZCkge1xuICAvLyBSZW1vdmUgYW55IHBpbm5lZCBsaW5rc1xuICBjb25zdCBwaW5uZWRVcmxzID0gcGlubmVkLm1hcChsaW5rID0+IGxpbmsgJiYgbGluay51cmwpO1xuICBsZXQgbmV3TGlua3MgPSBsaW5rcy5maWx0ZXIobGluayA9PlxuICAgIGxpbmsgPyAhcGlubmVkVXJscy5pbmNsdWRlcyhsaW5rLnVybCkgOiBmYWxzZVxuICApO1xuICBuZXdMaW5rcyA9IG5ld0xpbmtzLm1hcChsaW5rID0+IHtcbiAgICBpZiAobGluayAmJiBsaW5rLmlzUGlubmVkKSB7XG4gICAgICBkZWxldGUgbGluay5pc1Bpbm5lZDtcbiAgICAgIGRlbGV0ZSBsaW5rLnBpbkluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gbGluaztcbiAgfSk7XG5cbiAgLy8gVGhlbiBpbnNlcnQgdGhlbSBpbiB0aGVpciBzcGVjaWZpZWQgbG9jYXRpb25cbiAgcGlubmVkLmZvckVhY2goKHZhbCwgaW5kZXgpID0+IHtcbiAgICBpZiAoIXZhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbGluayA9IE9iamVjdC5hc3NpZ24oe30sIHZhbCwgeyBpc1Bpbm5lZDogdHJ1ZSwgcGluSW5kZXg6IGluZGV4IH0pO1xuICAgIGlmIChpbmRleCA+IG5ld0xpbmtzLmxlbmd0aCkge1xuICAgICAgbmV3TGlua3NbaW5kZXhdID0gbGluaztcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3TGlua3Muc3BsaWNlKGluZGV4LCAwLCBsaW5rKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBuZXdMaW5rcztcbn1cblxuZnVuY3Rpb24gVG9wU2l0ZXMocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5Ub3BTaXRlcywgYWN0aW9uKSB7XG4gIGxldCBoYXNNYXRjaDtcbiAgbGV0IG5ld1Jvd3M7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LlRPUF9TSVRFU19VUERBVEVEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSB8fCAhYWN0aW9uLmRhdGEubGlua3MpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgcHJldlN0YXRlLFxuICAgICAgICB7IGluaXRpYWxpemVkOiB0cnVlLCByb3dzOiBhY3Rpb24uZGF0YS5saW5rcyB9LFxuICAgICAgICBhY3Rpb24uZGF0YS5wcmVmID8geyBwcmVmOiBhY3Rpb24uZGF0YS5wcmVmIH0gOiB7fVxuICAgICAgKTtcbiAgICBjYXNlIGF0LlRPUF9TSVRFU19QUkVGU19VUERBVEVEOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyBwcmVmOiBhY3Rpb24uZGF0YS5wcmVmIH0pO1xuICAgIGNhc2UgYXQuVE9QX1NJVEVTX0VESVQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7XG4gICAgICAgIGVkaXRGb3JtOiB7XG4gICAgICAgICAgaW5kZXg6IGFjdGlvbi5kYXRhLmluZGV4LFxuICAgICAgICAgIHByZXZpZXdSZXNwb25zZTogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIGNhc2UgYXQuVE9QX1NJVEVTX0NBTkNFTF9FRElUOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyBlZGl0Rm9ybTogbnVsbCB9KTtcbiAgICBjYXNlIGF0LlRPUF9TSVRFU19PUEVOX1NFQVJDSF9TSE9SVENVVFNfTU9EQUw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHNob3dTZWFyY2hTaG9ydGN1dHNGb3JtOiB0cnVlIH0pO1xuICAgIGNhc2UgYXQuVE9QX1NJVEVTX0NMT1NFX1NFQVJDSF9TSE9SVENVVFNfTU9EQUw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHNob3dTZWFyY2hTaG9ydGN1dHNGb3JtOiBmYWxzZSB9KTtcbiAgICBjYXNlIGF0LlBSRVZJRVdfUkVTUE9OU0U6XG4gICAgICBpZiAoXG4gICAgICAgICFwcmV2U3RhdGUuZWRpdEZvcm0gfHxcbiAgICAgICAgYWN0aW9uLmRhdGEudXJsICE9PSBwcmV2U3RhdGUuZWRpdEZvcm0ucHJldmlld1VybFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7XG4gICAgICAgIGVkaXRGb3JtOiB7XG4gICAgICAgICAgaW5kZXg6IHByZXZTdGF0ZS5lZGl0Rm9ybS5pbmRleCxcbiAgICAgICAgICBwcmV2aWV3UmVzcG9uc2U6IGFjdGlvbi5kYXRhLnByZXZpZXcsXG4gICAgICAgICAgcHJldmlld1VybDogYWN0aW9uLmRhdGEudXJsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgY2FzZSBhdC5QUkVWSUVXX1JFUVVFU1Q6XG4gICAgICBpZiAoIXByZXZTdGF0ZS5lZGl0Rm9ybSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwge1xuICAgICAgICBlZGl0Rm9ybToge1xuICAgICAgICAgIGluZGV4OiBwcmV2U3RhdGUuZWRpdEZvcm0uaW5kZXgsXG4gICAgICAgICAgcHJldmlld1Jlc3BvbnNlOiBudWxsLFxuICAgICAgICAgIHByZXZpZXdVcmw6IGFjdGlvbi5kYXRhLnVybCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIGNhc2UgYXQuUFJFVklFV19SRVFVRVNUX0NBTkNFTDpcbiAgICAgIGlmICghcHJldlN0YXRlLmVkaXRGb3JtKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7XG4gICAgICAgIGVkaXRGb3JtOiB7XG4gICAgICAgICAgaW5kZXg6IHByZXZTdGF0ZS5lZGl0Rm9ybS5pbmRleCxcbiAgICAgICAgICBwcmV2aWV3UmVzcG9uc2U6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICBjYXNlIGF0LlNDUkVFTlNIT1RfVVBEQVRFRDpcbiAgICAgIG5ld1Jvd3MgPSBwcmV2U3RhdGUucm93cy5tYXAocm93ID0+IHtcbiAgICAgICAgaWYgKHJvdyAmJiByb3cudXJsID09PSBhY3Rpb24uZGF0YS51cmwpIHtcbiAgICAgICAgICBoYXNNYXRjaCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHJvdywgeyBzY3JlZW5zaG90OiBhY3Rpb24uZGF0YS5zY3JlZW5zaG90IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3c7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBoYXNNYXRjaFxuICAgICAgICA/IE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyByb3dzOiBuZXdSb3dzIH0pXG4gICAgICAgIDogcHJldlN0YXRlO1xuICAgIGNhc2UgYXQuUExBQ0VTX0JPT0tNQVJLX0FEREVEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgbmV3Um93cyA9IHByZXZTdGF0ZS5yb3dzLm1hcChzaXRlID0+IHtcbiAgICAgICAgaWYgKHNpdGUgJiYgc2l0ZS51cmwgPT09IGFjdGlvbi5kYXRhLnVybCkge1xuICAgICAgICAgIGNvbnN0IHsgYm9va21hcmtHdWlkLCBib29rbWFya1RpdGxlLCBkYXRlQWRkZWQgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzaXRlLCB7XG4gICAgICAgICAgICBib29rbWFya0d1aWQsXG4gICAgICAgICAgICBib29rbWFya1RpdGxlLFxuICAgICAgICAgICAgYm9va21hcmtEYXRlQ3JlYXRlZDogZGF0ZUFkZGVkLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaXRlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHJvd3M6IG5ld1Jvd3MgfSk7XG4gICAgY2FzZSBhdC5QTEFDRVNfQk9PS01BUktTX1JFTU9WRUQ6XG4gICAgICBpZiAoIWFjdGlvbi5kYXRhKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICBuZXdSb3dzID0gcHJldlN0YXRlLnJvd3MubWFwKHNpdGUgPT4ge1xuICAgICAgICBpZiAoc2l0ZSAmJiBhY3Rpb24uZGF0YS51cmxzLmluY2x1ZGVzKHNpdGUudXJsKSkge1xuICAgICAgICAgIGNvbnN0IG5ld1NpdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzaXRlKTtcbiAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya0d1aWQ7XG4gICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtUaXRsZTtcbiAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya0RhdGVDcmVhdGVkO1xuICAgICAgICAgIHJldHVybiBuZXdTaXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaXRlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHJvd3M6IG5ld1Jvd3MgfSk7XG4gICAgY2FzZSBhdC5QTEFDRVNfTElOS1NfREVMRVRFRDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIG5ld1Jvd3MgPSBwcmV2U3RhdGUucm93cy5maWx0ZXIoXG4gICAgICAgIHNpdGUgPT4gIWFjdGlvbi5kYXRhLnVybHMuaW5jbHVkZXMoc2l0ZS51cmwpXG4gICAgICApO1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyByb3dzOiBuZXdSb3dzIH0pO1xuICAgIGNhc2UgYXQuVVBEQVRFX1NFQVJDSF9TSE9SVENVVFM6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIHNlYXJjaFNob3J0Y3V0czogYWN0aW9uLmRhdGEuc2VhcmNoU2hvcnRjdXRzIH07XG4gICAgY2FzZSBhdC5TTklQUEVUU19QUkVWSUVXX01PREU6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIHJvd3M6IFtdIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gRGlhbG9nKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuRGlhbG9nLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuRElBTE9HX09QRU46XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHZpc2libGU6IHRydWUsIGRhdGE6IGFjdGlvbi5kYXRhIH0pO1xuICAgIGNhc2UgYXQuRElBTE9HX0NBTkNFTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgdmlzaWJsZTogZmFsc2UgfSk7XG4gICAgY2FzZSBhdC5ERUxFVEVfSElTVE9SWV9VUkw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgSU5JVElBTF9TVEFURS5EaWFsb2cpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIFByZWZzKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuUHJlZnMsIGFjdGlvbikge1xuICBsZXQgbmV3VmFsdWVzO1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5QUkVGU19JTklUSUFMX1ZBTFVFUzpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHtcbiAgICAgICAgaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICAgIHZhbHVlczogYWN0aW9uLmRhdGEsXG4gICAgICB9KTtcbiAgICBjYXNlIGF0LlBSRUZfQ0hBTkdFRDpcbiAgICAgIG5ld1ZhbHVlcyA9IE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZS52YWx1ZXMpO1xuICAgICAgbmV3VmFsdWVzW2FjdGlvbi5kYXRhLm5hbWVdID0gYWN0aW9uLmRhdGEudmFsdWU7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHZhbHVlczogbmV3VmFsdWVzIH0pO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIFNlY3Rpb25zKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuU2VjdGlvbnMsIGFjdGlvbikge1xuICBsZXQgaGFzTWF0Y2g7XG4gIGxldCBuZXdTdGF0ZTtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuU0VDVElPTl9ERVJFR0lTVEVSOlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5maWx0ZXIoc2VjdGlvbiA9PiBzZWN0aW9uLmlkICE9PSBhY3Rpb24uZGF0YSk7XG4gICAgY2FzZSBhdC5TRUNUSU9OX1JFR0lTVEVSOlxuICAgICAgLy8gSWYgc2VjdGlvbiBleGlzdHMgaW4gcHJldlN0YXRlLCB1cGRhdGUgaXRcbiAgICAgIG5ld1N0YXRlID0gcHJldlN0YXRlLm1hcChzZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHNlY3Rpb24gJiYgc2VjdGlvbi5pZCA9PT0gYWN0aW9uLmRhdGEuaWQpIHtcbiAgICAgICAgICBoYXNNYXRjaCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIGFjdGlvbi5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICAgIH0pO1xuICAgICAgLy8gT3RoZXJ3aXNlLCBhcHBlbmQgaXRcbiAgICAgIGlmICghaGFzTWF0Y2gpIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZWQgPSAhIShhY3Rpb24uZGF0YS5yb3dzICYmICEhYWN0aW9uLmRhdGEucm93cy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7IHRpdGxlOiBcIlwiLCByb3dzOiBbXSwgZW5hYmxlZDogZmFsc2UgfSxcbiAgICAgICAgICBhY3Rpb24uZGF0YSxcbiAgICAgICAgICB7IGluaXRpYWxpemVkIH1cbiAgICAgICAgKTtcbiAgICAgICAgbmV3U3RhdGUucHVzaChzZWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICBjYXNlIGF0LlNFQ1RJT05fVVBEQVRFOlxuICAgICAgbmV3U3RhdGUgPSBwcmV2U3RhdGUubWFwKHNlY3Rpb24gPT4ge1xuICAgICAgICBpZiAoc2VjdGlvbiAmJiBzZWN0aW9uLmlkID09PSBhY3Rpb24uZGF0YS5pZCkge1xuICAgICAgICAgIC8vIElmIHRoZSBhY3Rpb24gaXMgdXBkYXRpbmcgcm93cywgd2Ugc2hvdWxkIGNvbnNpZGVyIGluaXRpYWxpemVkIHRvIGJlIHRydWUuXG4gICAgICAgICAgLy8gVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiBpZiBpbml0aWFsaXplZCBpcyBkZWZpbmVkIGluIHRoZSBhY3Rpb24uZGF0YVxuICAgICAgICAgIGNvbnN0IGluaXRpYWxpemVkID0gYWN0aW9uLmRhdGEucm93cyA/IHsgaW5pdGlhbGl6ZWQ6IHRydWUgfSA6IHt9O1xuXG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHBpbm5lZCBjYXJkcyBzdGF5IGF0IHRoZWlyIGN1cnJlbnQgcG9zaXRpb24gd2hlbiByb3dzIGFyZSB1cGRhdGVkLlxuICAgICAgICAgIC8vIERpc2FibGluZyBhIHNlY3Rpb24gKFNFQ1RJT05fVVBEQVRFIHdpdGggZW1wdHkgcm93cykgZG9lcyBub3QgcmV0YWluIHBpbm5lZCBjYXJkcy5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBhY3Rpb24uZGF0YS5yb3dzICYmXG4gICAgICAgICAgICAhIWFjdGlvbi5kYXRhLnJvd3MubGVuZ3RoICYmXG4gICAgICAgICAgICBzZWN0aW9uLnJvd3MuZmluZChjYXJkID0+IGNhcmQucGlubmVkKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3Qgcm93cyA9IEFycmF5LmZyb20oYWN0aW9uLmRhdGEucm93cyk7XG4gICAgICAgICAgICBzZWN0aW9uLnJvd3MuZm9yRWFjaCgoY2FyZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGNhcmQucGlubmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBhZGQgaXQgaWYgaXQncyBub3QgYWxyZWFkeSB0aGVyZS5cbiAgICAgICAgICAgICAgICBpZiAocm93c1tpbmRleF0uZ3VpZCAhPT0gY2FyZC5ndWlkKSB7XG4gICAgICAgICAgICAgICAgICByb3dzLnNwbGljZShpbmRleCwgMCwgY2FyZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgc2VjdGlvbixcbiAgICAgICAgICAgICAgaW5pdGlhbGl6ZWQsXG4gICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbi5kYXRhLCB7IHJvd3MgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIGluaXRpYWxpemVkLCBhY3Rpb24uZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlY3Rpb247XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFhY3Rpb24uZGF0YS5kZWR1cGVDb25maWd1cmF0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICB9XG5cbiAgICAgIGFjdGlvbi5kYXRhLmRlZHVwZUNvbmZpZ3VyYXRpb25zLmZvckVhY2goZGVkdXBlQ29uZiA9PiB7XG4gICAgICAgIG5ld1N0YXRlID0gbmV3U3RhdGUubWFwKHNlY3Rpb24gPT4ge1xuICAgICAgICAgIGlmIChzZWN0aW9uLmlkID09PSBkZWR1cGVDb25mLmlkKSB7XG4gICAgICAgICAgICBjb25zdCBkZWR1cGVkUm93cyA9IGRlZHVwZUNvbmYuZGVkdXBlRnJvbS5yZWR1Y2UoXG4gICAgICAgICAgICAgIChyb3dzLCBkZWR1cGVTZWN0aW9uSWQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWR1cGVTZWN0aW9uID0gbmV3U3RhdGUuZmluZChcbiAgICAgICAgICAgICAgICAgIHMgPT4gcy5pZCA9PT0gZGVkdXBlU2VjdGlvbklkXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBbLCBuZXdSb3dzXSA9IGRlZHVwZS5ncm91cChkZWR1cGVTZWN0aW9uLnJvd3MsIHJvd3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdSb3dzO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzZWN0aW9uLnJvd3NcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7IHJvd3M6IGRlZHVwZWRSb3dzIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzZWN0aW9uO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgY2FzZSBhdC5TRUNUSU9OX1VQREFURV9DQVJEOlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PiB7XG4gICAgICAgIGlmIChzZWN0aW9uICYmIHNlY3Rpb24uaWQgPT09IGFjdGlvbi5kYXRhLmlkICYmIHNlY3Rpb24ucm93cykge1xuICAgICAgICAgIGNvbnN0IG5ld1Jvd3MgPSBzZWN0aW9uLnJvd3MubWFwKGNhcmQgPT4ge1xuICAgICAgICAgICAgaWYgKGNhcmQudXJsID09PSBhY3Rpb24uZGF0YS51cmwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNhcmQsIGFjdGlvbi5kYXRhLm9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNhcmQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIHsgcm93czogbmV3Um93cyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICAgIH0pO1xuICAgIGNhc2UgYXQuUExBQ0VTX0JPT0tNQVJLX0FEREVEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7XG4gICAgICAgICAgcm93czogc2VjdGlvbi5yb3dzLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgIC8vIGZpbmQgdGhlIGl0ZW0gd2l0aGluIHRoZSByb3dzIHRoYXQgaXMgYXR0ZW1wdGVkIHRvIGJlIGJvb2ttYXJrZWRcbiAgICAgICAgICAgIGlmIChpdGVtLnVybCA9PT0gYWN0aW9uLmRhdGEudXJsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgYm9va21hcmtHdWlkLCBib29rbWFya1RpdGxlLCBkYXRlQWRkZWQgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgICAgICAgICAgIGJvb2ttYXJrR3VpZCxcbiAgICAgICAgICAgICAgICBib29rbWFya1RpdGxlLFxuICAgICAgICAgICAgICAgIGJvb2ttYXJrRGF0ZUNyZWF0ZWQ6IGRhdGVBZGRlZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2ttYXJrXCIsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgfSksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIGNhc2UgYXQuUExBQ0VTX1NBVkVEX1RPX1BPQ0tFVDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2U3RhdGUubWFwKHNlY3Rpb24gPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwge1xuICAgICAgICAgIHJvd3M6IHNlY3Rpb24ucm93cy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbS51cmwgPT09IGFjdGlvbi5kYXRhLnVybCkge1xuICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgICAgICAgICAgIG9wZW5fdXJsOiBhY3Rpb24uZGF0YS5vcGVuX3VybCxcbiAgICAgICAgICAgICAgICBwb2NrZXRfaWQ6IGFjdGlvbi5kYXRhLnBvY2tldF9pZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogYWN0aW9uLmRhdGEudGl0bGUsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJwb2NrZXRcIixcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgY2FzZSBhdC5QTEFDRVNfQk9PS01BUktTX1JFTU9WRUQ6XG4gICAgICBpZiAoIWFjdGlvbi5kYXRhKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJldlN0YXRlLm1hcChzZWN0aW9uID0+XG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIHtcbiAgICAgICAgICByb3dzOiBzZWN0aW9uLnJvd3MubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgLy8gZmluZCB0aGUgYm9va21hcmsgd2l0aGluIHRoZSByb3dzIHRoYXQgaXMgYXR0ZW1wdGVkIHRvIGJlIHJlbW92ZWRcbiAgICAgICAgICAgIGlmIChhY3Rpb24uZGF0YS51cmxzLmluY2x1ZGVzKGl0ZW0udXJsKSkge1xuICAgICAgICAgICAgICBjb25zdCBuZXdTaXRlID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7XG4gICAgICAgICAgICAgIGRlbGV0ZSBuZXdTaXRlLmJvb2ttYXJrR3VpZDtcbiAgICAgICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtUaXRsZTtcbiAgICAgICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtEYXRlQ3JlYXRlZDtcbiAgICAgICAgICAgICAgaWYgKCFuZXdTaXRlLnR5cGUgfHwgbmV3U2l0ZS50eXBlID09PSBcImJvb2ttYXJrXCIpIHtcbiAgICAgICAgICAgICAgICBuZXdTaXRlLnR5cGUgPSBcImhpc3RvcnlcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gbmV3U2l0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgIH0pLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICBjYXNlIGF0LlBMQUNFU19MSU5LU19ERUxFVEVEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7XG4gICAgICAgICAgcm93czogc2VjdGlvbi5yb3dzLmZpbHRlcihcbiAgICAgICAgICAgIHNpdGUgPT4gIWFjdGlvbi5kYXRhLnVybHMuaW5jbHVkZXMoc2l0ZS51cmwpXG4gICAgICAgICAgKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgY2FzZSBhdC5QTEFDRVNfTElOS19CTE9DS0VEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7XG4gICAgICAgICAgcm93czogc2VjdGlvbi5yb3dzLmZpbHRlcihzaXRlID0+IHNpdGUudXJsICE9PSBhY3Rpb24uZGF0YS51cmwpLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICBjYXNlIGF0LkRFTEVURV9GUk9NX1BPQ0tFVDpcbiAgICBjYXNlIGF0LkFSQ0hJVkVfRlJPTV9QT0NLRVQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlLm1hcChzZWN0aW9uID0+XG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIHtcbiAgICAgICAgICByb3dzOiBzZWN0aW9uLnJvd3MuZmlsdGVyKFxuICAgICAgICAgICAgc2l0ZSA9PiBzaXRlLnBvY2tldF9pZCAhPT0gYWN0aW9uLmRhdGEucG9ja2V0X2lkXG4gICAgICAgICAgKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgY2FzZSBhdC5TTklQUEVUU19QUkVWSUVXX01PREU6XG4gICAgICByZXR1cm4gcHJldlN0YXRlLm1hcChzZWN0aW9uID0+ICh7IC4uLnNlY3Rpb24sIHJvd3M6IFtdIH0pKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBTbmlwcGV0cyhwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLlNuaXBwZXRzLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuU05JUFBFVFNfREFUQTpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgaW5pdGlhbGl6ZWQ6IHRydWUgfSwgYWN0aW9uLmRhdGEpO1xuICAgIGNhc2UgYXQuU05JUFBFVF9CTE9DS0VEOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwge1xuICAgICAgICBibG9ja0xpc3Q6IHByZXZTdGF0ZS5ibG9ja0xpc3QuY29uY2F0KGFjdGlvbi5kYXRhKSxcbiAgICAgIH0pO1xuICAgIGNhc2UgYXQuU05JUFBFVFNfQkxPQ0tMSVNUX0NMRUFSRUQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IGJsb2NrTGlzdDogW10gfSk7XG4gICAgY2FzZSBhdC5TTklQUEVUU19SRVNFVDpcbiAgICAgIHJldHVybiBJTklUSUFMX1NUQVRFLlNuaXBwZXRzO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIFBvY2tldChwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLlBvY2tldCwgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LlBPQ0tFVF9XQUlUSU5HX0ZPUl9TUE9DOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCB3YWl0aW5nRm9yU3BvYzogYWN0aW9uLmRhdGEgfTtcbiAgICBjYXNlIGF0LlBPQ0tFVF9MT0dHRURfSU46XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIGlzVXNlckxvZ2dlZEluOiAhIWFjdGlvbi5kYXRhIH07XG4gICAgY2FzZSBhdC5QT0NLRVRfQ1RBOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBwb2NrZXRDdGE6IHtcbiAgICAgICAgICBjdGFCdXR0b246IGFjdGlvbi5kYXRhLmN0YV9idXR0b24sXG4gICAgICAgICAgY3RhVGV4dDogYWN0aW9uLmRhdGEuY3RhX3RleHQsXG4gICAgICAgICAgY3RhVXJsOiBhY3Rpb24uZGF0YS5jdGFfdXJsLFxuICAgICAgICAgIHVzZUN0YTogYWN0aW9uLmRhdGEudXNlX2N0YSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gUGVyc29uYWxpemF0aW9uKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuUGVyc29uYWxpemF0aW9uLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fTEFTVF9VUERBVEVEOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBsYXN0VXBkYXRlZDogYWN0aW9uLmRhdGEubGFzdFVwZGF0ZWQsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fSU5JVDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiBEaXNjb3ZlcnlTdHJlYW0ocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5EaXNjb3ZlcnlTdHJlYW0sIGFjdGlvbikge1xuICAvLyBSZXR1cm4gaWYgYWN0aW9uIGRhdGEgaXMgZW1wdHksIG9yIHNwb2NzIG9yIGZlZWRzIGRhdGEgaXMgbm90IGxvYWRlZFxuICBjb25zdCBpc05vdFJlYWR5ID0gKCkgPT5cbiAgICAhYWN0aW9uLmRhdGEgfHwgIXByZXZTdGF0ZS5zcG9jcy5sb2FkZWQgfHwgIXByZXZTdGF0ZS5mZWVkcy5sb2FkZWQ7XG5cbiAgY29uc3QgaGFuZGxlUGxhY2VtZW50cyA9IGhhbmRsZVNpdGVzID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIHBsYWNlbWVudHMgfSA9IHByZXZTdGF0ZS5zcG9jcztcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcblxuICAgIGNvbnN0IGZvclBsYWNlbWVudCA9IHBsYWNlbWVudCA9PiB7XG4gICAgICBjb25zdCBwbGFjZW1lbnRTcG9jcyA9IGRhdGFbcGxhY2VtZW50Lm5hbWVdO1xuXG4gICAgICBpZiAoXG4gICAgICAgICFwbGFjZW1lbnRTcG9jcyB8fFxuICAgICAgICAhcGxhY2VtZW50U3BvY3MuaXRlbXMgfHxcbiAgICAgICAgIXBsYWNlbWVudFNwb2NzLml0ZW1zLmxlbmd0aFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0W3BsYWNlbWVudC5uYW1lXSA9IHtcbiAgICAgICAgLi4ucGxhY2VtZW50U3BvY3MsXG4gICAgICAgIGl0ZW1zOiBoYW5kbGVTaXRlcyhwbGFjZW1lbnRTcG9jcy5pdGVtcyksXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBpZiAoIXBsYWNlbWVudHMgfHwgIXBsYWNlbWVudHMubGVuZ3RoKSB7XG4gICAgICBbeyBuYW1lOiBcInNwb2NzXCIgfV0uZm9yRWFjaChmb3JQbGFjZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwbGFjZW1lbnRzLmZvckVhY2goZm9yUGxhY2VtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBjb25zdCBuZXh0U3RhdGUgPSBoYW5kbGVTaXRlcyA9PiAoe1xuICAgIC4uLnByZXZTdGF0ZSxcbiAgICBzcG9jczoge1xuICAgICAgLi4ucHJldlN0YXRlLnNwb2NzLFxuICAgICAgZGF0YTogaGFuZGxlUGxhY2VtZW50cyhoYW5kbGVTaXRlcyksXG4gICAgfSxcbiAgICBmZWVkczoge1xuICAgICAgLi4ucHJldlN0YXRlLmZlZWRzLFxuICAgICAgZGF0YTogT2JqZWN0LmtleXMocHJldlN0YXRlLmZlZWRzLmRhdGEpLnJlZHVjZShcbiAgICAgICAgKGFjY3VtdWxhdG9yLCBmZWVkX3VybCkgPT4ge1xuICAgICAgICAgIGFjY3VtdWxhdG9yW2ZlZWRfdXJsXSA9IHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgLi4ucHJldlN0YXRlLmZlZWRzLmRhdGFbZmVlZF91cmxdLmRhdGEsXG4gICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogaGFuZGxlU2l0ZXMoXG4gICAgICAgICAgICAgICAgcHJldlN0YXRlLmZlZWRzLmRhdGFbZmVlZF91cmxdLmRhdGEucmVjb21tZW5kYXRpb25zXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgICAgICB9LFxuICAgICAgICB7fVxuICAgICAgKSxcbiAgICB9LFxuICB9KTtcblxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19DSEFOR0U6XG4gICAgLy8gRmFsbCB0aHJvdWdoIHRvIGEgc2VwYXJhdGUgYWN0aW9uIGlzIHNvIGl0IGRvZXNuJ3QgdHJpZ2dlciBhIGxpc3RlbmVyIHVwZGF0ZSBvbiBpbml0XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19TRVRVUDpcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgY29uZmlnOiBhY3Rpb24uZGF0YSB8fCB7fSB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9MQVlPVVRfVVBEQVRFOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBsYXN0VXBkYXRlZDogYWN0aW9uLmRhdGEubGFzdFVwZGF0ZWQgfHwgbnVsbCxcbiAgICAgICAgbGF5b3V0OiBhY3Rpb24uZGF0YS5sYXlvdXQgfHwgW10sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9DT0xMRUNUSU9OX0RJU01JU1NJQkxFX1RPR0dMRTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgaXNDb2xsZWN0aW9uRGlzbWlzc2libGU6IGFjdGlvbi5kYXRhLnZhbHVlLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkhJREVfUFJJVkFDWV9JTkZPOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBpc1ByaXZhY3lJbmZvTW9kYWxWaXNpYmxlOiBmYWxzZSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5TSE9XX1BSSVZBQ1lfSU5GTzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgaXNQcml2YWN5SW5mb01vZGFsVmlzaWJsZTogdHJ1ZSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX0xBWU9VVF9SRVNFVDpcbiAgICAgIHJldHVybiB7IC4uLklOSVRJQUxfU1RBVEUuRGlzY292ZXJ5U3RyZWFtLCBjb25maWc6IHByZXZTdGF0ZS5jb25maWcgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fRkVFRFNfVVBEQVRFOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBmZWVkczoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5mZWVkcyxcbiAgICAgICAgICBsb2FkZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9GRUVEX1VQREFURTpcbiAgICAgIGNvbnN0IG5ld0RhdGEgPSB7fTtcbiAgICAgIG5ld0RhdGFbYWN0aW9uLmRhdGEudXJsXSA9IGFjdGlvbi5kYXRhLmZlZWQ7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGZlZWRzOiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlLmZlZWRzLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIC4uLnByZXZTdGF0ZS5mZWVkcy5kYXRhLFxuICAgICAgICAgICAgLi4ubmV3RGF0YSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfQ0FQUzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgc3BvY3M6IHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGUuc3BvY3MsXG4gICAgICAgICAgZnJlcXVlbmN5X2NhcHM6IFsuLi5wcmV2U3RhdGUuc3BvY3MuZnJlcXVlbmN5X2NhcHMsIC4uLmFjdGlvbi5kYXRhXSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1NQT0NTX0VORFBPSU5UOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBzcG9jczoge1xuICAgICAgICAgIC4uLklOSVRJQUxfU1RBVEUuRGlzY292ZXJ5U3RyZWFtLnNwb2NzLFxuICAgICAgICAgIHNwb2NzX2VuZHBvaW50OlxuICAgICAgICAgICAgYWN0aW9uLmRhdGEudXJsIHx8XG4gICAgICAgICAgICBJTklUSUFMX1NUQVRFLkRpc2NvdmVyeVN0cmVhbS5zcG9jcy5zcG9jc19lbmRwb2ludCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1NQT0NTX1BMQUNFTUVOVFM6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHNwb2NzOiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlLnNwb2NzLFxuICAgICAgICAgIHBsYWNlbWVudHM6XG4gICAgICAgICAgICBhY3Rpb24uZGF0YS5wbGFjZW1lbnRzIHx8XG4gICAgICAgICAgICBJTklUSUFMX1NUQVRFLkRpc2NvdmVyeVN0cmVhbS5zcG9jcy5wbGFjZW1lbnRzLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfVVBEQVRFOlxuICAgICAgaWYgKGFjdGlvbi5kYXRhKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICAgIHNwb2NzOiB7XG4gICAgICAgICAgICAuLi5wcmV2U3RhdGUuc3BvY3MsXG4gICAgICAgICAgICBsYXN0VXBkYXRlZDogYWN0aW9uLmRhdGEubGFzdFVwZGF0ZWQsXG4gICAgICAgICAgICBkYXRhOiBhY3Rpb24uZGF0YS5zcG9jcyxcbiAgICAgICAgICAgIGxvYWRlZDogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fU1BPQ19CTE9DS0VEOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBzcG9jczoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5zcG9jcyxcbiAgICAgICAgICBibG9ja2VkOiBbLi4ucHJldlN0YXRlLnNwb2NzLmJsb2NrZWQsIGFjdGlvbi5kYXRhLnVybF0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9MSU5LX0JMT0NLRUQ6XG4gICAgICByZXR1cm4gaXNOb3RSZWFkeSgpXG4gICAgICAgID8gcHJldlN0YXRlXG4gICAgICAgIDogbmV4dFN0YXRlKGl0ZW1zID0+XG4gICAgICAgICAgICBpdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLnVybCAhPT0gYWN0aW9uLmRhdGEudXJsKVxuICAgICAgICAgICk7XG5cbiAgICBjYXNlIGF0LlBMQUNFU19TQVZFRF9UT19QT0NLRVQ6XG4gICAgICBjb25zdCBhZGRQb2NrZXRJbmZvID0gaXRlbSA9PiB7XG4gICAgICAgIGlmIChpdGVtLnVybCA9PT0gYWN0aW9uLmRhdGEudXJsKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHtcbiAgICAgICAgICAgIG9wZW5fdXJsOiBhY3Rpb24uZGF0YS5vcGVuX3VybCxcbiAgICAgICAgICAgIHBvY2tldF9pZDogYWN0aW9uLmRhdGEucG9ja2V0X2lkLFxuICAgICAgICAgICAgY29udGV4dF90eXBlOiBcInBvY2tldFwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBpc05vdFJlYWR5KClcbiAgICAgICAgPyBwcmV2U3RhdGVcbiAgICAgICAgOiBuZXh0U3RhdGUoaXRlbXMgPT4gaXRlbXMubWFwKGFkZFBvY2tldEluZm8pKTtcblxuICAgIGNhc2UgYXQuREVMRVRFX0ZST01fUE9DS0VUOlxuICAgIGNhc2UgYXQuQVJDSElWRV9GUk9NX1BPQ0tFVDpcbiAgICAgIHJldHVybiBpc05vdFJlYWR5KClcbiAgICAgICAgPyBwcmV2U3RhdGVcbiAgICAgICAgOiBuZXh0U3RhdGUoaXRlbXMgPT5cbiAgICAgICAgICAgIGl0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0ucG9ja2V0X2lkICE9PSBhY3Rpb24uZGF0YS5wb2NrZXRfaWQpXG4gICAgICAgICAgKTtcblxuICAgIGNhc2UgYXQuUExBQ0VTX0JPT0tNQVJLX0FEREVEOlxuICAgICAgY29uc3QgdXBkYXRlQm9va21hcmtJbmZvID0gaXRlbSA9PiB7XG4gICAgICAgIGlmIChpdGVtLnVybCA9PT0gYWN0aW9uLmRhdGEudXJsKSB7XG4gICAgICAgICAgY29uc3QgeyBib29rbWFya0d1aWQsIGJvb2ttYXJrVGl0bGUsIGRhdGVBZGRlZCB9ID0gYWN0aW9uLmRhdGE7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHtcbiAgICAgICAgICAgIGJvb2ttYXJrR3VpZCxcbiAgICAgICAgICAgIGJvb2ttYXJrVGl0bGUsXG4gICAgICAgICAgICBib29rbWFya0RhdGVDcmVhdGVkOiBkYXRlQWRkZWQsXG4gICAgICAgICAgICBjb250ZXh0X3R5cGU6IFwiYm9va21hcmtcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gaXNOb3RSZWFkeSgpXG4gICAgICAgID8gcHJldlN0YXRlXG4gICAgICAgIDogbmV4dFN0YXRlKGl0ZW1zID0+IGl0ZW1zLm1hcCh1cGRhdGVCb29rbWFya0luZm8pKTtcblxuICAgIGNhc2UgYXQuUExBQ0VTX0JPT0tNQVJLU19SRU1PVkVEOlxuICAgICAgY29uc3QgcmVtb3ZlQm9va21hcmtJbmZvID0gaXRlbSA9PiB7XG4gICAgICAgIGlmIChhY3Rpb24uZGF0YS51cmxzLmluY2x1ZGVzKGl0ZW0udXJsKSkge1xuICAgICAgICAgIGNvbnN0IG5ld1NpdGUgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya0d1aWQ7XG4gICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtUaXRsZTtcbiAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya0RhdGVDcmVhdGVkO1xuICAgICAgICAgIGlmICghbmV3U2l0ZS5jb250ZXh0X3R5cGUgfHwgbmV3U2l0ZS5jb250ZXh0X3R5cGUgPT09IFwiYm9va21hcmtcIikge1xuICAgICAgICAgICAgbmV3U2l0ZS5jb250ZXh0X3R5cGUgPSBcInJlbW92ZWRCb29rbWFya1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3U2l0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gaXNOb3RSZWFkeSgpXG4gICAgICAgID8gcHJldlN0YXRlXG4gICAgICAgIDogbmV4dFN0YXRlKGl0ZW1zID0+IGl0ZW1zLm1hcChyZW1vdmVCb29rbWFya0luZm8pKTtcbiAgICBjYXNlIGF0LlBSRUZfQ0hBTkdFRDpcbiAgICAgIGlmIChhY3Rpb24uZGF0YS5uYW1lID09PSBQUkVGX0NPTExFQ1RJT05fRElTTUlTU0lCTEUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgICAgaXNDb2xsZWN0aW9uRGlzbWlzc2libGU6IGFjdGlvbi5kYXRhLnZhbHVlLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBTZWFyY2gocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5TZWFyY2gsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5ESVNBQkxFX1NFQVJDSDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsgLi4ucHJldlN0YXRlLCBkaXNhYmxlOiB0cnVlIH0pO1xuICAgIGNhc2UgYXQuRkFLRV9GT0NVU19TRUFSQ0g6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7IC4uLnByZXZTdGF0ZSwgZmFrZUZvY3VzOiB0cnVlIH0pO1xuICAgIGNhc2UgYXQuU0hPV19TRUFSQ0g6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7IC4uLnByZXZTdGF0ZSwgZGlzYWJsZTogZmFsc2UsIGZha2VGb2N1czogZmFsc2UgfSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxudGhpcy5JTklUSUFMX1NUQVRFID0gSU5JVElBTF9TVEFURTtcbnRoaXMuVE9QX1NJVEVTX0RFRkFVTFRfUk9XUyA9IFRPUF9TSVRFU19ERUZBVUxUX1JPV1M7XG50aGlzLlRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVyA9IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVztcblxudGhpcy5yZWR1Y2VycyA9IHtcbiAgVG9wU2l0ZXMsXG4gIEFwcCxcbiAgQVNSb3V0ZXIsXG4gIFNuaXBwZXRzLFxuICBQcmVmcyxcbiAgRGlhbG9nLFxuICBTZWN0aW9ucyxcbiAgUG9ja2V0LFxuICBQZXJzb25hbGl6YXRpb24sXG4gIERpc2NvdmVyeVN0cmVhbSxcbiAgU2VhcmNoLFxufTtcblxuY29uc3QgRVhQT1JURURfU1lNQk9MUyA9IFtcbiAgXCJyZWR1Y2Vyc1wiLFxuICBcIklOSVRJQUxfU1RBVEVcIixcbiAgXCJpbnNlcnRQaW5uZWRcIixcbiAgXCJUT1BfU0lURVNfREVGQVVMVF9ST1dTXCIsXG4gIFwiVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XXCIsXG5dO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgVG9wU2l0ZUZvcm1JbnB1dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyB2YWxpZGF0aW9uRXJyb3I6IHRoaXMucHJvcHMudmFsaWRhdGlvbkVycm9yIH07XG4gICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTW91bnQgPSB0aGlzLm9uTW91bnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ2xlYXJJY29uUHJlc3MgPSB0aGlzLm9uQ2xlYXJJY29uUHJlc3MuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKG5leHRQcm9wcy5zaG91bGRGb2N1cyAmJiAhdGhpcy5wcm9wcy5zaG91bGRGb2N1cykge1xuICAgICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICAgIH1cbiAgICBpZiAobmV4dFByb3BzLnZhbGlkYXRpb25FcnJvciAmJiAhdGhpcy5wcm9wcy52YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0aW9uRXJyb3I6IHRydWUgfSk7XG4gICAgfVxuICAgIC8vIElmIHRoZSBjb21wb25lbnQgaXMgaW4gYW4gZXJyb3Igc3RhdGUgYnV0IHRoZSB2YWx1ZSB3YXMgY2xlYXJlZCBieSB0aGUgcGFyZW50XG4gICAgaWYgKHRoaXMuc3RhdGUudmFsaWRhdGlvbkVycm9yICYmICFuZXh0UHJvcHMudmFsdWUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0aW9uRXJyb3I6IGZhbHNlIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2xlYXJJY29uUHJlc3MoZXZlbnQpIHtcbiAgICAvLyBJZiB0aGVyZSBpcyBpbnB1dCBpbiB0aGUgVVJMIG9yIGN1c3RvbSBpbWFnZSBVUkwgZmllbGRzLFxuICAgIC8vIGFuZCB3ZSBoaXQgJ2VudGVyJyB3aGlsZSB0YWJiZWQgb3ZlciB0aGUgY2xlYXIgaWNvbixcbiAgICAvLyB3ZSBzaG91bGQgZXhlY3V0ZSB0aGUgZnVuY3Rpb24gdG8gY2xlYXIgdGhlIGZpZWxkLlxuICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgdGhpcy5wcm9wcy5vbkNsZWFyKCk7XG4gICAgfVxuICB9XG5cbiAgb25DaGFuZ2UoZXYpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS52YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0aW9uRXJyb3I6IGZhbHNlIH0pO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGV2KTtcbiAgfVxuXG4gIG9uTW91bnQoaW5wdXQpIHtcbiAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nT3JDbG9zZUJ1dHRvbigpIHtcbiAgICBjb25zdCBzaG93Q2xlYXJCdXR0b24gPSB0aGlzLnByb3BzLnZhbHVlICYmIHRoaXMucHJvcHMub25DbGVhcjtcblxuICAgIGlmICh0aGlzLnByb3BzLmxvYWRpbmcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZGluZy1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctYW5pbWF0aW9uXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoc2hvd0NsZWFyQnV0dG9uKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbiBpY29uLWNsZWFyLWlucHV0IGljb24tYnV0dG9uLXN0eWxlXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xlYXJ9XG4gICAgICAgICAgb25LZXlQcmVzcz17dGhpcy5vbkNsZWFySWNvblByZXNzfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB0eXBlVXJsIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgdmFsaWRhdGlvbkVycm9yIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsYWJlbD5cbiAgICAgICAgPHNwYW4gZGF0YS1sMTBuLWlkPXt0aGlzLnByb3BzLnRpdGxlSWR9IC8+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2BmaWVsZCAke3R5cGVVcmwgPyBcInVybFwiIDogXCJcIn0ke1xuICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9yID8gXCIgaW52YWxpZFwiIDogXCJcIlxuICAgICAgICAgIH1gfVxuICAgICAgICA+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy52YWx1ZX1cbiAgICAgICAgICAgIHJlZj17dGhpcy5vbk1vdW50fVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9e3RoaXMucHJvcHMucGxhY2Vob2xkZXJJZH1cbiAgICAgICAgICAgIC8vIFNldCBmb2N1cyBvbiBlcnJvciBpZiB0aGUgdXJsIGZpZWxkIGlzIHZhbGlkIG9yIHdoZW4gdGhlIGlucHV0IGlzIGZpcnN0IHJlbmRlcmVkIGFuZCBpcyBlbXB0eVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L25vLWF1dG9mb2N1c1xuICAgICAgICAgICAgYXV0b0ZvY3VzPXt0aGlzLnByb3BzLnNob3VsZEZvY3VzfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICAvPlxuICAgICAgICAgIHt0aGlzLnJlbmRlckxvYWRpbmdPckNsb3NlQnV0dG9uKCl9XG4gICAgICAgICAge3ZhbGlkYXRpb25FcnJvciAmJiAoXG4gICAgICAgICAgICA8YXNpZGVcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZXJyb3ItdG9vbHRpcFwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17dGhpcy5wcm9wcy5lcnJvck1lc3NhZ2VJZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xhYmVsPlxuICAgICk7XG4gIH1cbn1cblxuVG9wU2l0ZUZvcm1JbnB1dC5kZWZhdWx0UHJvcHMgPSB7XG4gIHNob3dDbGVhckJ1dHRvbjogZmFsc2UsXG4gIHZhbHVlOiBcIlwiLFxuICB2YWxpZGF0aW9uRXJyb3I6IGZhbHNlLFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IEExMXlMaW5rQnV0dG9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQTExeUxpbmtCdXR0b24vQTExeUxpbmtCdXR0b25cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRPUF9TSVRFU19TT1VSQ0UgfSBmcm9tIFwiLi9Ub3BTaXRlc0NvbnN0YW50c1wiO1xuaW1wb3J0IHsgVG9wU2l0ZUZvcm1JbnB1dCB9IGZyb20gXCIuL1RvcFNpdGVGb3JtSW5wdXRcIjtcbmltcG9ydCB7IFRvcFNpdGVMaW5rIH0gZnJvbSBcIi4vVG9wU2l0ZVwiO1xuXG5leHBvcnQgY2xhc3MgVG9wU2l0ZUZvcm0gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgY29uc3QgeyBzaXRlIH0gPSBwcm9wcztcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbGFiZWw6IHNpdGUgPyBzaXRlLmxhYmVsIHx8IHNpdGUuaG9zdG5hbWUgOiBcIlwiLFxuICAgICAgdXJsOiBzaXRlID8gc2l0ZS51cmwgOiBcIlwiLFxuICAgICAgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSxcbiAgICAgIGN1c3RvbVNjcmVlbnNob3RVcmw6IHNpdGUgPyBzaXRlLmN1c3RvbVNjcmVlbnNob3RVUkwgOiBcIlwiLFxuICAgICAgc2hvd0N1c3RvbVNjcmVlbnNob3RGb3JtOiBzaXRlID8gc2l0ZS5jdXN0b21TY3JlZW5zaG90VVJMIDogZmFsc2UsXG4gICAgfTtcbiAgICB0aGlzLm9uQ2xlYXJTY3JlZW5zaG90SW5wdXQgPSB0aGlzLm9uQ2xlYXJTY3JlZW5zaG90SW5wdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTGFiZWxDaGFuZ2UgPSB0aGlzLm9uTGFiZWxDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uVXJsQ2hhbmdlID0gdGhpcy5vblVybENoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DYW5jZWxCdXR0b25DbGljayA9IHRoaXMub25DYW5jZWxCdXR0b25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DbGVhclVybENsaWNrID0gdGhpcy5vbkNsZWFyVXJsQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uRG9uZUJ1dHRvbkNsaWNrID0gdGhpcy5vbkRvbmVCdXR0b25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DdXN0b21TY3JlZW5zaG90VXJsQ2hhbmdlID0gdGhpcy5vbkN1c3RvbVNjcmVlbnNob3RVcmxDaGFuZ2UuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICAgIHRoaXMub25QcmV2aWV3QnV0dG9uQ2xpY2sgPSB0aGlzLm9uUHJldmlld0J1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkVuYWJsZVNjcmVlbnNob3RVcmxGb3JtID0gdGhpcy5vbkVuYWJsZVNjcmVlbnNob3RVcmxGb3JtLmJpbmQodGhpcyk7XG4gICAgdGhpcy52YWxpZGF0ZVVybCA9IHRoaXMudmFsaWRhdGVVcmwuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uTGFiZWxDaGFuZ2UoZXZlbnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgbGFiZWw6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcbiAgfVxuXG4gIG9uVXJsQ2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB1cmw6IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgIHZhbGlkYXRpb25FcnJvcjogZmFsc2UsXG4gICAgfSk7XG4gIH1cblxuICBvbkNsZWFyVXJsQ2xpY2soKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB1cmw6IFwiXCIsXG4gICAgICB2YWxpZGF0aW9uRXJyb3I6IGZhbHNlLFxuICAgIH0pO1xuICB9XG5cbiAgb25FbmFibGVTY3JlZW5zaG90VXJsRm9ybSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvd0N1c3RvbVNjcmVlbnNob3RGb3JtOiB0cnVlIH0pO1xuICB9XG5cbiAgX3VwZGF0ZUN1c3RvbVNjcmVlbnNob3RJbnB1dChjdXN0b21TY3JlZW5zaG90VXJsKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjdXN0b21TY3JlZW5zaG90VXJsLFxuICAgICAgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSxcbiAgICB9KTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHsgdHlwZTogYXQuUFJFVklFV19SRVFVRVNUX0NBTkNFTCB9KTtcbiAgfVxuXG4gIG9uQ3VzdG9tU2NyZWVuc2hvdFVybENoYW5nZShldmVudCkge1xuICAgIHRoaXMuX3VwZGF0ZUN1c3RvbVNjcmVlbnNob3RJbnB1dChldmVudC50YXJnZXQudmFsdWUpO1xuICB9XG5cbiAgb25DbGVhclNjcmVlbnNob3RJbnB1dCgpIHtcbiAgICB0aGlzLl91cGRhdGVDdXN0b21TY3JlZW5zaG90SW5wdXQoXCJcIik7XG4gIH1cblxuICBvbkNhbmNlbEJ1dHRvbkNsaWNrKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgfVxuXG4gIG9uRG9uZUJ1dHRvbkNsaWNrKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICh0aGlzLnZhbGlkYXRlRm9ybSgpKSB7XG4gICAgICBjb25zdCBzaXRlID0geyB1cmw6IHRoaXMuY2xlYW5VcmwodGhpcy5zdGF0ZS51cmwpIH07XG4gICAgICBjb25zdCB7IGluZGV4IH0gPSB0aGlzLnByb3BzO1xuICAgICAgaWYgKHRoaXMuc3RhdGUubGFiZWwgIT09IFwiXCIpIHtcbiAgICAgICAgc2l0ZS5sYWJlbCA9IHRoaXMuc3RhdGUubGFiZWw7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmN1c3RvbVNjcmVlbnNob3RVcmwpIHtcbiAgICAgICAgc2l0ZS5jdXN0b21TY3JlZW5zaG90VVJMID0gdGhpcy5jbGVhblVybChcbiAgICAgICAgICB0aGlzLnN0YXRlLmN1c3RvbVNjcmVlbnNob3RVcmxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zaXRlICYmIHRoaXMucHJvcHMuc2l0ZS5jdXN0b21TY3JlZW5zaG90VVJMKSB7XG4gICAgICAgIC8vIFVzZWQgdG8gZmxhZyB0aGF0IHByZXZpb3VzbHkgY2FjaGVkIHNjcmVlbnNob3Qgc2hvdWxkIGJlIHJlbW92ZWRcbiAgICAgICAgc2l0ZS5jdXN0b21TY3JlZW5zaG90VVJMID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19QSU4sXG4gICAgICAgICAgZGF0YTogeyBzaXRlLCBpbmRleCB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICAgIGV2ZW50OiBcIlRPUF9TSVRFU19FRElUXCIsXG4gICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiBpbmRleCxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHRoaXMucHJvcHMub25DbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uUHJldmlld0J1dHRvbkNsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAodGhpcy52YWxpZGF0ZUZvcm0oKSkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuUFJFVklFV19SRVFVRVNULFxuICAgICAgICAgIGRhdGE6IHsgdXJsOiB0aGlzLmNsZWFuVXJsKHRoaXMuc3RhdGUuY3VzdG9tU2NyZWVuc2hvdFVybCkgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICAgIHNvdXJjZTogVE9QX1NJVEVTX1NPVVJDRSxcbiAgICAgICAgICBldmVudDogXCJQUkVWSUVXX1JFUVVFU1RcIixcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY2xlYW5VcmwodXJsKSB7XG4gICAgLy8gSWYgd2UgYXJlIG1pc3NpbmcgYSBwcm90b2NvbCwgcHJlcGVuZCBodHRwOi8vXG4gICAgaWYgKCF1cmwuc3RhcnRzV2l0aChcImh0dHA6XCIpICYmICF1cmwuc3RhcnRzV2l0aChcImh0dHBzOlwiKSkge1xuICAgICAgcmV0dXJuIGBodHRwOi8vJHt1cmx9YDtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIF90cnlQYXJzZVVybCh1cmwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG5ldyBVUkwodXJsKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICB2YWxpZGF0ZVVybCh1cmwpIHtcbiAgICBjb25zdCB2YWxpZFByb3RvY29scyA9IFtcImh0dHA6XCIsIFwiaHR0cHM6XCJdO1xuICAgIGNvbnN0IHVybE9iaiA9XG4gICAgICB0aGlzLl90cnlQYXJzZVVybCh1cmwpIHx8IHRoaXMuX3RyeVBhcnNlVXJsKHRoaXMuY2xlYW5VcmwodXJsKSk7XG5cbiAgICByZXR1cm4gdXJsT2JqICYmIHZhbGlkUHJvdG9jb2xzLmluY2x1ZGVzKHVybE9iai5wcm90b2NvbCk7XG4gIH1cblxuICB2YWxpZGF0ZUN1c3RvbVNjcmVlbnNob3RVcmwoKSB7XG4gICAgY29uc3QgeyBjdXN0b21TY3JlZW5zaG90VXJsIH0gPSB0aGlzLnN0YXRlO1xuICAgIHJldHVybiAhY3VzdG9tU2NyZWVuc2hvdFVybCB8fCB0aGlzLnZhbGlkYXRlVXJsKGN1c3RvbVNjcmVlbnNob3RVcmwpO1xuICB9XG5cbiAgdmFsaWRhdGVGb3JtKCkge1xuICAgIGNvbnN0IHZhbGlkYXRlID1cbiAgICAgIHRoaXMudmFsaWRhdGVVcmwodGhpcy5zdGF0ZS51cmwpICYmIHRoaXMudmFsaWRhdGVDdXN0b21TY3JlZW5zaG90VXJsKCk7XG5cbiAgICBpZiAoIXZhbGlkYXRlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWRhdGlvbkVycm9yOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0ZTtcbiAgfVxuXG4gIF9yZW5kZXJDdXN0b21TY3JlZW5zaG90SW5wdXQoKSB7XG4gICAgY29uc3QgeyBjdXN0b21TY3JlZW5zaG90VXJsIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHJlcXVlc3RGYWlsZWQgPSB0aGlzLnByb3BzLnByZXZpZXdSZXNwb25zZSA9PT0gXCJcIjtcbiAgICBjb25zdCB2YWxpZGF0aW9uRXJyb3IgPVxuICAgICAgKHRoaXMuc3RhdGUudmFsaWRhdGlvbkVycm9yICYmICF0aGlzLnZhbGlkYXRlQ3VzdG9tU2NyZWVuc2hvdFVybCgpKSB8fFxuICAgICAgcmVxdWVzdEZhaWxlZDtcbiAgICAvLyBTZXQgZm9jdXMgb24gZXJyb3IgaWYgdGhlIHVybCBmaWVsZCBpcyB2YWxpZCBvciB3aGVuIHRoZSBpbnB1dCBpcyBmaXJzdCByZW5kZXJlZCBhbmQgaXMgZW1wdHlcbiAgICBjb25zdCBzaG91bGRGb2N1cyA9XG4gICAgICAodmFsaWRhdGlvbkVycm9yICYmIHRoaXMudmFsaWRhdGVVcmwodGhpcy5zdGF0ZS51cmwpKSB8fFxuICAgICAgIWN1c3RvbVNjcmVlbnNob3RVcmw7XG4gICAgY29uc3QgaXNMb2FkaW5nID1cbiAgICAgIHRoaXMucHJvcHMucHJldmlld1Jlc3BvbnNlID09PSBudWxsICYmXG4gICAgICBjdXN0b21TY3JlZW5zaG90VXJsICYmXG4gICAgICB0aGlzLnByb3BzLnByZXZpZXdVcmwgPT09IHRoaXMuY2xlYW5VcmwoY3VzdG9tU2NyZWVuc2hvdFVybCk7XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUuc2hvd0N1c3RvbVNjcmVlbnNob3RGb3JtKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8QTExeUxpbmtCdXR0b25cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uRW5hYmxlU2NyZWVuc2hvdFVybEZvcm19XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZW5hYmxlLWN1c3RvbS1pbWFnZS1pbnB1dFwiXG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcHNpdGVzLXVzZS1pbWFnZS1saW5rXCJcbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1c3RvbS1pbWFnZS1pbnB1dC1jb250YWluZXJcIj5cbiAgICAgICAgPFRvcFNpdGVGb3JtSW5wdXRcbiAgICAgICAgICBlcnJvck1lc3NhZ2VJZD17XG4gICAgICAgICAgICByZXF1ZXN0RmFpbGVkXG4gICAgICAgICAgICAgID8gXCJuZXd0YWItdG9wc2l0ZXMtaW1hZ2UtdmFsaWRhdGlvblwiXG4gICAgICAgICAgICAgIDogXCJuZXd0YWItdG9wc2l0ZXMtdXJsLXZhbGlkYXRpb25cIlxuICAgICAgICAgIH1cbiAgICAgICAgICBsb2FkaW5nPXtpc0xvYWRpbmd9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DdXN0b21TY3JlZW5zaG90VXJsQ2hhbmdlfVxuICAgICAgICAgIG9uQ2xlYXI9e3RoaXMub25DbGVhclNjcmVlbnNob3RJbnB1dH1cbiAgICAgICAgICBzaG91bGRGb2N1cz17c2hvdWxkRm9jdXN9XG4gICAgICAgICAgdHlwZVVybD17dHJ1ZX1cbiAgICAgICAgICB2YWx1ZT17Y3VzdG9tU2NyZWVuc2hvdFVybH1cbiAgICAgICAgICB2YWxpZGF0aW9uRXJyb3I9e3ZhbGlkYXRpb25FcnJvcn1cbiAgICAgICAgICB0aXRsZUlkPVwibmV3dGFiLXRvcHNpdGVzLWltYWdlLXVybC1sYWJlbFwiXG4gICAgICAgICAgcGxhY2Vob2xkZXJJZD1cIm5ld3RhYi10b3BzaXRlcy11cmwtaW5wdXRcIlxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGN1c3RvbVNjcmVlbnNob3RVcmwgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgcmVxdWVzdEZhaWxlZCA9IHRoaXMucHJvcHMucHJldmlld1Jlc3BvbnNlID09PSBcIlwiO1xuICAgIC8vIEZvciBVSSBwdXJwb3NlcywgZWRpdGluZyB3aXRob3V0IGFuIGV4aXN0aW5nIGxpbmsgaXMgXCJhZGRcIlxuICAgIGNvbnN0IHNob3dBc0FkZCA9ICF0aGlzLnByb3BzLnNpdGU7XG4gICAgY29uc3QgcHJldmlvdXMgPVxuICAgICAgKHRoaXMucHJvcHMuc2l0ZSAmJiB0aGlzLnByb3BzLnNpdGUuY3VzdG9tU2NyZWVuc2hvdFVSTCkgfHwgXCJcIjtcbiAgICBjb25zdCBjaGFuZ2VkID1cbiAgICAgIGN1c3RvbVNjcmVlbnNob3RVcmwgJiYgdGhpcy5jbGVhblVybChjdXN0b21TY3JlZW5zaG90VXJsKSAhPT0gcHJldmlvdXM7XG4gICAgLy8gUHJldmlldyBtb2RlIGlmIGNoYW5nZXMgd2VyZSBtYWRlIHRvIHRoZSBjdXN0b20gc2NyZWVuc2hvdCBVUkwgYW5kIG5vIHByZXZpZXcgd2FzIHJlY2VpdmVkIHlldFxuICAgIC8vIG9yIHRoZSByZXF1ZXN0IGZhaWxlZFxuICAgIGNvbnN0IHByZXZpZXdNb2RlID0gY2hhbmdlZCAmJiAhdGhpcy5wcm9wcy5wcmV2aWV3UmVzcG9uc2U7XG4gICAgY29uc3QgcHJldmlld0xpbmsgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzLnNpdGUpO1xuICAgIGlmICh0aGlzLnByb3BzLnByZXZpZXdSZXNwb25zZSkge1xuICAgICAgcHJldmlld0xpbmsuc2NyZWVuc2hvdCA9IHRoaXMucHJvcHMucHJldmlld1Jlc3BvbnNlO1xuICAgICAgcHJldmlld0xpbmsuY3VzdG9tU2NyZWVuc2hvdFVSTCA9IHRoaXMucHJvcHMucHJldmlld1VybDtcbiAgICB9XG4gICAgLy8gSGFuZGxlcyB0aGUgZm9ybSBzdWJtaXQgc28gYW4gZW50ZXIgcHJlc3MgcGVyZm9ybXMgdGhlIGNvcnJlY3QgYWN0aW9uXG4gICAgY29uc3Qgb25TdWJtaXQgPSBwcmV2aWV3TW9kZVxuICAgICAgPyB0aGlzLm9uUHJldmlld0J1dHRvbkNsaWNrXG4gICAgICA6IHRoaXMub25Eb25lQnV0dG9uQ2xpY2s7XG5cbiAgICBjb25zdCBhZGRUb3BzaXRlc0hlYWRlckwxMG5JZCA9IFwibmV3dGFiLXRvcHNpdGVzLWFkZC1zaG9ydGN1dC1oZWFkZXJcIjtcbiAgICBjb25zdCBlZGl0VG9wc2l0ZXNIZWFkZXJMMTBuSWQgPSBcIm5ld3RhYi10b3BzaXRlcy1lZGl0LXNob3J0Y3V0LWhlYWRlclwiO1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBjbGFzc05hbWU9XCJ0b3BzaXRlLWZvcm1cIiBvblN1Ym1pdD17b25TdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0taW5wdXQtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGgzXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlIGdyZXktdGl0bGVcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXtcbiAgICAgICAgICAgICAgc2hvd0FzQWRkID8gYWRkVG9wc2l0ZXNIZWFkZXJMMTBuSWQgOiBlZGl0VG9wc2l0ZXNIZWFkZXJMMTBuSWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmllbGRzLWFuZC1wcmV2aWV3XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0td3JhcHBlclwiPlxuICAgICAgICAgICAgICA8VG9wU2l0ZUZvcm1JbnB1dFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uTGFiZWxDaGFuZ2V9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubGFiZWx9XG4gICAgICAgICAgICAgICAgdGl0bGVJZD1cIm5ld3RhYi10b3BzaXRlcy10aXRsZS1sYWJlbFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJJZD1cIm5ld3RhYi10b3BzaXRlcy10aXRsZS1pbnB1dFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxUb3BTaXRlRm9ybUlucHV0XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25VcmxDaGFuZ2V9XG4gICAgICAgICAgICAgICAgc2hvdWxkRm9jdXM9e1xuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52YWxpZGF0aW9uRXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICF0aGlzLnZhbGlkYXRlVXJsKHRoaXMuc3RhdGUudXJsKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51cmx9XG4gICAgICAgICAgICAgICAgb25DbGVhcj17dGhpcy5vbkNsZWFyVXJsQ2xpY2t9XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9yPXtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudmFsaWRhdGlvbkVycm9yICYmXG4gICAgICAgICAgICAgICAgICAhdGhpcy52YWxpZGF0ZVVybCh0aGlzLnN0YXRlLnVybClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGl0bGVJZD1cIm5ld3RhYi10b3BzaXRlcy11cmwtbGFiZWxcIlxuICAgICAgICAgICAgICAgIHR5cGVVcmw9e3RydWV9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJJZD1cIm5ld3RhYi10b3BzaXRlcy11cmwtaW5wdXRcIlxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZUlkPVwibmV3dGFiLXRvcHNpdGVzLXVybC12YWxpZGF0aW9uXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAge3RoaXMuX3JlbmRlckN1c3RvbVNjcmVlbnNob3RJbnB1dCgpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8VG9wU2l0ZUxpbmtcbiAgICAgICAgICAgICAgbGluaz17cHJldmlld0xpbmt9XG4gICAgICAgICAgICAgIGRlZmF1bHRTdHlsZT17cmVxdWVzdEZhaWxlZH1cbiAgICAgICAgICAgICAgdGl0bGU9e3RoaXMuc3RhdGUubGFiZWx9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwiYWN0aW9uc1wiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbmNlbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DYW5jZWxCdXR0b25DbGlja31cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi10b3BzaXRlcy1jYW5jZWwtYnV0dG9uXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIHtwcmV2aWV3TW9kZSA/IChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZG9uZSBwcmV2aWV3XCJcbiAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi10b3BzaXRlcy1wcmV2aWV3LWJ1dHRvblwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRvbmVcIlxuICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXtcbiAgICAgICAgICAgICAgICBzaG93QXNBZGRcbiAgICAgICAgICAgICAgICAgID8gXCJuZXd0YWItdG9wc2l0ZXMtYWRkLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICA6IFwibmV3dGFiLXRvcHNpdGVzLXNhdmUtYnV0dG9uXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgICA8L2Zvcm0+XG4gICAgKTtcbiAgfVxufVxuXG5Ub3BTaXRlRm9ybS5kZWZhdWx0UHJvcHMgPSB7XG4gIHNpdGU6IG51bGwsXG4gIGluZGV4OiAtMSxcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9