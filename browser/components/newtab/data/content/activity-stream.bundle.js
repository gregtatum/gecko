/*! THIS FILE IS AUTO-GENERATED: webpack.system-addon.config.js */
var NewtabRenderUtils =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewTab", function() { return NewTab; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderWithoutState", function() { return renderWithoutState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderCache", function() { return renderCache; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_components_Base_Base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);
/* harmony import */ var content_src_lib_detect_user_session_start__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(58);
/* harmony import */ var content_src_lib_init_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(59);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(14);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(66);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */








const NewTab = ({
  store
}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_4__["Provider"], {
  store: store
}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(content_src_components_Base_Base__WEBPACK_IMPORTED_MODULE_1__["Base"], null));
function renderWithoutState() {
  const store = Object(content_src_lib_init_store__WEBPACK_IMPORTED_MODULE_3__["initStore"])(common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_7__["reducers"]);
  new content_src_lib_detect_user_session_start__WEBPACK_IMPORTED_MODULE_2__["DetectUserSessionStart"](store).sendEventOrAddListener(); // If this document has already gone into the background by the time we've reached
  // here, we can deprioritize requesting the initial state until the event loop
  // frees up. If, however, the visibility changes, we then send the request.

  let didRequest = false;
  let requestIdleCallbackId = 0;

  function doRequest() {
    if (!didRequest) {
      if (requestIdleCallbackId) {
        cancelIdleCallback(requestIdleCallbackId);
      }

      didRequest = true;
      store.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].NEW_TAB_STATE_REQUEST
      }));
    }
  }

  if (document.hidden) {
    requestIdleCallbackId = requestIdleCallback(doRequest);
    addEventListener("visibilitychange", doRequest, {
      once: true
    });
  } else {
    doRequest();
  }

  react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.hydrate( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(NewTab, {
    store: store
  }), document.getElementById("root"));
}
function renderCache(initialState) {
  const store = Object(content_src_lib_init_store__WEBPACK_IMPORTED_MODULE_3__["initStore"])(common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_7__["reducers"], initialState);
  new content_src_lib_detect_user_session_start__WEBPACK_IMPORTED_MODULE_2__["DetectUserSessionStart"](store).sendEventOrAddListener();
  react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.hydrate( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(NewTab, {
    store: store
  }), document.getElementById("root"));
}

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MAIN_MESSAGE_TYPE", function() { return MAIN_MESSAGE_TYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CONTENT_MESSAGE_TYPE", function() { return CONTENT_MESSAGE_TYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PRELOAD_MESSAGE_TYPE", function() { return PRELOAD_MESSAGE_TYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UI_CODE", function() { return UI_CODE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKGROUND_PROCESS", function() { return BACKGROUND_PROCESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "globalImportContext", function() { return globalImportContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "actionTypes", function() { return actionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "actionCreators", function() { return actionCreators; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "actionUtils", function() { return actionUtils; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */


var MAIN_MESSAGE_TYPE = "ActivityStream:Main";
var CONTENT_MESSAGE_TYPE = "ActivityStream:Content";
var PRELOAD_MESSAGE_TYPE = "ActivityStream:PreloadedBrowser";
var UI_CODE = 1;
var BACKGROUND_PROCESS = 2;
/**
 * globalImportContext - Are we in UI code (i.e. react, a dom) or some kind of background process?
 *                       Use this in action creators if you need different logic
 *                       for ui/background processes.
 */

const globalImportContext = typeof Window === "undefined" ? BACKGROUND_PROCESS : UI_CODE; // Export for tests

// Create an object that avoids accidental differing key/value pairs:
// {
//   INIT: "INIT",
//   UNINIT: "UNINIT"
// }
const actionTypes = {};

for (const type of ["ABOUT_SPONSORED_TOP_SITES", "ADDONS_INFO_REQUEST", "ADDONS_INFO_RESPONSE", "ARCHIVE_FROM_POCKET", "AS_ROUTER_INITIALIZED", "AS_ROUTER_PREF_CHANGED", "AS_ROUTER_TARGETING_UPDATE", "AS_ROUTER_TELEMETRY_USER_EVENT", "BLOCK_URL", "BOOKMARK_URL", "CLEAR_PREF", "COPY_DOWNLOAD_LINK", "DELETE_BOOKMARK_BY_ID", "DELETE_FROM_POCKET", "DELETE_HISTORY_URL", "DIALOG_CANCEL", "DIALOG_OPEN", "DISABLE_SEARCH", "DISCOVERY_STREAM_COLLECTION_DISMISSIBLE_TOGGLE", "DISCOVERY_STREAM_CONFIG_CHANGE", "DISCOVERY_STREAM_CONFIG_RESET", "DISCOVERY_STREAM_CONFIG_RESET_DEFAULTS", "DISCOVERY_STREAM_CONFIG_SETUP", "DISCOVERY_STREAM_CONFIG_SET_VALUE", "DISCOVERY_STREAM_DEV_EXPIRE_CACHE", "DISCOVERY_STREAM_DEV_IDLE_DAILY", "DISCOVERY_STREAM_DEV_SYNC_RS", "DISCOVERY_STREAM_DEV_SYSTEM_TICK", "DISCOVERY_STREAM_FEEDS_UPDATE", "DISCOVERY_STREAM_FEED_UPDATE", "DISCOVERY_STREAM_IMPRESSION_STATS", "DISCOVERY_STREAM_LAYOUT_RESET", "DISCOVERY_STREAM_LAYOUT_UPDATE", "DISCOVERY_STREAM_LINK_BLOCKED", "DISCOVERY_STREAM_LOADED_CONTENT", "DISCOVERY_STREAM_PERSONALIZATION_INIT", "DISCOVERY_STREAM_PERSONALIZATION_LAST_UPDATED", "DISCOVERY_STREAM_PERSONALIZATION_TOGGLE", "DISCOVERY_STREAM_RETRY_FEED", "DISCOVERY_STREAM_SPOCS_CAPS", "DISCOVERY_STREAM_SPOCS_ENDPOINT", "DISCOVERY_STREAM_SPOCS_PLACEMENTS", "DISCOVERY_STREAM_SPOCS_UPDATE", "DISCOVERY_STREAM_SPOC_BLOCKED", "DISCOVERY_STREAM_SPOC_IMPRESSION", "DOWNLOAD_CHANGED", "FAKE_FOCUS_SEARCH", "FILL_SEARCH_TERM", "HANDOFF_SEARCH_TO_AWESOMEBAR", "HIDE_PRIVACY_INFO", "INIT", "NEW_TAB_INIT", "NEW_TAB_INITIAL_STATE", "NEW_TAB_LOAD", "NEW_TAB_REHYDRATED", "NEW_TAB_STATE_REQUEST", "NEW_TAB_UNLOAD", "OPEN_DOWNLOAD_FILE", "OPEN_LINK", "OPEN_NEW_WINDOW", "OPEN_PRIVATE_WINDOW", "OPEN_WEBEXT_SETTINGS", "PARTNER_LINK_ATTRIBUTION", "PLACES_BOOKMARKS_REMOVED", "PLACES_BOOKMARK_ADDED", "PLACES_HISTORY_CLEARED", "PLACES_LINKS_CHANGED", "PLACES_LINKS_DELETED", "PLACES_LINK_BLOCKED", "PLACES_SAVED_TO_POCKET", "POCKET_CTA", "POCKET_LINK_DELETED_OR_ARCHIVED", "POCKET_LOGGED_IN", "POCKET_WAITING_FOR_SPOC", "PREFS_INITIAL_VALUES", "PREF_CHANGED", "PREVIEW_REQUEST", "PREVIEW_REQUEST_CANCEL", "PREVIEW_RESPONSE", "REMOVE_DOWNLOAD_FILE", "RICH_ICON_MISSING", "SAVE_SESSION_PERF_DATA", "SAVE_TO_POCKET", "SCREENSHOT_UPDATED", "SECTION_DEREGISTER", "SECTION_DISABLE", "SECTION_ENABLE", "SECTION_MOVE", "SECTION_OPTIONS_CHANGED", "SECTION_REGISTER", "SECTION_UPDATE", "SECTION_UPDATE_CARD", "SETTINGS_CLOSE", "SETTINGS_OPEN", "SET_PREF", "SHOW_DOWNLOAD_FILE", "SHOW_FIREFOX_ACCOUNTS", "SHOW_PRIVACY_INFO", "SHOW_SEARCH", "SKIPPED_SIGNIN", "SNIPPETS_BLOCKLIST_CLEARED", "SNIPPETS_BLOCKLIST_UPDATED", "SNIPPETS_DATA", "SNIPPETS_PREVIEW_MODE", "SNIPPETS_RESET", "SNIPPET_BLOCKED", "SUBMIT_EMAIL", "SUBMIT_SIGNIN", "SYSTEM_TICK", "TELEMETRY_IMPRESSION_STATS", "TELEMETRY_USER_EVENT", "TOP_SITES_CANCEL_EDIT", "TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL", "TOP_SITES_EDIT", "TOP_SITES_IMPRESSION_STATS", "TOP_SITES_INSERT", "TOP_SITES_OPEN_SEARCH_SHORTCUTS_MODAL", "TOP_SITES_PIN", "TOP_SITES_PREFS_UPDATED", "TOP_SITES_UNPIN", "TOP_SITES_UPDATED", "TOTAL_BOOKMARKS_REQUEST", "TOTAL_BOOKMARKS_RESPONSE", "UNINIT", "UPDATE_PINNED_SEARCH_SHORTCUTS", "UPDATE_SEARCH_SHORTCUTS", "UPDATE_SECTION_PREFS", "WEBEXT_CLICK", "WEBEXT_DISMISS"]) {
  actionTypes[type] = type;
} // Helper function for creating routed actions between content and main
// Not intended to be used by consumers


function _RouteMessage(action, options) {
  const meta = action.meta ? { ...action.meta
  } : {};

  if (!options || !options.from || !options.to) {
    throw new Error("Routed Messages must have options as the second parameter, and must at least include a .from and .to property.");
  } // For each of these fields, if they are passed as an option,
  // add them to the action. If they are not defined, remove them.


  ["from", "to", "toTarget", "fromTarget", "skipMain", "skipLocal"].forEach(o => {
    if (typeof options[o] !== "undefined") {
      meta[o] = options[o];
    } else if (meta[o]) {
      delete meta[o];
    }
  });
  return { ...action,
    meta
  };
}
/**
 * AlsoToMain - Creates a message that will be dispatched locally and also sent to the Main process.
 *
 * @param  {object} action Any redux action (required)
 * @param  {object} options
 * @param  {bool}   skipLocal Used by OnlyToMain to skip the main reducer
 * @param  {string} fromTarget The id of the content port from which the action originated. (optional)
 * @return {object} An action with added .meta properties
 */


function AlsoToMain(action, fromTarget, skipLocal) {
  return _RouteMessage(action, {
    from: CONTENT_MESSAGE_TYPE,
    to: MAIN_MESSAGE_TYPE,
    fromTarget,
    skipLocal
  });
}
/**
 * OnlyToMain - Creates a message that will be sent to the Main process and skip the local reducer.
 *
 * @param  {object} action Any redux action (required)
 * @param  {object} options
 * @param  {string} fromTarget The id of the content port from which the action originated. (optional)
 * @return {object} An action with added .meta properties
 */


function OnlyToMain(action, fromTarget) {
  return AlsoToMain(action, fromTarget, true);
}
/**
 * BroadcastToContent - Creates a message that will be dispatched to main and sent to ALL content processes.
 *
 * @param  {object} action Any redux action (required)
 * @return {object} An action with added .meta properties
 */


function BroadcastToContent(action) {
  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: CONTENT_MESSAGE_TYPE
  });
}
/**
 * AlsoToOneContent - Creates a message that will be will be dispatched to the main store
 *                    and also sent to a particular Content process.
 *
 * @param  {object} action Any redux action (required)
 * @param  {string} target The id of a content port
 * @param  {bool} skipMain Used by OnlyToOneContent to skip the main process
 * @return {object} An action with added .meta properties
 */


function AlsoToOneContent(action, target, skipMain) {
  if (!target) {
    throw new Error("You must provide a target ID as the second parameter of AlsoToOneContent. If you want to send to all content processes, use BroadcastToContent");
  }

  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: CONTENT_MESSAGE_TYPE,
    toTarget: target,
    skipMain
  });
}
/**
 * OnlyToOneContent - Creates a message that will be sent to a particular Content process
 *                    and skip the main reducer.
 *
 * @param  {object} action Any redux action (required)
 * @param  {string} target The id of a content port
 * @return {object} An action with added .meta properties
 */


function OnlyToOneContent(action, target) {
  return AlsoToOneContent(action, target, true);
}
/**
 * AlsoToPreloaded - Creates a message that dispatched to the main reducer and also sent to the preloaded tab.
 *
 * @param  {object} action Any redux action (required)
 * @return {object} An action with added .meta properties
 */


function AlsoToPreloaded(action) {
  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: PRELOAD_MESSAGE_TYPE
  });
}
/**
 * UserEvent - A telemetry ping indicating a user action. This should only
 *                   be sent from the UI during a user session.
 *
 * @param  {object} data Fields to include in the ping (source, etc.)
 * @return {object} An AlsoToMain action
 */


function UserEvent(data) {
  return AlsoToMain({
    type: actionTypes.TELEMETRY_USER_EVENT,
    data
  });
}
/**
 * ASRouterUserEvent - A telemetry ping indicating a user action from AS router. This should only
 *                     be sent from the UI during a user session.
 *
 * @param  {object} data Fields to include in the ping (source, etc.)
 * @return {object} An AlsoToMain action
 */


function ASRouterUserEvent(data) {
  return AlsoToMain({
    type: actionTypes.AS_ROUTER_TELEMETRY_USER_EVENT,
    data
  });
}
/**
 * ImpressionStats - A telemetry ping indicating an impression stats.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */


function ImpressionStats(data, importContext = globalImportContext) {
  const action = {
    type: actionTypes.TELEMETRY_IMPRESSION_STATS,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}
/**
 * DiscoveryStreamImpressionStats - A telemetry ping indicating an impression stats in Discovery Stream.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */


function DiscoveryStreamImpressionStats(data, importContext = globalImportContext) {
  const action = {
    type: actionTypes.DISCOVERY_STREAM_IMPRESSION_STATS,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}
/**
 * DiscoveryStreamLoadedContent - A telemetry ping indicating a content gets loaded in Discovery Stream.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */


function DiscoveryStreamLoadedContent(data, importContext = globalImportContext) {
  const action = {
    type: actionTypes.DISCOVERY_STREAM_LOADED_CONTENT,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

function SetPref(name, value, importContext = globalImportContext) {
  const action = {
    type: actionTypes.SET_PREF,
    data: {
      name,
      value
    }
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

function WebExtEvent(type, data, importContext = globalImportContext) {
  if (!data || !data.source) {
    throw new Error('WebExtEvent actions should include a property "source", the id of the webextension that should receive the event.');
  }

  const action = {
    type,
    data
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

var actionCreators = {
  BroadcastToContent,
  UserEvent,
  ASRouterUserEvent,
  ImpressionStats,
  AlsoToOneContent,
  OnlyToOneContent,
  AlsoToMain,
  OnlyToMain,
  AlsoToPreloaded,
  SetPref,
  WebExtEvent,
  DiscoveryStreamImpressionStats,
  DiscoveryStreamLoadedContent
}; // These are helpers to test for certain kinds of actions

var actionUtils = {
  isSendToMain(action) {
    if (!action.meta) {
      return false;
    }

    return action.meta.to === MAIN_MESSAGE_TYPE && action.meta.from === CONTENT_MESSAGE_TYPE;
  },

  isBroadcastToContent(action) {
    if (!action.meta) {
      return false;
    }

    if (action.meta.to === CONTENT_MESSAGE_TYPE && !action.meta.toTarget) {
      return true;
    }

    return false;
  },

  isSendToOneContent(action) {
    if (!action.meta) {
      return false;
    }

    if (action.meta.to === CONTENT_MESSAGE_TYPE && action.meta.toTarget) {
      return true;
    }

    return false;
  },

  isSendToPreloaded(action) {
    if (!action.meta) {
      return false;
    }

    return action.meta.to === PRELOAD_MESSAGE_TYPE && action.meta.from === MAIN_MESSAGE_TYPE;
  },

  isFromMain(action) {
    if (!action.meta) {
      return false;
    }

    return action.meta.from === MAIN_MESSAGE_TYPE && action.meta.to === CONTENT_MESSAGE_TYPE;
  },

  getPortIdOfSender(action) {
    return action.meta && action.meta.fromTarget || null;
  },

  _RouteMessage
};

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PrefsButton", function() { return PrefsButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Base", function() { return _Base; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseContent", function() { return BaseContent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Base", function() { return Base; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_components_ASRouterAdmin_ASRouterAdmin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);
/* harmony import */ var _asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10);
/* harmony import */ var content_src_components_ConfirmDialog_ConfirmDialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(15);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var content_src_components_DiscoveryStreamBase_DiscoveryStreamBase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(16);
/* harmony import */ var content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(30);
/* harmony import */ var content_src_components_CustomizeMenu_CustomizeMenu__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(65);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var content_src_components_Search_Search__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(57);
/* harmony import */ var content_src_components_Sections_Sections__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(38);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */











const PrefsButton = ({
  onClick,
  icon
}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
  className: "prefs-button"
}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("button", {
  className: `icon ${icon || "icon-settings"}`,
  onClick: onClick,
  "data-l10n-id": "newtab-settings-button"
})); // Returns a function will not be continuously triggered when called. The
// function will be triggered if called again after `wait` milliseconds.

function debounce(func, wait) {
  let timer;
  return (...args) => {
    if (timer) {
      return;
    }

    let wakeUp = () => {
      timer = null;
    };

    timer = setTimeout(wakeUp, wait);
    func.apply(this, args);
  };
}

class _Base extends react__WEBPACK_IMPORTED_MODULE_8___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      message: {}
    };
    this.notifyContent = this.notifyContent.bind(this);
  }

  notifyContent(state) {
    this.setState(state);
  }

  componentWillUnmount() {
    this.updateTheme();
  }

  componentWillUpdate() {
    this.updateTheme();
  }

  updateTheme() {
    const bodyClassName = ["activity-stream", // If we skipped the about:welcome overlay and removed the CSS classes
    // we don't want to add them back to the Activity Stream view
    document.body.classList.contains("inline-onboarding") ? "inline-onboarding" : ""].filter(v => v).join(" ");
    global.document.body.className = bodyClassName;
  }

  render() {
    const {
      props
    } = this;
    const {
      App
    } = props;
    const isDevtoolsEnabled = props.Prefs.values["asrouter.devtoolsEnabled"];

    if (!App.initialized) {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_6__["ErrorBoundary"], {
      className: "base-content-fallback"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(BaseContent, _extends({}, this.props, {
      adminContent: this.state
    })), isDevtoolsEnabled ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_ASRouterAdmin_ASRouterAdmin__WEBPACK_IMPORTED_MODULE_1__["ASRouterAdmin"], {
      notifyContent: this.notifyContent
    }) : null));
  }

}
class BaseContent extends react__WEBPACK_IMPORTED_MODULE_8___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.openPreferences = this.openPreferences.bind(this);
    this.openCustomizationMenu = this.openCustomizationMenu.bind(this);
    this.closeCustomizationMenu = this.closeCustomizationMenu.bind(this);
    this.handleOnKeyDown = this.handleOnKeyDown.bind(this);
    this.onWindowScroll = debounce(this.onWindowScroll.bind(this), 5);
    this.setPref = this.setPref.bind(this);
    this.state = {
      fixedSearch: false,
      customizeMenuVisible: false
    };
  }

  componentDidMount() {
    global.addEventListener("scroll", this.onWindowScroll);
    global.addEventListener("keydown", this.handleOnKeyDown);
  }

  componentWillUnmount() {
    global.removeEventListener("scroll", this.onWindowScroll);
    global.removeEventListener("keydown", this.handleOnKeyDown);
  }

  onWindowScroll() {
    const prefs = this.props.Prefs.values;
    const SCROLL_THRESHOLD = prefs["logowordmark.alwaysVisible"] ? 179 : 34;

    if (global.scrollY > SCROLL_THRESHOLD && !this.state.fixedSearch) {
      this.setState({
        fixedSearch: true
      });
    } else if (global.scrollY <= SCROLL_THRESHOLD && this.state.fixedSearch) {
      this.setState({
        fixedSearch: false
      });
    }
  }

  openPreferences() {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SETTINGS_OPEN
    }));
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event: "OPEN_NEWTAB_PREFS"
    }));
  }

  openCustomizationMenu() {
    this.setState({
      customizeMenuVisible: true
    });
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event: "SHOW_PERSONALIZE"
    }));
  }

  closeCustomizationMenu() {
    if (this.state.customizeMenuVisible) {
      this.setState({
        customizeMenuVisible: false
      });
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "HIDE_PERSONALIZE"
      }));
    }
  }

  handleOnKeyDown(e) {
    if (e.key === "Escape") {
      this.closeCustomizationMenu();
    }
  }

  setPref(pref, value) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].SetPref(pref, value));
  }

  render() {
    const {
      props
    } = this;
    const {
      App
    } = props;
    const {
      initialized
    } = App;
    const prefs = props.Prefs.values;
    const isDiscoveryStream = props.DiscoveryStream.config && props.DiscoveryStream.config.enabled;
    let filteredSections = props.Sections.filter(section => section.id !== "topstories");
    const pocketEnabled = prefs["feeds.section.topstories"] && prefs["feeds.system.topstories"];
    const noSectionsEnabled = !prefs["feeds.topsites"] && !pocketEnabled && filteredSections.filter(section => section.enabled).length === 0;
    const searchHandoffEnabled = prefs["improvesearch.handoffToAwesomebar"];
    const showCustomizationMenu = this.state.customizeMenuVisible;
    const showColorwayCloset = prefs["colorway-closet.enabled"];
    const enabledSections = {
      topSitesEnabled: prefs["feeds.topsites"],
      pocketEnabled: prefs["feeds.section.topstories"],
      highlightsEnabled: prefs["feeds.section.highlights"],
      showSponsoredTopSitesEnabled: prefs.showSponsoredTopSites,
      showSponsoredPocketEnabled: prefs.showSponsored,
      topSitesRowsCount: prefs.topSitesRows
    };
    const pocketRegion = prefs["feeds.system.topstories"];
    const {
      mayHaveSponsoredTopSites
    } = prefs;
    const outerClassName = ["outer-wrapper", isDiscoveryStream && pocketEnabled && "ds-outer-wrapper-search-alignment", isDiscoveryStream && "ds-outer-wrapper-breakpoint-override", prefs.showSearch && this.state.fixedSearch && !noSectionsEnabled && "fixed-search", prefs.showSearch && noSectionsEnabled && "only-search", prefs["logowordmark.alwaysVisible"] && "visible-logo"].filter(v => v).join(" ");
    const hasSnippet = prefs["feeds.snippets"] && this.props.adminContent && this.props.adminContent.message && this.props.adminContent.message.id;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_CustomizeMenu_CustomizeMenu__WEBPACK_IMPORTED_MODULE_7__["CustomizeMenu"], {
      onClose: this.closeCustomizationMenu,
      onOpen: this.openCustomizationMenu,
      openPreferences: this.openPreferences,
      setPref: this.setPref,
      enabledSections: enabledSections,
      pocketRegion: pocketRegion,
      mayHaveSponsoredTopSites: mayHaveSponsoredTopSites,
      showing: showCustomizationMenu,
      showColorwayCloset: showColorwayCloset
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: outerClassName,
      onClick: this.closeCustomizationMenu
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("main", {
      className: hasSnippet ? "has-snippet" : ""
    }, prefs.showSearch && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "non-collapsible-section"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_6__["ErrorBoundary"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_Search_Search__WEBPACK_IMPORTED_MODULE_9__["Search"], _extends({
      showLogo: noSectionsEnabled || prefs["logowordmark.alwaysVisible"],
      handoffEnabled: searchHandoffEnabled
    }, props.Search)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_asrouter_asrouter_content__WEBPACK_IMPORTED_MODULE_2__["ASRouterUISurface"], {
      adminContent: this.props.adminContent,
      appUpdateChannel: this.props.Prefs.values.appUpdateChannel,
      fxaEndpoint: this.props.Prefs.values.fxa_endpoint,
      dispatch: this.props.dispatch
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: `body-wrapper${initialized ? " on" : ""}`
    }, isDiscoveryStream ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_6__["ErrorBoundary"], {
      className: "borderless-error"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_DiscoveryStreamBase_DiscoveryStreamBase__WEBPACK_IMPORTED_MODULE_5__["DiscoveryStreamBase"], {
      locale: props.App.locale
    })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_Sections_Sections__WEBPACK_IMPORTED_MODULE_10__["Sections"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_ConfirmDialog_ConfirmDialog__WEBPACK_IMPORTED_MODULE_3__["ConfirmDialog"], null))));
  }

}
const Base = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])(state => ({
  App: state.App,
  Prefs: state.Prefs,
  Sections: state.Sections,
  DiscoveryStream: state.DiscoveryStream,
  Search: state.Search
}))(_Base);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 3 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToggleStoryButton", function() { return ToggleStoryButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToggleMessageJSON", function() { return ToggleMessageJSON; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TogglePrefCheckbox", function() { return TogglePrefCheckbox; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Personalization", function() { return Personalization; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiscoveryStreamAdmin", function() { return DiscoveryStreamAdmin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ASRouterAdminInner", function() { return ASRouterAdminInner; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CollapseToggle", function() { return CollapseToggle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ASRouterAdmin", function() { return ASRouterAdmin; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _SimpleHashRouter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






const Row = props => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", _extends({
  className: "message-item"
}, props), props.children);

function relativeTime(timestamp) {
  if (!timestamp) {
    return "";
  }

  const seconds = Math.floor((Date.now() - timestamp) / 1000);
  const minutes = Math.floor((Date.now() - timestamp) / 60000);

  if (seconds < 2) {
    return "just now";
  } else if (seconds < 60) {
    return `${seconds} seconds ago`;
  } else if (minutes === 1) {
    return "1 minute ago";
  } else if (minutes < 600) {
    return `${minutes} minutes ago`;
  }

  return new Date(timestamp).toLocaleString();
}

const LAYOUT_VARIANTS = {
  basic: "Basic default layout (on by default in nightly)",
  staging_spocs: "A layout with all spocs shown",
  "dev-test-all": "A little bit of everything. Good layout for testing all components",
  "dev-test-feeds": "Stress testing for slow feeds"
};
class ToggleStoryButton extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.handleClick = this.handleClick.bind(this);
  }

  handleClick() {
    this.props.onClick(this.props.story);
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      onClick: this.handleClick
    }, "collapse/open");
  }

}
class ToggleMessageJSON extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.handleClick = this.handleClick.bind(this);
  }

  handleClick() {
    this.props.toggleJSON(this.props.msgId);
  }

  render() {
    let iconName = this.props.isCollapsed ? "icon icon-arrowhead-forward-small" : "icon icon-arrowhead-down-small";
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "clearButton",
      onClick: this.handleClick
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: iconName
    }));
  }

}
class TogglePrefCheckbox extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onChange = this.onChange.bind(this);
  }

  onChange(event) {
    this.props.onChange(this.props.pref, event.target.checked);
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "checkbox",
      checked: this.props.checked,
      onChange: this.onChange,
      disabled: this.props.disabled
    }), " ", this.props.pref, " ");
  }

}
class Personalization extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.togglePersonalization = this.togglePersonalization.bind(this);
  }

  togglePersonalization() {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_PERSONALIZATION_TOGGLE
    }));
  }

  render() {
    const {
      lastUpdated,
      initialized
    } = this.props.state.Personalization;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      colSpan: "2"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(TogglePrefCheckbox, {
      checked: this.props.personalized,
      pref: "personalized",
      onChange: this.togglePersonalization
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Personalization Last Updated"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, relativeTime(lastUpdated) || "(no data)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Personalization Initialized"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, initialized ? "true" : "false")))));
  }

}
class DiscoveryStreamAdmin extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.restorePrefDefaults = this.restorePrefDefaults.bind(this);
    this.setConfigValue = this.setConfigValue.bind(this);
    this.expireCache = this.expireCache.bind(this);
    this.refreshCache = this.refreshCache.bind(this);
    this.idleDaily = this.idleDaily.bind(this);
    this.systemTick = this.systemTick.bind(this);
    this.syncRemoteSettings = this.syncRemoteSettings.bind(this);
    this.changeEndpointVariant = this.changeEndpointVariant.bind(this);
    this.onStoryToggle = this.onStoryToggle.bind(this);
    this.state = {
      toggledStories: {}
    };
  }

  setConfigValue(name, value) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_CONFIG_SET_VALUE,
      data: {
        name,
        value
      }
    }));
  }

  restorePrefDefaults(event) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_CONFIG_RESET_DEFAULTS
    }));
  }

  refreshCache() {
    const {
      config
    } = this.props.state.DiscoveryStream;
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_CONFIG_CHANGE,
      data: config
    }));
  }

  dispatchSimpleAction(type) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type
    }));
  }

  systemTick() {
    this.dispatchSimpleAction(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_DEV_SYSTEM_TICK);
  }

  expireCache() {
    this.dispatchSimpleAction(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_DEV_EXPIRE_CACHE);
  }

  idleDaily() {
    this.dispatchSimpleAction(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_DEV_IDLE_DAILY);
  }

  syncRemoteSettings() {
    this.dispatchSimpleAction(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_DEV_SYNC_RS);
  }

  changeEndpointVariant(event) {
    const endpoint = this.props.state.DiscoveryStream.config.layout_endpoint;

    if (endpoint) {
      this.setConfigValue("layout_endpoint", endpoint.replace(/layout_variant=.+/, `layout_variant=${event.target.value}`));
    }
  }

  renderComponent(width, component) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Type"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, component.type)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Width"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, width)), component.feed && this.renderFeed(component.feed)));
  }

  isCurrentVariant(id) {
    const endpoint = this.props.state.DiscoveryStream.config.layout_endpoint;
    const isMatch = endpoint && !!endpoint.match(`layout_variant=${id}`);
    return isMatch;
  }

  renderFeedData(url) {
    const {
      feeds
    } = this.props.state.DiscoveryStream;
    const feed = feeds.data[url].data;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h4", null, "Feed url: ", url), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, feed.recommendations.map(story => this.renderStoryData(story)))));
  }

  renderFeedsData() {
    const {
      feeds
    } = this.props.state.DiscoveryStream;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, Object.keys(feeds.data).map(url => this.renderFeedData(url)));
  }

  renderSpocs() {
    const {
      spocs
    } = this.props.state.DiscoveryStream;
    let spocsData = [];

    if (spocs.data && spocs.data.spocs && spocs.data.spocs.items) {
      spocsData = spocs.data.spocs.items || [];
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "spocs_endpoint"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, spocs.spocs_endpoint)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Data last fetched"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, relativeTime(spocs.lastUpdated))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h4", null, "Spoc data"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, spocsData.map(spoc => this.renderStoryData(spoc)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h4", null, "Spoc frequency caps"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, spocs.frequency_caps.map(spoc => this.renderStoryData(spoc)))));
  }

  onStoryToggle(story) {
    const {
      toggledStories
    } = this.state;
    this.setState({
      toggledStories: { ...toggledStories,
        [story.id]: !toggledStories[story.id]
      }
    });
  }

  renderStoryData(story) {
    let storyData = "";

    if (this.state.toggledStories[story.id]) {
      storyData = JSON.stringify(story, null, 2);
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
      className: "message-item",
      key: story.id
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "message-id"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, story.id, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ToggleStoryButton, {
      story: story,
      onClick: this.onStoryToggle
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "message-summary"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("pre", null, storyData)));
  }

  renderFeed(feed) {
    const {
      feeds
    } = this.props.state.DiscoveryStream;

    if (!feed.url) {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Feed url"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, feed.url)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Data last fetched"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, relativeTime(feeds.data[feed.url] ? feeds.data[feed.url].lastUpdated : null) || "(no data)")));
  }

  render() {
    const prefToggles = "enabled hardcoded_layout show_spocs collapsible".split(" ");
    const {
      config,
      lastUpdated,
      layout
    } = this.props.state.DiscoveryStream;
    const personalized = this.props.otherPrefs["discoverystream.personalization.enabled"];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button",
      onClick: this.restorePrefDefaults
    }, "Restore Pref Defaults"), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button",
      onClick: this.refreshCache
    }, "Refresh Cache"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button",
      onClick: this.expireCache
    }, "Expire Cache"), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button",
      onClick: this.systemTick
    }, "Trigger System Tick"), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button",
      onClick: this.idleDaily
    }, "Trigger Idle Daily"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button",
      onClick: this.syncRemoteSettings
    }, "Sync Remote Settings"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, prefToggles.map(pref => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, {
      key: pref
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(TogglePrefCheckbox, {
      checked: config[pref],
      pref: pref,
      onChange: this.setConfigValue
    })))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h3", null, "Endpoint variant"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, "You can also change this manually by changing this pref:", " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("code", null, "browser.newtabpage.activity-stream.discoverystream.config")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", {
      style: config.enabled && !config.hardcoded_layout ? null : {
        opacity: 0.5
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, Object.keys(LAYOUT_VARIANTS).map(id => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, {
      key: id
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "radio",
      value: id,
      checked: this.isCurrentVariant(id),
      onChange: this.changeEndpointVariant
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, id), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, LAYOUT_VARIANTS[id]))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h3", null, "Caching info"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", {
      style: config.enabled ? null : {
        opacity: 0.5
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Data last fetched"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, relativeTime(lastUpdated) || "(no data)")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h3", null, "Layout"), layout.map((row, rowIndex) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      key: `row-${rowIndex}`
    }, row.components.map((component, componentIndex) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      key: `component-${componentIndex}`,
      className: "ds-component"
    }, this.renderComponent(row.width, component))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h3", null, "Personalization"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Personalization, {
      personalized: personalized,
      dispatch: this.props.dispatch,
      state: {
        Personalization: this.props.state.Personalization
      }
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h3", null, "Spocs"), this.renderSpocs(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h3", null, "Feeds Data"), this.renderFeedsData());
  }

}
class ASRouterAdminInner extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.handleEnabledToggle = this.handleEnabledToggle.bind(this);
    this.handleUserPrefToggle = this.handleUserPrefToggle.bind(this);
    this.onChangeMessageFilter = this.onChangeMessageFilter.bind(this);
    this.onChangeMessageGroupsFilter = this.onChangeMessageGroupsFilter.bind(this);
    this.unblockAll = this.unblockAll.bind(this);
    this.handleClearAllImpressionsByProvider = this.handleClearAllImpressionsByProvider.bind(this);
    this.handleExpressionEval = this.handleExpressionEval.bind(this);
    this.onChangeTargetingParameters = this.onChangeTargetingParameters.bind(this);
    this.onChangeAttributionParameters = this.onChangeAttributionParameters.bind(this);
    this.setAttribution = this.setAttribution.bind(this);
    this.onCopyTargetingParams = this.onCopyTargetingParams.bind(this);
    this.onNewTargetingParams = this.onNewTargetingParams.bind(this);
    this.handleUpdateWNMessages = this.handleUpdateWNMessages.bind(this);
    this.handleForceWNP = this.handleForceWNP.bind(this);
    this.handleCloseWNP = this.handleCloseWNP.bind(this);
    this.resetPanel = this.resetPanel.bind(this);
    this.restoreWNMessageState = this.restoreWNMessageState.bind(this);
    this.toggleJSON = this.toggleJSON.bind(this);
    this.toggleAllMessages = this.toggleAllMessages.bind(this);
    this.resetGroups = this.resetGroups.bind(this);
    this.onMessageFromParent = this.onMessageFromParent.bind(this);
    this.setStateFromParent = this.setStateFromParent.bind(this);
    this.setState = this.setState.bind(this);
    this.state = {
      messageFilter: "all",
      messageGroupsFilter: "all",
      WNMessages: [],
      collapsedMessages: [],
      modifiedMessages: [],
      evaluationStatus: {},
      stringTargetingParameters: null,
      newStringTargetingParameters: null,
      copiedToClipboard: false,
      attributionParameters: {
        source: "addons.mozilla.org",
        medium: "referral",
        campaign: "non-fx-button",
        content: `rta:${btoa("uBlock0@raymondhill.net")}`,
        experiment: "ua-onboarding",
        variation: "chrome",
        ua: "Google Chrome 123",
        dltoken: "00000000-0000-0000-0000-000000000000"
      }
    };
  }

  onMessageFromParent({
    type,
    data
  }) {
    // These only exists due to onPrefChange events in ASRouter
    switch (type) {
      case "UpdateAdminState":
        {
          this.setStateFromParent(data);
          break;
        }
    }
  }

  setStateFromParent(data) {
    this.setState(data);

    if (!this.state.stringTargetingParameters) {
      const stringTargetingParameters = {};

      for (const param of Object.keys(data.targetingParameters)) {
        stringTargetingParameters[param] = JSON.stringify(data.targetingParameters[param], null, 2);
      }

      this.setState({
        stringTargetingParameters
      });
    }
  }

  componentWillMount() {
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].addListener(this.onMessageFromParent);
    const endpoint = _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].getPreviewEndpoint();
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "ADMIN_CONNECT_STATE",
      data: {
        endpoint
      }
    }).then(this.setStateFromParent);
  }

  handleBlock(msg) {
    return () => _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].blockById(msg.id);
  }

  handleUnblock(msg) {
    return () => _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].unblockById(msg.id);
  }

  resetJSON(msg) {
    // reset the displayed JSON for the given message
    document.getElementById(`${msg.id}-textarea`).value = JSON.stringify(msg, null, 2); // remove the message from the list of modified IDs

    let index = this.state.modifiedMessages.indexOf(msg.id);
    this.setState(prevState => ({
      modifiedMessages: [...prevState.modifiedMessages.slice(0, index), ...prevState.modifiedMessages.slice(index + 1)]
    }));
  }

  resetAllJSON() {
    let messageCheckboxes = document.querySelectorAll('input[type="checkbox"]');

    for (const checkbox of messageCheckboxes) {
      let trimmedId = checkbox.id.replace(" checkbox", "");
      let message = this.state.messages.filter(msg => msg.id === trimmedId);
      let msgId = message[0].id;
      document.getElementById(`${msgId}-textarea`).value = JSON.stringify(message[0], null, 2);
    }

    this.setState({
      WNMessages: []
    });
  }

  resetPanel() {
    this.resetAllJSON();
    this.handleCloseWNP();
  }

  handleOverride(id) {
    return () => _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].overrideMessage(id).then(state => {
      this.setStateFromParent(state);
      this.props.notifyContent({
        message: state.message
      });
    });
  }

  async handleUpdateWNMessages() {
    await this.restoreWNMessageState();
    let messages = this.state.WNMessages;

    for (const msg of messages) {
      _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].modifyMessageJson(JSON.parse(msg));
    }
  }

  handleForceWNP() {
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "FORCE_WHATSNEW_PANEL"
    });
  }

  handleCloseWNP() {
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "CLOSE_WHATSNEW_PANEL"
    });
  }

  expireCache() {
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "EXPIRE_QUERY_CACHE"
    });
  }

  resetPref() {
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "RESET_PROVIDER_PREF"
    });
  }

  resetGroups(id, value) {
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "RESET_GROUPS_STATE"
    }).then(this.setStateFromParent);
  }

  handleExpressionEval() {
    const context = {};

    for (const param of Object.keys(this.state.stringTargetingParameters)) {
      const value = this.state.stringTargetingParameters[param];
      context[param] = value ? JSON.parse(value) : null;
    }

    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "EVALUATE_JEXL_EXPRESSION",
      data: {
        expression: this.refs.expressionInput.value,
        context
      }
    }).then(this.setStateFromParent);
  }

  onChangeTargetingParameters(event) {
    const {
      name
    } = event.target;
    const {
      value
    } = event.target;
    this.setState(({
      stringTargetingParameters
    }) => {
      let targetingParametersError = null;
      const updatedParameters = { ...stringTargetingParameters
      };
      updatedParameters[name] = value;

      try {
        JSON.parse(value);
      } catch (e) {
        console.log(`Error parsing value of parameter ${name}`); // eslint-disable-line no-console

        targetingParametersError = {
          id: name
        };
      }

      return {
        copiedToClipboard: false,
        evaluationStatus: {},
        stringTargetingParameters: updatedParameters,
        targetingParametersError
      };
    });
  }

  unblockAll() {
    return _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "UNBLOCK_ALL"
    }).then(this.setStateFromParent);
  }

  handleClearAllImpressionsByProvider() {
    const providerId = this.state.messageFilter;

    if (!providerId) {
      return;
    }

    const userPrefInfo = this.state.userPrefs;
    const isUserEnabled = providerId in userPrefInfo ? userPrefInfo[providerId] : true;
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "DISABLE_PROVIDER",
      data: providerId
    });

    if (!isUserEnabled) {
      _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
        type: "SET_PROVIDER_USER_PREF",
        data: {
          id: providerId,
          value: true
        }
      });
    }

    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "ENABLE_PROVIDER",
      data: providerId
    });
  }

  handleEnabledToggle(event) {
    const provider = this.state.providerPrefs.find(p => p.id === event.target.dataset.provider);
    const userPrefInfo = this.state.userPrefs;
    const isUserEnabled = provider.id in userPrefInfo ? userPrefInfo[provider.id] : true;
    const isSystemEnabled = provider.enabled;
    const isEnabling = event.target.checked;

    if (isEnabling) {
      if (!isUserEnabled) {
        _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
          type: "SET_PROVIDER_USER_PREF",
          data: {
            id: provider.id,
            value: true
          }
        });
      }

      if (!isSystemEnabled) {
        _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
          type: "ENABLE_PROVIDER",
          data: provider.id
        });
      }
    } else {
      _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
        type: "DISABLE_PROVIDER",
        data: provider.id
      });
    }

    this.setState({
      messageFilter: "all"
    });
  }

  handleUserPrefToggle(event) {
    const action = {
      type: "SET_PROVIDER_USER_PREF",
      data: {
        id: event.target.dataset.provider,
        value: event.target.checked
      }
    };
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage(action);
    this.setState({
      messageFilter: "all"
    });
  }

  onChangeMessageFilter(event) {
    this.setState({
      messageFilter: event.target.value
    });
  }

  onChangeMessageGroupsFilter(event) {
    this.setState({
      messageGroupsFilter: event.target.value
    });
  } // Simulate a copy event that sets to clipboard all targeting paramters and values


  onCopyTargetingParams(event) {
    const stringTargetingParameters = { ...this.state.stringTargetingParameters
    };

    for (const key of Object.keys(stringTargetingParameters)) {
      // If the value is not set the parameter will be lost when we stringify
      if (stringTargetingParameters[key] === undefined) {
        stringTargetingParameters[key] = null;
      }
    }

    const setClipboardData = e => {
      e.preventDefault();
      e.clipboardData.setData("text", JSON.stringify(stringTargetingParameters, null, 2));
      document.removeEventListener("copy", setClipboardData);
      this.setState({
        copiedToClipboard: true
      });
    };

    document.addEventListener("copy", setClipboardData);
    document.execCommand("copy");
  }

  onNewTargetingParams(event) {
    this.setState({
      newStringTargetingParameters: event.target.value
    });
    event.target.classList.remove("errorState");
    this.refs.targetingParamsEval.innerText = "";

    try {
      const stringTargetingParameters = JSON.parse(event.target.value);
      this.setState({
        stringTargetingParameters
      });
    } catch (e) {
      event.target.classList.add("errorState");
      this.refs.targetingParamsEval.innerText = e.message;
    }
  }

  toggleJSON(msgId) {
    if (this.state.collapsedMessages.includes(msgId)) {
      let index = this.state.collapsedMessages.indexOf(msgId);
      this.setState(prevState => ({
        collapsedMessages: [...prevState.collapsedMessages.slice(0, index), ...prevState.collapsedMessages.slice(index + 1)]
      }));
    } else {
      this.setState(prevState => ({
        collapsedMessages: prevState.collapsedMessages.concat(msgId)
      }));
    }
  }

  handleChange(msgId) {
    if (!this.state.modifiedMessages.includes(msgId)) {
      this.setState(prevState => ({
        modifiedMessages: prevState.modifiedMessages.concat(msgId)
      }));
    }
  }

  renderMessageItem(msg) {
    const isBlockedByGroup = this.state.groups.filter(group => msg.groups.includes(group.id)).some(group => !group.enabled);
    const msgProvider = this.state.providers.find(provider => provider.id === msg.provider) || {};
    const isProviderExcluded = msgProvider.exclude && msgProvider.exclude.includes(msg.id);
    const isMessageBlocked = this.state.messageBlockList.includes(msg.id) || this.state.messageBlockList.includes(msg.campaign);
    const isBlocked = isMessageBlocked || isBlockedByGroup || isProviderExcluded;
    const impressions = this.state.messageImpressions[msg.id] ? this.state.messageImpressions[msg.id].length : 0;
    const isCollapsed = this.state.collapsedMessages.includes(msg.id);
    const isModified = this.state.modifiedMessages.includes(msg.id);
    let itemClassName = "message-item";

    if (isBlocked) {
      itemClassName += " blocked";
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
      className: itemClassName,
      key: `${msg.id}-${msg.provider}`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "message-id"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, msg.id, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ToggleMessageJSON, {
      msgId: `${msg.id}`,
      toggleJSON: this.toggleJSON,
      isCollapsed: isCollapsed
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "button-column"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: `button ${isBlocked ? "" : " primary"}`,
      onClick: isBlocked ? this.handleUnblock(msg) : this.handleBlock(msg)
    }, isBlocked ? "Unblock" : "Block"), // eslint-disable-next-line no-nested-ternary
    isBlocked ? null : isModified ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button restore" // eslint-disable-next-line react/jsx-no-bind
      ,
      onClick: e => this.resetJSON(msg)
    }, "Reset") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button show",
      onClick: this.handleOverride(msg.id)
    }, "Show"), isBlocked ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button modify" // eslint-disable-next-line react/jsx-no-bind
      ,
      onClick: e => this.modifyJson(msg)
    }, "Modify"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), "(", impressions, " impressions)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "message-summary"
    }, isBlocked && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, "Block reason:", isBlockedByGroup && " Blocked by group", isProviderExcluded && " Excluded by provider", isMessageBlocked && " Message blocked"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("pre", {
      className: isCollapsed ? "collapsed" : "expanded"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("textarea", {
      id: `${msg.id}-textarea`,
      name: msg.id,
      className: "general-textarea",
      disabled: isBlocked // eslint-disable-next-line react/jsx-no-bind
      ,
      onChange: e => this.handleChange(msg.id)
    }, JSON.stringify(msg, null, 2))))));
  }

  restoreWNMessageState() {
    // check the page for checked boxes, and reset the state of WNMessages based on that.
    let tempState = [];
    let messageCheckboxes = document.querySelectorAll('input[type="checkbox"]'); // put the JSON of all the checked checkboxes in the array

    for (const checkbox of messageCheckboxes) {
      let trimmedId = checkbox.id.replace(" checkbox", "");
      let msg = document.getElementById(`${trimmedId}-textarea`).value;

      if (checkbox.checked) {
        tempState.push(msg);
      }
    }

    this.setState({
      WNMessages: tempState
    });
  }

  modifyJson(content) {
    const message = JSON.parse(document.getElementById(`${content.id}-textarea`).value);
    return _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].modifyMessageJson(message).then(state => {
      this.setStateFromParent(state);
      this.props.notifyContent({
        message: state.message
      });
    });
  }

  renderWNMessageItem(msg) {
    const isBlocked = this.state.messageBlockList.includes(msg.id) || this.state.messageBlockList.includes(msg.campaign);
    const impressions = this.state.messageImpressions[msg.id] ? this.state.messageImpressions[msg.id].length : 0;
    const isCollapsed = this.state.collapsedMessages.includes(msg.id);
    let itemClassName = "message-item";

    if (isBlocked) {
      itemClassName += " blocked";
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
      className: itemClassName,
      key: `${msg.id}-${msg.provider}`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "message-id"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, msg.id, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), "(", impressions, " impressions)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ToggleMessageJSON, {
      msgId: `${msg.id}`,
      toggleJSON: this.toggleJSON,
      isCollapsed: isCollapsed
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "checkbox",
      id: `${msg.id} checkbox`,
      name: `${msg.id} checkbox`
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: `message-summary`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("pre", {
      className: isCollapsed ? "collapsed" : "expanded"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("textarea", {
      id: `${msg.id}-textarea`,
      className: "wnp-textarea",
      name: msg.id
    }, JSON.stringify(msg, null, 2)))));
  }

  toggleAllMessages(messagesToShow) {
    if (this.state.collapsedMessages.length) {
      this.setState({
        collapsedMessages: []
      });
    } else {
      Array.prototype.forEach.call(messagesToShow, msg => {
        this.setState(prevState => ({
          collapsedMessages: prevState.collapsedMessages.concat(msg.id)
        }));
      });
    }
  }

  renderMessages() {
    if (!this.state.messages) {
      return null;
    }

    const messagesToShow = this.state.messageFilter === "all" ? this.state.messages : this.state.messages.filter(message => message.provider === this.state.messageFilter);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton slim" // eslint-disable-next-line react/jsx-no-bind
      ,
      onClick: e => this.toggleAllMessages(messagesToShow)
    }, "Collapse/Expand All"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", {
      className: "helpLink"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "icon icon-small-spacer icon-info"
    }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, "To modify a message, change the JSON and click 'Modify' to see your changes. Click 'Reset' to restore the JSON to the original.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, messagesToShow.map(msg => this.renderMessageItem(msg)))));
  }

  renderMessagesByGroup() {
    if (!this.state.messages) {
      return null;
    }

    const messagesToShow = this.state.messageGroupsFilter === "all" ? this.state.messages.filter(m => m.groups.length) : this.state.messages.filter(message => message.groups.includes(this.state.messageGroupsFilter));
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, messagesToShow.map(msg => this.renderMessageItem(msg))));
  }

  renderWNMessages() {
    if (!this.state.messages) {
      return null;
    }

    const messagesToShow = this.state.messages.filter(message => message.provider === "whats-new-panel" && message.content.body);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, messagesToShow.map(msg => this.renderWNMessageItem(msg))));
  }

  renderMessageFilter() {
    if (!this.state.providers) {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "unblock-all ASRouterButton test-only",
      onClick: this.unblockAll
    }, "Unblock All Snippets"), "Show messages from ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("select", {
      value: this.state.messageFilter,
      onChange: this.onChangeMessageFilter
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("option", {
      value: "all"
    }, "all providers"), this.state.providers.map(provider => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("option", {
      key: provider.id,
      value: provider.id
    }, provider.id))), this.state.messageFilter !== "all" && !this.state.messageFilter.includes("_local_testing") ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button messages-reset",
      onClick: this.handleClearAllImpressionsByProvider
    }, "Reset All") : null);
  }

  renderMessageGroupsFilter() {
    if (!this.state.groups) {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, "Show messages from ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("select", {
      value: this.state.messageGroupsFilter,
      onChange: this.onChangeMessageGroupsFilter
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("option", {
      value: "all"
    }, "all groups"), this.state.groups.map(group => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("option", {
      key: group.id,
      value: group.id
    }, group.id))));
  }

  renderTableHead() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
      className: "message-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Provider ID"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, "Source"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Cohort"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Last Updated")));
  }

  renderProviders() {
    const providersConfig = this.state.providerPrefs;
    const providerInfo = this.state.providers;
    const userPrefInfo = this.state.userPrefs;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, this.renderTableHead(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, providersConfig.map((provider, i) => {
      const isTestProvider = provider.id.includes("_local_testing");
      const info = providerInfo.find(p => p.id === provider.id) || {};
      const isUserEnabled = provider.id in userPrefInfo ? userPrefInfo[provider.id] : true;
      const isSystemEnabled = isTestProvider || provider.enabled;
      let label = "local";

      if (provider.type === "remote") {
        label = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, "endpoint (", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
          className: "providerUrl",
          target: "_blank",
          href: info.url,
          rel: "noopener noreferrer"
        }, info.url), ")");
      } else if (provider.type === "remote-settings") {
        label = `remote settings (${provider.bucket})`;
      } else if (provider.type === "remote-experiments") {
        label = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, "remote settings (", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
          className: "providerUrl",
          target: "_blank",
          href: "https://firefox.settings.services.mozilla.com/v1/buckets/main/collections/nimbus-desktop-experiments/records",
          rel: "noopener noreferrer"
        }, "nimbus-desktop-experiments"), ")");
      }

      let reasonsDisabled = [];

      if (!isSystemEnabled) {
        reasonsDisabled.push("system pref");
      }

      if (!isUserEnabled) {
        reasonsDisabled.push("user pref");
      }

      if (reasonsDisabled.length) {
        label = `disabled via ${reasonsDisabled.join(", ")}`;
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
        className: "message-item",
        key: i
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, isTestProvider ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
        type: "checkbox",
        disabled: true,
        readOnly: true,
        checked: true
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
        type: "checkbox",
        "data-provider": provider.id,
        checked: isUserEnabled && isSystemEnabled,
        onChange: this.handleEnabledToggle
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, provider.id), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
        className: `sourceLabel${isUserEnabled && isSystemEnabled ? "" : " isDisabled"}`
      }, label)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, provider.cohort), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
        style: {
          whiteSpace: "nowrap"
        }
      }, info.lastUpdated ? new Date(info.lastUpdated).toLocaleString() : ""));
    })));
  }

  renderTargetingParameters() {
    // There was no error and the result is truthy
    const success = this.state.evaluationStatus.success && !!this.state.evaluationStatus.result;
    const result = JSON.stringify(this.state.evaluationStatus.result, null, 2) || "(Empty result)";
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Evaluate JEXL expression"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("textarea", {
      ref: "expressionInput",
      rows: "10",
      cols: "60",
      placeholder: "Evaluate JEXL expressions and mock parameters by changing their values below"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, "Status:", " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      ref: "evaluationStatus"
    }, success ? "✅" : "❌", ", Result: ", result))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton secondary",
      onClick: this.handleExpressionEval
    }, "Evaluate"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Modify targeting parameters"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton secondary",
      onClick: this.onCopyTargetingParams,
      disabled: this.state.copiedToClipboard
    }, this.state.copiedToClipboard ? "Parameters copied!" : "Copy parameters"))), this.state.stringTargetingParameters && Object.keys(this.state.stringTargetingParameters).map((param, i) => {
      const value = this.state.stringTargetingParameters[param];
      const errorState = this.state.targetingParametersError && this.state.targetingParametersError.id === param;
      const className = errorState ? "errorState" : "";
      const inputComp = (value && value.length) > 30 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("textarea", {
        name: param,
        className: className,
        value: value,
        rows: "10",
        cols: "60",
        onChange: this.onChangeTargetingParameters
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
        name: param,
        className: className,
        value: value,
        onChange: this.onChangeTargetingParameters
      });
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
        key: i
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, param), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, inputComp));
    })));
  }

  onChangeAttributionParameters(event) {
    const {
      name,
      value
    } = event.target;
    this.setState(({
      attributionParameters
    }) => {
      const updatedParameters = { ...attributionParameters
      };
      updatedParameters[name] = value;
      return {
        attributionParameters: updatedParameters
      };
    });
  }

  setAttribution(e) {
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].sendMessage({
      type: "FORCE_ATTRIBUTION",
      data: this.state.attributionParameters
    }).then(this.setStateFromParent);
  }

  _getGroupImpressionsCount(id, frequency) {
    if (frequency) {
      return this.state.groupImpressions[id] ? this.state.groupImpressions[id].length : 0;
    }

    return "n/a";
  }

  renderDiscoveryStream() {
    const {
      config
    } = this.props.DiscoveryStream;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
      className: "message-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Enabled"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, config.enabled ? "yes" : "no")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
      className: "message-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      className: "min"
    }, "Endpoint"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, config.endpoint || "(empty)")))));
  }

  renderAttributionParamers() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, " Attribution Parameters "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, " ", "This forces the browser to set some attribution parameters, useful for testing the Return To AMO feature. Clicking on 'Force Attribution', with the default values in each field, will demo the Return To AMO flow with the addon called 'uBlock Origin'. If you wish to try different attribution parameters, enter them in the text boxes. If you wish to try a different addon with the Return To AMO flow, make sure the 'content' text box has a string that is 'rta:base64(addonID)', the base64 string of the addonID prefixed with 'rta:'. The addon must currently be a recommended addon on AMO. Then click 'Force Attribution'. Clicking on 'Force Attribution' with blank text boxes reset attribution data."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " Source ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "source",
      placeholder: "addons.mozilla.org",
      value: this.state.attributionParameters.source,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " Medium ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "medium",
      placeholder: "referral",
      value: this.state.attributionParameters.medium,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " Campaign ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "campaign",
      placeholder: "non-fx-button",
      value: this.state.attributionParameters.campaign,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " Content ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "content",
      placeholder: `rta:${btoa("uBlock0@raymondhill.net")}`,
      value: this.state.attributionParameters.content,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " Experiment ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "experiment",
      placeholder: "ua-onboarding",
      value: this.state.attributionParameters.experiment,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " Variation ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "variation",
      placeholder: "chrome",
      value: this.state.attributionParameters.variation,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " User Agent ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "ua",
      placeholder: "Google Chrome 123",
      value: this.state.attributionParameters.ua,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("b", null, " Download Token ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "text",
      name: "dltoken",
      placeholder: "00000000-0000-0000-0000-000000000000",
      value: this.state.attributionParameters.dltoken,
      onChange: this.onChangeAttributionParameters
    }), " ")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton primary button",
      onClick: this.setAttribution
    }, " ", "Force Attribution", " "), " "))));
  }

  renderErrorMessage({
    id,
    errors
  }) {
    const providerId = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", {
      rowSpan: errors.length
    }, id); // .reverse() so that the last error (most recent) is first

    return errors.map(({
      error,
      timestamp
    }, cellKey) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
      key: cellKey
    }, cellKey === errors.length - 1 ? providerId : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, error.message), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, relativeTime(timestamp)))).reverse();
  }

  renderErrors() {
    const providersWithErrors = this.state.providers && this.state.providers.filter(p => p.errors && p.errors.length);

    if (providersWithErrors && providersWithErrors.length) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", {
        className: "errorReporting"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("th", null, "Provider ID"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("th", null, "Message"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("th", null, "Timestamp"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, providersWithErrors.map(this.renderErrorMessage)));
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, "No errors");
  }

  renderWNPTests() {
    if (!this.state.messages) {
      return null;
    }

    let messagesToShow = this.state.messages.filter(message => message.provider === "whats-new-panel");
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", {
      className: "helpLink"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "icon icon-small-spacer icon-info"
    }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, "To correctly render selected messages, click 'Open What's New Panel', select the messages you want to see, and click 'Render Selected Messages'.", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), "To modify a message, select it, modify the JSON and click 'Render Selected Messages' again to see your changes.", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("br", null), "Click 'Reset Panel' to close the panel and reset all JSON to its original state.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton primary button",
      onClick: this.handleForceWNP
    }, "Open What's New Panel"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton secondary button",
      onClick: this.handleUpdateWNMessages
    }, "Render Selected Messages"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton secondary button",
      onClick: this.resetPanel
    }, "Reset Panel"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Messages"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "ASRouterButton slim button" // eslint-disable-next-line react/jsx-no-bind
      ,
      onClick: e => this.toggleAllMessages(messagesToShow)
    }, "Collapse/Expand All"), this.renderWNMessages()));
  }

  getSection() {
    const [section] = this.props.location.routes;

    switch (section) {
      case "wnpanel":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "What's New Panel"), this.renderWNPTests());

      case "targeting":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Targeting Utilities"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
          className: "button",
          onClick: this.expireCache
        }, "Expire Cache"), " ", "(This expires the cache in ASR Targeting for bookmarks and top sites)", this.renderTargetingParameters(), this.renderAttributionParamers());

      case "groups":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Message Groups"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
          className: "button",
          onClick: this.resetGroups
        }, "Reset group impressions"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
          className: "message-item"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, "Enabled"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, "Impressions count"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, "Custom frequency"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, "User preferences"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", null, this.state.groups && this.state.groups.map(({
          id,
          enabled,
          frequency,
          userPreferences = []
        }, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Row, {
          key: id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(TogglePrefCheckbox, {
          checked: enabled,
          pref: id,
          disabled: true
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, this._getGroupImpressionsCount(id, frequency)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, JSON.stringify(frequency, null, 2)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("td", null, userPreferences.join(", ")))))), this.renderMessageGroupsFilter(), this.renderMessagesByGroup());

      case "ds":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Discovery Stream"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(DiscoveryStreamAdmin, {
          state: {
            DiscoveryStream: this.props.DiscoveryStream,
            Personalization: this.props.Personalization
          },
          otherPrefs: this.props.Prefs.values,
          dispatch: this.props.dispatch
        }));

      case "errors":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "ASRouter Errors"), this.renderErrors());

      default:
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Message Providers", " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
          title: "Restore all provider settings that ship with Firefox",
          className: "button",
          onClick: this.resetPref
        }, "Restore default prefs")), this.state.providers ? this.renderProviders() : null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Messages"), this.renderMessageFilter(), this.renderMessages());
    }
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: `asrouter-admin ${this.props.collapsed ? "collapsed" : "expanded"}`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("aside", {
      className: "sidebar"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("ul", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "#devtools"
    }, "General")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "#devtools-wnpanel"
    }, "What's New Panel")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "#devtools-targeting"
    }, "Targeting")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "#devtools-groups"
    }, "Message Groups")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "#devtools-ds"
    }, "Discovery Stream")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "#devtools-errors"
    }, "Errors")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("main", {
      className: "main-panel"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h1", null, "AS Router Admin"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", {
      className: "helpLink"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "icon icon-small-spacer icon-info"
    }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, "Need help using these tools? Check out our", " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      target: "blank",
      href: "https://firefox-source-docs.mozilla.org/browser/components/newtab/content-src/asrouter/docs/index.html"
    }, "documentation"))), this.getSection()));
  }

}
class CollapseToggle extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onCollapseToggle = this.onCollapseToggle.bind(this);
    this.state = {
      collapsed: false
    };
  }

  get renderAdmin() {
    const {
      props
    } = this;
    return props.location.hash && (props.location.hash.startsWith("#asrouter") || props.location.hash.startsWith("#devtools"));
  }

  onCollapseToggle(e) {
    e.preventDefault();
    this.setState(state => ({
      collapsed: !state.collapsed
    }));
  }

  setBodyClass() {
    if (this.renderAdmin && !this.state.collapsed) {
      global.document.body.classList.add("no-scroll");
    } else {
      global.document.body.classList.remove("no-scroll");
    }
  }

  componentDidMount() {
    this.setBodyClass();
  }

  componentDidUpdate() {
    this.setBodyClass();
  }

  componentWillUnmount() {
    global.document.body.classList.remove("no-scroll");
    _asrouter_asrouter_utils__WEBPACK_IMPORTED_MODULE_1__["ASRouterUtils"].removeListener(this.onMessageFromParent);
  }

  render() {
    const {
      props
    } = this;
    const {
      renderAdmin
    } = this;
    const isCollapsed = this.state.collapsed || !renderAdmin;
    const label = `${isCollapsed ? "Expand" : "Collapse"} devtools`;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
      href: "#devtools",
      title: label,
      "aria-label": label,
      className: `asrouter-toggle ${isCollapsed ? "collapsed" : "expanded"}`,
      onClick: this.renderAdmin ? this.onCollapseToggle : null
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "icon icon-devtools"
    })), renderAdmin ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ASRouterAdminInner, _extends({}, props, {
      collapsed: this.state.collapsed
    })) : null);
  }

}

const _ASRouterAdmin = props => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_SimpleHashRouter__WEBPACK_IMPORTED_MODULE_4__["SimpleHashRouter"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(CollapseToggle, props));

const ASRouterAdmin = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(state => ({
  Sections: state.Sections,
  DiscoveryStream: state.DiscoveryStream,
  Personalization: state.Personalization,
  Prefs: state.Prefs
}))(_ASRouterAdmin);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ASRouterUtils", function() { return ASRouterUtils; });
/* harmony import */ var common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6);
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const ASRouterUtils = {
  addListener(listener) {
    if (global.ASRouterAddParentListener) {
      global.ASRouterAddParentListener(listener);
    }
  },

  removeListener(listener) {
    if (global.ASRouterRemoveParentListener) {
      global.ASRouterRemoveParentListener(listener);
    }
  },

  sendMessage(action) {
    if (global.ASRouterMessage) {
      return global.ASRouterMessage(action);
    }

    throw new Error(`Unexpected call:\n${JSON.stringify(action, null, 3)}`);
  },

  blockById(id, options) {
    return ASRouterUtils.sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].BLOCK_MESSAGE_BY_ID,
      data: {
        id,
        ...options
      }
    });
  },

  modifyMessageJson(content) {
    return ASRouterUtils.sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].MODIFY_MESSAGE_JSON,
      data: {
        content
      }
    });
  },

  executeAction(button_action) {
    return ASRouterUtils.sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].USER_ACTION,
      data: button_action
    });
  },

  unblockById(id) {
    return ASRouterUtils.sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].UNBLOCK_MESSAGE_BY_ID,
      data: {
        id
      }
    });
  },

  blockBundle(bundle) {
    return ASRouterUtils.sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].BLOCK_BUNDLE,
      data: {
        bundle
      }
    });
  },

  unblockBundle(bundle) {
    return ASRouterUtils.sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].UNBLOCK_BUNDLE,
      data: {
        bundle
      }
    });
  },

  overrideMessage(id) {
    return ASRouterUtils.sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].OVERRIDE_MESSAGE,
      data: {
        id
      }
    });
  },

  sendTelemetry(ping) {
    return ASRouterUtils.sendMessage(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__["actionCreators"].ASRouterUserEvent(ping));
  },

  getPreviewEndpoint() {
    if (global.document && global.document.location && global.document.location.href.includes("endpoint")) {
      const params = new URLSearchParams(global.document.location.href.slice(global.document.location.href.indexOf("endpoint")));

      try {
        const endpoint = new URL(params.get("endpoint"));
        return {
          url: endpoint.href,
          snippetId: params.get("snippetId"),
          theme: this.getPreviewTheme(),
          dir: this.getPreviewDir()
        };
      } catch (e) {}
    }

    return null;
  },

  getPreviewTheme() {
    return new URLSearchParams(global.document.location.href.slice(global.document.location.href.indexOf("theme"))).get("theme");
  },

  getPreviewDir() {
    return new URLSearchParams(global.document.location.href.slice(global.document.location.href.indexOf("dir"))).get("dir");
  }

};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MESSAGE_TYPE_LIST", function() { return MESSAGE_TYPE_LIST; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MESSAGE_TYPE_HASH", function() { return MESSAGE_TYPE_HASH; });
/* vim: set ts=2 sw=2 sts=2 et tw=80: */

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */


const MESSAGE_TYPE_LIST = ["BLOCK_MESSAGE_BY_ID", "USER_ACTION", "IMPRESSION", "TRIGGER", "NEWTAB_MESSAGE_REQUEST", // PB is Private Browsing
"PBNEWTAB_MESSAGE_REQUEST", "DOORHANGER_TELEMETRY", "TOOLBAR_BADGE_TELEMETRY", "TOOLBAR_PANEL_TELEMETRY", "MOMENTS_PAGE_TELEMETRY", "INFOBAR_TELEMETRY", "SPOTLIGHT_TELEMETRY", "AS_ROUTER_TELEMETRY_USER_EVENT", // Admin types
"ADMIN_CONNECT_STATE", "UNBLOCK_MESSAGE_BY_ID", "UNBLOCK_ALL", "BLOCK_BUNDLE", "UNBLOCK_BUNDLE", "DISABLE_PROVIDER", "ENABLE_PROVIDER", "EVALUATE_JEXL_EXPRESSION", "EXPIRE_QUERY_CACHE", "FORCE_ATTRIBUTION", "FORCE_WHATSNEW_PANEL", "CLOSE_WHATSNEW_PANEL", "OVERRIDE_MESSAGE", "MODIFY_MESSAGE_JSON", "RESET_PROVIDER_PREF", "SET_PROVIDER_USER_PREF", "RESET_GROUPS_STATE"];
const MESSAGE_TYPE_HASH = MESSAGE_TYPE_LIST.reduce((hash, value) => {
  hash[value] = value;
  return hash;
}, {});

/***/ }),
/* 7 */
/***/ (function(module, exports) {

module.exports = ReactRedux;

/***/ }),
/* 8 */
/***/ (function(module, exports) {

module.exports = React;

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SimpleHashRouter", function() { return SimpleHashRouter; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class SimpleHashRouter extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onHashChange = this.onHashChange.bind(this);
    this.state = {
      hash: global.location.hash
    };
  }

  onHashChange() {
    this.setState({
      hash: global.location.hash
    });
  }

  componentWillMount() {
    global.addEventListener("hashchange", this.onHashChange);
  }

  componentWillUnmount() {
    global.removeEventListener("hashchange", this.onHashChange);
  }

  render() {
    const [, ...routes] = this.state.hash.split("-");
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(this.props.children, {
      location: {
        hash: this.state.hash,
        routes
      }
    });
  }

}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ASRouterUISurface", function() { return ASRouterUISurface; });
/* harmony import */ var common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6);
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);
/* harmony import */ var _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5);
/* harmony import */ var _rich_text_strings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(63);
/* harmony import */ var _components_ImpressionsWrapper_ImpressionsWrapper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(11);
/* harmony import */ var fluent_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(61);
/* harmony import */ var content_src_lib_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(13);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(14);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _templates_template_manifest__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(62);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */










const TEMPLATES_BELOW_SEARCH = ["simple_below_search_snippet"]; // Note: nextProps/prevProps refer to props passed to <ImpressionsWrapper />, not <ASRouterUISurface />

function shouldSendImpressionOnUpdate(nextProps, prevProps) {
  return nextProps.message.id && (!prevProps.message || prevProps.message.id !== nextProps.message.id);
}

class ASRouterUISurface extends react__WEBPACK_IMPORTED_MODULE_7___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.sendClick = this.sendClick.bind(this);
    this.sendImpression = this.sendImpression.bind(this);
    this.sendUserActionTelemetry = this.sendUserActionTelemetry.bind(this);
    this.onUserAction = this.onUserAction.bind(this);
    this.fetchFlowParams = this.fetchFlowParams.bind(this);
    this.onBlockSelected = this.onBlockSelected.bind(this);
    this.onBlockById = this.onBlockById.bind(this);
    this.onDismiss = this.onDismiss.bind(this);
    this.onMessageFromParent = this.onMessageFromParent.bind(this);
    this.state = {
      message: {}
    };

    if (props.document) {
      this.footerPortal = props.document.getElementById("footer-asrouter-container");
    }
  }

  async fetchFlowParams(params = {}) {
    let result = {};
    const {
      fxaEndpoint
    } = this.props;

    if (!fxaEndpoint) {
      const err = "Tried to fetch flow params before fxaEndpoint pref was ready";
      console.error(err); // eslint-disable-line no-console
    }

    try {
      const urlObj = new URL(fxaEndpoint);
      urlObj.pathname = "metrics-flow";
      Object.keys(params).forEach(key => {
        urlObj.searchParams.append(key, params[key]);
      });
      const response = await fetch(urlObj.toString(), {
        credentials: "omit"
      });

      if (response.status === 200) {
        const {
          deviceId,
          flowId,
          flowBeginTime
        } = await response.json();
        result = {
          deviceId,
          flowId,
          flowBeginTime
        };
      } else {
        console.error("Non-200 response", response); // eslint-disable-line no-console
      }
    } catch (error) {
      console.error(error); // eslint-disable-line no-console
    }

    return result;
  }

  sendUserActionTelemetry(extraProps = {}) {
    const {
      message
    } = this.state;
    const eventType = `${message.provider}_user_event`;
    const source = extraProps.id;
    delete extraProps.id;
    _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].sendTelemetry({
      source,
      message_id: message.id,
      action: eventType,
      ...extraProps
    });
  }

  sendImpression(extraProps) {
    if (this.state.message.provider === "preview") {
      return Promise.resolve();
    }

    this.sendUserActionTelemetry({
      event: "IMPRESSION",
      ...extraProps
    });
    return _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].sendMessage({
      type: common_ActorConstants_jsm__WEBPACK_IMPORTED_MODULE_0__["MESSAGE_TYPE_HASH"].IMPRESSION,
      data: this.state.message
    });
  } // If link has a `metric` data attribute send it as part of the `event_context`
  // telemetry field which can have arbitrary values.
  // Used for router messages with links as part of the content.


  sendClick(event) {
    const {
      dataset
    } = event.target;
    const metric = {
      event_context: dataset.metric,
      // Used for the `source` of the event. Needed to differentiate
      // from other snippet or onboarding events that may occur.
      id: "NEWTAB_FOOTER_BAR_CONTENT"
    };
    const {
      entrypoint_name,
      entrypoint_value
    } = dataset; // Assign the snippet referral for the action

    const entrypoint = entrypoint_name ? new URLSearchParams([[entrypoint_name, entrypoint_value]]).toString() : entrypoint_value;
    const action = {
      type: dataset.action,
      data: {
        args: dataset.args,
        ...(entrypoint && {
          entrypoint
        })
      }
    };

    if (action.type) {
      _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].executeAction(action);
    }

    if (!this.state.message.content.do_not_autoblock && !dataset.do_not_autoblock) {
      this.onBlockById(this.state.message.id);
    }

    if (this.state.message.provider !== "preview") {
      this.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        ...metric
      });
    }
  }

  onBlockSelected(options) {
    return this.onBlockById(this.state.message.id, { ...options,
      campaign: this.state.message.campaign
    });
  }

  onBlockById(id, options) {
    return _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].blockById(id, options).then(clearAll => {
      if (clearAll) {
        this.setState({
          message: {}
        });
      }
    });
  }

  onDismiss() {
    this.clearMessage(this.state.message.id);
  } // Blocking a snippet by id blocks the entire campaign
  // so when clearing we use the two values interchangeably


  clearMessage(idOrCampaign) {
    if (idOrCampaign === this.state.message.id || idOrCampaign === this.state.message.campaign) {
      this.setState({
        message: {}
      });
    }
  }

  clearProvider(id) {
    if (this.state.message.provider === id) {
      this.setState({
        message: {}
      });
    }
  }

  onMessageFromParent({
    type,
    data
  }) {
    // These only exists due to onPrefChange events in ASRouter
    switch (type) {
      case "ClearMessages":
        {
          data.forEach(id => this.clearMessage(id));
          break;
        }

      case "ClearProviders":
        {
          data.forEach(id => this.clearProvider(id));
          break;
        }

      case "EnterSnippetsPreviewMode":
        {
          this.props.dispatch({
            type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__["actionTypes"].SNIPPETS_PREVIEW_MODE
          });
          break;
        }
    }
  }

  requestMessage(endpoint) {
    _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].sendMessage({
      type: "NEWTAB_MESSAGE_REQUEST",
      data: {
        endpoint
      }
    }).then(state => this.setState(state));
  }

  componentWillMount() {
    const endpoint = _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].getPreviewEndpoint();

    if (endpoint && endpoint.theme === "dark") {
      global.window.dispatchEvent(new CustomEvent("LightweightTheme:Set", {
        detail: {
          data: content_src_lib_constants__WEBPACK_IMPORTED_MODULE_6__["NEWTAB_DARK_THEME"]
        }
      }));
    }

    if (endpoint && endpoint.dir === "rtl") {
      //Set `dir = rtl` on the HTML
      this.props.document.dir = "rtl";
    }

    _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].addListener(this.onMessageFromParent);
    this.requestMessage(endpoint);
  }

  componentWillUnmount() {
    _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].removeListener(this.onMessageFromParent);
  }

  componentDidUpdate(prevProps, prevState) {
    if (prevProps.adminContent && JSON.stringify(prevProps.adminContent) !== JSON.stringify(this.props.adminContent)) {
      this.updateContent();
    }

    if (prevState.message.id !== this.state.message.id) {
      const main = global.window.document.querySelector("main");

      if (main) {
        if (this.state.message.id) {
          main.classList.add("has-snippet");
        } else {
          main.classList.remove("has-snippet");
        }
      }
    }
  }

  updateContent() {
    this.setState({ ...this.props.adminContent
    });
  }

  async getMonitorUrl({
    url,
    flowRequestParams = {}
  }) {
    const flowValues = await this.fetchFlowParams(flowRequestParams); // Note that flowParams are actually added dynamically on the page

    const urlObj = new URL(url);
    ["deviceId", "flowId", "flowBeginTime"].forEach(key => {
      if (key in flowValues) {
        urlObj.searchParams.append(key, flowValues[key]);
      }
    });
    return urlObj.toString();
  }

  async onUserAction(action) {
    switch (action.type) {
      // This needs to be handled locally because its
      case "ENABLE_FIREFOX_MONITOR":
        const url = await this.getMonitorUrl(action.data.args);
        _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].executeAction({
          type: "OPEN_URL",
          data: {
            args: url
          }
        });
        break;

      default:
        _asrouter_utils__WEBPACK_IMPORTED_MODULE_2__["ASRouterUtils"].executeAction(action);
    }
  }

  renderSnippets() {
    const {
      message
    } = this.state;

    if (!_templates_template_manifest__WEBPACK_IMPORTED_MODULE_9__["SnippetsTemplates"][message.template]) {
      return null;
    }

    const SnippetComponent = _templates_template_manifest__WEBPACK_IMPORTED_MODULE_9__["SnippetsTemplates"][message.template];
    const {
      content
    } = message;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_ImpressionsWrapper_ImpressionsWrapper__WEBPACK_IMPORTED_MODULE_4__["ImpressionsWrapper"], {
      id: "NEWTAB_FOOTER_BAR",
      message: this.state.message,
      sendImpression: this.sendImpression,
      shouldSendImpressionOnUpdate: shouldSendImpressionOnUpdate // This helps with testing
      ,
      document: this.props.document
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(fluent_react__WEBPACK_IMPORTED_MODULE_5__["LocalizationProvider"], {
      bundles: Object(_rich_text_strings__WEBPACK_IMPORTED_MODULE_3__["generateBundles"])(content)
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(SnippetComponent, _extends({}, this.state.message, {
      UISurface: "NEWTAB_FOOTER_BAR",
      onBlock: this.onBlockSelected,
      onDismiss: this.onDismiss,
      onAction: this.onUserAction,
      sendClick: this.sendClick,
      sendUserActionTelemetry: this.sendUserActionTelemetry
    }))));
  }

  renderPreviewBanner() {
    if (this.state.message.provider !== "preview") {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
      className: "snippets-preview-banner"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", {
      className: "icon icon-small-spacer icon-info"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", null, "Preview Purposes Only"));
  }

  render() {
    const {
      message
    } = this.state;

    if (!message.id) {
      return null;
    }

    const shouldRenderBelowSearch = TEMPLATES_BELOW_SEARCH.includes(message.template);
    return shouldRenderBelowSearch ?
    /*#__PURE__*/
    // Render special below search snippets in place;
    react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
      className: "below-search-snippet-wrapper"
    }, this.renderSnippets()) :
    /*#__PURE__*/
    // For regular snippets etc. we should render everything in our footer
    // container.
    react_dom__WEBPACK_IMPORTED_MODULE_8___default.a.createPortal( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment, null, this.renderPreviewBanner(), this.renderSnippets()), this.footerPortal);
  }

}
ASRouterUISurface.defaultProps = {
  document: global.document
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VISIBLE", function() { return VISIBLE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VISIBILITY_CHANGE_EVENT", function() { return VISIBILITY_CHANGE_EVENT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImpressionsWrapper", function() { return ImpressionsWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange";
/**
 * Component wrapper used to send telemetry pings on every impression.
 */

class ImpressionsWrapper extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  // This sends an event when a user sees a set of new content. If content
  // changes while the page is hidden (i.e. preloaded or on a hidden tab),
  // only send the event if the page becomes visible again.
  sendImpressionOrAddListener() {
    if (this.props.document.visibilityState === VISIBLE) {
      this.props.sendImpression({
        id: this.props.id
      });
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      } // When the page becomes visible, send the impression stats ping if the section isn't collapsed.


      this._onVisibilityChange = () => {
        if (this.props.document.visibilityState === VISIBLE) {
          this.props.sendImpression({
            id: this.props.id
          });
          this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };

      this.props.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  componentWillUnmount() {
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  componentDidMount() {
    if (this.props.sendOnMount) {
      this.sendImpressionOrAddListener();
    }
  }

  componentDidUpdate(prevProps) {
    if (this.props.shouldSendImpressionOnUpdate(this.props, prevProps)) {
      this.sendImpressionOrAddListener();
    }
  }

  render() {
    return this.props.children;
  }

}
ImpressionsWrapper.defaultProps = {
  document: global.document,
  sendOnMount: true
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 12 */
/***/ (function(module, exports) {

module.exports = PropTypes;

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IS_NEWTAB", function() { return IS_NEWTAB; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NEWTAB_DARK_THEME", function() { return NEWTAB_DARK_THEME; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
const IS_NEWTAB = global.document && global.document.documentURI === "about:newtab";
const NEWTAB_DARK_THEME = {
  ntp_background: {
    r: 42,
    g: 42,
    b: 46,
    a: 1
  },
  ntp_card_background: {
    r: 66,
    g: 65,
    b: 77,
    a: 1
  },
  ntp_text: {
    r: 249,
    g: 249,
    b: 250,
    a: 1
  },
  sidebar: {
    r: 56,
    g: 56,
    b: 61,
    a: 1
  },
  sidebar_text: {
    r: 249,
    g: 249,
    b: 250,
    a: 1
  }
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 14 */
/***/ (function(module, exports) {

module.exports = ReactDOM;

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_ConfirmDialog", function() { return _ConfirmDialog; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmDialog", function() { return ConfirmDialog; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



/**
 * ConfirmDialog component.
 * One primary action button, one cancel button.
 *
 * Content displayed is controlled by `data` prop the component receives.
 * Example:
 * data: {
 *   // Any sort of data needed to be passed around by actions.
 *   payload: site.url,
 *   // Primary button AlsoToMain action.
 *   action: "DELETE_HISTORY_URL",
 *   // Primary button USerEvent action.
 *   userEvent: "DELETE",
 *   // Array of locale ids to display.
 *   message_body: ["confirm_history_delete_p1", "confirm_history_delete_notice_p2"],
 *   // Text for primary button.
 *   confirm_button_string_id: "menu_action_delete"
 * },
 */

class _ConfirmDialog extends react__WEBPACK_IMPORTED_MODULE_2___default.a.PureComponent {
  constructor(props) {
    super(props);
    this._handleCancelBtn = this._handleCancelBtn.bind(this);
    this._handleConfirmBtn = this._handleConfirmBtn.bind(this);
  }

  _handleCancelBtn() {
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DIALOG_CANCEL
    });
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DIALOG_CANCEL,
      source: this.props.data.eventSource
    }));
  }

  _handleConfirmBtn() {
    this.props.data.onConfirm.forEach(this.props.dispatch);
  }

  _renderModalMessage() {
    const message_body = this.props.data.body_string_id;

    if (!message_body) {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, message_body.map(msg => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
      key: msg,
      "data-l10n-id": msg
    })));
  }

  render() {
    if (!this.props.visible) {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "confirmation-dialog"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "modal-overlay",
      onClick: this._handleCancelBtn,
      role: "presentation"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "modal"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
      className: "modal-message"
    }, this.props.data.icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: `icon icon-spacer icon-${this.props.data.icon}`
    }), this._renderModalMessage()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
      className: "actions"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
      onClick: this._handleCancelBtn,
      "data-l10n-id": this.props.data.cancel_button_string_id
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
      className: "done",
      onClick: this._handleConfirmBtn,
      "data-l10n-id": this.props.data.confirm_button_string_id
    }))));
  }

}
const ConfirmDialog = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(state => state.Dialog)(_ConfirmDialog);

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAllowedCSS", function() { return isAllowedCSS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_DiscoveryStreamBase", function() { return _DiscoveryStreamBase; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiscoveryStreamBase", function() { return DiscoveryStreamBase; });
/* harmony import */ var content_src_components_DiscoveryStreamComponents_CardGrid_CardGrid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(64);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_CollectionCardGrid_CollectionCardGrid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(27);
/* harmony import */ var content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(29);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSMessage_DSMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(32);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSPrivacyModal_DSPrivacyModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(33);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSSignup_DSSignup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(35);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSTextPromo_DSTextPromo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(36);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_Highlights_Highlights__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(37);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_HorizontalRule_HorizontalRule__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(51);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_Navigation_Navigation__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(52);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_PrivacyLink_PrivacyLink__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(53);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_SectionTitle_SectionTitle__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(54);
/* harmony import */ var content_src_lib_selectLayoutRender__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(55);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(56);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
















const ALLOWED_CSS_URL_PREFIXES = ["chrome://", "resource://", "https://img-getpocket.cdn.mozilla.net/"];
const DUMMY_CSS_SELECTOR = "DUMMY#CSS.SELECTOR";
/**
 * Validate a CSS declaration. The values are assumed to be normalized by CSSOM.
 */

function isAllowedCSS(property, value) {
  // Bug 1454823: INTERNAL properties, e.g., -moz-context-properties, are
  // exposed but their values aren't resulting in getting nothing. Fortunately,
  // we don't care about validating the values of the current set of properties.
  if (value === undefined) {
    return true;
  } // Make sure all urls are of the allowed protocols/prefixes


  const urls = value.match(/url\("[^"]+"\)/g);
  return !urls || urls.every(url => ALLOWED_CSS_URL_PREFIXES.some(prefix => url.slice(5).startsWith(prefix)));
}
class _DiscoveryStreamBase extends react__WEBPACK_IMPORTED_MODULE_12___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onStyleMount = this.onStyleMount.bind(this);
  }

  onStyleMount(style) {
    // Unmounting style gets rid of old styles, so nothing else to do
    if (!style) {
      return;
    }

    const {
      sheet
    } = style;
    const styles = JSON.parse(style.dataset.styles);
    styles.forEach((row, rowIndex) => {
      row.forEach((component, componentIndex) => {
        // Nothing to do without optional styles overrides
        if (!component) {
          return;
        }

        Object.entries(component).forEach(([selectors, declarations]) => {
          // Start with a dummy rule to validate declarations and selectors
          sheet.insertRule(`${DUMMY_CSS_SELECTOR} {}`);
          const [rule] = sheet.cssRules; // Validate declarations and remove any offenders. CSSOM silently
          // discards invalid entries, so here we apply extra restrictions.

          rule.style = declarations;
          [...rule.style].forEach(property => {
            const value = rule.style[property];

            if (!isAllowedCSS(property, value)) {
              console.error(`Bad CSS declaration ${property}: ${value}`); // eslint-disable-line no-console

              rule.style.removeProperty(property);
            }
          }); // Set the actual desired selectors scoped to the component

          const prefix = `.ds-layout > .ds-column:nth-child(${rowIndex + 1}) .ds-column-grid > :nth-child(${componentIndex + 1})`; // NB: Splitting on "," doesn't work with strings with commas, but
          // we're okay with not supporting those selectors

          rule.selectorText = selectors.split(",").map(selector => prefix + ( // Assume :pseudo-classes are for component instead of descendant
          selector[0] === ":" ? "" : " ") + selector).join(","); // CSSOM silently ignores bad selectors, so we'll be noisy instead

          if (rule.selectorText === DUMMY_CSS_SELECTOR) {
            console.error(`Bad CSS selector ${selectors}`); // eslint-disable-line no-console
          }
        });
      });
    });
  }

  renderComponent(component, embedWidth) {
    const ENGAGEMENT_LABEL_ENABLED = this.props.Prefs.values[`discoverystream.engagementLabelEnabled`];

    switch (component.type) {
      case "Highlights":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_Highlights_Highlights__WEBPACK_IMPORTED_MODULE_8__["Highlights"], null);

      case "TopSites":
        let promoAlignment;

        if (component.spocs && component.spocs.positions && component.spocs.positions.length) {
          promoAlignment = component.spocs.positions[0].index === 0 ? "left" : "right";
        }

        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_15__["TopSites"], {
          header: component.header,
          data: component.data,
          promoAlignment: promoAlignment
        });

      case "TextPromo":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSTextPromo_DSTextPromo__WEBPACK_IMPORTED_MODULE_7__["DSTextPromo"], {
          dispatch: this.props.dispatch,
          type: component.type,
          data: component.data
        });

      case "Signup":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSSignup_DSSignup__WEBPACK_IMPORTED_MODULE_6__["DSSignup"], {
          dispatch: this.props.dispatch,
          type: component.type,
          data: component.data
        });

      case "Message":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSMessage_DSMessage__WEBPACK_IMPORTED_MODULE_4__["DSMessage"], {
          title: component.header && component.header.title,
          subtitle: component.header && component.header.subtitle,
          link_text: component.header && component.header.link_text,
          link_url: component.header && component.header.link_url,
          icon: component.header && component.header.icon,
          essentialReadsHeader: component.essentialReadsHeader,
          editorsPicksHeader: component.editorsPicksHeader
        });

      case "SectionTitle":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_SectionTitle_SectionTitle__WEBPACK_IMPORTED_MODULE_13__["SectionTitle"], {
          header: component.header
        });

      case "Navigation":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_Navigation_Navigation__WEBPACK_IMPORTED_MODULE_10__["Navigation"], {
          dispatch: this.props.dispatch,
          links: component.properties.links,
          extraLinks: component.properties.extraLinks,
          alignment: component.properties.alignment,
          display_variant: component.properties.display_variant,
          explore_topics: component.properties.explore_topics,
          header: component.header,
          locale: this.props.App.locale,
          newFooterSection: component.newFooterSection,
          privacyNoticeURL: component.properties.privacyNoticeURL
        });

      case "CollectionCardGrid":
        const {
          DiscoveryStream
        } = this.props;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_CollectionCardGrid_CollectionCardGrid__WEBPACK_IMPORTED_MODULE_1__["CollectionCardGrid"], {
          data: component.data,
          feed: component.feed,
          spocs: DiscoveryStream.spocs,
          placement: component.placement,
          border: component.properties.border,
          type: component.type,
          items: component.properties.items,
          cta_variant: component.cta_variant,
          display_engagement_labels: ENGAGEMENT_LABEL_ENABLED,
          dismissible: this.props.DiscoveryStream.isCollectionDismissible,
          dispatch: this.props.dispatch
        });

      case "CardGrid":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_CardGrid_CardGrid__WEBPACK_IMPORTED_MODULE_0__["CardGrid"], {
          enable_video_playheads: !!component.properties.enable_video_playheads,
          title: component.header && component.header.title,
          display_variant: component.properties.display_variant,
          data: component.data,
          feed: component.feed,
          border: component.properties.border,
          type: component.type,
          dispatch: this.props.dispatch,
          items: component.properties.items,
          hideCardBackground: component.properties.hideCardBackground,
          fourCardLayout: component.properties.fourCardLayout,
          hideDescriptions: component.properties.hideDescriptions,
          compactGrid: component.properties.compactGrid,
          compactImages: component.properties.compactImages,
          imageGradient: component.properties.imageGradient,
          newSponsoredLabel: component.properties.newSponsoredLabel,
          titleLines: component.properties.titleLines,
          descLines: component.properties.descLines,
          essentialReadsHeader: component.properties.essentialReadsHeader,
          editorsPicksHeader: component.properties.editorsPicksHeader,
          readTime: component.properties.readTime,
          loadMore: component.loadMore,
          lastCardMessageEnabled: component.lastCardMessageEnabled,
          saveToPocketCard: component.saveToPocketCard,
          cta_variant: component.cta_variant,
          display_engagement_labels: ENGAGEMENT_LABEL_ENABLED
        });

      case "HorizontalRule":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_HorizontalRule_HorizontalRule__WEBPACK_IMPORTED_MODULE_9__["HorizontalRule"], null);

      case "PrivacyLink":
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_PrivacyLink_PrivacyLink__WEBPACK_IMPORTED_MODULE_11__["PrivacyLink"], {
          properties: component.properties
        });

      default:
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div", null, component.type);
    }
  }

  renderStyles(styles) {
    // Use json string as both the key and styles to render so React knows when
    // to unmount and mount a new instance for new styles.
    const json = JSON.stringify(styles);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("style", {
      key: json,
      "data-styles": json,
      ref: this.onStyleMount
    });
  }

  render() {
    const {
      locale
    } = this.props; // Select layout render data by adding spocs and position to recommendations

    const {
      layoutRender
    } = Object(content_src_lib_selectLayoutRender__WEBPACK_IMPORTED_MODULE_14__["selectLayoutRender"])({
      state: this.props.DiscoveryStream,
      prefs: this.props.Prefs.values,
      locale
    });
    const {
      config
    } = this.props.DiscoveryStream; // Allow rendering without extracting special components

    if (!config.collapsible) {
      return this.renderLayout(layoutRender);
    } // Find the first component of a type and remove it from layout


    const extractComponent = type => {
      for (const [rowIndex, row] of Object.entries(layoutRender)) {
        for (const [index, component] of Object.entries(row.components)) {
          if (component.type === type) {
            // Remove the row if it was the only component or the single item
            if (row.components.length === 1) {
              layoutRender.splice(rowIndex, 1);
            } else {
              row.components.splice(index, 1);
            }

            return component;
          }
        }
      }

      return null;
    }; // Get "topstories" Section state for default values


    const topStories = this.props.Sections.find(s => s.id === "topstories");

    if (!topStories) {
      return null;
    } // Extract TopSites to render before the rest and Message to use for header


    const topSites = extractComponent("TopSites");
    const sponsoredCollection = extractComponent("CollectionCardGrid");
    const message = extractComponent("Message") || {
      header: {
        link_text: topStories.learnMore.link.message,
        link_url: topStories.learnMore.link.href,
        title: topStories.title
      }
    };
    const privacyLinkComponent = extractComponent("PrivacyLink");
    let learnMore = {
      link: {
        href: message.header.link_url,
        message: message.header.link_text
      }
    };
    let sectionTitle = message.header.title;
    let subTitle = ""; // If we're in one of these experiments, override the default message.
    // For now this is English only.

    if (message.essentialReadsHeader || message.editorsPicksHeader) {
      learnMore = null;
      subTitle = "Recommended By Pocket";

      if (message.essentialReadsHeader) {
        sectionTitle = "Today’s Essential Reads";
      } else if (message.editorsPicksHeader) {
        sectionTitle = "Editor’s Picks";
      }
    } // Render a DS-style TopSites then the rest if any in a collapsible section


    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_12___default.a.Fragment, null, this.props.DiscoveryStream.isPrivacyInfoModalVisible && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSPrivacyModal_DSPrivacyModal__WEBPACK_IMPORTED_MODULE_5__["DSPrivacyModal"], {
      dispatch: this.props.dispatch
    }), topSites && this.renderLayout([{
      width: 12,
      components: [topSites]
    }]), sponsoredCollection && this.renderLayout([{
      width: 12,
      components: [sponsoredCollection]
    }]), !!layoutRender.length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__["CollapsibleSection"], {
      className: "ds-layout",
      collapsed: topStories.pref.collapsed,
      dispatch: this.props.dispatch,
      id: topStories.id,
      isFixed: true,
      learnMore: learnMore,
      privacyNoticeURL: topStories.privacyNoticeURL,
      showPrefName: topStories.pref.feed,
      title: sectionTitle,
      subTitle: subTitle,
      eventSource: "CARDGRID"
    }, this.renderLayout(layoutRender)), this.renderLayout([{
      width: 12,
      components: [{
        type: "Highlights"
      }]
    }]), privacyLinkComponent && this.renderLayout([{
      width: 12,
      components: [privacyLinkComponent]
    }]));
  }

  renderLayout(layoutRender) {
    const styles = [];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div", {
      className: "discovery-stream ds-layout"
    }, layoutRender.map((row, rowIndex) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div", {
      key: `row-${rowIndex}`,
      className: `ds-column ds-column-${row.width}`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div", {
      className: "ds-column-grid"
    }, row.components.map((component, componentIndex) => {
      if (!component) {
        return null;
      }

      styles[rowIndex] = [...(styles[rowIndex] || []), component.styles];
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div", {
        key: `component-${componentIndex}`
      }, this.renderComponent(component, row.width));
    })))), this.renderStyles(styles));
  }

}
const DiscoveryStreamBase = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(state => ({
  DiscoveryStream: state.DiscoveryStream,
  Prefs: state.Prefs,
  Sections: state.Sections,
  document: global.document,
  App: state.App
}))(_DiscoveryStreamBase);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSImage", function() { return DSImage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class DSImage extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onOptimizedImageError = this.onOptimizedImageError.bind(this);
    this.onNonOptimizedImageError = this.onNonOptimizedImageError.bind(this);
    this.onLoad = this.onLoad.bind(this);
    this.state = {
      isLoaded: false,
      optimizedImageFailed: false,
      useTransition: false
    };
  }

  onIdleCallback() {
    if (!this.state.isLoaded) {
      this.setState({
        useTransition: true
      });
    }
  }

  reformatImageURL(url, width, height) {
    // Change the image URL to request a size tailored for the parent container width
    // Also: force JPEG, quality 60, no upscaling, no EXIF data
    // Uses Thumbor: https://thumbor.readthedocs.io/en/latest/usage.html
    return `https://img-getpocket.cdn.mozilla.net/${width}x${height}/filters:format(jpeg):quality(60):no_upscale():strip_exif()/${encodeURIComponent(url)}`;
  }

  componentDidMount() {
    this.idleCallbackId = this.props.windowObj.requestIdleCallback(this.onIdleCallback.bind(this));
  }

  componentWillUnmount() {
    if (this.idleCallbackId) {
      this.props.windowObj.cancelIdleCallback(this.idleCallbackId);
    }
  }

  render() {
    let classNames = `ds-image
      ${this.props.extraClassNames ? ` ${this.props.extraClassNames}` : ``}
      ${this.state && this.state.useTransition ? ` use-transition` : ``}
      ${this.state && this.state.isLoaded ? ` loaded` : ``}
    `;
    let img;

    if (this.state) {
      if (this.props.optimize && this.props.rawSource && !this.state.optimizedImageFailed) {
        let baseSource = this.props.rawSource;
        let sizeRules = [];
        let srcSetRules = [];

        for (let rule of this.props.sizes) {
          let {
            mediaMatcher,
            width,
            height
          } = rule;
          let sizeRule = `${mediaMatcher} ${width}px`;
          sizeRules.push(sizeRule);
          let srcSetRule = `${this.reformatImageURL(baseSource, width, height)} ${width}w`;
          let srcSetRule2x = `${this.reformatImageURL(baseSource, width * 2, height * 2)} ${width * 2}w`;
          srcSetRules.push(srcSetRule);
          srcSetRules.push(srcSetRule2x);
        }

        if (this.props.sizes.length) {
          // We have to supply a fallback in the very unlikely event that none of
          // the media queries match. The smallest dimension was chosen arbitrarily.
          sizeRules.push(`${this.props.sizes[this.props.sizes.length - 1].width}px`);
        }

        img = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
          loading: "lazy",
          alt: this.props.alt_text,
          crossOrigin: "anonymous",
          onLoad: this.onLoad,
          onError: this.onOptimizedImageError,
          sizes: sizeRules.join(","),
          src: baseSource,
          srcSet: srcSetRules.join(",")
        });
      } else if (!this.state.nonOptimizedImageFailed) {
        img = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
          loading: "lazy",
          alt: this.props.alt_text,
          crossOrigin: "anonymous",
          onLoad: this.onLoad,
          onError: this.onNonOptimizedImageError,
          src: this.props.source
        });
      } else {
        // Remove the img element if both sources fail. Render a placeholder instead.
        img = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "broken-image"
        });
      }
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("picture", {
      className: classNames
    }, img);
  }

  onOptimizedImageError() {
    // This will trigger a re-render and the unoptimized 450px image will be used as a fallback
    this.setState({
      optimizedImageFailed: true
    });
  }

  onNonOptimizedImageError() {
    this.setState({
      nonOptimizedImageFailed: true
    });
  }

  onLoad() {
    this.setState({
      isLoaded: true
    });
  }

}
DSImage.defaultProps = {
  source: null,
  // The current source style from Pocket API (always 450px)
  rawSource: null,
  // Unadulterated image URL to filter through Thumbor
  extraClassNames: null,
  // Additional classnames to append to component
  optimize: true,
  // Measure parent container to request exact sizes
  alt_text: null,
  windowObj: window,
  // Added to support unit tests
  sizes: []
};

/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_LinkMenu", function() { return _LinkMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LinkMenu", function() { return LinkMenu; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var content_src_components_ContextMenu_ContextMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(19);
/* harmony import */ var content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(20);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const DEFAULT_SITE_MENU_OPTIONS = ["CheckPinTopSite", "EditTopSite", "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl"];
class _LinkMenu extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  getOptions() {
    const {
      props
    } = this;
    const {
      site,
      index,
      source,
      isPrivateBrowsingEnabled,
      siteInfo,
      platform
    } = props; // Handle special case of default site

    const propOptions = site.isDefault && !site.searchTopSite && !site.sponsored_position ? DEFAULT_SITE_MENU_OPTIONS : props.options;
    const options = propOptions.map(o => content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_3__["LinkMenuOptions"][o](site, index, source, isPrivateBrowsingEnabled, siteInfo, platform)).map(option => {
      const {
        action,
        impression,
        id,
        type,
        userEvent
      } = option;

      if (!type && id) {
        option.onClick = (event = {}) => {
          const {
            ctrlKey,
            metaKey,
            shiftKey,
            button
          } = event; // Only send along event info if there's something non-default to send

          if (ctrlKey || metaKey || shiftKey || button === 1) {
            action.data = Object.assign({
              event: {
                ctrlKey,
                metaKey,
                shiftKey,
                button
              }
            }, action.data);
          }

          props.dispatch(action);

          if (userEvent) {
            const userEventData = Object.assign({
              event: userEvent,
              source,
              action_position: index
            }, siteInfo);
            props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent(userEventData));
          }

          if (impression && props.shouldSendImpressionStats) {
            props.dispatch(impression);
          }
        };
      }

      return option;
    }); // This is for accessibility to support making each item tabbable.
    // We want to know which item is the first and which item
    // is the last, so we can close the context menu accordingly.

    options[0].first = true;
    options[options.length - 1].last = true;
    return options;
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_ContextMenu_ContextMenu__WEBPACK_IMPORTED_MODULE_2__["ContextMenu"], {
      onUpdate: this.props.onUpdate,
      onShow: this.props.onShow,
      options: this.getOptions(),
      keyboardAccess: this.props.keyboardAccess
    });
  }

}

const getState = state => ({
  isPrivateBrowsingEnabled: state.Prefs.values.isPrivateBrowsingEnabled,
  platform: state.Prefs.values.platform
});

const LinkMenu = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(getState)(_LinkMenu);

/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContextMenu", function() { return ContextMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_ContextMenuItem", function() { return _ContextMenuItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContextMenuItem", function() { return ContextMenuItem; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class ContextMenu extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.hideContext = this.hideContext.bind(this);
    this.onShow = this.onShow.bind(this);
    this.onClick = this.onClick.bind(this);
  }

  hideContext() {
    this.props.onUpdate(false);
  }

  onShow() {
    if (this.props.onShow) {
      this.props.onShow();
    }
  }

  componentDidMount() {
    this.onShow();
    setTimeout(() => {
      global.addEventListener("click", this.hideContext);
    }, 0);
  }

  componentWillUnmount() {
    global.removeEventListener("click", this.hideContext);
  }

  onClick(event) {
    // Eat all clicks on the context menu so they don't bubble up to window.
    // This prevents the context menu from closing when clicking disabled items
    // or the separators.
    event.stopPropagation();
  }

  render() {
    // Disabling focus on the menu span allows the first tab to focus on the first menu item instead of the wrapper.
    return (
      /*#__PURE__*/
      // eslint-disable-next-line jsx-a11y/interactive-supports-focus
      react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "context-menu"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        role: "menu",
        onClick: this.onClick,
        onKeyDown: this.onClick,
        className: "context-menu-list"
      }, this.props.options.map((option, i) => option.type === "separator" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
        key: i,
        className: "separator",
        role: "separator"
      }) : option.type !== "empty" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ContextMenuItem, {
        key: i,
        option: option,
        hideContext: this.hideContext,
        keyboardAccess: this.props.keyboardAccess
      }))))
    );
  }

}
class _ContextMenuItem extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onClick = this.onClick.bind(this);
    this.onKeyDown = this.onKeyDown.bind(this);
    this.onKeyUp = this.onKeyUp.bind(this);
    this.focusFirst = this.focusFirst.bind(this);
  }

  onClick(event) {
    this.props.hideContext();
    this.props.option.onClick(event);
  } // Focus the first menu item if the menu was accessed via the keyboard.


  focusFirst(button) {
    if (this.props.keyboardAccess && button) {
      button.focus();
    }
  } // This selects the correct node based on the key pressed


  focusSibling(target, key) {
    const parent = target.parentNode;
    const closestSiblingSelector = key === "ArrowUp" ? "previousSibling" : "nextSibling";

    if (!parent[closestSiblingSelector]) {
      return;
    }

    if (parent[closestSiblingSelector].firstElementChild) {
      parent[closestSiblingSelector].firstElementChild.focus();
    } else {
      parent[closestSiblingSelector][closestSiblingSelector].firstElementChild.focus();
    }
  }

  onKeyDown(event) {
    const {
      option
    } = this.props;

    switch (event.key) {
      case "Tab":
        // tab goes down in context menu, shift + tab goes up in context menu
        // if we're on the last item, one more tab will close the context menu
        // similarly, if we're on the first item, one more shift + tab will close it
        if (event.shiftKey && option.first || !event.shiftKey && option.last) {
          this.props.hideContext();
        }

        break;

      case "ArrowUp":
      case "ArrowDown":
        event.preventDefault();
        this.focusSibling(event.target, event.key);
        break;

      case "Enter":
      case " ":
        event.preventDefault();
        this.props.hideContext();
        option.onClick();
        break;

      case "Escape":
        this.props.hideContext();
        break;
    }
  } // Prevents the default behavior of spacebar
  // scrolling the page & auto-triggering buttons.


  onKeyUp(event) {
    if (event.key === " ") {
      event.preventDefault();
    }
  }

  render() {
    const {
      option
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      role: "presentation",
      className: "context-menu-item"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: option.disabled ? "disabled" : "",
      role: "menuitem",
      onClick: this.onClick,
      onKeyDown: this.onKeyDown,
      onKeyUp: this.onKeyUp,
      ref: option.first ? this.focusFirst : null
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      "data-l10n-id": option.string_id || option.id
    })));
  }

}
const ContextMenuItem = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(state => ({
  Prefs: state.Prefs
}))(_ContextMenuItem);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LinkMenuOptions", function() { return LinkMenuOptions; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const _OpenInPrivateWindow = site => ({
  id: "newtab-menu-open-new-private-window",
  icon: "new-window-private",
  action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
    type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_PRIVATE_WINDOW,
    data: {
      url: site.url,
      referrer: site.referrer
    }
  }),
  userEvent: "OPEN_PRIVATE_WINDOW"
});
/**
 * List of functions that return items that can be included as menu options in a
 * LinkMenu. All functions take the site as the first parameter, and optionally
 * the index of the site.
 */


const LinkMenuOptions = {
  Separator: () => ({
    type: "separator"
  }),
  EmptyItem: () => ({
    type: "empty"
  }),
  ShowPrivacyInfo: site => ({
    id: "newtab-menu-show-privacy-info",
    icon: "info",
    action: {
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SHOW_PRIVACY_INFO
    },
    userEvent: "SHOW_PRIVACY_INFO"
  }),
  AboutSponsored: site => ({
    id: "newtab-menu-show-privacy-info",
    icon: "info",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].ABOUT_SPONSORED_TOP_SITES
    }),
    userEvent: "TOPSITE_SPONSOR_INFO"
  }),
  RemoveBookmark: site => ({
    id: "newtab-menu-remove-bookmark",
    icon: "bookmark-added",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DELETE_BOOKMARK_BY_ID,
      data: site.bookmarkGuid
    }),
    userEvent: "BOOKMARK_DELETE"
  }),
  AddBookmark: site => ({
    id: "newtab-menu-bookmark",
    icon: "bookmark-hollow",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].BOOKMARK_URL,
      data: {
        url: site.url,
        title: site.title,
        type: site.type
      }
    }),
    userEvent: "BOOKMARK_ADD"
  }),
  OpenInNewWindow: site => ({
    id: "newtab-menu-open-new-window",
    icon: "new-window",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_NEW_WINDOW,
      data: {
        referrer: site.referrer,
        typedBonus: site.typedBonus,
        url: site.url
      }
    }),
    userEvent: "OPEN_NEW_WINDOW"
  }),
  // This blocks the url for regular stories,
  // but also sends a message to DiscoveryStream with flight_id.
  // If DiscoveryStream sees this message for a flight_id
  // it also blocks it on the flight_id.
  BlockUrl: (site, index, eventSource) => {
    return LinkMenuOptions.BlockUrls([site], index, eventSource);
  },
  // Same as BlockUrl, cept can work on an array of sites.
  BlockUrls: (tiles, pos, eventSource) => ({
    id: "newtab-menu-dismiss",
    icon: "dismiss",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].BLOCK_URL,
      data: tiles.map(site => ({
        url: site.original_url || site.open_url || site.url,
        // pocket_id is only for pocket stories being in highlights, and then dismissed.
        pocket_id: site.pocket_id,
        // used by PlacesFeed and TopSitesFeed for sponsored top sites blocking.
        isSponsoredTopSite: site.sponsored_position,
        ...(site.flight_id ? {
          flight_id: site.flight_id
        } : {})
      }))
    }),
    impression: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
      source: eventSource,
      block: 0,
      tiles: tiles.map((site, index) => ({
        id: site.guid,
        pos: pos + index,
        ...(site.shim && site.shim.delete ? {
          shim: site.shim.delete
        } : {})
      }))
    }),
    userEvent: "BLOCK"
  }),
  // This is an option for web extentions which will result in remove items from
  // memory and notify the web extenion, rather than using the built-in block list.
  WebExtDismiss: (site, index, eventSource) => ({
    id: "menu_action_webext_dismiss",
    string_id: "newtab-menu-dismiss",
    icon: "dismiss",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].WebExtEvent(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].WEBEXT_DISMISS, {
      source: eventSource,
      url: site.url,
      action_position: index
    })
  }),
  DeleteUrl: (site, index, eventSource, isEnabled, siteInfo) => ({
    id: "newtab-menu-delete-history",
    icon: "delete",
    action: {
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DIALOG_OPEN,
      data: {
        onConfirm: [common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
          type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DELETE_HISTORY_URL,
          data: {
            url: site.url,
            pocket_id: site.pocket_id,
            forceBlock: site.bookmarkGuid
          }
        }), common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent(Object.assign({
          event: "DELETE",
          source: eventSource,
          action_position: index
        }, siteInfo))],
        eventSource,
        body_string_id: ["newtab-confirm-delete-history-p1", "newtab-confirm-delete-history-p2"],
        confirm_button_string_id: "newtab-topsites-delete-history-button",
        cancel_button_string_id: "newtab-topsites-cancel-button",
        icon: "modal-delete"
      }
    },
    userEvent: "DIALOG_OPEN"
  }),
  ShowFile: site => ({
    id: "newtab-menu-show-file",
    icon: "search",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SHOW_DOWNLOAD_FILE,
      data: {
        url: site.url
      }
    })
  }),
  OpenFile: site => ({
    id: "newtab-menu-open-file",
    icon: "open-file",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_DOWNLOAD_FILE,
      data: {
        url: site.url
      }
    })
  }),
  CopyDownloadLink: site => ({
    id: "newtab-menu-copy-download-link",
    icon: "copy",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].COPY_DOWNLOAD_LINK,
      data: {
        url: site.url
      }
    })
  }),
  GoToDownloadPage: site => ({
    id: "newtab-menu-go-to-download-page",
    icon: "download",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_LINK,
      data: {
        url: site.referrer
      }
    }),
    disabled: !site.referrer
  }),
  RemoveDownload: site => ({
    id: "newtab-menu-remove-download",
    icon: "delete",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].REMOVE_DOWNLOAD_FILE,
      data: {
        url: site.url
      }
    })
  }),
  PinTopSite: (site, index) => ({
    id: "newtab-menu-pin",
    icon: "pin",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_PIN,
      data: {
        site,
        index
      }
    }),
    userEvent: "PIN"
  }),
  UnpinTopSite: site => ({
    id: "newtab-menu-unpin",
    icon: "unpin",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_UNPIN,
      data: {
        site: {
          url: site.url
        }
      }
    }),
    userEvent: "UNPIN"
  }),
  SaveToPocket: (site, index, eventSource = "CARDGRID") => ({
    id: "newtab-menu-save-to-pocket",
    icon: "pocket-save",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_TO_POCKET,
      data: {
        site: {
          url: site.url,
          title: site.title
        }
      }
    }),
    impression: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
      source: eventSource,
      pocket: 0,
      tiles: [{
        id: site.guid,
        pos: index,
        ...(site.shim && site.shim.save ? {
          shim: site.shim.save
        } : {})
      }]
    }),
    userEvent: "SAVE_TO_POCKET"
  }),
  DeleteFromPocket: site => ({
    id: "newtab-menu-delete-pocket",
    icon: "pocket-delete",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DELETE_FROM_POCKET,
      data: {
        pocket_id: site.pocket_id
      }
    }),
    userEvent: "DELETE_FROM_POCKET"
  }),
  ArchiveFromPocket: site => ({
    id: "newtab-menu-archive-pocket",
    icon: "pocket-archive",
    action: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].ARCHIVE_FROM_POCKET,
      data: {
        pocket_id: site.pocket_id
      }
    }),
    userEvent: "ARCHIVE_FROM_POCKET"
  }),
  EditTopSite: (site, index) => ({
    id: "newtab-menu-edit-topsites",
    icon: "edit",
    action: {
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_EDIT,
      data: {
        index
      }
    }
  }),
  CheckBookmark: site => site.bookmarkGuid ? LinkMenuOptions.RemoveBookmark(site) : LinkMenuOptions.AddBookmark(site),
  CheckPinTopSite: (site, index) => site.isPinned ? LinkMenuOptions.UnpinTopSite(site) : LinkMenuOptions.PinTopSite(site, index),
  CheckSavedToPocket: (site, index, source) => site.pocket_id ? LinkMenuOptions.DeleteFromPocket(site) : LinkMenuOptions.SaveToPocket(site, index, source),
  CheckBookmarkOrArchive: site => site.pocket_id ? LinkMenuOptions.ArchiveFromPocket(site) : LinkMenuOptions.CheckBookmark(site),
  CheckArchiveFromPocket: site => site.pocket_id ? LinkMenuOptions.ArchiveFromPocket(site) : LinkMenuOptions.EmptyItem(),
  CheckDeleteFromPocket: site => site.pocket_id ? LinkMenuOptions.DeleteFromPocket(site) : LinkMenuOptions.EmptyItem(),
  OpenInPrivateWindow: (site, index, eventSource, isEnabled) => isEnabled ? _OpenInPrivateWindow(site) : LinkMenuOptions.EmptyItem()
};

/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContextMenuButton", function() { return ContextMenuButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class ContextMenuButton extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      showContextMenu: false,
      contextMenuKeyboard: false
    };
    this.onClick = this.onClick.bind(this);
    this.onKeyDown = this.onKeyDown.bind(this);
    this.onUpdate = this.onUpdate.bind(this);
  }

  openContextMenu(isKeyBoard, event) {
    if (this.props.onUpdate) {
      this.props.onUpdate(true);
    }

    this.setState({
      showContextMenu: true,
      contextMenuKeyboard: isKeyBoard
    });
  }

  onClick(event) {
    event.preventDefault();
    this.openContextMenu(false, event);
  }

  onKeyDown(event) {
    if (event.key === "Enter" || event.key === " ") {
      event.preventDefault();
      this.openContextMenu(true, event);
    }
  }

  onUpdate(showContextMenu) {
    if (this.props.onUpdate) {
      this.props.onUpdate(showContextMenu);
    }

    this.setState({
      showContextMenu
    });
  }

  render() {
    const {
      tooltipArgs,
      tooltip,
      children,
      refFunction
    } = this.props;
    const {
      showContextMenu,
      contextMenuKeyboard
    } = this.state;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      "aria-haspopup": "true",
      "data-l10n-id": tooltip,
      "data-l10n-args": tooltipArgs ? JSON.stringify(tooltipArgs) : null,
      className: "context-menu-button icon",
      onKeyDown: this.onKeyDown,
      onClick: this.onClick,
      ref: refFunction
    }), showContextMenu ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(children, {
      keyboardAccess: contextMenuKeyboard,
      onUpdate: this.onUpdate
    }) : null);
  }

}

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INTERSECTION_RATIO", function() { return INTERSECTION_RATIO; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImpressionStats", function() { return ImpressionStats; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange"; // Per analytical requirement, we set the minimal intersection ratio to
// 0.5, and an impression is identified when the wrapped item has at least
// 50% visibility.
//
// This constant is exported for unit test

const INTERSECTION_RATIO = 0.5;
/**
 * Impression wrapper for Discovery Stream related React components.
 *
 * It makses use of the Intersection Observer API to detect the visibility,
 * and relies on page visibility to ensure the impression is reported
 * only when the component is visible on the page.
 *
 * Note:
 *   * This wrapper used to be used either at the individual card level,
 *     or by the card container components.
 *     It is now only used for individual card level.
 *   * Each impression will be sent only once as soon as the desired
 *     visibility is detected
 *   * Batching is not yet implemented, hence it might send multiple
 *     impression pings separately
 */

class ImpressionStats extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  // This checks if the given cards are the same as those in the last impression ping.
  // If so, it should not send the same impression ping again.
  _needsImpressionStats(cards) {
    if (!this.impressionCardGuids || this.impressionCardGuids.length !== cards.length) {
      return true;
    }

    for (let i = 0; i < cards.length; i++) {
      if (cards[i].id !== this.impressionCardGuids[i]) {
        return true;
      }
    }

    return false;
  }

  _dispatchImpressionStats() {
    const {
      props
    } = this;
    const cards = props.rows;

    if (this.props.flightId) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISCOVERY_STREAM_SPOC_IMPRESSION,
        data: {
          flightId: this.props.flightId
        }
      }));
    }

    if (this._needsImpressionStats(cards)) {
      props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].DiscoveryStreamImpressionStats({
        source: props.source.toUpperCase(),
        tiles: cards.map(link => ({
          id: link.id,
          pos: link.pos,
          ...(link.shim ? {
            shim: link.shim
          } : {})
        }))
      }));
      this.impressionCardGuids = cards.map(link => link.id);
    }
  } // This checks if the given cards are the same as those in the last loaded content ping.
  // If so, it should not send the same loaded content ping again.


  _needsLoadedContent(cards) {
    if (!this.loadedContentGuids || this.loadedContentGuids.length !== cards.length) {
      return true;
    }

    for (let i = 0; i < cards.length; i++) {
      if (cards[i].id !== this.loadedContentGuids[i]) {
        return true;
      }
    }

    return false;
  }

  _dispatchLoadedContent() {
    const {
      props
    } = this;
    const cards = props.rows;

    if (this._needsLoadedContent(cards)) {
      props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].DiscoveryStreamLoadedContent({
        source: props.source.toUpperCase(),
        tiles: cards.map(link => ({
          id: link.id,
          pos: link.pos
        }))
      }));
      this.loadedContentGuids = cards.map(link => link.id);
    }
  }

  setImpressionObserverOrAddListener() {
    const {
      props
    } = this;

    if (!props.dispatch) {
      return;
    }

    if (props.document.visibilityState === VISIBLE) {
      // Send the loaded content ping once the page is visible.
      this._dispatchLoadedContent();

      this.setImpressionObserver();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      }

      this._onVisibilityChange = () => {
        if (props.document.visibilityState === VISIBLE) {
          // Send the loaded content ping once the page is visible.
          this._dispatchLoadedContent();

          this.setImpressionObserver();
          props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };

      props.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  /**
   * Set an impression observer for the wrapped component. It makes use of
   * the Intersection Observer API to detect if the wrapped component is
   * visible with a desired ratio, and only sends impression if that's the case.
   *
   * See more details about Intersection Observer API at:
   * https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API
   */


  setImpressionObserver() {
    const {
      props
    } = this;

    if (!props.rows.length) {
      return;
    }

    this._handleIntersect = entries => {
      if (entries.some(entry => entry.isIntersecting && entry.intersectionRatio >= INTERSECTION_RATIO)) {
        this._dispatchImpressionStats();

        this.impressionObserver.unobserve(this.refs.impression);
      }
    };

    const options = {
      threshold: INTERSECTION_RATIO
    };
    this.impressionObserver = new props.IntersectionObserver(this._handleIntersect, options);
    this.impressionObserver.observe(this.refs.impression);
  }

  componentDidMount() {
    if (this.props.rows.length) {
      this.setImpressionObserverOrAddListener();
    }
  }

  componentWillUnmount() {
    if (this._handleIntersect && this.impressionObserver) {
      this.impressionObserver.unobserve(this.refs.impression);
    }

    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      ref: "impression",
      className: "impression-observer"
    }, this.props.children);
  }

}
ImpressionStats.defaultProps = {
  IntersectionObserver: global.IntersectionObserver,
  document: global.document,
  rows: [],
  source: ""
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SafeAnchor", function() { return SafeAnchor; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class SafeAnchor extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onClick = this.onClick.bind(this);
  }

  onClick(event) {
    // Use dispatch instead of normal link click behavior to include referrer
    if (this.props.dispatch) {
      event.preventDefault();
      const {
        altKey,
        button,
        ctrlKey,
        metaKey,
        shiftKey
      } = event;
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_LINK,
        data: {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          },
          referrer: "https://getpocket.com/recommendations",
          // Use the anchor's url, which could have been cleaned up
          url: event.currentTarget.href
        }
      }));
    } // Propagate event if there's a handler


    if (this.props.onLinkClick) {
      this.props.onLinkClick(event);
    }
  }

  safeURI(url) {
    let protocol = null;

    try {
      protocol = new URL(url).protocol;
    } catch (e) {
      return "";
    }

    const isAllowed = ["http:", "https:"].includes(protocol);

    if (!isAllowed) {
      console.warn(`${url} is not allowed for anchor targets.`); // eslint-disable-line no-console

      return "";
    }

    return url;
  }

  render() {
    const {
      url,
      className
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a", {
      href: this.safeURI(url),
      className: className,
      onClick: this.onClick
    }, this.props.children);
  }

}

/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cardContextTypes", function() { return cardContextTypes; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
const cardContextTypes = {
  history: {
    fluentID: "newtab-label-visited",
    icon: "history-item"
  },
  removedBookmark: {
    fluentID: "newtab-label-removed-bookmark",
    icon: "bookmark-removed"
  },
  bookmark: {
    fluentID: "newtab-label-bookmarked",
    icon: "bookmark-added"
  },
  trending: {
    fluentID: "newtab-label-recommended",
    icon: "trending"
  },
  pocket: {
    fluentID: "newtab-label-saved",
    icon: "pocket"
  },
  download: {
    fluentID: "newtab-label-download",
    icon: "download"
  }
};

/***/ }),
/* 25 */
/***/ (function(module, exports) {

module.exports = ReactTransitionGroup;

/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FluentOrText", function() { return FluentOrText; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * Set text on a child element/component depending on if the message is already
 * translated plain text or a fluent id with optional args.
 */

class FluentOrText extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    // Ensure we have a single child to attach attributes
    const {
      children,
      message
    } = this.props;
    const child = children ? react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.only(children) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null); // For a string message, just use it as the child's text

    let grandChildren = message;
    let extraProps; // Convert a message object to set desired fluent-dom attributes

    if (typeof message === "object") {
      const args = message.args || message.values;
      extraProps = {
        "data-l10n-args": args && JSON.stringify(args),
        "data-l10n-id": message.id || message.string_id
      }; // Use original children potentially with data-l10n-name attributes

      grandChildren = child.props.children;
    } // Add the message to the child via fluent attributes or text node


    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(child, extraProps, grandChildren);
  }

}

/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CollectionCardGrid", function() { return CollectionCardGrid; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_CardGrid_CardGrid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSDismiss_DSDismiss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(28);
/* harmony import */ var content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(20);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





class CollectionCardGrid extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onDismissClick = this.onDismissClick.bind(this);
    this.state = {
      dismissed: false
    };
  }

  onDismissClick() {
    const {
      data
    } = this.props;

    if (this.props.dispatch && data && data.spocs && data.spocs.length) {
      this.setState({
        dismissed: true
      });
      const pos = 0;
      const source = this.props.type.toUpperCase(); // Grab the available items in the array to dismiss.
      // This fires a ping for all items available, even if below the fold.

      const spocsData = data.spocs.map(item => ({
        url: item.url,
        guid: item.id,
        shim: item.shim,
        flight_id: item.flightId
      }));
      const blockUrlOption = content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_3__["LinkMenuOptions"].BlockUrls(spocsData, pos, source);
      const {
        action,
        impression,
        userEvent
      } = blockUrlOption;
      this.props.dispatch(action);
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: userEvent,
        source,
        action_position: pos
      }));

      if (impression) {
        this.props.dispatch(impression);
      }
    }
  }

  render() {
    const {
      data,
      dismissible
    } = this.props;

    if (this.state.dismissed || !data || !data.spocs || !data.spocs[0] || // We only display complete collections.
    data.spocs.length < 3) {
      return null;
    }

    const {
      spocs,
      placement,
      feed
    } = this.props; // spocs.data is spocs state data, and not an array of spocs.

    const {
      title,
      context,
      sponsored_by_override,
      sponsor
    } = spocs.data[placement.name] || {}; // Just in case of bad data, don't display a broken collection.

    if (!title) {
      return null;
    }

    let sponsoredByMessage = ""; // If override is not false or an empty string.

    if (sponsored_by_override || sponsored_by_override === "") {
      // We specifically want to display nothing if the server returns an empty string.
      // So the server can turn off the label.
      // This is to support the use cases where the sponsored context is displayed elsewhere.
      sponsoredByMessage = sponsored_by_override;
    } else if (sponsor) {
      sponsoredByMessage = {
        id: `newtab-label-sponsored-by`,
        values: {
          sponsor
        }
      };
    } else if (context) {
      sponsoredByMessage = context;
    } // Generally a card grid displays recs with spocs already injected.
    // Normally it doesn't care which rec is a spoc and which isn't,
    // it just displays content in a grid.
    // For collections, we're only displaying a list of spocs.
    // We don't need to tell the card grid that our list of cards are spocs,
    // it shouldn't need to care. So we just pass our spocs along as recs.
    // Think of it as injecting all rec positions with spocs.
    // Consider maybe making recommendations in CardGrid use a more generic name.


    const recsData = {
      recommendations: data.spocs
    }; // All cards inside of a collection card grid have a slightly different type.
    // For the case of interactions to the card grid, we use the type "COLLECTIONCARDGRID".
    // Example, you dismiss the whole collection, we use the type "COLLECTIONCARDGRID".
    // For interactions inside the card grid, example, you dismiss a single card in the collection,
    // we use the type "COLLECTIONCARDGRID_CARD".

    const type = `${this.props.type}_card`;
    const collectionGrid = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "ds-collection-card-grid"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_DiscoveryStreamComponents_CardGrid_CardGrid__WEBPACK_IMPORTED_MODULE_1__["CardGrid"], {
      title: title,
      context: sponsoredByMessage,
      data: recsData,
      feed: feed,
      border: this.props.border,
      type: type,
      is_collection: true,
      dispatch: this.props.dispatch,
      items: this.props.items
    }));

    if (dismissible) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSDismiss_DSDismiss__WEBPACK_IMPORTED_MODULE_2__["DSDismiss"], {
        onDismissClick: this.onDismissClick,
        extraClasses: `ds-dismiss-ds-collection`
      }, collectionGrid);
    }

    return collectionGrid;
  }

}

/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSDismiss", function() { return DSDismiss; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class DSDismiss extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onDismissClick = this.onDismissClick.bind(this);
    this.onHover = this.onHover.bind(this);
    this.offHover = this.offHover.bind(this);
    this.state = {
      hovering: false
    };
  }

  onDismissClick() {
    if (this.props.onDismissClick) {
      this.props.onDismissClick();
    }
  }

  onHover() {
    this.setState({
      hovering: true
    });
  }

  offHover() {
    this.setState({
      hovering: false
    });
  }

  render() {
    let className = `ds-dismiss
      ${this.state.hovering ? ` hovering` : ``}
      ${this.props.extraClasses ? ` ${this.props.extraClasses}` : ``}`;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: className
    }, this.props.children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "ds-dismiss-button",
      "data-l10n-id": "newtab-dismiss-button-tooltip",
      onHover: this.onHover,
      onClick: this.onDismissClick,
      onMouseEnter: this.onHover,
      onMouseLeave: this.offHover
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: "icon icon-dismiss"
    })));
  }

}

/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_CollapsibleSection", function() { return _CollapsibleSection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CollapsibleSection", function() { return CollapsibleSection; });
/* harmony import */ var content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30);
/* harmony import */ var content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(26);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




/**
 * A section that can collapse. As of bug 1710937, it can no longer collapse.
 * See bug 1727365 for follow-up work to simplify this component.
 */

class _CollapsibleSection extends react__WEBPACK_IMPORTED_MODULE_2___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onBodyMount = this.onBodyMount.bind(this);
    this.onMenuButtonMouseEnter = this.onMenuButtonMouseEnter.bind(this);
    this.onMenuButtonMouseLeave = this.onMenuButtonMouseLeave.bind(this);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
    this.state = {
      menuButtonHover: false,
      showContextMenu: false
    };
    this.setContextMenuButtonRef = this.setContextMenuButtonRef.bind(this);
  }

  setContextMenuButtonRef(element) {
    this.contextMenuButtonRef = element;
  }

  onBodyMount(node) {
    this.sectionBody = node;
  }

  onMenuButtonMouseEnter() {
    this.setState({
      menuButtonHover: true
    });
  }

  onMenuButtonMouseLeave() {
    this.setState({
      menuButtonHover: false
    });
  }

  onMenuUpdate(showContextMenu) {
    this.setState({
      showContextMenu
    });
  }

  render() {
    const {
      isAnimating,
      maxHeight,
      menuButtonHover,
      showContextMenu
    } = this.state;
    const {
      id,
      collapsed,
      learnMore,
      title,
      subTitle
    } = this.props;
    const active = menuButtonHover || showContextMenu;
    let bodyStyle;

    if (isAnimating && !collapsed) {
      bodyStyle = {
        maxHeight
      };
    } else if (!isAnimating && collapsed) {
      bodyStyle = {
        display: "none"
      };
    }

    let titleStyle;

    if (this.props.hideTitle) {
      titleStyle = {
        visibility: "hidden"
      };
    }

    const hasSubtitleClassName = subTitle ? `has-subtitle` : ``;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
      className: `collapsible-section ${this.props.className}${active ? " active" : ""}` // Note: data-section-id is used for web extension api tests in mozilla central
      ,
      "data-section-id": id
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      className: "section-top-bar"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3", {
      className: `section-title-container ${hasSubtitleClassName}`,
      style: titleStyle
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "section-title"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_1__["FluentOrText"], {
      message: title
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "learn-more-link-wrapper"
    }, learnMore && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "learn-more-link"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_1__["FluentOrText"], {
      message: learnMore.link.message
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a", {
      href: learnMore.link.href
    })))), subTitle && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "section-sub-title"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_1__["FluentOrText"], {
      message: subTitle
    })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(content_src_components_ErrorBoundary_ErrorBoundary__WEBPACK_IMPORTED_MODULE_0__["ErrorBoundary"], {
      className: "section-body-fallback"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      ref: this.onBodyMount,
      style: bodyStyle
    }, this.props.children)));
  }

}
_CollapsibleSection.defaultProps = {
  document: global.document || {
    addEventListener: () => {},
    removeEventListener: () => {},
    visibilityState: "hidden"
  }
};
const CollapsibleSection = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(state => ({
  Prefs: state.Prefs
}))(_CollapsibleSection);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorBoundaryFallback", function() { return ErrorBoundaryFallback; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorBoundary", function() { return ErrorBoundary; });
/* harmony import */ var content_src_components_A11yLinkButton_A11yLinkButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(31);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class ErrorBoundaryFallback extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.windowObj = this.props.windowObj || window;
    this.onClick = this.onClick.bind(this);
  }
  /**
   * Since we only get here if part of the page has crashed, do a
   * forced reload to give us the best chance at recovering.
   */


  onClick() {
    this.windowObj.location.reload(true);
  }

  render() {
    const defaultClass = "as-error-fallback";
    let className;

    if ("className" in this.props) {
      className = `${this.props.className} ${defaultClass}`;
    } else {
      className = defaultClass;
    } // "A11yLinkButton" to force normal link styling stuff (eg cursor on hover)


    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: className
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      "data-l10n-id": "newtab-error-fallback-info"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(content_src_components_A11yLinkButton_A11yLinkButton__WEBPACK_IMPORTED_MODULE_0__["A11yLinkButton"], {
      className: "reload-button",
      onClick: this.onClick,
      "data-l10n-id": "newtab-error-fallback-refresh-link"
    })));
  }

}
ErrorBoundaryFallback.defaultProps = {
  className: "as-error-fallback"
};
class ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      hasError: false
    };
  }

  componentDidCatch(error, info) {
    this.setState({
      hasError: true
    });
  }

  render() {
    if (!this.state.hasError) {
      return this.props.children;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(this.props.FallbackComponent, {
      className: this.props.className
    });
  }

}
ErrorBoundary.defaultProps = {
  FallbackComponent: ErrorBoundaryFallback
};

/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "A11yLinkButton", function() { return A11yLinkButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

function A11yLinkButton(props) {
  // function for merging classes, if necessary
  let className = "a11y-link-button";

  if (props.className) {
    className += ` ${props.className}`;
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", _extends({
    type: "button"
  }, props, {
    className: className
  }), props.children);
}

/***/ }),
/* 32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSMessage", function() { return DSMessage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23);
/* harmony import */ var content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(26);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class DSMessage extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "ds-message"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", {
      className: "title"
    }, this.props.icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "glyph",
      style: {
        backgroundImage: `url(${this.props.icon})`
      }
    }), this.props.title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: "title-text"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__["FluentOrText"], {
      message: this.props.title
    })), this.props.link_text && this.props.link_url && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_1__["SafeAnchor"], {
      className: "link",
      url: this.props.link_url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__["FluentOrText"], {
      message: this.props.link_text
    }))));
  }

}

/***/ }),
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSPrivacyModal", function() { return DSPrivacyModal; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);
/* harmony import */ var content_src_asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(34);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class DSPrivacyModal extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.closeModal = this.closeModal.bind(this);
    this.onLearnLinkClick = this.onLearnLinkClick.bind(this);
    this.onManageLinkClick = this.onManageLinkClick.bind(this);
  }

  onLearnLinkClick(event) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__["actionCreators"].UserEvent({
      event: "CLICK_PRIVACY_INFO",
      source: "DS_PRIVACY_MODAL"
    }));
  }

  onManageLinkClick(event) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_1__["actionTypes"].SETTINGS_OPEN
    }));
  }

  closeModal() {
    this.props.dispatch({
      type: `HIDE_PRIVACY_INFO`,
      data: {}
    });
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(content_src_asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_2__["ModalOverlayWrapper"], {
      onClose: this.closeModal,
      innerClassName: "ds-privacy-modal"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "privacy-notice"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
      "data-l10n-id": "newtab-privacy-modal-header"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      "data-l10n-id": "newtab-privacy-modal-paragraph-2"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      className: "modal-link modal-link-privacy",
      "data-l10n-id": "newtab-privacy-modal-link",
      onClick: this.onLearnLinkClick,
      href: "https://help.getpocket.com/article/1142-firefox-new-tab-recommendations-faq"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "modal-link modal-link-manage",
      "data-l10n-id": "newtab-privacy-modal-button-manage",
      onClick: this.onManageLinkClick
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
      className: "actions"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "done",
      type: "submit",
      onClick: this.closeModal,
      "data-l10n-id": "newtab-privacy-modal-button-done"
    })));
  }

}

/***/ }),
/* 34 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalOverlayWrapper", function() { return ModalOverlayWrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class ModalOverlayWrapper extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onKeyDown = this.onKeyDown.bind(this);
  } // The intended behaviour is to listen for an escape key
  // but not for a click; see Bug 1582242


  onKeyDown(event) {
    if (event.key === "Escape") {
      this.props.onClose(event);
    }
  }

  componentWillMount() {
    this.props.document.addEventListener("keydown", this.onKeyDown);
    this.props.document.body.classList.add("modal-open");
  }

  componentWillUnmount() {
    this.props.document.removeEventListener("keydown", this.onKeyDown);
    this.props.document.body.classList.remove("modal-open");
  }

  render() {
    const {
      props
    } = this;
    let className = props.unstyled ? "" : "modalOverlayInner active";

    if (props.innerClassName) {
      className += ` ${props.innerClassName}`;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "modalOverlayOuter active",
      onKeyDown: this.onKeyDown,
      role: "presentation"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: className,
      "aria-labelledby": props.headerId,
      id: props.id,
      role: "dialog"
    }, props.children));
  }

}
ModalOverlayWrapper.defaultProps = {
  document: global.document
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSSignup", function() { return DSSignup; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18);
/* harmony import */ var content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21);
/* harmony import */ var _DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(23);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






class DSSignup extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      active: false,
      lastItem: false
    };
    this.onMenuButtonUpdate = this.onMenuButtonUpdate.bind(this);
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onMenuShow = this.onMenuShow.bind(this);
  }

  onMenuButtonUpdate(showContextMenu) {
    if (!showContextMenu) {
      this.setState({
        active: false,
        lastItem: false
      });
    }
  }

  nextAnimationFrame() {
    return new Promise(resolve => this.props.windowObj.requestAnimationFrame(resolve));
  }

  async onMenuShow() {
    let {
      lastItem
    } = this.state; // Wait for next frame before computing scrollMaxX to allow fluent menu strings to be visible

    await this.nextAnimationFrame();

    if (this.props.windowObj.scrollMaxX > 0) {
      lastItem = true;
    }

    this.setState({
      active: true,
      lastItem
    });
  }

  onLinkClick() {
    const {
      data
    } = this.props;

    if (this.props.dispatch && data && data.spocs && data.spocs.length) {
      const source = this.props.type.toUpperCase(); // Grab the first item in the array as we only have 1 spoc position.

      const [spoc] = data.spocs;
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "CLICK",
        source,
        action_position: 0
      }));
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
        source,
        click: 0,
        tiles: [{
          id: spoc.id,
          pos: 0,
          ...(spoc.shim && spoc.shim.click ? {
            shim: spoc.shim.click
          } : {})
        }]
      }));
    }
  }

  render() {
    const {
      data,
      dispatch,
      type
    } = this.props;

    if (!data || !data.spocs || !data.spocs[0]) {
      return null;
    } // Grab the first item in the array as we only have 1 spoc position.


    const [spoc] = data.spocs;
    const {
      title,
      url,
      excerpt,
      flight_id,
      id,
      shim
    } = spoc;
    const SIGNUP_CONTEXT_MENU_OPTIONS = ["OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", ...(flight_id ? ["ShowPrivacyInfo"] : [])];
    const outerClassName = ["ds-signup", this.state.active && "active", this.state.lastItem && "last-item"].filter(v => v).join(" ");
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: outerClassName
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "ds-signup-content"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
      className: "icon icon-small-spacer icon-mail"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", null, title, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_5__["SafeAnchor"], {
      className: "ds-chevron-link",
      dispatch: dispatch,
      onLinkClick: this.onLinkClick,
      url: url
    }, excerpt)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__["ImpressionStats"], {
      flightId: flight_id,
      rows: [{
        id,
        pos: 0,
        shim: shim && shim.impression
      }],
      dispatch: dispatch,
      source: type
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_2__["ContextMenuButton"], {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuButtonUpdate
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_1__["LinkMenu"], {
      dispatch: dispatch,
      index: 0,
      source: type.toUpperCase(),
      onShow: this.onMenuShow,
      options: SIGNUP_CONTEXT_MENU_OPTIONS,
      shouldSendImpressionStats: true,
      site: {
        referrer: "https://getpocket.com/recommendations",
        title,
        type,
        url,
        guid: id,
        shim,
        flight_id
      }
    })));
  }

}
DSSignup.defaultProps = {
  windowObj: window // Added to support unit tests

};

/***/ }),
/* 36 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DSTextPromo", function() { return DSTextPromo; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_components_DiscoveryStreamComponents_DSDismiss_DSDismiss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(28);
/* harmony import */ var _DSImage_DSImage_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(17);
/* harmony import */ var _DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22);
/* harmony import */ var content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(20);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(23);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */







class DSTextPromo extends react__WEBPACK_IMPORTED_MODULE_5___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onDismissClick = this.onDismissClick.bind(this);
  }

  onLinkClick() {
    const {
      data
    } = this.props;

    if (this.props.dispatch && data && data.spocs && data.spocs.length) {
      const source = this.props.type.toUpperCase(); // Grab the first item in the array as we only have 1 spoc position.

      const [spoc] = data.spocs;
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "CLICK",
        source,
        action_position: 0
      }));
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
        source,
        click: 0,
        tiles: [{
          id: spoc.id,
          pos: 0,
          ...(spoc.shim && spoc.shim.click ? {
            shim: spoc.shim.click
          } : {})
        }]
      }));
    }
  }

  onDismissClick() {
    const {
      data
    } = this.props;

    if (this.props.dispatch && data && data.spocs && data.spocs.length) {
      const index = 0;
      const source = this.props.type.toUpperCase(); // Grab the first item in the array as we only have 1 spoc position.

      const [spoc] = data.spocs;
      const spocData = {
        url: spoc.url,
        guid: spoc.id,
        shim: spoc.shim
      };
      const blockUrlOption = content_src_lib_link_menu_options__WEBPACK_IMPORTED_MODULE_4__["LinkMenuOptions"].BlockUrl(spocData, index, source);
      const {
        action,
        impression,
        userEvent
      } = blockUrlOption;
      this.props.dispatch(action);
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: userEvent,
        source,
        action_position: index
      }));

      if (impression) {
        this.props.dispatch(impression);
      }
    }
  }

  render() {
    const {
      data
    } = this.props;

    if (!data || !data.spocs || !data.spocs[0]) {
      return null;
    } // Grab the first item in the array as we only have 1 spoc position.


    const [spoc] = data.spocs;
    const {
      image_src,
      raw_image_src,
      alt_text,
      title,
      url,
      context,
      cta,
      flight_id,
      id,
      shim
    } = spoc;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(content_src_components_DiscoveryStreamComponents_DSDismiss_DSDismiss__WEBPACK_IMPORTED_MODULE_1__["DSDismiss"], {
      onDismissClick: this.onDismissClick,
      extraClasses: `ds-dismiss-ds-text-promo`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "ds-text-promo"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_DSImage_DSImage_jsx__WEBPACK_IMPORTED_MODULE_2__["DSImage"], {
      alt_text: alt_text,
      source: image_src,
      rawSource: raw_image_src
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "text"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h3", null, `${title}\u2003`, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_6__["SafeAnchor"], {
      className: "ds-chevron-link",
      dispatch: this.props.dispatch,
      onLinkClick: this.onLinkClick,
      url: url
    }, cta)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p", {
      className: "subtitle"
    }, context)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__["ImpressionStats"], {
      flightId: flight_id,
      rows: [{
        id,
        pos: 0,
        shim: shim && shim.impression
      }],
      dispatch: this.props.dispatch,
      source: this.props.type
    })));
  }

}

/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Highlights", function() { return _Highlights; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Highlights", function() { return Highlights; });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var content_src_components_Sections_Sections__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(38);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class _Highlights extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  render() {
    const section = this.props.Sections.find(s => s.id === "highlights");

    if (!section || !section.enabled) {
      return null;
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "ds-highlights sections-list"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(content_src_components_Sections_Sections__WEBPACK_IMPORTED_MODULE_2__["SectionIntl"], _extends({}, section, {
      isFixed: true
    })));
  }

}
const Highlights = Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(state => ({
  Sections: state.Sections
}))(_Highlights);

/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Section", function() { return Section; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionIntl", function() { return SectionIntl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Sections", function() { return _Sections; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sections", function() { return Sections; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_components_Card_Card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(39);
/* harmony import */ var content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(29);
/* harmony import */ var content_src_components_ComponentPerfTimer_ComponentPerfTimer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(41);
/* harmony import */ var content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(26);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var content_src_components_MoreRecommendations_MoreRecommendations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(43);
/* harmony import */ var content_src_components_PocketLoggedInCta_PocketLoggedInCta__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(44);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var content_src_components_Topics_Topics__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(45);
/* harmony import */ var content_src_components_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(46);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */











const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange";
const CARDS_PER_ROW_DEFAULT = 3;
const CARDS_PER_ROW_COMPACT_WIDE = 4;
class Section extends react__WEBPACK_IMPORTED_MODULE_8___default.a.PureComponent {
  get numRows() {
    const {
      rowsPref,
      maxRows,
      Prefs
    } = this.props;
    return rowsPref ? Prefs.values[rowsPref] : maxRows;
  }

  _dispatchImpressionStats() {
    const {
      props
    } = this;
    let cardsPerRow = CARDS_PER_ROW_DEFAULT;

    if (props.compactCards && global.matchMedia(`(min-width: 1072px)`).matches) {
      // If the section has compact cards and the viewport is wide enough, we show
      // 4 columns instead of 3.
      // $break-point-widest = 1072px (from _variables.scss)
      cardsPerRow = CARDS_PER_ROW_COMPACT_WIDE;
    }

    const maxCards = cardsPerRow * this.numRows;
    const cards = props.rows.slice(0, maxCards);

    if (this.needsImpressionStats(cards)) {
      props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
        source: props.eventSource,
        tiles: cards.map(link => ({
          id: link.guid
        }))
      }));
      this.impressionCardGuids = cards.map(link => link.guid);
    }
  } // This sends an event when a user sees a set of new content. If content
  // changes while the page is hidden (i.e. preloaded or on a hidden tab),
  // only send the event if the page becomes visible again.


  sendImpressionStatsOrAddListener() {
    const {
      props
    } = this;

    if (!props.shouldSendImpressionStats || !props.dispatch) {
      return;
    }

    if (props.document.visibilityState === VISIBLE) {
      this._dispatchImpressionStats();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      } // When the page becomes visible, send the impression stats ping if the section isn't collapsed.


      this._onVisibilityChange = () => {
        if (props.document.visibilityState === VISIBLE) {
          if (!this.props.pref.collapsed) {
            this._dispatchImpressionStats();
          }

          props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };

      props.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  componentWillMount() {
    this.sendNewTabRehydrated(this.props.initialized);
  }

  componentDidMount() {
    if (this.props.rows.length && !this.props.pref.collapsed) {
      this.sendImpressionStatsOrAddListener();
    }
  }

  componentDidUpdate(prevProps) {
    const {
      props
    } = this;
    const isCollapsed = props.pref.collapsed;
    const wasCollapsed = prevProps.pref.collapsed;

    if ( // Don't send impression stats for the empty state
    props.rows.length && ( // We only want to send impression stats if the content of the cards has changed
    // and the section is not collapsed...
    props.rows !== prevProps.rows && !isCollapsed || // or if we are expanding a section that was collapsed.
    wasCollapsed && !isCollapsed)) {
      this.sendImpressionStatsOrAddListener();
    }
  }

  componentWillUpdate(nextProps) {
    this.sendNewTabRehydrated(nextProps.initialized);
  }

  componentWillUnmount() {
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  needsImpressionStats(cards) {
    if (!this.impressionCardGuids || this.impressionCardGuids.length !== cards.length) {
      return true;
    }

    for (let i = 0; i < cards.length; i++) {
      if (cards[i].guid !== this.impressionCardGuids[i]) {
        return true;
      }
    }

    return false;
  } // The NEW_TAB_REHYDRATED event is used to inform feeds that their
  // data has been consumed e.g. for counting the number of tabs that
  // have rendered that data.


  sendNewTabRehydrated(initialized) {
    if (initialized && !this.renderNotified) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].NEW_TAB_REHYDRATED,
        data: {}
      }));
      this.renderNotified = true;
    }
  }

  render() {
    const {
      id,
      eventSource,
      title,
      rows,
      Pocket,
      topics,
      emptyState,
      dispatch,
      compactCards,
      read_more_endpoint,
      contextMenuOptions,
      initialized,
      learnMore,
      pref,
      privacyNoticeURL,
      isFirst,
      isLast
    } = this.props;
    const waitingForSpoc = id === "topstories" && this.props.Pocket.waitingForSpoc;
    const maxCardsPerRow = compactCards ? CARDS_PER_ROW_COMPACT_WIDE : CARDS_PER_ROW_DEFAULT;
    const {
      numRows
    } = this;
    const maxCards = maxCardsPerRow * numRows;
    const maxCardsOnNarrow = CARDS_PER_ROW_DEFAULT * numRows;
    const {
      pocketCta,
      isUserLoggedIn
    } = Pocket || {};
    const {
      useCta
    } = pocketCta || {}; // Don't display anything until we have a definitve result from Pocket,
    // to avoid a flash of logged out state while we render.

    const isPocketLoggedInDefined = isUserLoggedIn === true || isUserLoggedIn === false;
    const hasTopics = topics && !!topics.length;
    const shouldShowPocketCta = id === "topstories" && useCta && isUserLoggedIn === false; // Show topics only for top stories and if it has loaded with topics.
    // The classs .top-stories-bottom-container ensures content doesn't shift as things load.

    const shouldShowTopics = id === "topstories" && hasTopics && (useCta && isUserLoggedIn === true || !useCta && isPocketLoggedInDefined); // We use topics to determine language support for read more.

    const shouldShowReadMore = read_more_endpoint && hasTopics;
    const realRows = rows.slice(0, maxCards); // The empty state should only be shown after we have initialized and there is no content.
    // Otherwise, we should show placeholders.

    const shouldShowEmptyState = initialized && !rows.length;
    const cards = [];

    if (!shouldShowEmptyState) {
      for (let i = 0; i < maxCards; i++) {
        const link = realRows[i]; // On narrow viewports, we only show 3 cards per row. We'll mark the rest as
        // .hide-for-narrow to hide in CSS via @media query.

        const className = i >= maxCardsOnNarrow ? "hide-for-narrow" : "";
        let usePlaceholder = !link; // If we are in the third card and waiting for spoc,
        // use the placeholder.

        if (!usePlaceholder && i === 2 && waitingForSpoc) {
          usePlaceholder = true;
        }

        cards.push(!usePlaceholder ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_Card_Card__WEBPACK_IMPORTED_MODULE_1__["Card"], {
          key: i,
          index: i,
          className: className,
          dispatch: dispatch,
          link: link,
          contextMenuOptions: contextMenuOptions,
          eventSource: eventSource,
          shouldSendImpressionStats: this.props.shouldSendImpressionStats,
          isWebExtension: this.props.isWebExtension
        }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_Card_Card__WEBPACK_IMPORTED_MODULE_1__["PlaceholderCard"], {
          key: i,
          className: className
        }));
      }
    }

    const sectionClassName = ["section", compactCards ? "compact-cards" : "normal-cards"].join(" "); // <Section> <-- React component
    // <section> <-- HTML5 element

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_ComponentPerfTimer_ComponentPerfTimer__WEBPACK_IMPORTED_MODULE_3__["ComponentPerfTimer"], this.props, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__["CollapsibleSection"], {
      className: sectionClassName,
      title: title,
      id: id,
      eventSource: eventSource,
      collapsed: this.props.pref.collapsed,
      showPrefName: pref && pref.feed || id,
      privacyNoticeURL: privacyNoticeURL,
      Prefs: this.props.Prefs,
      isFixed: this.props.isFixed,
      isFirst: isFirst,
      isLast: isLast,
      learnMore: learnMore,
      dispatch: this.props.dispatch,
      isWebExtension: this.props.isWebExtension
    }, !shouldShowEmptyState && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("ul", {
      className: "section-list",
      style: {
        padding: 0
      }
    }, cards), shouldShowEmptyState && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "section-empty-state"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "empty-state"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_4__["FluentOrText"], {
      message: emptyState.message
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("p", {
      className: "empty-state-message"
    })))), id === "topstories" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "top-stories-bottom-container"
    }, shouldShowTopics && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "wrapper-topics"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_Topics_Topics__WEBPACK_IMPORTED_MODULE_9__["Topics"], {
      topics: this.props.topics
    })), shouldShowPocketCta && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "wrapper-cta"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_PocketLoggedInCta_PocketLoggedInCta__WEBPACK_IMPORTED_MODULE_7__["PocketLoggedInCta"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "wrapper-more-recommendations"
    }, shouldShowReadMore && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_MoreRecommendations_MoreRecommendations__WEBPACK_IMPORTED_MODULE_6__["MoreRecommendations"], {
      read_more_endpoint: read_more_endpoint
    })))));
  }

}
Section.defaultProps = {
  document: global.document,
  rows: [],
  emptyState: {},
  pref: {},
  title: ""
};
const SectionIntl = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["connect"])(state => ({
  Prefs: state.Prefs,
  Pocket: state.Pocket
}))(Section);
class _Sections extends react__WEBPACK_IMPORTED_MODULE_8___default.a.PureComponent {
  renderSections() {
    const sections = [];
    const enabledSections = this.props.Sections.filter(section => section.enabled);
    const {
      sectionOrder,
      "feeds.topsites": showTopSites
    } = this.props.Prefs.values; // Enabled sections doesn't include Top Sites, so we add it if enabled.

    const expectedCount = enabledSections.length + ~~showTopSites;

    for (const sectionId of sectionOrder.split(",")) {
      const commonProps = {
        key: sectionId,
        isFirst: sections.length === 0,
        isLast: sections.length === expectedCount - 1
      };

      if (sectionId === "topsites" && showTopSites) {
        sections.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(content_src_components_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_10__["TopSites"], commonProps));
      } else {
        const section = enabledSections.find(s => s.id === sectionId);

        if (section) {
          sections.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(SectionIntl, _extends({}, section, commonProps)));
        }
      }
    }

    return sections;
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div", {
      className: "sections-list"
    }, this.renderSections());
  }

}
const Sections = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["connect"])(state => ({
  Sections: state.Sections,
  Prefs: state.Prefs
}))(_Sections);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 39 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Card", function() { return _Card; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Card", function() { return Card; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlaceholderCard", function() { return PlaceholderCard; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(24);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21);
/* harmony import */ var content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(40);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






 // Keep track of pending image loads to only request once

const gImageLoading = new Map();
/**
 * Card component.
 * Cards are found within a Section component and contain information about a link such
 * as preview image, page title, page description, and some context about if the page
 * was visited, bookmarked, trending etc...
 * Each Section can make an unordered list of Cards which will create one instane of
 * this class. Each card will then get a context menu which reflects the actions that
 * can be done on this Card.
 */

class _Card extends react__WEBPACK_IMPORTED_MODULE_5___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      activeCard: null,
      imageLoaded: false,
      cardImage: null
    };
    this.onMenuButtonUpdate = this.onMenuButtonUpdate.bind(this);
    this.onLinkClick = this.onLinkClick.bind(this);
  }
  /**
   * Helper to conditionally load an image and update state when it loads.
   */


  async maybeLoadImage() {
    // No need to load if it's already loaded or no image
    const {
      cardImage
    } = this.state;

    if (!cardImage) {
      return;
    }

    const imageUrl = cardImage.url;

    if (!this.state.imageLoaded) {
      // Initialize a promise to share a load across multiple card updates
      if (!gImageLoading.has(imageUrl)) {
        const loaderPromise = new Promise((resolve, reject) => {
          const loader = new Image();
          loader.addEventListener("load", resolve);
          loader.addEventListener("error", reject);
          loader.src = imageUrl;
        }); // Save and remove the promise only while it's pending

        gImageLoading.set(imageUrl, loaderPromise);
        loaderPromise.catch(ex => ex).then(() => gImageLoading.delete(imageUrl)).catch();
      } // Wait for the image whether just started loading or reused promise


      try {
        await gImageLoading.get(imageUrl);
      } catch (ex) {
        // Ignore the failed image without changing state
        return;
      } // Only update state if we're still waiting to load the original image


      if (content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].isRemoteImageLocal(this.state.cardImage, this.props.link.image) && !this.state.imageLoaded) {
        this.setState({
          imageLoaded: true
        });
      }
    }
  }
  /**
   * Helper to obtain the next state based on nextProps and prevState.
   *
   * NOTE: Rename this method to getDerivedStateFromProps when we update React
   *       to >= 16.3. We will need to update tests as well. We cannot rename this
   *       method to getDerivedStateFromProps now because there is a mismatch in
   *       the React version that we are using for both testing and production.
   *       (i.e. react-test-render => "16.3.2", react => "16.2.0").
   *
   * See https://github.com/airbnb/enzyme/blob/master/packages/enzyme-adapter-react-16/package.json#L43.
   */


  static getNextStateFromProps(nextProps, prevState) {
    const {
      image
    } = nextProps.link;
    const imageInState = content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].isRemoteImageLocal(prevState.cardImage, image);
    let nextState = null; // Image is updating.

    if (!imageInState && nextProps.link) {
      nextState = {
        imageLoaded: false
      };
    }

    if (imageInState) {
      return nextState;
    } // Since image was updated, attempt to revoke old image blob URL, if it exists.


    content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].maybeRevokeBlobObjectURL(prevState.cardImage);
    nextState = nextState || {};
    nextState.cardImage = content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].createLocalImageObject(image);
    return nextState;
  }

  onMenuButtonUpdate(isOpen) {
    if (isOpen) {
      this.setState({
        activeCard: this.props.index
      });
    } else {
      this.setState({
        activeCard: null
      });
    }
  }
  /**
   * Report to telemetry additional information about the item.
   */


  _getTelemetryInfo() {
    // Filter out "history" type for being the default
    if (this.props.link.type !== "history") {
      return {
        value: {
          card_type: this.props.link.type
        }
      };
    }

    return null;
  }

  onLinkClick(event) {
    event.preventDefault();
    const {
      altKey,
      button,
      ctrlKey,
      metaKey,
      shiftKey
    } = event;

    if (this.props.link.type === "download") {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_DOWNLOAD_FILE,
        data: Object.assign(this.props.link, {
          event: {
            button,
            ctrlKey,
            metaKey,
            shiftKey
          }
        })
      }));
    } else {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_LINK,
        data: Object.assign(this.props.link, {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          }
        })
      }));
    }

    if (this.props.isWebExtension) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].WebExtEvent(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].WEBEXT_CLICK, {
        source: this.props.eventSource,
        url: this.props.link.url,
        action_position: this.props.index
      }));
    } else {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent(Object.assign({
        event: "CLICK",
        source: this.props.eventSource,
        action_position: this.props.index
      }, this._getTelemetryInfo())));

      if (this.props.shouldSendImpressionStats) {
        this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
          source: this.props.eventSource,
          click: 0,
          tiles: [{
            id: this.props.link.guid,
            pos: this.props.index
          }]
        }));
      }
    }
  }

  componentDidMount() {
    this.maybeLoadImage();
  }

  componentDidUpdate() {
    this.maybeLoadImage();
  } // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.


  componentWillMount() {
    const nextState = _Card.getNextStateFromProps(this.props, this.state);

    if (nextState) {
      this.setState(nextState);
    }
  } // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.


  componentWillReceiveProps(nextProps) {
    const nextState = _Card.getNextStateFromProps(nextProps, this.state);

    if (nextState) {
      this.setState(nextState);
    }
  }

  componentWillUnmount() {
    content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_6__["ScreenshotUtils"].maybeRevokeBlobObjectURL(this.state.cardImage);
  }

  render() {
    const {
      index,
      className,
      link,
      dispatch,
      contextMenuOptions,
      eventSource,
      shouldSendImpressionStats
    } = this.props;
    const {
      props
    } = this;
    const title = link.title || link.hostname;
    const isContextMenuOpen = this.state.activeCard === index; // Display "now" as "trending" until we have new strings #3402

    const {
      icon,
      fluentID
    } = _types__WEBPACK_IMPORTED_MODULE_1__["cardContextTypes"][link.type === "now" ? "trending" : link.type] || {};
    const hasImage = this.state.cardImage || link.hasImage;
    const imageStyle = {
      backgroundImage: this.state.cardImage ? `url(${this.state.cardImage.url})` : "none"
    };
    const outerClassName = ["card-outer", className, isContextMenuOpen && "active", props.placeholder && "placeholder"].filter(v => v).join(" ");
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li", {
      className: outerClassName
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a", {
      href: link.type === "pocket" ? link.open_url : link.url,
      onClick: !props.placeholder ? this.onLinkClick : undefined
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-preview-image-outer"
    }, hasImage && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: `card-preview-image${this.state.imageLoaded ? " loaded" : ""}`,
      style: imageStyle
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-details"
    }, link.type === "download" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-host-name alternate",
      "data-l10n-id": "newtab-menu-open-file"
    }), link.hostname && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-host-name"
    }, link.hostname.slice(0, 100), link.type === "download" && `  \u2014 ${link.description}`), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: ["card-text", icon ? "" : "no-context", link.description ? "" : "no-description", link.hostname ? "" : "no-host-name"].join(" ")
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h4", {
      className: "card-title",
      dir: "auto"
    }, link.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p", {
      className: "card-description",
      dir: "auto"
    }, link.description)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-context"
    }, icon && !link.context && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
      "aria-haspopup": "true",
      className: `card-context-icon icon icon-${icon}`
    }), link.icon && link.context && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
      "aria-haspopup": "true",
      className: "card-context-icon icon",
      style: {
        backgroundImage: `url('${link.icon}')`
      }
    }), fluentID && !link.context && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-context-label",
      "data-l10n-id": fluentID
    }), link.context && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
      className: "card-context-label"
    }, link.context))))), !props.placeholder && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_3__["ContextMenuButton"], {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuButtonUpdate
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_4__["LinkMenu"], {
      dispatch: dispatch,
      index: index,
      source: eventSource,
      options: link.contextMenuOptions || contextMenuOptions,
      site: link,
      siteInfo: this._getTelemetryInfo(),
      shouldSendImpressionStats: shouldSendImpressionStats
    })));
  }

}
_Card.defaultProps = {
  link: {}
};
const Card = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(state => ({
  platform: state.Prefs.values.platform
}))(_Card);
const PlaceholderCard = props => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Card, {
  placeholder: true,
  className: props.className
});

/***/ }),
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScreenshotUtils", function() { return ScreenshotUtils; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * List of helper functions for screenshot-based images.
 *
 * There are two kinds of images:
 * 1. Remote Image: This is the image from the main process and it refers to
 *    the image in the React props. This can either be an object with the `data`
 *    and `path` properties, if it is a blob, or a string, if it is a normal image.
 * 2. Local Image: This is the image object in the content process and it refers
 *    to the image *object* in the React component's state. All local image
 *    objects have the `url` property, and an additional property `path`, if they
 *    are blobs.
 */
const ScreenshotUtils = {
  isBlob(isLocal, image) {
    return !!(image && image.path && (!isLocal && image.data || isLocal && image.url));
  },

  // This should always be called with a remote image and not a local image.
  createLocalImageObject(remoteImage) {
    if (!remoteImage) {
      return null;
    }

    if (this.isBlob(false, remoteImage)) {
      return {
        url: global.URL.createObjectURL(remoteImage.data),
        path: remoteImage.path
      };
    }

    return {
      url: remoteImage
    };
  },

  // Revokes the object URL of the image if the local image is a blob.
  // This should always be called with a local image and not a remote image.
  maybeRevokeBlobObjectURL(localImage) {
    if (this.isBlob(true, localImage)) {
      global.URL.revokeObjectURL(localImage.url);
    }
  },

  // Checks if remoteImage and localImage are the same.
  isRemoteImageLocal(localImage, remoteImage) {
    // Both remoteImage and localImage are present.
    if (remoteImage && localImage) {
      return this.isBlob(false, remoteImage) ? localImage.path === remoteImage.path : localImage.url === remoteImage;
    } // This will only handle the remaining three possible outcomes.
    // (i.e. everything except when both image and localImage are present)


    return !remoteImage && !localImage;
  }

};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentPerfTimer", function() { return ComponentPerfTimer; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_lib_perf_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


 // Currently record only a fixed set of sections. This will prevent data
// from custom sections from showing up or from topstories.

const RECORDED_SECTIONS = ["highlights", "topsites"];
class ComponentPerfTimer extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component {
  constructor(props) {
    super(props); // Just for test dependency injection:

    this.perfSvc = this.props.perfSvc || content_src_lib_perf_service__WEBPACK_IMPORTED_MODULE_1__["perfService"];
    this._sendBadStateEvent = this._sendBadStateEvent.bind(this);
    this._sendPaintedEvent = this._sendPaintedEvent.bind(this);
    this._reportMissingData = false;
    this._timestampHandled = false;
    this._recordedFirstRender = false;
  }

  componentDidMount() {
    if (!RECORDED_SECTIONS.includes(this.props.id)) {
      return;
    }

    this._maybeSendPaintedEvent();
  }

  componentDidUpdate() {
    if (!RECORDED_SECTIONS.includes(this.props.id)) {
      return;
    }

    this._maybeSendPaintedEvent();
  }
  /**
   * Call the given callback after the upcoming frame paints.
   *
   * @note Both setTimeout and requestAnimationFrame are throttled when the page
   * is hidden, so this callback may get called up to a second or so after the
   * requestAnimationFrame "paint" for hidden tabs.
   *
   * Newtabs hidden while loading will presumably be fairly rare (other than
   * preloaded tabs, which we will be filtering out on the server side), so such
   * cases should get lost in the noise.
   *
   * If we decide that it's important to find out when something that's hidden
   * has "painted", however, another option is to post a message to this window.
   * That should happen even faster than setTimeout, and, at least as of this
   * writing, it's not throttled in hidden windows in Firefox.
   *
   * @param {Function} callback
   *
   * @returns void
   */


  _afterFramePaint(callback) {
    requestAnimationFrame(() => setTimeout(callback, 0));
  }

  _maybeSendBadStateEvent() {
    // Follow up bugs:
    // https://github.com/mozilla/activity-stream/issues/3691
    if (!this.props.initialized) {
      // Remember to report back when data is available.
      this._reportMissingData = true;
    } else if (this._reportMissingData) {
      this._reportMissingData = false; // Report how long it took for component to become initialized.

      this._sendBadStateEvent();
    }
  }

  _maybeSendPaintedEvent() {
    // If we've already handled a timestamp, don't do it again.
    if (this._timestampHandled || !this.props.initialized) {
      return;
    } // And if we haven't, we're doing so now, so remember that. Even if
    // something goes wrong in the callback, we can't try again, as we'd be
    // sending back the wrong data, and we have to do it here, so that other
    // calls to this method while waiting for the next frame won't also try to
    // handle it.


    this._timestampHandled = true;

    this._afterFramePaint(this._sendPaintedEvent);
  }
  /**
   * Triggered by call to render. Only first call goes through due to
   * `_recordedFirstRender`.
   */


  _ensureFirstRenderTsRecorded() {
    // Used as t0 for recording how long component took to initialize.
    if (!this._recordedFirstRender) {
      this._recordedFirstRender = true; // topsites_first_render_ts, highlights_first_render_ts.

      const key = `${this.props.id}_first_render_ts`;
      this.perfSvc.mark(key);
    }
  }
  /**
   * Creates `SAVE_SESSION_PERF_DATA` with timestamp in ms
   * of how much longer the data took to be ready for display than it would
   * have been the ideal case.
   * https://github.com/mozilla/ping-centre/issues/98
   */


  _sendBadStateEvent() {
    // highlights_data_ready_ts, topsites_data_ready_ts.
    const dataReadyKey = `${this.props.id}_data_ready_ts`;
    this.perfSvc.mark(dataReadyKey);

    try {
      const firstRenderKey = `${this.props.id}_first_render_ts`; // value has to be Int32.

      const value = parseInt(this.perfSvc.getMostRecentAbsMarkStartByName(dataReadyKey) - this.perfSvc.getMostRecentAbsMarkStartByName(firstRenderKey), 10);
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA,
        // highlights_data_late_by_ms, topsites_data_late_by_ms.
        data: {
          [`${this.props.id}_data_late_by_ms`]: value
        }
      }));
    } catch (ex) {// If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.
    }
  }

  _sendPaintedEvent() {
    // Record first_painted event but only send if topsites.
    if (this.props.id !== "topsites") {
      return;
    } // topsites_first_painted_ts.


    const key = `${this.props.id}_first_painted_ts`;
    this.perfSvc.mark(key);

    try {
      const data = {};
      data[key] = this.perfSvc.getMostRecentAbsMarkStartByName(key);
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA,
        data
      }));
    } catch (ex) {// If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.  We should at least not blow up, and should continue
      // to set this._timestampHandled to avoid going through this again.
    }
  }

  render() {
    if (RECORDED_SECTIONS.includes(this.props.id)) {
      this._ensureFirstRenderTsRecorded();

      this._maybeSendBadStateEvent();
    }

    return this.props.children;
  }

}

/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_PerfService", function() { return _PerfService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "perfService", function() { return perfService; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


let usablePerfObj = window.performance;
function _PerfService(options) {
  // For testing, so that we can use a fake Window.performance object with
  // known state.
  if (options && options.performanceObj) {
    this._perf = options.performanceObj;
  } else {
    this._perf = usablePerfObj;
  }
}
_PerfService.prototype = {
  /**
   * Calls the underlying mark() method on the appropriate Window.performance
   * object to add a mark with the given name to the appropriate performance
   * timeline.
   *
   * @param  {String} name  the name to give the current mark
   * @return {void}
   */
  mark: function mark(str) {
    this._perf.mark(str);
  },

  /**
   * Calls the underlying getEntriesByName on the appropriate Window.performance
   * object.
   *
   * @param  {String} name
   * @param  {String} type eg "mark"
   * @return {Array}       Performance* objects
   */
  getEntriesByName: function getEntriesByName(name, type) {
    return this._perf.getEntriesByName(name, type);
  },

  /**
   * The timeOrigin property from the appropriate performance object.
   * Used to ensure that timestamps from the add-on code and the content code
   * are comparable.
   *
   * @note If this is called from a context without a window
   * (eg a JSM in chrome), it will return the timeOrigin of the XUL hidden
   * window, which appears to be the first created window (and thus
   * timeOrigin) in the browser.  Note also, however, there is also a private
   * hidden window, presumably for private browsing, which appears to be
   * created dynamically later.  Exactly how/when that shows up needs to be
   * investigated.
   *
   * @return {Number} A double of milliseconds with a precision of 0.5us.
   */
  get timeOrigin() {
    return this._perf.timeOrigin;
  },

  /**
   * Returns the "absolute" version of performance.now(), i.e. one that
   * should ([bug 1401406](https://bugzilla.mozilla.org/show_bug.cgi?id=1401406)
   * be comparable across both chrome and content.
   *
   * @return {Number}
   */
  absNow: function absNow() {
    return this.timeOrigin + this._perf.now();
  },

  /**
   * This returns the absolute startTime from the most recent performance.mark()
   * with the given name.
   *
   * @param  {String} name  the name to lookup the start time for
   *
   * @return {Number}       the returned start time, as a DOMHighResTimeStamp
   *
   * @throws {Error}        "No Marks with the name ..." if none are available
   *
   * @note Always surround calls to this by try/catch.  Otherwise your code
   * may fail when the `privacy.resistFingerprinting` pref is true.  When
   * this pref is set, all attempts to get marks will likely fail, which will
   * cause this method to throw.
   *
   * See [bug 1369303](https://bugzilla.mozilla.org/show_bug.cgi?id=1369303)
   * for more info.
   */
  getMostRecentAbsMarkStartByName(name) {
    let entries = this.getEntriesByName(name, "mark");

    if (!entries.length) {
      throw new Error(`No marks with the name ${name}`);
    }

    let mostRecentEntry = entries[entries.length - 1];
    return this._perf.timeOrigin + mostRecentEntry.startTime;
  }

};
const perfService = new _PerfService();

/***/ }),
/* 43 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MoreRecommendations", function() { return MoreRecommendations; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class MoreRecommendations extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      read_more_endpoint
    } = this.props;

    if (read_more_endpoint) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        className: "more-recommendations",
        href: read_more_endpoint,
        "data-l10n-id": "newtab-pocket-more-recommendations"
      });
    }

    return null;
  }

}

/***/ }),
/* 44 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_PocketLoggedInCta", function() { return _PocketLoggedInCta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PocketLoggedInCta", function() { return PocketLoggedInCta; });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class _PocketLoggedInCta extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  render() {
    const {
      pocketCta
    } = this.props.Pocket;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "pocket-logged-in-cta"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a", {
      className: "pocket-cta-button",
      href: pocketCta.ctaUrl ? pocketCta.ctaUrl : "https://getpocket.com/"
    }, pocketCta.ctaButton ? pocketCta.ctaButton : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      "data-l10n-id": "newtab-pocket-cta-button"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a", {
      href: pocketCta.ctaUrl ? pocketCta.ctaUrl : "https://getpocket.com/"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "cta-text"
    }, pocketCta.ctaText ? pocketCta.ctaText : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      "data-l10n-id": "newtab-pocket-cta-text"
    }))));
  }

}
const PocketLoggedInCta = Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(state => ({
  Pocket: state.Pocket
}))(_PocketLoggedInCta);

/***/ }),
/* 45 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Topic", function() { return Topic; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Topics", function() { return Topics; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class Topic extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      url,
      name
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      key: name,
      href: url
    }, name));
  }

}
class Topics extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      topics
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: "topics"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      "data-l10n-id": "newtab-pocket-read-more"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, topics && topics.map(t => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Topic, {
      key: t.name,
      url: t.url,
      name: t.name
    }))));
  }

}

/***/ }),
/* 46 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_TopSites", function() { return _TopSites; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSites", function() { return TopSites; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(47);
/* harmony import */ var content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(29);
/* harmony import */ var content_src_components_ComponentPerfTimer_ComponentPerfTimer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(41);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(34);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _SearchShortcutsForm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(48);
/* harmony import */ var common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(66);
/* harmony import */ var _TopSiteForm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(67);
/* harmony import */ var _TopSite__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(49);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */












function topSiteIconType(link) {
  if (link.customScreenshotURL) {
    return "custom_screenshot";
  }

  if (link.tippyTopIcon || link.faviconRef === "tippytop") {
    return "tippytop";
  }

  if (link.faviconSize >= _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["MIN_RICH_FAVICON_SIZE"]) {
    return "rich_icon";
  }

  if (link.screenshot) {
    return "screenshot";
  }

  return "no_image";
}
/**
 * Iterates through TopSites and counts types of images.
 * @param acc Accumulator for reducer.
 * @param topsite Entry in TopSites.
 */


function countTopSitesIconsTypes(topSites) {
  const countTopSitesTypes = (acc, link) => {
    acc[topSiteIconType(link)]++;
    return acc;
  };

  return topSites.reduce(countTopSitesTypes, {
    custom_screenshot: 0,
    screenshot: 0,
    tippytop: 0,
    rich_icon: 0,
    no_image: 0
  });
}

class _TopSites extends react__WEBPACK_IMPORTED_MODULE_6___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onEditFormClose = this.onEditFormClose.bind(this);
    this.onSearchShortcutsFormClose = this.onSearchShortcutsFormClose.bind(this);
  }
  /**
   * Dispatch session statistics about the quality of TopSites icons and pinned count.
   */


  _dispatchTopSitesStats() {
    const topSites = this._getVisibleTopSites().filter(topSite => topSite !== null && topSite !== undefined);

    const topSitesIconsStats = countTopSitesIconsTypes(topSites);
    const topSitesPinned = topSites.filter(site => !!site.isPinned).length;
    const searchShortcuts = topSites.filter(site => !!site.searchTopSite).length; // Dispatch telemetry event with the count of TopSites images types.

    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA,
      data: {
        topsites_icon_stats: topSitesIconsStats,
        topsites_pinned: topSitesPinned,
        topsites_search_shortcuts: searchShortcuts
      }
    }));
  }
  /**
   * Return the TopSites that are visible based on prefs and window width.
   */


  _getVisibleTopSites() {
    // We hide 2 sites per row when not in the wide layout.
    let sitesPerRow = common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_8__["TOP_SITES_MAX_SITES_PER_ROW"]; // $break-point-widest = 1072px (from _variables.scss)

    if (!global.matchMedia(`(min-width: 1072px)`).matches) {
      sitesPerRow -= 2;
    }

    return this.props.TopSites.rows.slice(0, this.props.TopSitesRows * sitesPerRow);
  }

  componentDidUpdate() {
    this._dispatchTopSitesStats();
  }

  componentDidMount() {
    this._dispatchTopSitesStats();
  }

  onEditFormClose() {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      event: "TOP_SITES_EDIT_CLOSE"
    }));
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_CANCEL_EDIT
    });
  }

  onSearchShortcutsFormClose() {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      event: "SEARCH_EDIT_CLOSE"
    }));
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL
    });
  }

  render() {
    const {
      props
    } = this;
    const {
      editForm,
      showSearchShortcutsForm
    } = props.TopSites;
    const extraMenuOptions = ["AddTopSite"];
    const colors = props.Prefs.values["newNewtabExperience.colors"];

    if (props.Prefs.values["improvesearch.topSiteSearchShortcuts"]) {
      extraMenuOptions.push("AddSearchShortcut");
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(content_src_components_ComponentPerfTimer_ComponentPerfTimer__WEBPACK_IMPORTED_MODULE_3__["ComponentPerfTimer"], {
      id: "topsites",
      initialized: props.TopSites.initialized,
      dispatch: props.dispatch
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(content_src_components_CollapsibleSection_CollapsibleSection__WEBPACK_IMPORTED_MODULE_2__["CollapsibleSection"], {
      className: "top-sites",
      id: "topsites",
      title: props.title || {
        id: "newtab-section-header-topsites"
      },
      hideTitle: true,
      extraMenuOptions: extraMenuOptions,
      showPrefName: "feeds.topsites",
      eventSource: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      collapsed: false,
      isFixed: props.isFixed,
      isFirst: props.isFirst,
      isLast: props.isLast,
      dispatch: props.dispatch
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_TopSite__WEBPACK_IMPORTED_MODULE_10__["TopSiteList"], {
      TopSites: props.TopSites,
      TopSitesRows: props.TopSitesRows,
      dispatch: props.dispatch,
      topSiteIconType: topSiteIconType,
      colors: colors
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "edit-topsites-wrapper"
    }, editForm && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "edit-topsites"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_5__["ModalOverlayWrapper"], {
      unstyled: true,
      onClose: this.onEditFormClose,
      innerClassName: "modal"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_TopSiteForm__WEBPACK_IMPORTED_MODULE_9__["TopSiteForm"], _extends({
      site: props.TopSites.rows[editForm.index],
      onClose: this.onEditFormClose,
      dispatch: this.props.dispatch
    }, editForm)))), showSearchShortcutsForm && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "edit-search-shortcuts"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_asrouter_components_ModalOverlay_ModalOverlay__WEBPACK_IMPORTED_MODULE_5__["ModalOverlayWrapper"], {
      unstyled: true,
      onClose: this.onSearchShortcutsFormClose,
      innerClassName: "modal"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_SearchShortcutsForm__WEBPACK_IMPORTED_MODULE_7__["SearchShortcutsForm"], {
      TopSites: props.TopSites,
      onClose: this.onSearchShortcutsFormClose,
      dispatch: this.props.dispatch
    }))))));
  }

}
const TopSites = Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])((state, props) => ({
  // For SPOC Experiment only, take TopSites from DiscoveryStream TopSites that takes in SPOC Data
  TopSites: props.TopSitesWithSpoc || state.TopSites,
  Prefs: state.Prefs,
  TopSitesRows: state.Prefs.values.topSitesRows
}))(_TopSites);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 47 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_SOURCE", function() { return TOP_SITES_SOURCE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_CONTEXT_MENU_OPTIONS", function() { return TOP_SITES_CONTEXT_MENU_OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS", function() { return TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_SPONSORED_POSITION_CONTEXT_MENU_OPTIONS", function() { return TOP_SITES_SPONSORED_POSITION_CONTEXT_MENU_OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS", function() { return TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIN_RICH_FAVICON_SIZE", function() { return MIN_RICH_FAVICON_SIZE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIN_SMALL_FAVICON_SIZE", function() { return MIN_SMALL_FAVICON_SIZE; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
const TOP_SITES_SOURCE = "TOP_SITES";
const TOP_SITES_CONTEXT_MENU_OPTIONS = ["CheckPinTopSite", "EditTopSite", "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", "DeleteUrl"];
const TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS = ["PinTopSite", "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", "ShowPrivacyInfo"];
const TOP_SITES_SPONSORED_POSITION_CONTEXT_MENU_OPTIONS = ["OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", "AboutSponsored"]; // the special top site for search shortcut experiment can only have the option to unpin (which removes) the topsite

const TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS = ["CheckPinTopSite", "Separator", "BlockUrl"]; // minimum size necessary to show a rich icon instead of a screenshot

const MIN_RICH_FAVICON_SIZE = 96; // minimum size necessary to show any icon

const MIN_SMALL_FAVICON_SIZE = 16;

/***/ }),
/* 48 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectableSearchShortcut", function() { return SelectableSearchShortcut; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchShortcutsForm", function() { return SearchShortcutsForm; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _TopSitesConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(47);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class SelectableSearchShortcut extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  render() {
    const {
      shortcut,
      selected
    } = this.props;
    const imageStyle = {
      backgroundImage: `url("${shortcut.tippyTopIcon}")`
    };
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "top-site-outer search-shortcut"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input", {
      type: "checkbox",
      id: shortcut.keyword,
      name: shortcut.keyword,
      checked: selected,
      onChange: this.props.onChange
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("label", {
      htmlFor: shortcut.keyword
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "top-site-inner"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "tile"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "top-site-icon rich-icon",
      style: imageStyle,
      "data-fallback": "@"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "top-site-icon search-topsite"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "title"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      dir: "auto"
    }, shortcut.keyword))))));
  }

}
class SearchShortcutsForm extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.handleChange = this.handleChange.bind(this);
    this.onCancelButtonClick = this.onCancelButtonClick.bind(this);
    this.onSaveButtonClick = this.onSaveButtonClick.bind(this); // clone the shortcuts and add them to the state so we can add isSelected property

    const shortcuts = [];
    const {
      rows,
      searchShortcuts
    } = props.TopSites;
    searchShortcuts.forEach(shortcut => {
      shortcuts.push({ ...shortcut,
        isSelected: !!rows.find(row => row && row.isPinned && row.searchTopSite && row.label === shortcut.keyword)
      });
    });
    this.state = {
      shortcuts
    };
  }

  handleChange(event) {
    const {
      target
    } = event;
    const {
      name,
      checked
    } = target;
    this.setState(prevState => {
      const shortcuts = prevState.shortcuts.slice();
      let shortcut = shortcuts.find(({
        keyword
      }) => keyword === name);
      shortcut.isSelected = checked;
      return {
        shortcuts
      };
    });
  }

  onCancelButtonClick(ev) {
    ev.preventDefault();
    this.props.onClose();
  }

  onSaveButtonClick(ev) {
    ev.preventDefault(); // Check if there were any changes and act accordingly

    const {
      rows
    } = this.props.TopSites;
    const pinQueue = [];
    const unpinQueue = [];
    this.state.shortcuts.forEach(shortcut => {
      const alreadyPinned = rows.find(row => row && row.isPinned && row.searchTopSite && row.label === shortcut.keyword);

      if (shortcut.isSelected && !alreadyPinned) {
        pinQueue.push(this._searchTopSite(shortcut));
      } else if (!shortcut.isSelected && alreadyPinned) {
        unpinQueue.push({
          url: alreadyPinned.url,
          searchVendor: shortcut.shortURL
        });
      }
    }); // Tell the feed to do the work.

    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].UPDATE_PINNED_SEARCH_SHORTCUTS,
      data: {
        addedShortcuts: pinQueue,
        deletedShortcuts: unpinQueue
      }
    })); // Send the Telemetry pings.

    pinQueue.forEach(shortcut => {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_2__["TOP_SITES_SOURCE"],
        event: "SEARCH_EDIT_ADD",
        value: {
          search_vendor: shortcut.searchVendor
        }
      }));
    });
    unpinQueue.forEach(shortcut => {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_2__["TOP_SITES_SOURCE"],
        event: "SEARCH_EDIT_DELETE",
        value: {
          search_vendor: shortcut.searchVendor
        }
      }));
    });
    this.props.onClose();
  }

  _searchTopSite(shortcut) {
    return {
      url: shortcut.url,
      searchTopSite: true,
      label: shortcut.keyword,
      searchVendor: shortcut.shortURL
    };
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("form", {
      className: "topsite-form"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "search-shortcuts-container"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h3", {
      className: "section-title grey-title",
      "data-l10n-id": "newtab-topsites-add-search-engine-header"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", null, this.state.shortcuts.map(shortcut => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(SelectableSearchShortcut, {
      key: shortcut.keyword,
      shortcut: shortcut,
      selected: shortcut.isSelected,
      onChange: this.handleChange
    })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("section", {
      className: "actions"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
      className: "cancel",
      type: "button",
      onClick: this.onCancelButtonClick,
      "data-l10n-id": "newtab-topsites-cancel-button"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
      className: "done",
      type: "submit",
      onClick: this.onSaveButtonClick,
      "data-l10n-id": "newtab-topsites-save-button"
    })));
  }

}

/***/ }),
/* 49 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSiteLink", function() { return TopSiteLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSite", function() { return TopSite; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSitePlaceholder", function() { return TopSitePlaceholder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSiteList", function() { return TopSiteList; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(47);
/* harmony import */ var content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(18);
/* harmony import */ var _DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(40);
/* harmony import */ var common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(66);
/* harmony import */ var content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(21);
/* harmony import */ var _TopSiteImpressionWrapper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(50);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */









const SPOC_TYPE = "SPOC";
const NEWTAB_SOURCE = "newtab";
class TopSiteLink extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      screenshotImage: null
    };
    this.onDragEvent = this.onDragEvent.bind(this);
    this.onKeyPress = this.onKeyPress.bind(this);
  }
  /*
   * Helper to determine whether the drop zone should allow a drop. We only allow
   * dropping top sites for now. We don't allow dropping on sponsored top sites
   * as their position is fixed.
   */


  _allowDrop(e) {
    return (this.dragged || !this.props.link.sponsored_position) && e.dataTransfer.types.includes("text/topsite-index");
  }

  onDragEvent(event) {
    switch (event.type) {
      case "click":
        // Stop any link clicks if we started any dragging
        if (this.dragged) {
          event.preventDefault();
        }

        break;

      case "dragstart":
        event.target.blur();

        if (this.props.link.sponsored_position) {
          event.preventDefault();
          break;
        }

        this.dragged = true;
        event.dataTransfer.effectAllowed = "move";
        event.dataTransfer.setData("text/topsite-index", this.props.index);
        this.props.onDragEvent(event, this.props.index, this.props.link, this.props.title);
        break;

      case "dragend":
        this.props.onDragEvent(event);
        break;

      case "dragenter":
      case "dragover":
      case "drop":
        if (this._allowDrop(event)) {
          event.preventDefault();
          this.props.onDragEvent(event, this.props.index);
        }

        break;

      case "mousedown":
        // Block the scroll wheel from appearing for middle clicks on search top sites
        if (event.button === 1 && this.props.link.searchTopSite) {
          event.preventDefault();
        } // Reset at the first mouse event of a potential drag


        this.dragged = false;
        break;
    }
  }
  /**
   * Helper to obtain the next state based on nextProps and prevState.
   *
   * NOTE: Rename this method to getDerivedStateFromProps when we update React
   *       to >= 16.3. We will need to update tests as well. We cannot rename this
   *       method to getDerivedStateFromProps now because there is a mismatch in
   *       the React version that we are using for both testing and production.
   *       (i.e. react-test-render => "16.3.2", react => "16.2.0").
   *
   * See https://github.com/airbnb/enzyme/blob/master/packages/enzyme-adapter-react-16/package.json#L43.
   */


  static getNextStateFromProps(nextProps, prevState) {
    const {
      screenshot
    } = nextProps.link;
    const imageInState = content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotUtils"].isRemoteImageLocal(prevState.screenshotImage, screenshot);

    if (imageInState) {
      return null;
    } // Since image was updated, attempt to revoke old image blob URL, if it exists.


    content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotUtils"].maybeRevokeBlobObjectURL(prevState.screenshotImage);
    return {
      screenshotImage: content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotUtils"].createLocalImageObject(screenshot)
    };
  } // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.


  componentWillMount() {
    const nextState = TopSiteLink.getNextStateFromProps(this.props, this.state);

    if (nextState) {
      this.setState(nextState);
    }
  } // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.


  componentWillReceiveProps(nextProps) {
    const nextState = TopSiteLink.getNextStateFromProps(nextProps, this.state);

    if (nextState) {
      this.setState(nextState);
    }
  }

  componentWillUnmount() {
    content_src_lib_screenshot_utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotUtils"].maybeRevokeBlobObjectURL(this.state.screenshotImage);
  }

  onKeyPress(event) {
    // If we have tabbed to a search shortcut top site, and we click 'enter',
    // we should execute the onClick function. This needs to be added because
    // search top sites are anchor tags without an href. See bug 1483135
    if (this.props.link.searchTopSite && event.key === "Enter") {
      this.props.onClick(event);
    }
  }
  /*
   * Takes the url as a string, runs it through a simple (non-secure) hash turning it into a random number
   * Apply that random number to the color array. The same url will always generate the same color.
   */


  generateColor() {
    let {
      title,
      colors
    } = this.props;

    if (!colors) {
      return "";
    }

    let colorArray = colors.split(",");

    const hashStr = str => {
      let hash = 0;

      for (let i = 0; i < str.length; i++) {
        let charCode = str.charCodeAt(i);
        hash += charCode;
      }

      return hash;
    };

    let hash = hashStr(title);
    let index = hash % colorArray.length;
    return colorArray[index];
  }

  calculateStyle() {
    const {
      defaultStyle,
      link
    } = this.props;
    const {
      tippyTopIcon,
      faviconSize
    } = link;
    let imageClassName;
    let imageStyle;
    let showSmallFavicon = false;
    let smallFaviconStyle;
    let hasScreenshotImage = this.state.screenshotImage && this.state.screenshotImage.url;
    let selectedColor;

    if (defaultStyle) {
      // force no styles (letter fallback) even if the link has imagery
      selectedColor = this.generateColor();
    } else if (link.searchTopSite) {
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: `url(${tippyTopIcon})`
      };
      smallFaviconStyle = {
        backgroundImage: `url(${tippyTopIcon})`
      };
    } else if (link.customScreenshotURL) {
      // assume high quality custom screenshot and use rich icon styles and class names
      // TopSite spoc experiment only
      const spocImgURL = link.type === SPOC_TYPE ? link.customScreenshotURL : "";
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: hasScreenshotImage ? `url(${this.state.screenshotImage.url})` : `url(${spocImgURL})`
      };
    } else if (tippyTopIcon || faviconSize >= _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["MIN_RICH_FAVICON_SIZE"]) {
      // styles and class names for top sites with rich icons
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: `url(${tippyTopIcon || link.favicon})`
      };
    } else if (faviconSize >= _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["MIN_SMALL_FAVICON_SIZE"]) {
      showSmallFavicon = true;
      smallFaviconStyle = {
        backgroundImage: `url(${link.favicon})`
      };
    } else {
      selectedColor = this.generateColor();
      imageClassName = "";
    }

    return {
      showSmallFavicon,
      smallFaviconStyle,
      imageStyle,
      imageClassName,
      selectedColor
    };
  }

  render() {
    const {
      children,
      className,
      isDraggable,
      link,
      onClick,
      title
    } = this.props;
    const topSiteOuterClassName = `top-site-outer${className ? ` ${className}` : ""}${link.isDragged ? " dragged" : ""}${link.searchTopSite ? " search-shortcut" : ""}`;
    const [letterFallback] = title;
    const {
      showSmallFavicon,
      smallFaviconStyle,
      imageStyle,
      imageClassName,
      selectedColor
    } = this.calculateStyle();
    let draggableProps = {};

    if (isDraggable) {
      draggableProps = {
        onClick: this.onDragEvent,
        onDragEnd: this.onDragEvent,
        onDragStart: this.onDragEvent,
        onMouseDown: this.onDragEvent
      };
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("li", _extends({
      className: topSiteOuterClassName,
      onDrop: this.onDragEvent,
      onDragOver: this.onDragEvent,
      onDragEnter: this.onDragEvent,
      onDragLeave: this.onDragEvent
    }, draggableProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "top-site-inner"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", {
      className: "top-site-button",
      href: link.searchTopSite ? undefined : link.url,
      tabIndex: "0",
      onKeyPress: this.onKeyPress,
      onClick: onClick,
      draggable: true
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "tile",
      "aria-hidden": true
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: selectedColor ? "icon-wrapper letter-fallback" : "icon-wrapper",
      "data-fallback": letterFallback,
      style: selectedColor ? {
        backgroundColor: selectedColor
      } : {}
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: imageClassName,
      style: imageStyle
    }), showSmallFavicon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "top-site-icon default-icon",
      "data-fallback": smallFaviconStyle ? "" : letterFallback,
      style: smallFaviconStyle
    })), link.searchTopSite && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "top-site-icon search-topsite"
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: `title${link.isPinned ? " has-icon pinned" : ""}${link.type === SPOC_TYPE || link.show_sponsored_label ? " sponsored" : ""}`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
      dir: "auto"
    }, link.isPinned && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "icon icon-pin-small"
    }), title || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
      className: "sponsored-label",
      "data-l10n-id": "newtab-topsite-sponsored"
    })))), children, link.type === SPOC_TYPE ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_DiscoveryStreamImpressionStats_ImpressionStats__WEBPACK_IMPORTED_MODULE_3__["ImpressionStats"], {
      flightId: link.flightId,
      rows: [{
        id: link.id,
        pos: link.pos,
        shim: link.shim && link.shim.impression
      }],
      dispatch: this.props.dispatch,
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"]
    }) : null, link.sponsored_position ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_TopSiteImpressionWrapper__WEBPACK_IMPORTED_MODULE_8__["TopSiteImpressionWrapper"], {
      tile: {
        position: this.props.index + 1,
        tile_id: link.sponsored_tile_id || -1,
        reporting_url: link.sponsored_impression_url,
        advertiser: title.toLocaleLowerCase(),
        source: NEWTAB_SOURCE
      },
      dispatch: this.props.dispatch
    }) : null));
  }

}
TopSiteLink.defaultProps = {
  title: "",
  link: {},
  isDraggable: true
};
class TopSite extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      showContextMenu: false
    };
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
  }
  /**
   * Report to telemetry additional information about the item.
   */


  _getTelemetryInfo() {
    const value = {
      icon_type: this.props.link.iconType
    }; // Filter out "not_pinned" type for being the default

    if (this.props.link.isPinned) {
      value.card_type = "pinned";
    }

    if (this.props.link.searchTopSite) {
      // Set the card_type as "search" regardless of its pinning status
      value.card_type = "search";
      value.search_vendor = this.props.link.hostname;
    }

    if (this.props.link.type === SPOC_TYPE || this.props.link.sponsored_position) {
      value.card_type = "spoc";
    }

    return {
      value
    };
  }

  userEvent(event) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent(Object.assign({
      event,
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      action_position: this.props.index
    }, this._getTelemetryInfo())));
  }

  onLinkClick(event) {
    this.userEvent("CLICK"); // Specially handle a top site link click for "typed" frecency bonus as
    // specified as a property on the link.

    event.preventDefault();
    const {
      altKey,
      button,
      ctrlKey,
      metaKey,
      shiftKey
    } = event;

    if (!this.props.link.searchTopSite) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].OPEN_LINK,
        data: Object.assign(this.props.link, {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          }
        })
      })); // Fire off a spoc specific impression.

      if (this.props.link.type === SPOC_TYPE) {
        this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].ImpressionStats({
          source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
          click: 0,
          tiles: [{
            id: this.props.link.id,
            pos: this.props.link.pos,
            shim: this.props.link.shim && this.props.link.shim.click
          }]
        }));
      }

      if (this.props.link.sendAttributionRequest) {
        this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
          type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].PARTNER_LINK_ATTRIBUTION,
          data: {
            targetURL: this.props.link.url,
            source: "newtab"
          }
        }));
      }

      if (this.props.link.sponsored_position) {
        const title = this.props.link.label || this.props.link.hostname;
        this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
          type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_IMPRESSION_STATS,
          data: {
            type: "click",
            position: this.props.index + 1,
            tile_id: this.props.link.sponsored_tile_id || -1,
            reporting_url: this.props.link.sponsored_click_url,
            advertiser: title.toLocaleLowerCase(),
            source: NEWTAB_SOURCE
          }
        }));
      }
    } else {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].FILL_SEARCH_TERM,
        data: {
          label: this.props.link.label
        }
      }));
    }
  }

  onMenuUpdate(isOpen) {
    if (isOpen) {
      this.props.onActivate(this.props.index);
    } else {
      this.props.onActivate();
    }
  }

  render() {
    const {
      props
    } = this;
    const {
      link
    } = props;
    const isContextMenuOpen = props.activeIndex === props.index;
    const title = link.label || link.hostname;
    let menuOptions;

    if (link.sponsored_position) {
      menuOptions = _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SPONSORED_POSITION_CONTEXT_MENU_OPTIONS"];
    } else if (link.searchTopSite) {
      menuOptions = _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS"];
    } else if (link.type === SPOC_TYPE) {
      menuOptions = _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS"];
    } else {
      menuOptions = _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_CONTEXT_MENU_OPTIONS"];
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(TopSiteLink, _extends({}, props, {
      onClick: this.onLinkClick,
      onDragEvent: this.props.onDragEvent,
      className: `${props.className || ""}${isContextMenuOpen ? " active" : ""}`,
      title: title
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_ContextMenu_ContextMenuButton__WEBPACK_IMPORTED_MODULE_7__["ContextMenuButton"], {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuUpdate
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(content_src_components_LinkMenu_LinkMenu__WEBPACK_IMPORTED_MODULE_2__["LinkMenu"], {
      dispatch: props.dispatch,
      index: props.index,
      onUpdate: this.onMenuUpdate,
      options: menuOptions,
      site: link,
      shouldSendImpressionStats: link.type === SPOC_TYPE,
      siteInfo: this._getTelemetryInfo(),
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"]
    }))));
  }

}
TopSite.defaultProps = {
  link: {},

  onActivate() {}

};
class TopSitePlaceholder extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onEditButtonClick = this.onEditButtonClick.bind(this);
  }

  onEditButtonClick() {
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_EDIT,
      data: {
        index: this.props.index
      }
    });
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(TopSiteLink, _extends({}, this.props, {
      className: `placeholder ${this.props.className || ""}`,
      isDraggable: false
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
      "aria-haspopup": "true",
      className: "context-menu-button edit-button icon",
      "data-l10n-id": "newtab-menu-topsites-placeholder-tooltip",
      onClick: this.onEditButtonClick
    }));
  }

}
class TopSiteList extends react__WEBPACK_IMPORTED_MODULE_4___default.a.PureComponent {
  static get DEFAULT_STATE() {
    return {
      activeIndex: null,
      draggedIndex: null,
      draggedSite: null,
      draggedTitle: null,
      topSitesPreview: null
    };
  }

  constructor(props) {
    super(props);
    this.state = TopSiteList.DEFAULT_STATE;
    this.onDragEvent = this.onDragEvent.bind(this);
    this.onActivate = this.onActivate.bind(this);
  }

  componentWillReceiveProps(nextProps) {
    if (this.state.draggedSite) {
      const prevTopSites = this.props.TopSites && this.props.TopSites.rows;
      const newTopSites = nextProps.TopSites && nextProps.TopSites.rows;

      if (prevTopSites && prevTopSites[this.state.draggedIndex] && prevTopSites[this.state.draggedIndex].url === this.state.draggedSite.url && (!newTopSites[this.state.draggedIndex] || newTopSites[this.state.draggedIndex].url !== this.state.draggedSite.url)) {
        // We got the new order from the redux store via props. We can clear state now.
        this.setState(TopSiteList.DEFAULT_STATE);
      }
    }
  }

  userEvent(event, index) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event,
      source: _TopSitesConstants__WEBPACK_IMPORTED_MODULE_1__["TOP_SITES_SOURCE"],
      action_position: index
    }));
  }

  onDragEvent(event, index, link, title) {
    switch (event.type) {
      case "dragstart":
        this.dropped = false;
        this.setState({
          draggedIndex: index,
          draggedSite: link,
          draggedTitle: title,
          activeIndex: null
        });
        this.userEvent("DRAG", index);
        break;

      case "dragend":
        if (!this.dropped) {
          // If there was no drop event, reset the state to the default.
          this.setState(TopSiteList.DEFAULT_STATE);
        }

        break;

      case "dragenter":
        if (index === this.state.draggedIndex) {
          this.setState({
            topSitesPreview: null
          });
        } else {
          this.setState({
            topSitesPreview: this._makeTopSitesPreview(index)
          });
        }

        break;

      case "drop":
        if (index !== this.state.draggedIndex) {
          this.dropped = true;
          this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
            type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_INSERT,
            data: {
              site: {
                url: this.state.draggedSite.url,
                label: this.state.draggedTitle,
                customScreenshotURL: this.state.draggedSite.customScreenshotURL,
                // Only if the search topsites experiment is enabled
                ...(this.state.draggedSite.searchTopSite && {
                  searchTopSite: true
                })
              },
              index,
              draggedFromIndex: this.state.draggedIndex
            }
          }));
          this.userEvent("DROP", index);
        }

        break;
    }
  }

  _getTopSites() {
    // Make a copy of the sites to truncate or extend to desired length
    let topSites = this.props.TopSites.rows.slice();
    topSites.length = this.props.TopSitesRows * common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_6__["TOP_SITES_MAX_SITES_PER_ROW"];
    return topSites;
  }
  /**
   * Make a preview of the topsites that will be the result of dropping the currently
   * dragged site at the specified index.
   */


  _makeTopSitesPreview(index) {
    const topSites = this._getTopSites();

    topSites[this.state.draggedIndex] = null;
    const preview = topSites.map(site => site && (site.isPinned || site.sponsored_position) ? site : null);
    const unpinned = topSites.filter(site => site && !site.isPinned && !site.sponsored_position);
    const siteToInsert = Object.assign({}, this.state.draggedSite, {
      isPinned: true,
      isDragged: true
    });

    if (!preview[index]) {
      preview[index] = siteToInsert;
    } else {
      // Find the hole to shift the pinned site(s) towards. We shift towards the
      // hole left by the site being dragged.
      let holeIndex = index;
      const indexStep = index > this.state.draggedIndex ? -1 : 1;

      while (preview[holeIndex]) {
        holeIndex += indexStep;
      } // Shift towards the hole.


      const shiftingStep = index > this.state.draggedIndex ? 1 : -1;

      while (index > this.state.draggedIndex ? holeIndex < index : holeIndex > index) {
        let nextIndex = holeIndex + shiftingStep;

        while (preview[nextIndex] && preview[nextIndex].sponsored_position) {
          nextIndex += shiftingStep;
        }

        preview[holeIndex] = preview[nextIndex];
        holeIndex = nextIndex;
      }

      preview[index] = siteToInsert;
    } // Fill in the remaining holes with unpinned sites.


    for (let i = 0; i < preview.length; i++) {
      if (!preview[i]) {
        preview[i] = unpinned.shift() || null;
      }
    }

    return preview;
  }

  onActivate(index) {
    this.setState({
      activeIndex: index
    });
  }

  render() {
    const {
      props
    } = this;

    const topSites = this.state.topSitesPreview || this._getTopSites();

    const topSitesUI = [];
    const commonProps = {
      onDragEvent: this.onDragEvent,
      dispatch: props.dispatch
    }; // We assign a key to each placeholder slot. We need it to be independent
    // of the slot index (i below) so that the keys used stay the same during
    // drag and drop reordering and the underlying DOM nodes are reused.
    // This mostly (only?) affects linux so be sure to test on linux before changing.

    let holeIndex = 0; // On narrow viewports, we only show 6 sites per row. We'll mark the rest as
    // .hide-for-narrow to hide in CSS via @media query.

    const maxNarrowVisibleIndex = props.TopSitesRows * 6;

    for (let i = 0, l = topSites.length; i < l; i++) {
      const link = topSites[i] && Object.assign({}, topSites[i], {
        iconType: this.props.topSiteIconType(topSites[i])
      });
      const slotProps = {
        key: link ? link.url : holeIndex++,
        index: i
      };

      if (i >= maxNarrowVisibleIndex) {
        slotProps.className = "hide-for-narrow";
      }

      topSitesUI.push(!link ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(TopSitePlaceholder, _extends({}, slotProps, commonProps)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(TopSite, _extends({
        link: link,
        activeIndex: this.state.activeIndex,
        onActivate: this.onActivate
      }, slotProps, commonProps, {
        colors: props.colors
      })));
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("ul", {
      className: `top-sites-list${this.state.draggedSite ? " dnd-active" : ""}`
    }, topSitesUI);
  }

}

/***/ }),
/* 50 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INTERSECTION_RATIO", function() { return INTERSECTION_RATIO; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSiteImpressionWrapper", function() { return TopSiteImpressionWrapper; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange"; // Per analytical requirement, we set the minimal intersection ratio to
// 0.5, and an impression is identified when the wrapped item has at least
// 50% visibility.
//
// This constant is exported for unit test

const INTERSECTION_RATIO = 0.5;
/**
 * Impression wrapper for a TopSite tile.
 *
 * It makses use of the Intersection Observer API to detect the visibility,
 * and relies on page visibility to ensure the impression is reported
 * only when the component is visible on the page.
 */

class TopSiteImpressionWrapper extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  _dispatchImpressionStats() {
    const {
      tile
    } = this.props;
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].TOP_SITES_IMPRESSION_STATS,
      data: {
        type: "impression",
        ...tile
      }
    }));
  }

  setImpressionObserverOrAddListener() {
    const {
      props
    } = this;

    if (!props.dispatch) {
      return;
    }

    if (props.document.visibilityState === VISIBLE) {
      this.setImpressionObserver();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      }

      this._onVisibilityChange = () => {
        if (props.document.visibilityState === VISIBLE) {
          this.setImpressionObserver();
          props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };

      props.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  /**
   * Set an impression observer for the wrapped component. It makes use of
   * the Intersection Observer API to detect if the wrapped component is
   * visible with a desired ratio, and only sends impression if that's the case.
   *
   * See more details about Intersection Observer API at:
   * https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API
   */


  setImpressionObserver() {
    const {
      props
    } = this;

    if (!props.tile) {
      return;
    }

    this._handleIntersect = entries => {
      if (entries.some(entry => entry.isIntersecting && entry.intersectionRatio >= INTERSECTION_RATIO)) {
        this._dispatchImpressionStats();

        this.impressionObserver.unobserve(this.refs.topsite_impression_wrapper);
      }
    };

    const options = {
      threshold: INTERSECTION_RATIO
    };
    this.impressionObserver = new props.IntersectionObserver(this._handleIntersect, options);
    this.impressionObserver.observe(this.refs.topsite_impression_wrapper);
  }

  componentDidMount() {
    if (this.props.tile) {
      this.setImpressionObserverOrAddListener();
    }
  }

  componentWillUnmount() {
    if (this._handleIntersect && this.impressionObserver) {
      this.impressionObserver.unobserve(this.refs.topsite_impression_wrapper);
    }

    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      ref: "topsite_impression_wrapper",
      className: "topsite-impression-observer"
    }, this.props.children);
  }

}
TopSiteImpressionWrapper.defaultProps = {
  IntersectionObserver: global.IntersectionObserver,
  document: global.document,
  tile: null
};
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 51 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HorizontalRule", function() { return HorizontalRule; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class HorizontalRule extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("hr", {
      className: "ds-hr"
    });
  }

}

/***/ }),
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Topic", function() { return Topic; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Navigation", function() { return Navigation; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23);
/* harmony import */ var content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(26);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




class Topic extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
  }

  onLinkClick(event) {
    if (this.props.dispatch) {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "CLICK",
        source: "POPULAR_TOPICS",
        action_position: 0,
        value: {
          topic: event.target.text.toLowerCase().replace(` `, `-`)
        }
      }));
    }
  }

  render() {
    const {
      url,
      name
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_2__["SafeAnchor"], {
      onLinkClick: this.onLinkClick,
      className: this.props.className,
      url: url
    }, name);
  }

}
class Navigation extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  render() {
    let links = this.props.links || [];
    const alignment = this.props.alignment || "centered";
    const header = this.props.header || {};
    const english = this.props.locale.startsWith("en-");
    const privacyNotice = this.props.privacyNoticeURL || {};
    const {
      newFooterSection
    } = this.props;
    const className = `ds-navigation ds-navigation-${alignment} ${newFooterSection ? `ds-navigation-new-topics` : ``}`;
    let {
      title
    } = header;

    if (newFooterSection) {
      title = {
        id: "newtab-pocket-new-topics-title"
      };

      if (this.props.extraLinks) {
        links = [...links.slice(0, links.length - 1), ...this.props.extraLinks, links[links.length - 1]];
      }
    }

    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: className
    }, title && english ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_3__["FluentOrText"], {
      message: title
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "ds-navigation-header"
    })) : null, english ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("ul", null, links && links.map(t => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", {
      key: t.name
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Topic, {
      url: t.url,
      name: t.name,
      dispatch: this.props.dispatch
    })))) : null, !newFooterSection ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_2__["SafeAnchor"], {
      className: "ds-navigation-privacy",
      url: privacyNotice.url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_3__["FluentOrText"], {
      message: privacyNotice.title
    })) : null, newFooterSection ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
      className: "ds-navigation-family"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "icon firefox-logo"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", null, "|"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "icon pocket-logo"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "ds-navigation-family-message",
      "data-l10n-id": "newtab-pocket-pocket-firefox-family"
    })) : null);
  }

}

/***/ }),
/* 53 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PrivacyLink", function() { return PrivacyLink; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23);
/* harmony import */ var content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(26);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class PrivacyLink extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      properties
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "ds-privacy-link"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SafeAnchor_SafeAnchor__WEBPACK_IMPORTED_MODULE_1__["SafeAnchor"], {
      url: properties.url
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(content_src_components_FluentOrText_FluentOrText__WEBPACK_IMPORTED_MODULE_2__["FluentOrText"], {
      message: properties.title
    })));
  }

}

/***/ }),
/* 54 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionTitle", function() { return SectionTitle; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class SectionTitle extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {
  render() {
    const {
      header: {
        title,
        subtitle
      }
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "ds-section-title"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "title"
    }, title), subtitle ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "subtitle"
    }, subtitle) : null);
  }

}

/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectLayoutRender", function() { return selectLayoutRender; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
const selectLayoutRender = ({
  state = {},
  prefs = {},
  locale = ""
}) => {
  const {
    layout,
    feeds,
    spocs
  } = state;
  let spocIndexPlacementMap = {};
  /* This function fills spoc positions on a per placement basis with available spocs.
   * It does this by looping through each position for a placement and replacing a rec with a spoc.
   * If it runs out of spocs or positions, it stops.
   * If it sees the same placement again, it remembers the previous spoc index, and continues.
   * If it sees a blocked spoc, it skips that position leaving in a regular story.
   */

  function fillSpocPositionsForPlacement(data, spocsConfig, spocsData, placementName) {
    if (!spocIndexPlacementMap[placementName] && spocIndexPlacementMap[placementName] !== 0) {
      spocIndexPlacementMap[placementName] = 0;
    }

    const results = [...data];

    for (let position of spocsConfig.positions) {
      const spoc = spocsData[spocIndexPlacementMap[placementName]]; // If there are no spocs left, we can stop filling positions.

      if (!spoc) {
        break;
      } // A placement could be used in two sections.
      // In these cases, we want to maintain the index of the previous section.
      // If we didn't do this, it might duplicate spocs.


      spocIndexPlacementMap[placementName]++; // A spoc that's blocked is removed from the source for subsequent newtab loads.
      // If we have a spoc in the source that's blocked, it means it was *just* blocked,
      // and in this case, we skip this position, and show a regular spoc instead.

      if (!spocs.blocked.includes(spoc.url)) {
        results.splice(position.index, 0, spoc);
      }
    }

    return results;
  }

  const positions = {};
  const DS_COMPONENTS = ["Message", "TextPromo", "SectionTitle", "Signup", "Navigation", "CardGrid", "CollectionCardGrid", "HorizontalRule", "PrivacyLink"];
  const filterArray = [];

  if (!prefs["feeds.topsites"]) {
    filterArray.push("TopSites");
  }

  const pocketEnabled = prefs["feeds.section.topstories"] && prefs["feeds.system.topstories"];

  if (!pocketEnabled) {
    filterArray.push(...DS_COMPONENTS);
  }

  const placeholderComponent = component => {
    if (!component.feed) {
      // TODO we now need a placeholder for topsites and textPromo.
      return { ...component,
        data: {
          spocs: []
        }
      };
    }

    const data = {
      recommendations: []
    };
    let items = 0;

    if (component.properties && component.properties.items) {
      items = component.properties.items;
    }

    for (let i = 0; i < items; i++) {
      data.recommendations.push({
        placeholder: true
      });
    }

    return { ...component,
      data
    };
  }; // TODO update devtools to show placements


  const handleSpocs = (data, component) => {
    let result = [...data]; // Do we ever expect to possibly have a spoc.

    if (component.spocs && component.spocs.positions && component.spocs.positions.length) {
      const placement = component.placement || {};
      const placementName = placement.name || "spocs";
      const spocsData = spocs.data[placementName]; // We expect a spoc, spocs are loaded, and the server returned spocs.

      if (spocs.loaded && spocsData && spocsData.items && spocsData.items.length) {
        result = fillSpocPositionsForPlacement(result, component.spocs, spocsData.items, placementName);
      }
    }

    return result;
  };

  const handleComponent = component => {
    if (component.spocs && component.spocs.positions && component.spocs.positions.length) {
      const placement = component.placement || {};
      const placementName = placement.name || "spocs";
      const spocsData = spocs.data[placementName];

      if (spocs.loaded && spocsData && spocsData.items && spocsData.items.length) {
        return { ...component,
          data: {
            spocs: spocsData.items.filter(spoc => spoc && !spocs.blocked.includes(spoc.url)).map((spoc, index) => ({ ...spoc,
              pos: index
            }))
          }
        };
      }
    }

    return { ...component,
      data: {
        spocs: []
      }
    };
  };

  const handleComponentWithFeed = component => {
    positions[component.type] = positions[component.type] || 0;
    let data = {
      recommendations: []
    };
    const feed = feeds.data[component.feed.url];

    if (feed && feed.data) {
      data = { ...feed.data,
        recommendations: [...(feed.data.recommendations || [])]
      };
    }

    if (component && component.properties && component.properties.offset) {
      data = { ...data,
        recommendations: data.recommendations.slice(component.properties.offset)
      };
    }

    data = { ...data,
      recommendations: handleSpocs(data.recommendations, component)
    };
    let items = 0;

    if (component.properties && component.properties.items) {
      items = Math.min(component.properties.items, data.recommendations.length);
    } // loop through a component items
    // Store the items position sequentially for multiple components of the same type.
    // Example: A second card grid starts pos offset from the last card grid.


    for (let i = 0; i < items; i++) {
      data.recommendations[i] = { ...data.recommendations[i],
        pos: positions[component.type]++
      };
    }

    return { ...component,
      data
    };
  };

  const renderLayout = () => {
    const renderedLayoutArray = [];

    for (const row of layout.filter(r => r.components.filter(c => !filterArray.includes(c.type)).length)) {
      let components = [];
      renderedLayoutArray.push({ ...row,
        components
      });

      for (const component of row.components.filter(c => !filterArray.includes(c.type))) {
        const spocsConfig = component.spocs;

        if (spocsConfig || component.feed) {
          // TODO make sure this still works for different loading cases.
          if (component.feed && !feeds.data[component.feed.url] || spocsConfig && spocsConfig.positions && spocsConfig.positions.length && !spocs.loaded) {
            components.push(placeholderComponent(component));
            return renderedLayoutArray;
          }

          if (component.feed) {
            components.push(handleComponentWithFeed(component));
          } else {
            components.push(handleComponent(component));
          }
        } else {
          components.push(component);
        }
      }
    }

    return renderedLayoutArray;
  };

  const layoutRender = renderLayout();
  return {
    layoutRender
  };
};

/***/ }),
/* 56 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_TopSites", function() { return _TopSites; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSites", function() { return TopSites; });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var content_src_components_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);
/* harmony import */ var common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(66);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




class _TopSites extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  // Find a SPOC that doesn't already exist in User's TopSites
  getFirstAvailableSpoc(topSites, data) {
    const {
      spocs
    } = data;

    if (!spocs || spocs.length === 0) {
      return null;
    }

    const userTopSites = new Set(topSites.map(topSite => topSite && topSite.url)); // We "clean urls" with http in TopSiteForm.jsx
    // Spoc domains are in the format 'sponsorname.com'

    return spocs.find(spoc => !userTopSites.has(spoc.url) && !userTopSites.has(`http://${spoc.domain}`) && !userTopSites.has(`https://${spoc.domain}`) && !userTopSites.has(`http://www.${spoc.domain}`) && !userTopSites.has(`https://www.${spoc.domain}`));
  } // Find the first empty or unpinned index we can place the SPOC in.
  // Return -1 if no available index and we should push it at the end.


  getFirstAvailableIndex(topSites, promoAlignment) {
    if (promoAlignment === "left") {
      return topSites.findIndex(topSite => !topSite || !topSite.isPinned);
    } // The row isn't full so we can push it to the end of the row.


    if (topSites.length < common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_2__["TOP_SITES_MAX_SITES_PER_ROW"]) {
      return -1;
    } // If the row is full, we can check the row first for unpinned topsites to replace.
    // Else we can check after the row. This behavior is how unpinned topsites move while drag and drop.


    let endOfRow = common_Reducers_jsm__WEBPACK_IMPORTED_MODULE_2__["TOP_SITES_MAX_SITES_PER_ROW"] - 1;

    for (let i = endOfRow; i >= 0; i--) {
      if (!topSites[i] || !topSites[i].isPinned) {
        return i;
      }
    }

    for (let i = endOfRow + 1; i < topSites.length; i++) {
      if (!topSites[i] || !topSites[i].isPinned) {
        return i;
      }
    }

    return -1;
  }

  insertSpocContent(TopSites, data, promoAlignment) {
    if (!TopSites.rows || TopSites.rows.length === 0 || !data.spocs || data.spocs.length === 0) {
      return null;
    }

    let topSites = [...TopSites.rows];
    const topSiteSpoc = this.getFirstAvailableSpoc(topSites, data);

    if (!topSiteSpoc) {
      return null;
    }

    const link = {
      customScreenshotURL: topSiteSpoc.image_src,
      type: "SPOC",
      label: topSiteSpoc.sponsor,
      title: topSiteSpoc.sponsor,
      url: topSiteSpoc.url,
      flightId: topSiteSpoc.flight_id,
      id: topSiteSpoc.id,
      guid: topSiteSpoc.id,
      shim: topSiteSpoc.shim,
      // For now we are assuming position based on intended position.
      // Actual position can shift based on other content.
      // We also hard code left and right to be 0 and 7.
      // We send the intended postion in the ping.
      pos: promoAlignment === "left" ? 0 : 7
    };
    const firstAvailableIndex = this.getFirstAvailableIndex(topSites, promoAlignment);

    if (firstAvailableIndex === -1) {
      topSites.push(link);
    } else {
      // Normal insertion will not work since pinned topsites are in their correct index already
      // Similar logic is done to handle drag and drop with pinned topsites in TopSite.jsx
      let shiftedTopSite = topSites[firstAvailableIndex];
      let index = firstAvailableIndex + 1; // Shift unpinned topsites to the right by finding the next unpinned topsite to replace

      while (shiftedTopSite) {
        if (index === topSites.length) {
          topSites.push(shiftedTopSite);
          shiftedTopSite = null;
        } else if (topSites[index] && topSites[index].isPinned) {
          index += 1;
        } else {
          const nextTopSite = topSites[index];
          topSites[index] = shiftedTopSite;
          shiftedTopSite = nextTopSite;
          index += 1;
        }
      }

      topSites[firstAvailableIndex] = link;
    }

    return { ...TopSites,
      rows: topSites
    };
  }

  render() {
    const {
      header = {},
      data,
      promoAlignment,
      TopSites
    } = this.props;
    const TopSitesWithSpoc = TopSites && data && promoAlignment ? this.insertSpocContent(TopSites, data, promoAlignment) : null;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: `ds-top-sites ${TopSitesWithSpoc ? "top-sites-spoc" : ""}`
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(content_src_components_TopSites_TopSites__WEBPACK_IMPORTED_MODULE_1__["TopSites"], {
      isFixed: true,
      title: header.title,
      TopSitesWithSpoc: TopSitesWithSpoc
    }));
  }

}
const TopSites = Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(state => ({
  TopSites: state.TopSites
}))(_TopSites);

/***/ }),
/* 57 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_Search", function() { return _Search; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Search", function() { return Search; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var content_src_lib_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(13);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/* globals ContentSearchUIController, ContentSearchHandoffUIController */


function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }





class _Search extends react__WEBPACK_IMPORTED_MODULE_3___default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onSearchClick = this.onSearchClick.bind(this);
    this.onSearchHandoffClick = this.onSearchHandoffClick.bind(this);
    this.onSearchHandoffPaste = this.onSearchHandoffPaste.bind(this);
    this.onSearchHandoffDrop = this.onSearchHandoffDrop.bind(this);
    this.onInputMount = this.onInputMount.bind(this);
    this.onInputMountHandoff = this.onInputMountHandoff.bind(this);
    this.onSearchHandoffButtonMount = this.onSearchHandoffButtonMount.bind(this);
  }

  handleEvent(event) {
    // Also track search events with our own telemetry
    if (event.detail.type === "Search") {
      this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
        event: "SEARCH"
      }));
    }
  }

  onSearchClick(event) {
    window.gContentSearchController.search(event);
  }

  doSearchHandoff(text) {
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].OnlyToMain({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].HANDOFF_SEARCH_TO_AWESOMEBAR,
      data: {
        text
      }
    }));
    this.props.dispatch({
      type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].FAKE_FOCUS_SEARCH
    });
    this.props.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].UserEvent({
      event: "SEARCH_HANDOFF"
    }));

    if (text) {
      this.props.dispatch({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].DISABLE_SEARCH
      });
    }
  }

  onSearchHandoffClick(event) {
    // When search hand-off is enabled, we render a big button that is styled to
    // look like a search textbox. If the button is clicked, we style
    // the button as if it was a focused search box and show a fake cursor but
    // really focus the awesomebar without the focus styles ("hidden focus").
    event.preventDefault();
    this.doSearchHandoff();
  }

  onSearchHandoffPaste(event) {
    event.preventDefault();
    this.doSearchHandoff(event.clipboardData.getData("Text"));
  }

  onSearchHandoffDrop(event) {
    event.preventDefault();
    let text = event.dataTransfer.getData("text");

    if (text) {
      this.doSearchHandoff(text);
    }
  }

  componentWillUnmount() {
    delete window.gContentSearchController;
  }

  onInputMount(input) {
    if (input) {
      // The "healthReportKey" and needs to be "newtab" or "abouthome" so that
      // BrowserUsageTelemetry.jsm knows to handle events with this name, and
      // can add the appropriate telemetry probes for search. Without the correct
      // name, certain tests like browser_UsageTelemetry_content.js will fail
      // (See github ticket #2348 for more details)
      const healthReportKey = content_src_lib_constants__WEBPACK_IMPORTED_MODULE_2__["IS_NEWTAB"] ? "newtab" : "abouthome"; // The "searchSource" needs to be "newtab" or "homepage" and is sent with
      // the search data and acts as context for the search request (See
      // nsISearchEngine.getSubmission). It is necessary so that search engine
      // plugins can correctly atribute referrals. (See github ticket #3321 for
      // more details)

      const searchSource = content_src_lib_constants__WEBPACK_IMPORTED_MODULE_2__["IS_NEWTAB"] ? "newtab" : "homepage"; // gContentSearchController needs to exist as a global so that tests for
      // the existing about:home can find it; and so it allows these tests to pass.
      // In the future, when activity stream is default about:home, this can be renamed

      window.gContentSearchController = new ContentSearchUIController(input, input.parentNode, healthReportKey, searchSource);
      addEventListener("ContentSearchClient", this);
    } else {
      window.gContentSearchController = null;
      removeEventListener("ContentSearchClient", this);
    }
  }

  onInputMountHandoff(input) {
    if (input) {
      // The handoff UI controller helps us set the search icon and reacts to
      // changes to default engine to keep everything in sync.
      this._handoffSearchController = new ContentSearchHandoffUIController();
    }
  }

  getDefaultEngineName() {
    // _handoffSearchController will manage engine names once it is initialized.
    return this.props.Prefs.values["urlbar.placeholderName"];
  }

  getHandoffInputL10nAttributes() {
    let defaultEngineName = this.getDefaultEngineName();
    return defaultEngineName ? {
      "data-l10n-id": "newtab-search-box-handoff-input",
      "data-l10n-args": `{"engine": "${defaultEngineName}"}`
    } : {
      "data-l10n-id": "newtab-search-box-handoff-input-no-engine"
    };
  }

  getHandoffTextL10nAttributes() {
    let defaultEngineName = this.getDefaultEngineName();
    return defaultEngineName ? {
      "data-l10n-id": "newtab-search-box-handoff-text",
      "data-l10n-args": `{"engine": "${defaultEngineName}"}`
    } : {
      "data-l10n-id": "newtab-search-box-handoff-text-no-engine"
    };
  }

  onSearchHandoffButtonMount(button) {
    // Keep a reference to the button for use during "paste" event handling.
    this._searchHandoffButton = button;
  }
  /*
   * Do not change the ID on the input field, as legacy newtab code
   * specifically looks for the id 'newtab-search-text' on input fields
   * in order to execute searches in various tests
   */


  render() {
    const wrapperClassName = ["search-wrapper", this.props.disable && "search-disabled", this.props.fakeFocus && "fake-focus"].filter(v => v).join(" ");
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: wrapperClassName
    }, this.props.showLogo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "logo-and-wordmark"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "logo"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "wordmark"
    })), !this.props.handoffEnabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "search-inner-wrapper"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      id: "newtab-search-text",
      "data-l10n-id": "newtab-search-box-input",
      maxLength: "256",
      ref: this.onInputMount,
      type: "search"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      id: "searchSubmit",
      className: "search-button",
      "data-l10n-id": "newtab-search-box-search-button",
      onClick: this.onSearchClick
    })), this.props.handoffEnabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "search-inner-wrapper"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", _extends({
      className: "search-handoff-button"
    }, this.getHandoffInputL10nAttributes(), {
      ref: this.onSearchHandoffButtonMount,
      onClick: this.onSearchHandoffClick,
      tabIndex: "-1"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", _extends({
      className: "fake-textbox"
    }, this.getHandoffTextL10nAttributes())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", {
      type: "search",
      className: "fake-editable",
      tabIndex: "-1",
      "aria-hidden": "true",
      onDrop: this.onSearchHandoffDrop,
      onPaste: this.onSearchHandoffPaste,
      ref: this.onInputMountHandoff
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "fake-caret"
    }))));
  }

}
const Search = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(state => ({
  Prefs: state.Prefs
}))(_Search);

/***/ }),
/* 58 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DetectUserSessionStart", function() { return DetectUserSessionStart; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var content_src_lib_perf_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange";
class DetectUserSessionStart {
  constructor(store, options = {}) {
    this._store = store; // Overrides for testing

    this.document = options.document || global.document;
    this._perfService = options.perfService || content_src_lib_perf_service__WEBPACK_IMPORTED_MODULE_1__["perfService"];
    this._onVisibilityChange = this._onVisibilityChange.bind(this);
  }
  /**
   * sendEventOrAddListener - Notify immediately if the page is already visible,
   *                    or else set up a listener for when visibility changes.
   *                    This is needed for accurate session tracking for telemetry,
   *                    because tabs are pre-loaded.
   */


  sendEventOrAddListener() {
    if (this.document.visibilityState === VISIBLE) {
      // If the document is already visible, to the user, send a notification
      // immediately that a session has started.
      this._sendEvent();
    } else {
      // If the document is not visible, listen for when it does become visible.
      this.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  /**
   * _sendEvent - Sends a message to the main process to indicate the current
   *              tab is now visible to the user, includes the
   *              visibility_event_rcvd_ts time in ms from the UNIX epoch.
   */


  _sendEvent() {
    this._perfService.mark("visibility_event_rcvd_ts");

    try {
      let visibility_event_rcvd_ts = this._perfService.getMostRecentAbsMarkStartByName("visibility_event_rcvd_ts");

      this._store.dispatch(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA,
        data: {
          visibility_event_rcvd_ts
        }
      }));
    } catch (ex) {// If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.  We should at least not blow up.
    }
  }
  /**
   * _onVisibilityChange - If the visibility has changed to visible, sends a notification
   *                      and removes the event listener. This should only be called once per tab.
   */


  _onVisibilityChange() {
    if (this.document.visibilityState === VISIBLE) {
      this._sendEvent();

      this.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 59 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MERGE_STORE_ACTION", function() { return MERGE_STORE_ACTION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OUTGOING_MESSAGE_NAME", function() { return OUTGOING_MESSAGE_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INCOMING_MESSAGE_NAME", function() { return INCOMING_MESSAGE_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EARLY_QUEUED_ACTIONS", function() { return EARLY_QUEUED_ACTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rehydrationMiddleware", function() { return rehydrationMiddleware; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queueEarlyMessageMiddleware", function() { return queueEarlyMessageMiddleware; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initStore", function() { return initStore; });
/* harmony import */ var common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60);
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(redux__WEBPACK_IMPORTED_MODULE_1__);
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/* eslint-env mozilla/frame-script */


const MERGE_STORE_ACTION = "NEW_TAB_INITIAL_STATE";
const OUTGOING_MESSAGE_NAME = "ActivityStream:ContentToMain";
const INCOMING_MESSAGE_NAME = "ActivityStream:MainToContent";
const EARLY_QUEUED_ACTIONS = [common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].SAVE_SESSION_PERF_DATA];
/**
 * A higher-order function which returns a reducer that, on MERGE_STORE action,
 * will return the action.data object merged into the previous state.
 *
 * For all other actions, it merely calls mainReducer.
 *
 * Because we want this to merge the entire state object, it's written as a
 * higher order function which takes the main reducer (itself often a call to
 * combineReducers) as a parameter.
 *
 * @param  {function} mainReducer reducer to call if action != MERGE_STORE_ACTION
 * @return {function}             a reducer that, on MERGE_STORE_ACTION action,
 *                                will return the action.data object merged
 *                                into the previous state, and the result
 *                                of calling mainReducer otherwise.
 */

function mergeStateReducer(mainReducer) {
  return (prevState, action) => {
    if (action.type === MERGE_STORE_ACTION) {
      return { ...prevState,
        ...action.data
      };
    }

    return mainReducer(prevState, action);
  };
}
/**
 * messageMiddleware - Middleware that looks for SentToMain type actions, and sends them if necessary
 */


const messageMiddleware = store => next => action => {
  const skipLocal = action.meta && action.meta.skipLocal;

  if (common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isSendToMain(action)) {
    RPMSendAsyncMessage(OUTGOING_MESSAGE_NAME, action);
  }

  if (!skipLocal) {
    next(action);
  }
};

const rehydrationMiddleware = ({
  getState
}) => {
  // NB: The parameter here is MiddlewareAPI which looks like a Store and shares
  // the same getState, so attached properties are accessible from the store.
  getState.didRehydrate = false;
  getState.didRequestInitialState = false;
  return next => action => {
    if (getState.didRehydrate || window.__FROM_STARTUP_CACHE__) {
      // Startup messages can be safely ignored by the about:home document
      // stored in the startup cache.
      if (window.__FROM_STARTUP_CACHE__ && action.meta && action.meta.isStartup) {
        return null;
      }

      return next(action);
    }

    const isMergeStoreAction = action.type === MERGE_STORE_ACTION;
    const isRehydrationRequest = action.type === common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].NEW_TAB_STATE_REQUEST;

    if (isRehydrationRequest) {
      getState.didRequestInitialState = true;
      return next(action);
    }

    if (isMergeStoreAction) {
      getState.didRehydrate = true;
      return next(action);
    } // If init happened after our request was made, we need to re-request


    if (getState.didRequestInitialState && action.type === common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].INIT) {
      return next(common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionCreators"].AlsoToMain({
        type: common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionTypes"].NEW_TAB_STATE_REQUEST
      }));
    }

    if (common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isBroadcastToContent(action) || common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isSendToOneContent(action) || common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isSendToPreloaded(action)) {
      // Note that actions received before didRehydrate will not be dispatched
      // because this could negatively affect preloading and the the state
      // will be replaced by rehydration anyway.
      return null;
    }

    return next(action);
  };
};
/**
 * This middleware queues up all the EARLY_QUEUED_ACTIONS until it receives
 * the first action from main. This is useful for those actions for main which
 * require higher reliability, i.e. the action will not be lost in the case
 * that it gets sent before the main is ready to receive it. Conversely, any
 * actions allowed early are accepted to be ignorable or re-sendable.
 */

const queueEarlyMessageMiddleware = ({
  getState
}) => {
  // NB: The parameter here is MiddlewareAPI which looks like a Store and shares
  // the same getState, so attached properties are accessible from the store.
  getState.earlyActionQueue = [];
  getState.receivedFromMain = false;
  return next => action => {
    if (getState.receivedFromMain) {
      next(action);
    } else if (common_Actions_jsm__WEBPACK_IMPORTED_MODULE_0__["actionUtils"].isFromMain(action)) {
      next(action);
      getState.receivedFromMain = true; // Sending out all the early actions as main is ready now

      getState.earlyActionQueue.forEach(next);
      getState.earlyActionQueue.length = 0;
    } else if (EARLY_QUEUED_ACTIONS.includes(action.type)) {
      getState.earlyActionQueue.push(action);
    } else {
      // Let any other type of action go through
      next(action);
    }
  };
};
/**
 * initStore - Create a store and listen for incoming actions
 *
 * @param  {object} reducers An object containing Redux reducers
 * @param  {object} intialState (optional) The initial state of the store, if desired
 * @return {object}          A redux store
 */

function initStore(reducers, initialState) {
  const store = Object(redux__WEBPACK_IMPORTED_MODULE_1__["createStore"])(mergeStateReducer(Object(redux__WEBPACK_IMPORTED_MODULE_1__["combineReducers"])(reducers)), initialState, global.RPMAddMessageListener && Object(redux__WEBPACK_IMPORTED_MODULE_1__["applyMiddleware"])(queueEarlyMessageMiddleware, rehydrationMiddleware, messageMiddleware));

  if (global.RPMAddMessageListener) {
    global.RPMAddMessageListener(INCOMING_MESSAGE_NAME, msg => {
      try {
        store.dispatch(msg.data);
      } catch (ex) {
        console.error("Content msg:", msg, "Dispatch error: ", ex); // eslint-disable-line no-console

        dump(`Content msg: ${JSON.stringify(msg)}\nDispatch error: ${ex}\n${ex.stack}`);
      }
    });
  }

  return store;
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(3)))

/***/ }),
/* 60 */
/***/ (function(module, exports) {

module.exports = Redux;

/***/ }),
/* 61 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(8);

// EXTERNAL MODULE: external "PropTypes"
var external_PropTypes_ = __webpack_require__(12);
var external_PropTypes_default = /*#__PURE__*/__webpack_require__.n(external_PropTypes_);

// CONCATENATED MODULE: ./node_modules/fluent-sequence/src/map_sync.js
/*
 * Synchronously map an identifier or an array of identifiers to the best
 * `FluentBundle` instance(s).
 *
 * @param {Iterable} iterable
 * @param {string|Array<string>} ids
 * @returns {FluentBundle|Array<FluentBundle>}
 */
function mapBundleSync(iterable, ids) {
  if (!Array.isArray(ids)) {
    return getBundleForId(iterable, ids);
  }

  return ids.map(
    id => getBundleForId(iterable, id)
  );
}

/*
 * Find the best `FluentBundle` with the translation for `id`.
 */
function getBundleForId(iterable, id) {
  for (const bundle of iterable) {
    if (bundle.hasMessage(id)) {
      return bundle;
    }
  }

  return null;
}

// CONCATENATED MODULE: ./node_modules/fluent-sequence/src/map_async.js
/*
 * Asynchronously map an identifier or an array of identifiers to the best
 * `FluentBundle` instance(s).
 *
 * @param {AsyncIterable} iterable
 * @param {string|Array<string>} ids
 * @returns {Promise<FluentBundle|Array<FluentBundle>>}
 */
async function mapBundleAsync(iterable, ids) {
  if (!Array.isArray(ids)) {
    for await (const bundle of iterable) {
      if (bundle.hasMessage(ids)) {
        return bundle;
      }
    }
  }

  let remainingCount = ids.length;
  const foundBundles = new Array(remainingCount).fill(null);

  for await (const bundle of iterable) {
    for (const [index, id] of ids.entries()) {
      if (!foundBundles[index] && bundle.hasMessage(id)) {
        foundBundles[index] = bundle;
        remainingCount--;
      }

      // Return early when all ids have been mapped to contexts.
      if (remainingCount === 0) {
        return foundBundles;
      }
    }
  }

  return foundBundles;
}

// CONCATENATED MODULE: ./node_modules/fluent-sequence/src/index.js
/*
 * @module fluent-sequence
 * @overview Manage ordered sequences of FluentBundles.
 */




// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_iterable.mjs
/*
 * Base CachedIterable class.
 */
class CachedIterable extends Array {
    /**
     * Create a `CachedIterable` instance from an iterable or, if another
     * instance of `CachedIterable` is passed, return it without any
     * modifications.
     *
     * @param {Iterable} iterable
     * @returns {CachedIterable}
     */
    static from(iterable) {
        if (iterable instanceof this) {
            return iterable;
        }

        return new this(iterable);
    }
}

// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_sync_iterable.mjs


/*
 * CachedSyncIterable caches the elements yielded by an iterable.
 *
 * It can be used to iterate over an iterable many times without depleting the
 * iterable.
 */
class cached_sync_iterable_CachedSyncIterable extends CachedIterable {
    /**
     * Create an `CachedSyncIterable` instance.
     *
     * @param {Iterable} iterable
     * @returns {CachedSyncIterable}
     */
    constructor(iterable) {
        super();

        if (Symbol.iterator in Object(iterable)) {
            this.iterator = iterable[Symbol.iterator]();
        } else {
            throw new TypeError("Argument must implement the iteration protocol.");
        }
    }

    [Symbol.iterator]() {
        const cached = this;
        let cur = 0;

        return {
            next() {
                if (cached.length <= cur) {
                    cached.push(cached.iterator.next());
                }
                return cached[cur++];
            }
        };
    }

    /**
     * This method allows user to consume the next element from the iterator
     * into the cache.
     *
     * @param {number} count - number of elements to consume
     */
    touchNext(count = 1) {
        let idx = 0;
        while (idx++ < count) {
            const last = this[this.length - 1];
            if (last && last.done) {
                break;
            }
            this.push(this.iterator.next());
        }
        // Return the last cached {value, done} object to allow the calling
        // code to decide if it needs to call touchNext again.
        return this[this.length - 1];
    }
}

// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_async_iterable.mjs


/*
 * CachedAsyncIterable caches the elements yielded by an async iterable.
 *
 * It can be used to iterate over an iterable many times without depleting the
 * iterable.
 */
class cached_async_iterable_CachedAsyncIterable extends CachedIterable {
    /**
     * Create an `CachedAsyncIterable` instance.
     *
     * @param {Iterable} iterable
     * @returns {CachedAsyncIterable}
     */
    constructor(iterable) {
        super();

        if (Symbol.asyncIterator in Object(iterable)) {
            this.iterator = iterable[Symbol.asyncIterator]();
        } else if (Symbol.iterator in Object(iterable)) {
            this.iterator = iterable[Symbol.iterator]();
        } else {
            throw new TypeError("Argument must implement the iteration protocol.");
        }
    }

    /**
     * Synchronous iterator over the cached elements.
     *
     * Return a generator object implementing the iterator protocol over the
     * cached elements of the original (async or sync) iterable.
     */
    [Symbol.iterator]() {
        const cached = this;
        let cur = 0;

        return {
            next() {
                if (cached.length === cur) {
                    return {value: undefined, done: true};
                }
                return cached[cur++];
            }
        };
    }

    /**
     * Asynchronous iterator caching the yielded elements.
     *
     * Elements yielded by the original iterable will be cached and available
     * synchronously. Returns an async generator object implementing the
     * iterator protocol over the elements of the original (async or sync)
     * iterable.
     */
    [Symbol.asyncIterator]() {
        const cached = this;
        let cur = 0;

        return {
            async next() {
                if (cached.length <= cur) {
                    cached.push(await cached.iterator.next());
                }
                return cached[cur++];
            }
        };
    }

    /**
     * This method allows user to consume the next element from the iterator
     * into the cache.
     *
     * @param {number} count - number of elements to consume
     */
    async touchNext(count = 1) {
        let idx = 0;
        while (idx++ < count) {
            const last = this[this.length - 1];
            if (last && last.done) {
                break;
            }
            this.push(await this.iterator.next());
        }
        // Return the last cached {value, done} object to allow the calling
        // code to decide if it needs to call touchNext again.
        return this[this.length - 1];
    }
}

// CONCATENATED MODULE: ./node_modules/cached-iterable/src/index.mjs



// CONCATENATED MODULE: ./node_modules/fluent-react/src/localization.js


/*
 * `ReactLocalization` handles translation formatting and fallback.
 *
 * The current negotiated fallback chain of languages is stored in the
 * `ReactLocalization` instance in form of an iterable of `FluentBundle`
 * instances.  This iterable is used to find the best existing translation for
 * a given identifier.
 *
 * `Localized` components must subscribe to the changes of the
 * `ReactLocalization`'s fallback chain.  When the fallback chain changes (the
 * `bundles` iterable is set anew), all subscribed compontent must relocalize.
 *
 * The `ReactLocalization` class instances are exposed to `Localized` elements
 * via the `LocalizationProvider` component.
 */

class localization_ReactLocalization {
  constructor(bundles) {
    this.bundles = cached_sync_iterable_CachedSyncIterable.from(bundles);
    this.subs = new Set();
  }
  /*
   * Subscribe a `Localized` component to changes of `bundles`.
   */


  subscribe(comp) {
    this.subs.add(comp);
  }
  /*
   * Unsubscribe a `Localized` component from `bundles` changes.
   */


  unsubscribe(comp) {
    this.subs.delete(comp);
  }
  /*
   * Set a new `bundles` iterable and trigger the retranslation.
   */


  setBundles(bundles) {
    this.bundles = cached_sync_iterable_CachedSyncIterable.from(bundles); // Update all subscribed Localized components.

    this.subs.forEach(comp => comp.relocalize());
  }

  getBundle(id) {
    return mapBundleSync(this.bundles, id);
  }
  /*
   * Find a translation by `id` and format it to a string using `args`.
   */


  getString(id, args, fallback) {
    const bundle = this.getBundle(id);

    if (bundle === null) {
      return fallback || id;
    }

    const msg = bundle.getMessage(id);
    return bundle.format(msg, args);
  }

}
function isReactLocalization(props, propName) {
  const prop = props[propName];

  if (prop instanceof localization_ReactLocalization) {
    return null;
  }

  return new Error(`The ${propName} context field must be an instance of ReactLocalization.`);
}
// CONCATENATED MODULE: ./node_modules/fluent-react/src/markup.js
/* eslint-env browser */
let cachedParseMarkup; // We use a function creator to make the reference to `document` lazy. At the
// same time, it's eager enough to throw in <LocalizationProvider> as soon as
// it's first mounted which reduces the risk of this error making it to the
// runtime without developers noticing it in development.

function createParseMarkup() {
  if (typeof document === "undefined") {
    // We can't use <template> to sanitize translations.
    throw new Error("`document` is undefined. Without it, translations cannot " + "be safely sanitized. Consult the documentation at " + "https://github.com/projectfluent/fluent.js/wiki/React-Overlays.");
  }

  if (!cachedParseMarkup) {
    const template = document.createElement("template");

    cachedParseMarkup = function parseMarkup(str) {
      template.innerHTML = str;
      return Array.from(template.content.childNodes);
    };
  }

  return cachedParseMarkup;
}
// CONCATENATED MODULE: ./node_modules/fluent-react/src/provider.js




/*
 * The Provider component for the `ReactLocalization` class.
 *
 * Exposes a `ReactLocalization` instance to all descendants via React's
 * context feature.  It makes translations available to all localizable
 * elements in the descendant's render tree without the need to pass them
 * explicitly.
 *
 *     <LocalizationProvider bundles={…}>
 *         …
 *     </LocalizationProvider>
 *
 * The `LocalizationProvider` component takes one prop: `bundles`.  It should
 * be an iterable of `FluentBundle` instances in order of the user's
 * preferred languages.  The `FluentBundle` instances will be used by
 * `ReactLocalization` to format translations.  If a translation is missing in
 * one instance, `ReactLocalization` will fall back to the next one.
 */

class provider_LocalizationProvider extends external_React_["Component"] {
  constructor(props) {
    super(props);
    const {
      bundles,
      parseMarkup
    } = props;

    if (bundles === undefined) {
      throw new Error("LocalizationProvider must receive the bundles prop.");
    }

    if (!bundles[Symbol.iterator]) {
      throw new Error("The bundles prop must be an iterable.");
    }

    this.l10n = new localization_ReactLocalization(bundles);
    this.parseMarkup = parseMarkup || createParseMarkup();
  }

  getChildContext() {
    return {
      l10n: this.l10n,
      parseMarkup: this.parseMarkup
    };
  }

  componentWillReceiveProps(next) {
    const {
      bundles
    } = next;

    if (bundles !== this.props.bundles) {
      this.l10n.setBundles(bundles);
    }
  }

  render() {
    return external_React_["Children"].only(this.props.children);
  }

}
provider_LocalizationProvider.childContextTypes = {
  l10n: isReactLocalization,
  parseMarkup: external_PropTypes_default.a.func
};
provider_LocalizationProvider.propTypes = {
  children: external_PropTypes_default.a.element.isRequired,
  bundles: isIterable,
  parseMarkup: external_PropTypes_default.a.func
};

function isIterable(props, propName, componentName) {
  const prop = props[propName];

  if (Symbol.iterator in Object(prop)) {
    return null;
  }

  return new Error(`The ${propName} prop supplied to ${componentName} must be an iterable.`);
}
// CONCATENATED MODULE: ./node_modules/fluent-react/src/with_localization.js


function withLocalization(Inner) {
  class WithLocalization extends external_React_["Component"] {
    componentDidMount() {
      const {
        l10n
      } = this.context;

      if (l10n) {
        l10n.subscribe(this);
      }
    }

    componentWillUnmount() {
      const {
        l10n
      } = this.context;

      if (l10n) {
        l10n.unsubscribe(this);
      }
    }
    /*
     * Rerender this component in a new language.
     */


    relocalize() {
      // When the `ReactLocalization`'s fallback chain changes, update the
      // component.
      this.forceUpdate();
    }
    /*
     * Find a translation by `id` and format it to a string using `args`.
     */


    getString(id, args, fallback) {
      const {
        l10n
      } = this.context;

      if (!l10n) {
        return fallback || id;
      }

      return l10n.getString(id, args, fallback);
    }

    render() {
      return /*#__PURE__*/Object(external_React_["createElement"])(Inner, Object.assign( // getString needs to be re-bound on updates to trigger a re-render
      {
        getString: (...args) => this.getString(...args)
      }, this.props));
    }

  }

  WithLocalization.displayName = `WithLocalization(${displayName(Inner)})`;
  WithLocalization.contextTypes = {
    l10n: isReactLocalization
  };
  return WithLocalization;
}

function displayName(component) {
  return component.displayName || component.name || "Component";
}
// CONCATENATED MODULE: ./node_modules/fluent-react/vendor/omittedCloseTags.js
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in this directory.
 */
// For HTML, certain tags should omit their close tag. We keep a whitelist for
// those special-case tags.
var omittedCloseTags = {
  area: true,
  base: true,
  br: true,
  col: true,
  embed: true,
  hr: true,
  img: true,
  input: true,
  keygen: true,
  link: true,
  meta: true,
  param: true,
  source: true,
  track: true,
  wbr: true // NOTE: menuitem's close tag should be omitted, but that causes problems.

};
/* harmony default export */ var vendor_omittedCloseTags = (omittedCloseTags);
// CONCATENATED MODULE: ./node_modules/fluent-react/vendor/voidElementTags.js
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in this directory.
 */
 // For HTML, certain tags cannot have children. This has the same purpose as
// `omittedCloseTags` except that `menuitem` should still have its closing tag.

var voidElementTags = {
  menuitem: true,
  ...vendor_omittedCloseTags
};
/* harmony default export */ var vendor_voidElementTags = (voidElementTags);
// CONCATENATED MODULE: ./node_modules/fluent-react/src/localized.js



 // Match the opening angle bracket (<) in HTML tags, and HTML entities like
// &amp;, &#0038;, &#x0026;.

const reMarkup = /<|&#?\w+;/;
/*
 * Prepare props passed to `Localized` for formatting.
 */

function toArguments(props) {
  const args = {};
  const elems = {};

  for (const [propname, propval] of Object.entries(props)) {
    if (propname.startsWith("$")) {
      const name = propname.substr(1);
      args[name] = propval;
    } else if ( /*#__PURE__*/Object(external_React_["isValidElement"])(propval)) {
      // We'll try to match localNames of elements found in the translation with
      // names of elements passed as props. localNames are always lowercase.
      const name = propname.toLowerCase();
      elems[name] = propval;
    }
  }

  return [args, elems];
}
/*
 * The `Localized` class renders its child with translated props and children.
 *
 *     <Localized id="hello-world">
 *         <p>{'Hello, world!'}</p>
 *     </Localized>
 *
 * The `id` prop should be the unique identifier of the translation.  Any
 * attributes found in the translation will be applied to the wrapped element.
 *
 * Arguments to the translation can be passed as `$`-prefixed props on
 * `Localized`.
 *
 *     <Localized id="hello-world" $username={name}>
 *         <p>{'Hello, { $username }!'}</p>
 *     </Localized>
 *
 *  It's recommended that the contents of the wrapped component be a string
 *  expression.  The string will be used as the ultimate fallback if no
 *  translation is available.  It also makes it easy to grep for strings in the
 *  source code.
 */


class localized_Localized extends external_React_["Component"] {
  componentDidMount() {
    const {
      l10n
    } = this.context;

    if (l10n) {
      l10n.subscribe(this);
    }
  }

  componentWillUnmount() {
    const {
      l10n
    } = this.context;

    if (l10n) {
      l10n.unsubscribe(this);
    }
  }
  /*
   * Rerender this component in a new language.
   */


  relocalize() {
    // When the `ReactLocalization`'s fallback chain changes, update the
    // component.
    this.forceUpdate();
  }

  render() {
    const {
      l10n,
      parseMarkup
    } = this.context;
    const {
      id,
      attrs,
      children: elem = null
    } = this.props; // Validate that the child element isn't an array

    if (Array.isArray(elem)) {
      throw new Error("<Localized/> expected to receive a single " + "React node child");
    }

    if (!l10n) {
      // Use the wrapped component as fallback.
      return elem;
    }

    const bundle = l10n.getBundle(id);

    if (bundle === null) {
      // Use the wrapped component as fallback.
      return elem;
    }

    const msg = bundle.getMessage(id);
    const [args, elems] = toArguments(this.props);
    const messageValue = bundle.format(msg, args); // Check if the fallback is a valid element -- if not then it's not
    // markup (e.g. nothing or a fallback string) so just use the
    // formatted message value

    if (! /*#__PURE__*/Object(external_React_["isValidElement"])(elem)) {
      return messageValue;
    } // The default is to forbid all message attributes. If the attrs prop exists
    // on the Localized instance, only set message attributes which have been
    // explicitly allowed by the developer.


    if (attrs && msg.attrs) {
      var localizedProps = {};

      for (const [name, allowed] of Object.entries(attrs)) {
        if (allowed && msg.attrs.hasOwnProperty(name)) {
          localizedProps[name] = bundle.format(msg.attrs[name], args);
        }
      }
    } // If the wrapped component is a known void element, explicitly dismiss the
    // message value and do not pass it to cloneElement in order to avoid the
    // "void element tags must neither have `children` nor use
    // `dangerouslySetInnerHTML`" error.


    if (elem.type in vendor_voidElementTags) {
      return /*#__PURE__*/Object(external_React_["cloneElement"])(elem, localizedProps);
    } // If the message has a null value, we're only interested in its attributes.
    // Do not pass the null value to cloneElement as it would nuke all children
    // of the wrapped component.


    if (messageValue === null) {
      return /*#__PURE__*/Object(external_React_["cloneElement"])(elem, localizedProps);
    } // If the message value doesn't contain any markup nor any HTML entities,
    // insert it as the only child of the wrapped component.


    if (!reMarkup.test(messageValue)) {
      return /*#__PURE__*/Object(external_React_["cloneElement"])(elem, localizedProps, messageValue);
    } // If the message contains markup, parse it and try to match the children
    // found in the translation with the props passed to this Localized.


    const translationNodes = parseMarkup(messageValue);
    const translatedChildren = translationNodes.map(childNode => {
      if (childNode.nodeType === childNode.TEXT_NODE) {
        return childNode.textContent;
      } // If the child is not expected just take its textContent.


      if (!elems.hasOwnProperty(childNode.localName)) {
        return childNode.textContent;
      }

      const sourceChild = elems[childNode.localName]; // If the element passed as a prop to <Localized> is a known void element,
      // explicitly dismiss any textContent which might have accidentally been
      // defined in the translation to prevent the "void element tags must not
      // have children" error.

      if (sourceChild.type in vendor_voidElementTags) {
        return sourceChild;
      } // TODO Protect contents of elements wrapped in <Localized>
      // https://github.com/projectfluent/fluent.js/issues/184
      // TODO  Control localizable attributes on elements passed as props
      // https://github.com/projectfluent/fluent.js/issues/185


      return /*#__PURE__*/Object(external_React_["cloneElement"])(sourceChild, null, childNode.textContent);
    });
    return /*#__PURE__*/Object(external_React_["cloneElement"])(elem, localizedProps, ...translatedChildren);
  }

}
localized_Localized.contextTypes = {
  l10n: isReactLocalization,
  parseMarkup: external_PropTypes_default.a.func
};
localized_Localized.propTypes = {
  children: external_PropTypes_default.a.node
};
// CONCATENATED MODULE: ./node_modules/fluent-react/src/index.js
/* concated harmony reexport LocalizationProvider */__webpack_require__.d(__webpack_exports__, "LocalizationProvider", function() { return provider_LocalizationProvider; });
/* concated harmony reexport withLocalization */__webpack_require__.d(__webpack_exports__, "withLocalization", function() { return withLocalization; });
/* concated harmony reexport Localized */__webpack_require__.d(__webpack_exports__, "Localized", function() { return localized_Localized; });
/* concated harmony reexport ReactLocalization */__webpack_require__.d(__webpack_exports__, "ReactLocalization", function() { return localization_ReactLocalization; });
/* concated harmony reexport isReactLocalization */__webpack_require__.d(__webpack_exports__, "isReactLocalization", function() { return isReactLocalization; });
/*
 * @module fluent-react
 * @overview
 *

 * `fluent-react` provides React bindings for Fluent.  It takes advantage of
 * React's Components system and the virtual DOM.  Translations are exposed to
 * components via the provider pattern.
 *
 *     <LocalizationProvider bundles={…}>
 *         <Localized id="hello-world">
 *             <p>{'Hello, world!'}</p>
 *         </Localized>
 *     </LocalizationProvider>
 *
 * Consult the documentation of the `LocalizationProvider` and the `Localized`
 * components for more information.
 */





/***/ }),
/* 62 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(8);
var external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);

// CONCATENATED MODULE: ./content-src/asrouter/components/Button/Button.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const ALLOWED_STYLE_TAGS = ["color", "backgroundColor"];
const Button = props => {
  const style = {}; // Add allowed style tags from props, e.g. props.color becomes style={color: props.color}

  for (const tag of ALLOWED_STYLE_TAGS) {
    if (typeof props[tag] !== "undefined") {
      style[tag] = props[tag];
    }
  } // remove border if bg is set to something custom


  if (style.backgroundColor) {
    style.border = "0";
  }

  return /*#__PURE__*/external_React_default.a.createElement("button", {
    onClick: props.onClick,
    className: props.className || "ASRouterButton secondary",
    style: style
  }, props.children);
};
// CONCATENATED MODULE: ./content-src/asrouter/components/ConditionalWrapper/ConditionalWrapper.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
// lifted from https://gist.github.com/kitze/23d82bb9eb0baabfd03a6a720b1d637f
const ConditionalWrapper = ({
  condition,
  wrap,
  children
}) => condition && wrap ? wrap(children) : children;

/* harmony default export */ var ConditionalWrapper_ConditionalWrapper = (ConditionalWrapper);
// EXTERNAL MODULE: ./node_modules/fluent-react/src/index.js + 14 modules
var src = __webpack_require__(61);

// EXTERNAL MODULE: ./content-src/asrouter/rich-text-strings.js + 7 modules
var rich_text_strings = __webpack_require__(63);

// CONCATENATED MODULE: ./content-src/asrouter/template-utils.js
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
function safeURI(url) {
  if (!url) {
    return "";
  }

  const {
    protocol
  } = new URL(url);
  const isAllowed = ["http:", "https:", "data:", "resource:", "chrome:"].includes(protocol);

  if (!isAllowed) {
    console.warn(`The protocol ${protocol} is not allowed for template URLs.`); // eslint-disable-line no-console
  }

  return isAllowed ? url : "";
}
// CONCATENATED MODULE: ./content-src/asrouter/components/RichText/RichText.jsx
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



 // Elements allowed in snippet content

const ALLOWED_TAGS = {
  b: /*#__PURE__*/external_React_default.a.createElement("b", null),
  i: /*#__PURE__*/external_React_default.a.createElement("i", null),
  u: /*#__PURE__*/external_React_default.a.createElement("u", null),
  strong: /*#__PURE__*/external_React_default.a.createElement("strong", null),
  em: /*#__PURE__*/external_React_default.a.createElement("em", null),
  br: /*#__PURE__*/external_React_default.a.createElement("br", null)
};
/**
 * Transform an object (tag name: {url}) into (tag name: anchor) where the url
 * is used as href, in order to render links inside a Fluent.Localized component.
 */

function convertLinks(links, sendClick, doNotAutoBlock, openNewWindow = false) {
  if (links) {
    return Object.keys(links).reduce((acc, linkTag) => {
      const {
        action
      } = links[linkTag]; // Setting the value to false will not include the attribute in the anchor

      const url = action ? false : safeURI(links[linkTag].url);
      acc[linkTag] =
      /*#__PURE__*/
      // eslint was getting a false positive caused by the dynamic injection
      // of content.
      // eslint-disable-next-line jsx-a11y/anchor-has-content
      external_React_default.a.createElement("a", {
        href: url,
        target: openNewWindow ? "_blank" : "",
        "data-metric": links[linkTag].metric,
        "data-action": action,
        "data-args": links[linkTag].args,
        "data-do_not_autoblock": doNotAutoBlock,
        "data-entrypoint_name": links[linkTag].entrypoint_name,
        "data-entrypoint_value": links[linkTag].entrypoint_value,
        rel: "noreferrer",
        onClick: sendClick
      });
      return acc;
    }, {});
  }

  return null;
}
/**
 * Message wrapper used to sanitize markup and render HTML.
 */

function RichText(props) {
  if (!rich_text_strings["RICH_TEXT_KEYS"].includes(props.localization_id)) {
    throw new Error(`ASRouter: ${props.localization_id} is not a valid rich text property. If you want it to be processed, you need to add it to asrouter/rich-text-strings.js`);
  }

  return /*#__PURE__*/external_React_default.a.createElement(src["Localized"], _extends({
    id: props.localization_id
  }, ALLOWED_TAGS, props.customElements, convertLinks(props.links, props.sendClick, props.doNotAutoBlock, props.openNewWindow)), /*#__PURE__*/external_React_default.a.createElement("span", null, props.text));
}
// CONCATENATED MODULE: ./content-src/asrouter/components/SnippetBase/SnippetBase.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class SnippetBase_SnippetBase extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onBlockClicked = this.onBlockClicked.bind(this);
    this.onDismissClicked = this.onDismissClicked.bind(this);
    this.setBlockButtonRef = this.setBlockButtonRef.bind(this);
    this.onBlockButtonMouseEnter = this.onBlockButtonMouseEnter.bind(this);
    this.onBlockButtonMouseLeave = this.onBlockButtonMouseLeave.bind(this);
    this.state = {
      blockButtonHover: false
    };
  }

  componentDidMount() {
    if (this.blockButtonRef) {
      this.blockButtonRef.addEventListener("mouseenter", this.onBlockButtonMouseEnter);
      this.blockButtonRef.addEventListener("mouseleave", this.onBlockButtonMouseLeave);
    }
  }

  componentWillUnmount() {
    if (this.blockButtonRef) {
      this.blockButtonRef.removeEventListener("mouseenter", this.onBlockButtonMouseEnter);
      this.blockButtonRef.removeEventListener("mouseleave", this.onBlockButtonMouseLeave);
    }
  }

  setBlockButtonRef(element) {
    this.blockButtonRef = element;
  }

  onBlockButtonMouseEnter() {
    this.setState({
      blockButtonHover: true
    });
  }

  onBlockButtonMouseLeave() {
    this.setState({
      blockButtonHover: false
    });
  }

  onBlockClicked() {
    if (this.props.provider !== "preview") {
      this.props.sendUserActionTelemetry({
        event: "BLOCK",
        id: this.props.UISurface
      });
    }

    this.props.onBlock();
  }

  onDismissClicked() {
    if (this.props.provider !== "preview") {
      this.props.sendUserActionTelemetry({
        event: "DISMISS",
        id: this.props.UISurface
      });
    }

    this.props.onDismiss();
  }

  renderDismissButton() {
    if (this.props.footerDismiss) {
      return /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "footer"
      }, /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "footer-content"
      }, /*#__PURE__*/external_React_default.a.createElement("button", {
        className: "ASRouterButton secondary",
        onClick: this.onDismissClicked
      }, this.props.content.scene2_dismiss_button_text)));
    }

    const label = this.props.content.block_button_text || "Remove this";
    return /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "blockButton",
      title: label,
      "aria-label": label,
      onClick: this.onBlockClicked,
      ref: this.setBlockButtonRef
    });
  }

  render() {
    const {
      props
    } = this;
    const {
      blockButtonHover
    } = this.state;
    const containerClassName = `SnippetBaseContainer${props.className ? ` ${props.className}` : ""}${blockButtonHover ? " active" : ""}`;
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: containerClassName,
      style: this.props.textStyle
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "innerWrapper"
    }, props.children), this.renderDismissButton());
  }

}
// CONCATENATED MODULE: ./content-src/asrouter/templates/SimpleSnippet/SimpleSnippet.jsx
function SimpleSnippet_extends() { SimpleSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return SimpleSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






const DEFAULT_ICON_PATH = "chrome://branding/content/icon64.png"; // Alt text placeholder in case the prop from the server isn't available

const ICON_ALT_TEXT = "";
class SimpleSnippet_SimpleSnippet extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onButtonClick = this.onButtonClick.bind(this);
  }

  onButtonClick() {
    if (this.props.provider !== "preview") {
      this.props.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        id: this.props.UISurface
      });
    }

    const {
      button_url,
      button_entrypoint_value,
      button_entrypoint_name
    } = this.props.content; // If button_url is defined handle it as OPEN_URL action

    const type = this.props.content.button_action || button_url && "OPEN_URL"; // Assign the snippet referral for the action

    const entrypoint = button_entrypoint_name ? new URLSearchParams([[button_entrypoint_name, button_entrypoint_value]]).toString() : button_entrypoint_value;
    this.props.onAction({
      type,
      data: {
        args: this.props.content.button_action_args || button_url,
        ...(entrypoint && {
          entrypoint
        })
      }
    });

    if (!this.props.content.do_not_autoblock) {
      this.props.onBlock();
    }
  }

  _shouldRenderButton() {
    return this.props.content.button_action || this.props.onButtonClick || this.props.content.button_url;
  }

  renderTitle() {
    const {
      title
    } = this.props.content;
    return title ? /*#__PURE__*/external_React_default.a.createElement("h3", {
      className: `title ${this._shouldRenderButton() ? "title-inline" : ""}`
    }, this.renderTitleIcon(), " ", title) : null;
  }

  renderTitleIcon() {
    const titleIconLight = safeURI(this.props.content.title_icon);
    const titleIconDark = safeURI(this.props.content.title_icon_dark_theme || this.props.content.title_icon);

    if (!titleIconLight) {
      return null;
    }

    return /*#__PURE__*/external_React_default.a.createElement(external_React_default.a.Fragment, null, /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "titleIcon icon-light-theme",
      style: {
        backgroundImage: `url("${titleIconLight}")`
      }
    }), /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "titleIcon icon-dark-theme",
      style: {
        backgroundImage: `url("${titleIconDark}")`
      }
    }));
  }

  renderButton() {
    const {
      props
    } = this;

    if (!this._shouldRenderButton()) {
      return null;
    }

    return /*#__PURE__*/external_React_default.a.createElement(Button, {
      onClick: props.onButtonClick || this.onButtonClick,
      color: props.content.button_color,
      backgroundColor: props.content.button_background_color
    }, props.content.button_label);
  }

  renderText() {
    const {
      props
    } = this;
    return /*#__PURE__*/external_React_default.a.createElement(RichText, {
      text: props.content.text,
      customElements: this.props.customElements,
      localization_id: "text",
      links: props.content.links,
      sendClick: props.sendClick
    });
  }

  wrapSectionHeader(url) {
    return function (children) {
      return /*#__PURE__*/external_React_default.a.createElement("a", {
        href: url
      }, children);
    };
  }

  wrapSnippetContent(children) {
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "innerContentWrapper"
    }, children);
  }

  renderSectionHeader() {
    const {
      props
    } = this; // an icon and text must be specified to render the section header

    if (props.content.section_title_icon && props.content.section_title_text) {
      const sectionTitleIconLight = safeURI(props.content.section_title_icon);
      const sectionTitleIconDark = safeURI(props.content.section_title_icon_dark_theme || props.content.section_title_icon);
      const sectionTitleURL = props.content.section_title_url;
      return /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "section-header"
      }, /*#__PURE__*/external_React_default.a.createElement("h3", {
        className: "section-title"
      }, /*#__PURE__*/external_React_default.a.createElement(ConditionalWrapper_ConditionalWrapper, {
        condition: sectionTitleURL,
        wrap: this.wrapSectionHeader(sectionTitleURL)
      }, /*#__PURE__*/external_React_default.a.createElement("span", {
        className: "icon icon-small-spacer icon-light-theme",
        style: {
          backgroundImage: `url("${sectionTitleIconLight}")`
        }
      }), /*#__PURE__*/external_React_default.a.createElement("span", {
        className: "icon icon-small-spacer icon-dark-theme",
        style: {
          backgroundImage: `url("${sectionTitleIconDark}")`
        }
      }), /*#__PURE__*/external_React_default.a.createElement("span", {
        className: "section-title-text"
      }, props.content.section_title_text))));
    }

    return null;
  }

  render() {
    const {
      props
    } = this;
    const sectionHeader = this.renderSectionHeader();
    let className = "SimpleSnippet";

    if (props.className) {
      className += ` ${props.className}`;
    }

    if (props.content.tall) {
      className += " tall";
    }

    if (sectionHeader) {
      className += " has-section-header";
    }

    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "snippet-hover-wrapper"
    }, /*#__PURE__*/external_React_default.a.createElement(SnippetBase_SnippetBase, SimpleSnippet_extends({}, props, {
      className: className,
      textStyle: this.props.textStyle
    }), sectionHeader, /*#__PURE__*/external_React_default.a.createElement(ConditionalWrapper_ConditionalWrapper, {
      condition: sectionHeader,
      wrap: this.wrapSnippetContent
    }, /*#__PURE__*/external_React_default.a.createElement("img", {
      src: safeURI(props.content.icon) || DEFAULT_ICON_PATH,
      className: "icon icon-light-theme",
      alt: props.content.icon_alt_text || ICON_ALT_TEXT
    }), /*#__PURE__*/external_React_default.a.createElement("img", {
      src: safeURI(props.content.icon_dark_theme || props.content.icon) || DEFAULT_ICON_PATH,
      className: "icon icon-dark-theme",
      alt: props.content.icon_alt_text || ICON_ALT_TEXT
    }), /*#__PURE__*/external_React_default.a.createElement("div", null, this.renderTitle(), " ", /*#__PURE__*/external_React_default.a.createElement("p", {
      className: "body"
    }, this.renderText()), this.props.extraContent), /*#__PURE__*/external_React_default.a.createElement("div", null, this.renderButton()))));
  }

}
// CONCATENATED MODULE: ./content-src/asrouter/templates/EOYSnippet/EOYSnippet.jsx
function EOYSnippet_extends() { EOYSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return EOYSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class EOYSnippet_EOYSnippetBase extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.handleSubmit = this.handleSubmit.bind(this);
  }
  /**
   * setFrequencyValue - `frequency` form parameter value should be `monthly`
   *                     if `monthly-checkbox` is selected or `single` otherwise
   */


  setFrequencyValue() {
    const frequencyCheckbox = this.refs.form.querySelector("#monthly-checkbox");

    if (frequencyCheckbox.checked) {
      this.refs.form.querySelector("[name='frequency']").value = "monthly";
    }
  }

  handleSubmit(event) {
    event.preventDefault();
    this.props.sendClick(event);
    this.setFrequencyValue();

    if (!this.props.content.do_not_autoblock) {
      this.props.onBlock();
    }

    this.refs.form.submit();
  }

  renderDonations() {
    const fieldNames = ["first", "second", "third", "fourth"];
    const numberFormat = new Intl.NumberFormat(this.props.content.locale || navigator.language, {
      style: "currency",
      currency: this.props.content.currency_code,
      minimumFractionDigits: 0
    }); // Default to `second` button

    const {
      selected_button
    } = this.props.content;
    const btnStyle = {
      color: this.props.content.button_color,
      backgroundColor: this.props.content.button_background_color
    };
    const donationURLParams = [];
    const paramsStartIndex = this.props.content.donation_form_url.indexOf("?");

    for (const entry of new URLSearchParams(this.props.content.donation_form_url.slice(paramsStartIndex)).entries()) {
      donationURLParams.push(entry);
    }

    return /*#__PURE__*/external_React_default.a.createElement("form", {
      className: "EOYSnippetForm",
      action: this.props.content.donation_form_url,
      method: this.props.form_method,
      onSubmit: this.handleSubmit,
      "data-metric": "EOYSnippetForm",
      ref: "form"
    }, donationURLParams.map(([key, value], idx) => /*#__PURE__*/external_React_default.a.createElement("input", {
      type: "hidden",
      name: key,
      value: value,
      key: idx
    })), fieldNames.map((field, idx) => {
      const button_name = `donation_amount_${field}`;
      const amount = this.props.content[button_name];
      return /*#__PURE__*/external_React_default.a.createElement(external_React_default.a.Fragment, {
        key: idx
      }, /*#__PURE__*/external_React_default.a.createElement("input", {
        type: "radio",
        name: "amount",
        value: amount,
        id: field,
        defaultChecked: button_name === selected_button
      }), /*#__PURE__*/external_React_default.a.createElement("label", {
        htmlFor: field,
        className: "donation-amount"
      }, numberFormat.format(amount)));
    }), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "monthly-checkbox-container"
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      id: "monthly-checkbox",
      type: "checkbox"
    }), /*#__PURE__*/external_React_default.a.createElement("label", {
      htmlFor: "monthly-checkbox"
    }, this.props.content.monthly_checkbox_label_text)), /*#__PURE__*/external_React_default.a.createElement("input", {
      type: "hidden",
      name: "frequency",
      value: "single"
    }), /*#__PURE__*/external_React_default.a.createElement("input", {
      type: "hidden",
      name: "currency",
      value: this.props.content.currency_code
    }), /*#__PURE__*/external_React_default.a.createElement("input", {
      type: "hidden",
      name: "presets",
      value: fieldNames.map(field => this.props.content[`donation_amount_${field}`])
    }), /*#__PURE__*/external_React_default.a.createElement("button", {
      style: btnStyle,
      type: "submit",
      className: "ASRouterButton primary donation-form-url"
    }, this.props.content.button_label));
  }

  render() {
    const textStyle = {
      color: this.props.content.text_color,
      backgroundColor: this.props.content.background_color
    };
    const customElement = /*#__PURE__*/external_React_default.a.createElement("em", {
      style: {
        backgroundColor: this.props.content.highlight_color
      }
    });
    return /*#__PURE__*/external_React_default.a.createElement(SimpleSnippet_SimpleSnippet, EOYSnippet_extends({}, this.props, {
      className: this.props.content.test,
      customElements: {
        em: customElement
      },
      textStyle: textStyle,
      extraContent: this.renderDonations()
    }));
  }

}

const EOYSnippet = props => {
  const extendedContent = {
    monthly_checkbox_label_text: "Make my donation monthly",
    locale: "en-US",
    currency_code: "usd",
    selected_button: "donation_amount_second",
    ...props.content
  };
  return /*#__PURE__*/external_React_default.a.createElement(EOYSnippet_EOYSnippetBase, EOYSnippet_extends({}, props, {
    content: extendedContent,
    form_method: "GET"
  }));
};
// CONCATENATED MODULE: ./content-src/asrouter/templates/SubmitFormSnippet/SubmitFormSnippet.jsx
function SubmitFormSnippet_extends() { SubmitFormSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return SubmitFormSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






 // Alt text placeholder in case the prop from the server isn't available

const SubmitFormSnippet_ICON_ALT_TEXT = "";
class SubmitFormSnippet_SubmitFormSnippet extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.expandSnippet = this.expandSnippet.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
    this.handleSubmitAttempt = this.handleSubmitAttempt.bind(this);
    this.onInputChange = this.onInputChange.bind(this);
    this.state = {
      expanded: false,
      submitAttempted: false,
      signupSubmitted: false,
      signupSuccess: false,
      disableForm: false
    };
  }

  handleSubmitAttempt() {
    if (!this.state.submitAttempted) {
      this.setState({
        submitAttempted: true
      });
    }
  }

  async handleSubmit(event) {
    let json;

    if (this.state.disableForm) {
      return;
    }

    event.preventDefault();
    this.setState({
      disableForm: true
    });
    this.props.sendUserActionTelemetry({
      event: "CLICK_BUTTON",
      event_context: "conversion-subscribe-activation",
      id: "NEWTAB_FOOTER_BAR_CONTENT"
    });

    if (this.props.form_method.toUpperCase() === "GET") {
      this.props.onBlock({
        preventDismiss: true
      });
      this.refs.form.submit();
      return;
    }

    const {
      url,
      formData
    } = this.props.processFormData ? this.props.processFormData(this.refs.mainInput, this.props) : {
      url: this.refs.form.action,
      formData: new FormData(this.refs.form)
    };

    try {
      const fetchRequest = new Request(url, {
        body: formData,
        method: "POST",
        credentials: "omit"
      });
      const response = await fetch(fetchRequest); // eslint-disable-line fetch-options/no-fetch-credentials

      json = await response.json();
    } catch (err) {
      console.log(err); // eslint-disable-line no-console
    }

    if (json && json.status === "ok") {
      this.setState({
        signupSuccess: true,
        signupSubmitted: true
      });

      if (!this.props.content.do_not_autoblock) {
        this.props.onBlock({
          preventDismiss: true
        });
      }

      this.props.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        event_context: "subscribe-success",
        id: "NEWTAB_FOOTER_BAR_CONTENT"
      });
    } else {
      // eslint-disable-next-line no-console
      console.error("There was a problem submitting the form", json || "[No JSON response]");
      this.setState({
        signupSuccess: false,
        signupSubmitted: true
      });
      this.props.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        event_context: "subscribe-error",
        id: "NEWTAB_FOOTER_BAR_CONTENT"
      });
    }

    this.setState({
      disableForm: false
    });
  }

  expandSnippet() {
    this.props.sendUserActionTelemetry({
      event: "CLICK_BUTTON",
      event_context: "scene1-button-learn-more",
      id: this.props.UISurface
    });
    this.setState({
      expanded: true,
      signupSuccess: false,
      signupSubmitted: false
    });
  }

  renderHiddenFormInputs() {
    const {
      hidden_inputs
    } = this.props.content;

    if (!hidden_inputs) {
      return null;
    }

    return Object.keys(hidden_inputs).map((key, idx) => /*#__PURE__*/external_React_default.a.createElement("input", {
      key: idx,
      type: "hidden",
      name: key,
      value: hidden_inputs[key]
    }));
  }

  renderDisclaimer() {
    const {
      content
    } = this.props;

    if (!content.scene2_disclaimer_html) {
      return null;
    }

    return /*#__PURE__*/external_React_default.a.createElement("p", {
      className: "disclaimerText"
    }, /*#__PURE__*/external_React_default.a.createElement(RichText, {
      text: content.scene2_disclaimer_html,
      localization_id: "disclaimer_html",
      links: content.links,
      doNotAutoBlock: true,
      openNewWindow: true,
      sendClick: this.props.sendClick
    }));
  }

  renderFormPrivacyNotice() {
    const {
      content
    } = this.props;

    if (!content.scene2_privacy_html) {
      return null;
    }

    return /*#__PURE__*/external_React_default.a.createElement("p", {
      className: "privacyNotice"
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      type: "checkbox",
      id: "id_privacy",
      name: "privacy",
      required: "required"
    }), /*#__PURE__*/external_React_default.a.createElement("label", {
      htmlFor: "id_privacy"
    }, /*#__PURE__*/external_React_default.a.createElement(RichText, {
      text: content.scene2_privacy_html,
      localization_id: "privacy_html",
      links: content.links,
      doNotAutoBlock: true,
      openNewWindow: true,
      sendClick: this.props.sendClick
    })));
  }

  renderSignupSubmitted() {
    const {
      content
    } = this.props;
    const isSuccess = this.state.signupSuccess;
    const successTitle = isSuccess && content.success_title;
    const bodyText = isSuccess ? {
      success_text: content.success_text
    } : {
      error_text: content.error_text
    };
    const retryButtonText = content.retry_button_label;
    return /*#__PURE__*/external_React_default.a.createElement(SnippetBase_SnippetBase, this.props, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "submissionStatus"
    }, successTitle ? /*#__PURE__*/external_React_default.a.createElement("h2", {
      className: "submitStatusTitle"
    }, successTitle) : null, /*#__PURE__*/external_React_default.a.createElement("p", null, /*#__PURE__*/external_React_default.a.createElement(RichText, SubmitFormSnippet_extends({}, bodyText, {
      localization_id: isSuccess ? "success_text" : "error_text"
    })), isSuccess ? null : /*#__PURE__*/external_React_default.a.createElement(Button, {
      onClick: this.expandSnippet
    }, retryButtonText))));
  }

  onInputChange(event) {
    if (!this.props.validateInput) {
      return;
    }

    const hasError = this.props.validateInput(event.target.value, this.props.content);
    event.target.setCustomValidity(hasError);
  }

  wrapSectionHeader(url) {
    return function (children) {
      return /*#__PURE__*/external_React_default.a.createElement("a", {
        href: url
      }, children);
    };
  }

  renderInput() {
    const placholder = this.props.content.scene2_email_placeholder_text || this.props.content.scene2_input_placeholder;
    return /*#__PURE__*/external_React_default.a.createElement("input", {
      ref: "mainInput",
      type: this.props.inputType || "email",
      className: `mainInput${this.state.submitAttempted ? "" : " clean"}`,
      name: "email",
      required: true,
      placeholder: placholder,
      onChange: this.props.validateInput ? this.onInputChange : null
    });
  }

  renderForm() {
    return /*#__PURE__*/external_React_default.a.createElement("form", {
      action: this.props.form_action,
      method: this.props.form_method,
      onSubmit: this.handleSubmit,
      ref: "form"
    }, this.renderHiddenFormInputs(), /*#__PURE__*/external_React_default.a.createElement("div", null, this.renderInput(), /*#__PURE__*/external_React_default.a.createElement("button", {
      type: "submit",
      className: "ASRouterButton primary",
      onClick: this.handleSubmitAttempt,
      ref: "formSubmitBtn"
    }, this.props.content.scene2_button_label)), this.renderFormPrivacyNotice() || this.renderDisclaimer());
  }

  renderScene2Icon() {
    const {
      content
    } = this.props;

    if (!content.scene2_icon) {
      return null;
    }

    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "scene2Icon"
    }, /*#__PURE__*/external_React_default.a.createElement("img", {
      src: safeURI(content.scene2_icon),
      className: "icon-light-theme",
      alt: content.scene2_icon_alt_text || SubmitFormSnippet_ICON_ALT_TEXT
    }), /*#__PURE__*/external_React_default.a.createElement("img", {
      src: safeURI(content.scene2_icon_dark_theme || content.scene2_icon),
      className: "icon-dark-theme",
      alt: content.scene2_icon_alt_text || SubmitFormSnippet_ICON_ALT_TEXT
    }));
  }

  renderSignupView() {
    const {
      content
    } = this.props;
    const containerClass = `SubmitFormSnippet ${this.props.className}`;
    return /*#__PURE__*/external_React_default.a.createElement(SnippetBase_SnippetBase, SubmitFormSnippet_extends({}, this.props, {
      className: containerClass,
      footerDismiss: true
    }), this.renderScene2Icon(), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "message"
    }, /*#__PURE__*/external_React_default.a.createElement("p", null, content.scene2_title && /*#__PURE__*/external_React_default.a.createElement("h3", {
      className: "scene2Title"
    }, content.scene2_title), " ", content.scene2_text && /*#__PURE__*/external_React_default.a.createElement(RichText, {
      scene2_text: content.scene2_text,
      localization_id: "scene2_text"
    }))), this.renderForm());
  }

  renderSectionHeader() {
    const {
      props
    } = this; // an icon and text must be specified to render the section header

    if (props.content.section_title_icon && props.content.section_title_text) {
      const sectionTitleIconLight = safeURI(props.content.section_title_icon);
      const sectionTitleIconDark = safeURI(props.content.section_title_icon_dark_theme || props.content.section_title_icon);
      const sectionTitleURL = props.content.section_title_url;
      return /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "section-header"
      }, /*#__PURE__*/external_React_default.a.createElement("h3", {
        className: "section-title"
      }, /*#__PURE__*/external_React_default.a.createElement(ConditionalWrapper_ConditionalWrapper, {
        wrap: this.wrapSectionHeader(sectionTitleURL),
        condition: sectionTitleURL
      }, /*#__PURE__*/external_React_default.a.createElement("span", {
        className: "icon icon-small-spacer icon-light-theme",
        style: {
          backgroundImage: `url("${sectionTitleIconLight}")`
        }
      }), /*#__PURE__*/external_React_default.a.createElement("span", {
        className: "icon icon-small-spacer icon-dark-theme",
        style: {
          backgroundImage: `url("${sectionTitleIconDark}")`
        }
      }), /*#__PURE__*/external_React_default.a.createElement("span", {
        className: "section-title-text"
      }, props.content.section_title_text))));
    }

    return null;
  }

  renderSignupViewAlt() {
    const {
      content
    } = this.props;
    const containerClass = `SubmitFormSnippet ${this.props.className} scene2Alt`;
    return /*#__PURE__*/external_React_default.a.createElement(SnippetBase_SnippetBase, SubmitFormSnippet_extends({}, this.props, {
      className: containerClass // Don't show bottom dismiss button
      ,
      footerDismiss: false
    }), this.renderSectionHeader(), this.renderScene2Icon(), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "message"
    }, /*#__PURE__*/external_React_default.a.createElement("p", null, content.scene2_text && /*#__PURE__*/external_React_default.a.createElement(RichText, {
      scene2_text: content.scene2_text,
      localization_id: "scene2_text"
    })), this.renderForm()));
  }

  getFirstSceneContent() {
    return Object.keys(this.props.content).filter(key => key.includes("scene1")).reduce((acc, key) => {
      acc[key.substr(7)] = this.props.content[key];
      return acc;
    }, {});
  }

  render() {
    const content = { ...this.props.content,
      ...this.getFirstSceneContent()
    };

    if (this.state.signupSubmitted) {
      return this.renderSignupSubmitted();
    } // Render only scene 2 (signup view). Must check before `renderSignupView`
    // to catch the Failure/Try again scenario where we want to return and render
    // the scene again.


    if (this.props.expandedAlt) {
      return this.renderSignupViewAlt();
    }

    if (this.state.expanded) {
      return this.renderSignupView();
    }

    return /*#__PURE__*/external_React_default.a.createElement(SimpleSnippet_SimpleSnippet, SubmitFormSnippet_extends({}, this.props, {
      content: content,
      onButtonClick: this.expandSnippet
    }));
  }

}
// CONCATENATED MODULE: ./content-src/asrouter/templates/FXASignupSnippet/FXASignupSnippet.jsx
function FXASignupSnippet_extends() { FXASignupSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return FXASignupSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const FXASignupSnippet = props => {
  const userAgent = window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);
  const firefox_version = userAgent ? parseInt(userAgent[1], 10) : 0;
  const extendedContent = {
    scene1_button_label: "Learn more",
    retry_button_label: "Try again",
    scene2_email_placeholder_text: "Your email here",
    scene2_button_label: "Sign me up",
    scene2_dismiss_button_text: "Dismiss",
    ...props.content,
    hidden_inputs: {
      action: "email",
      context: "fx_desktop_v3",
      entrypoint: "snippets",
      utm_source: "snippet",
      utm_content: firefox_version,
      utm_campaign: props.content.utm_campaign,
      utm_term: props.content.utm_term,
      ...props.content.hidden_inputs
    }
  };
  return /*#__PURE__*/external_React_default.a.createElement(SubmitFormSnippet_SubmitFormSnippet, FXASignupSnippet_extends({}, props, {
    content: extendedContent,
    form_action: "https://accounts.firefox.com/",
    form_method: "GET"
  }));
};
// CONCATENATED MODULE: ./content-src/asrouter/templates/NewsletterSnippet/NewsletterSnippet.jsx
function NewsletterSnippet_extends() { NewsletterSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return NewsletterSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const NewsletterSnippet = props => {
  const extendedContent = {
    scene1_button_label: "Learn more",
    retry_button_label: "Try again",
    scene2_email_placeholder_text: "Your email here",
    scene2_button_label: "Sign me up",
    scene2_dismiss_button_text: "Dismiss",
    scene2_newsletter: "mozilla-foundation",
    ...props.content,
    hidden_inputs: {
      newsletters: props.content.scene2_newsletter || "mozilla-foundation",
      fmt: "H",
      lang: props.content.locale || "en-US",
      source_url: `https://snippets.mozilla.com/show/${props.id}`,
      ...props.content.hidden_inputs
    }
  };
  return /*#__PURE__*/external_React_default.a.createElement(SubmitFormSnippet_SubmitFormSnippet, NewsletterSnippet_extends({}, props, {
    content: extendedContent,
    form_action: "https://basket.mozilla.org/subscribe.json",
    form_method: "POST"
  }));
};
// CONCATENATED MODULE: ./content-src/asrouter/templates/SendToDeviceSnippet/isEmailOrPhoneNumber.js
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * Checks if a given string is an email or phone number or neither
 * @param {string} val The user input
 * @param {ASRMessageContent} content .content property on ASR message
 * @returns {"email"|"phone"|""} The type of the input
 */
function isEmailOrPhoneNumber(val, content) {
  const {
    locale
  } = content; // http://emailregex.com/

  const email_re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  const check_email = email_re.test(val);
  let check_phone; // depends on locale

  switch (locale) {
    case "en-US":
    case "en-CA":
      // allow 10-11 digits in case user wants to enter country code
      check_phone = val.length >= 10 && val.length <= 11 && !isNaN(val);
      break;

    case "de":
      // allow between 2 and 12 digits for german phone numbers
      check_phone = val.length >= 2 && val.length <= 12 && !isNaN(val);
      break;
    // this case should never be hit, but good to have a fallback just in case

    default:
      check_phone = !isNaN(val);
      break;
  }

  if (check_email) {
    return "email";
  } else if (check_phone) {
    return "phone";
  }

  return "";
}
// CONCATENATED MODULE: ./content-src/asrouter/templates/SendToDeviceSnippet/SendToDeviceSnippet.jsx
function SendToDeviceSnippet_extends() { SendToDeviceSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return SendToDeviceSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




function validateInput(value, content) {
  const type = isEmailOrPhoneNumber(value, content);
  return type ? "" : "Must be an email or a phone number.";
}

function processFormData(input, message) {
  const {
    content
  } = message;
  const type = content.include_sms ? isEmailOrPhoneNumber(input.value, content) : "email";
  const formData = new FormData();
  let url;

  if (type === "phone") {
    url = "https://basket.mozilla.org/news/subscribe_sms/";
    formData.append("mobile_number", input.value);
    formData.append("msg_name", content.message_id_sms);
    formData.append("country", content.country);
  } else if (type === "email") {
    url = "https://basket.mozilla.org/news/subscribe/";
    formData.append("email", input.value);
    formData.append("newsletters", content.message_id_email);
    formData.append("source_url", encodeURIComponent(`https://snippets.mozilla.com/show/${message.id}`));
  }

  formData.append("lang", content.locale);
  return {
    formData,
    url
  };
}

function addDefaultValues(props) {
  return { ...props,
    content: {
      scene1_button_label: "Learn more",
      retry_button_label: "Try again",
      scene2_dismiss_button_text: "Dismiss",
      scene2_button_label: "Send",
      scene2_input_placeholder: "Your email here",
      locale: "en-US",
      country: "us",
      message_id_email: "",
      include_sms: false,
      ...props.content
    }
  };
}

const SendToDeviceSnippet = props => {
  const propsWithDefaults = addDefaultValues(props);
  return /*#__PURE__*/external_React_default.a.createElement(SubmitFormSnippet_SubmitFormSnippet, SendToDeviceSnippet_extends({}, propsWithDefaults, {
    form_method: "POST",
    className: "send_to_device_snippet",
    inputType: propsWithDefaults.content.include_sms ? "text" : "email",
    validateInput: propsWithDefaults.content.include_sms ? validateInput : null,
    processFormData: processFormData
  }));
};
const SendToDeviceScene2Snippet = props => {
  return /*#__PURE__*/external_React_default.a.createElement(SendToDeviceSnippet, SendToDeviceSnippet_extends({
    expandedAlt: true
  }, props));
};
// CONCATENATED MODULE: ./content-src/asrouter/templates/SimpleBelowSearchSnippet/SimpleBelowSearchSnippet.jsx
function SimpleBelowSearchSnippet_extends() { SimpleBelowSearchSnippet_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return SimpleBelowSearchSnippet_extends.apply(this, arguments); }

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const SimpleBelowSearchSnippet_DEFAULT_ICON_PATH = "chrome://branding/content/icon64.png"; // Alt text placeholder in case the prop from the server isn't available

const SimpleBelowSearchSnippet_ICON_ALT_TEXT = "";
class SimpleBelowSearchSnippet_SimpleBelowSearchSnippet extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onButtonClick = this.onButtonClick.bind(this);
  }

  renderText() {
    const {
      props
    } = this;
    return props.content.text ? /*#__PURE__*/external_React_default.a.createElement(RichText, {
      text: props.content.text,
      customElements: this.props.customElements,
      localization_id: "text",
      links: props.content.links,
      sendClick: props.sendClick
    }) : null;
  }

  renderTitle() {
    const {
      title
    } = this.props.content;
    return title ? /*#__PURE__*/external_React_default.a.createElement("h3", {
      className: "title title-inline"
    }, title, /*#__PURE__*/external_React_default.a.createElement("br", null)) : null;
  }

  async onButtonClick() {
    if (this.props.provider !== "preview") {
      this.props.sendUserActionTelemetry({
        event: "CLICK_BUTTON",
        id: this.props.UISurface
      });
    }

    const {
      button_url
    } = this.props.content; // If button_url is defined handle it as OPEN_URL action

    const type = this.props.content.button_action || button_url && "OPEN_URL";
    await this.props.onAction({
      type,
      data: {
        args: this.props.content.button_action_args || button_url
      }
    });

    if (!this.props.content.do_not_autoblock) {
      this.props.onBlock();
    }
  }

  _shouldRenderButton() {
    return this.props.content.button_action || this.props.onButtonClick || this.props.content.button_url;
  }

  renderButton() {
    const {
      props
    } = this;

    if (!this._shouldRenderButton()) {
      return null;
    }

    return /*#__PURE__*/external_React_default.a.createElement(Button, {
      onClick: props.onButtonClick || this.onButtonClick,
      color: props.content.button_color,
      backgroundColor: props.content.button_background_color
    }, props.content.button_label);
  }

  render() {
    const {
      props
    } = this;
    let className = "SimpleBelowSearchSnippet";
    let containerName = "below-search-snippet";

    if (props.className) {
      className += ` ${props.className}`;
    }

    if (this._shouldRenderButton()) {
      className += " withButton";
      containerName += " withButton";
    }

    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: containerName
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "snippet-hover-wrapper"
    }, /*#__PURE__*/external_React_default.a.createElement(SnippetBase_SnippetBase, SimpleBelowSearchSnippet_extends({}, props, {
      className: className,
      textStyle: this.props.textStyle
    }), /*#__PURE__*/external_React_default.a.createElement("img", {
      src: safeURI(props.content.icon) || SimpleBelowSearchSnippet_DEFAULT_ICON_PATH,
      className: "icon icon-light-theme",
      alt: props.content.icon_alt_text || SimpleBelowSearchSnippet_ICON_ALT_TEXT
    }), /*#__PURE__*/external_React_default.a.createElement("img", {
      src: safeURI(props.content.icon_dark_theme || props.content.icon) || SimpleBelowSearchSnippet_DEFAULT_ICON_PATH,
      className: "icon icon-dark-theme",
      alt: props.content.icon_alt_text || SimpleBelowSearchSnippet_ICON_ALT_TEXT
    }), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "textContainer"
    }, this.renderTitle(), /*#__PURE__*/external_React_default.a.createElement("p", {
      className: "body"
    }, this.renderText()), this.props.extraContent), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "buttonContainer"
    }, this.renderButton()))));
  }

}
// CONCATENATED MODULE: ./content-src/asrouter/templates/template-manifest.jsx
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SnippetsTemplates", function() { return SnippetsTemplates; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





 // Key names matching schema name of templates

const SnippetsTemplates = {
  simple_snippet: SimpleSnippet_SimpleSnippet,
  newsletter_snippet: NewsletterSnippet,
  fxa_signup_snippet: FXASignupSnippet,
  send_to_device_snippet: SendToDeviceSnippet,
  send_to_device_scene2_snippet: SendToDeviceScene2Snippet,
  eoy_snippet: EOYSnippet,
  simple_below_search_snippet: SimpleBelowSearchSnippet_SimpleBelowSearchSnippet
};

/***/ }),
/* 63 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var builtins_namespaceObject = {};
__webpack_require__.r(builtins_namespaceObject);
__webpack_require__.d(builtins_namespaceObject, "NUMBER", function() { return NUMBER; });
__webpack_require__.d(builtins_namespaceObject, "DATETIME", function() { return DATETIME; });

// CONCATENATED MODULE: ./node_modules/fluent/src/types.js
/* global Intl */

/**
 * The `FluentType` class is the base of Fluent's type system.
 *
 * Fluent types wrap JavaScript values and store additional configuration for
 * them, which can then be used in the `toString` method together with a proper
 * `Intl` formatter.
 */
class FluentType {
  /**
   * Create an `FluentType` instance.
   *
   * @param   {Any}    value - JavaScript value to wrap.
   * @param   {Object} opts  - Configuration.
   * @returns {FluentType}
   */
  constructor(value, opts) {
    this.value = value;
    this.opts = opts;
  }
  /**
   * Unwrap the raw value stored by this `FluentType`.
   *
   * @returns {Any}
   */


  valueOf() {
    return this.value;
  }
  /**
   * Format this instance of `FluentType` to a string.
   *
   * Formatted values are suitable for use outside of the `FluentBundle`.
   * This method can use `Intl` formatters memoized by the `FluentBundle`
   * instance passed as an argument.
   *
   * @param   {FluentBundle} [bundle]
   * @returns {string}
   */


  toString() {
    throw new Error("Subclasses of FluentType must implement toString.");
  }

}
class FluentNone extends FluentType {
  valueOf() {
    return null;
  }

  toString() {
    return `{${this.value || "???"}}`;
  }

}
class FluentNumber extends FluentType {
  constructor(value, opts) {
    super(parseFloat(value), opts);
  }

  toString(bundle) {
    try {
      const nf = bundle._memoizeIntlObject(Intl.NumberFormat, this.opts);

      return nf.format(this.value);
    } catch (e) {
      // XXX Report the error.
      return this.value;
    }
  }

}
class FluentDateTime extends FluentType {
  constructor(value, opts) {
    super(new Date(value), opts);
  }

  toString(bundle) {
    try {
      const dtf = bundle._memoizeIntlObject(Intl.DateTimeFormat, this.opts);

      return dtf.format(this.value);
    } catch (e) {
      // XXX Report the error.
      return this.value;
    }
  }

}
// CONCATENATED MODULE: ./node_modules/fluent/src/builtins.js
/**
 * @overview
 *
 * The FTL resolver ships with a number of functions built-in.
 *
 * Each function take two arguments:
 *   - args - an array of positional args
 *   - opts - an object of key-value args
 *
 * Arguments to functions are guaranteed to already be instances of
 * `FluentType`.  Functions must return `FluentType` objects as well.
 */


function merge(argopts, opts) {
  return Object.assign({}, argopts, values(opts));
}

function values(opts) {
  const unwrapped = {};

  for (const [name, opt] of Object.entries(opts)) {
    unwrapped[name] = opt.valueOf();
  }

  return unwrapped;
}

function NUMBER([arg], opts) {
  if (arg instanceof FluentNone) {
    return arg;
  }

  if (arg instanceof FluentNumber) {
    return new FluentNumber(arg.valueOf(), merge(arg.opts, opts));
  }

  return new FluentNone("NUMBER()");
}
function DATETIME([arg], opts) {
  if (arg instanceof FluentNone) {
    return arg;
  }

  if (arg instanceof FluentDateTime) {
    return new FluentDateTime(arg.valueOf(), merge(arg.opts, opts));
  }

  return new FluentNone("DATETIME()");
}
// CONCATENATED MODULE: ./node_modules/fluent/src/resolver.js
/* global Intl */

/**
 * @overview
 *
 * The role of the Fluent resolver is to format a translation object to an
 * instance of `FluentType` or an array of instances.
 *
 * Translations can contain references to other messages or variables,
 * conditional logic in form of select expressions, traits which describe their
 * grammatical features, and can use Fluent builtins which make use of the
 * `Intl` formatters to format numbers, dates, lists and more into the
 * bundle's language. See the documentation of the Fluent syntax for more
 * information.
 *
 * In case of errors the resolver will try to salvage as much of the
 * translation as possible.  In rare situations where the resolver didn't know
 * how to recover from an error it will return an instance of `FluentNone`.
 *
 * All expressions resolve to an instance of `FluentType`. The caller should
 * use the `toString` method to convert the instance to a native value.
 *
 * All functions in this file pass around a special object called `scope`.
 * This object stores a set of elements used by all resolve functions:
 *
 *  * {FluentBundle} bundle
 *      bundle for which the given resolution is happening
 *  * {Object} args
 *      list of developer provided arguments that can be used
 *  * {Array} errors
 *      list of errors collected while resolving
 *  * {WeakSet} dirty
 *      Set of patterns already encountered during this resolution.
 *      This is used to prevent cyclic resolutions.
 */

 // Prevent expansion of too long placeables.

const MAX_PLACEABLE_LENGTH = 2500; // Unicode bidi isolation characters.

const FSI = "\u2068";
const PDI = "\u2069"; // Helper: match a variant key to the given selector.

function resolver_match(bundle, selector, key) {
  if (key === selector) {
    // Both are strings.
    return true;
  } // XXX Consider comparing options too, e.g. minimumFractionDigits.


  if (key instanceof FluentNumber && selector instanceof FluentNumber && key.value === selector.value) {
    return true;
  }

  if (selector instanceof FluentNumber && typeof key === "string") {
    let category = bundle._memoizeIntlObject(Intl.PluralRules, selector.opts).select(selector.value);

    if (key === category) {
      return true;
    }
  }

  return false;
} // Helper: resolve the default variant from a list of variants.


function getDefault(scope, variants, star) {
  if (variants[star]) {
    return Type(scope, variants[star]);
  }

  scope.errors.push(new RangeError("No default"));
  return new FluentNone();
} // Helper: resolve arguments to a call expression.


function getArguments(scope, args) {
  const positional = [];
  const named = {};

  for (const arg of args) {
    if (arg.type === "narg") {
      named[arg.name] = Type(scope, arg.value);
    } else {
      positional.push(Type(scope, arg));
    }
  }

  return [positional, named];
} // Resolve an expression to a Fluent type.


function Type(scope, expr) {
  // A fast-path for strings which are the most common case. Since they
  // natively have the `toString` method they can be used as if they were
  // a FluentType instance without incurring the cost of creating one.
  if (typeof expr === "string") {
    return scope.bundle._transform(expr);
  } // A fast-path for `FluentNone` which doesn't require any additional logic.


  if (expr instanceof FluentNone) {
    return expr;
  } // The Runtime AST (Entries) encodes patterns (complex strings with
  // placeables) as Arrays.


  if (Array.isArray(expr)) {
    return Pattern(scope, expr);
  }

  switch (expr.type) {
    case "str":
      return expr.value;

    case "num":
      return new FluentNumber(expr.value, {
        minimumFractionDigits: expr.precision
      });

    case "var":
      return VariableReference(scope, expr);

    case "mesg":
      return MessageReference(scope, expr);

    case "term":
      return TermReference(scope, expr);

    case "func":
      return FunctionReference(scope, expr);

    case "select":
      return SelectExpression(scope, expr);

    case undefined:
      {
        // If it's a node with a value, resolve the value.
        if (expr.value !== null && expr.value !== undefined) {
          return Type(scope, expr.value);
        }

        scope.errors.push(new RangeError("No value"));
        return new FluentNone();
      }

    default:
      return new FluentNone();
  }
} // Resolve a reference to a variable.


function VariableReference(scope, {
  name
}) {
  if (!scope.args || !scope.args.hasOwnProperty(name)) {
    if (scope.insideTermReference === false) {
      scope.errors.push(new ReferenceError(`Unknown variable: ${name}`));
    }

    return new FluentNone(`$${name}`);
  }

  const arg = scope.args[name]; // Return early if the argument already is an instance of FluentType.

  if (arg instanceof FluentType) {
    return arg;
  } // Convert the argument to a Fluent type.


  switch (typeof arg) {
    case "string":
      return arg;

    case "number":
      return new FluentNumber(arg);

    case "object":
      if (arg instanceof Date) {
        return new FluentDateTime(arg);
      }

    default:
      scope.errors.push(new TypeError(`Unsupported variable type: ${name}, ${typeof arg}`));
      return new FluentNone(`$${name}`);
  }
} // Resolve a reference to another message.


function MessageReference(scope, {
  name,
  attr
}) {
  const message = scope.bundle._messages.get(name);

  if (!message) {
    const err = new ReferenceError(`Unknown message: ${name}`);
    scope.errors.push(err);
    return new FluentNone(name);
  }

  if (attr) {
    const attribute = message.attrs && message.attrs[attr];

    if (attribute) {
      return Type(scope, attribute);
    }

    scope.errors.push(new ReferenceError(`Unknown attribute: ${attr}`));
    return new FluentNone(`${name}.${attr}`);
  }

  return Type(scope, message);
} // Resolve a call to a Term with key-value arguments.


function TermReference(scope, {
  name,
  attr,
  args
}) {
  const id = `-${name}`;

  const term = scope.bundle._terms.get(id);

  if (!term) {
    const err = new ReferenceError(`Unknown term: ${id}`);
    scope.errors.push(err);
    return new FluentNone(id);
  } // Every TermReference has its own args.


  const [, keyargs] = getArguments(scope, args);
  const local = { ...scope,
    args: keyargs,
    insideTermReference: true
  };

  if (attr) {
    const attribute = term.attrs && term.attrs[attr];

    if (attribute) {
      return Type(local, attribute);
    }

    scope.errors.push(new ReferenceError(`Unknown attribute: ${attr}`));
    return new FluentNone(`${id}.${attr}`);
  }

  return Type(local, term);
} // Resolve a call to a Function with positional and key-value arguments.


function FunctionReference(scope, {
  name,
  args
}) {
  // Some functions are built-in. Others may be provided by the runtime via
  // the `FluentBundle` constructor.
  const func = scope.bundle._functions[name] || builtins_namespaceObject[name];

  if (!func) {
    scope.errors.push(new ReferenceError(`Unknown function: ${name}()`));
    return new FluentNone(`${name}()`);
  }

  if (typeof func !== "function") {
    scope.errors.push(new TypeError(`Function ${name}() is not callable`));
    return new FluentNone(`${name}()`);
  }

  try {
    return func(...getArguments(scope, args));
  } catch (e) {
    // XXX Report errors.
    return new FluentNone(`${name}()`);
  }
} // Resolve a select expression to the member object.


function SelectExpression(scope, {
  selector,
  variants,
  star
}) {
  let sel = Type(scope, selector);

  if (sel instanceof FluentNone) {
    const variant = getDefault(scope, variants, star);
    return Type(scope, variant);
  } // Match the selector against keys of each variant, in order.


  for (const variant of variants) {
    const key = Type(scope, variant.key);

    if (resolver_match(scope.bundle, sel, key)) {
      return Type(scope, variant);
    }
  }

  const variant = getDefault(scope, variants, star);
  return Type(scope, variant);
} // Resolve a pattern (a complex string with placeables).


function Pattern(scope, ptn) {
  if (scope.dirty.has(ptn)) {
    scope.errors.push(new RangeError("Cyclic reference"));
    return new FluentNone();
  } // Tag the pattern as dirty for the purpose of the current resolution.


  scope.dirty.add(ptn);
  const result = []; // Wrap interpolations with Directional Isolate Formatting characters
  // only when the pattern has more than one element.

  const useIsolating = scope.bundle._useIsolating && ptn.length > 1;

  for (const elem of ptn) {
    if (typeof elem === "string") {
      result.push(scope.bundle._transform(elem));
      continue;
    }

    const part = Type(scope, elem).toString(scope.bundle);

    if (useIsolating) {
      result.push(FSI);
    }

    if (part.length > MAX_PLACEABLE_LENGTH) {
      scope.errors.push(new RangeError("Too many characters in placeable " + `(${part.length}, max allowed is ${MAX_PLACEABLE_LENGTH})`));
      result.push(part.slice(MAX_PLACEABLE_LENGTH));
    } else {
      result.push(part);
    }

    if (useIsolating) {
      result.push(PDI);
    }
  }

  scope.dirty.delete(ptn);
  return result.join("");
}
/**
 * Format a translation into a string.
 *
 * @param   {FluentBundle} bundle
 *    A FluentBundle instance which will be used to resolve the
 *    contextual information of the message.
 * @param   {Object}         args
 *    List of arguments provided by the developer which can be accessed
 *    from the message.
 * @param   {Object}         message
 *    An object with the Message to be resolved.
 * @param   {Array}          errors
 *    An error array that any encountered errors will be appended to.
 * @returns {FluentType}
 */


function resolve(bundle, args, message, errors = []) {
  const scope = {
    bundle,
    args,
    errors,
    dirty: new WeakSet(),
    // TermReferences are resolved in a new scope.
    insideTermReference: false
  };
  return Type(scope, message).toString(bundle);
}
// CONCATENATED MODULE: ./node_modules/fluent/src/error.js
class FluentError extends Error {}
// CONCATENATED MODULE: ./node_modules/fluent/src/resource.js
 // This regex is used to iterate through the beginnings of messages and terms.
// With the /m flag, the ^ matches at the beginning of every line.

const RE_MESSAGE_START = /^(-?[a-zA-Z][\w-]*) *= */mg; // Both Attributes and Variants are parsed in while loops. These regexes are
// used to break out of them.

const RE_ATTRIBUTE_START = /\.([a-zA-Z][\w-]*) *= */y;
const RE_VARIANT_START = /\*?\[/y;
const RE_NUMBER_LITERAL = /(-?[0-9]+(?:\.([0-9]+))?)/y;
const RE_IDENTIFIER = /([a-zA-Z][\w-]*)/y;
const RE_REFERENCE = /([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y;
const RE_FUNCTION_NAME = /^[A-Z][A-Z0-9_-]*$/; // A "run" is a sequence of text or string literal characters which don't
// require any special handling. For TextElements such special characters are: {
// (starts a placeable), and line breaks which require additional logic to check
// if the next line is indented. For StringLiterals they are: \ (starts an
// escape sequence), " (ends the literal), and line breaks which are not allowed
// in StringLiterals. Note that string runs may be empty; text runs may not.

const RE_TEXT_RUN = /([^{}\n\r]+)/y;
const RE_STRING_RUN = /([^\\"\n\r]*)/y; // Escape sequences.

const RE_STRING_ESCAPE = /\\([\\"])/y;
const RE_UNICODE_ESCAPE = /\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y; // Used for trimming TextElements and indents.

const RE_LEADING_NEWLINES = /^\n+/;
const RE_TRAILING_SPACES = / +$/; // Used in makeIndent to strip spaces from blank lines and normalize CRLF to LF.

const RE_BLANK_LINES = / *\r?\n/g; // Used in makeIndent to measure the indentation.

const RE_INDENT = /( *)$/; // Common tokens.

const TOKEN_BRACE_OPEN = /{\s*/y;
const TOKEN_BRACE_CLOSE = /\s*}/y;
const TOKEN_BRACKET_OPEN = /\[\s*/y;
const TOKEN_BRACKET_CLOSE = /\s*] */y;
const TOKEN_PAREN_OPEN = /\s*\(\s*/y;
const TOKEN_ARROW = /\s*->\s*/y;
const TOKEN_COLON = /\s*:\s*/y; // Note the optional comma. As a deviation from the Fluent EBNF, the parser
// doesn't enforce commas between call arguments.

const TOKEN_COMMA = /\s*,?\s*/y;
const TOKEN_BLANK = /\s+/y; // Maximum number of placeables in a single Pattern to protect against Quadratic
// Blowup attacks. See https://msdn.microsoft.com/en-us/magazine/ee335713.aspx.

const MAX_PLACEABLES = 100;
/**
 * Fluent Resource is a structure storing a map of parsed localization entries.
 */

class resource_FluentResource extends Map {
  /**
   * Create a new FluentResource from Fluent code.
   */
  static fromString(source) {
    RE_MESSAGE_START.lastIndex = 0;
    let resource = new this();
    let cursor = 0; // Iterate over the beginnings of messages and terms to efficiently skip
    // comments and recover from errors.

    while (true) {
      let next = RE_MESSAGE_START.exec(source);

      if (next === null) {
        break;
      }

      cursor = RE_MESSAGE_START.lastIndex;

      try {
        resource.set(next[1], parseMessage());
      } catch (err) {
        if (err instanceof FluentError) {
          // Don't report any Fluent syntax errors. Skip directly to the
          // beginning of the next message or term.
          continue;
        }

        throw err;
      }
    }

    return resource; // The parser implementation is inlined below for performance reasons.
    // The parser focuses on minimizing the number of false negatives at the
    // expense of increasing the risk of false positives. In other words, it
    // aims at parsing valid Fluent messages with a success rate of 100%, but it
    // may also parse a few invalid messages which the reference parser would
    // reject. The parser doesn't perform any validation and may produce entries
    // which wouldn't make sense in the real world. For best results users are
    // advised to validate translations with the fluent-syntax parser
    // pre-runtime.
    // The parser makes an extensive use of sticky regexes which can be anchored
    // to any offset of the source string without slicing it. Errors are thrown
    // to bail out of parsing of ill-formed messages.

    function test(re) {
      re.lastIndex = cursor;
      return re.test(source);
    } // Advance the cursor by the char if it matches. May be used as a predicate
    // (was the match found?) or, if errorClass is passed, as an assertion.


    function consumeChar(char, errorClass) {
      if (source[cursor] === char) {
        cursor++;
        return true;
      }

      if (errorClass) {
        throw new errorClass(`Expected ${char}`);
      }

      return false;
    } // Advance the cursor by the token if it matches. May be used as a predicate
    // (was the match found?) or, if errorClass is passed, as an assertion.


    function consumeToken(re, errorClass) {
      if (test(re)) {
        cursor = re.lastIndex;
        return true;
      }

      if (errorClass) {
        throw new errorClass(`Expected ${re.toString()}`);
      }

      return false;
    } // Execute a regex, advance the cursor, and return all capture groups.


    function match(re) {
      re.lastIndex = cursor;
      let result = re.exec(source);

      if (result === null) {
        throw new FluentError(`Expected ${re.toString()}`);
      }

      cursor = re.lastIndex;
      return result;
    } // Execute a regex, advance the cursor, and return the capture group.


    function match1(re) {
      return match(re)[1];
    }

    function parseMessage() {
      let value = parsePattern();
      let attrs = parseAttributes();

      if (attrs === null) {
        if (value === null) {
          throw new FluentError("Expected message value or attributes");
        }

        return value;
      }

      return {
        value,
        attrs
      };
    }

    function parseAttributes() {
      let attrs = {};

      while (test(RE_ATTRIBUTE_START)) {
        let name = match1(RE_ATTRIBUTE_START);
        let value = parsePattern();

        if (value === null) {
          throw new FluentError("Expected attribute value");
        }

        attrs[name] = value;
      }

      return Object.keys(attrs).length > 0 ? attrs : null;
    }

    function parsePattern() {
      // First try to parse any simple text on the same line as the id.
      if (test(RE_TEXT_RUN)) {
        var first = match1(RE_TEXT_RUN);
      } // If there's a placeable on the first line, parse a complex pattern.


      if (source[cursor] === "{" || source[cursor] === "}") {
        // Re-use the text parsed above, if possible.
        return parsePatternElements(first ? [first] : [], Infinity);
      } // RE_TEXT_VALUE stops at newlines. Only continue parsing the pattern if
      // what comes after the newline is indented.


      let indent = parseIndent();

      if (indent) {
        if (first) {
          // If there's text on the first line, the blank block is part of the
          // translation content in its entirety.
          return parsePatternElements([first, indent], indent.length);
        } // Otherwise, we're dealing with a block pattern, i.e. a pattern which
        // starts on a new line. Discrad the leading newlines but keep the
        // inline indent; it will be used by the dedentation logic.


        indent.value = trim(indent.value, RE_LEADING_NEWLINES);
        return parsePatternElements([indent], indent.length);
      }

      if (first) {
        // It was just a simple inline text after all.
        return trim(first, RE_TRAILING_SPACES);
      }

      return null;
    } // Parse a complex pattern as an array of elements.


    function parsePatternElements(elements = [], commonIndent) {
      let placeableCount = 0;

      while (true) {
        if (test(RE_TEXT_RUN)) {
          elements.push(match1(RE_TEXT_RUN));
          continue;
        }

        if (source[cursor] === "{") {
          if (++placeableCount > MAX_PLACEABLES) {
            throw new FluentError("Too many placeables");
          }

          elements.push(parsePlaceable());
          continue;
        }

        if (source[cursor] === "}") {
          throw new FluentError("Unbalanced closing brace");
        }

        let indent = parseIndent();

        if (indent) {
          elements.push(indent);
          commonIndent = Math.min(commonIndent, indent.length);
          continue;
        }

        break;
      }

      let lastIndex = elements.length - 1; // Trim the trailing spaces in the last element if it's a TextElement.

      if (typeof elements[lastIndex] === "string") {
        elements[lastIndex] = trim(elements[lastIndex], RE_TRAILING_SPACES);
      }

      let baked = [];

      for (let element of elements) {
        if (element.type === "indent") {
          // Dedent indented lines by the maximum common indent.
          element = element.value.slice(0, element.value.length - commonIndent);
        } else if (element.type === "str") {
          // Optimize StringLiterals into their value.
          element = element.value;
        }

        if (element) {
          baked.push(element);
        }
      }

      return baked;
    }

    function parsePlaceable() {
      consumeToken(TOKEN_BRACE_OPEN, FluentError);
      let selector = parseInlineExpression();

      if (consumeToken(TOKEN_BRACE_CLOSE)) {
        return selector;
      }

      if (consumeToken(TOKEN_ARROW)) {
        let variants = parseVariants();
        consumeToken(TOKEN_BRACE_CLOSE, FluentError);
        return {
          type: "select",
          selector,
          ...variants
        };
      }

      throw new FluentError("Unclosed placeable");
    }

    function parseInlineExpression() {
      if (source[cursor] === "{") {
        // It's a nested placeable.
        return parsePlaceable();
      }

      if (test(RE_REFERENCE)) {
        let [, sigil, name, attr = null] = match(RE_REFERENCE);

        if (sigil === "$") {
          return {
            type: "var",
            name
          };
        }

        if (consumeToken(TOKEN_PAREN_OPEN)) {
          let args = parseArguments();

          if (sigil === "-") {
            // A parameterized term: -term(...).
            return {
              type: "term",
              name,
              attr,
              args
            };
          }

          if (RE_FUNCTION_NAME.test(name)) {
            return {
              type: "func",
              name,
              args
            };
          }

          throw new FluentError("Function names must be all upper-case");
        }

        if (sigil === "-") {
          // A non-parameterized term: -term.
          return {
            type: "term",
            name,
            attr,
            args: []
          };
        }

        return {
          type: "mesg",
          name,
          attr
        };
      }

      return parseLiteral();
    }

    function parseArguments() {
      let args = [];

      while (true) {
        switch (source[cursor]) {
          case ")":
            // End of the argument list.
            cursor++;
            return args;

          case undefined:
            // EOF
            throw new FluentError("Unclosed argument list");
        }

        args.push(parseArgument()); // Commas between arguments are treated as whitespace.

        consumeToken(TOKEN_COMMA);
      }
    }

    function parseArgument() {
      let expr = parseInlineExpression();

      if (expr.type !== "mesg") {
        return expr;
      }

      if (consumeToken(TOKEN_COLON)) {
        // The reference is the beginning of a named argument.
        return {
          type: "narg",
          name: expr.name,
          value: parseLiteral()
        };
      } // It's a regular message reference.


      return expr;
    }

    function parseVariants() {
      let variants = [];
      let count = 0;
      let star;

      while (test(RE_VARIANT_START)) {
        if (consumeChar("*")) {
          star = count;
        }

        let key = parseVariantKey();
        let value = parsePattern();

        if (value === null) {
          throw new FluentError("Expected variant value");
        }

        variants[count++] = {
          key,
          value
        };
      }

      if (count === 0) {
        return null;
      }

      if (star === undefined) {
        throw new FluentError("Expected default variant");
      }

      return {
        variants,
        star
      };
    }

    function parseVariantKey() {
      consumeToken(TOKEN_BRACKET_OPEN, FluentError);
      let key = test(RE_NUMBER_LITERAL) ? parseNumberLiteral() : match1(RE_IDENTIFIER);
      consumeToken(TOKEN_BRACKET_CLOSE, FluentError);
      return key;
    }

    function parseLiteral() {
      if (test(RE_NUMBER_LITERAL)) {
        return parseNumberLiteral();
      }

      if (source[cursor] === "\"") {
        return parseStringLiteral();
      }

      throw new FluentError("Invalid expression");
    }

    function parseNumberLiteral() {
      let [, value, fraction = ""] = match(RE_NUMBER_LITERAL);
      let precision = fraction.length;
      return {
        type: "num",
        value: parseFloat(value),
        precision
      };
    }

    function parseStringLiteral() {
      consumeChar("\"", FluentError);
      let value = "";

      while (true) {
        value += match1(RE_STRING_RUN);

        if (source[cursor] === "\\") {
          value += parseEscapeSequence();
          continue;
        }

        if (consumeChar("\"")) {
          return {
            type: "str",
            value
          };
        } // We've reached an EOL of EOF.


        throw new FluentError("Unclosed string literal");
      }
    } // Unescape known escape sequences.


    function parseEscapeSequence() {
      if (test(RE_STRING_ESCAPE)) {
        return match1(RE_STRING_ESCAPE);
      }

      if (test(RE_UNICODE_ESCAPE)) {
        let [, codepoint4, codepoint6] = match(RE_UNICODE_ESCAPE);
        let codepoint = parseInt(codepoint4 || codepoint6, 16);
        return codepoint <= 0xD7FF || 0xE000 <= codepoint // It's a Unicode scalar value.
        ? String.fromCodePoint(codepoint) // Lonely surrogates can cause trouble when the parsing result is
        // saved using UTF-8. Use U+FFFD REPLACEMENT CHARACTER instead.
        : "�";
      }

      throw new FluentError("Unknown escape sequence");
    } // Parse blank space. Return it if it looks like indent before a pattern
    // line. Skip it othwerwise.


    function parseIndent() {
      let start = cursor;
      consumeToken(TOKEN_BLANK); // Check the first non-blank character after the indent.

      switch (source[cursor]) {
        case ".":
        case "[":
        case "*":
        case "}":
        case undefined:
          // EOF
          // A special character. End the Pattern.
          return false;

        case "{":
          // Placeables don't require indentation (in EBNF: block-placeable).
          // Continue the Pattern.
          return makeIndent(source.slice(start, cursor));
      } // If the first character on the line is not one of the special characters
      // listed above, it's a regular text character. Check if there's at least
      // one space of indent before it.


      if (source[cursor - 1] === " ") {
        // It's an indented text character (in EBNF: indented-char). Continue
        // the Pattern.
        return makeIndent(source.slice(start, cursor));
      } // A not-indented text character is likely the identifier of the next
      // message. End the Pattern.


      return false;
    } // Trim blanks in text according to the given regex.


    function trim(text, re) {
      return text.replace(re, "");
    } // Normalize a blank block and extract the indent details.


    function makeIndent(blank) {
      let value = blank.replace(RE_BLANK_LINES, "\n");
      let length = RE_INDENT.exec(blank)[1].length;
      return {
        type: "indent",
        value,
        length
      };
    }
  }

}
// CONCATENATED MODULE: ./node_modules/fluent/src/bundle.js


/**
 * Message bundles are single-language stores of translations.  They are
 * responsible for parsing translation resources in the Fluent syntax and can
 * format translation units (entities) to strings.
 *
 * Always use `FluentBundle.format` to retrieve translation units from a
 * bundle. Translations can contain references to other entities or variables,
 * conditional logic in form of select expressions, traits which describe their
 * grammatical features, and can use Fluent builtins which make use of the
 * `Intl` formatters to format numbers, dates, lists and more into the
 * bundle's language. See the documentation of the Fluent syntax for more
 * information.
 */

class bundle_FluentBundle {
  /**
   * Create an instance of `FluentBundle`.
   *
   * The `locales` argument is used to instantiate `Intl` formatters used by
   * translations.  The `options` object can be used to configure the bundle.
   *
   * Examples:
   *
   *     const bundle = new FluentBundle(locales);
   *
   *     const bundle = new FluentBundle(locales, { useIsolating: false });
   *
   *     const bundle = new FluentBundle(locales, {
   *       useIsolating: true,
   *       functions: {
   *         NODE_ENV: () => process.env.NODE_ENV
   *       }
   *     });
   *
   * Available options:
   *
   *   - `functions` - an object of additional functions available to
   *                   translations as builtins.
   *
   *   - `useIsolating` - boolean specifying whether to use Unicode isolation
   *                    marks (FSI, PDI) for bidi interpolations.
   *                    Default: true
   *
   *   - `transform` - a function used to transform string parts of patterns.
   *
   * @param   {string|Array<string>} locales - Locale or locales of the bundle
   * @param   {Object} [options]
   * @returns {FluentBundle}
   */
  constructor(locales, {
    functions = {},
    useIsolating = true,
    transform = v => v
  } = {}) {
    this.locales = Array.isArray(locales) ? locales : [locales];
    this._terms = new Map();
    this._messages = new Map();
    this._functions = functions;
    this._useIsolating = useIsolating;
    this._transform = transform;
    this._intls = new WeakMap();
  }
  /*
   * Return an iterator over public `[id, message]` pairs.
   *
   * @returns {Iterator}
   */


  get messages() {
    return this._messages[Symbol.iterator]();
  }
  /*
   * Check if a message is present in the bundle.
   *
   * @param {string} id - The identifier of the message to check.
   * @returns {bool}
   */


  hasMessage(id) {
    return this._messages.has(id);
  }
  /*
   * Return the internal representation of a message.
   *
   * The internal representation should only be used as an argument to
   * `FluentBundle.format`.
   *
   * @param {string} id - The identifier of the message to check.
   * @returns {Any}
   */


  getMessage(id) {
    return this._messages.get(id);
  }
  /**
   * Add a translation resource to the bundle.
   *
   * The translation resource must use the Fluent syntax.  It will be parsed by
   * the bundle and each translation unit (message) will be available in the
   * bundle by its identifier.
   *
   *     bundle.addMessages('foo = Foo');
   *     bundle.getMessage('foo');
   *
   *     // Returns a raw representation of the 'foo' message.
   *
   *     bundle.addMessages('bar = Bar');
   *     bundle.addMessages('bar = Newbar', { allowOverrides: true });
   *     bundle.getMessage('bar');
   *
   *     // Returns a raw representation of the 'bar' message: Newbar.
   *
   * Parsed entities should be formatted with the `format` method in case they
   * contain logic (references, select expressions etc.).
   *
   * Available options:
   *
   *   - `allowOverrides` - boolean specifying whether it's allowed to override
   *                      an existing message or term with a new value.
   *                      Default: false
   *
   * @param   {string} source - Text resource with translations.
   * @param   {Object} [options]
   * @returns {Array<Error>}
   */


  addMessages(source, options) {
    const res = resource_FluentResource.fromString(source);
    return this.addResource(res, options);
  }
  /**
   * Add a translation resource to the bundle.
   *
   * The translation resource must be an instance of FluentResource,
   * e.g. parsed by `FluentResource.fromString`.
   *
   *     let res = FluentResource.fromString("foo = Foo");
   *     bundle.addResource(res);
   *     bundle.getMessage('foo');
   *
   *     // Returns a raw representation of the 'foo' message.
   *
   *     let res = FluentResource.fromString("bar = Bar");
   *     bundle.addResource(res);
   *     res = FluentResource.fromString("bar = Newbar");
   *     bundle.addResource(res, { allowOverrides: true });
   *     bundle.getMessage('bar');
   *
   *     // Returns a raw representation of the 'bar' message: Newbar.
   *
   * Parsed entities should be formatted with the `format` method in case they
   * contain logic (references, select expressions etc.).
   *
   * Available options:
   *
   *   - `allowOverrides` - boolean specifying whether it's allowed to override
   *                      an existing message or term with a new value.
   *                      Default: false
   *
   * @param   {FluentResource} res - FluentResource object.
   * @param   {Object} [options]
   * @returns {Array<Error>}
   */


  addResource(res, {
    allowOverrides = false
  } = {}) {
    const errors = [];

    for (const [id, value] of res) {
      if (id.startsWith("-")) {
        // Identifiers starting with a dash (-) define terms. Terms are private
        // and cannot be retrieved from FluentBundle.
        if (allowOverrides === false && this._terms.has(id)) {
          errors.push(`Attempt to override an existing term: "${id}"`);
          continue;
        }

        this._terms.set(id, value);
      } else {
        if (allowOverrides === false && this._messages.has(id)) {
          errors.push(`Attempt to override an existing message: "${id}"`);
          continue;
        }

        this._messages.set(id, value);
      }
    }

    return errors;
  }
  /**
   * Format a message to a string or null.
   *
   * Format a raw `message` from the bundle into a string (or a null if it has
   * a null value).  `args` will be used to resolve references to variables
   * passed as arguments to the translation.
   *
   * In case of errors `format` will try to salvage as much of the translation
   * as possible and will still return a string.  For performance reasons, the
   * encountered errors are not returned but instead are appended to the
   * `errors` array passed as the third argument.
   *
   *     const errors = [];
   *     bundle.addMessages('hello = Hello, { $name }!');
   *     const hello = bundle.getMessage('hello');
   *     bundle.format(hello, { name: 'Jane' }, errors);
   *
   *     // Returns 'Hello, Jane!' and `errors` is empty.
   *
   *     bundle.format(hello, undefined, errors);
   *
   *     // Returns 'Hello, name!' and `errors` is now:
   *
   *     [<ReferenceError: Unknown variable: name>]
   *
   * @param   {Object | string}    message
   * @param   {Object | undefined} args
   * @param   {Array}              errors
   * @returns {?string}
   */


  format(message, args, errors) {
    // optimize entities which are simple strings with no attributes
    if (typeof message === "string") {
      return this._transform(message);
    } // optimize entities with null values


    if (message === null || message.value === null) {
      return null;
    } // optimize simple-string entities with attributes


    if (typeof message.value === "string") {
      return this._transform(message.value);
    }

    return resolve(this, args, message, errors);
  }

  _memoizeIntlObject(ctor, opts) {
    const cache = this._intls.get(ctor) || {};
    const id = JSON.stringify(opts);

    if (!cache[id]) {
      cache[id] = new ctor(this.locales, opts);

      this._intls.set(ctor, cache);
    }

    return cache[id];
  }

}
// CONCATENATED MODULE: ./node_modules/fluent/src/index.js
/*
 * @module fluent
 * @overview
 *
 * `fluent` is a JavaScript implementation of Project Fluent, a localization
 * framework designed to unleash the expressive power of the natural language.
 *
 */




// CONCATENATED MODULE: ./content-src/asrouter/rich-text-strings.js
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RICH_TEXT_KEYS", function() { return RICH_TEXT_KEYS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateBundles", function() { return generateBundles; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * Properties that allow rich text MUST be added to this list.
 *   key: the localization_id that should be used
 *   value: a property or array of properties on the message.content object
 */

const RICH_TEXT_CONFIG = {
  text: ["text", "scene1_text"],
  success_text: "success_text",
  error_text: "error_text",
  scene2_text: "scene2_text",
  amo_html: "amo_html",
  privacy_html: "scene2_privacy_html",
  disclaimer_html: "scene2_disclaimer_html"
};
const RICH_TEXT_KEYS = Object.keys(RICH_TEXT_CONFIG);
/**
 * Generates an array of messages suitable for fluent's localization provider
 * including all needed strings for rich text.
 * @param {object} content A .content object from an ASR message (i.e. message.content)
 * @returns {FluentBundle[]} A array containing the fluent message context
 */

function generateBundles(content) {
  const bundle = new bundle_FluentBundle("en-US");
  RICH_TEXT_KEYS.forEach(key => {
    const attrs = RICH_TEXT_CONFIG[key];
    const attrsToTry = Array.isArray(attrs) ? [...attrs] : [attrs];
    let string = "";

    while (!string && attrsToTry.length) {
      const attr = attrsToTry.pop();
      string = content[attr];
    }

    bundle.addMessages(`${key} = ${string}`);
  });
  return [bundle];
}

/***/ }),
/* 64 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./common/Actions.jsm
var Actions = __webpack_require__(1);

// EXTERNAL MODULE: ./content-src/components/DiscoveryStreamComponents/DSImage/DSImage.jsx
var DSImage = __webpack_require__(17);

// EXTERNAL MODULE: ./content-src/components/LinkMenu/LinkMenu.jsx
var LinkMenu = __webpack_require__(18);

// EXTERNAL MODULE: ./content-src/components/ContextMenu/ContextMenuButton.jsx
var ContextMenuButton = __webpack_require__(21);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(8);
var external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);

// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSLinkMenu/DSLinkMenu.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class DSLinkMenu_DSLinkMenu extends external_React_default.a.PureComponent {
  render() {
    const {
      index,
      dispatch
    } = this.props;
    const TOP_STORIES_CONTEXT_MENU_OPTIONS = ["CheckBookmark", "CheckArchiveFromPocket", ...(this.props.saveToPocketCard ? ["CheckDeleteFromPocket"] : ["CheckSavedToPocket"]), "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", ...(this.props.showPrivacyInfo ? ["ShowPrivacyInfo"] : [])];
    const type = this.props.type || "DISCOVERY_STREAM";
    const title = this.props.title || this.props.source;
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "context-menu-position-container"
    }, /*#__PURE__*/external_React_default.a.createElement(ContextMenuButton["ContextMenuButton"], {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.props.onMenuUpdate
    }, /*#__PURE__*/external_React_default.a.createElement(LinkMenu["LinkMenu"], {
      dispatch: dispatch,
      index: index,
      source: type.toUpperCase(),
      onShow: this.props.onMenuShow,
      options: TOP_STORIES_CONTEXT_MENU_OPTIONS,
      shouldSendImpressionStats: true,
      site: {
        referrer: "https://getpocket.com/recommendations",
        title: this.props.title,
        type: this.props.type,
        url: this.props.url,
        guid: this.props.id,
        pocket_id: this.props.pocket_id,
        shim: this.props.shim,
        bookmarkGuid: this.props.bookmarkGuid,
        flight_id: this.props.flightId
      }
    })));
  }

}
// EXTERNAL MODULE: ./content-src/components/DiscoveryStreamImpressionStats/ImpressionStats.jsx
var ImpressionStats = __webpack_require__(22);

// EXTERNAL MODULE: ./content-src/components/DiscoveryStreamComponents/SafeAnchor/SafeAnchor.jsx
var SafeAnchor = __webpack_require__(23);

// EXTERNAL MODULE: ./content-src/components/Card/types.js
var types = __webpack_require__(24);

// EXTERNAL MODULE: external "ReactTransitionGroup"
var external_ReactTransitionGroup_ = __webpack_require__(25);

// EXTERNAL MODULE: ./content-src/components/FluentOrText/FluentOrText.jsx
var FluentOrText = __webpack_require__(26);

// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSContextFooter/DSContextFooter.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



 // Animation time is mirrored in DSContextFooter.scss

const ANIMATION_DURATION = 3000;
const DSMessageLabel = props => {
  const {
    context,
    context_type,
    display_engagement_labels,
    engagement
  } = props;
  const {
    icon,
    fluentID
  } = types["cardContextTypes"][context_type] || {};

  if (!context && (context_type || display_engagement_labels && engagement)) {
    return /*#__PURE__*/external_React_default.a.createElement(external_ReactTransitionGroup_["TransitionGroup"], {
      component: null
    }, /*#__PURE__*/external_React_default.a.createElement(external_ReactTransitionGroup_["CSSTransition"], {
      key: fluentID,
      timeout: ANIMATION_DURATION,
      classNames: "story-animate"
    }, engagement && !context_type ? /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "story-view-count"
    }, engagement) : /*#__PURE__*/external_React_default.a.createElement(StatusMessage, {
      icon: icon,
      fluentID: fluentID
    })));
  }

  return null;
};
const StatusMessage = ({
  icon,
  fluentID
}) => /*#__PURE__*/external_React_default.a.createElement("div", {
  className: "status-message"
}, /*#__PURE__*/external_React_default.a.createElement("span", {
  "aria-haspopup": "true",
  className: `story-badge-icon icon icon-${icon}`
}), /*#__PURE__*/external_React_default.a.createElement("div", {
  className: "story-context-label",
  "data-l10n-id": fluentID
}));
const SponsorLabel = ({
  sponsored_by_override,
  sponsor,
  context,
  newSponsoredLabel
}) => {
  const classList = `story-sponsored-label ${newSponsoredLabel || ""} clamp`; // If override is not false or an empty string.

  if (sponsored_by_override) {
    return /*#__PURE__*/external_React_default.a.createElement("p", {
      className: classList
    }, sponsored_by_override);
  } else if (sponsored_by_override === "") {
    // We specifically want to display nothing if the server returns an empty string.
    // So the server can turn off the label.
    // This is to support the use cases where the sponsored context is displayed elsewhere.
    return null;
  } else if (sponsor) {
    return /*#__PURE__*/external_React_default.a.createElement("p", {
      className: classList
    }, /*#__PURE__*/external_React_default.a.createElement(FluentOrText["FluentOrText"], {
      message: {
        id: `newtab-label-sponsored-by`,
        values: {
          sponsor
        }
      }
    }));
  } else if (context) {
    return /*#__PURE__*/external_React_default.a.createElement("p", {
      className: classList
    }, context);
  }

  return null;
};
class DSContextFooter_DSContextFooter extends external_React_default.a.PureComponent {
  render() {
    // display_engagement_labels is based on pref `browser.newtabpage.activity-stream.discoverystream.engagementLabelEnabled`
    const {
      context,
      context_type,
      engagement,
      display_engagement_labels,
      sponsor,
      sponsored_by_override
    } = this.props;
    const sponsorLabel = SponsorLabel({
      sponsored_by_override,
      sponsor,
      context
    });
    const dsMessageLabel = DSMessageLabel({
      context,
      context_type,
      display_engagement_labels,
      engagement
    });

    if (sponsorLabel || dsMessageLabel) {
      return /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "story-footer"
      }, sponsorLabel, dsMessageLabel);
    }

    return null;
  }

}
const DSMessageFooter = props => {
  const {
    context,
    context_type,
    engagement,
    display_engagement_labels,
    saveToPocketCard
  } = props;
  const dsMessageLabel = DSMessageLabel({
    context,
    context_type,
    engagement,
    display_engagement_labels
  }); // This case is specific and already displayed to the user elsewhere.

  if (!dsMessageLabel || saveToPocketCard && context_type === "pocket") {
    return null;
  }

  return /*#__PURE__*/external_React_default.a.createElement("div", {
    className: "story-footer"
  }, dsMessageLabel);
};
// EXTERNAL MODULE: external "ReactRedux"
var external_ReactRedux_ = __webpack_require__(7);

// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSCard/DSCard.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */









const READING_WPM = 220;
/**
 * READ TIME FROM WORD COUNT
 * @param {int} wordCount number of words in an article
 * @returns {int} number of words per minute in minutes
 */

function readTimeFromWordCount(wordCount) {
  if (!wordCount) return false;
  return Math.ceil(parseInt(wordCount, 10) / READING_WPM);
}
const DSSource = ({
  source,
  timeToRead,
  newSponsoredLabel,
  context,
  sponsor,
  sponsored_by_override
}) => {
  // First try to display sponsored label or time to read here.
  if (newSponsoredLabel) {
    // If we can display something for spocs, do so.
    if (sponsored_by_override || sponsor || context) {
      return /*#__PURE__*/external_React_default.a.createElement(SponsorLabel, {
        context: context,
        sponsor: sponsor,
        sponsored_by_override: sponsored_by_override,
        newSponsoredLabel: "new-sponsored-label"
      });
    }
  } // If we are not a spoc, and can display a time to read value.


  if (timeToRead) {
    return /*#__PURE__*/external_React_default.a.createElement("p", {
      className: "source clamp time-to-read"
    }, /*#__PURE__*/external_React_default.a.createElement(FluentOrText["FluentOrText"], {
      message: {
        id: `newtab-label-source-read-time`,
        values: {
          source,
          timeToRead
        }
      }
    }));
  } // Otherwise display a default source.


  return /*#__PURE__*/external_React_default.a.createElement("p", {
    className: "source clamp"
  }, source);
}; // Default Meta that displays CTA as link if cta_variant in layout is set as "link"

const DefaultMeta = ({
  display_engagement_labels,
  source,
  title,
  excerpt,
  timeToRead,
  newSponsoredLabel,
  context,
  context_type,
  cta,
  engagement,
  cta_variant,
  sponsor,
  sponsored_by_override,
  saveToPocketCard
}) => /*#__PURE__*/external_React_default.a.createElement("div", {
  className: "meta"
}, /*#__PURE__*/external_React_default.a.createElement("div", {
  className: "info-wrap"
}, /*#__PURE__*/external_React_default.a.createElement(DSSource, {
  source: source,
  timeToRead: timeToRead,
  newSponsoredLabel: newSponsoredLabel,
  context: context,
  sponsor: sponsor,
  sponsored_by_override: sponsored_by_override
}), /*#__PURE__*/external_React_default.a.createElement("header", {
  title: title,
  className: "title clamp"
}, title), excerpt && /*#__PURE__*/external_React_default.a.createElement("p", {
  className: "excerpt clamp"
}, excerpt), cta_variant === "link" && cta && /*#__PURE__*/external_React_default.a.createElement("div", {
  role: "link",
  className: "cta-link icon icon-arrow",
  tabIndex: "0"
}, cta)), !newSponsoredLabel && /*#__PURE__*/external_React_default.a.createElement(DSContextFooter_DSContextFooter, {
  context_type: context_type,
  context: context,
  sponsor: sponsor,
  sponsored_by_override: sponsored_by_override,
  display_engagement_labels: display_engagement_labels,
  engagement: engagement
}), newSponsoredLabel && /*#__PURE__*/external_React_default.a.createElement(DSMessageFooter, {
  context_type: context_type,
  context: null,
  display_engagement_labels: display_engagement_labels,
  engagement: engagement,
  saveToPocketCard: saveToPocketCard
}));
const CTAButtonMeta = ({
  display_engagement_labels,
  source,
  title,
  excerpt,
  context,
  context_type,
  cta,
  engagement,
  sponsor,
  sponsored_by_override
}) => /*#__PURE__*/external_React_default.a.createElement("div", {
  className: "meta"
}, /*#__PURE__*/external_React_default.a.createElement("div", {
  className: "info-wrap"
}, /*#__PURE__*/external_React_default.a.createElement("p", {
  className: "source clamp"
}, context && /*#__PURE__*/external_React_default.a.createElement(FluentOrText["FluentOrText"], {
  message: {
    id: `newtab-label-sponsored`,
    values: {
      sponsorOrSource: sponsor ? sponsor : source
    }
  }
}), !context && (sponsor ? sponsor : source)), /*#__PURE__*/external_React_default.a.createElement("header", {
  title: title,
  className: "title clamp"
}, title), excerpt && /*#__PURE__*/external_React_default.a.createElement("p", {
  className: "excerpt clamp"
}, excerpt)), context && cta && /*#__PURE__*/external_React_default.a.createElement("button", {
  className: "button cta-button"
}, cta), !context && /*#__PURE__*/external_React_default.a.createElement(DSContextFooter_DSContextFooter, {
  context_type: context_type,
  context: context,
  sponsor: sponsor,
  sponsored_by_override: sponsored_by_override,
  display_engagement_labels: display_engagement_labels,
  engagement: engagement
}));
class DSCard_DSCard extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onSaveClick = this.onSaveClick.bind(this);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
    this.onMenuShow = this.onMenuShow.bind(this);

    this.setContextMenuButtonHostRef = element => {
      this.contextMenuButtonHostElement = element;
    };

    this.setPlaceholderRef = element => {
      this.placeholderElement = element;
    };

    this.state = {
      isSeen: false
    }; // If this is for the about:home startup cache, then we always want
    // to render the DSCard, regardless of whether or not its been seen.

    if (props.App.isForStartupCache) {
      this.state.isSeen = true;
    } // We want to choose the optimal thumbnail for the underlying DSImage, but
    // want to do it in a performant way. The breakpoints used in the
    // CSS of the page are, unfortuntely, not easy to retrieve without
    // causing a style flush. To avoid that, we hardcode them here.
    //
    // The values chosen here were the dimensions of the card thumbnails as
    // computed by getBoundingClientRect() for each type of viewport width
    // across both high-density and normal-density displays.


    this.dsImageSizes = [{
      mediaMatcher: "(min-width: 1122px)",
      width: 296,
      height: 148
    }, {
      mediaMatcher: "(min-width: 866px)",
      width: 218,
      height: 109
    }, {
      mediaMatcher: "(max-width: 610px)",
      width: 202,
      height: 101
    }];
  }

  onLinkClick(event) {
    if (this.props.dispatch) {
      this.props.dispatch(Actions["actionCreators"].UserEvent({
        event: "CLICK",
        source: this.props.is_video ? "CARDGRID_VIDEO" : this.props.type.toUpperCase(),
        action_position: this.props.pos,
        value: {
          card_type: this.props.flightId ? "spoc" : "organic"
        }
      }));
      this.props.dispatch(Actions["actionCreators"].ImpressionStats({
        source: this.props.is_video ? "CARDGRID_VIDEO" : this.props.type.toUpperCase(),
        click: 0,
        tiles: [{
          id: this.props.id,
          pos: this.props.pos,
          ...(this.props.shim && this.props.shim.click ? {
            shim: this.props.shim.click
          } : {})
        }]
      }));
    }
  }

  onSaveClick(event) {
    if (this.props.dispatch) {
      this.props.dispatch(Actions["actionCreators"].AlsoToMain({
        type: Actions["actionTypes"].SAVE_TO_POCKET,
        data: {
          site: {
            url: this.props.url,
            title: this.props.title
          }
        }
      }));
      this.props.dispatch(Actions["actionCreators"].UserEvent({
        event: "SAVE_TO_POCKET",
        source: "CARDGRID_HOVER",
        action_position: this.props.pos
      }));
      this.props.dispatch(Actions["actionCreators"].ImpressionStats({
        source: "CARDGRID_HOVER",
        pocket: 0,
        tiles: [{
          id: this.props.id,
          pos: this.props.pos,
          ...(this.props.shim && this.props.shim.save ? {
            shim: this.props.shim.save
          } : {})
        }]
      }));
    }
  }

  onMenuUpdate(showContextMenu) {
    if (!showContextMenu) {
      const dsLinkMenuHostDiv = this.contextMenuButtonHostElement;

      if (dsLinkMenuHostDiv) {
        dsLinkMenuHostDiv.classList.remove("active", "last-item");
      }
    }
  }

  async onMenuShow() {
    const dsLinkMenuHostDiv = this.contextMenuButtonHostElement;

    if (dsLinkMenuHostDiv) {
      // Force translation so we can be sure it's ready before measuring.
      await this.props.windowObj.document.l10n.translateFragment(dsLinkMenuHostDiv);

      if (this.props.windowObj.scrollMaxX > 0) {
        dsLinkMenuHostDiv.classList.add("last-item");
      }

      dsLinkMenuHostDiv.classList.add("active");
    }
  }

  onSeen(entries) {
    if (this.state) {
      const entry = entries.find(e => e.isIntersecting);

      if (entry) {
        if (this.placeholderElement) {
          this.observer.unobserve(this.placeholderElement);
        } // Stop observing since element has been seen


        this.setState({
          isSeen: true
        });
      }
    }
  }

  onIdleCallback() {
    if (!this.state.isSeen) {
      if (this.observer && this.placeholderElement) {
        this.observer.unobserve(this.placeholderElement);
      }

      this.setState({
        isSeen: true
      });
    }
  }

  componentDidMount() {
    this.idleCallbackId = this.props.windowObj.requestIdleCallback(this.onIdleCallback.bind(this));

    if (this.placeholderElement) {
      this.observer = new IntersectionObserver(this.onSeen.bind(this));
      this.observer.observe(this.placeholderElement);
    }
  }

  componentWillUnmount() {
    // Remove observer on unmount
    if (this.observer && this.placeholderElement) {
      this.observer.unobserve(this.placeholderElement);
    }

    if (this.idleCallbackId) {
      this.props.windowObj.cancelIdleCallback(this.idleCallbackId);
    }
  }

  render() {
    if (this.props.placeholder || !this.state.isSeen) {
      return /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "ds-card placeholder",
        ref: this.setPlaceholderRef
      });
    }

    if (this.props.lastCard) {
      return /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "ds-card last-card-message"
      }, /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "img-wrapper"
      }, /*#__PURE__*/external_React_default.a.createElement("picture", {
        className: "ds-image img loaded"
      }, /*#__PURE__*/external_React_default.a.createElement("img", {
        "data-l10n-id": "newtab-pocket-last-card-image",
        className: "last-card-message-image",
        src: "chrome://activity-stream/content/data/content/assets/caught-up-illustration.svg",
        alt: "You\u2019re all caught up"
      }))), /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "meta"
      }, /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "info-wrap"
      }, /*#__PURE__*/external_React_default.a.createElement("header", {
        className: "title clamp",
        "data-l10n-id": "newtab-pocket-last-card-title"
      }), /*#__PURE__*/external_React_default.a.createElement("p", {
        className: "ds-last-card-desc",
        "data-l10n-id": "newtab-pocket-last-card-desc"
      }))));
    }

    const isButtonCTA = this.props.cta_variant === "button";
    const {
      is_video,
      saveToPocketCard,
      hideDescriptions,
      compactImages,
      imageGradient,
      titleLines = 3,
      descLines = 3,
      displayReadTime
    } = this.props;
    const excerpt = !hideDescriptions ? this.props.excerpt : "";
    let timeToRead;

    if (displayReadTime) {
      timeToRead = this.props.time_to_read || readTimeFromWordCount(this.props.word_count);
    }

    const videoCardClassName = is_video ? `video-card` : ``;
    const compactImagesClassName = compactImages ? `ds-card-compact-image` : ``;
    const imageGradientClassName = imageGradient ? `ds-card-image-gradient` : ``;
    const titleLinesName = `ds-card-title-lines-${titleLines}`;
    const descLinesClassName = `ds-card-desc-lines-${descLines}`;
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: `ds-card ${videoCardClassName} ${videoCardClassName} ${compactImagesClassName} ${imageGradientClassName} ${titleLinesName} ${descLinesClassName}`,
      ref: this.setContextMenuButtonHostRef
    }, /*#__PURE__*/external_React_default.a.createElement(SafeAnchor["SafeAnchor"], {
      className: "ds-card-link",
      dispatch: this.props.dispatch,
      onLinkClick: !this.props.placeholder ? this.onLinkClick : undefined,
      url: this.props.url
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "img-wrapper"
    }, /*#__PURE__*/external_React_default.a.createElement(DSImage["DSImage"], {
      extraClassNames: "img",
      source: this.props.image_src,
      rawSource: this.props.raw_image_src,
      sizes: this.dsImageSizes
    }), this.props.is_video && /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "playhead"
    }, /*#__PURE__*/external_React_default.a.createElement("span", null, "Video Content"))), isButtonCTA ? /*#__PURE__*/external_React_default.a.createElement(CTAButtonMeta, {
      display_engagement_labels: this.props.display_engagement_labels,
      source: this.props.source,
      title: this.props.title,
      excerpt: excerpt,
      timeToRead: timeToRead,
      context: this.props.context,
      context_type: this.props.context_type,
      engagement: this.props.engagement,
      cta: this.props.cta,
      sponsor: this.props.sponsor,
      sponsored_by_override: this.props.sponsored_by_override
    }) : /*#__PURE__*/external_React_default.a.createElement(DefaultMeta, {
      display_engagement_labels: this.props.display_engagement_labels,
      source: this.props.source,
      title: this.props.title,
      excerpt: excerpt,
      newSponsoredLabel: this.props.newSponsoredLabel,
      timeToRead: timeToRead,
      context: this.props.context,
      engagement: this.props.engagement,
      context_type: this.props.context_type,
      cta: this.props.cta,
      cta_variant: this.props.cta_variant,
      sponsor: this.props.sponsor,
      sponsored_by_override: this.props.sponsored_by_override,
      saveToPocketCard: saveToPocketCard
    }), /*#__PURE__*/external_React_default.a.createElement(ImpressionStats["ImpressionStats"], {
      flightId: this.props.flightId,
      rows: [{
        id: this.props.id,
        pos: this.props.pos,
        ...(this.props.shim && this.props.shim.impression ? {
          shim: this.props.shim.impression
        } : {})
      }],
      dispatch: this.props.dispatch,
      source: this.props.is_video ? "CARDGRID_VIDEO" : this.props.type
    })), saveToPocketCard && /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "card-stp-button-hover-background"
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "card-stp-button-position-wrapper"
    }, /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "card-stp-button",
      onClick: this.onSaveClick
    }, this.props.context_type === "pocket" ? /*#__PURE__*/external_React_default.a.createElement(external_React_default.a.Fragment, null, /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "story-badge-icon icon icon-pocket"
    }), /*#__PURE__*/external_React_default.a.createElement("span", {
      "data-l10n-id": "newtab-pocket-saved-to-pocket"
    })) : /*#__PURE__*/external_React_default.a.createElement(external_React_default.a.Fragment, null, /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "story-badge-icon icon icon-pocket-save"
    }), /*#__PURE__*/external_React_default.a.createElement("span", {
      "data-l10n-id": "newtab-pocket-save-to-pocket"
    }))), /*#__PURE__*/external_React_default.a.createElement(DSLinkMenu_DSLinkMenu, {
      id: this.props.id,
      index: this.props.pos,
      dispatch: this.props.dispatch,
      url: this.props.url,
      title: this.props.title,
      source: this.props.source,
      type: this.props.type,
      pocket_id: this.props.pocket_id,
      shim: this.props.shim,
      bookmarkGuid: this.props.bookmarkGuid,
      flightId: !this.props.is_collection ? this.props.flightId : undefined,
      showPrivacyInfo: !!this.props.flightId,
      onMenuUpdate: this.onMenuUpdate,
      onMenuShow: this.onMenuShow,
      saveToPocketCard: saveToPocketCard
    }))), !saveToPocketCard && /*#__PURE__*/external_React_default.a.createElement(DSLinkMenu_DSLinkMenu, {
      id: this.props.id,
      index: this.props.pos,
      dispatch: this.props.dispatch,
      url: this.props.url,
      title: this.props.title,
      source: this.props.source,
      type: this.props.type,
      pocket_id: this.props.pocket_id,
      shim: this.props.shim,
      bookmarkGuid: this.props.bookmarkGuid,
      flightId: !this.props.is_collection ? this.props.flightId : undefined,
      showPrivacyInfo: !!this.props.flightId,
      hostRef: this.contextMenuButtonHostRef,
      onMenuUpdate: this.onMenuUpdate,
      onMenuShow: this.onMenuShow
    }));
  }

}
DSCard_DSCard.defaultProps = {
  windowObj: window // Added to support unit tests

};
const DSCard = Object(external_ReactRedux_["connect"])(state => ({
  App: state.App
}))(DSCard_DSCard);
const PlaceholderDSCard = props => /*#__PURE__*/external_React_default.a.createElement(DSCard, {
  placeholder: true
});
const LastCardMessage = props => /*#__PURE__*/external_React_default.a.createElement(DSCard, {
  lastCard: true
});
// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSEmptyState/DSEmptyState.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class DSEmptyState_DSEmptyState extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onReset = this.onReset.bind(this);
    this.state = {};
  }

  componentWillUnmount() {
    if (this.timeout) {
      clearTimeout(this.timeout);
    }
  }

  onReset() {
    if (this.props.dispatch && this.props.feed) {
      const {
        feed
      } = this.props;
      const {
        url
      } = feed;
      this.props.dispatch({
        type: Actions["actionTypes"].DISCOVERY_STREAM_FEED_UPDATE,
        data: {
          feed: { ...feed,
            data: { ...feed.data,
              status: "waiting"
            }
          },
          url
        }
      });
      this.setState({
        waiting: true
      });
      this.timeout = setTimeout(() => {
        this.timeout = null;
        this.setState({
          waiting: false
        });
      }, 300);
      this.props.dispatch(Actions["actionCreators"].OnlyToMain({
        type: Actions["actionTypes"].DISCOVERY_STREAM_RETRY_FEED,
        data: {
          feed
        }
      }));
    }
  }

  renderButton() {
    if (this.props.status === "waiting" || this.state.waiting) {
      return /*#__PURE__*/external_React_default.a.createElement("button", {
        className: "try-again-button waiting",
        "data-l10n-id": "newtab-discovery-empty-section-topstories-loading"
      });
    }

    return /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "try-again-button",
      onClick: this.onReset,
      "data-l10n-id": "newtab-discovery-empty-section-topstories-try-again-button"
    });
  }

  renderState() {
    if (this.props.status === "waiting" || this.props.status === "failed") {
      return /*#__PURE__*/external_React_default.a.createElement(external_React_default.a.Fragment, null, /*#__PURE__*/external_React_default.a.createElement("h2", {
        "data-l10n-id": "newtab-discovery-empty-section-topstories-timed-out"
      }), this.renderButton());
    }

    return /*#__PURE__*/external_React_default.a.createElement(external_React_default.a.Fragment, null, /*#__PURE__*/external_React_default.a.createElement("h2", {
      "data-l10n-id": "newtab-discovery-empty-section-topstories-header"
    }), /*#__PURE__*/external_React_default.a.createElement("p", {
      "data-l10n-id": "newtab-discovery-empty-section-topstories-content"
    }));
  }

  render() {
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "section-empty-state"
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "empty-state-message"
    }, this.renderState()));
  }

}
// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/CardGrid/CardGrid.jsx
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardGrid", function() { return CardGrid_CardGrid; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





class CardGrid_CardGrid extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      moreLoaded: false
    };
    this.loadMoreClicked = this.loadMoreClicked.bind(this);
  }

  loadMoreClicked() {
    this.props.dispatch(Actions["actionCreators"].UserEvent({
      event: "CLICK",
      source: "DS_LOAD_MORE_BUTTON"
    }));
    this.setState({
      moreLoaded: true
    });
  }

  get showLoadMore() {
    const {
      loadMore,
      data,
      loadMoreThreshold
    } = this.props;
    return loadMore && data.recommendations.length > loadMoreThreshold && !this.state.moreLoaded;
  }

  renderDSSubHeader(title) {
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "section-top-bar ds-sub-header"
    }, /*#__PURE__*/external_React_default.a.createElement("h3", {
      className: "section-title-container"
    }, /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "section-title"
    }, /*#__PURE__*/external_React_default.a.createElement(FluentOrText["FluentOrText"], {
      message: title
    }))));
  }

  renderCards() {
    let {
      items
    } = this.props;
    const {
      hideCardBackground,
      fourCardLayout,
      hideDescriptions,
      lastCardMessageEnabled,
      saveToPocketCard,
      loadMoreThreshold,
      compactGrid,
      compactImages,
      imageGradient,
      newSponsoredLabel,
      titleLines,
      descLines,
      readTime,
      essentialReadsHeader,
      editorsPicksHeader
    } = this.props;
    let showLastCardMessage = lastCardMessageEnabled;

    if (this.showLoadMore) {
      items = loadMoreThreshold; // We don't want to show this until after load more has been clicked.

      showLastCardMessage = false;
    }

    const recs = this.props.data.recommendations.slice(0, items);
    const cards = [];

    for (let index = 0; index < items; index++) {
      const rec = recs[index];
      cards.push(!rec || rec.placeholder ? /*#__PURE__*/external_React_default.a.createElement(PlaceholderDSCard, {
        key: `dscard-${index}`
      }) : /*#__PURE__*/external_React_default.a.createElement(DSCard, {
        key: `dscard-${rec.id}`,
        pos: rec.pos,
        flightId: rec.flight_id,
        image_src: rec.image_src,
        raw_image_src: rec.raw_image_src,
        word_count: rec.word_count,
        time_to_read: rec.time_to_read,
        displayReadTime: readTime,
        title: rec.title,
        excerpt: rec.excerpt,
        url: rec.url,
        id: rec.id,
        shim: rec.shim,
        type: this.props.type,
        context: rec.context,
        sponsor: rec.sponsor,
        sponsored_by_override: rec.sponsored_by_override,
        dispatch: this.props.dispatch,
        source: rec.domain,
        pocket_id: rec.pocket_id,
        context_type: rec.context_type,
        bookmarkGuid: rec.bookmarkGuid,
        engagement: rec.engagement,
        display_engagement_labels: this.props.display_engagement_labels,
        hideDescriptions: hideDescriptions,
        saveToPocketCard: saveToPocketCard,
        compactImages: compactImages,
        imageGradient: imageGradient,
        newSponsoredLabel: newSponsoredLabel,
        titleLines: titleLines,
        descLines: descLines,
        cta: rec.cta,
        cta_variant: this.props.cta_variant,
        is_video: this.props.enable_video_playheads && rec.is_video,
        is_collection: this.props.is_collection
      }));
    } // If we have both header, inject the second one after the second row.
    // For now this is English only.


    if (essentialReadsHeader && editorsPicksHeader) {
      // For 4 card row layouts, second row is 8 cards, and regular it is 6 cards.
      if (fourCardLayout) {
        cards.splice(8, 0, this.renderDSSubHeader("Editor’s Picks"));
      } else {
        cards.splice(6, 0, this.renderDSSubHeader("Editor’s Picks"));
      }
    } // Replace last card with "you are all caught up card"


    if (showLastCardMessage) {
      cards.splice(cards.length - 1, 1, /*#__PURE__*/external_React_default.a.createElement(LastCardMessage, {
        key: `dscard-last-${cards.length - 1}`
      }));
    } // Used for CSS overrides to default styling (eg: "hero")


    const variantClass = this.props.display_variant ? `ds-card-grid-${this.props.display_variant}` : ``;
    const hideCardBackgroundClass = hideCardBackground ? `ds-card-grid-hide-background` : ``;
    const fourCardLayoutClass = fourCardLayout ? `ds-card-grid-four-card-variant` : ``;
    const hideDescriptionsClassName = !hideDescriptions ? `ds-card-grid-include-descriptions` : ``;
    const compactGridClassName = compactGrid ? `ds-card-grid-compact` : ``;
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: `ds-card-grid ds-card-grid-${this.props.border} ${variantClass} ${hideCardBackgroundClass} ${fourCardLayoutClass} ${hideDescriptionsClassName} ${compactGridClassName}`
    }, cards);
  }

  render() {
    const {
      data
    } = this.props; // Handle a render before feed has been fetched by displaying nothing

    if (!data) {
      return null;
    } // Handle the case where a user has dismissed all recommendations


    const isEmpty = data.recommendations.length === 0;
    return /*#__PURE__*/external_React_default.a.createElement("div", null, this.props.title && /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "ds-header"
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "title"
    }, this.props.title), this.props.context && /*#__PURE__*/external_React_default.a.createElement(FluentOrText["FluentOrText"], {
      message: this.props.context
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "ds-context"
    }))), isEmpty ? /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "ds-card-grid empty"
    }, /*#__PURE__*/external_React_default.a.createElement(DSEmptyState_DSEmptyState, {
      status: data.status,
      dispatch: this.props.dispatch,
      feed: this.props.feed
    })) : this.renderCards(), this.showLoadMore && /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "ASRouterButton primary ds-card-grid-load-more-button",
      onClick: this.loadMoreClicked,
      "data-l10n-id": "newtab-pocket-load-more-stories-button"
    }));
  }

}
CardGrid_CardGrid.defaultProps = {
  border: `border`,
  items: 4,
  // Number of stories to display
  enable_video_playheads: false,
  lastCardMessageEnabled: false,
  saveToPocketCard: false,
  loadMoreThreshold: 12
};

/***/ }),
/* 65 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(8);
var external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);

// CONCATENATED MODULE: ./content-src/components/CustomizeMenu/BackgroundsSection/BackgroundsSection.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class BackgroundsSection_BackgroundsSection extends external_React_default.a.PureComponent {
  render() {
    return /*#__PURE__*/external_React_default.a.createElement("div", null);
  }

}
// EXTERNAL MODULE: ./common/Actions.jsm
var Actions = __webpack_require__(1);

// CONCATENATED MODULE: ./content-src/components/CustomizeMenu/ContentSection/ContentSection.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class ContentSection_ContentSection extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onPreferenceSelect = this.onPreferenceSelect.bind(this);
  }

  inputUserEvent(eventSource, status) {
    this.props.dispatch(Actions["actionCreators"].UserEvent({
      event: "PREF_CHANGED",
      source: eventSource,
      value: {
        status,
        menu_source: "CUSTOMIZE_MENU"
      }
    }));
  }

  onPreferenceSelect(e) {
    let prefName = e.target.getAttribute("preference");
    const eventSource = e.target.getAttribute("eventSource");
    let value;

    if (e.target.nodeName === "SELECT") {
      value = parseInt(e.target.value, 10);
    } else if (e.target.nodeName === "INPUT") {
      value = e.target.checked;

      if (eventSource) {
        this.inputUserEvent(eventSource, value);
      }
    }

    this.props.setPref(prefName, value);
  }

  render() {
    const {
      topSitesEnabled,
      pocketEnabled,
      highlightsEnabled,
      showSponsoredTopSitesEnabled,
      showSponsoredPocketEnabled,
      topSitesRowsCount
    } = this.props.enabledSections;
    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "home-section"
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      id: "shortcuts-section",
      className: "section"
    }, /*#__PURE__*/external_React_default.a.createElement("label", {
      className: "switch"
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      id: "shortcuts-toggle",
      checked: topSitesEnabled,
      type: "checkbox",
      onChange: this.onPreferenceSelect,
      preference: "feeds.topsites",
      "aria-labelledby": "custom-shortcuts-title",
      "aria-describedby": "custom-shortcuts-subtitle",
      eventSource: "TOP_SITES"
    }), /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "slider",
      role: "presentation"
    })), /*#__PURE__*/external_React_default.a.createElement("div", null, /*#__PURE__*/external_React_default.a.createElement("h2", {
      id: "custom-shortcuts-title",
      className: "title"
    }, /*#__PURE__*/external_React_default.a.createElement("label", {
      htmlFor: "shortcuts-toggle",
      "data-l10n-id": "newtab-custom-shortcuts-title"
    })), /*#__PURE__*/external_React_default.a.createElement("p", {
      id: "custom-shortcuts-subtitle",
      className: "subtitle",
      "data-l10n-id": "newtab-custom-shortcuts-subtitle"
    }), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: `more-info-top-wrapper ${topSitesEnabled ? "" : "shrink"}`
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: `more-information ${topSitesEnabled ? "expand" : "shrink"}`
    }, /*#__PURE__*/external_React_default.a.createElement("select", {
      id: "row-selector",
      className: "selector",
      name: "row-count",
      preference: "topSitesRows",
      value: topSitesRowsCount,
      onChange: this.onPreferenceSelect,
      disabled: !topSitesEnabled,
      "aria-labelledby": "custom-shortcuts-title"
    }, /*#__PURE__*/external_React_default.a.createElement("option", {
      value: "1",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 1}"
    }), /*#__PURE__*/external_React_default.a.createElement("option", {
      value: "2",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 2}"
    }), /*#__PURE__*/external_React_default.a.createElement("option", {
      value: "3",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 3}"
    }), /*#__PURE__*/external_React_default.a.createElement("option", {
      value: "4",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 4}"
    })), this.props.mayHaveSponsoredTopSites && /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "check-wrapper",
      role: "presentation"
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      id: "sponsored-shortcuts",
      className: "sponsored-checkbox",
      disabled: !topSitesEnabled,
      checked: showSponsoredTopSitesEnabled,
      type: "checkbox",
      onChange: this.onPreferenceSelect,
      preference: "showSponsoredTopSites",
      eventSource: "SPONSORED_TOP_SITES"
    }), /*#__PURE__*/external_React_default.a.createElement("label", {
      className: "sponsored",
      htmlFor: "sponsored-shortcuts",
      "data-l10n-id": "newtab-custom-sponsored-sites"
    })))))), this.props.pocketRegion && /*#__PURE__*/external_React_default.a.createElement("div", {
      id: "pocket-section",
      className: "section"
    }, /*#__PURE__*/external_React_default.a.createElement("label", {
      className: "switch"
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      id: "pocket-toggle",
      checked: pocketEnabled,
      type: "checkbox",
      onChange: this.onPreferenceSelect,
      preference: "feeds.section.topstories",
      "aria-labelledby": "custom-pocket-title",
      "aria-describedby": "custom-pocket-subtitle",
      eventSource: "TOP_STORIES"
    }), /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "slider",
      role: "presentation"
    })), /*#__PURE__*/external_React_default.a.createElement("div", null, /*#__PURE__*/external_React_default.a.createElement("h2", {
      id: "custom-pocket-title",
      className: "title"
    }, /*#__PURE__*/external_React_default.a.createElement("label", {
      htmlFor: "pocket-toggle",
      "data-l10n-id": "newtab-custom-pocket-title"
    })), /*#__PURE__*/external_React_default.a.createElement("p", {
      id: "custom-pocket-subtitle",
      className: "subtitle",
      "data-l10n-id": "newtab-custom-pocket-subtitle"
    }), this.props.mayHaveSponsoredStories && /*#__PURE__*/external_React_default.a.createElement("div", {
      className: `more-info-pocket-wrapper ${pocketEnabled ? "" : "shrink"}`
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: `more-information ${pocketEnabled ? "expand" : "shrink"}`
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "check-wrapper",
      role: "presentation"
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      id: "sponsored-pocket",
      className: "sponsored-checkbox",
      disabled: !pocketEnabled,
      checked: showSponsoredPocketEnabled,
      type: "checkbox",
      onChange: this.onPreferenceSelect,
      preference: "showSponsored",
      eventSource: "POCKET_SPOCS"
    }), /*#__PURE__*/external_React_default.a.createElement("label", {
      className: "sponsored",
      htmlFor: "sponsored-pocket",
      "data-l10n-id": "newtab-custom-pocket-sponsored"
    })))))), /*#__PURE__*/external_React_default.a.createElement("div", {
      id: "recent-section",
      className: "section"
    }, /*#__PURE__*/external_React_default.a.createElement("label", {
      className: "switch"
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      id: "highlights-toggle",
      checked: highlightsEnabled,
      type: "checkbox",
      onChange: this.onPreferenceSelect,
      preference: "feeds.section.highlights",
      eventSource: "HIGHLIGHTS",
      "aria-labelledby": "custom-recent-title",
      "aria-describedby": "custom-recent-subtitle"
    }), /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "slider",
      role: "presentation"
    })), /*#__PURE__*/external_React_default.a.createElement("div", null, /*#__PURE__*/external_React_default.a.createElement("h2", {
      id: "custom-recent-title",
      className: "title"
    }, /*#__PURE__*/external_React_default.a.createElement("label", {
      htmlFor: "highlights-toggle",
      "data-l10n-id": "newtab-custom-recent-title"
    })), /*#__PURE__*/external_React_default.a.createElement("p", {
      id: "custom-recent-subtitle",
      className: "subtitle",
      "data-l10n-id": "newtab-custom-recent-subtitle"
    }))), /*#__PURE__*/external_React_default.a.createElement("span", {
      className: "divider",
      role: "separator"
    }), /*#__PURE__*/external_React_default.a.createElement("div", null, /*#__PURE__*/external_React_default.a.createElement("button", {
      id: "settings-link",
      className: "external-link",
      onClick: this.props.openPreferences,
      "data-l10n-id": "newtab-custom-settings"
    })));
  }

}
// EXTERNAL MODULE: external "ReactRedux"
var external_ReactRedux_ = __webpack_require__(7);

// EXTERNAL MODULE: external "ReactTransitionGroup"
var external_ReactTransitionGroup_ = __webpack_require__(25);

// CONCATENATED MODULE: ./content-src/components/CustomizeMenu/ColorwayCloset/ColorwayCloset.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const ColorwayCloset = ({
  dispatch
}) => /*#__PURE__*/external_React_default.a.createElement("div", {
  id: "colorway-closet"
}, "Colorway Closet Placeholder");
// CONCATENATED MODULE: ./content-src/components/CustomizeMenu/CustomizeMenu.jsx
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "_CustomizeMenu", function() { return CustomizeMenu_CustomizeMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CustomizeMenu", function() { return CustomizeMenu; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






class CustomizeMenu_CustomizeMenu extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.onEntered = this.onEntered.bind(this);
    this.onExited = this.onExited.bind(this);
  }

  onEntered() {
    if (this.closeButton) {
      this.closeButton.focus();
    }
  }

  onExited() {
    if (this.openButton) {
      this.openButton.focus();
    }
  }

  render() {
    return /*#__PURE__*/external_React_default.a.createElement("span", null, /*#__PURE__*/external_React_default.a.createElement(external_ReactTransitionGroup_["CSSTransition"], {
      timeout: 300,
      classNames: "personalize-animate",
      in: !this.props.showing,
      appear: true
    }, /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "icon icon-settings personalize-button",
      onClick: () => this.props.onOpen(),
      "data-l10n-id": "newtab-personalize-icon-label",
      ref: c => this.openButton = c
    })), /*#__PURE__*/external_React_default.a.createElement(external_ReactTransitionGroup_["CSSTransition"], {
      timeout: 250,
      classNames: "customize-animate",
      in: this.props.showing,
      onEntered: this.onEntered,
      onExited: this.onExited,
      appear: true
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "customize-menu",
      role: "dialog",
      "data-l10n-id": "newtab-personalize-dialog-label"
    }, /*#__PURE__*/external_React_default.a.createElement("button", {
      onClick: () => this.props.onClose(),
      className: "close-button",
      "data-l10n-id": "newtab-custom-close-button",
      ref: c => this.closeButton = c
    }), this.props.showColorwayCloset ? /*#__PURE__*/external_React_default.a.createElement(ColorwayCloset, {
      dispatch: this.props.dispatch
    }) : /*#__PURE__*/external_React_default.a.createElement(external_React_default.a.Fragment, null), /*#__PURE__*/external_React_default.a.createElement(BackgroundsSection_BackgroundsSection, null), /*#__PURE__*/external_React_default.a.createElement(ContentSection_ContentSection, {
      openPreferences: this.props.openPreferences,
      setPref: this.props.setPref,
      enabledSections: this.props.enabledSections,
      pocketRegion: this.props.pocketRegion,
      mayHaveSponsoredTopSites: this.props.mayHaveSponsoredTopSites,
      mayHaveSponsoredStories: this.props.DiscoveryStream.config.show_spocs,
      dispatch: this.props.dispatch
    }))));
  }

}
const CustomizeMenu = Object(external_ReactRedux_["connect"])(state => ({
  DiscoveryStream: state.DiscoveryStream
}))(CustomizeMenu_CustomizeMenu);

/***/ }),
/* 66 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./common/Actions.jsm
var Actions = __webpack_require__(1);

// CONCATENATED MODULE: ./common/Dedupe.jsm
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */
class Dedupe {
  constructor(createKey) {
    this.createKey = createKey || this.defaultCreateKey;
  }

  defaultCreateKey(item) {
    return item;
  }
  /**
   * Dedupe any number of grouped elements favoring those from earlier groups.
   *
   * @param {Array} groups Contains an arbitrary number of arrays of elements.
   * @returns {Array} A matching array of each provided group deduped.
   */


  group(...groups) {
    const globalKeys = new Set();
    const result = [];

    for (const values of groups) {
      const valueMap = new Map();

      for (const value of values) {
        const key = this.createKey(value);

        if (!globalKeys.has(key) && !valueMap.has(key)) {
          valueMap.set(key, value);
        }
      }

      result.push(valueMap);
      valueMap.forEach((value, key) => globalKeys.add(key));
    }

    return result.map(m => Array.from(m.values()));
  }

}
// CONCATENATED MODULE: ./common/Reducers.jsm
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_DEFAULT_ROWS", function() { return TOP_SITES_DEFAULT_ROWS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_SITES_MAX_SITES_PER_ROW", function() { return TOP_SITES_MAX_SITES_PER_ROW; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INITIAL_STATE", function() { return INITIAL_STATE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "insertPinned", function() { return insertPinned; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reducers", function() { return reducers; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */




const TOP_SITES_DEFAULT_ROWS = 1;
const TOP_SITES_MAX_SITES_PER_ROW = 8;
const PREF_COLLECTION_DISMISSIBLE = "discoverystream.isCollectionDismissible";
const dedupe = new Dedupe(site => site && site.url);
const INITIAL_STATE = {
  App: {
    // Have we received real data from the app yet?
    initialized: false,
    locale: ""
  },
  ASRouter: {
    initialized: false
  },
  Snippets: {
    initialized: false
  },
  TopSites: {
    // Have we received real data from history yet?
    initialized: false,
    // The history (and possibly default) links
    rows: [],
    // Used in content only to dispatch action to TopSiteForm.
    editForm: null,
    // Used in content only to open the SearchShortcutsForm modal.
    showSearchShortcutsForm: false,
    // The list of available search shortcuts.
    searchShortcuts: []
  },
  Prefs: {
    initialized: false,
    values: {
      featureConfig: {}
    }
  },
  Dialog: {
    visible: false,
    data: {}
  },
  Sections: [],
  Pocket: {
    isUserLoggedIn: null,
    pocketCta: {},
    waitingForSpoc: true
  },
  // This is the new pocket configurable layout state.
  DiscoveryStream: {
    // This is a JSON-parsed copy of the discoverystream.config pref value.
    config: {
      enabled: false,
      layout_endpoint: ""
    },
    layout: [],
    lastUpdated: null,
    isPrivacyInfoModalVisible: false,
    isCollectionDismissible: false,
    feeds: {
      data: {// "https://foo.com/feed1": {lastUpdated: 123, data: []}
      },
      loaded: false
    },
    spocs: {
      spocs_endpoint: "",
      lastUpdated: null,
      data: {// "spocs": {title: "", context: "", items: []},
        // "placement1": {title: "", context: "", items: []},
      },
      loaded: false,
      frequency_caps: [],
      blocked: [],
      placements: []
    }
  },
  Personalization: {
    lastUpdated: null,
    initialized: false
  },
  Search: {
    // When search hand-off is enabled, we render a big button that is styled to
    // look like a search textbox. If the button is clicked, we style
    // the button as if it was a focused search box and show a fake cursor but
    // really focus the awesomebar without the focus styles ("hidden focus").
    fakeFocus: false,
    // Hide the search box after handing off to AwesomeBar and user starts typing.
    hide: false
  }
};

function App(prevState = INITIAL_STATE.App, action) {
  switch (action.type) {
    case Actions["actionTypes"].INIT:
      return Object.assign({}, prevState, action.data || {}, {
        initialized: true
      });

    default:
      return prevState;
  }
}

function ASRouter(prevState = INITIAL_STATE.ASRouter, action) {
  switch (action.type) {
    case Actions["actionTypes"].AS_ROUTER_INITIALIZED:
      return { ...action.data,
        initialized: true
      };

    default:
      return prevState;
  }
}
/**
 * insertPinned - Inserts pinned links in their specified slots
 *
 * @param {array} a list of links
 * @param {array} a list of pinned links
 * @return {array} resulting list of links with pinned links inserted
 */


function insertPinned(links, pinned) {
  // Remove any pinned links
  const pinnedUrls = pinned.map(link => link && link.url);
  let newLinks = links.filter(link => link ? !pinnedUrls.includes(link.url) : false);
  newLinks = newLinks.map(link => {
    if (link && link.isPinned) {
      delete link.isPinned;
      delete link.pinIndex;
    }

    return link;
  }); // Then insert them in their specified location

  pinned.forEach((val, index) => {
    if (!val) {
      return;
    }

    let link = Object.assign({}, val, {
      isPinned: true,
      pinIndex: index
    });

    if (index > newLinks.length) {
      newLinks[index] = link;
    } else {
      newLinks.splice(index, 0, link);
    }
  });
  return newLinks;
}

function TopSites(prevState = INITIAL_STATE.TopSites, action) {
  let hasMatch;
  let newRows;

  switch (action.type) {
    case Actions["actionTypes"].TOP_SITES_UPDATED:
      if (!action.data || !action.data.links) {
        return prevState;
      }

      return Object.assign({}, prevState, {
        initialized: true,
        rows: action.data.links
      }, action.data.pref ? {
        pref: action.data.pref
      } : {});

    case Actions["actionTypes"].TOP_SITES_PREFS_UPDATED:
      return Object.assign({}, prevState, {
        pref: action.data.pref
      });

    case Actions["actionTypes"].TOP_SITES_EDIT:
      return Object.assign({}, prevState, {
        editForm: {
          index: action.data.index,
          previewResponse: null
        }
      });

    case Actions["actionTypes"].TOP_SITES_CANCEL_EDIT:
      return Object.assign({}, prevState, {
        editForm: null
      });

    case Actions["actionTypes"].TOP_SITES_OPEN_SEARCH_SHORTCUTS_MODAL:
      return Object.assign({}, prevState, {
        showSearchShortcutsForm: true
      });

    case Actions["actionTypes"].TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL:
      return Object.assign({}, prevState, {
        showSearchShortcutsForm: false
      });

    case Actions["actionTypes"].PREVIEW_RESPONSE:
      if (!prevState.editForm || action.data.url !== prevState.editForm.previewUrl) {
        return prevState;
      }

      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: action.data.preview,
          previewUrl: action.data.url
        }
      });

    case Actions["actionTypes"].PREVIEW_REQUEST:
      if (!prevState.editForm) {
        return prevState;
      }

      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: null,
          previewUrl: action.data.url
        }
      });

    case Actions["actionTypes"].PREVIEW_REQUEST_CANCEL:
      if (!prevState.editForm) {
        return prevState;
      }

      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: null
        }
      });

    case Actions["actionTypes"].SCREENSHOT_UPDATED:
      newRows = prevState.rows.map(row => {
        if (row && row.url === action.data.url) {
          hasMatch = true;
          return Object.assign({}, row, {
            screenshot: action.data.screenshot
          });
        }

        return row;
      });
      return hasMatch ? Object.assign({}, prevState, {
        rows: newRows
      }) : prevState;

    case Actions["actionTypes"].PLACES_BOOKMARK_ADDED:
      if (!action.data) {
        return prevState;
      }

      newRows = prevState.rows.map(site => {
        if (site && site.url === action.data.url) {
          const {
            bookmarkGuid,
            bookmarkTitle,
            dateAdded
          } = action.data;
          return Object.assign({}, site, {
            bookmarkGuid,
            bookmarkTitle,
            bookmarkDateCreated: dateAdded
          });
        }

        return site;
      });
      return Object.assign({}, prevState, {
        rows: newRows
      });

    case Actions["actionTypes"].PLACES_BOOKMARKS_REMOVED:
      if (!action.data) {
        return prevState;
      }

      newRows = prevState.rows.map(site => {
        if (site && action.data.urls.includes(site.url)) {
          const newSite = Object.assign({}, site);
          delete newSite.bookmarkGuid;
          delete newSite.bookmarkTitle;
          delete newSite.bookmarkDateCreated;
          return newSite;
        }

        return site;
      });
      return Object.assign({}, prevState, {
        rows: newRows
      });

    case Actions["actionTypes"].PLACES_LINKS_DELETED:
      if (!action.data) {
        return prevState;
      }

      newRows = prevState.rows.filter(site => !action.data.urls.includes(site.url));
      return Object.assign({}, prevState, {
        rows: newRows
      });

    case Actions["actionTypes"].UPDATE_SEARCH_SHORTCUTS:
      return { ...prevState,
        searchShortcuts: action.data.searchShortcuts
      };

    case Actions["actionTypes"].SNIPPETS_PREVIEW_MODE:
      return { ...prevState,
        rows: []
      };

    default:
      return prevState;
  }
}

function Dialog(prevState = INITIAL_STATE.Dialog, action) {
  switch (action.type) {
    case Actions["actionTypes"].DIALOG_OPEN:
      return Object.assign({}, prevState, {
        visible: true,
        data: action.data
      });

    case Actions["actionTypes"].DIALOG_CANCEL:
      return Object.assign({}, prevState, {
        visible: false
      });

    case Actions["actionTypes"].DELETE_HISTORY_URL:
      return Object.assign({}, INITIAL_STATE.Dialog);

    default:
      return prevState;
  }
}

function Prefs(prevState = INITIAL_STATE.Prefs, action) {
  let newValues;

  switch (action.type) {
    case Actions["actionTypes"].PREFS_INITIAL_VALUES:
      return Object.assign({}, prevState, {
        initialized: true,
        values: action.data
      });

    case Actions["actionTypes"].PREF_CHANGED:
      newValues = Object.assign({}, prevState.values);
      newValues[action.data.name] = action.data.value;
      return Object.assign({}, prevState, {
        values: newValues
      });

    default:
      return prevState;
  }
}

function Sections(prevState = INITIAL_STATE.Sections, action) {
  let hasMatch;
  let newState;

  switch (action.type) {
    case Actions["actionTypes"].SECTION_DEREGISTER:
      return prevState.filter(section => section.id !== action.data);

    case Actions["actionTypes"].SECTION_REGISTER:
      // If section exists in prevState, update it
      newState = prevState.map(section => {
        if (section && section.id === action.data.id) {
          hasMatch = true;
          return Object.assign({}, section, action.data);
        }

        return section;
      }); // Otherwise, append it

      if (!hasMatch) {
        const initialized = !!(action.data.rows && !!action.data.rows.length);
        const section = Object.assign({
          title: "",
          rows: [],
          enabled: false
        }, action.data, {
          initialized
        });
        newState.push(section);
      }

      return newState;

    case Actions["actionTypes"].SECTION_UPDATE:
      newState = prevState.map(section => {
        if (section && section.id === action.data.id) {
          // If the action is updating rows, we should consider initialized to be true.
          // This can be overridden if initialized is defined in the action.data
          const initialized = action.data.rows ? {
            initialized: true
          } : {}; // Make sure pinned cards stay at their current position when rows are updated.
          // Disabling a section (SECTION_UPDATE with empty rows) does not retain pinned cards.

          if (action.data.rows && !!action.data.rows.length && section.rows.find(card => card.pinned)) {
            const rows = Array.from(action.data.rows);
            section.rows.forEach((card, index) => {
              if (card.pinned) {
                // Only add it if it's not already there.
                if (rows[index].guid !== card.guid) {
                  rows.splice(index, 0, card);
                }
              }
            });
            return Object.assign({}, section, initialized, Object.assign({}, action.data, {
              rows
            }));
          }

          return Object.assign({}, section, initialized, action.data);
        }

        return section;
      });

      if (!action.data.dedupeConfigurations) {
        return newState;
      }

      action.data.dedupeConfigurations.forEach(dedupeConf => {
        newState = newState.map(section => {
          if (section.id === dedupeConf.id) {
            const dedupedRows = dedupeConf.dedupeFrom.reduce((rows, dedupeSectionId) => {
              const dedupeSection = newState.find(s => s.id === dedupeSectionId);
              const [, newRows] = dedupe.group(dedupeSection.rows, rows);
              return newRows;
            }, section.rows);
            return Object.assign({}, section, {
              rows: dedupedRows
            });
          }

          return section;
        });
      });
      return newState;

    case Actions["actionTypes"].SECTION_UPDATE_CARD:
      return prevState.map(section => {
        if (section && section.id === action.data.id && section.rows) {
          const newRows = section.rows.map(card => {
            if (card.url === action.data.url) {
              return Object.assign({}, card, action.data.options);
            }

            return card;
          });
          return Object.assign({}, section, {
            rows: newRows
          });
        }

        return section;
      });

    case Actions["actionTypes"].PLACES_BOOKMARK_ADDED:
      if (!action.data) {
        return prevState;
      }

      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.map(item => {
          // find the item within the rows that is attempted to be bookmarked
          if (item.url === action.data.url) {
            const {
              bookmarkGuid,
              bookmarkTitle,
              dateAdded
            } = action.data;
            return Object.assign({}, item, {
              bookmarkGuid,
              bookmarkTitle,
              bookmarkDateCreated: dateAdded,
              type: "bookmark"
            });
          }

          return item;
        })
      }));

    case Actions["actionTypes"].PLACES_SAVED_TO_POCKET:
      if (!action.data) {
        return prevState;
      }

      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.map(item => {
          if (item.url === action.data.url) {
            return Object.assign({}, item, {
              open_url: action.data.open_url,
              pocket_id: action.data.pocket_id,
              title: action.data.title,
              type: "pocket"
            });
          }

          return item;
        })
      }));

    case Actions["actionTypes"].PLACES_BOOKMARKS_REMOVED:
      if (!action.data) {
        return prevState;
      }

      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.map(item => {
          // find the bookmark within the rows that is attempted to be removed
          if (action.data.urls.includes(item.url)) {
            const newSite = Object.assign({}, item);
            delete newSite.bookmarkGuid;
            delete newSite.bookmarkTitle;
            delete newSite.bookmarkDateCreated;

            if (!newSite.type || newSite.type === "bookmark") {
              newSite.type = "history";
            }

            return newSite;
          }

          return item;
        })
      }));

    case Actions["actionTypes"].PLACES_LINKS_DELETED:
      if (!action.data) {
        return prevState;
      }

      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.filter(site => !action.data.urls.includes(site.url))
      }));

    case Actions["actionTypes"].PLACES_LINK_BLOCKED:
      if (!action.data) {
        return prevState;
      }

      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.filter(site => site.url !== action.data.url)
      }));

    case Actions["actionTypes"].DELETE_FROM_POCKET:
    case Actions["actionTypes"].ARCHIVE_FROM_POCKET:
      return prevState.map(section => Object.assign({}, section, {
        rows: section.rows.filter(site => site.pocket_id !== action.data.pocket_id)
      }));

    case Actions["actionTypes"].SNIPPETS_PREVIEW_MODE:
      return prevState.map(section => ({ ...section,
        rows: []
      }));

    default:
      return prevState;
  }
}

function Snippets(prevState = INITIAL_STATE.Snippets, action) {
  switch (action.type) {
    case Actions["actionTypes"].SNIPPETS_DATA:
      return Object.assign({}, prevState, {
        initialized: true
      }, action.data);

    case Actions["actionTypes"].SNIPPET_BLOCKED:
      return Object.assign({}, prevState, {
        blockList: prevState.blockList.concat(action.data)
      });

    case Actions["actionTypes"].SNIPPETS_BLOCKLIST_CLEARED:
      return Object.assign({}, prevState, {
        blockList: []
      });

    case Actions["actionTypes"].SNIPPETS_RESET:
      return INITIAL_STATE.Snippets;

    default:
      return prevState;
  }
}

function Pocket(prevState = INITIAL_STATE.Pocket, action) {
  switch (action.type) {
    case Actions["actionTypes"].POCKET_WAITING_FOR_SPOC:
      return { ...prevState,
        waitingForSpoc: action.data
      };

    case Actions["actionTypes"].POCKET_LOGGED_IN:
      return { ...prevState,
        isUserLoggedIn: !!action.data
      };

    case Actions["actionTypes"].POCKET_CTA:
      return { ...prevState,
        pocketCta: {
          ctaButton: action.data.cta_button,
          ctaText: action.data.cta_text,
          ctaUrl: action.data.cta_url,
          useCta: action.data.use_cta
        }
      };

    default:
      return prevState;
  }
}

function Personalization(prevState = INITIAL_STATE.Personalization, action) {
  switch (action.type) {
    case Actions["actionTypes"].DISCOVERY_STREAM_PERSONALIZATION_LAST_UPDATED:
      return { ...prevState,
        lastUpdated: action.data.lastUpdated
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_PERSONALIZATION_INIT:
      return { ...prevState,
        initialized: true
      };

    default:
      return prevState;
  }
} // eslint-disable-next-line complexity


function DiscoveryStream(prevState = INITIAL_STATE.DiscoveryStream, action) {
  // Return if action data is empty, or spocs or feeds data is not loaded
  const isNotReady = () => !action.data || !prevState.spocs.loaded || !prevState.feeds.loaded;

  const handlePlacements = handleSites => {
    const {
      data,
      placements
    } = prevState.spocs;
    const result = {};

    const forPlacement = placement => {
      const placementSpocs = data[placement.name];

      if (!placementSpocs || !placementSpocs.items || !placementSpocs.items.length) {
        return;
      }

      result[placement.name] = { ...placementSpocs,
        items: handleSites(placementSpocs.items)
      };
    };

    if (!placements || !placements.length) {
      [{
        name: "spocs"
      }].forEach(forPlacement);
    } else {
      placements.forEach(forPlacement);
    }

    return result;
  };

  const nextState = handleSites => ({ ...prevState,
    spocs: { ...prevState.spocs,
      data: handlePlacements(handleSites)
    },
    feeds: { ...prevState.feeds,
      data: Object.keys(prevState.feeds.data).reduce((accumulator, feed_url) => {
        accumulator[feed_url] = {
          data: { ...prevState.feeds.data[feed_url].data,
            recommendations: handleSites(prevState.feeds.data[feed_url].data.recommendations)
          }
        };
        return accumulator;
      }, {})
    }
  });

  switch (action.type) {
    case Actions["actionTypes"].DISCOVERY_STREAM_CONFIG_CHANGE: // Fall through to a separate action is so it doesn't trigger a listener update on init

    case Actions["actionTypes"].DISCOVERY_STREAM_CONFIG_SETUP:
      return { ...prevState,
        config: action.data || {}
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_LAYOUT_UPDATE:
      return { ...prevState,
        lastUpdated: action.data.lastUpdated || null,
        layout: action.data.layout || []
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_COLLECTION_DISMISSIBLE_TOGGLE:
      return { ...prevState,
        isCollectionDismissible: action.data.value
      };

    case Actions["actionTypes"].HIDE_PRIVACY_INFO:
      return { ...prevState,
        isPrivacyInfoModalVisible: false
      };

    case Actions["actionTypes"].SHOW_PRIVACY_INFO:
      return { ...prevState,
        isPrivacyInfoModalVisible: true
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_LAYOUT_RESET:
      return { ...INITIAL_STATE.DiscoveryStream,
        config: prevState.config
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_FEEDS_UPDATE:
      return { ...prevState,
        feeds: { ...prevState.feeds,
          loaded: true
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_FEED_UPDATE:
      const newData = {};
      newData[action.data.url] = action.data.feed;
      return { ...prevState,
        feeds: { ...prevState.feeds,
          data: { ...prevState.feeds.data,
            ...newData
          }
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOCS_CAPS:
      return { ...prevState,
        spocs: { ...prevState.spocs,
          frequency_caps: [...prevState.spocs.frequency_caps, ...action.data]
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOCS_ENDPOINT:
      return { ...prevState,
        spocs: { ...INITIAL_STATE.DiscoveryStream.spocs,
          spocs_endpoint: action.data.url || INITIAL_STATE.DiscoveryStream.spocs.spocs_endpoint
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOCS_PLACEMENTS:
      return { ...prevState,
        spocs: { ...prevState.spocs,
          placements: action.data.placements || INITIAL_STATE.DiscoveryStream.spocs.placements
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOCS_UPDATE:
      if (action.data) {
        return { ...prevState,
          spocs: { ...prevState.spocs,
            lastUpdated: action.data.lastUpdated,
            data: action.data.spocs,
            loaded: true
          }
        };
      }

      return prevState;

    case Actions["actionTypes"].DISCOVERY_STREAM_SPOC_BLOCKED:
      return { ...prevState,
        spocs: { ...prevState.spocs,
          blocked: [...prevState.spocs.blocked, action.data.url]
        }
      };

    case Actions["actionTypes"].DISCOVERY_STREAM_LINK_BLOCKED:
      return isNotReady() ? prevState : nextState(items => items.filter(item => item.url !== action.data.url));

    case Actions["actionTypes"].PLACES_SAVED_TO_POCKET:
      const addPocketInfo = item => {
        if (item.url === action.data.url) {
          return Object.assign({}, item, {
            open_url: action.data.open_url,
            pocket_id: action.data.pocket_id,
            context_type: "pocket"
          });
        }

        return item;
      };

      return isNotReady() ? prevState : nextState(items => items.map(addPocketInfo));

    case Actions["actionTypes"].DELETE_FROM_POCKET:
    case Actions["actionTypes"].ARCHIVE_FROM_POCKET:
      return isNotReady() ? prevState : nextState(items => items.filter(item => item.pocket_id !== action.data.pocket_id));

    case Actions["actionTypes"].PLACES_BOOKMARK_ADDED:
      const updateBookmarkInfo = item => {
        if (item.url === action.data.url) {
          const {
            bookmarkGuid,
            bookmarkTitle,
            dateAdded
          } = action.data;
          return Object.assign({}, item, {
            bookmarkGuid,
            bookmarkTitle,
            bookmarkDateCreated: dateAdded,
            context_type: "bookmark"
          });
        }

        return item;
      };

      return isNotReady() ? prevState : nextState(items => items.map(updateBookmarkInfo));

    case Actions["actionTypes"].PLACES_BOOKMARKS_REMOVED:
      const removeBookmarkInfo = item => {
        if (action.data.urls.includes(item.url)) {
          const newSite = Object.assign({}, item);
          delete newSite.bookmarkGuid;
          delete newSite.bookmarkTitle;
          delete newSite.bookmarkDateCreated;

          if (!newSite.context_type || newSite.context_type === "bookmark") {
            newSite.context_type = "removedBookmark";
          }

          return newSite;
        }

        return item;
      };

      return isNotReady() ? prevState : nextState(items => items.map(removeBookmarkInfo));

    case Actions["actionTypes"].PREF_CHANGED:
      if (action.data.name === PREF_COLLECTION_DISMISSIBLE) {
        return { ...prevState,
          isCollectionDismissible: action.data.value
        };
      }

      return prevState;

    default:
      return prevState;
  }
}

function Search(prevState = INITIAL_STATE.Search, action) {
  switch (action.type) {
    case Actions["actionTypes"].DISABLE_SEARCH:
      return Object.assign({ ...prevState,
        disable: true
      });

    case Actions["actionTypes"].FAKE_FOCUS_SEARCH:
      return Object.assign({ ...prevState,
        fakeFocus: true
      });

    case Actions["actionTypes"].SHOW_SEARCH:
      return Object.assign({ ...prevState,
        disable: false,
        fakeFocus: false
      });

    default:
      return prevState;
  }
}

var reducers = {
  TopSites,
  App,
  ASRouter,
  Snippets,
  Prefs,
  Dialog,
  Sections,
  Pocket,
  Personalization,
  DiscoveryStream,
  Search
};

/***/ }),
/* 67 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./common/Actions.jsm
var Actions = __webpack_require__(1);

// EXTERNAL MODULE: ./content-src/components/A11yLinkButton/A11yLinkButton.jsx
var A11yLinkButton = __webpack_require__(31);

// EXTERNAL MODULE: external "React"
var external_React_ = __webpack_require__(8);
var external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);

// EXTERNAL MODULE: ./content-src/components/TopSites/TopSitesConstants.js
var TopSitesConstants = __webpack_require__(47);

// CONCATENATED MODULE: ./content-src/components/TopSites/TopSiteFormInput.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class TopSiteFormInput_TopSiteFormInput extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      validationError: this.props.validationError
    };
    this.onChange = this.onChange.bind(this);
    this.onMount = this.onMount.bind(this);
    this.onClearIconPress = this.onClearIconPress.bind(this);
  }

  componentWillReceiveProps(nextProps) {
    if (nextProps.shouldFocus && !this.props.shouldFocus) {
      this.input.focus();
    }

    if (nextProps.validationError && !this.props.validationError) {
      this.setState({
        validationError: true
      });
    } // If the component is in an error state but the value was cleared by the parent


    if (this.state.validationError && !nextProps.value) {
      this.setState({
        validationError: false
      });
    }
  }

  onClearIconPress(event) {
    // If there is input in the URL or custom image URL fields,
    // and we hit 'enter' while tabbed over the clear icon,
    // we should execute the function to clear the field.
    if (event.key === "Enter") {
      this.props.onClear();
    }
  }

  onChange(ev) {
    if (this.state.validationError) {
      this.setState({
        validationError: false
      });
    }

    this.props.onChange(ev);
  }

  onMount(input) {
    this.input = input;
  }

  renderLoadingOrCloseButton() {
    const showClearButton = this.props.value && this.props.onClear;

    if (this.props.loading) {
      return /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "loading-container"
      }, /*#__PURE__*/external_React_default.a.createElement("div", {
        className: "loading-animation"
      }));
    } else if (showClearButton) {
      return /*#__PURE__*/external_React_default.a.createElement("button", {
        type: "button",
        className: "icon icon-clear-input icon-button-style",
        onClick: this.props.onClear,
        onKeyPress: this.onClearIconPress
      });
    }

    return null;
  }

  render() {
    const {
      typeUrl
    } = this.props;
    const {
      validationError
    } = this.state;
    return /*#__PURE__*/external_React_default.a.createElement("label", null, /*#__PURE__*/external_React_default.a.createElement("span", {
      "data-l10n-id": this.props.titleId
    }), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: `field ${typeUrl ? "url" : ""}${validationError ? " invalid" : ""}`
    }, /*#__PURE__*/external_React_default.a.createElement("input", {
      type: "text",
      value: this.props.value,
      ref: this.onMount,
      onChange: this.onChange,
      "data-l10n-id": this.props.placeholderId // Set focus on error if the url field is valid or when the input is first rendered and is empty
      // eslint-disable-next-line jsx-a11y/no-autofocus
      ,
      autoFocus: this.props.shouldFocus,
      disabled: this.props.loading
    }), this.renderLoadingOrCloseButton(), validationError && /*#__PURE__*/external_React_default.a.createElement("aside", {
      className: "error-tooltip",
      "data-l10n-id": this.props.errorMessageId
    })));
  }

}
TopSiteFormInput_TopSiteFormInput.defaultProps = {
  showClearButton: false,
  value: "",
  validationError: false
};
// EXTERNAL MODULE: ./content-src/components/TopSites/TopSite.jsx
var TopSite = __webpack_require__(49);

// CONCATENATED MODULE: ./content-src/components/TopSites/TopSiteForm.jsx
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopSiteForm", function() { return TopSiteForm_TopSiteForm; });
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






class TopSiteForm_TopSiteForm extends external_React_default.a.PureComponent {
  constructor(props) {
    super(props);
    const {
      site
    } = props;
    this.state = {
      label: site ? site.label || site.hostname : "",
      url: site ? site.url : "",
      validationError: false,
      customScreenshotUrl: site ? site.customScreenshotURL : "",
      showCustomScreenshotForm: site ? site.customScreenshotURL : false
    };
    this.onClearScreenshotInput = this.onClearScreenshotInput.bind(this);
    this.onLabelChange = this.onLabelChange.bind(this);
    this.onUrlChange = this.onUrlChange.bind(this);
    this.onCancelButtonClick = this.onCancelButtonClick.bind(this);
    this.onClearUrlClick = this.onClearUrlClick.bind(this);
    this.onDoneButtonClick = this.onDoneButtonClick.bind(this);
    this.onCustomScreenshotUrlChange = this.onCustomScreenshotUrlChange.bind(this);
    this.onPreviewButtonClick = this.onPreviewButtonClick.bind(this);
    this.onEnableScreenshotUrlForm = this.onEnableScreenshotUrlForm.bind(this);
    this.validateUrl = this.validateUrl.bind(this);
  }

  onLabelChange(event) {
    this.setState({
      label: event.target.value
    });
  }

  onUrlChange(event) {
    this.setState({
      url: event.target.value,
      validationError: false
    });
  }

  onClearUrlClick() {
    this.setState({
      url: "",
      validationError: false
    });
  }

  onEnableScreenshotUrlForm() {
    this.setState({
      showCustomScreenshotForm: true
    });
  }

  _updateCustomScreenshotInput(customScreenshotUrl) {
    this.setState({
      customScreenshotUrl,
      validationError: false
    });
    this.props.dispatch({
      type: Actions["actionTypes"].PREVIEW_REQUEST_CANCEL
    });
  }

  onCustomScreenshotUrlChange(event) {
    this._updateCustomScreenshotInput(event.target.value);
  }

  onClearScreenshotInput() {
    this._updateCustomScreenshotInput("");
  }

  onCancelButtonClick(ev) {
    ev.preventDefault();
    this.props.onClose();
  }

  onDoneButtonClick(ev) {
    ev.preventDefault();

    if (this.validateForm()) {
      const site = {
        url: this.cleanUrl(this.state.url)
      };
      const {
        index
      } = this.props;

      if (this.state.label !== "") {
        site.label = this.state.label;
      }

      if (this.state.customScreenshotUrl) {
        site.customScreenshotURL = this.cleanUrl(this.state.customScreenshotUrl);
      } else if (this.props.site && this.props.site.customScreenshotURL) {
        // Used to flag that previously cached screenshot should be removed
        site.customScreenshotURL = null;
      }

      this.props.dispatch(Actions["actionCreators"].AlsoToMain({
        type: Actions["actionTypes"].TOP_SITES_PIN,
        data: {
          site,
          index
        }
      }));
      this.props.dispatch(Actions["actionCreators"].UserEvent({
        source: TopSitesConstants["TOP_SITES_SOURCE"],
        event: "TOP_SITES_EDIT",
        action_position: index
      }));
      this.props.onClose();
    }
  }

  onPreviewButtonClick(event) {
    event.preventDefault();

    if (this.validateForm()) {
      this.props.dispatch(Actions["actionCreators"].AlsoToMain({
        type: Actions["actionTypes"].PREVIEW_REQUEST,
        data: {
          url: this.cleanUrl(this.state.customScreenshotUrl)
        }
      }));
      this.props.dispatch(Actions["actionCreators"].UserEvent({
        source: TopSitesConstants["TOP_SITES_SOURCE"],
        event: "PREVIEW_REQUEST"
      }));
    }
  }

  cleanUrl(url) {
    // If we are missing a protocol, prepend http://
    if (!url.startsWith("http:") && !url.startsWith("https:")) {
      return `http://${url}`;
    }

    return url;
  }

  _tryParseUrl(url) {
    try {
      return new URL(url);
    } catch (e) {
      return null;
    }
  }

  validateUrl(url) {
    const validProtocols = ["http:", "https:"];

    const urlObj = this._tryParseUrl(url) || this._tryParseUrl(this.cleanUrl(url));

    return urlObj && validProtocols.includes(urlObj.protocol);
  }

  validateCustomScreenshotUrl() {
    const {
      customScreenshotUrl
    } = this.state;
    return !customScreenshotUrl || this.validateUrl(customScreenshotUrl);
  }

  validateForm() {
    const validate = this.validateUrl(this.state.url) && this.validateCustomScreenshotUrl();

    if (!validate) {
      this.setState({
        validationError: true
      });
    }

    return validate;
  }

  _renderCustomScreenshotInput() {
    const {
      customScreenshotUrl
    } = this.state;
    const requestFailed = this.props.previewResponse === "";
    const validationError = this.state.validationError && !this.validateCustomScreenshotUrl() || requestFailed; // Set focus on error if the url field is valid or when the input is first rendered and is empty

    const shouldFocus = validationError && this.validateUrl(this.state.url) || !customScreenshotUrl;
    const isLoading = this.props.previewResponse === null && customScreenshotUrl && this.props.previewUrl === this.cleanUrl(customScreenshotUrl);

    if (!this.state.showCustomScreenshotForm) {
      return /*#__PURE__*/external_React_default.a.createElement(A11yLinkButton["A11yLinkButton"], {
        onClick: this.onEnableScreenshotUrlForm,
        className: "enable-custom-image-input",
        "data-l10n-id": "newtab-topsites-use-image-link"
      });
    }

    return /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "custom-image-input-container"
    }, /*#__PURE__*/external_React_default.a.createElement(TopSiteFormInput_TopSiteFormInput, {
      errorMessageId: requestFailed ? "newtab-topsites-image-validation" : "newtab-topsites-url-validation",
      loading: isLoading,
      onChange: this.onCustomScreenshotUrlChange,
      onClear: this.onClearScreenshotInput,
      shouldFocus: shouldFocus,
      typeUrl: true,
      value: customScreenshotUrl,
      validationError: validationError,
      titleId: "newtab-topsites-image-url-label",
      placeholderId: "newtab-topsites-url-input"
    }));
  }

  render() {
    const {
      customScreenshotUrl
    } = this.state;
    const requestFailed = this.props.previewResponse === ""; // For UI purposes, editing without an existing link is "add"

    const showAsAdd = !this.props.site;
    const previous = this.props.site && this.props.site.customScreenshotURL || "";
    const changed = customScreenshotUrl && this.cleanUrl(customScreenshotUrl) !== previous; // Preview mode if changes were made to the custom screenshot URL and no preview was received yet
    // or the request failed

    const previewMode = changed && !this.props.previewResponse;
    const previewLink = Object.assign({}, this.props.site);

    if (this.props.previewResponse) {
      previewLink.screenshot = this.props.previewResponse;
      previewLink.customScreenshotURL = this.props.previewUrl;
    } // Handles the form submit so an enter press performs the correct action


    const onSubmit = previewMode ? this.onPreviewButtonClick : this.onDoneButtonClick;
    const addTopsitesHeaderL10nId = "newtab-topsites-add-shortcut-header";
    const editTopsitesHeaderL10nId = "newtab-topsites-edit-shortcut-header";
    return /*#__PURE__*/external_React_default.a.createElement("form", {
      className: "topsite-form",
      onSubmit: onSubmit
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "form-input-container"
    }, /*#__PURE__*/external_React_default.a.createElement("h3", {
      className: "section-title grey-title",
      "data-l10n-id": showAsAdd ? addTopsitesHeaderL10nId : editTopsitesHeaderL10nId
    }), /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "fields-and-preview"
    }, /*#__PURE__*/external_React_default.a.createElement("div", {
      className: "form-wrapper"
    }, /*#__PURE__*/external_React_default.a.createElement(TopSiteFormInput_TopSiteFormInput, {
      onChange: this.onLabelChange,
      value: this.state.label,
      titleId: "newtab-topsites-title-label",
      placeholderId: "newtab-topsites-title-input"
    }), /*#__PURE__*/external_React_default.a.createElement(TopSiteFormInput_TopSiteFormInput, {
      onChange: this.onUrlChange,
      shouldFocus: this.state.validationError && !this.validateUrl(this.state.url),
      value: this.state.url,
      onClear: this.onClearUrlClick,
      validationError: this.state.validationError && !this.validateUrl(this.state.url),
      titleId: "newtab-topsites-url-label",
      typeUrl: true,
      placeholderId: "newtab-topsites-url-input",
      errorMessageId: "newtab-topsites-url-validation"
    }), this._renderCustomScreenshotInput()), /*#__PURE__*/external_React_default.a.createElement(TopSite["TopSiteLink"], {
      link: previewLink,
      defaultStyle: requestFailed,
      title: this.state.label
    }))), /*#__PURE__*/external_React_default.a.createElement("section", {
      className: "actions"
    }, /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "cancel",
      type: "button",
      onClick: this.onCancelButtonClick,
      "data-l10n-id": "newtab-topsites-cancel-button"
    }), previewMode ? /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "done preview",
      type: "submit",
      "data-l10n-id": "newtab-topsites-preview-button"
    }) : /*#__PURE__*/external_React_default.a.createElement("button", {
      className: "done",
      type: "submit",
      "data-l10n-id": showAsAdd ? "newtab-topsites-add-button" : "newtab-topsites-save-button"
    })));
  }

}
TopSiteForm_TopSiteForm.defaultProps = {
  site: null,
  index: -1
};

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2FjdGl2aXR5LXN0cmVhbS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb21tb24vQWN0aW9ucy5qc20iLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Jhc2UvQmFzZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9BU1JvdXRlckFkbWluL0FTUm91dGVyQWRtaW4uanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvYXNyb3V0ZXItdXRpbHMuanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb21tb24vQWN0b3JDb25zdGFudHMuanNtIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzL2V4dGVybmFsIFwiUmVhY3RSZWR1eFwiIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQVNSb3V0ZXJBZG1pbi9TaW1wbGVIYXNoUm91dGVyLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL2Fzcm91dGVyLWNvbnRlbnQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvY29tcG9uZW50cy9JbXByZXNzaW9uc1dyYXBwZXIvSW1wcmVzc2lvbnNXcmFwcGVyLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy9leHRlcm5hbCBcIlByb3BUeXBlc1wiIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvbGliL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy9leHRlcm5hbCBcIlJlYWN0RE9NXCIiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0NvbmZpcm1EaWFsb2cvQ29uZmlybURpYWxvZy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUJhc2UvRGlzY292ZXJ5U3RyZWFtQmFzZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNJbWFnZS9EU0ltYWdlLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvTGlua01lbnUvTGlua01lbnUuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvbGluay1tZW51LW9wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51QnV0dG9uLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzL0ltcHJlc3Npb25TdGF0cy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvU2FmZUFuY2hvci9TYWZlQW5jaG9yLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ2FyZC90eXBlcy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy9leHRlcm5hbCBcIlJlYWN0VHJhbnNpdGlvbkdyb3VwXCIiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0ZsdWVudE9yVGV4dC9GbHVlbnRPclRleHQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0NvbGxlY3Rpb25DYXJkR3JpZC9Db2xsZWN0aW9uQ2FyZEdyaWQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTRGlzbWlzcy9EU0Rpc21pc3MuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Db2xsYXBzaWJsZVNlY3Rpb24vQ29sbGFwc2libGVTZWN0aW9uLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRXJyb3JCb3VuZGFyeS9FcnJvckJvdW5kYXJ5LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQTExeUxpbmtCdXR0b24vQTExeUxpbmtCdXR0b24uanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTTWVzc2FnZS9EU01lc3NhZ2UuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTUHJpdmFjeU1vZGFsL0RTUHJpdmFjeU1vZGFsLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL2NvbXBvbmVudHMvTW9kYWxPdmVybGF5L01vZGFsT3ZlcmxheS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNTaWdudXAvRFNTaWdudXAuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTVGV4dFByb21vL0RTVGV4dFByb21vLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9IaWdobGlnaHRzL0hpZ2hsaWdodHMuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9TZWN0aW9ucy9TZWN0aW9ucy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0NhcmQvQ2FyZC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvc2NyZWVuc2hvdC11dGlscy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29tcG9uZW50UGVyZlRpbWVyL0NvbXBvbmVudFBlcmZUaW1lci5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvcGVyZi1zZXJ2aWNlLmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Nb3JlUmVjb21tZW5kYXRpb25zL01vcmVSZWNvbW1lbmRhdGlvbnMuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Qb2NrZXRMb2dnZWRJbkN0YS9Qb2NrZXRMb2dnZWRJbkN0YS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1RvcGljcy9Ub3BpY3MuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlcy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1RvcFNpdGVzL1RvcFNpdGVzQ29uc3RhbnRzLmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9TZWFyY2hTaG9ydGN1dHNGb3JtLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1RvcFNpdGVzL1RvcFNpdGVJbXByZXNzaW9uV3JhcHBlci5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvSG9yaXpvbnRhbFJ1bGUvSG9yaXpvbnRhbFJ1bGUuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL05hdmlnYXRpb24vTmF2aWdhdGlvbi5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvUHJpdmFjeUxpbmsvUHJpdmFjeUxpbmsuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL1NlY3Rpb25UaXRsZS9TZWN0aW9uVGl0bGUuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvbGliL3NlbGVjdExheW91dFJlbmRlci5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlcy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1NlYXJjaC9TZWFyY2guanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvbGliL2RldGVjdC11c2VyLXNlc3Npb24tc3RhcnQuanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvaW5pdC1zdG9yZS5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy9leHRlcm5hbCBcIlJlZHV4XCIiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9ub2RlX21vZHVsZXMvZmx1ZW50LXNlcXVlbmNlL3NyYy9tYXBfc3luYy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtc2VxdWVuY2Uvc3JjL21hcF9hc3luYy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtc2VxdWVuY2Uvc3JjL2luZGV4LmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vbm9kZV9tb2R1bGVzL2NhY2hlZC1pdGVyYWJsZS9zcmMvY2FjaGVkX2l0ZXJhYmxlLm1qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9jYWNoZWQtaXRlcmFibGUvc3JjL2NhY2hlZF9zeW5jX2l0ZXJhYmxlLm1qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9jYWNoZWQtaXRlcmFibGUvc3JjL2NhY2hlZF9hc3luY19pdGVyYWJsZS5tanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9ub2RlX21vZHVsZXMvY2FjaGVkLWl0ZXJhYmxlL3NyYy9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9ub2RlX21vZHVsZXMvZmx1ZW50LXJlYWN0L3NyYy9sb2NhbGl6YXRpb24uanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9ub2RlX21vZHVsZXMvZmx1ZW50LXJlYWN0L3NyYy9tYXJrdXAuanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9ub2RlX21vZHVsZXMvZmx1ZW50LXJlYWN0L3NyYy9wcm92aWRlci5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtcmVhY3Qvc3JjL3dpdGhfbG9jYWxpemF0aW9uLmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC1yZWFjdC92ZW5kb3Ivb21pdHRlZENsb3NlVGFncy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtcmVhY3QvdmVuZG9yL3ZvaWRFbGVtZW50VGFncy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtcmVhY3Qvc3JjL2xvY2FsaXplZC5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQtcmVhY3Qvc3JjL2luZGV4LmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvY29tcG9uZW50cy9CdXR0b24vQnV0dG9uLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL2NvbXBvbmVudHMvQ29uZGl0aW9uYWxXcmFwcGVyL0NvbmRpdGlvbmFsV3JhcHBlci5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZS11dGlscy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL2NvbXBvbmVudHMvUmljaFRleHQvUmljaFRleHQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvY29tcG9uZW50cy9TbmlwcGV0QmFzZS9TbmlwcGV0QmFzZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZXMvU2ltcGxlU25pcHBldC9TaW1wbGVTbmlwcGV0LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL3RlbXBsYXRlcy9FT1lTbmlwcGV0L0VPWVNuaXBwZXQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvdGVtcGxhdGVzL1N1Ym1pdEZvcm1TbmlwcGV0L1N1Ym1pdEZvcm1TbmlwcGV0LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL3RlbXBsYXRlcy9GWEFTaWdudXBTbmlwcGV0L0ZYQVNpZ251cFNuaXBwZXQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvdGVtcGxhdGVzL05ld3NsZXR0ZXJTbmlwcGV0L05ld3NsZXR0ZXJTbmlwcGV0LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2Fzcm91dGVyL3RlbXBsYXRlcy9TZW5kVG9EZXZpY2VTbmlwcGV0L2lzRW1haWxPclBob25lTnVtYmVyLmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvdGVtcGxhdGVzL1NlbmRUb0RldmljZVNuaXBwZXQvU2VuZFRvRGV2aWNlU25pcHBldC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZXMvU2ltcGxlQmVsb3dTZWFyY2hTbmlwcGV0L1NpbXBsZUJlbG93U2VhcmNoU25pcHBldC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9hc3JvdXRlci90ZW1wbGF0ZXMvdGVtcGxhdGUtbWFuaWZlc3QuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC9zcmMvdHlwZXMuanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9ub2RlX21vZHVsZXMvZmx1ZW50L3NyYy9idWlsdGlucy5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQvc3JjL3Jlc29sdmVyLmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vbm9kZV9tb2R1bGVzL2ZsdWVudC9zcmMvZXJyb3IuanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9ub2RlX21vZHVsZXMvZmx1ZW50L3NyYy9yZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQvc3JjL2J1bmRsZS5qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL25vZGVfbW9kdWxlcy9mbHVlbnQvc3JjL2luZGV4LmpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYXNyb3V0ZXIvcmljaC10ZXh0LXN0cmluZ3MuanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNMaW5rTWVudS9EU0xpbmtNZW51LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0NvbnRleHRGb290ZXIvRFNDb250ZXh0Rm9vdGVyLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0NhcmQvRFNDYXJkLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0VtcHR5U3RhdGUvRFNFbXB0eVN0YXRlLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9DYXJkR3JpZC9DYXJkR3JpZC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0N1c3RvbWl6ZU1lbnUvQmFja2dyb3VuZHNTZWN0aW9uL0JhY2tncm91bmRzU2VjdGlvbi5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0N1c3RvbWl6ZU1lbnUvQ29udGVudFNlY3Rpb24vQ29udGVudFNlY3Rpb24uanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9DdXN0b21pemVNZW51L0NvbG9yd2F5Q2xvc2V0L0NvbG9yd2F5Q2xvc2V0LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ3VzdG9taXplTWVudS9DdXN0b21pemVNZW51LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbW1vbi9EZWR1cGUuanNtIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29tbW9uL1JlZHVjZXJzLmpzbSIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZUZvcm1JbnB1dC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1RvcFNpdGVzL1RvcFNpdGVGb3JtLmpzeCJdLCJuYW1lcyI6WyJOZXdUYWIiLCJzdG9yZSIsInJlbmRlcldpdGhvdXRTdGF0ZSIsImluaXRTdG9yZSIsInJlZHVjZXJzIiwiRGV0ZWN0VXNlclNlc3Npb25TdGFydCIsInNlbmRFdmVudE9yQWRkTGlzdGVuZXIiLCJkaWRSZXF1ZXN0IiwicmVxdWVzdElkbGVDYWxsYmFja0lkIiwiZG9SZXF1ZXN0IiwiY2FuY2VsSWRsZUNhbGxiYWNrIiwiZGlzcGF0Y2giLCJhYyIsIkFsc29Ub01haW4iLCJ0eXBlIiwiYXQiLCJORVdfVEFCX1NUQVRFX1JFUVVFU1QiLCJkb2N1bWVudCIsImhpZGRlbiIsInJlcXVlc3RJZGxlQ2FsbGJhY2siLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsIlJlYWN0RE9NIiwiaHlkcmF0ZSIsImdldEVsZW1lbnRCeUlkIiwicmVuZGVyQ2FjaGUiLCJpbml0aWFsU3RhdGUiLCJnbG9iYWxJbXBvcnRDb250ZXh0IiwiV2luZG93IiwiQkFDS0dST1VORF9QUk9DRVNTIiwiVUlfQ09ERSIsImFjdGlvblR5cGVzIiwiX1JvdXRlTWVzc2FnZSIsImFjdGlvbiIsIm9wdGlvbnMiLCJtZXRhIiwiZnJvbSIsInRvIiwiRXJyb3IiLCJmb3JFYWNoIiwibyIsImZyb21UYXJnZXQiLCJza2lwTG9jYWwiLCJDT05URU5UX01FU1NBR0VfVFlQRSIsIk1BSU5fTUVTU0FHRV9UWVBFIiwiT25seVRvTWFpbiIsIkJyb2FkY2FzdFRvQ29udGVudCIsIkFsc29Ub09uZUNvbnRlbnQiLCJ0YXJnZXQiLCJza2lwTWFpbiIsInRvVGFyZ2V0IiwiT25seVRvT25lQ29udGVudCIsIkFsc29Ub1ByZWxvYWRlZCIsIlBSRUxPQURfTUVTU0FHRV9UWVBFIiwiVXNlckV2ZW50IiwiZGF0YSIsIlRFTEVNRVRSWV9VU0VSX0VWRU5UIiwiQVNSb3V0ZXJVc2VyRXZlbnQiLCJBU19ST1VURVJfVEVMRU1FVFJZX1VTRVJfRVZFTlQiLCJJbXByZXNzaW9uU3RhdHMiLCJpbXBvcnRDb250ZXh0IiwiVEVMRU1FVFJZX0lNUFJFU1NJT05fU1RBVFMiLCJEaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMiLCJESVNDT1ZFUllfU1RSRUFNX0lNUFJFU1NJT05fU1RBVFMiLCJEaXNjb3ZlcnlTdHJlYW1Mb2FkZWRDb250ZW50IiwiRElTQ09WRVJZX1NUUkVBTV9MT0FERURfQ09OVEVOVCIsIlNldFByZWYiLCJuYW1lIiwidmFsdWUiLCJTRVRfUFJFRiIsIldlYkV4dEV2ZW50Iiwic291cmNlIiwiaXNTZW5kVG9NYWluIiwiaXNCcm9hZGNhc3RUb0NvbnRlbnQiLCJpc1NlbmRUb09uZUNvbnRlbnQiLCJpc1NlbmRUb1ByZWxvYWRlZCIsImlzRnJvbU1haW4iLCJnZXRQb3J0SWRPZlNlbmRlciIsIlByZWZzQnV0dG9uIiwib25DbGljayIsImljb24iLCJkZWJvdW5jZSIsImZ1bmMiLCJ3YWl0IiwidGltZXIiLCJhcmdzIiwid2FrZVVwIiwic2V0VGltZW91dCIsImFwcGx5IiwiX0Jhc2UiLCJSZWFjdCIsIlB1cmVDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3RhdGUiLCJtZXNzYWdlIiwibm90aWZ5Q29udGVudCIsImJpbmQiLCJzZXRTdGF0ZSIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwidXBkYXRlVGhlbWUiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwiYm9keUNsYXNzTmFtZSIsImJvZHkiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImZpbHRlciIsInYiLCJqb2luIiwiZ2xvYmFsIiwiY2xhc3NOYW1lIiwicmVuZGVyIiwiQXBwIiwiaXNEZXZ0b29sc0VuYWJsZWQiLCJQcmVmcyIsInZhbHVlcyIsImluaXRpYWxpemVkIiwiQmFzZUNvbnRlbnQiLCJvcGVuUHJlZmVyZW5jZXMiLCJvcGVuQ3VzdG9taXphdGlvbk1lbnUiLCJjbG9zZUN1c3RvbWl6YXRpb25NZW51IiwiaGFuZGxlT25LZXlEb3duIiwib25XaW5kb3dTY3JvbGwiLCJzZXRQcmVmIiwiZml4ZWRTZWFyY2giLCJjdXN0b21pemVNZW51VmlzaWJsZSIsImNvbXBvbmVudERpZE1vdW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInByZWZzIiwiU0NST0xMX1RIUkVTSE9MRCIsInNjcm9sbFkiLCJTRVRUSU5HU19PUEVOIiwiZXZlbnQiLCJlIiwia2V5IiwicHJlZiIsImlzRGlzY292ZXJ5U3RyZWFtIiwiRGlzY292ZXJ5U3RyZWFtIiwiY29uZmlnIiwiZW5hYmxlZCIsImZpbHRlcmVkU2VjdGlvbnMiLCJTZWN0aW9ucyIsInNlY3Rpb24iLCJpZCIsInBvY2tldEVuYWJsZWQiLCJub1NlY3Rpb25zRW5hYmxlZCIsImxlbmd0aCIsInNlYXJjaEhhbmRvZmZFbmFibGVkIiwic2hvd0N1c3RvbWl6YXRpb25NZW51Iiwic2hvd0NvbG9yd2F5Q2xvc2V0IiwiZW5hYmxlZFNlY3Rpb25zIiwidG9wU2l0ZXNFbmFibGVkIiwiaGlnaGxpZ2h0c0VuYWJsZWQiLCJzaG93U3BvbnNvcmVkVG9wU2l0ZXNFbmFibGVkIiwic2hvd1Nwb25zb3JlZFRvcFNpdGVzIiwic2hvd1Nwb25zb3JlZFBvY2tldEVuYWJsZWQiLCJzaG93U3BvbnNvcmVkIiwidG9wU2l0ZXNSb3dzQ291bnQiLCJ0b3BTaXRlc1Jvd3MiLCJwb2NrZXRSZWdpb24iLCJtYXlIYXZlU3BvbnNvcmVkVG9wU2l0ZXMiLCJvdXRlckNsYXNzTmFtZSIsInNob3dTZWFyY2giLCJoYXNTbmlwcGV0IiwiYWRtaW5Db250ZW50IiwiU2VhcmNoIiwiYXBwVXBkYXRlQ2hhbm5lbCIsImZ4YV9lbmRwb2ludCIsImxvY2FsZSIsIkJhc2UiLCJjb25uZWN0IiwiUm93IiwiY2hpbGRyZW4iLCJyZWxhdGl2ZVRpbWUiLCJ0aW1lc3RhbXAiLCJzZWNvbmRzIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsIm1pbnV0ZXMiLCJ0b0xvY2FsZVN0cmluZyIsIkxBWU9VVF9WQVJJQU5UUyIsImJhc2ljIiwic3RhZ2luZ19zcG9jcyIsIlRvZ2dsZVN0b3J5QnV0dG9uIiwiaGFuZGxlQ2xpY2siLCJzdG9yeSIsIlRvZ2dsZU1lc3NhZ2VKU09OIiwidG9nZ2xlSlNPTiIsIm1zZ0lkIiwiaWNvbk5hbWUiLCJpc0NvbGxhcHNlZCIsIlRvZ2dsZVByZWZDaGVja2JveCIsIm9uQ2hhbmdlIiwiY2hlY2tlZCIsImRpc2FibGVkIiwiUGVyc29uYWxpemF0aW9uIiwidG9nZ2xlUGVyc29uYWxpemF0aW9uIiwiRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fVE9HR0xFIiwibGFzdFVwZGF0ZWQiLCJwZXJzb25hbGl6ZWQiLCJEaXNjb3ZlcnlTdHJlYW1BZG1pbiIsInJlc3RvcmVQcmVmRGVmYXVsdHMiLCJzZXRDb25maWdWYWx1ZSIsImV4cGlyZUNhY2hlIiwicmVmcmVzaENhY2hlIiwiaWRsZURhaWx5Iiwic3lzdGVtVGljayIsInN5bmNSZW1vdGVTZXR0aW5ncyIsImNoYW5nZUVuZHBvaW50VmFyaWFudCIsIm9uU3RvcnlUb2dnbGUiLCJ0b2dnbGVkU3RvcmllcyIsIkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1NFVF9WQUxVRSIsIkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1JFU0VUX0RFRkFVTFRTIiwiRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfQ0hBTkdFIiwiZGlzcGF0Y2hTaW1wbGVBY3Rpb24iLCJESVNDT1ZFUllfU1RSRUFNX0RFVl9TWVNURU1fVElDSyIsIkRJU0NPVkVSWV9TVFJFQU1fREVWX0VYUElSRV9DQUNIRSIsIkRJU0NPVkVSWV9TVFJFQU1fREVWX0lETEVfREFJTFkiLCJESVNDT1ZFUllfU1RSRUFNX0RFVl9TWU5DX1JTIiwiZW5kcG9pbnQiLCJsYXlvdXRfZW5kcG9pbnQiLCJyZXBsYWNlIiwicmVuZGVyQ29tcG9uZW50Iiwid2lkdGgiLCJjb21wb25lbnQiLCJmZWVkIiwicmVuZGVyRmVlZCIsImlzQ3VycmVudFZhcmlhbnQiLCJpc01hdGNoIiwibWF0Y2giLCJyZW5kZXJGZWVkRGF0YSIsInVybCIsImZlZWRzIiwicmVjb21tZW5kYXRpb25zIiwibWFwIiwicmVuZGVyU3RvcnlEYXRhIiwicmVuZGVyRmVlZHNEYXRhIiwiT2JqZWN0Iiwia2V5cyIsInJlbmRlclNwb2NzIiwic3BvY3MiLCJzcG9jc0RhdGEiLCJpdGVtcyIsInNwb2NzX2VuZHBvaW50Iiwic3BvYyIsImZyZXF1ZW5jeV9jYXBzIiwic3RvcnlEYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInByZWZUb2dnbGVzIiwic3BsaXQiLCJsYXlvdXQiLCJvdGhlclByZWZzIiwiaGFyZGNvZGVkX2xheW91dCIsIm9wYWNpdHkiLCJyb3ciLCJyb3dJbmRleCIsImNvbXBvbmVudHMiLCJjb21wb25lbnRJbmRleCIsIkFTUm91dGVyQWRtaW5Jbm5lciIsImhhbmRsZUVuYWJsZWRUb2dnbGUiLCJoYW5kbGVVc2VyUHJlZlRvZ2dsZSIsIm9uQ2hhbmdlTWVzc2FnZUZpbHRlciIsIm9uQ2hhbmdlTWVzc2FnZUdyb3Vwc0ZpbHRlciIsInVuYmxvY2tBbGwiLCJoYW5kbGVDbGVhckFsbEltcHJlc3Npb25zQnlQcm92aWRlciIsImhhbmRsZUV4cHJlc3Npb25FdmFsIiwib25DaGFuZ2VUYXJnZXRpbmdQYXJhbWV0ZXJzIiwib25DaGFuZ2VBdHRyaWJ1dGlvblBhcmFtZXRlcnMiLCJzZXRBdHRyaWJ1dGlvbiIsIm9uQ29weVRhcmdldGluZ1BhcmFtcyIsIm9uTmV3VGFyZ2V0aW5nUGFyYW1zIiwiaGFuZGxlVXBkYXRlV05NZXNzYWdlcyIsImhhbmRsZUZvcmNlV05QIiwiaGFuZGxlQ2xvc2VXTlAiLCJyZXNldFBhbmVsIiwicmVzdG9yZVdOTWVzc2FnZVN0YXRlIiwidG9nZ2xlQWxsTWVzc2FnZXMiLCJyZXNldEdyb3VwcyIsIm9uTWVzc2FnZUZyb21QYXJlbnQiLCJzZXRTdGF0ZUZyb21QYXJlbnQiLCJtZXNzYWdlRmlsdGVyIiwibWVzc2FnZUdyb3Vwc0ZpbHRlciIsIldOTWVzc2FnZXMiLCJjb2xsYXBzZWRNZXNzYWdlcyIsIm1vZGlmaWVkTWVzc2FnZXMiLCJldmFsdWF0aW9uU3RhdHVzIiwic3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVycyIsIm5ld1N0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMiLCJjb3BpZWRUb0NsaXBib2FyZCIsImF0dHJpYnV0aW9uUGFyYW1ldGVycyIsIm1lZGl1bSIsImNhbXBhaWduIiwiY29udGVudCIsImJ0b2EiLCJleHBlcmltZW50IiwidmFyaWF0aW9uIiwidWEiLCJkbHRva2VuIiwicGFyYW0iLCJ0YXJnZXRpbmdQYXJhbWV0ZXJzIiwiY29tcG9uZW50V2lsbE1vdW50IiwiQVNSb3V0ZXJVdGlscyIsImFkZExpc3RlbmVyIiwiZ2V0UHJldmlld0VuZHBvaW50Iiwic2VuZE1lc3NhZ2UiLCJ0aGVuIiwiaGFuZGxlQmxvY2siLCJtc2ciLCJibG9ja0J5SWQiLCJoYW5kbGVVbmJsb2NrIiwidW5ibG9ja0J5SWQiLCJyZXNldEpTT04iLCJpbmRleCIsImluZGV4T2YiLCJwcmV2U3RhdGUiLCJzbGljZSIsInJlc2V0QWxsSlNPTiIsIm1lc3NhZ2VDaGVja2JveGVzIiwicXVlcnlTZWxlY3RvckFsbCIsImNoZWNrYm94IiwidHJpbW1lZElkIiwibWVzc2FnZXMiLCJoYW5kbGVPdmVycmlkZSIsIm92ZXJyaWRlTWVzc2FnZSIsIm1vZGlmeU1lc3NhZ2VKc29uIiwicGFyc2UiLCJyZXNldFByZWYiLCJjb250ZXh0IiwiZXhwcmVzc2lvbiIsInJlZnMiLCJleHByZXNzaW9uSW5wdXQiLCJ0YXJnZXRpbmdQYXJhbWV0ZXJzRXJyb3IiLCJ1cGRhdGVkUGFyYW1ldGVycyIsImNvbnNvbGUiLCJsb2ciLCJwcm92aWRlcklkIiwidXNlclByZWZJbmZvIiwidXNlclByZWZzIiwiaXNVc2VyRW5hYmxlZCIsInByb3ZpZGVyIiwicHJvdmlkZXJQcmVmcyIsImZpbmQiLCJwIiwiZGF0YXNldCIsImlzU3lzdGVtRW5hYmxlZCIsImlzRW5hYmxpbmciLCJ1bmRlZmluZWQiLCJzZXRDbGlwYm9hcmREYXRhIiwicHJldmVudERlZmF1bHQiLCJjbGlwYm9hcmREYXRhIiwic2V0RGF0YSIsImV4ZWNDb21tYW5kIiwicmVtb3ZlIiwidGFyZ2V0aW5nUGFyYW1zRXZhbCIsImlubmVyVGV4dCIsImFkZCIsImluY2x1ZGVzIiwiY29uY2F0IiwiaGFuZGxlQ2hhbmdlIiwicmVuZGVyTWVzc2FnZUl0ZW0iLCJpc0Jsb2NrZWRCeUdyb3VwIiwiZ3JvdXBzIiwiZ3JvdXAiLCJzb21lIiwibXNnUHJvdmlkZXIiLCJwcm92aWRlcnMiLCJpc1Byb3ZpZGVyRXhjbHVkZWQiLCJleGNsdWRlIiwiaXNNZXNzYWdlQmxvY2tlZCIsIm1lc3NhZ2VCbG9ja0xpc3QiLCJpc0Jsb2NrZWQiLCJpbXByZXNzaW9ucyIsIm1lc3NhZ2VJbXByZXNzaW9ucyIsImlzTW9kaWZpZWQiLCJpdGVtQ2xhc3NOYW1lIiwibW9kaWZ5SnNvbiIsInRlbXBTdGF0ZSIsInB1c2giLCJyZW5kZXJXTk1lc3NhZ2VJdGVtIiwibWVzc2FnZXNUb1Nob3ciLCJBcnJheSIsInByb3RvdHlwZSIsImNhbGwiLCJyZW5kZXJNZXNzYWdlcyIsInJlbmRlck1lc3NhZ2VzQnlHcm91cCIsIm0iLCJyZW5kZXJXTk1lc3NhZ2VzIiwicmVuZGVyTWVzc2FnZUZpbHRlciIsInJlbmRlck1lc3NhZ2VHcm91cHNGaWx0ZXIiLCJyZW5kZXJUYWJsZUhlYWQiLCJyZW5kZXJQcm92aWRlcnMiLCJwcm92aWRlcnNDb25maWciLCJwcm92aWRlckluZm8iLCJpIiwiaXNUZXN0UHJvdmlkZXIiLCJpbmZvIiwibGFiZWwiLCJidWNrZXQiLCJyZWFzb25zRGlzYWJsZWQiLCJjb2hvcnQiLCJ3aGl0ZVNwYWNlIiwicmVuZGVyVGFyZ2V0aW5nUGFyYW1ldGVycyIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJlcnJvclN0YXRlIiwiaW5wdXRDb21wIiwiX2dldEdyb3VwSW1wcmVzc2lvbnNDb3VudCIsImZyZXF1ZW5jeSIsImdyb3VwSW1wcmVzc2lvbnMiLCJyZW5kZXJEaXNjb3ZlcnlTdHJlYW0iLCJyZW5kZXJBdHRyaWJ1dGlvblBhcmFtZXJzIiwicmVuZGVyRXJyb3JNZXNzYWdlIiwiZXJyb3JzIiwiZXJyb3IiLCJjZWxsS2V5IiwicmV2ZXJzZSIsInJlbmRlckVycm9ycyIsInByb3ZpZGVyc1dpdGhFcnJvcnMiLCJyZW5kZXJXTlBUZXN0cyIsImdldFNlY3Rpb24iLCJsb2NhdGlvbiIsInJvdXRlcyIsInVzZXJQcmVmZXJlbmNlcyIsImNvbGxhcHNlZCIsIkNvbGxhcHNlVG9nZ2xlIiwib25Db2xsYXBzZVRvZ2dsZSIsInJlbmRlckFkbWluIiwiaGFzaCIsInN0YXJ0c1dpdGgiLCJzZXRCb2R5Q2xhc3MiLCJjb21wb25lbnREaWRVcGRhdGUiLCJyZW1vdmVMaXN0ZW5lciIsIl9BU1JvdXRlckFkbWluIiwiQVNSb3V0ZXJBZG1pbiIsImxpc3RlbmVyIiwiQVNSb3V0ZXJBZGRQYXJlbnRMaXN0ZW5lciIsIkFTUm91dGVyUmVtb3ZlUGFyZW50TGlzdGVuZXIiLCJBU1JvdXRlck1lc3NhZ2UiLCJCTE9DS19NRVNTQUdFX0JZX0lEIiwiTU9ESUZZX01FU1NBR0VfSlNPTiIsImV4ZWN1dGVBY3Rpb24iLCJidXR0b25fYWN0aW9uIiwiVVNFUl9BQ1RJT04iLCJVTkJMT0NLX01FU1NBR0VfQllfSUQiLCJibG9ja0J1bmRsZSIsImJ1bmRsZSIsIkJMT0NLX0JVTkRMRSIsInVuYmxvY2tCdW5kbGUiLCJVTkJMT0NLX0JVTkRMRSIsIk9WRVJSSURFX01FU1NBR0UiLCJzZW5kVGVsZW1ldHJ5IiwicGluZyIsImhyZWYiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJVUkwiLCJnZXQiLCJzbmlwcGV0SWQiLCJ0aGVtZSIsImdldFByZXZpZXdUaGVtZSIsImRpciIsImdldFByZXZpZXdEaXIiLCJNRVNTQUdFX1RZUEVfTElTVCIsIk1FU1NBR0VfVFlQRV9IQVNIIiwicmVkdWNlIiwiU2ltcGxlSGFzaFJvdXRlciIsIm9uSGFzaENoYW5nZSIsImNsb25lRWxlbWVudCIsIlRFTVBMQVRFU19CRUxPV19TRUFSQ0giLCJzaG91bGRTZW5kSW1wcmVzc2lvbk9uVXBkYXRlIiwibmV4dFByb3BzIiwicHJldlByb3BzIiwiQVNSb3V0ZXJVSVN1cmZhY2UiLCJzZW5kQ2xpY2siLCJzZW5kSW1wcmVzc2lvbiIsInNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5Iiwib25Vc2VyQWN0aW9uIiwiZmV0Y2hGbG93UGFyYW1zIiwib25CbG9ja1NlbGVjdGVkIiwib25CbG9ja0J5SWQiLCJvbkRpc21pc3MiLCJmb290ZXJQb3J0YWwiLCJmeGFFbmRwb2ludCIsImVyciIsInVybE9iaiIsInBhdGhuYW1lIiwic2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwicmVzcG9uc2UiLCJmZXRjaCIsInRvU3RyaW5nIiwiY3JlZGVudGlhbHMiLCJzdGF0dXMiLCJkZXZpY2VJZCIsImZsb3dJZCIsImZsb3dCZWdpblRpbWUiLCJqc29uIiwiZXh0cmFQcm9wcyIsImV2ZW50VHlwZSIsIm1lc3NhZ2VfaWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsIklNUFJFU1NJT04iLCJtZXRyaWMiLCJldmVudF9jb250ZXh0IiwiZW50cnlwb2ludF9uYW1lIiwiZW50cnlwb2ludF92YWx1ZSIsImVudHJ5cG9pbnQiLCJkb19ub3RfYXV0b2Jsb2NrIiwiY2xlYXJBbGwiLCJjbGVhck1lc3NhZ2UiLCJpZE9yQ2FtcGFpZ24iLCJjbGVhclByb3ZpZGVyIiwiU05JUFBFVFNfUFJFVklFV19NT0RFIiwicmVxdWVzdE1lc3NhZ2UiLCJ3aW5kb3ciLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJORVdUQUJfREFSS19USEVNRSIsInVwZGF0ZUNvbnRlbnQiLCJtYWluIiwicXVlcnlTZWxlY3RvciIsImdldE1vbml0b3JVcmwiLCJmbG93UmVxdWVzdFBhcmFtcyIsImZsb3dWYWx1ZXMiLCJyZW5kZXJTbmlwcGV0cyIsIlNuaXBwZXRzVGVtcGxhdGVzIiwidGVtcGxhdGUiLCJTbmlwcGV0Q29tcG9uZW50IiwiZ2VuZXJhdGVCdW5kbGVzIiwicmVuZGVyUHJldmlld0Jhbm5lciIsInNob3VsZFJlbmRlckJlbG93U2VhcmNoIiwiY3JlYXRlUG9ydGFsIiwiZGVmYXVsdFByb3BzIiwiVklTSUJMRSIsIlZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5UIiwiSW1wcmVzc2lvbnNXcmFwcGVyIiwic2VuZEltcHJlc3Npb25PckFkZExpc3RlbmVyIiwidmlzaWJpbGl0eVN0YXRlIiwiX29uVmlzaWJpbGl0eUNoYW5nZSIsInNlbmRPbk1vdW50IiwiSVNfTkVXVEFCIiwiZG9jdW1lbnRVUkkiLCJudHBfYmFja2dyb3VuZCIsInIiLCJnIiwiYiIsImEiLCJudHBfY2FyZF9iYWNrZ3JvdW5kIiwibnRwX3RleHQiLCJzaWRlYmFyIiwic2lkZWJhcl90ZXh0IiwiX0NvbmZpcm1EaWFsb2ciLCJfaGFuZGxlQ2FuY2VsQnRuIiwiX2hhbmRsZUNvbmZpcm1CdG4iLCJESUFMT0dfQ0FOQ0VMIiwiZXZlbnRTb3VyY2UiLCJvbkNvbmZpcm0iLCJfcmVuZGVyTW9kYWxNZXNzYWdlIiwibWVzc2FnZV9ib2R5IiwiYm9keV9zdHJpbmdfaWQiLCJ2aXNpYmxlIiwiY2FuY2VsX2J1dHRvbl9zdHJpbmdfaWQiLCJjb25maXJtX2J1dHRvbl9zdHJpbmdfaWQiLCJDb25maXJtRGlhbG9nIiwiRGlhbG9nIiwiQUxMT1dFRF9DU1NfVVJMX1BSRUZJWEVTIiwiRFVNTVlfQ1NTX1NFTEVDVE9SIiwiaXNBbGxvd2VkQ1NTIiwicHJvcGVydHkiLCJ1cmxzIiwiZXZlcnkiLCJwcmVmaXgiLCJfRGlzY292ZXJ5U3RyZWFtQmFzZSIsIm9uU3R5bGVNb3VudCIsInN0eWxlIiwic2hlZXQiLCJzdHlsZXMiLCJlbnRyaWVzIiwic2VsZWN0b3JzIiwiZGVjbGFyYXRpb25zIiwiaW5zZXJ0UnVsZSIsInJ1bGUiLCJjc3NSdWxlcyIsInJlbW92ZVByb3BlcnR5Iiwic2VsZWN0b3JUZXh0Iiwic2VsZWN0b3IiLCJlbWJlZFdpZHRoIiwiRU5HQUdFTUVOVF9MQUJFTF9FTkFCTEVEIiwicHJvbW9BbGlnbm1lbnQiLCJwb3NpdGlvbnMiLCJoZWFkZXIiLCJ0aXRsZSIsInN1YnRpdGxlIiwibGlua190ZXh0IiwibGlua191cmwiLCJlc3NlbnRpYWxSZWFkc0hlYWRlciIsImVkaXRvcnNQaWNrc0hlYWRlciIsInByb3BlcnRpZXMiLCJsaW5rcyIsImV4dHJhTGlua3MiLCJhbGlnbm1lbnQiLCJkaXNwbGF5X3ZhcmlhbnQiLCJleHBsb3JlX3RvcGljcyIsIm5ld0Zvb3RlclNlY3Rpb24iLCJwcml2YWN5Tm90aWNlVVJMIiwicGxhY2VtZW50IiwiYm9yZGVyIiwiY3RhX3ZhcmlhbnQiLCJpc0NvbGxlY3Rpb25EaXNtaXNzaWJsZSIsImVuYWJsZV92aWRlb19wbGF5aGVhZHMiLCJoaWRlQ2FyZEJhY2tncm91bmQiLCJmb3VyQ2FyZExheW91dCIsImhpZGVEZXNjcmlwdGlvbnMiLCJjb21wYWN0R3JpZCIsImNvbXBhY3RJbWFnZXMiLCJpbWFnZUdyYWRpZW50IiwibmV3U3BvbnNvcmVkTGFiZWwiLCJ0aXRsZUxpbmVzIiwiZGVzY0xpbmVzIiwicmVhZFRpbWUiLCJsb2FkTW9yZSIsImxhc3RDYXJkTWVzc2FnZUVuYWJsZWQiLCJzYXZlVG9Qb2NrZXRDYXJkIiwicmVuZGVyU3R5bGVzIiwibGF5b3V0UmVuZGVyIiwic2VsZWN0TGF5b3V0UmVuZGVyIiwiY29sbGFwc2libGUiLCJyZW5kZXJMYXlvdXQiLCJleHRyYWN0Q29tcG9uZW50Iiwic3BsaWNlIiwidG9wU3RvcmllcyIsInMiLCJ0b3BTaXRlcyIsInNwb25zb3JlZENvbGxlY3Rpb24iLCJsZWFybk1vcmUiLCJsaW5rIiwicHJpdmFjeUxpbmtDb21wb25lbnQiLCJzZWN0aW9uVGl0bGUiLCJzdWJUaXRsZSIsImlzUHJpdmFjeUluZm9Nb2RhbFZpc2libGUiLCJEaXNjb3ZlcnlTdHJlYW1CYXNlIiwiRFNJbWFnZSIsIm9uT3B0aW1pemVkSW1hZ2VFcnJvciIsIm9uTm9uT3B0aW1pemVkSW1hZ2VFcnJvciIsIm9uTG9hZCIsImlzTG9hZGVkIiwib3B0aW1pemVkSW1hZ2VGYWlsZWQiLCJ1c2VUcmFuc2l0aW9uIiwib25JZGxlQ2FsbGJhY2siLCJyZWZvcm1hdEltYWdlVVJMIiwiaGVpZ2h0IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaWRsZUNhbGxiYWNrSWQiLCJ3aW5kb3dPYmoiLCJjbGFzc05hbWVzIiwiZXh0cmFDbGFzc05hbWVzIiwiaW1nIiwib3B0aW1pemUiLCJyYXdTb3VyY2UiLCJiYXNlU291cmNlIiwic2l6ZVJ1bGVzIiwic3JjU2V0UnVsZXMiLCJzaXplcyIsIm1lZGlhTWF0Y2hlciIsInNpemVSdWxlIiwic3JjU2V0UnVsZSIsInNyY1NldFJ1bGUyeCIsImFsdF90ZXh0Iiwibm9uT3B0aW1pemVkSW1hZ2VGYWlsZWQiLCJERUZBVUxUX1NJVEVfTUVOVV9PUFRJT05TIiwiX0xpbmtNZW51IiwiZ2V0T3B0aW9ucyIsInNpdGUiLCJpc1ByaXZhdGVCcm93c2luZ0VuYWJsZWQiLCJzaXRlSW5mbyIsInBsYXRmb3JtIiwicHJvcE9wdGlvbnMiLCJpc0RlZmF1bHQiLCJzZWFyY2hUb3BTaXRlIiwic3BvbnNvcmVkX3Bvc2l0aW9uIiwiTGlua01lbnVPcHRpb25zIiwib3B0aW9uIiwiaW1wcmVzc2lvbiIsInVzZXJFdmVudCIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2hpZnRLZXkiLCJidXR0b24iLCJhc3NpZ24iLCJ1c2VyRXZlbnREYXRhIiwiYWN0aW9uX3Bvc2l0aW9uIiwic2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cyIsImZpcnN0IiwibGFzdCIsIm9uVXBkYXRlIiwib25TaG93Iiwia2V5Ym9hcmRBY2Nlc3MiLCJnZXRTdGF0ZSIsIkxpbmtNZW51IiwiQ29udGV4dE1lbnUiLCJoaWRlQ29udGV4dCIsInN0b3BQcm9wYWdhdGlvbiIsIl9Db250ZXh0TWVudUl0ZW0iLCJvbktleURvd24iLCJvbktleVVwIiwiZm9jdXNGaXJzdCIsImZvY3VzIiwiZm9jdXNTaWJsaW5nIiwicGFyZW50IiwicGFyZW50Tm9kZSIsImNsb3Nlc3RTaWJsaW5nU2VsZWN0b3IiLCJmaXJzdEVsZW1lbnRDaGlsZCIsInN0cmluZ19pZCIsIkNvbnRleHRNZW51SXRlbSIsIl9PcGVuSW5Qcml2YXRlV2luZG93IiwiT1BFTl9QUklWQVRFX1dJTkRPVyIsInJlZmVycmVyIiwiU2VwYXJhdG9yIiwiRW1wdHlJdGVtIiwiU2hvd1ByaXZhY3lJbmZvIiwiU0hPV19QUklWQUNZX0lORk8iLCJBYm91dFNwb25zb3JlZCIsIkFCT1VUX1NQT05TT1JFRF9UT1BfU0lURVMiLCJSZW1vdmVCb29rbWFyayIsIkRFTEVURV9CT09LTUFSS19CWV9JRCIsImJvb2ttYXJrR3VpZCIsIkFkZEJvb2ttYXJrIiwiQk9PS01BUktfVVJMIiwiT3BlbkluTmV3V2luZG93IiwiT1BFTl9ORVdfV0lORE9XIiwidHlwZWRCb251cyIsIkJsb2NrVXJsIiwiQmxvY2tVcmxzIiwidGlsZXMiLCJwb3MiLCJCTE9DS19VUkwiLCJvcmlnaW5hbF91cmwiLCJvcGVuX3VybCIsInBvY2tldF9pZCIsImlzU3BvbnNvcmVkVG9wU2l0ZSIsImZsaWdodF9pZCIsImJsb2NrIiwiZ3VpZCIsInNoaW0iLCJkZWxldGUiLCJXZWJFeHREaXNtaXNzIiwiV0VCRVhUX0RJU01JU1MiLCJEZWxldGVVcmwiLCJpc0VuYWJsZWQiLCJESUFMT0dfT1BFTiIsIkRFTEVURV9ISVNUT1JZX1VSTCIsImZvcmNlQmxvY2siLCJTaG93RmlsZSIsIlNIT1dfRE9XTkxPQURfRklMRSIsIk9wZW5GaWxlIiwiT1BFTl9ET1dOTE9BRF9GSUxFIiwiQ29weURvd25sb2FkTGluayIsIkNPUFlfRE9XTkxPQURfTElOSyIsIkdvVG9Eb3dubG9hZFBhZ2UiLCJPUEVOX0xJTksiLCJSZW1vdmVEb3dubG9hZCIsIlJFTU9WRV9ET1dOTE9BRF9GSUxFIiwiUGluVG9wU2l0ZSIsIlRPUF9TSVRFU19QSU4iLCJVbnBpblRvcFNpdGUiLCJUT1BfU0lURVNfVU5QSU4iLCJTYXZlVG9Qb2NrZXQiLCJTQVZFX1RPX1BPQ0tFVCIsInBvY2tldCIsInNhdmUiLCJEZWxldGVGcm9tUG9ja2V0IiwiREVMRVRFX0ZST01fUE9DS0VUIiwiQXJjaGl2ZUZyb21Qb2NrZXQiLCJBUkNISVZFX0ZST01fUE9DS0VUIiwiRWRpdFRvcFNpdGUiLCJUT1BfU0lURVNfRURJVCIsIkNoZWNrQm9va21hcmsiLCJDaGVja1BpblRvcFNpdGUiLCJpc1Bpbm5lZCIsIkNoZWNrU2F2ZWRUb1BvY2tldCIsIkNoZWNrQm9va21hcmtPckFyY2hpdmUiLCJDaGVja0FyY2hpdmVGcm9tUG9ja2V0IiwiQ2hlY2tEZWxldGVGcm9tUG9ja2V0IiwiT3BlbkluUHJpdmF0ZVdpbmRvdyIsIkNvbnRleHRNZW51QnV0dG9uIiwic2hvd0NvbnRleHRNZW51IiwiY29udGV4dE1lbnVLZXlib2FyZCIsIm9wZW5Db250ZXh0TWVudSIsImlzS2V5Qm9hcmQiLCJ0b29sdGlwQXJncyIsInRvb2x0aXAiLCJyZWZGdW5jdGlvbiIsIklOVEVSU0VDVElPTl9SQVRJTyIsIl9uZWVkc0ltcHJlc3Npb25TdGF0cyIsImNhcmRzIiwiaW1wcmVzc2lvbkNhcmRHdWlkcyIsIl9kaXNwYXRjaEltcHJlc3Npb25TdGF0cyIsInJvd3MiLCJmbGlnaHRJZCIsIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ19JTVBSRVNTSU9OIiwidG9VcHBlckNhc2UiLCJfbmVlZHNMb2FkZWRDb250ZW50IiwibG9hZGVkQ29udGVudEd1aWRzIiwiX2Rpc3BhdGNoTG9hZGVkQ29udGVudCIsInNldEltcHJlc3Npb25PYnNlcnZlck9yQWRkTGlzdGVuZXIiLCJzZXRJbXByZXNzaW9uT2JzZXJ2ZXIiLCJfaGFuZGxlSW50ZXJzZWN0IiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsImludGVyc2VjdGlvblJhdGlvIiwiaW1wcmVzc2lvbk9ic2VydmVyIiwidW5vYnNlcnZlIiwidGhyZXNob2xkIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJvYnNlcnZlIiwiU2FmZUFuY2hvciIsImFsdEtleSIsImN1cnJlbnRUYXJnZXQiLCJvbkxpbmtDbGljayIsInNhZmVVUkkiLCJwcm90b2NvbCIsImlzQWxsb3dlZCIsIndhcm4iLCJjYXJkQ29udGV4dFR5cGVzIiwiaGlzdG9yeSIsImZsdWVudElEIiwicmVtb3ZlZEJvb2ttYXJrIiwiYm9va21hcmsiLCJ0cmVuZGluZyIsImRvd25sb2FkIiwiRmx1ZW50T3JUZXh0IiwiY2hpbGQiLCJDaGlsZHJlbiIsIm9ubHkiLCJncmFuZENoaWxkcmVuIiwiQ29sbGVjdGlvbkNhcmRHcmlkIiwib25EaXNtaXNzQ2xpY2siLCJkaXNtaXNzZWQiLCJpdGVtIiwiYmxvY2tVcmxPcHRpb24iLCJkaXNtaXNzaWJsZSIsInNwb25zb3JlZF9ieV9vdmVycmlkZSIsInNwb25zb3IiLCJzcG9uc29yZWRCeU1lc3NhZ2UiLCJyZWNzRGF0YSIsImNvbGxlY3Rpb25HcmlkIiwiRFNEaXNtaXNzIiwib25Ib3ZlciIsIm9mZkhvdmVyIiwiaG92ZXJpbmciLCJleHRyYUNsYXNzZXMiLCJfQ29sbGFwc2libGVTZWN0aW9uIiwib25Cb2R5TW91bnQiLCJvbk1lbnVCdXR0b25Nb3VzZUVudGVyIiwib25NZW51QnV0dG9uTW91c2VMZWF2ZSIsIm9uTWVudVVwZGF0ZSIsIm1lbnVCdXR0b25Ib3ZlciIsInNldENvbnRleHRNZW51QnV0dG9uUmVmIiwiZWxlbWVudCIsImNvbnRleHRNZW51QnV0dG9uUmVmIiwibm9kZSIsInNlY3Rpb25Cb2R5IiwiaXNBbmltYXRpbmciLCJtYXhIZWlnaHQiLCJhY3RpdmUiLCJib2R5U3R5bGUiLCJkaXNwbGF5IiwidGl0bGVTdHlsZSIsImhpZGVUaXRsZSIsInZpc2liaWxpdHkiLCJoYXNTdWJ0aXRsZUNsYXNzTmFtZSIsIkNvbGxhcHNpYmxlU2VjdGlvbiIsIkVycm9yQm91bmRhcnlGYWxsYmFjayIsInJlbG9hZCIsImRlZmF1bHRDbGFzcyIsIkVycm9yQm91bmRhcnkiLCJoYXNFcnJvciIsImNvbXBvbmVudERpZENhdGNoIiwiRmFsbGJhY2tDb21wb25lbnQiLCJBMTF5TGlua0J1dHRvbiIsIkRTTWVzc2FnZSIsImJhY2tncm91bmRJbWFnZSIsIkRTUHJpdmFjeU1vZGFsIiwiY2xvc2VNb2RhbCIsIm9uTGVhcm5MaW5rQ2xpY2siLCJvbk1hbmFnZUxpbmtDbGljayIsIk1vZGFsT3ZlcmxheVdyYXBwZXIiLCJvbkNsb3NlIiwidW5zdHlsZWQiLCJpbm5lckNsYXNzTmFtZSIsImhlYWRlcklkIiwiRFNTaWdudXAiLCJsYXN0SXRlbSIsIm9uTWVudUJ1dHRvblVwZGF0ZSIsIm9uTWVudVNob3ciLCJuZXh0QW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzY3JvbGxNYXhYIiwiY2xpY2siLCJleGNlcnB0IiwiU0lHTlVQX0NPTlRFWFRfTUVOVV9PUFRJT05TIiwiRFNUZXh0UHJvbW8iLCJzcG9jRGF0YSIsImltYWdlX3NyYyIsInJhd19pbWFnZV9zcmMiLCJjdGEiLCJfSGlnaGxpZ2h0cyIsIkhpZ2hsaWdodHMiLCJDQVJEU19QRVJfUk9XX0RFRkFVTFQiLCJDQVJEU19QRVJfUk9XX0NPTVBBQ1RfV0lERSIsIlNlY3Rpb24iLCJudW1Sb3dzIiwicm93c1ByZWYiLCJtYXhSb3dzIiwiY2FyZHNQZXJSb3ciLCJjb21wYWN0Q2FyZHMiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsIm1heENhcmRzIiwibmVlZHNJbXByZXNzaW9uU3RhdHMiLCJzZW5kSW1wcmVzc2lvblN0YXRzT3JBZGRMaXN0ZW5lciIsInNlbmROZXdUYWJSZWh5ZHJhdGVkIiwid2FzQ29sbGFwc2VkIiwicmVuZGVyTm90aWZpZWQiLCJORVdfVEFCX1JFSFlEUkFURUQiLCJQb2NrZXQiLCJ0b3BpY3MiLCJlbXB0eVN0YXRlIiwicmVhZF9tb3JlX2VuZHBvaW50IiwiY29udGV4dE1lbnVPcHRpb25zIiwiaXNGaXJzdCIsImlzTGFzdCIsIndhaXRpbmdGb3JTcG9jIiwibWF4Q2FyZHNQZXJSb3ciLCJtYXhDYXJkc09uTmFycm93IiwicG9ja2V0Q3RhIiwiaXNVc2VyTG9nZ2VkSW4iLCJ1c2VDdGEiLCJpc1BvY2tldExvZ2dlZEluRGVmaW5lZCIsImhhc1RvcGljcyIsInNob3VsZFNob3dQb2NrZXRDdGEiLCJzaG91bGRTaG93VG9waWNzIiwic2hvdWxkU2hvd1JlYWRNb3JlIiwicmVhbFJvd3MiLCJzaG91bGRTaG93RW1wdHlTdGF0ZSIsInVzZVBsYWNlaG9sZGVyIiwiaXNXZWJFeHRlbnNpb24iLCJzZWN0aW9uQ2xhc3NOYW1lIiwiaXNGaXhlZCIsInBhZGRpbmciLCJTZWN0aW9uSW50bCIsIl9TZWN0aW9ucyIsInJlbmRlclNlY3Rpb25zIiwic2VjdGlvbnMiLCJzZWN0aW9uT3JkZXIiLCJzaG93VG9wU2l0ZXMiLCJleHBlY3RlZENvdW50Iiwic2VjdGlvbklkIiwiY29tbW9uUHJvcHMiLCJnSW1hZ2VMb2FkaW5nIiwiTWFwIiwiX0NhcmQiLCJhY3RpdmVDYXJkIiwiaW1hZ2VMb2FkZWQiLCJjYXJkSW1hZ2UiLCJtYXliZUxvYWRJbWFnZSIsImltYWdlVXJsIiwiaGFzIiwibG9hZGVyUHJvbWlzZSIsInJlamVjdCIsImxvYWRlciIsIkltYWdlIiwic3JjIiwic2V0IiwiY2F0Y2giLCJleCIsIlNjcmVlbnNob3RVdGlscyIsImlzUmVtb3RlSW1hZ2VMb2NhbCIsImltYWdlIiwiZ2V0TmV4dFN0YXRlRnJvbVByb3BzIiwiaW1hZ2VJblN0YXRlIiwibmV4dFN0YXRlIiwibWF5YmVSZXZva2VCbG9iT2JqZWN0VVJMIiwiY3JlYXRlTG9jYWxJbWFnZU9iamVjdCIsImlzT3BlbiIsIl9nZXRUZWxlbWV0cnlJbmZvIiwiY2FyZF90eXBlIiwiV0VCRVhUX0NMSUNLIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsImhvc3RuYW1lIiwiaXNDb250ZXh0TWVudU9wZW4iLCJoYXNJbWFnZSIsImltYWdlU3R5bGUiLCJwbGFjZWhvbGRlciIsImRlc2NyaXB0aW9uIiwiQ2FyZCIsIlBsYWNlaG9sZGVyQ2FyZCIsImlzQmxvYiIsImlzTG9jYWwiLCJwYXRoIiwicmVtb3RlSW1hZ2UiLCJjcmVhdGVPYmplY3RVUkwiLCJsb2NhbEltYWdlIiwicmV2b2tlT2JqZWN0VVJMIiwiUkVDT1JERURfU0VDVElPTlMiLCJDb21wb25lbnRQZXJmVGltZXIiLCJDb21wb25lbnQiLCJwZXJmU3ZjIiwiX3NlbmRCYWRTdGF0ZUV2ZW50IiwiX3NlbmRQYWludGVkRXZlbnQiLCJfcmVwb3J0TWlzc2luZ0RhdGEiLCJfdGltZXN0YW1wSGFuZGxlZCIsIl9yZWNvcmRlZEZpcnN0UmVuZGVyIiwiX21heWJlU2VuZFBhaW50ZWRFdmVudCIsIl9hZnRlckZyYW1lUGFpbnQiLCJjYWxsYmFjayIsIl9tYXliZVNlbmRCYWRTdGF0ZUV2ZW50IiwiX2Vuc3VyZUZpcnN0UmVuZGVyVHNSZWNvcmRlZCIsIm1hcmsiLCJkYXRhUmVhZHlLZXkiLCJmaXJzdFJlbmRlcktleSIsInBhcnNlSW50IiwiZ2V0TW9zdFJlY2VudEFic01hcmtTdGFydEJ5TmFtZSIsIlNBVkVfU0VTU0lPTl9QRVJGX0RBVEEiLCJ1c2FibGVQZXJmT2JqIiwicGVyZm9ybWFuY2UiLCJfUGVyZlNlcnZpY2UiLCJwZXJmb3JtYW5jZU9iaiIsIl9wZXJmIiwic3RyIiwiZ2V0RW50cmllc0J5TmFtZSIsInRpbWVPcmlnaW4iLCJhYnNOb3ciLCJtb3N0UmVjZW50RW50cnkiLCJzdGFydFRpbWUiLCJwZXJmU2VydmljZSIsIk1vcmVSZWNvbW1lbmRhdGlvbnMiLCJfUG9ja2V0TG9nZ2VkSW5DdGEiLCJjdGFVcmwiLCJjdGFCdXR0b24iLCJjdGFUZXh0IiwiUG9ja2V0TG9nZ2VkSW5DdGEiLCJUb3BpYyIsIlRvcGljcyIsInQiLCJ0b3BTaXRlSWNvblR5cGUiLCJjdXN0b21TY3JlZW5zaG90VVJMIiwidGlwcHlUb3BJY29uIiwiZmF2aWNvblJlZiIsImZhdmljb25TaXplIiwiTUlOX1JJQ0hfRkFWSUNPTl9TSVpFIiwic2NyZWVuc2hvdCIsImNvdW50VG9wU2l0ZXNJY29uc1R5cGVzIiwiY291bnRUb3BTaXRlc1R5cGVzIiwiYWNjIiwiY3VzdG9tX3NjcmVlbnNob3QiLCJ0aXBweXRvcCIsInJpY2hfaWNvbiIsIm5vX2ltYWdlIiwiX1RvcFNpdGVzIiwib25FZGl0Rm9ybUNsb3NlIiwib25TZWFyY2hTaG9ydGN1dHNGb3JtQ2xvc2UiLCJfZGlzcGF0Y2hUb3BTaXRlc1N0YXRzIiwiX2dldFZpc2libGVUb3BTaXRlcyIsInRvcFNpdGUiLCJ0b3BTaXRlc0ljb25zU3RhdHMiLCJ0b3BTaXRlc1Bpbm5lZCIsInNlYXJjaFNob3J0Y3V0cyIsInRvcHNpdGVzX2ljb25fc3RhdHMiLCJ0b3BzaXRlc19waW5uZWQiLCJ0b3BzaXRlc19zZWFyY2hfc2hvcnRjdXRzIiwic2l0ZXNQZXJSb3ciLCJUT1BfU0lURVNfTUFYX1NJVEVTX1BFUl9ST1ciLCJUb3BTaXRlcyIsIlRvcFNpdGVzUm93cyIsIlRPUF9TSVRFU19TT1VSQ0UiLCJUT1BfU0lURVNfQ0FOQ0VMX0VESVQiLCJUT1BfU0lURVNfQ0xPU0VfU0VBUkNIX1NIT1JUQ1VUU19NT0RBTCIsImVkaXRGb3JtIiwic2hvd1NlYXJjaFNob3J0Y3V0c0Zvcm0iLCJleHRyYU1lbnVPcHRpb25zIiwiY29sb3JzIiwiVG9wU2l0ZXNXaXRoU3BvYyIsIlRPUF9TSVRFU19DT05URVhUX01FTlVfT1BUSU9OUyIsIlRPUF9TSVRFU19TUE9DX0NPTlRFWFRfTUVOVV9PUFRJT05TIiwiVE9QX1NJVEVTX1NQT05TT1JFRF9QT1NJVElPTl9DT05URVhUX01FTlVfT1BUSU9OUyIsIlRPUF9TSVRFU19TRUFSQ0hfU0hPUlRDVVRTX0NPTlRFWFRfTUVOVV9PUFRJT05TIiwiTUlOX1NNQUxMX0ZBVklDT05fU0laRSIsIlNlbGVjdGFibGVTZWFyY2hTaG9ydGN1dCIsInNob3J0Y3V0Iiwic2VsZWN0ZWQiLCJrZXl3b3JkIiwiU2VhcmNoU2hvcnRjdXRzRm9ybSIsIm9uQ2FuY2VsQnV0dG9uQ2xpY2siLCJvblNhdmVCdXR0b25DbGljayIsInNob3J0Y3V0cyIsImlzU2VsZWN0ZWQiLCJldiIsInBpblF1ZXVlIiwidW5waW5RdWV1ZSIsImFscmVhZHlQaW5uZWQiLCJfc2VhcmNoVG9wU2l0ZSIsInNlYXJjaFZlbmRvciIsInNob3J0VVJMIiwiVVBEQVRFX1BJTk5FRF9TRUFSQ0hfU0hPUlRDVVRTIiwiYWRkZWRTaG9ydGN1dHMiLCJkZWxldGVkU2hvcnRjdXRzIiwic2VhcmNoX3ZlbmRvciIsIlNQT0NfVFlQRSIsIk5FV1RBQl9TT1VSQ0UiLCJUb3BTaXRlTGluayIsInNjcmVlbnNob3RJbWFnZSIsIm9uRHJhZ0V2ZW50Iiwib25LZXlQcmVzcyIsIl9hbGxvd0Ryb3AiLCJkcmFnZ2VkIiwiZGF0YVRyYW5zZmVyIiwidHlwZXMiLCJibHVyIiwiZWZmZWN0QWxsb3dlZCIsImdlbmVyYXRlQ29sb3IiLCJjb2xvckFycmF5IiwiaGFzaFN0ciIsImNoYXJDb2RlIiwiY2hhckNvZGVBdCIsImNhbGN1bGF0ZVN0eWxlIiwiZGVmYXVsdFN0eWxlIiwiaW1hZ2VDbGFzc05hbWUiLCJzaG93U21hbGxGYXZpY29uIiwic21hbGxGYXZpY29uU3R5bGUiLCJoYXNTY3JlZW5zaG90SW1hZ2UiLCJzZWxlY3RlZENvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwic3BvY0ltZ1VSTCIsImZhdmljb24iLCJpc0RyYWdnYWJsZSIsInRvcFNpdGVPdXRlckNsYXNzTmFtZSIsImlzRHJhZ2dlZCIsImxldHRlckZhbGxiYWNrIiwiZHJhZ2dhYmxlUHJvcHMiLCJvbkRyYWdFbmQiLCJvbkRyYWdTdGFydCIsIm9uTW91c2VEb3duIiwic2hvd19zcG9uc29yZWRfbGFiZWwiLCJwb3NpdGlvbiIsInRpbGVfaWQiLCJzcG9uc29yZWRfdGlsZV9pZCIsInJlcG9ydGluZ191cmwiLCJzcG9uc29yZWRfaW1wcmVzc2lvbl91cmwiLCJhZHZlcnRpc2VyIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJUb3BTaXRlIiwiaWNvbl90eXBlIiwiaWNvblR5cGUiLCJzZW5kQXR0cmlidXRpb25SZXF1ZXN0IiwiUEFSVE5FUl9MSU5LX0FUVFJJQlVUSU9OIiwidGFyZ2V0VVJMIiwiVE9QX1NJVEVTX0lNUFJFU1NJT05fU1RBVFMiLCJzcG9uc29yZWRfY2xpY2tfdXJsIiwiRklMTF9TRUFSQ0hfVEVSTSIsIm9uQWN0aXZhdGUiLCJhY3RpdmVJbmRleCIsIm1lbnVPcHRpb25zIiwiVG9wU2l0ZVBsYWNlaG9sZGVyIiwib25FZGl0QnV0dG9uQ2xpY2siLCJUb3BTaXRlTGlzdCIsIkRFRkFVTFRfU1RBVEUiLCJkcmFnZ2VkSW5kZXgiLCJkcmFnZ2VkU2l0ZSIsImRyYWdnZWRUaXRsZSIsInRvcFNpdGVzUHJldmlldyIsInByZXZUb3BTaXRlcyIsIm5ld1RvcFNpdGVzIiwiZHJvcHBlZCIsIl9tYWtlVG9wU2l0ZXNQcmV2aWV3IiwiVE9QX1NJVEVTX0lOU0VSVCIsImRyYWdnZWRGcm9tSW5kZXgiLCJfZ2V0VG9wU2l0ZXMiLCJwcmV2aWV3IiwidW5waW5uZWQiLCJzaXRlVG9JbnNlcnQiLCJob2xlSW5kZXgiLCJpbmRleFN0ZXAiLCJzaGlmdGluZ1N0ZXAiLCJuZXh0SW5kZXgiLCJzaGlmdCIsInRvcFNpdGVzVUkiLCJtYXhOYXJyb3dWaXNpYmxlSW5kZXgiLCJsIiwic2xvdFByb3BzIiwiVG9wU2l0ZUltcHJlc3Npb25XcmFwcGVyIiwidGlsZSIsInRvcHNpdGVfaW1wcmVzc2lvbl93cmFwcGVyIiwiSG9yaXpvbnRhbFJ1bGUiLCJ0b3BpYyIsInRleHQiLCJ0b0xvd2VyQ2FzZSIsIk5hdmlnYXRpb24iLCJlbmdsaXNoIiwicHJpdmFjeU5vdGljZSIsIlByaXZhY3lMaW5rIiwiU2VjdGlvblRpdGxlIiwic3BvY0luZGV4UGxhY2VtZW50TWFwIiwiZmlsbFNwb2NQb3NpdGlvbnNGb3JQbGFjZW1lbnQiLCJzcG9jc0NvbmZpZyIsInBsYWNlbWVudE5hbWUiLCJyZXN1bHRzIiwiYmxvY2tlZCIsIkRTX0NPTVBPTkVOVFMiLCJmaWx0ZXJBcnJheSIsInBsYWNlaG9sZGVyQ29tcG9uZW50IiwiaGFuZGxlU3BvY3MiLCJsb2FkZWQiLCJoYW5kbGVDb21wb25lbnQiLCJoYW5kbGVDb21wb25lbnRXaXRoRmVlZCIsIm9mZnNldCIsIm1pbiIsInJlbmRlcmVkTGF5b3V0QXJyYXkiLCJjIiwiZ2V0Rmlyc3RBdmFpbGFibGVTcG9jIiwidXNlclRvcFNpdGVzIiwiU2V0IiwiZG9tYWluIiwiZ2V0Rmlyc3RBdmFpbGFibGVJbmRleCIsImZpbmRJbmRleCIsImVuZE9mUm93IiwiaW5zZXJ0U3BvY0NvbnRlbnQiLCJ0b3BTaXRlU3BvYyIsImZpcnN0QXZhaWxhYmxlSW5kZXgiLCJzaGlmdGVkVG9wU2l0ZSIsIm5leHRUb3BTaXRlIiwiX1NlYXJjaCIsIm9uU2VhcmNoQ2xpY2siLCJvblNlYXJjaEhhbmRvZmZDbGljayIsIm9uU2VhcmNoSGFuZG9mZlBhc3RlIiwib25TZWFyY2hIYW5kb2ZmRHJvcCIsIm9uSW5wdXRNb3VudCIsIm9uSW5wdXRNb3VudEhhbmRvZmYiLCJvblNlYXJjaEhhbmRvZmZCdXR0b25Nb3VudCIsImhhbmRsZUV2ZW50IiwiZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyIiwic2VhcmNoIiwiZG9TZWFyY2hIYW5kb2ZmIiwiSEFORE9GRl9TRUFSQ0hfVE9fQVdFU09NRUJBUiIsIkZBS0VfRk9DVVNfU0VBUkNIIiwiRElTQUJMRV9TRUFSQ0giLCJnZXREYXRhIiwiaW5wdXQiLCJoZWFsdGhSZXBvcnRLZXkiLCJzZWFyY2hTb3VyY2UiLCJDb250ZW50U2VhcmNoVUlDb250cm9sbGVyIiwiX2hhbmRvZmZTZWFyY2hDb250cm9sbGVyIiwiQ29udGVudFNlYXJjaEhhbmRvZmZVSUNvbnRyb2xsZXIiLCJnZXREZWZhdWx0RW5naW5lTmFtZSIsImdldEhhbmRvZmZJbnB1dEwxMG5BdHRyaWJ1dGVzIiwiZGVmYXVsdEVuZ2luZU5hbWUiLCJnZXRIYW5kb2ZmVGV4dEwxMG5BdHRyaWJ1dGVzIiwiX3NlYXJjaEhhbmRvZmZCdXR0b24iLCJ3cmFwcGVyQ2xhc3NOYW1lIiwiZGlzYWJsZSIsImZha2VGb2N1cyIsInNob3dMb2dvIiwiaGFuZG9mZkVuYWJsZWQiLCJfc3RvcmUiLCJfcGVyZlNlcnZpY2UiLCJfc2VuZEV2ZW50IiwidmlzaWJpbGl0eV9ldmVudF9yY3ZkX3RzIiwiTUVSR0VfU1RPUkVfQUNUSU9OIiwiT1VUR09JTkdfTUVTU0FHRV9OQU1FIiwiSU5DT01JTkdfTUVTU0FHRV9OQU1FIiwiRUFSTFlfUVVFVUVEX0FDVElPTlMiLCJtZXJnZVN0YXRlUmVkdWNlciIsIm1haW5SZWR1Y2VyIiwibWVzc2FnZU1pZGRsZXdhcmUiLCJuZXh0IiwiYXUiLCJSUE1TZW5kQXN5bmNNZXNzYWdlIiwicmVoeWRyYXRpb25NaWRkbGV3YXJlIiwiZGlkUmVoeWRyYXRlIiwiZGlkUmVxdWVzdEluaXRpYWxTdGF0ZSIsIl9fRlJPTV9TVEFSVFVQX0NBQ0hFX18iLCJpc1N0YXJ0dXAiLCJpc01lcmdlU3RvcmVBY3Rpb24iLCJpc1JlaHlkcmF0aW9uUmVxdWVzdCIsIklOSVQiLCJxdWV1ZUVhcmx5TWVzc2FnZU1pZGRsZXdhcmUiLCJlYXJseUFjdGlvblF1ZXVlIiwicmVjZWl2ZWRGcm9tTWFpbiIsImNyZWF0ZVN0b3JlIiwiY29tYmluZVJlZHVjZXJzIiwiUlBNQWRkTWVzc2FnZUxpc3RlbmVyIiwiYXBwbHlNaWRkbGV3YXJlIiwiZHVtcCIsInN0YWNrIiwiUmVhY3RMb2NhbGl6YXRpb24iLCJidW5kbGVzIiwiQ2FjaGVkU3luY0l0ZXJhYmxlIiwic3VicyIsInN1YnNjcmliZSIsImNvbXAiLCJ1bnN1YnNjcmliZSIsInNldEJ1bmRsZXMiLCJyZWxvY2FsaXplIiwiZ2V0QnVuZGxlIiwibWFwQnVuZGxlU3luYyIsImdldFN0cmluZyIsImZhbGxiYWNrIiwiZ2V0TWVzc2FnZSIsImZvcm1hdCIsImlzUmVhY3RMb2NhbGl6YXRpb24iLCJwcm9wTmFtZSIsInByb3AiLCJjYWNoZWRQYXJzZU1hcmt1cCIsImNyZWF0ZVBhcnNlTWFya3VwIiwiY3JlYXRlRWxlbWVudCIsInBhcnNlTWFya3VwIiwiaW5uZXJIVE1MIiwiY2hpbGROb2RlcyIsIkxvY2FsaXphdGlvblByb3ZpZGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJsMTBuIiwiZ2V0Q2hpbGRDb250ZXh0IiwiY2hpbGRDb250ZXh0VHlwZXMiLCJQcm9wVHlwZXMiLCJwcm9wVHlwZXMiLCJpc1JlcXVpcmVkIiwiaXNJdGVyYWJsZSIsImNvbXBvbmVudE5hbWUiLCJ3aXRoTG9jYWxpemF0aW9uIiwiSW5uZXIiLCJXaXRoTG9jYWxpemF0aW9uIiwiZm9yY2VVcGRhdGUiLCJkaXNwbGF5TmFtZSIsImNvbnRleHRUeXBlcyIsIm9taXR0ZWRDbG9zZVRhZ3MiLCJhcmVhIiwiYmFzZSIsImJyIiwiY29sIiwiZW1iZWQiLCJociIsImtleWdlbiIsInRyYWNrIiwid2JyIiwidm9pZEVsZW1lbnRUYWdzIiwibWVudWl0ZW0iLCJyZU1hcmt1cCIsInRvQXJndW1lbnRzIiwiZWxlbXMiLCJwcm9wbmFtZSIsInByb3B2YWwiLCJzdWJzdHIiLCJpc1ZhbGlkRWxlbWVudCIsIkxvY2FsaXplZCIsImF0dHJzIiwiZWxlbSIsImlzQXJyYXkiLCJtZXNzYWdlVmFsdWUiLCJsb2NhbGl6ZWRQcm9wcyIsImFsbG93ZWQiLCJoYXNPd25Qcm9wZXJ0eSIsIlZPSURfRUxFTUVOVFMiLCJ0ZXN0IiwidHJhbnNsYXRpb25Ob2RlcyIsInRyYW5zbGF0ZWRDaGlsZHJlbiIsImNoaWxkTm9kZSIsIm5vZGVUeXBlIiwiVEVYVF9OT0RFIiwidGV4dENvbnRlbnQiLCJsb2NhbE5hbWUiLCJzb3VyY2VDaGlsZCIsIkFMTE9XRURfU1RZTEVfVEFHUyIsIkJ1dHRvbiIsInRhZyIsIkNvbmRpdGlvbmFsV3JhcHBlciIsImNvbmRpdGlvbiIsIndyYXAiLCJBTExPV0VEX1RBR1MiLCJ1Iiwic3Ryb25nIiwiZW0iLCJjb252ZXJ0TGlua3MiLCJkb05vdEF1dG9CbG9jayIsIm9wZW5OZXdXaW5kb3ciLCJsaW5rVGFnIiwiUmljaFRleHQiLCJSSUNIX1RFWFRfS0VZUyIsImxvY2FsaXphdGlvbl9pZCIsImN1c3RvbUVsZW1lbnRzIiwiU25pcHBldEJhc2UiLCJvbkJsb2NrQ2xpY2tlZCIsIm9uRGlzbWlzc0NsaWNrZWQiLCJzZXRCbG9ja0J1dHRvblJlZiIsIm9uQmxvY2tCdXR0b25Nb3VzZUVudGVyIiwib25CbG9ja0J1dHRvbk1vdXNlTGVhdmUiLCJibG9ja0J1dHRvbkhvdmVyIiwiYmxvY2tCdXR0b25SZWYiLCJVSVN1cmZhY2UiLCJvbkJsb2NrIiwicmVuZGVyRGlzbWlzc0J1dHRvbiIsImZvb3RlckRpc21pc3MiLCJzY2VuZTJfZGlzbWlzc19idXR0b25fdGV4dCIsImJsb2NrX2J1dHRvbl90ZXh0IiwiY29udGFpbmVyQ2xhc3NOYW1lIiwidGV4dFN0eWxlIiwiREVGQVVMVF9JQ09OX1BBVEgiLCJJQ09OX0FMVF9URVhUIiwiU2ltcGxlU25pcHBldCIsIm9uQnV0dG9uQ2xpY2siLCJidXR0b25fdXJsIiwiYnV0dG9uX2VudHJ5cG9pbnRfdmFsdWUiLCJidXR0b25fZW50cnlwb2ludF9uYW1lIiwib25BY3Rpb24iLCJidXR0b25fYWN0aW9uX2FyZ3MiLCJfc2hvdWxkUmVuZGVyQnV0dG9uIiwicmVuZGVyVGl0bGUiLCJyZW5kZXJUaXRsZUljb24iLCJ0aXRsZUljb25MaWdodCIsInRpdGxlX2ljb24iLCJ0aXRsZUljb25EYXJrIiwidGl0bGVfaWNvbl9kYXJrX3RoZW1lIiwicmVuZGVyQnV0dG9uIiwiYnV0dG9uX2NvbG9yIiwiYnV0dG9uX2JhY2tncm91bmRfY29sb3IiLCJidXR0b25fbGFiZWwiLCJyZW5kZXJUZXh0Iiwid3JhcFNlY3Rpb25IZWFkZXIiLCJ3cmFwU25pcHBldENvbnRlbnQiLCJyZW5kZXJTZWN0aW9uSGVhZGVyIiwic2VjdGlvbl90aXRsZV9pY29uIiwic2VjdGlvbl90aXRsZV90ZXh0Iiwic2VjdGlvblRpdGxlSWNvbkxpZ2h0Iiwic2VjdGlvblRpdGxlSWNvbkRhcmsiLCJzZWN0aW9uX3RpdGxlX2ljb25fZGFya190aGVtZSIsInNlY3Rpb25UaXRsZVVSTCIsInNlY3Rpb25fdGl0bGVfdXJsIiwic2VjdGlvbkhlYWRlciIsInRhbGwiLCJpY29uX2FsdF90ZXh0IiwiaWNvbl9kYXJrX3RoZW1lIiwiZXh0cmFDb250ZW50IiwiRU9ZU25pcHBldEJhc2UiLCJoYW5kbGVTdWJtaXQiLCJzZXRGcmVxdWVuY3lWYWx1ZSIsImZyZXF1ZW5jeUNoZWNrYm94IiwiZm9ybSIsInN1Ym1pdCIsInJlbmRlckRvbmF0aW9ucyIsImZpZWxkTmFtZXMiLCJudW1iZXJGb3JtYXQiLCJJbnRsIiwiTnVtYmVyRm9ybWF0IiwibmF2aWdhdG9yIiwibGFuZ3VhZ2UiLCJjdXJyZW5jeSIsImN1cnJlbmN5X2NvZGUiLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJzZWxlY3RlZF9idXR0b24iLCJidG5TdHlsZSIsImNvbG9yIiwiZG9uYXRpb25VUkxQYXJhbXMiLCJwYXJhbXNTdGFydEluZGV4IiwiZG9uYXRpb25fZm9ybV91cmwiLCJmb3JtX21ldGhvZCIsImlkeCIsImZpZWxkIiwiYnV0dG9uX25hbWUiLCJhbW91bnQiLCJtb250aGx5X2NoZWNrYm94X2xhYmVsX3RleHQiLCJ0ZXh0X2NvbG9yIiwiYmFja2dyb3VuZF9jb2xvciIsImN1c3RvbUVsZW1lbnQiLCJoaWdobGlnaHRfY29sb3IiLCJFT1lTbmlwcGV0IiwiZXh0ZW5kZWRDb250ZW50IiwiU3VibWl0Rm9ybVNuaXBwZXQiLCJleHBhbmRTbmlwcGV0IiwiaGFuZGxlU3VibWl0QXR0ZW1wdCIsIm9uSW5wdXRDaGFuZ2UiLCJleHBhbmRlZCIsInN1Ym1pdEF0dGVtcHRlZCIsInNpZ251cFN1Ym1pdHRlZCIsInNpZ251cFN1Y2Nlc3MiLCJkaXNhYmxlRm9ybSIsInByZXZlbnREaXNtaXNzIiwiZm9ybURhdGEiLCJwcm9jZXNzRm9ybURhdGEiLCJtYWluSW5wdXQiLCJGb3JtRGF0YSIsImZldGNoUmVxdWVzdCIsIlJlcXVlc3QiLCJtZXRob2QiLCJyZW5kZXJIaWRkZW5Gb3JtSW5wdXRzIiwiaGlkZGVuX2lucHV0cyIsInJlbmRlckRpc2NsYWltZXIiLCJzY2VuZTJfZGlzY2xhaW1lcl9odG1sIiwicmVuZGVyRm9ybVByaXZhY3lOb3RpY2UiLCJzY2VuZTJfcHJpdmFjeV9odG1sIiwicmVuZGVyU2lnbnVwU3VibWl0dGVkIiwiaXNTdWNjZXNzIiwic3VjY2Vzc1RpdGxlIiwic3VjY2Vzc190aXRsZSIsImJvZHlUZXh0Iiwic3VjY2Vzc190ZXh0IiwiZXJyb3JfdGV4dCIsInJldHJ5QnV0dG9uVGV4dCIsInJldHJ5X2J1dHRvbl9sYWJlbCIsInZhbGlkYXRlSW5wdXQiLCJzZXRDdXN0b21WYWxpZGl0eSIsInJlbmRlcklucHV0IiwicGxhY2hvbGRlciIsInNjZW5lMl9lbWFpbF9wbGFjZWhvbGRlcl90ZXh0Iiwic2NlbmUyX2lucHV0X3BsYWNlaG9sZGVyIiwiaW5wdXRUeXBlIiwicmVuZGVyRm9ybSIsImZvcm1fYWN0aW9uIiwic2NlbmUyX2J1dHRvbl9sYWJlbCIsInJlbmRlclNjZW5lMkljb24iLCJzY2VuZTJfaWNvbiIsInNjZW5lMl9pY29uX2FsdF90ZXh0Iiwic2NlbmUyX2ljb25fZGFya190aGVtZSIsInJlbmRlclNpZ251cFZpZXciLCJjb250YWluZXJDbGFzcyIsInNjZW5lMl90aXRsZSIsInNjZW5lMl90ZXh0IiwicmVuZGVyU2lnbnVwVmlld0FsdCIsImdldEZpcnN0U2NlbmVDb250ZW50IiwiZXhwYW5kZWRBbHQiLCJGWEFTaWdudXBTbmlwcGV0IiwidXNlckFnZW50IiwiZmlyZWZveF92ZXJzaW9uIiwic2NlbmUxX2J1dHRvbl9sYWJlbCIsInV0bV9zb3VyY2UiLCJ1dG1fY29udGVudCIsInV0bV9jYW1wYWlnbiIsInV0bV90ZXJtIiwiTmV3c2xldHRlclNuaXBwZXQiLCJzY2VuZTJfbmV3c2xldHRlciIsIm5ld3NsZXR0ZXJzIiwiZm10IiwibGFuZyIsInNvdXJjZV91cmwiLCJpc0VtYWlsT3JQaG9uZU51bWJlciIsInZhbCIsImVtYWlsX3JlIiwiY2hlY2tfZW1haWwiLCJjaGVja19waG9uZSIsImlzTmFOIiwiaW5jbHVkZV9zbXMiLCJtZXNzYWdlX2lkX3NtcyIsImNvdW50cnkiLCJtZXNzYWdlX2lkX2VtYWlsIiwiYWRkRGVmYXVsdFZhbHVlcyIsIlNlbmRUb0RldmljZVNuaXBwZXQiLCJwcm9wc1dpdGhEZWZhdWx0cyIsIlNlbmRUb0RldmljZVNjZW5lMlNuaXBwZXQiLCJTaW1wbGVCZWxvd1NlYXJjaFNuaXBwZXQiLCJjb250YWluZXJOYW1lIiwic2ltcGxlX3NuaXBwZXQiLCJuZXdzbGV0dGVyX3NuaXBwZXQiLCJmeGFfc2lnbnVwX3NuaXBwZXQiLCJzZW5kX3RvX2RldmljZV9zbmlwcGV0Iiwic2VuZF90b19kZXZpY2Vfc2NlbmUyX3NuaXBwZXQiLCJlb3lfc25pcHBldCIsInNpbXBsZV9iZWxvd19zZWFyY2hfc25pcHBldCIsIkZsdWVudFR5cGUiLCJvcHRzIiwidmFsdWVPZiIsIkZsdWVudE5vbmUiLCJGbHVlbnROdW1iZXIiLCJwYXJzZUZsb2F0IiwibmYiLCJfbWVtb2l6ZUludGxPYmplY3QiLCJGbHVlbnREYXRlVGltZSIsImR0ZiIsIkRhdGVUaW1lRm9ybWF0IiwibWVyZ2UiLCJhcmdvcHRzIiwidW53cmFwcGVkIiwib3B0IiwiTlVNQkVSIiwiYXJnIiwiREFURVRJTUUiLCJNQVhfUExBQ0VBQkxFX0xFTkdUSCIsIkZTSSIsIlBESSIsImNhdGVnb3J5IiwiUGx1cmFsUnVsZXMiLCJzZWxlY3QiLCJnZXREZWZhdWx0Iiwic2NvcGUiLCJ2YXJpYW50cyIsInN0YXIiLCJUeXBlIiwiUmFuZ2VFcnJvciIsImdldEFyZ3VtZW50cyIsInBvc2l0aW9uYWwiLCJuYW1lZCIsImV4cHIiLCJfdHJhbnNmb3JtIiwiUGF0dGVybiIsInByZWNpc2lvbiIsIlZhcmlhYmxlUmVmZXJlbmNlIiwiTWVzc2FnZVJlZmVyZW5jZSIsIlRlcm1SZWZlcmVuY2UiLCJGdW5jdGlvblJlZmVyZW5jZSIsIlNlbGVjdEV4cHJlc3Npb24iLCJpbnNpZGVUZXJtUmVmZXJlbmNlIiwiUmVmZXJlbmNlRXJyb3IiLCJUeXBlRXJyb3IiLCJhdHRyIiwiX21lc3NhZ2VzIiwiYXR0cmlidXRlIiwidGVybSIsIl90ZXJtcyIsImtleWFyZ3MiLCJsb2NhbCIsIl9mdW5jdGlvbnMiLCJidWlsdGlucyIsInNlbCIsInZhcmlhbnQiLCJwdG4iLCJkaXJ0eSIsInVzZUlzb2xhdGluZyIsIl91c2VJc29sYXRpbmciLCJwYXJ0IiwiV2Vha1NldCIsIkZsdWVudEVycm9yIiwiUkVfTUVTU0FHRV9TVEFSVCIsIlJFX0FUVFJJQlVURV9TVEFSVCIsIlJFX1ZBUklBTlRfU1RBUlQiLCJSRV9OVU1CRVJfTElURVJBTCIsIlJFX0lERU5USUZJRVIiLCJSRV9SRUZFUkVOQ0UiLCJSRV9GVU5DVElPTl9OQU1FIiwiUkVfVEVYVF9SVU4iLCJSRV9TVFJJTkdfUlVOIiwiUkVfU1RSSU5HX0VTQ0FQRSIsIlJFX1VOSUNPREVfRVNDQVBFIiwiUkVfTEVBRElOR19ORVdMSU5FUyIsIlJFX1RSQUlMSU5HX1NQQUNFUyIsIlJFX0JMQU5LX0xJTkVTIiwiUkVfSU5ERU5UIiwiVE9LRU5fQlJBQ0VfT1BFTiIsIlRPS0VOX0JSQUNFX0NMT1NFIiwiVE9LRU5fQlJBQ0tFVF9PUEVOIiwiVE9LRU5fQlJBQ0tFVF9DTE9TRSIsIlRPS0VOX1BBUkVOX09QRU4iLCJUT0tFTl9BUlJPVyIsIlRPS0VOX0NPTE9OIiwiVE9LRU5fQ09NTUEiLCJUT0tFTl9CTEFOSyIsIk1BWF9QTEFDRUFCTEVTIiwiRmx1ZW50UmVzb3VyY2UiLCJmcm9tU3RyaW5nIiwibGFzdEluZGV4IiwicmVzb3VyY2UiLCJjdXJzb3IiLCJleGVjIiwicGFyc2VNZXNzYWdlIiwicmUiLCJjb25zdW1lQ2hhciIsImNoYXIiLCJlcnJvckNsYXNzIiwiY29uc3VtZVRva2VuIiwibWF0Y2gxIiwicGFyc2VQYXR0ZXJuIiwicGFyc2VBdHRyaWJ1dGVzIiwicGFyc2VQYXR0ZXJuRWxlbWVudHMiLCJJbmZpbml0eSIsImluZGVudCIsInBhcnNlSW5kZW50IiwidHJpbSIsImVsZW1lbnRzIiwiY29tbW9uSW5kZW50IiwicGxhY2VhYmxlQ291bnQiLCJwYXJzZVBsYWNlYWJsZSIsImJha2VkIiwicGFyc2VJbmxpbmVFeHByZXNzaW9uIiwicGFyc2VWYXJpYW50cyIsInNpZ2lsIiwicGFyc2VBcmd1bWVudHMiLCJwYXJzZUxpdGVyYWwiLCJwYXJzZUFyZ3VtZW50IiwiY291bnQiLCJwYXJzZVZhcmlhbnRLZXkiLCJwYXJzZU51bWJlckxpdGVyYWwiLCJwYXJzZVN0cmluZ0xpdGVyYWwiLCJmcmFjdGlvbiIsInBhcnNlRXNjYXBlU2VxdWVuY2UiLCJjb2RlcG9pbnQ0IiwiY29kZXBvaW50NiIsImNvZGVwb2ludCIsIlN0cmluZyIsImZyb21Db2RlUG9pbnQiLCJzdGFydCIsIm1ha2VJbmRlbnQiLCJibGFuayIsIkZsdWVudEJ1bmRsZSIsImxvY2FsZXMiLCJmdW5jdGlvbnMiLCJ0cmFuc2Zvcm0iLCJfaW50bHMiLCJXZWFrTWFwIiwiaGFzTWVzc2FnZSIsImFkZE1lc3NhZ2VzIiwicmVzIiwiYWRkUmVzb3VyY2UiLCJhbGxvd092ZXJyaWRlcyIsImN0b3IiLCJjYWNoZSIsIlJJQ0hfVEVYVF9DT05GSUciLCJhbW9faHRtbCIsInByaXZhY3lfaHRtbCIsImRpc2NsYWltZXJfaHRtbCIsImF0dHJzVG9UcnkiLCJzdHJpbmciLCJwb3AiLCJEU0xpbmtNZW51IiwiVE9QX1NUT1JJRVNfQ09OVEVYVF9NRU5VX09QVElPTlMiLCJzaG93UHJpdmFjeUluZm8iLCJBTklNQVRJT05fRFVSQVRJT04iLCJEU01lc3NhZ2VMYWJlbCIsImNvbnRleHRfdHlwZSIsImRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHMiLCJlbmdhZ2VtZW50IiwiU3RhdHVzTWVzc2FnZSIsIlNwb25zb3JMYWJlbCIsIkRTQ29udGV4dEZvb3RlciIsInNwb25zb3JMYWJlbCIsImRzTWVzc2FnZUxhYmVsIiwiRFNNZXNzYWdlRm9vdGVyIiwiUkVBRElOR19XUE0iLCJyZWFkVGltZUZyb21Xb3JkQ291bnQiLCJ3b3JkQ291bnQiLCJjZWlsIiwiRFNTb3VyY2UiLCJ0aW1lVG9SZWFkIiwiRGVmYXVsdE1ldGEiLCJDVEFCdXR0b25NZXRhIiwic3BvbnNvck9yU291cmNlIiwiX0RTQ2FyZCIsIm9uU2F2ZUNsaWNrIiwic2V0Q29udGV4dE1lbnVCdXR0b25Ib3N0UmVmIiwiY29udGV4dE1lbnVCdXR0b25Ib3N0RWxlbWVudCIsInNldFBsYWNlaG9sZGVyUmVmIiwicGxhY2Vob2xkZXJFbGVtZW50IiwiaXNTZWVuIiwiaXNGb3JTdGFydHVwQ2FjaGUiLCJkc0ltYWdlU2l6ZXMiLCJpc192aWRlbyIsImRzTGlua01lbnVIb3N0RGl2IiwidHJhbnNsYXRlRnJhZ21lbnQiLCJvblNlZW4iLCJvYnNlcnZlciIsImxhc3RDYXJkIiwiaXNCdXR0b25DVEEiLCJkaXNwbGF5UmVhZFRpbWUiLCJ0aW1lX3RvX3JlYWQiLCJ3b3JkX2NvdW50IiwidmlkZW9DYXJkQ2xhc3NOYW1lIiwiY29tcGFjdEltYWdlc0NsYXNzTmFtZSIsImltYWdlR3JhZGllbnRDbGFzc05hbWUiLCJ0aXRsZUxpbmVzTmFtZSIsImRlc2NMaW5lc0NsYXNzTmFtZSIsImlzX2NvbGxlY3Rpb24iLCJjb250ZXh0TWVudUJ1dHRvbkhvc3RSZWYiLCJEU0NhcmQiLCJQbGFjZWhvbGRlckRTQ2FyZCIsIkxhc3RDYXJkTWVzc2FnZSIsIkRTRW1wdHlTdGF0ZSIsIm9uUmVzZXQiLCJ0aW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiRElTQ09WRVJZX1NUUkVBTV9GRUVEX1VQREFURSIsIndhaXRpbmciLCJESVNDT1ZFUllfU1RSRUFNX1JFVFJZX0ZFRUQiLCJyZW5kZXJTdGF0ZSIsIkNhcmRHcmlkIiwibW9yZUxvYWRlZCIsImxvYWRNb3JlQ2xpY2tlZCIsInNob3dMb2FkTW9yZSIsImxvYWRNb3JlVGhyZXNob2xkIiwicmVuZGVyRFNTdWJIZWFkZXIiLCJyZW5kZXJDYXJkcyIsInNob3dMYXN0Q2FyZE1lc3NhZ2UiLCJyZWNzIiwicmVjIiwidmFyaWFudENsYXNzIiwiaGlkZUNhcmRCYWNrZ3JvdW5kQ2xhc3MiLCJmb3VyQ2FyZExheW91dENsYXNzIiwiaGlkZURlc2NyaXB0aW9uc0NsYXNzTmFtZSIsImNvbXBhY3RHcmlkQ2xhc3NOYW1lIiwiaXNFbXB0eSIsIkJhY2tncm91bmRzU2VjdGlvbiIsIkNvbnRlbnRTZWN0aW9uIiwib25QcmVmZXJlbmNlU2VsZWN0IiwiaW5wdXRVc2VyRXZlbnQiLCJtZW51X3NvdXJjZSIsInByZWZOYW1lIiwiZ2V0QXR0cmlidXRlIiwibm9kZU5hbWUiLCJtYXlIYXZlU3BvbnNvcmVkU3RvcmllcyIsIkNvbG9yd2F5Q2xvc2V0IiwiX0N1c3RvbWl6ZU1lbnUiLCJvbkVudGVyZWQiLCJvbkV4aXRlZCIsImNsb3NlQnV0dG9uIiwib3BlbkJ1dHRvbiIsInNob3dpbmciLCJvbk9wZW4iLCJzaG93X3Nwb2NzIiwiQ3VzdG9taXplTWVudSIsIkRlZHVwZSIsImNyZWF0ZUtleSIsImRlZmF1bHRDcmVhdGVLZXkiLCJnbG9iYWxLZXlzIiwidmFsdWVNYXAiLCJUT1BfU0lURVNfREVGQVVMVF9ST1dTIiwiUFJFRl9DT0xMRUNUSU9OX0RJU01JU1NJQkxFIiwiZGVkdXBlIiwiSU5JVElBTF9TVEFURSIsIkFTUm91dGVyIiwiU25pcHBldHMiLCJmZWF0dXJlQ29uZmlnIiwicGxhY2VtZW50cyIsImhpZGUiLCJBU19ST1VURVJfSU5JVElBTElaRUQiLCJpbnNlcnRQaW5uZWQiLCJwaW5uZWQiLCJwaW5uZWRVcmxzIiwibmV3TGlua3MiLCJwaW5JbmRleCIsImhhc01hdGNoIiwibmV3Um93cyIsIlRPUF9TSVRFU19VUERBVEVEIiwiVE9QX1NJVEVTX1BSRUZTX1VQREFURUQiLCJwcmV2aWV3UmVzcG9uc2UiLCJUT1BfU0lURVNfT1BFTl9TRUFSQ0hfU0hPUlRDVVRTX01PREFMIiwiUFJFVklFV19SRVNQT05TRSIsInByZXZpZXdVcmwiLCJQUkVWSUVXX1JFUVVFU1QiLCJQUkVWSUVXX1JFUVVFU1RfQ0FOQ0VMIiwiU0NSRUVOU0hPVF9VUERBVEVEIiwiUExBQ0VTX0JPT0tNQVJLX0FEREVEIiwiYm9va21hcmtUaXRsZSIsImRhdGVBZGRlZCIsImJvb2ttYXJrRGF0ZUNyZWF0ZWQiLCJQTEFDRVNfQk9PS01BUktTX1JFTU9WRUQiLCJuZXdTaXRlIiwiUExBQ0VTX0xJTktTX0RFTEVURUQiLCJVUERBVEVfU0VBUkNIX1NIT1JUQ1VUUyIsIm5ld1ZhbHVlcyIsIlBSRUZTX0lOSVRJQUxfVkFMVUVTIiwiUFJFRl9DSEFOR0VEIiwibmV3U3RhdGUiLCJTRUNUSU9OX0RFUkVHSVNURVIiLCJTRUNUSU9OX1JFR0lTVEVSIiwiU0VDVElPTl9VUERBVEUiLCJjYXJkIiwiZGVkdXBlQ29uZmlndXJhdGlvbnMiLCJkZWR1cGVDb25mIiwiZGVkdXBlZFJvd3MiLCJkZWR1cGVGcm9tIiwiZGVkdXBlU2VjdGlvbklkIiwiZGVkdXBlU2VjdGlvbiIsIlNFQ1RJT05fVVBEQVRFX0NBUkQiLCJQTEFDRVNfU0FWRURfVE9fUE9DS0VUIiwiUExBQ0VTX0xJTktfQkxPQ0tFRCIsIlNOSVBQRVRTX0RBVEEiLCJTTklQUEVUX0JMT0NLRUQiLCJibG9ja0xpc3QiLCJTTklQUEVUU19CTE9DS0xJU1RfQ0xFQVJFRCIsIlNOSVBQRVRTX1JFU0VUIiwiUE9DS0VUX1dBSVRJTkdfRk9SX1NQT0MiLCJQT0NLRVRfTE9HR0VEX0lOIiwiUE9DS0VUX0NUQSIsImN0YV9idXR0b24iLCJjdGFfdGV4dCIsImN0YV91cmwiLCJ1c2VfY3RhIiwiRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fTEFTVF9VUERBVEVEIiwiRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fSU5JVCIsImlzTm90UmVhZHkiLCJoYW5kbGVQbGFjZW1lbnRzIiwiaGFuZGxlU2l0ZXMiLCJmb3JQbGFjZW1lbnQiLCJwbGFjZW1lbnRTcG9jcyIsImFjY3VtdWxhdG9yIiwiZmVlZF91cmwiLCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19TRVRVUCIsIkRJU0NPVkVSWV9TVFJFQU1fTEFZT1VUX1VQREFURSIsIkRJU0NPVkVSWV9TVFJFQU1fQ09MTEVDVElPTl9ESVNNSVNTSUJMRV9UT0dHTEUiLCJISURFX1BSSVZBQ1lfSU5GTyIsIkRJU0NPVkVSWV9TVFJFQU1fTEFZT1VUX1JFU0VUIiwiRElTQ09WRVJZX1NUUkVBTV9GRUVEU19VUERBVEUiLCJuZXdEYXRhIiwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19DQVBTIiwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19FTkRQT0lOVCIsIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfUExBQ0VNRU5UUyIsIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfVVBEQVRFIiwiRElTQ09WRVJZX1NUUkVBTV9TUE9DX0JMT0NLRUQiLCJESVNDT1ZFUllfU1RSRUFNX0xJTktfQkxPQ0tFRCIsImFkZFBvY2tldEluZm8iLCJ1cGRhdGVCb29rbWFya0luZm8iLCJyZW1vdmVCb29rbWFya0luZm8iLCJTSE9XX1NFQVJDSCIsIlRvcFNpdGVGb3JtSW5wdXQiLCJ2YWxpZGF0aW9uRXJyb3IiLCJvbk1vdW50Iiwib25DbGVhckljb25QcmVzcyIsInNob3VsZEZvY3VzIiwib25DbGVhciIsInJlbmRlckxvYWRpbmdPckNsb3NlQnV0dG9uIiwic2hvd0NsZWFyQnV0dG9uIiwibG9hZGluZyIsInR5cGVVcmwiLCJ0aXRsZUlkIiwicGxhY2Vob2xkZXJJZCIsImVycm9yTWVzc2FnZUlkIiwiVG9wU2l0ZUZvcm0iLCJjdXN0b21TY3JlZW5zaG90VXJsIiwic2hvd0N1c3RvbVNjcmVlbnNob3RGb3JtIiwib25DbGVhclNjcmVlbnNob3RJbnB1dCIsIm9uTGFiZWxDaGFuZ2UiLCJvblVybENoYW5nZSIsIm9uQ2xlYXJVcmxDbGljayIsIm9uRG9uZUJ1dHRvbkNsaWNrIiwib25DdXN0b21TY3JlZW5zaG90VXJsQ2hhbmdlIiwib25QcmV2aWV3QnV0dG9uQ2xpY2siLCJvbkVuYWJsZVNjcmVlbnNob3RVcmxGb3JtIiwidmFsaWRhdGVVcmwiLCJfdXBkYXRlQ3VzdG9tU2NyZWVuc2hvdElucHV0IiwidmFsaWRhdGVGb3JtIiwiY2xlYW5VcmwiLCJfdHJ5UGFyc2VVcmwiLCJ2YWxpZFByb3RvY29scyIsInZhbGlkYXRlQ3VzdG9tU2NyZWVuc2hvdFVybCIsInZhbGlkYXRlIiwiX3JlbmRlckN1c3RvbVNjcmVlbnNob3RJbnB1dCIsInJlcXVlc3RGYWlsZWQiLCJpc0xvYWRpbmciLCJzaG93QXNBZGQiLCJwcmV2aW91cyIsImNoYW5nZWQiLCJwcmV2aWV3TW9kZSIsInByZXZpZXdMaW5rIiwib25TdWJtaXQiLCJhZGRUb3BzaXRlc0hlYWRlckwxMG5JZCIsImVkaXRUb3BzaXRlc0hlYWRlckwxMG5JZCJdLCJtYXBwaW5ncyI6Ijs7O1FBQUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7OztRQUdBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwwQ0FBMEMsZ0NBQWdDO1FBQzFFO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0Esd0RBQXdELGtCQUFrQjtRQUMxRTtRQUNBLGlEQUFpRCxjQUFjO1FBQy9EOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSx5Q0FBeUMsaUNBQWlDO1FBQzFFLGdIQUFnSCxtQkFBbUIsRUFBRTtRQUNySTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDJCQUEyQiwwQkFBMEIsRUFBRTtRQUN2RCxpQ0FBaUMsZUFBZTtRQUNoRDtRQUNBO1FBQ0E7O1FBRUE7UUFDQSxzREFBc0QsK0RBQStEOztRQUVySDtRQUNBOzs7UUFHQTtRQUNBOzs7Ozs7OztBQ2xGQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRU8sTUFBTUEsTUFBTSxHQUFHLENBQUM7QUFBRUM7QUFBRixDQUFELGtCQUNwQiwyREFBQyxvREFBRDtBQUFVLE9BQUssRUFBRUE7QUFBakIsZ0JBQ0UsMkRBQUMscUVBQUQsT0FERixDQURLO0FBTUEsU0FBU0Msa0JBQVQsR0FBOEI7QUFDbkMsUUFBTUQsS0FBSyxHQUFHRSw0RUFBUyxDQUFDQyw0REFBRCxDQUF2QjtBQUNBLE1BQUlDLGdHQUFKLENBQTJCSixLQUEzQixFQUFrQ0ssc0JBQWxDLEdBRm1DLENBSW5DO0FBQ0E7QUFDQTs7QUFDQSxNQUFJQyxVQUFVLEdBQUcsS0FBakI7QUFDQSxNQUFJQyxxQkFBcUIsR0FBRyxDQUE1Qjs7QUFDQSxXQUFTQyxTQUFULEdBQXFCO0FBQ25CLFFBQUksQ0FBQ0YsVUFBTCxFQUFpQjtBQUNmLFVBQUlDLHFCQUFKLEVBQTJCO0FBQ3pCRSwwQkFBa0IsQ0FBQ0YscUJBQUQsQ0FBbEI7QUFDRDs7QUFDREQsZ0JBQVUsR0FBRyxJQUFiO0FBQ0FOLFdBQUssQ0FBQ1UsUUFBTixDQUFlQyxpRUFBRSxDQUFDQyxVQUFILENBQWM7QUFBRUMsWUFBSSxFQUFFQyw4REFBRSxDQUFDQztBQUFYLE9BQWQsQ0FBZjtBQUNEO0FBQ0Y7O0FBRUQsTUFBSUMsUUFBUSxDQUFDQyxNQUFiLEVBQXFCO0FBQ25CVix5QkFBcUIsR0FBR1csbUJBQW1CLENBQUNWLFNBQUQsQ0FBM0M7QUFDQVcsb0JBQWdCLENBQUMsa0JBQUQsRUFBcUJYLFNBQXJCLEVBQWdDO0FBQUVZLFVBQUksRUFBRTtBQUFSLEtBQWhDLENBQWhCO0FBQ0QsR0FIRCxNQUdPO0FBQ0xaLGFBQVM7QUFDVjs7QUFFRGEsa0RBQVEsQ0FBQ0MsT0FBVCxlQUFpQiwyREFBQyxNQUFEO0FBQVEsU0FBSyxFQUFFdEI7QUFBZixJQUFqQixFQUEyQ2dCLFFBQVEsQ0FBQ08sY0FBVCxDQUF3QixNQUF4QixDQUEzQztBQUNEO0FBRU0sU0FBU0MsV0FBVCxDQUFxQkMsWUFBckIsRUFBbUM7QUFDeEMsUUFBTXpCLEtBQUssR0FBR0UsNEVBQVMsQ0FBQ0MsNERBQUQsRUFBV3NCLFlBQVgsQ0FBdkI7QUFDQSxNQUFJckIsZ0dBQUosQ0FBMkJKLEtBQTNCLEVBQWtDSyxzQkFBbEM7QUFFQWdCLGtEQUFRLENBQUNDLE9BQVQsZUFBaUIsMkRBQUMsTUFBRDtBQUFRLFNBQUssRUFBRXRCO0FBQWYsSUFBakIsRUFBMkNnQixRQUFRLENBQUNPLGNBQVQsQ0FBd0IsTUFBeEIsQ0FBM0M7QUFDRCxDOzs7Ozs7O0FDckREO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ2E7O3dCQUVZLHFCOzJCQUNHLHdCOzJCQUNBLGlDO2NBQ2IsQzt5QkFDVyxDO0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTUcsbUJBQW1CLEdBQ3ZCLE9BQU9DLE1BQVAsS0FBa0IsV0FBbEIsR0FBZ0NDLGtCQUFoQyxHQUFxREMsT0FEdkQsQyxDQUVBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNQyxXQUFXLEdBQUcsRUFBcEI7O0FBQ0EsS0FBSyxNQUFNakIsSUFBWCxJQUFtQixDQUNqQiwyQkFEaUIsRUFFakIscUJBRmlCLEVBR2pCLHNCQUhpQixFQUlqQixxQkFKaUIsRUFLakIsdUJBTGlCLEVBTWpCLHdCQU5pQixFQU9qQiw0QkFQaUIsRUFRakIsZ0NBUmlCLEVBU2pCLFdBVGlCLEVBVWpCLGNBVmlCLEVBV2pCLFlBWGlCLEVBWWpCLG9CQVppQixFQWFqQix1QkFiaUIsRUFjakIsb0JBZGlCLEVBZWpCLG9CQWZpQixFQWdCakIsZUFoQmlCLEVBaUJqQixhQWpCaUIsRUFrQmpCLGdCQWxCaUIsRUFtQmpCLGdEQW5CaUIsRUFvQmpCLGdDQXBCaUIsRUFxQmpCLCtCQXJCaUIsRUFzQmpCLHdDQXRCaUIsRUF1QmpCLCtCQXZCaUIsRUF3QmpCLG1DQXhCaUIsRUF5QmpCLG1DQXpCaUIsRUEwQmpCLGlDQTFCaUIsRUEyQmpCLDhCQTNCaUIsRUE0QmpCLGtDQTVCaUIsRUE2QmpCLCtCQTdCaUIsRUE4QmpCLDhCQTlCaUIsRUErQmpCLG1DQS9CaUIsRUFnQ2pCLCtCQWhDaUIsRUFpQ2pCLGdDQWpDaUIsRUFrQ2pCLCtCQWxDaUIsRUFtQ2pCLGlDQW5DaUIsRUFvQ2pCLHVDQXBDaUIsRUFxQ2pCLCtDQXJDaUIsRUFzQ2pCLHlDQXRDaUIsRUF1Q2pCLDZCQXZDaUIsRUF3Q2pCLDZCQXhDaUIsRUF5Q2pCLGlDQXpDaUIsRUEwQ2pCLG1DQTFDaUIsRUEyQ2pCLCtCQTNDaUIsRUE0Q2pCLCtCQTVDaUIsRUE2Q2pCLGtDQTdDaUIsRUE4Q2pCLGtCQTlDaUIsRUErQ2pCLG1CQS9DaUIsRUFnRGpCLGtCQWhEaUIsRUFpRGpCLDhCQWpEaUIsRUFrRGpCLG1CQWxEaUIsRUFtRGpCLE1BbkRpQixFQW9EakIsY0FwRGlCLEVBcURqQix1QkFyRGlCLEVBc0RqQixjQXREaUIsRUF1RGpCLG9CQXZEaUIsRUF3RGpCLHVCQXhEaUIsRUF5RGpCLGdCQXpEaUIsRUEwRGpCLG9CQTFEaUIsRUEyRGpCLFdBM0RpQixFQTREakIsaUJBNURpQixFQTZEakIscUJBN0RpQixFQThEakIsc0JBOURpQixFQStEakIsMEJBL0RpQixFQWdFakIsMEJBaEVpQixFQWlFakIsdUJBakVpQixFQWtFakIsd0JBbEVpQixFQW1FakIsc0JBbkVpQixFQW9FakIsc0JBcEVpQixFQXFFakIscUJBckVpQixFQXNFakIsd0JBdEVpQixFQXVFakIsWUF2RWlCLEVBd0VqQixpQ0F4RWlCLEVBeUVqQixrQkF6RWlCLEVBMEVqQix5QkExRWlCLEVBMkVqQixzQkEzRWlCLEVBNEVqQixjQTVFaUIsRUE2RWpCLGlCQTdFaUIsRUE4RWpCLHdCQTlFaUIsRUErRWpCLGtCQS9FaUIsRUFnRmpCLHNCQWhGaUIsRUFpRmpCLG1CQWpGaUIsRUFrRmpCLHdCQWxGaUIsRUFtRmpCLGdCQW5GaUIsRUFvRmpCLG9CQXBGaUIsRUFxRmpCLG9CQXJGaUIsRUFzRmpCLGlCQXRGaUIsRUF1RmpCLGdCQXZGaUIsRUF3RmpCLGNBeEZpQixFQXlGakIseUJBekZpQixFQTBGakIsa0JBMUZpQixFQTJGakIsZ0JBM0ZpQixFQTRGakIscUJBNUZpQixFQTZGakIsZ0JBN0ZpQixFQThGakIsZUE5RmlCLEVBK0ZqQixVQS9GaUIsRUFnR2pCLG9CQWhHaUIsRUFpR2pCLHVCQWpHaUIsRUFrR2pCLG1CQWxHaUIsRUFtR2pCLGFBbkdpQixFQW9HakIsZ0JBcEdpQixFQXFHakIsNEJBckdpQixFQXNHakIsNEJBdEdpQixFQXVHakIsZUF2R2lCLEVBd0dqQix1QkF4R2lCLEVBeUdqQixnQkF6R2lCLEVBMEdqQixpQkExR2lCLEVBMkdqQixjQTNHaUIsRUE0R2pCLGVBNUdpQixFQTZHakIsYUE3R2lCLEVBOEdqQiw0QkE5R2lCLEVBK0dqQixzQkEvR2lCLEVBZ0hqQix1QkFoSGlCLEVBaUhqQix3Q0FqSGlCLEVBa0hqQixnQkFsSGlCLEVBbUhqQiw0QkFuSGlCLEVBb0hqQixrQkFwSGlCLEVBcUhqQix1Q0FySGlCLEVBc0hqQixlQXRIaUIsRUF1SGpCLHlCQXZIaUIsRUF3SGpCLGlCQXhIaUIsRUF5SGpCLG1CQXpIaUIsRUEwSGpCLHlCQTFIaUIsRUEySGpCLDBCQTNIaUIsRUE0SGpCLFFBNUhpQixFQTZIakIsZ0NBN0hpQixFQThIakIseUJBOUhpQixFQStIakIsc0JBL0hpQixFQWdJakIsY0FoSWlCLEVBaUlqQixnQkFqSWlCLENBQW5CLEVBa0lHO0FBQ0RpQixhQUFXLENBQUNqQixJQUFELENBQVgsR0FBb0JBLElBQXBCO0FBQ0QsQyxDQUVEO0FBQ0E7OztBQUNBLFNBQVNrQixhQUFULENBQXVCQyxNQUF2QixFQUErQkMsT0FBL0IsRUFBd0M7QUFDdEMsUUFBTUMsSUFBSSxHQUFHRixNQUFNLENBQUNFLElBQVAsR0FBYyxFQUFFLEdBQUdGLE1BQU0sQ0FBQ0U7QUFBWixHQUFkLEdBQW1DLEVBQWhEOztBQUNBLE1BQUksQ0FBQ0QsT0FBRCxJQUFZLENBQUNBLE9BQU8sQ0FBQ0UsSUFBckIsSUFBNkIsQ0FBQ0YsT0FBTyxDQUFDRyxFQUExQyxFQUE4QztBQUM1QyxVQUFNLElBQUlDLEtBQUosQ0FDSixnSEFESSxDQUFOO0FBR0QsR0FOcUMsQ0FPdEM7QUFDQTs7O0FBQ0EsR0FBQyxNQUFELEVBQVMsSUFBVCxFQUFlLFVBQWYsRUFBMkIsWUFBM0IsRUFBeUMsVUFBekMsRUFBcUQsV0FBckQsRUFBa0VDLE9BQWxFLENBQ0VDLENBQUMsSUFBSTtBQUNILFFBQUksT0FBT04sT0FBTyxDQUFDTSxDQUFELENBQWQsS0FBc0IsV0FBMUIsRUFBdUM7QUFDckNMLFVBQUksQ0FBQ0ssQ0FBRCxDQUFKLEdBQVVOLE9BQU8sQ0FBQ00sQ0FBRCxDQUFqQjtBQUNELEtBRkQsTUFFTyxJQUFJTCxJQUFJLENBQUNLLENBQUQsQ0FBUixFQUFhO0FBQ2xCLGFBQU9MLElBQUksQ0FBQ0ssQ0FBRCxDQUFYO0FBQ0Q7QUFDRixHQVBIO0FBU0EsU0FBTyxFQUFFLEdBQUdQLE1BQUw7QUFBYUU7QUFBYixHQUFQO0FBQ0Q7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLFNBQVN0QixVQUFULENBQW9Cb0IsTUFBcEIsRUFBNEJRLFVBQTVCLEVBQXdDQyxTQUF4QyxFQUFtRDtBQUNqRCxTQUFPVixhQUFhLENBQUNDLE1BQUQsRUFBUztBQUMzQkcsUUFBSSxFQUFFTyxvQkFEcUI7QUFFM0JOLE1BQUUsRUFBRU8saUJBRnVCO0FBRzNCSCxjQUgyQjtBQUkzQkM7QUFKMkIsR0FBVCxDQUFwQjtBQU1EO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0EsU0FBU0csVUFBVCxDQUFvQlosTUFBcEIsRUFBNEJRLFVBQTVCLEVBQXdDO0FBQ3RDLFNBQU81QixVQUFVLENBQUNvQixNQUFELEVBQVNRLFVBQVQsRUFBcUIsSUFBckIsQ0FBakI7QUFDRDtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0EsU0FBU0ssa0JBQVQsQ0FBNEJiLE1BQTVCLEVBQW9DO0FBQ2xDLFNBQU9ELGFBQWEsQ0FBQ0MsTUFBRCxFQUFTO0FBQzNCRyxRQUFJLEVBQUVRLGlCQURxQjtBQUUzQlAsTUFBRSxFQUFFTTtBQUZ1QixHQUFULENBQXBCO0FBSUQ7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLFNBQVNJLGdCQUFULENBQTBCZCxNQUExQixFQUFrQ2UsTUFBbEMsRUFBMENDLFFBQTFDLEVBQW9EO0FBQ2xELE1BQUksQ0FBQ0QsTUFBTCxFQUFhO0FBQ1gsVUFBTSxJQUFJVixLQUFKLENBQ0osZ0pBREksQ0FBTjtBQUdEOztBQUNELFNBQU9OLGFBQWEsQ0FBQ0MsTUFBRCxFQUFTO0FBQzNCRyxRQUFJLEVBQUVRLGlCQURxQjtBQUUzQlAsTUFBRSxFQUFFTSxvQkFGdUI7QUFHM0JPLFlBQVEsRUFBRUYsTUFIaUI7QUFJM0JDO0FBSjJCLEdBQVQsQ0FBcEI7QUFNRDtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLFNBQVNFLGdCQUFULENBQTBCbEIsTUFBMUIsRUFBa0NlLE1BQWxDLEVBQTBDO0FBQ3hDLFNBQU9ELGdCQUFnQixDQUFDZCxNQUFELEVBQVNlLE1BQVQsRUFBaUIsSUFBakIsQ0FBdkI7QUFDRDtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0EsU0FBU0ksZUFBVCxDQUF5Qm5CLE1BQXpCLEVBQWlDO0FBQy9CLFNBQU9ELGFBQWEsQ0FBQ0MsTUFBRCxFQUFTO0FBQzNCRyxRQUFJLEVBQUVRLGlCQURxQjtBQUUzQlAsTUFBRSxFQUFFZ0I7QUFGdUIsR0FBVCxDQUFwQjtBQUlEO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLFNBQVNDLFNBQVQsQ0FBbUJDLElBQW5CLEVBQXlCO0FBQ3ZCLFNBQU8xQyxVQUFVLENBQUM7QUFDaEJDLFFBQUksRUFBRWlCLFdBQVcsQ0FBQ3lCLG9CQURGO0FBRWhCRDtBQUZnQixHQUFELENBQWpCO0FBSUQ7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0EsU0FBU0UsaUJBQVQsQ0FBMkJGLElBQTNCLEVBQWlDO0FBQy9CLFNBQU8xQyxVQUFVLENBQUM7QUFDaEJDLFFBQUksRUFBRWlCLFdBQVcsQ0FBQzJCLDhCQURGO0FBRWhCSDtBQUZnQixHQUFELENBQWpCO0FBSUQ7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0EsU0FBU0ksZUFBVCxDQUF5QkosSUFBekIsRUFBK0JLLGFBQWEsR0FBR2pDLG1CQUEvQyxFQUFvRTtBQUNsRSxRQUFNTSxNQUFNLEdBQUc7QUFDYm5CLFFBQUksRUFBRWlCLFdBQVcsQ0FBQzhCLDBCQURMO0FBRWJOO0FBRmEsR0FBZjtBQUlBLFNBQU9LLGFBQWEsS0FBSzlCLE9BQWxCLEdBQTRCakIsVUFBVSxDQUFDb0IsTUFBRCxDQUF0QyxHQUFpREEsTUFBeEQ7QUFDRDtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxTQUFTNkIsOEJBQVQsQ0FDRVAsSUFERixFQUVFSyxhQUFhLEdBQUdqQyxtQkFGbEIsRUFHRTtBQUNBLFFBQU1NLE1BQU0sR0FBRztBQUNibkIsUUFBSSxFQUFFaUIsV0FBVyxDQUFDZ0MsaUNBREw7QUFFYlI7QUFGYSxHQUFmO0FBSUEsU0FBT0ssYUFBYSxLQUFLOUIsT0FBbEIsR0FBNEJqQixVQUFVLENBQUNvQixNQUFELENBQXRDLEdBQWlEQSxNQUF4RDtBQUNEO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLFNBQVMrQiw0QkFBVCxDQUNFVCxJQURGLEVBRUVLLGFBQWEsR0FBR2pDLG1CQUZsQixFQUdFO0FBQ0EsUUFBTU0sTUFBTSxHQUFHO0FBQ2JuQixRQUFJLEVBQUVpQixXQUFXLENBQUNrQywrQkFETDtBQUViVjtBQUZhLEdBQWY7QUFJQSxTQUFPSyxhQUFhLEtBQUs5QixPQUFsQixHQUE0QmpCLFVBQVUsQ0FBQ29CLE1BQUQsQ0FBdEMsR0FBaURBLE1BQXhEO0FBQ0Q7O0FBRUQsU0FBU2lDLE9BQVQsQ0FBaUJDLElBQWpCLEVBQXVCQyxLQUF2QixFQUE4QlIsYUFBYSxHQUFHakMsbUJBQTlDLEVBQW1FO0FBQ2pFLFFBQU1NLE1BQU0sR0FBRztBQUFFbkIsUUFBSSxFQUFFaUIsV0FBVyxDQUFDc0MsUUFBcEI7QUFBOEJkLFFBQUksRUFBRTtBQUFFWSxVQUFGO0FBQVFDO0FBQVI7QUFBcEMsR0FBZjtBQUNBLFNBQU9SLGFBQWEsS0FBSzlCLE9BQWxCLEdBQTRCakIsVUFBVSxDQUFDb0IsTUFBRCxDQUF0QyxHQUFpREEsTUFBeEQ7QUFDRDs7QUFFRCxTQUFTcUMsV0FBVCxDQUFxQnhELElBQXJCLEVBQTJCeUMsSUFBM0IsRUFBaUNLLGFBQWEsR0FBR2pDLG1CQUFqRCxFQUFzRTtBQUNwRSxNQUFJLENBQUM0QixJQUFELElBQVMsQ0FBQ0EsSUFBSSxDQUFDZ0IsTUFBbkIsRUFBMkI7QUFDekIsVUFBTSxJQUFJakMsS0FBSixDQUNKLG1IQURJLENBQU47QUFHRDs7QUFDRCxRQUFNTCxNQUFNLEdBQUc7QUFBRW5CLFFBQUY7QUFBUXlDO0FBQVIsR0FBZjtBQUNBLFNBQU9LLGFBQWEsS0FBSzlCLE9BQWxCLEdBQTRCakIsVUFBVSxDQUFDb0IsTUFBRCxDQUF0QyxHQUFpREEsTUFBeEQ7QUFDRDs7cUJBSXFCO0FBQ3BCYSxvQkFEb0I7QUFFcEJRLFdBRm9CO0FBR3BCRyxtQkFIb0I7QUFJcEJFLGlCQUpvQjtBQUtwQlosa0JBTG9CO0FBTXBCSSxrQkFOb0I7QUFPcEJ0QyxZQVBvQjtBQVFwQmdDLFlBUm9CO0FBU3BCTyxpQkFUb0I7QUFVcEJjLFNBVm9CO0FBV3BCSSxhQVhvQjtBQVlwQlIsZ0NBWm9CO0FBYXBCRTtBQWJvQixDLEVBZ0J0Qjs7a0JBQ21CO0FBQ2pCUSxjQUFZLENBQUN2QyxNQUFELEVBQVM7QUFDbkIsUUFBSSxDQUFDQSxNQUFNLENBQUNFLElBQVosRUFBa0I7QUFDaEIsYUFBTyxLQUFQO0FBQ0Q7O0FBQ0QsV0FDRUYsTUFBTSxDQUFDRSxJQUFQLENBQVlFLEVBQVosS0FBbUJPLGlCQUFuQixJQUNBWCxNQUFNLENBQUNFLElBQVAsQ0FBWUMsSUFBWixLQUFxQk8sb0JBRnZCO0FBSUQsR0FUZ0I7O0FBVWpCOEIsc0JBQW9CLENBQUN4QyxNQUFELEVBQVM7QUFDM0IsUUFBSSxDQUFDQSxNQUFNLENBQUNFLElBQVosRUFBa0I7QUFDaEIsYUFBTyxLQUFQO0FBQ0Q7O0FBQ0QsUUFBSUYsTUFBTSxDQUFDRSxJQUFQLENBQVlFLEVBQVosS0FBbUJNLG9CQUFuQixJQUEyQyxDQUFDVixNQUFNLENBQUNFLElBQVAsQ0FBWWUsUUFBNUQsRUFBc0U7QUFDcEUsYUFBTyxJQUFQO0FBQ0Q7O0FBQ0QsV0FBTyxLQUFQO0FBQ0QsR0FsQmdCOztBQW1CakJ3QixvQkFBa0IsQ0FBQ3pDLE1BQUQsRUFBUztBQUN6QixRQUFJLENBQUNBLE1BQU0sQ0FBQ0UsSUFBWixFQUFrQjtBQUNoQixhQUFPLEtBQVA7QUFDRDs7QUFDRCxRQUFJRixNQUFNLENBQUNFLElBQVAsQ0FBWUUsRUFBWixLQUFtQk0sb0JBQW5CLElBQTJDVixNQUFNLENBQUNFLElBQVAsQ0FBWWUsUUFBM0QsRUFBcUU7QUFDbkUsYUFBTyxJQUFQO0FBQ0Q7O0FBQ0QsV0FBTyxLQUFQO0FBQ0QsR0EzQmdCOztBQTRCakJ5QixtQkFBaUIsQ0FBQzFDLE1BQUQsRUFBUztBQUN4QixRQUFJLENBQUNBLE1BQU0sQ0FBQ0UsSUFBWixFQUFrQjtBQUNoQixhQUFPLEtBQVA7QUFDRDs7QUFDRCxXQUNFRixNQUFNLENBQUNFLElBQVAsQ0FBWUUsRUFBWixLQUFtQmdCLG9CQUFuQixJQUNBcEIsTUFBTSxDQUFDRSxJQUFQLENBQVlDLElBQVosS0FBcUJRLGlCQUZ2QjtBQUlELEdBcENnQjs7QUFxQ2pCZ0MsWUFBVSxDQUFDM0MsTUFBRCxFQUFTO0FBQ2pCLFFBQUksQ0FBQ0EsTUFBTSxDQUFDRSxJQUFaLEVBQWtCO0FBQ2hCLGFBQU8sS0FBUDtBQUNEOztBQUNELFdBQ0VGLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZQyxJQUFaLEtBQXFCUSxpQkFBckIsSUFDQVgsTUFBTSxDQUFDRSxJQUFQLENBQVlFLEVBQVosS0FBbUJNLG9CQUZyQjtBQUlELEdBN0NnQjs7QUE4Q2pCa0MsbUJBQWlCLENBQUM1QyxNQUFELEVBQVM7QUFDeEIsV0FBUUEsTUFBTSxDQUFDRSxJQUFQLElBQWVGLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZTSxVQUE1QixJQUEyQyxJQUFsRDtBQUNELEdBaERnQjs7QUFpRGpCVDtBQWpEaUIsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcFluQjtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRU8sTUFBTThDLFdBQVcsR0FBRyxDQUFDO0FBQUVDLFNBQUY7QUFBV0M7QUFBWCxDQUFELGtCQUN6QjtBQUFLLFdBQVMsRUFBQztBQUFmLGdCQUNFO0FBQ0UsV0FBUyxFQUFHLFFBQU9BLElBQUksSUFBSSxlQUFnQixFQUQ3QztBQUVFLFNBQU8sRUFBRUQsT0FGWDtBQUdFLGtCQUFhO0FBSGYsRUFERixDQURLLEMsQ0FVUDtBQUNBOztBQUNBLFNBQVNFLFFBQVQsQ0FBa0JDLElBQWxCLEVBQXdCQyxJQUF4QixFQUE4QjtBQUM1QixNQUFJQyxLQUFKO0FBQ0EsU0FBTyxDQUFDLEdBQUdDLElBQUosS0FBYTtBQUNsQixRQUFJRCxLQUFKLEVBQVc7QUFDVDtBQUNEOztBQUVELFFBQUlFLE1BQU0sR0FBRyxNQUFNO0FBQ2pCRixXQUFLLEdBQUcsSUFBUjtBQUNELEtBRkQ7O0FBSUFBLFNBQUssR0FBR0csVUFBVSxDQUFDRCxNQUFELEVBQVNILElBQVQsQ0FBbEI7QUFDQUQsUUFBSSxDQUFDTSxLQUFMLENBQVcsSUFBWCxFQUFpQkgsSUFBakI7QUFDRCxHQVhEO0FBWUQ7O0FBRU0sTUFBTUksS0FBTixTQUFvQkMsNENBQUssQ0FBQ0MsYUFBMUIsQ0FBd0M7QUFDN0NDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWE7QUFDWEMsYUFBTyxFQUFFO0FBREUsS0FBYjtBQUdBLFNBQUtDLGFBQUwsR0FBcUIsS0FBS0EsYUFBTCxDQUFtQkMsSUFBbkIsQ0FBd0IsSUFBeEIsQ0FBckI7QUFDRDs7QUFFREQsZUFBYSxDQUFDRixLQUFELEVBQVE7QUFDbkIsU0FBS0ksUUFBTCxDQUFjSixLQUFkO0FBQ0Q7O0FBRURLLHNCQUFvQixHQUFHO0FBQ3JCLFNBQUtDLFdBQUw7QUFDRDs7QUFFREMscUJBQW1CLEdBQUc7QUFDcEIsU0FBS0QsV0FBTDtBQUNEOztBQUVEQSxhQUFXLEdBQUc7QUFDWixVQUFNRSxhQUFhLEdBQUcsQ0FDcEIsaUJBRG9CLEVBRXBCO0FBQ0E7QUFDQXJGLFlBQVEsQ0FBQ3NGLElBQVQsQ0FBY0MsU0FBZCxDQUF3QkMsUUFBeEIsQ0FBaUMsbUJBQWpDLElBQ0ksbUJBREosR0FFSSxFQU5nQixFQVFuQkMsTUFSbUIsQ0FRWkMsQ0FBQyxJQUFJQSxDQVJPLEVBU25CQyxJQVRtQixDQVNkLEdBVGMsQ0FBdEI7QUFVQUMsVUFBTSxDQUFDNUYsUUFBUCxDQUFnQnNGLElBQWhCLENBQXFCTyxTQUFyQixHQUFpQ1IsYUFBakM7QUFDRDs7QUFFRFMsUUFBTSxHQUFHO0FBQ1AsVUFBTTtBQUFFbEI7QUFBRixRQUFZLElBQWxCO0FBQ0EsVUFBTTtBQUFFbUI7QUFBRixRQUFVbkIsS0FBaEI7QUFDQSxVQUFNb0IsaUJBQWlCLEdBQUdwQixLQUFLLENBQUNxQixLQUFOLENBQVlDLE1BQVosQ0FBbUIsMEJBQW5CLENBQTFCOztBQUVBLFFBQUksQ0FBQ0gsR0FBRyxDQUFDSSxXQUFULEVBQXNCO0FBQ3BCLGFBQU8sSUFBUDtBQUNEOztBQUVELHdCQUNFLDJEQUFDLGdHQUFEO0FBQWUsZUFBUyxFQUFDO0FBQXpCLG9CQUNFLDJEQUFDLDRDQUFELENBQU8sUUFBUCxxQkFDRSwyREFBQyxXQUFELGVBQWlCLEtBQUt2QixLQUF0QjtBQUE2QixrQkFBWSxFQUFFLEtBQUtDO0FBQWhELE9BREYsRUFFR21CLGlCQUFpQixnQkFDaEIsMkRBQUMsZ0dBQUQ7QUFBZSxtQkFBYSxFQUFFLEtBQUtqQjtBQUFuQyxNQURnQixHQUVkLElBSk4sQ0FERixDQURGO0FBVUQ7O0FBdEQ0QztBQXlEeEMsTUFBTXFCLFdBQU4sU0FBMEIzQiw0Q0FBSyxDQUFDQyxhQUFoQyxDQUE4QztBQUNuREMsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUt5QixlQUFMLEdBQXVCLEtBQUtBLGVBQUwsQ0FBcUJyQixJQUFyQixDQUEwQixJQUExQixDQUF2QjtBQUNBLFNBQUtzQixxQkFBTCxHQUE2QixLQUFLQSxxQkFBTCxDQUEyQnRCLElBQTNCLENBQWdDLElBQWhDLENBQTdCO0FBQ0EsU0FBS3VCLHNCQUFMLEdBQThCLEtBQUtBLHNCQUFMLENBQTRCdkIsSUFBNUIsQ0FBaUMsSUFBakMsQ0FBOUI7QUFDQSxTQUFLd0IsZUFBTCxHQUF1QixLQUFLQSxlQUFMLENBQXFCeEIsSUFBckIsQ0FBMEIsSUFBMUIsQ0FBdkI7QUFDQSxTQUFLeUIsY0FBTCxHQUFzQnpDLFFBQVEsQ0FBQyxLQUFLeUMsY0FBTCxDQUFvQnpCLElBQXBCLENBQXlCLElBQXpCLENBQUQsRUFBaUMsQ0FBakMsQ0FBOUI7QUFDQSxTQUFLMEIsT0FBTCxHQUFlLEtBQUtBLE9BQUwsQ0FBYTFCLElBQWIsQ0FBa0IsSUFBbEIsQ0FBZjtBQUNBLFNBQUtILEtBQUwsR0FBYTtBQUFFOEIsaUJBQVcsRUFBRSxLQUFmO0FBQXNCQywwQkFBb0IsRUFBRTtBQUE1QyxLQUFiO0FBQ0Q7O0FBRURDLG1CQUFpQixHQUFHO0FBQ2xCakIsVUFBTSxDQUFDekYsZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0MsS0FBS3NHLGNBQXZDO0FBQ0FiLFVBQU0sQ0FBQ3pGLGdCQUFQLENBQXdCLFNBQXhCLEVBQW1DLEtBQUtxRyxlQUF4QztBQUNEOztBQUVEdEIsc0JBQW9CLEdBQUc7QUFDckJVLFVBQU0sQ0FBQ2tCLG1CQUFQLENBQTJCLFFBQTNCLEVBQXFDLEtBQUtMLGNBQTFDO0FBQ0FiLFVBQU0sQ0FBQ2tCLG1CQUFQLENBQTJCLFNBQTNCLEVBQXNDLEtBQUtOLGVBQTNDO0FBQ0Q7O0FBRURDLGdCQUFjLEdBQUc7QUFDZixVQUFNTSxLQUFLLEdBQUcsS0FBS25DLEtBQUwsQ0FBV3FCLEtBQVgsQ0FBaUJDLE1BQS9CO0FBQ0EsVUFBTWMsZ0JBQWdCLEdBQUdELEtBQUssQ0FBQyw0QkFBRCxDQUFMLEdBQXNDLEdBQXRDLEdBQTRDLEVBQXJFOztBQUNBLFFBQUluQixNQUFNLENBQUNxQixPQUFQLEdBQWlCRCxnQkFBakIsSUFBcUMsQ0FBQyxLQUFLbkMsS0FBTCxDQUFXOEIsV0FBckQsRUFBa0U7QUFDaEUsV0FBSzFCLFFBQUwsQ0FBYztBQUFFMEIsbUJBQVcsRUFBRTtBQUFmLE9BQWQ7QUFDRCxLQUZELE1BRU8sSUFBSWYsTUFBTSxDQUFDcUIsT0FBUCxJQUFrQkQsZ0JBQWxCLElBQXNDLEtBQUtuQyxLQUFMLENBQVc4QixXQUFyRCxFQUFrRTtBQUN2RSxXQUFLMUIsUUFBTCxDQUFjO0FBQUUwQixtQkFBVyxFQUFFO0FBQWYsT0FBZDtBQUNEO0FBQ0Y7O0FBRUROLGlCQUFlLEdBQUc7QUFDaEIsU0FBS3pCLEtBQUwsQ0FBV2xGLFFBQVgsQ0FBb0JDLGlFQUFFLENBQUNpQyxVQUFILENBQWM7QUFBRS9CLFVBQUksRUFBRUMsOERBQUUsQ0FBQ29IO0FBQVgsS0FBZCxDQUFwQjtBQUNBLFNBQUt0QyxLQUFMLENBQVdsRixRQUFYLENBQW9CQyxpRUFBRSxDQUFDMEMsU0FBSCxDQUFhO0FBQUU4RSxXQUFLLEVBQUU7QUFBVCxLQUFiLENBQXBCO0FBQ0Q7O0FBRURiLHVCQUFxQixHQUFHO0FBQ3RCLFNBQUtyQixRQUFMLENBQWM7QUFBRTJCLDBCQUFvQixFQUFFO0FBQXhCLEtBQWQ7QUFDQSxTQUFLaEMsS0FBTCxDQUFXbEYsUUFBWCxDQUFvQkMsaUVBQUUsQ0FBQzBDLFNBQUgsQ0FBYTtBQUFFOEUsV0FBSyxFQUFFO0FBQVQsS0FBYixDQUFwQjtBQUNEOztBQUVEWix3QkFBc0IsR0FBRztBQUN2QixRQUFJLEtBQUsxQixLQUFMLENBQVcrQixvQkFBZixFQUFxQztBQUNuQyxXQUFLM0IsUUFBTCxDQUFjO0FBQUUyQiw0QkFBb0IsRUFBRTtBQUF4QixPQUFkO0FBQ0EsV0FBS2hDLEtBQUwsQ0FBV2xGLFFBQVgsQ0FBb0JDLGlFQUFFLENBQUMwQyxTQUFILENBQWE7QUFBRThFLGFBQUssRUFBRTtBQUFULE9BQWIsQ0FBcEI7QUFDRDtBQUNGOztBQUVEWCxpQkFBZSxDQUFDWSxDQUFELEVBQUk7QUFDakIsUUFBSUEsQ0FBQyxDQUFDQyxHQUFGLEtBQVUsUUFBZCxFQUF3QjtBQUN0QixXQUFLZCxzQkFBTDtBQUNEO0FBQ0Y7O0FBRURHLFNBQU8sQ0FBQ1ksSUFBRCxFQUFPbkUsS0FBUCxFQUFjO0FBQ25CLFNBQUt5QixLQUFMLENBQVdsRixRQUFYLENBQW9CQyxpRUFBRSxDQUFDc0QsT0FBSCxDQUFXcUUsSUFBWCxFQUFpQm5FLEtBQWpCLENBQXBCO0FBQ0Q7O0FBRUQyQyxRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUVsQjtBQUFGLFFBQVksSUFBbEI7QUFDQSxVQUFNO0FBQUVtQjtBQUFGLFFBQVVuQixLQUFoQjtBQUNBLFVBQU07QUFBRXVCO0FBQUYsUUFBa0JKLEdBQXhCO0FBQ0EsVUFBTWdCLEtBQUssR0FBR25DLEtBQUssQ0FBQ3FCLEtBQU4sQ0FBWUMsTUFBMUI7QUFFQSxVQUFNcUIsaUJBQWlCLEdBQ3JCM0MsS0FBSyxDQUFDNEMsZUFBTixDQUFzQkMsTUFBdEIsSUFBZ0M3QyxLQUFLLENBQUM0QyxlQUFOLENBQXNCQyxNQUF0QixDQUE2QkMsT0FEL0Q7QUFFQSxRQUFJQyxnQkFBZ0IsR0FBRy9DLEtBQUssQ0FBQ2dELFFBQU4sQ0FBZW5DLE1BQWYsQ0FDckJvQyxPQUFPLElBQUlBLE9BQU8sQ0FBQ0MsRUFBUixLQUFlLFlBREwsQ0FBdkI7QUFJQSxVQUFNQyxhQUFhLEdBQ2pCaEIsS0FBSyxDQUFDLDBCQUFELENBQUwsSUFBcUNBLEtBQUssQ0FBQyx5QkFBRCxDQUQ1QztBQUVBLFVBQU1pQixpQkFBaUIsR0FDckIsQ0FBQ2pCLEtBQUssQ0FBQyxnQkFBRCxDQUFOLElBQ0EsQ0FBQ2dCLGFBREQsSUFFQUosZ0JBQWdCLENBQUNsQyxNQUFqQixDQUF3Qm9DLE9BQU8sSUFBSUEsT0FBTyxDQUFDSCxPQUEzQyxFQUFvRE8sTUFBcEQsS0FBK0QsQ0FIakU7QUFJQSxVQUFNQyxvQkFBb0IsR0FBR25CLEtBQUssQ0FBQyxtQ0FBRCxDQUFsQztBQUNBLFVBQU1vQixxQkFBcUIsR0FBRyxLQUFLdEQsS0FBTCxDQUFXK0Isb0JBQXpDO0FBQ0EsVUFBTXdCLGtCQUFrQixHQUFHckIsS0FBSyxDQUFDLHlCQUFELENBQWhDO0FBQ0EsVUFBTXNCLGVBQWUsR0FBRztBQUN0QkMscUJBQWUsRUFBRXZCLEtBQUssQ0FBQyxnQkFBRCxDQURBO0FBRXRCZ0IsbUJBQWEsRUFBRWhCLEtBQUssQ0FBQywwQkFBRCxDQUZFO0FBR3RCd0IsdUJBQWlCLEVBQUV4QixLQUFLLENBQUMsMEJBQUQsQ0FIRjtBQUl0QnlCLGtDQUE0QixFQUFFekIsS0FBSyxDQUFDMEIscUJBSmQ7QUFLdEJDLGdDQUEwQixFQUFFM0IsS0FBSyxDQUFDNEIsYUFMWjtBQU10QkMsdUJBQWlCLEVBQUU3QixLQUFLLENBQUM4QjtBQU5ILEtBQXhCO0FBUUEsVUFBTUMsWUFBWSxHQUFHL0IsS0FBSyxDQUFDLHlCQUFELENBQTFCO0FBQ0EsVUFBTTtBQUFFZ0M7QUFBRixRQUErQmhDLEtBQXJDO0FBRUEsVUFBTWlDLGNBQWMsR0FBRyxDQUNyQixlQURxQixFQUVyQnpCLGlCQUFpQixJQUFJUSxhQUFyQixJQUFzQyxtQ0FGakIsRUFHckJSLGlCQUFpQixJQUFJLHNDQUhBLEVBSXJCUixLQUFLLENBQUNrQyxVQUFOLElBQ0UsS0FBS3BFLEtBQUwsQ0FBVzhCLFdBRGIsSUFFRSxDQUFDcUIsaUJBRkgsSUFHRSxjQVBtQixFQVFyQmpCLEtBQUssQ0FBQ2tDLFVBQU4sSUFBb0JqQixpQkFBcEIsSUFBeUMsYUFScEIsRUFTckJqQixLQUFLLENBQUMsNEJBQUQsQ0FBTCxJQUF1QyxjQVRsQixFQVdwQnRCLE1BWG9CLENBV2JDLENBQUMsSUFBSUEsQ0FYUSxFQVlwQkMsSUFab0IsQ0FZZixHQVplLENBQXZCO0FBY0EsVUFBTXVELFVBQVUsR0FDZG5DLEtBQUssQ0FBQyxnQkFBRCxDQUFMLElBQ0EsS0FBS25DLEtBQUwsQ0FBV3VFLFlBRFgsSUFFQSxLQUFLdkUsS0FBTCxDQUFXdUUsWUFBWCxDQUF3QnJFLE9BRnhCLElBR0EsS0FBS0YsS0FBTCxDQUFXdUUsWUFBWCxDQUF3QnJFLE9BQXhCLENBQWdDZ0QsRUFKbEM7QUFNQSx3QkFDRSxxRkFDRSwyREFBQyxnR0FBRDtBQUNFLGFBQU8sRUFBRSxLQUFLdkIsc0JBRGhCO0FBRUUsWUFBTSxFQUFFLEtBQUtELHFCQUZmO0FBR0UscUJBQWUsRUFBRSxLQUFLRCxlQUh4QjtBQUlFLGFBQU8sRUFBRSxLQUFLSyxPQUpoQjtBQUtFLHFCQUFlLEVBQUUyQixlQUxuQjtBQU1FLGtCQUFZLEVBQUVTLFlBTmhCO0FBT0UsOEJBQXdCLEVBQUVDLHdCQVA1QjtBQVFFLGFBQU8sRUFBRVoscUJBUlg7QUFTRSx3QkFBa0IsRUFBRUM7QUFUdEIsTUFERixlQWFFO0FBQUssZUFBUyxFQUFFWSxjQUFoQjtBQUFnQyxhQUFPLEVBQUUsS0FBS3pDO0FBQTlDLG9CQUNFO0FBQU0sZUFBUyxFQUFFMkMsVUFBVSxHQUFHLGFBQUgsR0FBbUI7QUFBOUMsT0FDR25DLEtBQUssQ0FBQ2tDLFVBQU4saUJBQ0M7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRSwyREFBQyxnR0FBRCxxQkFDRSwyREFBQywyRUFBRDtBQUNFLGNBQVEsRUFDTmpCLGlCQUFpQixJQUFJakIsS0FBSyxDQUFDLDRCQUFELENBRjlCO0FBSUUsb0JBQWMsRUFBRW1CO0FBSmxCLE9BS010RCxLQUFLLENBQUN3RSxNQUxaLEVBREYsQ0FERixDQUZKLGVBY0UsMkRBQUMsNEVBQUQ7QUFDRSxrQkFBWSxFQUFFLEtBQUt4RSxLQUFMLENBQVd1RSxZQUQzQjtBQUVFLHNCQUFnQixFQUFFLEtBQUt2RSxLQUFMLENBQVdxQixLQUFYLENBQWlCQyxNQUFqQixDQUF3Qm1ELGdCQUY1QztBQUdFLGlCQUFXLEVBQUUsS0FBS3pFLEtBQUwsQ0FBV3FCLEtBQVgsQ0FBaUJDLE1BQWpCLENBQXdCb0QsWUFIdkM7QUFJRSxjQUFRLEVBQUUsS0FBSzFFLEtBQUwsQ0FBV2xGO0FBSnZCLE1BZEYsZUFvQkU7QUFBSyxlQUFTLEVBQUcsZUFBY3lHLFdBQVcsR0FBRyxLQUFILEdBQVcsRUFBRztBQUF4RCxPQUNHb0IsaUJBQWlCLGdCQUNoQiwyREFBQyxnR0FBRDtBQUFlLGVBQVMsRUFBQztBQUF6QixvQkFDRSwyREFBQyxrSEFBRDtBQUFxQixZQUFNLEVBQUUzQyxLQUFLLENBQUNtQixHQUFOLENBQVV3RDtBQUF2QyxNQURGLENBRGdCLGdCQUtoQiwyREFBQyxrRkFBRCxPQU5KLENBcEJGLGVBNkJFLDJEQUFDLGdHQUFELE9BN0JGLENBREYsQ0FiRixDQURGO0FBaUREOztBQWhLa0Q7QUFtSzlDLE1BQU1DLElBQUksR0FBR0MsMkRBQU8sQ0FBQzVFLEtBQUssS0FBSztBQUNwQ2tCLEtBQUcsRUFBRWxCLEtBQUssQ0FBQ2tCLEdBRHlCO0FBRXBDRSxPQUFLLEVBQUVwQixLQUFLLENBQUNvQixLQUZ1QjtBQUdwQzJCLFVBQVEsRUFBRS9DLEtBQUssQ0FBQytDLFFBSG9CO0FBSXBDSixpQkFBZSxFQUFFM0MsS0FBSyxDQUFDMkMsZUFKYTtBQUtwQzRCLFFBQU0sRUFBRXZFLEtBQUssQ0FBQ3VFO0FBTHNCLENBQUwsQ0FBTixDQUFQLENBTWhCNUUsS0FOZ0IsQ0FBYixDOzs7Ozs7O0FDeFFQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNENBQTRDOztBQUU1Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuQkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNa0YsR0FBRyxHQUFHOUUsS0FBSyxpQkFDZjtBQUFJLFdBQVMsRUFBQztBQUFkLEdBQWlDQSxLQUFqQyxHQUNHQSxLQUFLLENBQUMrRSxRQURULENBREY7O0FBTUEsU0FBU0MsWUFBVCxDQUFzQkMsU0FBdEIsRUFBaUM7QUFDL0IsTUFBSSxDQUFDQSxTQUFMLEVBQWdCO0FBQ2QsV0FBTyxFQUFQO0FBQ0Q7O0FBQ0QsUUFBTUMsT0FBTyxHQUFHQyxJQUFJLENBQUNDLEtBQUwsQ0FBVyxDQUFDQyxJQUFJLENBQUNDLEdBQUwsS0FBYUwsU0FBZCxJQUEyQixJQUF0QyxDQUFoQjtBQUNBLFFBQU1NLE9BQU8sR0FBR0osSUFBSSxDQUFDQyxLQUFMLENBQVcsQ0FBQ0MsSUFBSSxDQUFDQyxHQUFMLEtBQWFMLFNBQWQsSUFBMkIsS0FBdEMsQ0FBaEI7O0FBQ0EsTUFBSUMsT0FBTyxHQUFHLENBQWQsRUFBaUI7QUFDZixXQUFPLFVBQVA7QUFDRCxHQUZELE1BRU8sSUFBSUEsT0FBTyxHQUFHLEVBQWQsRUFBa0I7QUFDdkIsV0FBUSxHQUFFQSxPQUFRLGNBQWxCO0FBQ0QsR0FGTSxNQUVBLElBQUlLLE9BQU8sS0FBSyxDQUFoQixFQUFtQjtBQUN4QixXQUFPLGNBQVA7QUFDRCxHQUZNLE1BRUEsSUFBSUEsT0FBTyxHQUFHLEdBQWQsRUFBbUI7QUFDeEIsV0FBUSxHQUFFQSxPQUFRLGNBQWxCO0FBQ0Q7O0FBQ0QsU0FBTyxJQUFJRixJQUFKLENBQVNKLFNBQVQsRUFBb0JPLGNBQXBCLEVBQVA7QUFDRDs7QUFFRCxNQUFNQyxlQUFlLEdBQUc7QUFDdEJDLE9BQUssRUFBRSxpREFEZTtBQUV0QkMsZUFBYSxFQUFFLCtCQUZPO0FBR3RCLGtCQUNFLG9FQUpvQjtBQUt0QixvQkFBa0I7QUFMSSxDQUF4QjtBQVFPLE1BQU1DLGlCQUFOLFNBQWdDL0YsNENBQUssQ0FBQ0MsYUFBdEMsQ0FBb0Q7QUFDekRDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLNkYsV0FBTCxHQUFtQixLQUFLQSxXQUFMLENBQWlCekYsSUFBakIsQ0FBc0IsSUFBdEIsQ0FBbkI7QUFDRDs7QUFFRHlGLGFBQVcsR0FBRztBQUNaLFNBQUs3RixLQUFMLENBQVdkLE9BQVgsQ0FBbUIsS0FBS2MsS0FBTCxDQUFXOEYsS0FBOUI7QUFDRDs7QUFFRDVFLFFBQU0sR0FBRztBQUNQLHdCQUFPO0FBQVEsYUFBTyxFQUFFLEtBQUsyRTtBQUF0Qix1QkFBUDtBQUNEOztBQVp3RDtBQWVwRCxNQUFNRSxpQkFBTixTQUFnQ2xHLDRDQUFLLENBQUNDLGFBQXRDLENBQW9EO0FBQ3pEQyxhQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNqQixVQUFNQSxLQUFOO0FBQ0EsU0FBSzZGLFdBQUwsR0FBbUIsS0FBS0EsV0FBTCxDQUFpQnpGLElBQWpCLENBQXNCLElBQXRCLENBQW5CO0FBQ0Q7O0FBRUR5RixhQUFXLEdBQUc7QUFDWixTQUFLN0YsS0FBTCxDQUFXZ0csVUFBWCxDQUFzQixLQUFLaEcsS0FBTCxDQUFXaUcsS0FBakM7QUFDRDs7QUFFRC9FLFFBQU0sR0FBRztBQUNQLFFBQUlnRixRQUFRLEdBQUcsS0FBS2xHLEtBQUwsQ0FBV21HLFdBQVgsR0FDWCxtQ0FEVyxHQUVYLGdDQUZKO0FBR0Esd0JBQ0U7QUFBUSxlQUFTLEVBQUMsYUFBbEI7QUFBZ0MsYUFBTyxFQUFFLEtBQUtOO0FBQTlDLG9CQUNFO0FBQU0sZUFBUyxFQUFFSztBQUFqQixNQURGLENBREY7QUFLRDs7QUFuQndEO0FBc0JwRCxNQUFNRSxrQkFBTixTQUFpQ3ZHLDRDQUFLLENBQUNDLGFBQXZDLENBQXFEO0FBQzFEQyxhQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNqQixVQUFNQSxLQUFOO0FBQ0EsU0FBS3FHLFFBQUwsR0FBZ0IsS0FBS0EsUUFBTCxDQUFjakcsSUFBZCxDQUFtQixJQUFuQixDQUFoQjtBQUNEOztBQUVEaUcsVUFBUSxDQUFDOUQsS0FBRCxFQUFRO0FBQ2QsU0FBS3ZDLEtBQUwsQ0FBV3FHLFFBQVgsQ0FBb0IsS0FBS3JHLEtBQUwsQ0FBVzBDLElBQS9CLEVBQXFDSCxLQUFLLENBQUNwRixNQUFOLENBQWFtSixPQUFsRDtBQUNEOztBQUVEcEYsUUFBTSxHQUFHO0FBQ1Asd0JBQ0UscUlBQ0U7QUFDRSxVQUFJLEVBQUMsVUFEUDtBQUVFLGFBQU8sRUFBRSxLQUFLbEIsS0FBTCxDQUFXc0csT0FGdEI7QUFHRSxjQUFRLEVBQUUsS0FBS0QsUUFIakI7QUFJRSxjQUFRLEVBQUUsS0FBS3JHLEtBQUwsQ0FBV3VHO0FBSnZCLE1BREYsRUFNSyxHQU5MLEVBT0csS0FBS3ZHLEtBQUwsQ0FBVzBDLElBUGQsRUFPb0IsR0FQcEIsQ0FERjtBQVdEOztBQXRCeUQ7QUF5QnJELE1BQU04RCxlQUFOLFNBQThCM0csNENBQUssQ0FBQ0MsYUFBcEMsQ0FBa0Q7QUFDdkRDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLeUcscUJBQUwsR0FBNkIsS0FBS0EscUJBQUwsQ0FBMkJyRyxJQUEzQixDQUFnQyxJQUFoQyxDQUE3QjtBQUNEOztBQUVEcUcsdUJBQXFCLEdBQUc7QUFDdEIsU0FBS3pHLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMsaUVBQUUsQ0FBQ2lDLFVBQUgsQ0FBYztBQUNaL0IsVUFBSSxFQUFFQyw4REFBRSxDQUFDd0w7QUFERyxLQUFkLENBREY7QUFLRDs7QUFFRHhGLFFBQU0sR0FBRztBQUNQLFVBQU07QUFBRXlGLGlCQUFGO0FBQWVwRjtBQUFmLFFBQStCLEtBQUt2QixLQUFMLENBQVdDLEtBQVgsQ0FBaUJ1RyxlQUF0RDtBQUNBLHdCQUNFLDJEQUFDLDRDQUFELENBQU8sUUFBUCxxQkFDRSx1RkFDRSx1RkFDRSwyREFBQyxHQUFELHFCQUNFO0FBQUksYUFBTyxFQUFDO0FBQVosb0JBQ0UsMkRBQUMsa0JBQUQ7QUFDRSxhQUFPLEVBQUUsS0FBS3hHLEtBQUwsQ0FBVzRHLFlBRHRCO0FBRUUsVUFBSSxFQUFDLGNBRlA7QUFHRSxjQUFRLEVBQUUsS0FBS0g7QUFIakIsTUFERixDQURGLENBREYsZUFVRSwyREFBQyxHQUFELHFCQUNFO0FBQUksZUFBUyxFQUFDO0FBQWQsc0NBREYsZUFFRSx1RUFBS3pCLFlBQVksQ0FBQzJCLFdBQUQsQ0FBWixJQUE2QixXQUFsQyxDQUZGLENBVkYsZUFjRSwyREFBQyxHQUFELHFCQUNFO0FBQUksZUFBUyxFQUFDO0FBQWQscUNBREYsZUFFRSx1RUFBS3BGLFdBQVcsR0FBRyxNQUFILEdBQVksT0FBNUIsQ0FGRixDQWRGLENBREYsQ0FERixDQURGO0FBeUJEOztBQXpDc0Q7QUE0Q2xELE1BQU1zRixvQkFBTixTQUFtQ2hILDRDQUFLLENBQUNDLGFBQXpDLENBQXVEO0FBQzVEQyxhQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNqQixVQUFNQSxLQUFOO0FBQ0EsU0FBSzhHLG1CQUFMLEdBQTJCLEtBQUtBLG1CQUFMLENBQXlCMUcsSUFBekIsQ0FBOEIsSUFBOUIsQ0FBM0I7QUFDQSxTQUFLMkcsY0FBTCxHQUFzQixLQUFLQSxjQUFMLENBQW9CM0csSUFBcEIsQ0FBeUIsSUFBekIsQ0FBdEI7QUFDQSxTQUFLNEcsV0FBTCxHQUFtQixLQUFLQSxXQUFMLENBQWlCNUcsSUFBakIsQ0FBc0IsSUFBdEIsQ0FBbkI7QUFDQSxTQUFLNkcsWUFBTCxHQUFvQixLQUFLQSxZQUFMLENBQWtCN0csSUFBbEIsQ0FBdUIsSUFBdkIsQ0FBcEI7QUFDQSxTQUFLOEcsU0FBTCxHQUFpQixLQUFLQSxTQUFMLENBQWU5RyxJQUFmLENBQW9CLElBQXBCLENBQWpCO0FBQ0EsU0FBSytHLFVBQUwsR0FBa0IsS0FBS0EsVUFBTCxDQUFnQi9HLElBQWhCLENBQXFCLElBQXJCLENBQWxCO0FBQ0EsU0FBS2dILGtCQUFMLEdBQTBCLEtBQUtBLGtCQUFMLENBQXdCaEgsSUFBeEIsQ0FBNkIsSUFBN0IsQ0FBMUI7QUFDQSxTQUFLaUgscUJBQUwsR0FBNkIsS0FBS0EscUJBQUwsQ0FBMkJqSCxJQUEzQixDQUFnQyxJQUFoQyxDQUE3QjtBQUNBLFNBQUtrSCxhQUFMLEdBQXFCLEtBQUtBLGFBQUwsQ0FBbUJsSCxJQUFuQixDQUF3QixJQUF4QixDQUFyQjtBQUNBLFNBQUtILEtBQUwsR0FBYTtBQUNYc0gsb0JBQWMsRUFBRTtBQURMLEtBQWI7QUFHRDs7QUFFRFIsZ0JBQWMsQ0FBQ3pJLElBQUQsRUFBT0MsS0FBUCxFQUFjO0FBQzFCLFNBQUt5QixLQUFMLENBQVdsRixRQUFYLENBQ0VDLGlFQUFFLENBQUNpQyxVQUFILENBQWM7QUFDWi9CLFVBQUksRUFBRUMsOERBQUUsQ0FBQ3NNLGlDQURHO0FBRVo5SixVQUFJLEVBQUU7QUFBRVksWUFBRjtBQUFRQztBQUFSO0FBRk0sS0FBZCxDQURGO0FBTUQ7O0FBRUR1SSxxQkFBbUIsQ0FBQ3ZFLEtBQUQsRUFBUTtBQUN6QixTQUFLdkMsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyxpRUFBRSxDQUFDaUMsVUFBSCxDQUFjO0FBQ1ovQixVQUFJLEVBQUVDLDhEQUFFLENBQUN1TTtBQURHLEtBQWQsQ0FERjtBQUtEOztBQUVEUixjQUFZLEdBQUc7QUFDYixVQUFNO0FBQUVwRTtBQUFGLFFBQWEsS0FBSzdDLEtBQUwsQ0FBV0MsS0FBWCxDQUFpQjJDLGVBQXBDO0FBQ0EsU0FBSzVDLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMsaUVBQUUsQ0FBQ2lDLFVBQUgsQ0FBYztBQUNaL0IsVUFBSSxFQUFFQyw4REFBRSxDQUFDd00sOEJBREc7QUFFWmhLLFVBQUksRUFBRW1GO0FBRk0sS0FBZCxDQURGO0FBTUQ7O0FBRUQ4RSxzQkFBb0IsQ0FBQzFNLElBQUQsRUFBTztBQUN6QixTQUFLK0UsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyxpRUFBRSxDQUFDaUMsVUFBSCxDQUFjO0FBQ1ovQjtBQURZLEtBQWQsQ0FERjtBQUtEOztBQUVEa00sWUFBVSxHQUFHO0FBQ1gsU0FBS1Esb0JBQUwsQ0FBMEJ6TSw4REFBRSxDQUFDME0sZ0NBQTdCO0FBQ0Q7O0FBRURaLGFBQVcsR0FBRztBQUNaLFNBQUtXLG9CQUFMLENBQTBCek0sOERBQUUsQ0FBQzJNLGlDQUE3QjtBQUNEOztBQUVEWCxXQUFTLEdBQUc7QUFDVixTQUFLUyxvQkFBTCxDQUEwQnpNLDhEQUFFLENBQUM0TSwrQkFBN0I7QUFDRDs7QUFFRFYsb0JBQWtCLEdBQUc7QUFDbkIsU0FBS08sb0JBQUwsQ0FBMEJ6TSw4REFBRSxDQUFDNk0sNEJBQTdCO0FBQ0Q7O0FBRURWLHVCQUFxQixDQUFDOUUsS0FBRCxFQUFRO0FBQzNCLFVBQU15RixRQUFRLEdBQUcsS0FBS2hJLEtBQUwsQ0FBV0MsS0FBWCxDQUFpQjJDLGVBQWpCLENBQWlDQyxNQUFqQyxDQUF3Q29GLGVBQXpEOztBQUNBLFFBQUlELFFBQUosRUFBYztBQUNaLFdBQUtqQixjQUFMLENBQ0UsaUJBREYsRUFFRWlCLFFBQVEsQ0FBQ0UsT0FBVCxDQUNFLG1CQURGLEVBRUcsa0JBQWlCM0YsS0FBSyxDQUFDcEYsTUFBTixDQUFhb0IsS0FBTSxFQUZ2QyxDQUZGO0FBT0Q7QUFDRjs7QUFFRDRKLGlCQUFlLENBQUNDLEtBQUQsRUFBUUMsU0FBUixFQUFtQjtBQUNoQyx3QkFDRSx1RkFDRSx1RkFDRSwyREFBQyxHQUFELHFCQUNFO0FBQUksZUFBUyxFQUFDO0FBQWQsY0FERixlQUVFLHVFQUFLQSxTQUFTLENBQUNwTixJQUFmLENBRkYsQ0FERixlQUtFLDJEQUFDLEdBQUQscUJBQ0U7QUFBSSxlQUFTLEVBQUM7QUFBZCxlQURGLGVBRUUsdUVBQUttTixLQUFMLENBRkYsQ0FMRixFQVNHQyxTQUFTLENBQUNDLElBQVYsSUFBa0IsS0FBS0MsVUFBTCxDQUFnQkYsU0FBUyxDQUFDQyxJQUExQixDQVRyQixDQURGLENBREY7QUFlRDs7QUFFREUsa0JBQWdCLENBQUN0RixFQUFELEVBQUs7QUFDbkIsVUFBTThFLFFBQVEsR0FBRyxLQUFLaEksS0FBTCxDQUFXQyxLQUFYLENBQWlCMkMsZUFBakIsQ0FBaUNDLE1BQWpDLENBQXdDb0YsZUFBekQ7QUFDQSxVQUFNUSxPQUFPLEdBQUdULFFBQVEsSUFBSSxDQUFDLENBQUNBLFFBQVEsQ0FBQ1UsS0FBVCxDQUFnQixrQkFBaUJ4RixFQUFHLEVBQXBDLENBQTlCO0FBQ0EsV0FBT3VGLE9BQVA7QUFDRDs7QUFFREUsZ0JBQWMsQ0FBQ0MsR0FBRCxFQUFNO0FBQ2xCLFVBQU07QUFBRUM7QUFBRixRQUFZLEtBQUs3SSxLQUFMLENBQVdDLEtBQVgsQ0FBaUIyQyxlQUFuQztBQUNBLFVBQU0wRixJQUFJLEdBQUdPLEtBQUssQ0FBQ25MLElBQU4sQ0FBV2tMLEdBQVgsRUFBZ0JsTCxJQUE3QjtBQUNBLHdCQUNFLDJEQUFDLDRDQUFELENBQU8sUUFBUCxxQkFDRSxxRkFBZWtMLEdBQWYsQ0FERixlQUVFLHVGQUNFLDBFQUNHTixJQUFJLENBQUNRLGVBQUwsQ0FBcUJDLEdBQXJCLENBQXlCakQsS0FBSyxJQUFJLEtBQUtrRCxlQUFMLENBQXFCbEQsS0FBckIsQ0FBbEMsQ0FESCxDQURGLENBRkYsQ0FERjtBQVVEOztBQUVEbUQsaUJBQWUsR0FBRztBQUNoQixVQUFNO0FBQUVKO0FBQUYsUUFBWSxLQUFLN0ksS0FBTCxDQUFXQyxLQUFYLENBQWlCMkMsZUFBbkM7QUFDQSx3QkFDRSwyREFBQyw0Q0FBRCxDQUFPLFFBQVAsUUFDR3NHLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZTixLQUFLLENBQUNuTCxJQUFsQixFQUF3QnFMLEdBQXhCLENBQTRCSCxHQUFHLElBQUksS0FBS0QsY0FBTCxDQUFvQkMsR0FBcEIsQ0FBbkMsQ0FESCxDQURGO0FBS0Q7O0FBRURRLGFBQVcsR0FBRztBQUNaLFVBQU07QUFBRUM7QUFBRixRQUFZLEtBQUtySixLQUFMLENBQVdDLEtBQVgsQ0FBaUIyQyxlQUFuQztBQUNBLFFBQUkwRyxTQUFTLEdBQUcsRUFBaEI7O0FBQ0EsUUFBSUQsS0FBSyxDQUFDM0wsSUFBTixJQUFjMkwsS0FBSyxDQUFDM0wsSUFBTixDQUFXMkwsS0FBekIsSUFBa0NBLEtBQUssQ0FBQzNMLElBQU4sQ0FBVzJMLEtBQVgsQ0FBaUJFLEtBQXZELEVBQThEO0FBQzVERCxlQUFTLEdBQUdELEtBQUssQ0FBQzNMLElBQU4sQ0FBVzJMLEtBQVgsQ0FBaUJFLEtBQWpCLElBQTBCLEVBQXRDO0FBQ0Q7O0FBRUQsd0JBQ0UsMkRBQUMsNENBQUQsQ0FBTyxRQUFQLHFCQUNFLHVGQUNFLHVGQUNFLDJEQUFDLEdBQUQscUJBQ0U7QUFBSSxlQUFTLEVBQUM7QUFBZCx3QkFERixlQUVFLHVFQUFLRixLQUFLLENBQUNHLGNBQVgsQ0FGRixDQURGLGVBS0UsMkRBQUMsR0FBRCxxQkFDRTtBQUFJLGVBQVMsRUFBQztBQUFkLDJCQURGLGVBRUUsdUVBQUt4RSxZQUFZLENBQUNxRSxLQUFLLENBQUMxQyxXQUFQLENBQWpCLENBRkYsQ0FMRixDQURGLENBREYsZUFhRSxtRkFiRixlQWNFLHVGQUNFLDBFQUFRMkMsU0FBUyxDQUFDUCxHQUFWLENBQWNVLElBQUksSUFBSSxLQUFLVCxlQUFMLENBQXFCUyxJQUFyQixDQUF0QixDQUFSLENBREYsQ0FkRixlQWlCRSw2RkFqQkYsZUFrQkUsdUZBQ0UsMEVBQ0dKLEtBQUssQ0FBQ0ssY0FBTixDQUFxQlgsR0FBckIsQ0FBeUJVLElBQUksSUFBSSxLQUFLVCxlQUFMLENBQXFCUyxJQUFyQixDQUFqQyxDQURILENBREYsQ0FsQkYsQ0FERjtBQTBCRDs7QUFFRG5DLGVBQWEsQ0FBQ3hCLEtBQUQsRUFBUTtBQUNuQixVQUFNO0FBQUV5QjtBQUFGLFFBQXFCLEtBQUt0SCxLQUFoQztBQUNBLFNBQUtJLFFBQUwsQ0FBYztBQUNaa0gsb0JBQWMsRUFBRSxFQUNkLEdBQUdBLGNBRFc7QUFFZCxTQUFDekIsS0FBSyxDQUFDNUMsRUFBUCxHQUFZLENBQUNxRSxjQUFjLENBQUN6QixLQUFLLENBQUM1QyxFQUFQO0FBRmI7QUFESixLQUFkO0FBTUQ7O0FBRUQ4RixpQkFBZSxDQUFDbEQsS0FBRCxFQUFRO0FBQ3JCLFFBQUk2RCxTQUFTLEdBQUcsRUFBaEI7O0FBQ0EsUUFBSSxLQUFLMUosS0FBTCxDQUFXc0gsY0FBWCxDQUEwQnpCLEtBQUssQ0FBQzVDLEVBQWhDLENBQUosRUFBeUM7QUFDdkN5RyxlQUFTLEdBQUdDLElBQUksQ0FBQ0MsU0FBTCxDQUFlL0QsS0FBZixFQUFzQixJQUF0QixFQUE0QixDQUE1QixDQUFaO0FBQ0Q7O0FBQ0Qsd0JBQ0U7QUFBSSxlQUFTLEVBQUMsY0FBZDtBQUE2QixTQUFHLEVBQUVBLEtBQUssQ0FBQzVDO0FBQXhDLG9CQUNFO0FBQUksZUFBUyxFQUFDO0FBQWQsb0JBQ0UseUVBQ0c0QyxLQUFLLENBQUM1QyxFQURULG9CQUNhLHNFQURiLENBREYsZUFJRSwyREFBQyxpQkFBRDtBQUFtQixXQUFLLEVBQUU0QyxLQUExQjtBQUFpQyxhQUFPLEVBQUUsS0FBS3dCO0FBQS9DLE1BSkYsQ0FERixlQU9FO0FBQUksZUFBUyxFQUFDO0FBQWQsb0JBQ0Usd0VBQU1xQyxTQUFOLENBREYsQ0FQRixDQURGO0FBYUQ7O0FBRURwQixZQUFVLENBQUNELElBQUQsRUFBTztBQUNmLFVBQU07QUFBRU87QUFBRixRQUFZLEtBQUs3SSxLQUFMLENBQVdDLEtBQVgsQ0FBaUIyQyxlQUFuQzs7QUFDQSxRQUFJLENBQUMwRixJQUFJLENBQUNNLEdBQVYsRUFBZTtBQUNiLGFBQU8sSUFBUDtBQUNEOztBQUNELHdCQUNFLDJEQUFDLDRDQUFELENBQU8sUUFBUCxxQkFDRSwyREFBQyxHQUFELHFCQUNFO0FBQUksZUFBUyxFQUFDO0FBQWQsa0JBREYsZUFFRSx1RUFBS04sSUFBSSxDQUFDTSxHQUFWLENBRkYsQ0FERixlQUtFLDJEQUFDLEdBQUQscUJBQ0U7QUFBSSxlQUFTLEVBQUM7QUFBZCwyQkFERixlQUVFLHVFQUNHNUQsWUFBWSxDQUNYNkQsS0FBSyxDQUFDbkwsSUFBTixDQUFXNEssSUFBSSxDQUFDTSxHQUFoQixJQUF1QkMsS0FBSyxDQUFDbkwsSUFBTixDQUFXNEssSUFBSSxDQUFDTSxHQUFoQixFQUFxQmpDLFdBQTVDLEdBQTBELElBRC9DLENBQVosSUFFSSxXQUhQLENBRkYsQ0FMRixDQURGO0FBZ0JEOztBQUVEekYsUUFBTSxHQUFHO0FBQ1AsVUFBTTRJLFdBQVcsR0FBRyxrREFBa0RDLEtBQWxELENBQ2xCLEdBRGtCLENBQXBCO0FBR0EsVUFBTTtBQUFFbEgsWUFBRjtBQUFVOEQsaUJBQVY7QUFBdUJxRDtBQUF2QixRQUFrQyxLQUFLaEssS0FBTCxDQUFXQyxLQUFYLENBQWlCMkMsZUFBekQ7QUFDQSxVQUFNZ0UsWUFBWSxHQUFHLEtBQUs1RyxLQUFMLENBQVdpSyxVQUFYLENBQ25CLHlDQURtQixDQUFyQjtBQUdBLHdCQUNFLHFGQUNFO0FBQVEsZUFBUyxFQUFDLFFBQWxCO0FBQTJCLGFBQU8sRUFBRSxLQUFLbkQ7QUFBekMsK0JBREYsRUFHWSxHQUhaLGVBSUU7QUFBUSxlQUFTLEVBQUMsUUFBbEI7QUFBMkIsYUFBTyxFQUFFLEtBQUtHO0FBQXpDLHVCQUpGLGVBT0Usc0VBUEYsZUFRRTtBQUFRLGVBQVMsRUFBQyxRQUFsQjtBQUEyQixhQUFPLEVBQUUsS0FBS0Q7QUFBekMsc0JBUkYsRUFVWSxHQVZaLGVBV0U7QUFBUSxlQUFTLEVBQUMsUUFBbEI7QUFBMkIsYUFBTyxFQUFFLEtBQUtHO0FBQXpDLDZCQVhGLEVBYVksR0FiWixlQWNFO0FBQVEsZUFBUyxFQUFDLFFBQWxCO0FBQTJCLGFBQU8sRUFBRSxLQUFLRDtBQUF6Qyw0QkFkRixlQWlCRSxzRUFqQkYsZUFrQkU7QUFBUSxlQUFTLEVBQUMsUUFBbEI7QUFBMkIsYUFBTyxFQUFFLEtBQUtFO0FBQXpDLDhCQWxCRixlQXFCRSx1RkFDRSwwRUFDRzBDLFdBQVcsQ0FBQ2YsR0FBWixDQUFnQnJHLElBQUksaUJBQ25CLDJEQUFDLEdBQUQ7QUFBSyxTQUFHLEVBQUVBO0FBQVYsb0JBQ0Usb0ZBQ0UsMkRBQUMsa0JBQUQ7QUFDRSxhQUFPLEVBQUVHLE1BQU0sQ0FBQ0gsSUFBRCxDQURqQjtBQUVFLFVBQUksRUFBRUEsSUFGUjtBQUdFLGNBQVEsRUFBRSxLQUFLcUU7QUFIakIsTUFERixDQURGLENBREQsQ0FESCxDQURGLENBckJGLGVBb0NFLDBGQXBDRixlQXFDRSxrSUFDMkQsR0FEM0QsZUFFRSxxSUFGRixDQXJDRixlQXlDRTtBQUNFLFdBQUssRUFDSGxFLE1BQU0sQ0FBQ0MsT0FBUCxJQUFrQixDQUFDRCxNQUFNLENBQUNxSCxnQkFBMUIsR0FBNkMsSUFBN0MsR0FBb0Q7QUFBRUMsZUFBTyxFQUFFO0FBQVg7QUFGeEQsb0JBS0UsMEVBQ0dqQixNQUFNLENBQUNDLElBQVAsQ0FBWTFELGVBQVosRUFBNkJzRCxHQUE3QixDQUFpQzdGLEVBQUUsaUJBQ2xDLDJEQUFDLEdBQUQ7QUFBSyxTQUFHLEVBQUVBO0FBQVYsb0JBQ0U7QUFBSSxlQUFTLEVBQUM7QUFBZCxvQkFDRTtBQUNFLFVBQUksRUFBQyxPQURQO0FBRUUsV0FBSyxFQUFFQSxFQUZUO0FBR0UsYUFBTyxFQUFFLEtBQUtzRixnQkFBTCxDQUFzQnRGLEVBQXRCLENBSFg7QUFJRSxjQUFRLEVBQUUsS0FBS21FO0FBSmpCLE1BREYsQ0FERixlQVNFO0FBQUksZUFBUyxFQUFDO0FBQWQsT0FBcUJuRSxFQUFyQixDQVRGLGVBVUUsdUVBQUt1QyxlQUFlLENBQUN2QyxFQUFELENBQXBCLENBVkYsQ0FERCxDQURILENBTEYsQ0F6Q0YsZUErREUsc0ZBL0RGLGVBZ0VFO0FBQU8sV0FBSyxFQUFFTCxNQUFNLENBQUNDLE9BQVAsR0FBaUIsSUFBakIsR0FBd0I7QUFBRXFILGVBQU8sRUFBRTtBQUFYO0FBQXRDLG9CQUNFLHVGQUNFLDJEQUFDLEdBQUQscUJBQ0U7QUFBSSxlQUFTLEVBQUM7QUFBZCwyQkFERixlQUVFLHVFQUFLbkYsWUFBWSxDQUFDMkIsV0FBRCxDQUFaLElBQTZCLFdBQWxDLENBRkYsQ0FERixDQURGLENBaEVGLGVBd0VFLGdGQXhFRixFQXlFR3FELE1BQU0sQ0FBQ2pCLEdBQVAsQ0FBVyxDQUFDcUIsR0FBRCxFQUFNQyxRQUFOLGtCQUNWO0FBQUssU0FBRyxFQUFHLE9BQU1BLFFBQVM7QUFBMUIsT0FDR0QsR0FBRyxDQUFDRSxVQUFKLENBQWV2QixHQUFmLENBQW1CLENBQUNWLFNBQUQsRUFBWWtDLGNBQVosa0JBQ2xCO0FBQUssU0FBRyxFQUFHLGFBQVlBLGNBQWUsRUFBdEM7QUFBeUMsZUFBUyxFQUFDO0FBQW5ELE9BQ0csS0FBS3BDLGVBQUwsQ0FBcUJpQyxHQUFHLENBQUNoQyxLQUF6QixFQUFnQ0MsU0FBaEMsQ0FESCxDQURELENBREgsQ0FERCxDQXpFSCxlQWtGRSx5RkFsRkYsZUFtRkUsMkRBQUMsZUFBRDtBQUNFLGtCQUFZLEVBQUV6QixZQURoQjtBQUVFLGNBQVEsRUFBRSxLQUFLNUcsS0FBTCxDQUFXbEYsUUFGdkI7QUFHRSxXQUFLLEVBQUU7QUFDTDBMLHVCQUFlLEVBQUUsS0FBS3hHLEtBQUwsQ0FBV0MsS0FBWCxDQUFpQnVHO0FBRDdCO0FBSFQsTUFuRkYsZUEwRkUsK0VBMUZGLEVBMkZHLEtBQUs0QyxXQUFMLEVBM0ZILGVBNEZFLG9GQTVGRixFQTZGRyxLQUFLSCxlQUFMLEVBN0ZILENBREY7QUFpR0Q7O0FBbFUyRDtBQXFVdkQsTUFBTXVCLGtCQUFOLFNBQWlDM0ssNENBQUssQ0FBQ0MsYUFBdkMsQ0FBcUQ7QUFDMURDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLeUssbUJBQUwsR0FBMkIsS0FBS0EsbUJBQUwsQ0FBeUJySyxJQUF6QixDQUE4QixJQUE5QixDQUEzQjtBQUNBLFNBQUtzSyxvQkFBTCxHQUE0QixLQUFLQSxvQkFBTCxDQUEwQnRLLElBQTFCLENBQStCLElBQS9CLENBQTVCO0FBQ0EsU0FBS3VLLHFCQUFMLEdBQTZCLEtBQUtBLHFCQUFMLENBQTJCdkssSUFBM0IsQ0FBZ0MsSUFBaEMsQ0FBN0I7QUFDQSxTQUFLd0ssMkJBQUwsR0FBbUMsS0FBS0EsMkJBQUwsQ0FBaUN4SyxJQUFqQyxDQUNqQyxJQURpQyxDQUFuQztBQUdBLFNBQUt5SyxVQUFMLEdBQWtCLEtBQUtBLFVBQUwsQ0FBZ0J6SyxJQUFoQixDQUFxQixJQUFyQixDQUFsQjtBQUNBLFNBQUswSyxtQ0FBTCxHQUEyQyxLQUFLQSxtQ0FBTCxDQUF5QzFLLElBQXpDLENBQ3pDLElBRHlDLENBQTNDO0FBR0EsU0FBSzJLLG9CQUFMLEdBQTRCLEtBQUtBLG9CQUFMLENBQTBCM0ssSUFBMUIsQ0FBK0IsSUFBL0IsQ0FBNUI7QUFDQSxTQUFLNEssMkJBQUwsR0FBbUMsS0FBS0EsMkJBQUwsQ0FBaUM1SyxJQUFqQyxDQUNqQyxJQURpQyxDQUFuQztBQUdBLFNBQUs2Syw2QkFBTCxHQUFxQyxLQUFLQSw2QkFBTCxDQUFtQzdLLElBQW5DLENBQ25DLElBRG1DLENBQXJDO0FBR0EsU0FBSzhLLGNBQUwsR0FBc0IsS0FBS0EsY0FBTCxDQUFvQjlLLElBQXBCLENBQXlCLElBQXpCLENBQXRCO0FBQ0EsU0FBSytLLHFCQUFMLEdBQTZCLEtBQUtBLHFCQUFMLENBQTJCL0ssSUFBM0IsQ0FBZ0MsSUFBaEMsQ0FBN0I7QUFDQSxTQUFLZ0wsb0JBQUwsR0FBNEIsS0FBS0Esb0JBQUwsQ0FBMEJoTCxJQUExQixDQUErQixJQUEvQixDQUE1QjtBQUNBLFNBQUtpTCxzQkFBTCxHQUE4QixLQUFLQSxzQkFBTCxDQUE0QmpMLElBQTVCLENBQWlDLElBQWpDLENBQTlCO0FBQ0EsU0FBS2tMLGNBQUwsR0FBc0IsS0FBS0EsY0FBTCxDQUFvQmxMLElBQXBCLENBQXlCLElBQXpCLENBQXRCO0FBQ0EsU0FBS21MLGNBQUwsR0FBc0IsS0FBS0EsY0FBTCxDQUFvQm5MLElBQXBCLENBQXlCLElBQXpCLENBQXRCO0FBQ0EsU0FBS29MLFVBQUwsR0FBa0IsS0FBS0EsVUFBTCxDQUFnQnBMLElBQWhCLENBQXFCLElBQXJCLENBQWxCO0FBQ0EsU0FBS3FMLHFCQUFMLEdBQTZCLEtBQUtBLHFCQUFMLENBQTJCckwsSUFBM0IsQ0FBZ0MsSUFBaEMsQ0FBN0I7QUFDQSxTQUFLNEYsVUFBTCxHQUFrQixLQUFLQSxVQUFMLENBQWdCNUYsSUFBaEIsQ0FBcUIsSUFBckIsQ0FBbEI7QUFDQSxTQUFLc0wsaUJBQUwsR0FBeUIsS0FBS0EsaUJBQUwsQ0FBdUJ0TCxJQUF2QixDQUE0QixJQUE1QixDQUF6QjtBQUNBLFNBQUt1TCxXQUFMLEdBQW1CLEtBQUtBLFdBQUwsQ0FBaUJ2TCxJQUFqQixDQUFzQixJQUF0QixDQUFuQjtBQUNBLFNBQUt3TCxtQkFBTCxHQUEyQixLQUFLQSxtQkFBTCxDQUF5QnhMLElBQXpCLENBQThCLElBQTlCLENBQTNCO0FBQ0EsU0FBS3lMLGtCQUFMLEdBQTBCLEtBQUtBLGtCQUFMLENBQXdCekwsSUFBeEIsQ0FBNkIsSUFBN0IsQ0FBMUI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCLEtBQUtBLFFBQUwsQ0FBY0QsSUFBZCxDQUFtQixJQUFuQixDQUFoQjtBQUNBLFNBQUtILEtBQUwsR0FBYTtBQUNYNkwsbUJBQWEsRUFBRSxLQURKO0FBRVhDLHlCQUFtQixFQUFFLEtBRlY7QUFHWEMsZ0JBQVUsRUFBRSxFQUhEO0FBSVhDLHVCQUFpQixFQUFFLEVBSlI7QUFLWEMsc0JBQWdCLEVBQUUsRUFMUDtBQU1YQyxzQkFBZ0IsRUFBRSxFQU5QO0FBT1hDLCtCQUF5QixFQUFFLElBUGhCO0FBUVhDLGtDQUE0QixFQUFFLElBUm5CO0FBU1hDLHVCQUFpQixFQUFFLEtBVFI7QUFVWEMsMkJBQXFCLEVBQUU7QUFDckI3TixjQUFNLEVBQUUsb0JBRGE7QUFFckI4TixjQUFNLEVBQUUsVUFGYTtBQUdyQkMsZ0JBQVEsRUFBRSxlQUhXO0FBSXJCQyxlQUFPLEVBQUcsT0FBTUMsSUFBSSxDQUFDLHlCQUFELENBQTRCLEVBSjNCO0FBS3JCQyxrQkFBVSxFQUFFLGVBTFM7QUFNckJDLGlCQUFTLEVBQUUsUUFOVTtBQU9yQkMsVUFBRSxFQUFFLG1CQVBpQjtBQVFyQkMsZUFBTyxFQUFFO0FBUlk7QUFWWixLQUFiO0FBcUJEOztBQUVEbkIscUJBQW1CLENBQUM7QUFBRTNRLFFBQUY7QUFBUXlDO0FBQVIsR0FBRCxFQUFpQjtBQUNsQztBQUNBLFlBQVF6QyxJQUFSO0FBQ0UsV0FBSyxrQkFBTDtBQUF5QjtBQUN2QixlQUFLNFEsa0JBQUwsQ0FBd0JuTyxJQUF4QjtBQUNBO0FBQ0Q7QUFKSDtBQU1EOztBQUVEbU8sb0JBQWtCLENBQUNuTyxJQUFELEVBQU87QUFDdkIsU0FBSzJDLFFBQUwsQ0FBYzNDLElBQWQ7O0FBQ0EsUUFBSSxDQUFDLEtBQUt1QyxLQUFMLENBQVdtTSx5QkFBaEIsRUFBMkM7QUFDekMsWUFBTUEseUJBQXlCLEdBQUcsRUFBbEM7O0FBQ0EsV0FBSyxNQUFNWSxLQUFYLElBQW9COUQsTUFBTSxDQUFDQyxJQUFQLENBQVl6TCxJQUFJLENBQUN1UCxtQkFBakIsQ0FBcEIsRUFBMkQ7QUFDekRiLGlDQUF5QixDQUFDWSxLQUFELENBQXpCLEdBQW1DcEQsSUFBSSxDQUFDQyxTQUFMLENBQ2pDbk0sSUFBSSxDQUFDdVAsbUJBQUwsQ0FBeUJELEtBQXpCLENBRGlDLEVBRWpDLElBRmlDLEVBR2pDLENBSGlDLENBQW5DO0FBS0Q7O0FBQ0QsV0FBSzNNLFFBQUwsQ0FBYztBQUFFK0w7QUFBRixPQUFkO0FBQ0Q7QUFDRjs7QUFFRGMsb0JBQWtCLEdBQUc7QUFDbkJDLDBFQUFhLENBQUNDLFdBQWQsQ0FBMEIsS0FBS3hCLG1CQUEvQjtBQUNBLFVBQU01RCxRQUFRLEdBQUdtRixzRUFBYSxDQUFDRSxrQkFBZCxFQUFqQjtBQUNBRiwwRUFBYSxDQUFDRyxXQUFkLENBQTBCO0FBQ3hCclMsVUFBSSxFQUFFLHFCQURrQjtBQUV4QnlDLFVBQUksRUFBRTtBQUFFc0s7QUFBRjtBQUZrQixLQUExQixFQUdHdUYsSUFISCxDQUdRLEtBQUsxQixrQkFIYjtBQUlEOztBQUVEMkIsYUFBVyxDQUFDQyxHQUFELEVBQU07QUFDZixXQUFPLE1BQU1OLHNFQUFhLENBQUNPLFNBQWQsQ0FBd0JELEdBQUcsQ0FBQ3ZLLEVBQTVCLENBQWI7QUFDRDs7QUFFRHlLLGVBQWEsQ0FBQ0YsR0FBRCxFQUFNO0FBQ2pCLFdBQU8sTUFBTU4sc0VBQWEsQ0FBQ1MsV0FBZCxDQUEwQkgsR0FBRyxDQUFDdkssRUFBOUIsQ0FBYjtBQUNEOztBQUVEMkssV0FBUyxDQUFDSixHQUFELEVBQU07QUFDYjtBQUNBclMsWUFBUSxDQUFDTyxjQUFULENBQXlCLEdBQUU4UixHQUFHLENBQUN2SyxFQUFHLFdBQWxDLEVBQThDM0UsS0FBOUMsR0FBc0RxTCxJQUFJLENBQUNDLFNBQUwsQ0FDcEQ0RCxHQURvRCxFQUVwRCxJQUZvRCxFQUdwRCxDQUhvRCxDQUF0RCxDQUZhLENBT2I7O0FBQ0EsUUFBSUssS0FBSyxHQUFHLEtBQUs3TixLQUFMLENBQVdpTSxnQkFBWCxDQUE0QjZCLE9BQTVCLENBQW9DTixHQUFHLENBQUN2SyxFQUF4QyxDQUFaO0FBQ0EsU0FBSzdDLFFBQUwsQ0FBYzJOLFNBQVMsS0FBSztBQUMxQjlCLHNCQUFnQixFQUFFLENBQ2hCLEdBQUc4QixTQUFTLENBQUM5QixnQkFBVixDQUEyQitCLEtBQTNCLENBQWlDLENBQWpDLEVBQW9DSCxLQUFwQyxDQURhLEVBRWhCLEdBQUdFLFNBQVMsQ0FBQzlCLGdCQUFWLENBQTJCK0IsS0FBM0IsQ0FBaUNILEtBQUssR0FBRyxDQUF6QyxDQUZhO0FBRFEsS0FBTCxDQUF2QjtBQU1EOztBQUVESSxjQUFZLEdBQUc7QUFDYixRQUFJQyxpQkFBaUIsR0FBRy9TLFFBQVEsQ0FBQ2dULGdCQUFULENBQTBCLHdCQUExQixDQUF4Qjs7QUFFQSxTQUFLLE1BQU1DLFFBQVgsSUFBdUJGLGlCQUF2QixFQUEwQztBQUN4QyxVQUFJRyxTQUFTLEdBQUdELFFBQVEsQ0FBQ25MLEVBQVQsQ0FBWWdGLE9BQVosQ0FBb0IsV0FBcEIsRUFBaUMsRUFBakMsQ0FBaEI7QUFFQSxVQUFJaEksT0FBTyxHQUFHLEtBQUtELEtBQUwsQ0FBV3NPLFFBQVgsQ0FBb0IxTixNQUFwQixDQUEyQjRNLEdBQUcsSUFBSUEsR0FBRyxDQUFDdkssRUFBSixLQUFXb0wsU0FBN0MsQ0FBZDtBQUNBLFVBQUlySSxLQUFLLEdBQUcvRixPQUFPLENBQUMsQ0FBRCxDQUFQLENBQVdnRCxFQUF2QjtBQUVBOUgsY0FBUSxDQUFDTyxjQUFULENBQXlCLEdBQUVzSyxLQUFNLFdBQWpDLEVBQTZDMUgsS0FBN0MsR0FBcURxTCxJQUFJLENBQUNDLFNBQUwsQ0FDbkQzSixPQUFPLENBQUMsQ0FBRCxDQUQ0QyxFQUVuRCxJQUZtRCxFQUduRCxDQUhtRCxDQUFyRDtBQUtEOztBQUNELFNBQUtHLFFBQUwsQ0FBYztBQUNaMkwsZ0JBQVUsRUFBRTtBQURBLEtBQWQ7QUFHRDs7QUFFRFIsWUFBVSxHQUFHO0FBQ1gsU0FBSzBDLFlBQUw7QUFDQSxTQUFLM0MsY0FBTDtBQUNEOztBQUVEaUQsZ0JBQWMsQ0FBQ3RMLEVBQUQsRUFBSztBQUNqQixXQUFPLE1BQ0xpSyxzRUFBYSxDQUFDc0IsZUFBZCxDQUE4QnZMLEVBQTlCLEVBQWtDcUssSUFBbEMsQ0FBdUN0TixLQUFLLElBQUk7QUFDOUMsV0FBSzRMLGtCQUFMLENBQXdCNUwsS0FBeEI7QUFDQSxXQUFLRCxLQUFMLENBQVdHLGFBQVgsQ0FBeUI7QUFDdkJELGVBQU8sRUFBRUQsS0FBSyxDQUFDQztBQURRLE9BQXpCO0FBR0QsS0FMRCxDQURGO0FBT0Q7O0FBRTJCLFFBQXRCbUwsc0JBQXNCLEdBQUc7QUFDN0IsVUFBTSxLQUFLSSxxQkFBTCxFQUFOO0FBQ0EsUUFBSThDLFFBQVEsR0FBRyxLQUFLdE8sS0FBTCxDQUFXK0wsVUFBMUI7O0FBRUEsU0FBSyxNQUFNeUIsR0FBWCxJQUFrQmMsUUFBbEIsRUFBNEI7QUFDMUJwQiw0RUFBYSxDQUFDdUIsaUJBQWQsQ0FBZ0M5RSxJQUFJLENBQUMrRSxLQUFMLENBQVdsQixHQUFYLENBQWhDO0FBQ0Q7QUFDRjs7QUFFRG5DLGdCQUFjLEdBQUc7QUFDZjZCLDBFQUFhLENBQUNHLFdBQWQsQ0FBMEI7QUFBRXJTLFVBQUksRUFBRTtBQUFSLEtBQTFCO0FBQ0Q7O0FBRURzUSxnQkFBYyxHQUFHO0FBQ2Y0QiwwRUFBYSxDQUFDRyxXQUFkLENBQTBCO0FBQUVyUyxVQUFJLEVBQUU7QUFBUixLQUExQjtBQUNEOztBQUVEK0wsYUFBVyxHQUFHO0FBQ1ptRywwRUFBYSxDQUFDRyxXQUFkLENBQTBCO0FBQUVyUyxVQUFJLEVBQUU7QUFBUixLQUExQjtBQUNEOztBQUVEMlQsV0FBUyxHQUFHO0FBQ1Z6QiwwRUFBYSxDQUFDRyxXQUFkLENBQTBCO0FBQUVyUyxVQUFJLEVBQUU7QUFBUixLQUExQjtBQUNEOztBQUVEMFEsYUFBVyxDQUFDekksRUFBRCxFQUFLM0UsS0FBTCxFQUFZO0FBQ3JCNE8sMEVBQWEsQ0FBQ0csV0FBZCxDQUEwQjtBQUN4QnJTLFVBQUksRUFBRTtBQURrQixLQUExQixFQUVHc1MsSUFGSCxDQUVRLEtBQUsxQixrQkFGYjtBQUdEOztBQUVEZCxzQkFBb0IsR0FBRztBQUNyQixVQUFNOEQsT0FBTyxHQUFHLEVBQWhCOztBQUNBLFNBQUssTUFBTTdCLEtBQVgsSUFBb0I5RCxNQUFNLENBQUNDLElBQVAsQ0FBWSxLQUFLbEosS0FBTCxDQUFXbU0seUJBQXZCLENBQXBCLEVBQXVFO0FBQ3JFLFlBQU03TixLQUFLLEdBQUcsS0FBSzBCLEtBQUwsQ0FBV21NLHlCQUFYLENBQXFDWSxLQUFyQyxDQUFkO0FBQ0E2QixhQUFPLENBQUM3QixLQUFELENBQVAsR0FBaUJ6TyxLQUFLLEdBQUdxTCxJQUFJLENBQUMrRSxLQUFMLENBQVdwUSxLQUFYLENBQUgsR0FBdUIsSUFBN0M7QUFDRDs7QUFDRDRPLDBFQUFhLENBQUNHLFdBQWQsQ0FBMEI7QUFDeEJyUyxVQUFJLEVBQUUsMEJBRGtCO0FBRXhCeUMsVUFBSSxFQUFFO0FBQ0pvUixrQkFBVSxFQUFFLEtBQUtDLElBQUwsQ0FBVUMsZUFBVixDQUEwQnpRLEtBRGxDO0FBRUpzUTtBQUZJO0FBRmtCLEtBQTFCLEVBTUd0QixJQU5ILENBTVEsS0FBSzFCLGtCQU5iO0FBT0Q7O0FBRURiLDZCQUEyQixDQUFDekksS0FBRCxFQUFRO0FBQ2pDLFVBQU07QUFBRWpFO0FBQUYsUUFBV2lFLEtBQUssQ0FBQ3BGLE1BQXZCO0FBQ0EsVUFBTTtBQUFFb0I7QUFBRixRQUFZZ0UsS0FBSyxDQUFDcEYsTUFBeEI7QUFFQSxTQUFLa0QsUUFBTCxDQUFjLENBQUM7QUFBRStMO0FBQUYsS0FBRCxLQUFtQztBQUMvQyxVQUFJNkMsd0JBQXdCLEdBQUcsSUFBL0I7QUFDQSxZQUFNQyxpQkFBaUIsR0FBRyxFQUFFLEdBQUc5QztBQUFMLE9BQTFCO0FBQ0E4Qyx1QkFBaUIsQ0FBQzVRLElBQUQsQ0FBakIsR0FBMEJDLEtBQTFCOztBQUNBLFVBQUk7QUFDRnFMLFlBQUksQ0FBQytFLEtBQUwsQ0FBV3BRLEtBQVg7QUFDRCxPQUZELENBRUUsT0FBT2lFLENBQVAsRUFBVTtBQUNWMk0sZUFBTyxDQUFDQyxHQUFSLENBQWEsb0NBQW1DOVEsSUFBSyxFQUFyRCxFQURVLENBQytDOztBQUN6RDJRLGdDQUF3QixHQUFHO0FBQUUvTCxZQUFFLEVBQUU1RTtBQUFOLFNBQTNCO0FBQ0Q7O0FBRUQsYUFBTztBQUNMZ08seUJBQWlCLEVBQUUsS0FEZDtBQUVMSCx3QkFBZ0IsRUFBRSxFQUZiO0FBR0xDLGlDQUF5QixFQUFFOEMsaUJBSHRCO0FBSUxEO0FBSkssT0FBUDtBQU1ELEtBakJEO0FBa0JEOztBQUVEcEUsWUFBVSxHQUFHO0FBQ1gsV0FBT3NDLHNFQUFhLENBQUNHLFdBQWQsQ0FBMEI7QUFDL0JyUyxVQUFJLEVBQUU7QUFEeUIsS0FBMUIsRUFFSnNTLElBRkksQ0FFQyxLQUFLMUIsa0JBRk4sQ0FBUDtBQUdEOztBQUVEZixxQ0FBbUMsR0FBRztBQUNwQyxVQUFNdUUsVUFBVSxHQUFHLEtBQUtwUCxLQUFMLENBQVc2TCxhQUE5Qjs7QUFDQSxRQUFJLENBQUN1RCxVQUFMLEVBQWlCO0FBQ2Y7QUFDRDs7QUFDRCxVQUFNQyxZQUFZLEdBQUcsS0FBS3JQLEtBQUwsQ0FBV3NQLFNBQWhDO0FBRUEsVUFBTUMsYUFBYSxHQUNqQkgsVUFBVSxJQUFJQyxZQUFkLEdBQTZCQSxZQUFZLENBQUNELFVBQUQsQ0FBekMsR0FBd0QsSUFEMUQ7QUFHQWxDLDBFQUFhLENBQUNHLFdBQWQsQ0FBMEI7QUFDeEJyUyxVQUFJLEVBQUUsa0JBRGtCO0FBRXhCeUMsVUFBSSxFQUFFMlI7QUFGa0IsS0FBMUI7O0FBSUEsUUFBSSxDQUFDRyxhQUFMLEVBQW9CO0FBQ2xCckMsNEVBQWEsQ0FBQ0csV0FBZCxDQUEwQjtBQUN4QnJTLFlBQUksRUFBRSx3QkFEa0I7QUFFeEJ5QyxZQUFJLEVBQUU7QUFBRXdGLFlBQUUsRUFBRW1NLFVBQU47QUFBa0I5USxlQUFLLEVBQUU7QUFBekI7QUFGa0IsT0FBMUI7QUFJRDs7QUFDRDRPLDBFQUFhLENBQUNHLFdBQWQsQ0FBMEI7QUFDeEJyUyxVQUFJLEVBQUUsaUJBRGtCO0FBRXhCeUMsVUFBSSxFQUFFMlI7QUFGa0IsS0FBMUI7QUFJRDs7QUFFRDVFLHFCQUFtQixDQUFDbEksS0FBRCxFQUFRO0FBQ3pCLFVBQU1rTixRQUFRLEdBQUcsS0FBS3hQLEtBQUwsQ0FBV3lQLGFBQVgsQ0FBeUJDLElBQXpCLENBQ2ZDLENBQUMsSUFBSUEsQ0FBQyxDQUFDMU0sRUFBRixLQUFTWCxLQUFLLENBQUNwRixNQUFOLENBQWEwUyxPQUFiLENBQXFCSixRQURwQixDQUFqQjtBQUdBLFVBQU1ILFlBQVksR0FBRyxLQUFLclAsS0FBTCxDQUFXc1AsU0FBaEM7QUFFQSxVQUFNQyxhQUFhLEdBQ2pCQyxRQUFRLENBQUN2TSxFQUFULElBQWVvTSxZQUFmLEdBQThCQSxZQUFZLENBQUNHLFFBQVEsQ0FBQ3ZNLEVBQVYsQ0FBMUMsR0FBMEQsSUFENUQ7QUFFQSxVQUFNNE0sZUFBZSxHQUFHTCxRQUFRLENBQUMzTSxPQUFqQztBQUNBLFVBQU1pTixVQUFVLEdBQUd4TixLQUFLLENBQUNwRixNQUFOLENBQWFtSixPQUFoQzs7QUFFQSxRQUFJeUosVUFBSixFQUFnQjtBQUNkLFVBQUksQ0FBQ1AsYUFBTCxFQUFvQjtBQUNsQnJDLDhFQUFhLENBQUNHLFdBQWQsQ0FBMEI7QUFDeEJyUyxjQUFJLEVBQUUsd0JBRGtCO0FBRXhCeUMsY0FBSSxFQUFFO0FBQUV3RixjQUFFLEVBQUV1TSxRQUFRLENBQUN2TSxFQUFmO0FBQW1CM0UsaUJBQUssRUFBRTtBQUExQjtBQUZrQixTQUExQjtBQUlEOztBQUNELFVBQUksQ0FBQ3VSLGVBQUwsRUFBc0I7QUFDcEIzQyw4RUFBYSxDQUFDRyxXQUFkLENBQTBCO0FBQ3hCclMsY0FBSSxFQUFFLGlCQURrQjtBQUV4QnlDLGNBQUksRUFBRStSLFFBQVEsQ0FBQ3ZNO0FBRlMsU0FBMUI7QUFJRDtBQUNGLEtBYkQsTUFhTztBQUNMaUssNEVBQWEsQ0FBQ0csV0FBZCxDQUEwQjtBQUN4QnJTLFlBQUksRUFBRSxrQkFEa0I7QUFFeEJ5QyxZQUFJLEVBQUUrUixRQUFRLENBQUN2TTtBQUZTLE9BQTFCO0FBSUQ7O0FBRUQsU0FBSzdDLFFBQUwsQ0FBYztBQUFFeUwsbUJBQWEsRUFBRTtBQUFqQixLQUFkO0FBQ0Q7O0FBRURwQixzQkFBb0IsQ0FBQ25JLEtBQUQsRUFBUTtBQUMxQixVQUFNbkcsTUFBTSxHQUFHO0FBQ2JuQixVQUFJLEVBQUUsd0JBRE87QUFFYnlDLFVBQUksRUFBRTtBQUFFd0YsVUFBRSxFQUFFWCxLQUFLLENBQUNwRixNQUFOLENBQWEwUyxPQUFiLENBQXFCSixRQUEzQjtBQUFxQ2xSLGFBQUssRUFBRWdFLEtBQUssQ0FBQ3BGLE1BQU4sQ0FBYW1KO0FBQXpEO0FBRk8sS0FBZjtBQUlBNkcsMEVBQWEsQ0FBQ0csV0FBZCxDQUEwQmxSLE1BQTFCO0FBQ0EsU0FBS2lFLFFBQUwsQ0FBYztBQUFFeUwsbUJBQWEsRUFBRTtBQUFqQixLQUFkO0FBQ0Q7O0FBRURuQix1QkFBcUIsQ0FBQ3BJLEtBQUQsRUFBUTtBQUMzQixTQUFLbEMsUUFBTCxDQUFjO0FBQUV5TCxtQkFBYSxFQUFFdkosS0FBSyxDQUFDcEYsTUFBTixDQUFhb0I7QUFBOUIsS0FBZDtBQUNEOztBQUVEcU0sNkJBQTJCLENBQUNySSxLQUFELEVBQVE7QUFDakMsU0FBS2xDLFFBQUwsQ0FBYztBQUFFMEwseUJBQW1CLEVBQUV4SixLQUFLLENBQUNwRixNQUFOLENBQWFvQjtBQUFwQyxLQUFkO0FBQ0QsR0E5U3lELENBZ1QxRDs7O0FBQ0E0TSx1QkFBcUIsQ0FBQzVJLEtBQUQsRUFBUTtBQUMzQixVQUFNNkoseUJBQXlCLEdBQUcsRUFDaEMsR0FBRyxLQUFLbk0sS0FBTCxDQUFXbU07QUFEa0IsS0FBbEM7O0FBR0EsU0FBSyxNQUFNM0osR0FBWCxJQUFrQnlHLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZaUQseUJBQVosQ0FBbEIsRUFBMEQ7QUFDeEQ7QUFDQSxVQUFJQSx5QkFBeUIsQ0FBQzNKLEdBQUQsQ0FBekIsS0FBbUN1TixTQUF2QyxFQUFrRDtBQUNoRDVELGlDQUF5QixDQUFDM0osR0FBRCxDQUF6QixHQUFpQyxJQUFqQztBQUNEO0FBQ0Y7O0FBQ0QsVUFBTXdOLGdCQUFnQixHQUFHek4sQ0FBQyxJQUFJO0FBQzVCQSxPQUFDLENBQUMwTixjQUFGO0FBQ0ExTixPQUFDLENBQUMyTixhQUFGLENBQWdCQyxPQUFoQixDQUNFLE1BREYsRUFFRXhHLElBQUksQ0FBQ0MsU0FBTCxDQUFldUMseUJBQWYsRUFBMEMsSUFBMUMsRUFBZ0QsQ0FBaEQsQ0FGRjtBQUlBaFIsY0FBUSxDQUFDOEcsbUJBQVQsQ0FBNkIsTUFBN0IsRUFBcUMrTixnQkFBckM7QUFDQSxXQUFLNVAsUUFBTCxDQUFjO0FBQUVpTSx5QkFBaUIsRUFBRTtBQUFyQixPQUFkO0FBQ0QsS0FSRDs7QUFVQWxSLFlBQVEsQ0FBQ0csZ0JBQVQsQ0FBMEIsTUFBMUIsRUFBa0MwVSxnQkFBbEM7QUFFQTdVLFlBQVEsQ0FBQ2lWLFdBQVQsQ0FBcUIsTUFBckI7QUFDRDs7QUFFRGpGLHNCQUFvQixDQUFDN0ksS0FBRCxFQUFRO0FBQzFCLFNBQUtsQyxRQUFMLENBQWM7QUFBRWdNLGtDQUE0QixFQUFFOUosS0FBSyxDQUFDcEYsTUFBTixDQUFhb0I7QUFBN0MsS0FBZDtBQUNBZ0UsU0FBSyxDQUFDcEYsTUFBTixDQUFhd0QsU0FBYixDQUF1QjJQLE1BQXZCLENBQThCLFlBQTlCO0FBQ0EsU0FBS3ZCLElBQUwsQ0FBVXdCLG1CQUFWLENBQThCQyxTQUE5QixHQUEwQyxFQUExQzs7QUFFQSxRQUFJO0FBQ0YsWUFBTXBFLHlCQUF5QixHQUFHeEMsSUFBSSxDQUFDK0UsS0FBTCxDQUFXcE0sS0FBSyxDQUFDcEYsTUFBTixDQUFhb0IsS0FBeEIsQ0FBbEM7QUFDQSxXQUFLOEIsUUFBTCxDQUFjO0FBQUUrTDtBQUFGLE9BQWQ7QUFDRCxLQUhELENBR0UsT0FBTzVKLENBQVAsRUFBVTtBQUNWRCxXQUFLLENBQUNwRixNQUFOLENBQWF3RCxTQUFiLENBQXVCOFAsR0FBdkIsQ0FBMkIsWUFBM0I7QUFDQSxXQUFLMUIsSUFBTCxDQUFVd0IsbUJBQVYsQ0FBOEJDLFNBQTlCLEdBQTBDaE8sQ0FBQyxDQUFDdEMsT0FBNUM7QUFDRDtBQUNGOztBQUVEOEYsWUFBVSxDQUFDQyxLQUFELEVBQVE7QUFDaEIsUUFBSSxLQUFLaEcsS0FBTCxDQUFXZ00saUJBQVgsQ0FBNkJ5RSxRQUE3QixDQUFzQ3pLLEtBQXRDLENBQUosRUFBa0Q7QUFDaEQsVUFBSTZILEtBQUssR0FBRyxLQUFLN04sS0FBTCxDQUFXZ00saUJBQVgsQ0FBNkI4QixPQUE3QixDQUFxQzlILEtBQXJDLENBQVo7QUFDQSxXQUFLNUYsUUFBTCxDQUFjMk4sU0FBUyxLQUFLO0FBQzFCL0IseUJBQWlCLEVBQUUsQ0FDakIsR0FBRytCLFNBQVMsQ0FBQy9CLGlCQUFWLENBQTRCZ0MsS0FBNUIsQ0FBa0MsQ0FBbEMsRUFBcUNILEtBQXJDLENBRGMsRUFFakIsR0FBR0UsU0FBUyxDQUFDL0IsaUJBQVYsQ0FBNEJnQyxLQUE1QixDQUFrQ0gsS0FBSyxHQUFHLENBQTFDLENBRmM7QUFETyxPQUFMLENBQXZCO0FBTUQsS0FSRCxNQVFPO0FBQ0wsV0FBS3pOLFFBQUwsQ0FBYzJOLFNBQVMsS0FBSztBQUMxQi9CLHlCQUFpQixFQUFFK0IsU0FBUyxDQUFDL0IsaUJBQVYsQ0FBNEIwRSxNQUE1QixDQUFtQzFLLEtBQW5DO0FBRE8sT0FBTCxDQUF2QjtBQUdEO0FBQ0Y7O0FBRUQySyxjQUFZLENBQUMzSyxLQUFELEVBQVE7QUFDbEIsUUFBSSxDQUFDLEtBQUtoRyxLQUFMLENBQVdpTSxnQkFBWCxDQUE0QndFLFFBQTVCLENBQXFDekssS0FBckMsQ0FBTCxFQUFrRDtBQUNoRCxXQUFLNUYsUUFBTCxDQUFjMk4sU0FBUyxLQUFLO0FBQzFCOUIsd0JBQWdCLEVBQUU4QixTQUFTLENBQUM5QixnQkFBVixDQUEyQnlFLE1BQTNCLENBQWtDMUssS0FBbEM7QUFEUSxPQUFMLENBQXZCO0FBR0Q7QUFDRjs7QUFFRDRLLG1CQUFpQixDQUFDcEQsR0FBRCxFQUFNO0FBQ3JCLFVBQU1xRCxnQkFBZ0IsR0FBRyxLQUFLN1EsS0FBTCxDQUFXOFEsTUFBWCxDQUN0QmxRLE1BRHNCLENBQ2ZtUSxLQUFLLElBQUl2RCxHQUFHLENBQUNzRCxNQUFKLENBQVdMLFFBQVgsQ0FBb0JNLEtBQUssQ0FBQzlOLEVBQTFCLENBRE0sRUFFdEIrTixJQUZzQixDQUVqQkQsS0FBSyxJQUFJLENBQUNBLEtBQUssQ0FBQ2xPLE9BRkMsQ0FBekI7QUFHQSxVQUFNb08sV0FBVyxHQUNmLEtBQUtqUixLQUFMLENBQVdrUixTQUFYLENBQXFCeEIsSUFBckIsQ0FBMEJGLFFBQVEsSUFBSUEsUUFBUSxDQUFDdk0sRUFBVCxLQUFnQnVLLEdBQUcsQ0FBQ2dDLFFBQTFELEtBQXVFLEVBRHpFO0FBRUEsVUFBTTJCLGtCQUFrQixHQUN0QkYsV0FBVyxDQUFDRyxPQUFaLElBQXVCSCxXQUFXLENBQUNHLE9BQVosQ0FBb0JYLFFBQXBCLENBQTZCakQsR0FBRyxDQUFDdkssRUFBakMsQ0FEekI7QUFFQSxVQUFNb08sZ0JBQWdCLEdBQ3BCLEtBQUtyUixLQUFMLENBQVdzUixnQkFBWCxDQUE0QmIsUUFBNUIsQ0FBcUNqRCxHQUFHLENBQUN2SyxFQUF6QyxLQUNBLEtBQUtqRCxLQUFMLENBQVdzUixnQkFBWCxDQUE0QmIsUUFBNUIsQ0FBcUNqRCxHQUFHLENBQUNoQixRQUF6QyxDQUZGO0FBR0EsVUFBTStFLFNBQVMsR0FDYkYsZ0JBQWdCLElBQUlSLGdCQUFwQixJQUF3Q00sa0JBRDFDO0FBRUEsVUFBTUssV0FBVyxHQUFHLEtBQUt4UixLQUFMLENBQVd5UixrQkFBWCxDQUE4QmpFLEdBQUcsQ0FBQ3ZLLEVBQWxDLElBQ2hCLEtBQUtqRCxLQUFMLENBQVd5UixrQkFBWCxDQUE4QmpFLEdBQUcsQ0FBQ3ZLLEVBQWxDLEVBQXNDRyxNQUR0QixHQUVoQixDQUZKO0FBR0EsVUFBTThDLFdBQVcsR0FBRyxLQUFLbEcsS0FBTCxDQUFXZ00saUJBQVgsQ0FBNkJ5RSxRQUE3QixDQUFzQ2pELEdBQUcsQ0FBQ3ZLLEVBQTFDLENBQXBCO0FBQ0EsVUFBTXlPLFVBQVUsR0FBRyxLQUFLMVIsS0FBTCxDQUFXaU0sZ0JBQVgsQ0FBNEJ3RSxRQUE1QixDQUFxQ2pELEdBQUcsQ0FBQ3ZLLEVBQXpDLENBQW5CO0FBRUEsUUFBSTBPLGFBQWEsR0FBRyxjQUFwQjs7QUFDQSxRQUFJSixTQUFKLEVBQWU7QUFDYkksbUJBQWEsSUFBSSxVQUFqQjtBQUNEOztBQUVELHdCQUNFO0FBQUksZUFBUyxFQUFFQSxhQUFmO0FBQThCLFNBQUcsRUFBRyxHQUFFbkUsR0FBRyxDQUFDdkssRUFBRyxJQUFHdUssR0FBRyxDQUFDZ0MsUUFBUztBQUE3RCxvQkFDRTtBQUFJLGVBQVMsRUFBQztBQUFkLG9CQUNFLHlFQUNHaEMsR0FBRyxDQUFDdkssRUFEUCxvQkFDVyxzRUFEWCxDQURGLENBREYsZUFNRSxvRkFDRSwyREFBQyxpQkFBRDtBQUNFLFdBQUssRUFBRyxHQUFFdUssR0FBRyxDQUFDdkssRUFBRyxFQURuQjtBQUVFLGdCQUFVLEVBQUUsS0FBSzhDLFVBRm5CO0FBR0UsaUJBQVcsRUFBRUc7QUFIZixNQURGLENBTkYsZUFhRTtBQUFJLGVBQVMsRUFBQztBQUFkLG9CQUNFO0FBQ0UsZUFBUyxFQUFHLFVBQVNxTCxTQUFTLEdBQUcsRUFBSCxHQUFRLFVBQVcsRUFEbkQ7QUFFRSxhQUFPLEVBQ0xBLFNBQVMsR0FBRyxLQUFLN0QsYUFBTCxDQUFtQkYsR0FBbkIsQ0FBSCxHQUE2QixLQUFLRCxXQUFMLENBQWlCQyxHQUFqQjtBQUgxQyxPQU1HK0QsU0FBUyxHQUFHLFNBQUgsR0FBZSxPQU4zQixDQURGLEVBU0c7QUFDREEsYUFBUyxHQUFHLElBQUgsR0FBVUcsVUFBVSxnQkFDM0I7QUFDRSxlQUFTLEVBQUMsZ0JBRFosQ0FFRTtBQUZGO0FBR0UsYUFBTyxFQUFFblAsQ0FBQyxJQUFJLEtBQUtxTCxTQUFMLENBQWVKLEdBQWY7QUFIaEIsZUFEMkIsZ0JBUzNCO0FBQ0UsZUFBUyxFQUFDLGFBRFo7QUFFRSxhQUFPLEVBQUUsS0FBS2UsY0FBTCxDQUFvQmYsR0FBRyxDQUFDdkssRUFBeEI7QUFGWCxjQW5CSixFQTBCR3NPLFNBQVMsR0FBRyxJQUFILGdCQUNSO0FBQ0UsZUFBUyxFQUFDLGVBRFosQ0FFRTtBQUZGO0FBR0UsYUFBTyxFQUFFaFAsQ0FBQyxJQUFJLEtBQUtxUCxVQUFMLENBQWdCcEUsR0FBaEI7QUFIaEIsZ0JBM0JKLGVBbUNFLHNFQW5DRixPQW1DVWdFLFdBbkNWLGtCQWJGLGVBa0RFO0FBQUksZUFBUyxFQUFDO0FBQWQsT0FDR0QsU0FBUyxpQkFDUix3RkFFR1YsZ0JBQWdCLElBQUksbUJBRnZCLEVBR0dNLGtCQUFrQixJQUFJLHVCQUh6QixFQUlHRSxnQkFBZ0IsSUFBSSxrQkFKdkIsQ0FGSixlQVNFLG9GQUNFO0FBQUssZUFBUyxFQUFFbkwsV0FBVyxHQUFHLFdBQUgsR0FBaUI7QUFBNUMsb0JBQ0U7QUFDRSxRQUFFLEVBQUcsR0FBRXNILEdBQUcsQ0FBQ3ZLLEVBQUcsV0FEaEI7QUFFRSxVQUFJLEVBQUV1SyxHQUFHLENBQUN2SyxFQUZaO0FBR0UsZUFBUyxFQUFDLGtCQUhaO0FBSUUsY0FBUSxFQUFFc08sU0FKWixDQUtFO0FBTEY7QUFNRSxjQUFRLEVBQUVoUCxDQUFDLElBQUksS0FBS29PLFlBQUwsQ0FBa0JuRCxHQUFHLENBQUN2SyxFQUF0QjtBQU5qQixPQVFHMEcsSUFBSSxDQUFDQyxTQUFMLENBQWU0RCxHQUFmLEVBQW9CLElBQXBCLEVBQTBCLENBQTFCLENBUkgsQ0FERixDQURGLENBVEYsQ0FsREYsQ0FERjtBQTZFRDs7QUFFRGhDLHVCQUFxQixHQUFHO0FBQ3RCO0FBQ0EsUUFBSXFHLFNBQVMsR0FBRyxFQUFoQjtBQUNBLFFBQUkzRCxpQkFBaUIsR0FBRy9TLFFBQVEsQ0FBQ2dULGdCQUFULENBQTBCLHdCQUExQixDQUF4QixDQUhzQixDQUl0Qjs7QUFDQSxTQUFLLE1BQU1DLFFBQVgsSUFBdUJGLGlCQUF2QixFQUEwQztBQUN4QyxVQUFJRyxTQUFTLEdBQUdELFFBQVEsQ0FBQ25MLEVBQVQsQ0FBWWdGLE9BQVosQ0FBb0IsV0FBcEIsRUFBaUMsRUFBakMsQ0FBaEI7QUFDQSxVQUFJdUYsR0FBRyxHQUFHclMsUUFBUSxDQUFDTyxjQUFULENBQXlCLEdBQUUyUyxTQUFVLFdBQXJDLEVBQWlEL1AsS0FBM0Q7O0FBRUEsVUFBSThQLFFBQVEsQ0FBQy9ILE9BQWIsRUFBc0I7QUFDcEJ3TCxpQkFBUyxDQUFDQyxJQUFWLENBQWV0RSxHQUFmO0FBQ0Q7QUFDRjs7QUFFRCxTQUFLcE4sUUFBTCxDQUFjO0FBQ1oyTCxnQkFBVSxFQUFFOEY7QUFEQSxLQUFkO0FBR0Q7O0FBRURELFlBQVUsQ0FBQ25GLE9BQUQsRUFBVTtBQUNsQixVQUFNeE0sT0FBTyxHQUFHMEosSUFBSSxDQUFDK0UsS0FBTCxDQUNkdlQsUUFBUSxDQUFDTyxjQUFULENBQXlCLEdBQUUrUSxPQUFPLENBQUN4SixFQUFHLFdBQXRDLEVBQWtEM0UsS0FEcEMsQ0FBaEI7QUFHQSxXQUFPNE8sc0VBQWEsQ0FBQ3VCLGlCQUFkLENBQWdDeE8sT0FBaEMsRUFBeUNxTixJQUF6QyxDQUE4Q3ROLEtBQUssSUFBSTtBQUM1RCxXQUFLNEwsa0JBQUwsQ0FBd0I1TCxLQUF4QjtBQUNBLFdBQUtELEtBQUwsQ0FBV0csYUFBWCxDQUF5QjtBQUN2QkQsZUFBTyxFQUFFRCxLQUFLLENBQUNDO0FBRFEsT0FBekI7QUFHRCxLQUxNLENBQVA7QUFNRDs7QUFFRDhSLHFCQUFtQixDQUFDdkUsR0FBRCxFQUFNO0FBQ3ZCLFVBQU0rRCxTQUFTLEdBQ2IsS0FBS3ZSLEtBQUwsQ0FBV3NSLGdCQUFYLENBQTRCYixRQUE1QixDQUFxQ2pELEdBQUcsQ0FBQ3ZLLEVBQXpDLEtBQ0EsS0FBS2pELEtBQUwsQ0FBV3NSLGdCQUFYLENBQTRCYixRQUE1QixDQUFxQ2pELEdBQUcsQ0FBQ2hCLFFBQXpDLENBRkY7QUFHQSxVQUFNZ0YsV0FBVyxHQUFHLEtBQUt4UixLQUFMLENBQVd5UixrQkFBWCxDQUE4QmpFLEdBQUcsQ0FBQ3ZLLEVBQWxDLElBQ2hCLEtBQUtqRCxLQUFMLENBQVd5UixrQkFBWCxDQUE4QmpFLEdBQUcsQ0FBQ3ZLLEVBQWxDLEVBQXNDRyxNQUR0QixHQUVoQixDQUZKO0FBSUEsVUFBTThDLFdBQVcsR0FBRyxLQUFLbEcsS0FBTCxDQUFXZ00saUJBQVgsQ0FBNkJ5RSxRQUE3QixDQUFzQ2pELEdBQUcsQ0FBQ3ZLLEVBQTFDLENBQXBCO0FBRUEsUUFBSTBPLGFBQWEsR0FBRyxjQUFwQjs7QUFDQSxRQUFJSixTQUFKLEVBQWU7QUFDYkksbUJBQWEsSUFBSSxVQUFqQjtBQUNEOztBQUVELHdCQUNFO0FBQUksZUFBUyxFQUFFQSxhQUFmO0FBQThCLFNBQUcsRUFBRyxHQUFFbkUsR0FBRyxDQUFDdkssRUFBRyxJQUFHdUssR0FBRyxDQUFDZ0MsUUFBUztBQUE3RCxvQkFDRTtBQUFJLGVBQVMsRUFBQztBQUFkLG9CQUNFLHlFQUNHaEMsR0FBRyxDQUFDdkssRUFEUCxvQkFDVyxzRUFEWCxlQUVFLHNFQUZGLE9BRVV1TyxXQUZWLGtCQURGLENBREYsZUFPRSxvRkFDRSwyREFBQyxpQkFBRDtBQUNFLFdBQUssRUFBRyxHQUFFaEUsR0FBRyxDQUFDdkssRUFBRyxFQURuQjtBQUVFLGdCQUFVLEVBQUUsS0FBSzhDLFVBRm5CO0FBR0UsaUJBQVcsRUFBRUc7QUFIZixNQURGLENBUEYsZUFjRSxvRkFDRTtBQUNFLFVBQUksRUFBQyxVQURQO0FBRUUsUUFBRSxFQUFHLEdBQUVzSCxHQUFHLENBQUN2SyxFQUFHLFdBRmhCO0FBR0UsVUFBSSxFQUFHLEdBQUV1SyxHQUFHLENBQUN2SyxFQUFHO0FBSGxCLE1BREYsQ0FkRixlQXFCRTtBQUFJLGVBQVMsRUFBRztBQUFoQixvQkFDRTtBQUFLLGVBQVMsRUFBRWlELFdBQVcsR0FBRyxXQUFILEdBQWlCO0FBQTVDLG9CQUNFO0FBQ0UsUUFBRSxFQUFHLEdBQUVzSCxHQUFHLENBQUN2SyxFQUFHLFdBRGhCO0FBRUUsZUFBUyxFQUFDLGNBRlo7QUFHRSxVQUFJLEVBQUV1SyxHQUFHLENBQUN2SztBQUhaLE9BS0cwRyxJQUFJLENBQUNDLFNBQUwsQ0FBZTRELEdBQWYsRUFBb0IsSUFBcEIsRUFBMEIsQ0FBMUIsQ0FMSCxDQURGLENBREYsQ0FyQkYsQ0FERjtBQW1DRDs7QUFFRC9CLG1CQUFpQixDQUFDdUcsY0FBRCxFQUFpQjtBQUNoQyxRQUFJLEtBQUtoUyxLQUFMLENBQVdnTSxpQkFBWCxDQUE2QjVJLE1BQWpDLEVBQXlDO0FBQ3ZDLFdBQUtoRCxRQUFMLENBQWM7QUFDWjRMLHlCQUFpQixFQUFFO0FBRFAsT0FBZDtBQUdELEtBSkQsTUFJTztBQUNMaUcsV0FBSyxDQUFDQyxTQUFOLENBQWdCelYsT0FBaEIsQ0FBd0IwVixJQUF4QixDQUE2QkgsY0FBN0IsRUFBNkN4RSxHQUFHLElBQUk7QUFDbEQsYUFBS3BOLFFBQUwsQ0FBYzJOLFNBQVMsS0FBSztBQUMxQi9CLDJCQUFpQixFQUFFK0IsU0FBUyxDQUFDL0IsaUJBQVYsQ0FBNEIwRSxNQUE1QixDQUFtQ2xELEdBQUcsQ0FBQ3ZLLEVBQXZDO0FBRE8sU0FBTCxDQUF2QjtBQUdELE9BSkQ7QUFLRDtBQUNGOztBQUVEbVAsZ0JBQWMsR0FBRztBQUNmLFFBQUksQ0FBQyxLQUFLcFMsS0FBTCxDQUFXc08sUUFBaEIsRUFBMEI7QUFDeEIsYUFBTyxJQUFQO0FBQ0Q7O0FBQ0QsVUFBTTBELGNBQWMsR0FDbEIsS0FBS2hTLEtBQUwsQ0FBVzZMLGFBQVgsS0FBNkIsS0FBN0IsR0FDSSxLQUFLN0wsS0FBTCxDQUFXc08sUUFEZixHQUVJLEtBQUt0TyxLQUFMLENBQVdzTyxRQUFYLENBQW9CMU4sTUFBcEIsQ0FDRVgsT0FBTyxJQUFJQSxPQUFPLENBQUN1UCxRQUFSLEtBQXFCLEtBQUt4UCxLQUFMLENBQVc2TCxhQUQ3QyxDQUhOO0FBT0Esd0JBQ0UscUZBQ0U7QUFDRSxlQUFTLEVBQUMscUJBRFosQ0FFRTtBQUZGO0FBR0UsYUFBTyxFQUFFdEosQ0FBQyxJQUFJLEtBQUtrSixpQkFBTCxDQUF1QnVHLGNBQXZCO0FBSGhCLDZCQURGLGVBUUU7QUFBRyxlQUFTLEVBQUM7QUFBYixvQkFDRTtBQUFNLGVBQVMsRUFBQztBQUFoQixNQURGLEVBQ3dELEdBRHhELGVBRUUsMk1BRkYsQ0FSRixlQWVFLHVGQUNFLDBFQUNHQSxjQUFjLENBQUNsSixHQUFmLENBQW1CMEUsR0FBRyxJQUFJLEtBQUtvRCxpQkFBTCxDQUF1QnBELEdBQXZCLENBQTFCLENBREgsQ0FERixDQWZGLENBREY7QUF1QkQ7O0FBRUQ2RSx1QkFBcUIsR0FBRztBQUN0QixRQUFJLENBQUMsS0FBS3JTLEtBQUwsQ0FBV3NPLFFBQWhCLEVBQTBCO0FBQ3hCLGFBQU8sSUFBUDtBQUNEOztBQUNELFVBQU0wRCxjQUFjLEdBQ2xCLEtBQUtoUyxLQUFMLENBQVc4TCxtQkFBWCxLQUFtQyxLQUFuQyxHQUNJLEtBQUs5TCxLQUFMLENBQVdzTyxRQUFYLENBQW9CMU4sTUFBcEIsQ0FBMkIwUixDQUFDLElBQUlBLENBQUMsQ0FBQ3hCLE1BQUYsQ0FBUzFOLE1BQXpDLENBREosR0FFSSxLQUFLcEQsS0FBTCxDQUFXc08sUUFBWCxDQUFvQjFOLE1BQXBCLENBQTJCWCxPQUFPLElBQ2hDQSxPQUFPLENBQUM2USxNQUFSLENBQWVMLFFBQWYsQ0FBd0IsS0FBS3pRLEtBQUwsQ0FBVzhMLG1CQUFuQyxDQURGLENBSE47QUFPQSx3QkFDRSx1RkFDRSwwRUFBUWtHLGNBQWMsQ0FBQ2xKLEdBQWYsQ0FBbUIwRSxHQUFHLElBQUksS0FBS29ELGlCQUFMLENBQXVCcEQsR0FBdkIsQ0FBMUIsQ0FBUixDQURGLENBREY7QUFLRDs7QUFFRCtFLGtCQUFnQixHQUFHO0FBQ2pCLFFBQUksQ0FBQyxLQUFLdlMsS0FBTCxDQUFXc08sUUFBaEIsRUFBMEI7QUFDeEIsYUFBTyxJQUFQO0FBQ0Q7O0FBQ0QsVUFBTTBELGNBQWMsR0FBRyxLQUFLaFMsS0FBTCxDQUFXc08sUUFBWCxDQUFvQjFOLE1BQXBCLENBQ3JCWCxPQUFPLElBQUlBLE9BQU8sQ0FBQ3VQLFFBQVIsS0FBcUIsaUJBQXJCLElBQTBDdlAsT0FBTyxDQUFDd00sT0FBUixDQUFnQmhNLElBRGhELENBQXZCO0FBR0Esd0JBQ0UsdUZBQ0UsMEVBQ0d1UixjQUFjLENBQUNsSixHQUFmLENBQW1CMEUsR0FBRyxJQUFJLEtBQUt1RSxtQkFBTCxDQUF5QnZFLEdBQXpCLENBQTFCLENBREgsQ0FERixDQURGO0FBT0Q7O0FBRURnRixxQkFBbUIsR0FBRztBQUNwQixRQUFJLENBQUMsS0FBS3hTLEtBQUwsQ0FBV2tSLFNBQWhCLEVBQTJCO0FBQ3pCLGFBQU8sSUFBUDtBQUNEOztBQUVELHdCQUNFLG1GQUNFO0FBQ0UsZUFBUyxFQUFDLHNDQURaO0FBRUUsYUFBTyxFQUFFLEtBQUt0RztBQUZoQiw4QkFERixzQ0FTRTtBQUNFLFdBQUssRUFBRSxLQUFLNUssS0FBTCxDQUFXNkwsYUFEcEI7QUFFRSxjQUFRLEVBQUUsS0FBS25CO0FBRmpCLG9CQUlFO0FBQVEsV0FBSyxFQUFDO0FBQWQsdUJBSkYsRUFLRyxLQUFLMUssS0FBTCxDQUFXa1IsU0FBWCxDQUFxQnBJLEdBQXJCLENBQXlCMEcsUUFBUSxpQkFDaEM7QUFBUSxTQUFHLEVBQUVBLFFBQVEsQ0FBQ3ZNLEVBQXRCO0FBQTBCLFdBQUssRUFBRXVNLFFBQVEsQ0FBQ3ZNO0FBQTFDLE9BQ0d1TSxRQUFRLENBQUN2TSxFQURaLENBREQsQ0FMSCxDQVRGLEVBb0JHLEtBQUtqRCxLQUFMLENBQVc2TCxhQUFYLEtBQTZCLEtBQTdCLElBQ0QsQ0FBQyxLQUFLN0wsS0FBTCxDQUFXNkwsYUFBWCxDQUF5QjRFLFFBQXpCLENBQWtDLGdCQUFsQyxDQURBLGdCQUVDO0FBQ0UsZUFBUyxFQUFDLHVCQURaO0FBRUUsYUFBTyxFQUFFLEtBQUs1RjtBQUZoQixtQkFGRCxHQVFHLElBNUJOLENBREY7QUFnQ0Q7O0FBRUQ0SCwyQkFBeUIsR0FBRztBQUMxQixRQUFJLENBQUMsS0FBS3pTLEtBQUwsQ0FBVzhRLE1BQWhCLEVBQXdCO0FBQ3RCLGFBQU8sSUFBUDtBQUNEOztBQUVELHdCQUNFLDBHQUVFO0FBQ0UsV0FBSyxFQUFFLEtBQUs5USxLQUFMLENBQVc4TCxtQkFEcEI7QUFFRSxjQUFRLEVBQUUsS0FBS25CO0FBRmpCLG9CQUlFO0FBQVEsV0FBSyxFQUFDO0FBQWQsb0JBSkYsRUFLRyxLQUFLM0ssS0FBTCxDQUFXOFEsTUFBWCxDQUFrQmhJLEdBQWxCLENBQXNCaUksS0FBSyxpQkFDMUI7QUFBUSxTQUFHLEVBQUVBLEtBQUssQ0FBQzlOLEVBQW5CO0FBQXVCLFdBQUssRUFBRThOLEtBQUssQ0FBQzlOO0FBQXBDLE9BQ0c4TixLQUFLLENBQUM5TixFQURULENBREQsQ0FMSCxDQUZGLENBREY7QUFnQkQ7O0FBRUR5UCxpQkFBZSxHQUFHO0FBQ2hCLHdCQUNFLHVGQUNFO0FBQUksZUFBUyxFQUFDO0FBQWQsb0JBQ0U7QUFBSSxlQUFTLEVBQUM7QUFBZCxNQURGLGVBRUU7QUFBSSxlQUFTLEVBQUM7QUFBZCxxQkFGRixlQUdFLGdGQUhGLGVBSUU7QUFBSSxlQUFTLEVBQUM7QUFBZCxnQkFKRixlQUtFO0FBQUksZUFBUyxFQUFDO0FBQWQsc0JBTEYsQ0FERixDQURGO0FBV0Q7O0FBRURDLGlCQUFlLEdBQUc7QUFDaEIsVUFBTUMsZUFBZSxHQUFHLEtBQUs1UyxLQUFMLENBQVd5UCxhQUFuQztBQUNBLFVBQU1vRCxZQUFZLEdBQUcsS0FBSzdTLEtBQUwsQ0FBV2tSLFNBQWhDO0FBQ0EsVUFBTTdCLFlBQVksR0FBRyxLQUFLclAsS0FBTCxDQUFXc1AsU0FBaEM7QUFFQSx3QkFDRSwwRUFDRyxLQUFLb0QsZUFBTCxFQURILGVBRUUsMEVBQ0dFLGVBQWUsQ0FBQzlKLEdBQWhCLENBQW9CLENBQUMwRyxRQUFELEVBQVdzRCxDQUFYLEtBQWlCO0FBQ3BDLFlBQU1DLGNBQWMsR0FBR3ZELFFBQVEsQ0FBQ3ZNLEVBQVQsQ0FBWXdOLFFBQVosQ0FBcUIsZ0JBQXJCLENBQXZCO0FBQ0EsWUFBTXVDLElBQUksR0FBR0gsWUFBWSxDQUFDbkQsSUFBYixDQUFrQkMsQ0FBQyxJQUFJQSxDQUFDLENBQUMxTSxFQUFGLEtBQVN1TSxRQUFRLENBQUN2TSxFQUF6QyxLQUFnRCxFQUE3RDtBQUNBLFlBQU1zTSxhQUFhLEdBQ2pCQyxRQUFRLENBQUN2TSxFQUFULElBQWVvTSxZQUFmLEdBQThCQSxZQUFZLENBQUNHLFFBQVEsQ0FBQ3ZNLEVBQVYsQ0FBMUMsR0FBMEQsSUFENUQ7QUFFQSxZQUFNNE0sZUFBZSxHQUFHa0QsY0FBYyxJQUFJdkQsUUFBUSxDQUFDM00sT0FBbkQ7QUFFQSxVQUFJb1EsS0FBSyxHQUFHLE9BQVo7O0FBQ0EsVUFBSXpELFFBQVEsQ0FBQ3hVLElBQVQsS0FBa0IsUUFBdEIsRUFBZ0M7QUFDOUJpWSxhQUFLLGdCQUNILG9HQUVFO0FBQ0UsbUJBQVMsRUFBQyxhQURaO0FBRUUsZ0JBQU0sRUFBQyxRQUZUO0FBR0UsY0FBSSxFQUFFRCxJQUFJLENBQUNySyxHQUhiO0FBSUUsYUFBRyxFQUFDO0FBSk4sV0FNR3FLLElBQUksQ0FBQ3JLLEdBTlIsQ0FGRixNQURGO0FBY0QsT0FmRCxNQWVPLElBQUk2RyxRQUFRLENBQUN4VSxJQUFULEtBQWtCLGlCQUF0QixFQUF5QztBQUM5Q2lZLGFBQUssR0FBSSxvQkFBbUJ6RCxRQUFRLENBQUMwRCxNQUFPLEdBQTVDO0FBQ0QsT0FGTSxNQUVBLElBQUkxRCxRQUFRLENBQUN4VSxJQUFULEtBQWtCLG9CQUF0QixFQUE0QztBQUNqRGlZLGFBQUssZ0JBQ0gsMkdBRUU7QUFDRSxtQkFBUyxFQUFDLGFBRFo7QUFFRSxnQkFBTSxFQUFDLFFBRlQ7QUFHRSxjQUFJLEVBQUMsOEdBSFA7QUFJRSxhQUFHLEVBQUM7QUFKTix3Q0FGRixNQURGO0FBY0Q7O0FBRUQsVUFBSUUsZUFBZSxHQUFHLEVBQXRCOztBQUNBLFVBQUksQ0FBQ3RELGVBQUwsRUFBc0I7QUFDcEJzRCx1QkFBZSxDQUFDckIsSUFBaEIsQ0FBcUIsYUFBckI7QUFDRDs7QUFDRCxVQUFJLENBQUN2QyxhQUFMLEVBQW9CO0FBQ2xCNEQsdUJBQWUsQ0FBQ3JCLElBQWhCLENBQXFCLFdBQXJCO0FBQ0Q7O0FBQ0QsVUFBSXFCLGVBQWUsQ0FBQy9QLE1BQXBCLEVBQTRCO0FBQzFCNlAsYUFBSyxHQUFJLGdCQUFlRSxlQUFlLENBQUNyUyxJQUFoQixDQUFxQixJQUFyQixDQUEyQixFQUFuRDtBQUNEOztBQUVELDBCQUNFO0FBQUksaUJBQVMsRUFBQyxjQUFkO0FBQTZCLFdBQUcsRUFBRWdTO0FBQWxDLHNCQUNFLHVFQUNHQyxjQUFjLGdCQUNiO0FBQ0UsWUFBSSxFQUFDLFVBRFA7QUFFRSxnQkFBUSxFQUFFLElBRlo7QUFHRSxnQkFBUSxFQUFFLElBSFo7QUFJRSxlQUFPLEVBQUU7QUFKWCxRQURhLGdCQVFiO0FBQ0UsWUFBSSxFQUFDLFVBRFA7QUFFRSx5QkFBZXZELFFBQVEsQ0FBQ3ZNLEVBRjFCO0FBR0UsZUFBTyxFQUFFc00sYUFBYSxJQUFJTSxlQUg1QjtBQUlFLGdCQUFRLEVBQUUsS0FBS3JGO0FBSmpCLFFBVEosQ0FERixlQWtCRSx1RUFBS2dGLFFBQVEsQ0FBQ3ZNLEVBQWQsQ0FsQkYsZUFtQkUsb0ZBQ0U7QUFDRSxpQkFBUyxFQUFHLGNBQ1ZzTSxhQUFhLElBQUlNLGVBQWpCLEdBQW1DLEVBQW5DLEdBQXdDLGFBQ3pDO0FBSEgsU0FLR29ELEtBTEgsQ0FERixDQW5CRixlQTRCRSx1RUFBS3pELFFBQVEsQ0FBQzRELE1BQWQsQ0E1QkYsZUE2QkU7QUFBSSxhQUFLLEVBQUU7QUFBRUMsb0JBQVUsRUFBRTtBQUFkO0FBQVgsU0FDR0wsSUFBSSxDQUFDdE0sV0FBTCxHQUNHLElBQUl0QixJQUFKLENBQVM0TixJQUFJLENBQUN0TSxXQUFkLEVBQTJCbkIsY0FBM0IsRUFESCxHQUVHLEVBSE4sQ0E3QkYsQ0FERjtBQXFDRCxLQTFGQSxDQURILENBRkYsQ0FERjtBQWtHRDs7QUFFRCtOLDJCQUF5QixHQUFHO0FBQzFCO0FBQ0EsVUFBTUMsT0FBTyxHQUNYLEtBQUt2VCxLQUFMLENBQVdrTSxnQkFBWCxDQUE0QnFILE9BQTVCLElBQ0EsQ0FBQyxDQUFDLEtBQUt2VCxLQUFMLENBQVdrTSxnQkFBWCxDQUE0QnNILE1BRmhDO0FBR0EsVUFBTUEsTUFBTSxHQUNWN0osSUFBSSxDQUFDQyxTQUFMLENBQWUsS0FBSzVKLEtBQUwsQ0FBV2tNLGdCQUFYLENBQTRCc0gsTUFBM0MsRUFBbUQsSUFBbkQsRUFBeUQsQ0FBekQsS0FDQSxnQkFGRjtBQUlBLHdCQUNFLHVGQUNFLHVGQUNFLG9GQUNFLG9GQUNFLGtHQURGLENBREYsQ0FERixlQU1FLG9GQUNFLG9GQUNFLG1GQUNFO0FBQ0UsU0FBRyxFQUFDLGlCQUROO0FBRUUsVUFBSSxFQUFDLElBRlA7QUFHRSxVQUFJLEVBQUMsSUFIUDtBQUlFLGlCQUFXLEVBQUM7QUFKZCxNQURGLENBREYsZUFTRSxpRkFDVSxHQURWLGVBRUU7QUFBTSxTQUFHLEVBQUM7QUFBVixPQUNHRCxPQUFPLEdBQUcsR0FBSCxHQUFTLEdBRG5CLGdCQUNrQ0MsTUFEbEMsQ0FGRixDQVRGLENBREYsZUFpQkUsb0ZBQ0U7QUFDRSxlQUFTLEVBQUMsMEJBRFo7QUFFRSxhQUFPLEVBQUUsS0FBSzFJO0FBRmhCLGtCQURGLENBakJGLENBTkYsZUFnQ0Usb0ZBQ0Usb0ZBQ0UscUdBREYsQ0FERixDQWhDRixlQXFDRSxvRkFDRSxvRkFDRTtBQUNFLGVBQVMsRUFBQywwQkFEWjtBQUVFLGFBQU8sRUFBRSxLQUFLSSxxQkFGaEI7QUFHRSxjQUFRLEVBQUUsS0FBS2xMLEtBQUwsQ0FBV3FNO0FBSHZCLE9BS0csS0FBS3JNLEtBQUwsQ0FBV3FNLGlCQUFYLEdBQ0csb0JBREgsR0FFRyxpQkFQTixDQURGLENBREYsQ0FyQ0YsRUFrREcsS0FBS3JNLEtBQUwsQ0FBV21NLHlCQUFYLElBQ0NsRCxNQUFNLENBQUNDLElBQVAsQ0FBWSxLQUFLbEosS0FBTCxDQUFXbU0seUJBQXZCLEVBQWtEckQsR0FBbEQsQ0FDRSxDQUFDaUUsS0FBRCxFQUFRK0YsQ0FBUixLQUFjO0FBQ1osWUFBTXhVLEtBQUssR0FBRyxLQUFLMEIsS0FBTCxDQUFXbU0seUJBQVgsQ0FBcUNZLEtBQXJDLENBQWQ7QUFDQSxZQUFNMEcsVUFBVSxHQUNkLEtBQUt6VCxLQUFMLENBQVdnUCx3QkFBWCxJQUNBLEtBQUtoUCxLQUFMLENBQVdnUCx3QkFBWCxDQUFvQy9MLEVBQXBDLEtBQTJDOEosS0FGN0M7QUFHQSxZQUFNL0wsU0FBUyxHQUFHeVMsVUFBVSxHQUFHLFlBQUgsR0FBa0IsRUFBOUM7QUFDQSxZQUFNQyxTQUFTLEdBQ2IsQ0FBQ3BWLEtBQUssSUFBSUEsS0FBSyxDQUFDOEUsTUFBaEIsSUFBMEIsRUFBMUIsZ0JBQ0U7QUFDRSxZQUFJLEVBQUUySixLQURSO0FBRUUsaUJBQVMsRUFBRS9MLFNBRmI7QUFHRSxhQUFLLEVBQUUxQyxLQUhUO0FBSUUsWUFBSSxFQUFDLElBSlA7QUFLRSxZQUFJLEVBQUMsSUFMUDtBQU1FLGdCQUFRLEVBQUUsS0FBS3lNO0FBTmpCLFFBREYsZ0JBVUU7QUFDRSxZQUFJLEVBQUVnQyxLQURSO0FBRUUsaUJBQVMsRUFBRS9MLFNBRmI7QUFHRSxhQUFLLEVBQUUxQyxLQUhUO0FBSUUsZ0JBQVEsRUFBRSxLQUFLeU07QUFKakIsUUFYSjtBQW1CQSwwQkFDRTtBQUFJLFdBQUcsRUFBRStIO0FBQVQsc0JBQ0UsdUVBQUsvRixLQUFMLENBREYsZUFFRSx1RUFBSzJHLFNBQUwsQ0FGRixDQURGO0FBTUQsS0FoQ0gsQ0FuREosQ0FERixDQURGO0FBMEZEOztBQUVEMUksK0JBQTZCLENBQUMxSSxLQUFELEVBQVE7QUFDbkMsVUFBTTtBQUFFakUsVUFBRjtBQUFRQztBQUFSLFFBQWtCZ0UsS0FBSyxDQUFDcEYsTUFBOUI7QUFFQSxTQUFLa0QsUUFBTCxDQUFjLENBQUM7QUFBRWtNO0FBQUYsS0FBRCxLQUErQjtBQUMzQyxZQUFNMkMsaUJBQWlCLEdBQUcsRUFBRSxHQUFHM0M7QUFBTCxPQUExQjtBQUNBMkMsdUJBQWlCLENBQUM1USxJQUFELENBQWpCLEdBQTBCQyxLQUExQjtBQUVBLGFBQU87QUFBRWdPLDZCQUFxQixFQUFFMkM7QUFBekIsT0FBUDtBQUNELEtBTEQ7QUFNRDs7QUFFRGhFLGdCQUFjLENBQUMxSSxDQUFELEVBQUk7QUFDaEIySywwRUFBYSxDQUFDRyxXQUFkLENBQTBCO0FBQ3hCclMsVUFBSSxFQUFFLG1CQURrQjtBQUV4QnlDLFVBQUksRUFBRSxLQUFLdUMsS0FBTCxDQUFXc007QUFGTyxLQUExQixFQUdHZ0IsSUFISCxDQUdRLEtBQUsxQixrQkFIYjtBQUlEOztBQUVEK0gsMkJBQXlCLENBQUMxUSxFQUFELEVBQUsyUSxTQUFMLEVBQWdCO0FBQ3ZDLFFBQUlBLFNBQUosRUFBZTtBQUNiLGFBQU8sS0FBSzVULEtBQUwsQ0FBVzZULGdCQUFYLENBQTRCNVEsRUFBNUIsSUFDSCxLQUFLakQsS0FBTCxDQUFXNlQsZ0JBQVgsQ0FBNEI1USxFQUE1QixFQUFnQ0csTUFEN0IsR0FFSCxDQUZKO0FBR0Q7O0FBRUQsV0FBTyxLQUFQO0FBQ0Q7O0FBRUQwUSx1QkFBcUIsR0FBRztBQUN0QixVQUFNO0FBQUVsUjtBQUFGLFFBQWEsS0FBSzdDLEtBQUwsQ0FBVzRDLGVBQTlCO0FBRUEsd0JBQ0UscUZBQ0UsdUZBQ0UsdUZBQ0U7QUFBSSxlQUFTLEVBQUM7QUFBZCxvQkFDRTtBQUFJLGVBQVMsRUFBQztBQUFkLGlCQURGLGVBRUUsdUVBQUtDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixLQUFqQixHQUF5QixJQUE5QixDQUZGLENBREYsZUFLRTtBQUFJLGVBQVMsRUFBQztBQUFkLG9CQUNFO0FBQUksZUFBUyxFQUFDO0FBQWQsa0JBREYsZUFFRSx1RUFBS0QsTUFBTSxDQUFDbUYsUUFBUCxJQUFtQixTQUF4QixDQUZGLENBTEYsQ0FERixDQURGLENBREY7QUFnQkQ7O0FBRURnTSwyQkFBeUIsR0FBRztBQUMxQix3QkFDRSxxRkFDRSxrR0FERixlQUVFLHNFQUNHLEdBREgsNnJCQUZGLGVBZ0JFLHVGQUNFLG9GQUNFLG9GQUNFLGlGQURGLENBREYsZUFJRSx1RUFDRyxHQURILGVBRUU7QUFDRSxVQUFJLEVBQUMsTUFEUDtBQUVFLFVBQUksRUFBQyxRQUZQO0FBR0UsaUJBQVcsRUFBQyxvQkFIZDtBQUlFLFdBQUssRUFBRSxLQUFLL1QsS0FBTCxDQUFXc00scUJBQVgsQ0FBaUM3TixNQUoxQztBQUtFLGNBQVEsRUFBRSxLQUFLdU07QUFMakIsTUFGRixFQVFLLEdBUkwsQ0FKRixDQURGLGVBZ0JFLG9GQUNFLG9GQUNFLGlGQURGLENBREYsZUFJRSx1RUFDRyxHQURILGVBRUU7QUFDRSxVQUFJLEVBQUMsTUFEUDtBQUVFLFVBQUksRUFBQyxRQUZQO0FBR0UsaUJBQVcsRUFBQyxVQUhkO0FBSUUsV0FBSyxFQUFFLEtBQUtoTCxLQUFMLENBQVdzTSxxQkFBWCxDQUFpQ0MsTUFKMUM7QUFLRSxjQUFRLEVBQUUsS0FBS3ZCO0FBTGpCLE1BRkYsRUFRSyxHQVJMLENBSkYsQ0FoQkYsZUErQkUsb0ZBQ0Usb0ZBQ0UsbUZBREYsQ0FERixlQUlFLHVFQUNHLEdBREgsZUFFRTtBQUNFLFVBQUksRUFBQyxNQURQO0FBRUUsVUFBSSxFQUFDLFVBRlA7QUFHRSxpQkFBVyxFQUFDLGVBSGQ7QUFJRSxXQUFLLEVBQUUsS0FBS2hMLEtBQUwsQ0FBV3NNLHFCQUFYLENBQWlDRSxRQUoxQztBQUtFLGNBQVEsRUFBRSxLQUFLeEI7QUFMakIsTUFGRixFQVFLLEdBUkwsQ0FKRixDQS9CRixlQThDRSxvRkFDRSxvRkFDRSxrRkFERixDQURGLGVBSUUsdUVBQ0csR0FESCxlQUVFO0FBQ0UsVUFBSSxFQUFDLE1BRFA7QUFFRSxVQUFJLEVBQUMsU0FGUDtBQUdFLGlCQUFXLEVBQUcsT0FBTTBCLElBQUksQ0FBQyx5QkFBRCxDQUE0QixFQUh0RDtBQUlFLFdBQUssRUFBRSxLQUFLMU0sS0FBTCxDQUFXc00scUJBQVgsQ0FBaUNHLE9BSjFDO0FBS0UsY0FBUSxFQUFFLEtBQUt6QjtBQUxqQixNQUZGLEVBUUssR0FSTCxDQUpGLENBOUNGLGVBNkRFLG9GQUNFLG9GQUNFLHFGQURGLENBREYsZUFJRSx1RUFDRyxHQURILGVBRUU7QUFDRSxVQUFJLEVBQUMsTUFEUDtBQUVFLFVBQUksRUFBQyxZQUZQO0FBR0UsaUJBQVcsRUFBQyxlQUhkO0FBSUUsV0FBSyxFQUFFLEtBQUtoTCxLQUFMLENBQVdzTSxxQkFBWCxDQUFpQ0ssVUFKMUM7QUFLRSxjQUFRLEVBQUUsS0FBSzNCO0FBTGpCLE1BRkYsRUFRSyxHQVJMLENBSkYsQ0E3REYsZUE0RUUsb0ZBQ0Usb0ZBQ0Usb0ZBREYsQ0FERixlQUlFLHVFQUNHLEdBREgsZUFFRTtBQUNFLFVBQUksRUFBQyxNQURQO0FBRUUsVUFBSSxFQUFDLFdBRlA7QUFHRSxpQkFBVyxFQUFDLFFBSGQ7QUFJRSxXQUFLLEVBQUUsS0FBS2hMLEtBQUwsQ0FBV3NNLHFCQUFYLENBQWlDTSxTQUoxQztBQUtFLGNBQVEsRUFBRSxLQUFLNUI7QUFMakIsTUFGRixFQVFLLEdBUkwsQ0FKRixDQTVFRixlQTJGRSxvRkFDRSxvRkFDRSxxRkFERixDQURGLGVBSUUsdUVBQ0csR0FESCxlQUVFO0FBQ0UsVUFBSSxFQUFDLE1BRFA7QUFFRSxVQUFJLEVBQUMsSUFGUDtBQUdFLGlCQUFXLEVBQUMsbUJBSGQ7QUFJRSxXQUFLLEVBQUUsS0FBS2hMLEtBQUwsQ0FBV3NNLHFCQUFYLENBQWlDTyxFQUoxQztBQUtFLGNBQVEsRUFBRSxLQUFLN0I7QUFMakIsTUFGRixFQVFLLEdBUkwsQ0FKRixDQTNGRixlQTBHRSxvRkFDRSxvRkFDRSx5RkFERixDQURGLGVBSUUsdUVBQ0csR0FESCxlQUVFO0FBQ0UsVUFBSSxFQUFDLE1BRFA7QUFFRSxVQUFJLEVBQUMsU0FGUDtBQUdFLGlCQUFXLEVBQUMsc0NBSGQ7QUFJRSxXQUFLLEVBQUUsS0FBS2hMLEtBQUwsQ0FBV3NNLHFCQUFYLENBQWlDUSxPQUoxQztBQUtFLGNBQVEsRUFBRSxLQUFLOUI7QUFMakIsTUFGRixFQVFLLEdBUkwsQ0FKRixDQTFHRixlQXlIRSxvRkFDRSx1RUFDRyxHQURILGVBRUU7QUFDRSxlQUFTLEVBQUMsK0JBRFo7QUFFRSxhQUFPLEVBQUUsS0FBS0M7QUFGaEIsT0FJRyxHQUpILHVCQUtvQixHQUxwQixDQUZGLEVBUVksR0FSWixDQURGLENBekhGLENBaEJGLENBREY7QUF5SkQ7O0FBRUQrSSxvQkFBa0IsQ0FBQztBQUFFL1EsTUFBRjtBQUFNZ1I7QUFBTixHQUFELEVBQWlCO0FBQ2pDLFVBQU03RSxVQUFVLGdCQUFHO0FBQUksYUFBTyxFQUFFNkUsTUFBTSxDQUFDN1E7QUFBcEIsT0FBNkJILEVBQTdCLENBQW5CLENBRGlDLENBRWpDOztBQUNBLFdBQU9nUixNQUFNLENBQ1ZuTCxHQURJLENBQ0EsQ0FBQztBQUFFb0wsV0FBRjtBQUFTbFA7QUFBVCxLQUFELEVBQXVCbVAsT0FBdkIsa0JBQ0g7QUFBSSxTQUFHLEVBQUVBO0FBQVQsT0FDR0EsT0FBTyxLQUFLRixNQUFNLENBQUM3USxNQUFQLEdBQWdCLENBQTVCLEdBQWdDZ00sVUFBaEMsR0FBNkMsSUFEaEQsZUFFRSx1RUFBSzhFLEtBQUssQ0FBQ2pVLE9BQVgsQ0FGRixlQUdFLHVFQUFLOEUsWUFBWSxDQUFDQyxTQUFELENBQWpCLENBSEYsQ0FGRyxFQVFKb1AsT0FSSSxFQUFQO0FBU0Q7O0FBRURDLGNBQVksR0FBRztBQUNiLFVBQU1DLG1CQUFtQixHQUN2QixLQUFLdFUsS0FBTCxDQUFXa1IsU0FBWCxJQUNBLEtBQUtsUixLQUFMLENBQVdrUixTQUFYLENBQXFCdFEsTUFBckIsQ0FBNEIrTyxDQUFDLElBQUlBLENBQUMsQ0FBQ3NFLE1BQUYsSUFBWXRFLENBQUMsQ0FBQ3NFLE1BQUYsQ0FBUzdRLE1BQXRELENBRkY7O0FBSUEsUUFBSWtSLG1CQUFtQixJQUFJQSxtQkFBbUIsQ0FBQ2xSLE1BQS9DLEVBQXVEO0FBQ3JELDBCQUNFO0FBQU8saUJBQVMsRUFBQztBQUFqQixzQkFDRSx1RkFDRSxvRkFDRSxxRkFERixlQUVFLGlGQUZGLGVBR0UsbUZBSEYsQ0FERixDQURGLGVBUUUsMEVBQVFrUixtQkFBbUIsQ0FBQ3hMLEdBQXBCLENBQXdCLEtBQUtrTCxrQkFBN0IsQ0FBUixDQVJGLENBREY7QUFZRDs7QUFFRCx3QkFBTyxrRkFBUDtBQUNEOztBQUVETyxnQkFBYyxHQUFHO0FBQ2YsUUFBSSxDQUFDLEtBQUt2VSxLQUFMLENBQVdzTyxRQUFoQixFQUEwQjtBQUN4QixhQUFPLElBQVA7QUFDRDs7QUFDRCxRQUFJMEQsY0FBYyxHQUFHLEtBQUtoUyxLQUFMLENBQVdzTyxRQUFYLENBQW9CMU4sTUFBcEIsQ0FDbkJYLE9BQU8sSUFBSUEsT0FBTyxDQUFDdVAsUUFBUixLQUFxQixpQkFEYixDQUFyQjtBQUlBLHdCQUNFLHFGQUNFO0FBQUcsZUFBUyxFQUFDO0FBQWIsb0JBQ0U7QUFBTSxlQUFTLEVBQUM7QUFBaEIsTUFERixFQUN3RCxHQUR4RCxlQUVFLDBPQUlFLHNFQUpGLGVBS0Usc0VBTEYsa0lBUUUsc0VBUkYscUZBRkYsQ0FERixlQWdCRSxxRkFDRTtBQUNFLGVBQVMsRUFBQywrQkFEWjtBQUVFLGFBQU8sRUFBRSxLQUFLbkU7QUFGaEIsK0JBREYsZUFPRTtBQUNFLGVBQVMsRUFBQyxpQ0FEWjtBQUVFLGFBQU8sRUFBRSxLQUFLRDtBQUZoQixrQ0FQRixlQWFFO0FBQ0UsZUFBUyxFQUFDLGlDQURaO0FBRUUsYUFBTyxFQUFFLEtBQUtHO0FBRmhCLHFCQWJGLGVBbUJFLGtGQW5CRixlQW9CRTtBQUNFLGVBQVMsRUFBQyw0QkFEWixDQUVFO0FBRkY7QUFHRSxhQUFPLEVBQUVoSixDQUFDLElBQUksS0FBS2tKLGlCQUFMLENBQXVCdUcsY0FBdkI7QUFIaEIsNkJBcEJGLEVBMkJHLEtBQUtPLGdCQUFMLEVBM0JILENBaEJGLENBREY7QUFnREQ7O0FBRURpQyxZQUFVLEdBQUc7QUFDWCxVQUFNLENBQUN4UixPQUFELElBQVksS0FBS2pELEtBQUwsQ0FBVzBVLFFBQVgsQ0FBb0JDLE1BQXRDOztBQUNBLFlBQVExUixPQUFSO0FBQ0UsV0FBSyxTQUFMO0FBQ0UsNEJBQ0UsMkRBQUMsNENBQUQsQ0FBTyxRQUFQLHFCQUNFLDBGQURGLEVBRUcsS0FBS3VSLGNBQUwsRUFGSCxDQURGOztBQU1GLFdBQUssV0FBTDtBQUNFLDRCQUNFLDJEQUFDLDRDQUFELENBQU8sUUFBUCxxQkFDRSw2RkFERixlQUVFO0FBQVEsbUJBQVMsRUFBQyxRQUFsQjtBQUEyQixpQkFBTyxFQUFFLEtBQUt4TjtBQUF6QywwQkFGRixFQUlZLEdBSlosMkVBT0csS0FBS3VNLHlCQUFMLEVBUEgsRUFRRyxLQUFLUyx5QkFBTCxFQVJILENBREY7O0FBWUYsV0FBSyxRQUFMO0FBQ0UsNEJBQ0UsMkRBQUMsNENBQUQsQ0FBTyxRQUFQLHFCQUNFLHdGQURGLGVBRUU7QUFBUSxtQkFBUyxFQUFDLFFBQWxCO0FBQTJCLGlCQUFPLEVBQUUsS0FBS3JJO0FBQXpDLHFDQUZGLGVBS0UsdUZBQ0UsdUZBQ0U7QUFBSSxtQkFBUyxFQUFDO0FBQWQsd0JBQ0UsaUZBREYsZUFFRSwyRkFGRixlQUdFLDBGQUhGLGVBSUUsMEZBSkYsQ0FERixDQURGLGVBU0UsMEVBQ0csS0FBSzFMLEtBQUwsQ0FBVzhRLE1BQVgsSUFDQyxLQUFLOVEsS0FBTCxDQUFXOFEsTUFBWCxDQUFrQmhJLEdBQWxCLENBQ0UsQ0FDRTtBQUFFN0YsWUFBRjtBQUFNSixpQkFBTjtBQUFlK1EsbUJBQWY7QUFBMEJlLHlCQUFlLEdBQUc7QUFBNUMsU0FERixFQUVFOUcsS0FGRixrQkFJRSwyREFBQyxHQUFEO0FBQUssYUFBRyxFQUFFNUs7QUFBVix3QkFDRSxvRkFDRSwyREFBQyxrQkFBRDtBQUNFLGlCQUFPLEVBQUVKLE9BRFg7QUFFRSxjQUFJLEVBQUVJLEVBRlI7QUFHRSxrQkFBUSxFQUFFO0FBSFosVUFERixDQURGLGVBUUUsdUVBQUssS0FBSzBRLHlCQUFMLENBQStCMVEsRUFBL0IsRUFBbUMyUSxTQUFuQyxDQUFMLENBUkYsZUFTRSx1RUFBS2pLLElBQUksQ0FBQ0MsU0FBTCxDQUFlZ0ssU0FBZixFQUEwQixJQUExQixFQUFnQyxDQUFoQyxDQUFMLENBVEYsZUFVRSx1RUFBS2UsZUFBZSxDQUFDN1QsSUFBaEIsQ0FBcUIsSUFBckIsQ0FBTCxDQVZGLENBTEosQ0FGSixDQVRGLENBTEYsRUFxQ0csS0FBSzJSLHlCQUFMLEVBckNILEVBc0NHLEtBQUtKLHFCQUFMLEVBdENILENBREY7O0FBMENGLFdBQUssSUFBTDtBQUNFLDRCQUNFLDJEQUFDLDRDQUFELENBQU8sUUFBUCxxQkFDRSwwRkFERixlQUVFLDJEQUFDLG9CQUFEO0FBQ0UsZUFBSyxFQUFFO0FBQ0wxUCwyQkFBZSxFQUFFLEtBQUs1QyxLQUFMLENBQVc0QyxlQUR2QjtBQUVMNEQsMkJBQWUsRUFBRSxLQUFLeEcsS0FBTCxDQUFXd0c7QUFGdkIsV0FEVDtBQUtFLG9CQUFVLEVBQUUsS0FBS3hHLEtBQUwsQ0FBV3FCLEtBQVgsQ0FBaUJDLE1BTC9CO0FBTUUsa0JBQVEsRUFBRSxLQUFLdEIsS0FBTCxDQUFXbEY7QUFOdkIsVUFGRixDQURGOztBQWFGLFdBQUssUUFBTDtBQUNFLDRCQUNFLDJEQUFDLDRDQUFELENBQU8sUUFBUCxxQkFDRSx5RkFERixFQUVHLEtBQUt3WixZQUFMLEVBRkgsQ0FERjs7QUFNRjtBQUNFLDRCQUNFLDJEQUFDLDRDQUFELENBQU8sUUFBUCxxQkFDRSw0RkFDb0IsR0FEcEIsZUFFRTtBQUNFLGVBQUssRUFBQyxzREFEUjtBQUVFLG1CQUFTLEVBQUMsUUFGWjtBQUdFLGlCQUFPLEVBQUUsS0FBSzFGO0FBSGhCLG1DQUZGLENBREYsRUFXRyxLQUFLM08sS0FBTCxDQUFXa1IsU0FBWCxHQUF1QixLQUFLeUIsZUFBTCxFQUF2QixHQUFnRCxJQVhuRCxlQVlFLGtGQVpGLEVBYUcsS0FBS0gsbUJBQUwsRUFiSCxFQWNHLEtBQUtKLGNBQUwsRUFkSCxDQURGO0FBdEZKO0FBeUdEOztBQUVEblIsUUFBTSxHQUFHO0FBQ1Asd0JBQ0U7QUFDRSxlQUFTLEVBQUcsa0JBQ1YsS0FBS2xCLEtBQUwsQ0FBVzZVLFNBQVgsR0FBdUIsV0FBdkIsR0FBcUMsVUFDdEM7QUFISCxvQkFLRTtBQUFPLGVBQVMsRUFBQztBQUFqQixvQkFDRSxvRkFDRSxvRkFDRTtBQUFHLFVBQUksRUFBQztBQUFSLGlCQURGLENBREYsZUFJRSxvRkFDRTtBQUFHLFVBQUksRUFBQztBQUFSLDBCQURGLENBSkYsZUFPRSxvRkFDRTtBQUFHLFVBQUksRUFBQztBQUFSLG1CQURGLENBUEYsZUFVRSxvRkFDRTtBQUFHLFVBQUksRUFBQztBQUFSLHdCQURGLENBVkYsZUFhRSxvRkFDRTtBQUFHLFVBQUksRUFBQztBQUFSLDBCQURGLENBYkYsZUFnQkUsb0ZBQ0U7QUFBRyxVQUFJLEVBQUM7QUFBUixnQkFERixDQWhCRixDQURGLENBTEYsZUEyQkU7QUFBTSxlQUFTLEVBQUM7QUFBaEIsb0JBQ0UseUZBREYsZUFHRTtBQUFHLGVBQVMsRUFBQztBQUFiLG9CQUNFO0FBQU0sZUFBUyxFQUFDO0FBQWhCLE1BREYsRUFDd0QsR0FEeEQsZUFFRSx1SEFDNkMsR0FEN0MsZUFFRTtBQUNFLFlBQU0sRUFBQyxPQURUO0FBRUUsVUFBSSxFQUFDO0FBRlAsdUJBRkYsQ0FGRixDQUhGLEVBZ0JHLEtBQUtKLFVBQUwsRUFoQkgsQ0EzQkYsQ0FERjtBQWdERDs7QUFsMkN5RDtBQXEyQ3JELE1BQU1LLGNBQU4sU0FBNkJqViw0Q0FBSyxDQUFDQyxhQUFuQyxDQUFpRDtBQUN0REMsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUsrVSxnQkFBTCxHQUF3QixLQUFLQSxnQkFBTCxDQUFzQjNVLElBQXRCLENBQTJCLElBQTNCLENBQXhCO0FBQ0EsU0FBS0gsS0FBTCxHQUFhO0FBQUU0VSxlQUFTLEVBQUU7QUFBYixLQUFiO0FBQ0Q7O0FBRWMsTUFBWEcsV0FBVyxHQUFHO0FBQ2hCLFVBQU07QUFBRWhWO0FBQUYsUUFBWSxJQUFsQjtBQUNBLFdBQ0VBLEtBQUssQ0FBQzBVLFFBQU4sQ0FBZU8sSUFBZixLQUNDalYsS0FBSyxDQUFDMFUsUUFBTixDQUFlTyxJQUFmLENBQW9CQyxVQUFwQixDQUErQixXQUEvQixLQUNDbFYsS0FBSyxDQUFDMFUsUUFBTixDQUFlTyxJQUFmLENBQW9CQyxVQUFwQixDQUErQixXQUEvQixDQUZGLENBREY7QUFLRDs7QUFFREgsa0JBQWdCLENBQUN2UyxDQUFELEVBQUk7QUFDbEJBLEtBQUMsQ0FBQzBOLGNBQUY7QUFDQSxTQUFLN1AsUUFBTCxDQUFjSixLQUFLLEtBQUs7QUFBRTRVLGVBQVMsRUFBRSxDQUFDNVUsS0FBSyxDQUFDNFU7QUFBcEIsS0FBTCxDQUFuQjtBQUNEOztBQUVETSxjQUFZLEdBQUc7QUFDYixRQUFJLEtBQUtILFdBQUwsSUFBb0IsQ0FBQyxLQUFLL1UsS0FBTCxDQUFXNFUsU0FBcEMsRUFBK0M7QUFDN0M3VCxZQUFNLENBQUM1RixRQUFQLENBQWdCc0YsSUFBaEIsQ0FBcUJDLFNBQXJCLENBQStCOFAsR0FBL0IsQ0FBbUMsV0FBbkM7QUFDRCxLQUZELE1BRU87QUFDTHpQLFlBQU0sQ0FBQzVGLFFBQVAsQ0FBZ0JzRixJQUFoQixDQUFxQkMsU0FBckIsQ0FBK0IyUCxNQUEvQixDQUFzQyxXQUF0QztBQUNEO0FBQ0Y7O0FBRURyTyxtQkFBaUIsR0FBRztBQUNsQixTQUFLa1QsWUFBTDtBQUNEOztBQUVEQyxvQkFBa0IsR0FBRztBQUNuQixTQUFLRCxZQUFMO0FBQ0Q7O0FBRUQ3VSxzQkFBb0IsR0FBRztBQUNyQlUsVUFBTSxDQUFDNUYsUUFBUCxDQUFnQnNGLElBQWhCLENBQXFCQyxTQUFyQixDQUErQjJQLE1BQS9CLENBQXNDLFdBQXRDO0FBQ0FuRCwwRUFBYSxDQUFDa0ksY0FBZCxDQUE2QixLQUFLekosbUJBQWxDO0FBQ0Q7O0FBRUQxSyxRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUVsQjtBQUFGLFFBQVksSUFBbEI7QUFDQSxVQUFNO0FBQUVnVjtBQUFGLFFBQWtCLElBQXhCO0FBQ0EsVUFBTTdPLFdBQVcsR0FBRyxLQUFLbEcsS0FBTCxDQUFXNFUsU0FBWCxJQUF3QixDQUFDRyxXQUE3QztBQUNBLFVBQU05QixLQUFLLEdBQUksR0FBRS9NLFdBQVcsR0FBRyxRQUFILEdBQWMsVUFBVyxXQUFyRDtBQUNBLHdCQUNFLDJEQUFDLDRDQUFELENBQU8sUUFBUCxxQkFDRTtBQUNFLFVBQUksRUFBQyxXQURQO0FBRUUsV0FBSyxFQUFFK00sS0FGVDtBQUdFLG9CQUFZQSxLQUhkO0FBSUUsZUFBUyxFQUFHLG1CQUNWL00sV0FBVyxHQUFHLFdBQUgsR0FBaUIsVUFDN0IsRUFOSDtBQU9FLGFBQU8sRUFBRSxLQUFLNk8sV0FBTCxHQUFtQixLQUFLRCxnQkFBeEIsR0FBMkM7QUFQdEQsb0JBU0U7QUFBTSxlQUFTLEVBQUM7QUFBaEIsTUFURixDQURGLEVBWUdDLFdBQVcsZ0JBQ1YsMkRBQUMsa0JBQUQsZUFBd0JoVixLQUF4QjtBQUErQixlQUFTLEVBQUUsS0FBS0MsS0FBTCxDQUFXNFU7QUFBckQsT0FEVSxHQUVSLElBZE4sQ0FERjtBQWtCRDs7QUFqRXFEOztBQW9FeEQsTUFBTVMsY0FBYyxHQUFHdFYsS0FBSyxpQkFDMUIsMkRBQUMsa0VBQUQscUJBQ0UsMkRBQUMsY0FBRCxFQUFvQkEsS0FBcEIsQ0FERixDQURGOztBQU1PLE1BQU11VixhQUFhLEdBQUcxUSwyREFBTyxDQUFDNUUsS0FBSyxLQUFLO0FBQzdDK0MsVUFBUSxFQUFFL0MsS0FBSyxDQUFDK0MsUUFENkI7QUFFN0NKLGlCQUFlLEVBQUUzQyxLQUFLLENBQUMyQyxlQUZzQjtBQUc3QzRELGlCQUFlLEVBQUV2RyxLQUFLLENBQUN1RyxlQUhzQjtBQUk3Q25GLE9BQUssRUFBRXBCLEtBQUssQ0FBQ29CO0FBSmdDLENBQUwsQ0FBTixDQUFQLENBS3pCaVUsY0FMeUIsQ0FBdEIsQzs7Ozs7Ozs7QUN4NERQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVPLE1BQU1uSSxhQUFhLEdBQUc7QUFDM0JDLGFBQVcsQ0FBQ29JLFFBQUQsRUFBVztBQUNwQixRQUFJeFUsTUFBTSxDQUFDeVUseUJBQVgsRUFBc0M7QUFDcEN6VSxZQUFNLENBQUN5VSx5QkFBUCxDQUFpQ0QsUUFBakM7QUFDRDtBQUNGLEdBTDBCOztBQU0zQkgsZ0JBQWMsQ0FBQ0csUUFBRCxFQUFXO0FBQ3ZCLFFBQUl4VSxNQUFNLENBQUMwVSw0QkFBWCxFQUF5QztBQUN2QzFVLFlBQU0sQ0FBQzBVLDRCQUFQLENBQW9DRixRQUFwQztBQUNEO0FBQ0YsR0FWMEI7O0FBVzNCbEksYUFBVyxDQUFDbFIsTUFBRCxFQUFTO0FBQ2xCLFFBQUk0RSxNQUFNLENBQUMyVSxlQUFYLEVBQTRCO0FBQzFCLGFBQU8zVSxNQUFNLENBQUMyVSxlQUFQLENBQXVCdlosTUFBdkIsQ0FBUDtBQUNEOztBQUNELFVBQU0sSUFBSUssS0FBSixDQUFXLHFCQUFvQm1OLElBQUksQ0FBQ0MsU0FBTCxDQUFlek4sTUFBZixFQUF1QixJQUF2QixFQUE2QixDQUE3QixDQUFnQyxFQUEvRCxDQUFOO0FBQ0QsR0FoQjBCOztBQWlCM0JzUixXQUFTLENBQUN4SyxFQUFELEVBQUs3RyxPQUFMLEVBQWM7QUFDckIsV0FBTzhRLGFBQWEsQ0FBQ0csV0FBZCxDQUEwQjtBQUMvQnJTLFVBQUksRUFBRXdTLDJFQUFHLENBQUNtSSxtQkFEcUI7QUFFL0JsWSxVQUFJLEVBQUU7QUFBRXdGLFVBQUY7QUFBTSxXQUFHN0c7QUFBVDtBQUZ5QixLQUExQixDQUFQO0FBSUQsR0F0QjBCOztBQXVCM0JxUyxtQkFBaUIsQ0FBQ2hDLE9BQUQsRUFBVTtBQUN6QixXQUFPUyxhQUFhLENBQUNHLFdBQWQsQ0FBMEI7QUFDL0JyUyxVQUFJLEVBQUV3UywyRUFBRyxDQUFDb0ksbUJBRHFCO0FBRS9CblksVUFBSSxFQUFFO0FBQUVnUDtBQUFGO0FBRnlCLEtBQTFCLENBQVA7QUFJRCxHQTVCMEI7O0FBNkIzQm9KLGVBQWEsQ0FBQ0MsYUFBRCxFQUFnQjtBQUMzQixXQUFPNUksYUFBYSxDQUFDRyxXQUFkLENBQTBCO0FBQy9CclMsVUFBSSxFQUFFd1MsMkVBQUcsQ0FBQ3VJLFdBRHFCO0FBRS9CdFksVUFBSSxFQUFFcVk7QUFGeUIsS0FBMUIsQ0FBUDtBQUlELEdBbEMwQjs7QUFtQzNCbkksYUFBVyxDQUFDMUssRUFBRCxFQUFLO0FBQ2QsV0FBT2lLLGFBQWEsQ0FBQ0csV0FBZCxDQUEwQjtBQUMvQnJTLFVBQUksRUFBRXdTLDJFQUFHLENBQUN3SSxxQkFEcUI7QUFFL0J2WSxVQUFJLEVBQUU7QUFBRXdGO0FBQUY7QUFGeUIsS0FBMUIsQ0FBUDtBQUlELEdBeEMwQjs7QUF5QzNCZ1QsYUFBVyxDQUFDQyxNQUFELEVBQVM7QUFDbEIsV0FBT2hKLGFBQWEsQ0FBQ0csV0FBZCxDQUEwQjtBQUMvQnJTLFVBQUksRUFBRXdTLDJFQUFHLENBQUMySSxZQURxQjtBQUUvQjFZLFVBQUksRUFBRTtBQUFFeVk7QUFBRjtBQUZ5QixLQUExQixDQUFQO0FBSUQsR0E5QzBCOztBQStDM0JFLGVBQWEsQ0FBQ0YsTUFBRCxFQUFTO0FBQ3BCLFdBQU9oSixhQUFhLENBQUNHLFdBQWQsQ0FBMEI7QUFDL0JyUyxVQUFJLEVBQUV3UywyRUFBRyxDQUFDNkksY0FEcUI7QUFFL0I1WSxVQUFJLEVBQUU7QUFBRXlZO0FBQUY7QUFGeUIsS0FBMUIsQ0FBUDtBQUlELEdBcEQwQjs7QUFxRDNCMUgsaUJBQWUsQ0FBQ3ZMLEVBQUQsRUFBSztBQUNsQixXQUFPaUssYUFBYSxDQUFDRyxXQUFkLENBQTBCO0FBQy9CclMsVUFBSSxFQUFFd1MsMkVBQUcsQ0FBQzhJLGdCQURxQjtBQUUvQjdZLFVBQUksRUFBRTtBQUFFd0Y7QUFBRjtBQUZ5QixLQUExQixDQUFQO0FBSUQsR0ExRDBCOztBQTJEM0JzVCxlQUFhLENBQUNDLElBQUQsRUFBTztBQUNsQixXQUFPdEosYUFBYSxDQUFDRyxXQUFkLENBQTBCdlMsaUVBQUUsQ0FBQzZDLGlCQUFILENBQXFCNlksSUFBckIsQ0FBMUIsQ0FBUDtBQUNELEdBN0QwQjs7QUE4RDNCcEosb0JBQWtCLEdBQUc7QUFDbkIsUUFDRXJNLE1BQU0sQ0FBQzVGLFFBQVAsSUFDQTRGLE1BQU0sQ0FBQzVGLFFBQVAsQ0FBZ0JzWixRQURoQixJQUVBMVQsTUFBTSxDQUFDNUYsUUFBUCxDQUFnQnNaLFFBQWhCLENBQXlCZ0MsSUFBekIsQ0FBOEJoRyxRQUE5QixDQUF1QyxVQUF2QyxDQUhGLEVBSUU7QUFDQSxZQUFNaUcsTUFBTSxHQUFHLElBQUlDLGVBQUosQ0FDYjVWLE1BQU0sQ0FBQzVGLFFBQVAsQ0FBZ0JzWixRQUFoQixDQUF5QmdDLElBQXpCLENBQThCekksS0FBOUIsQ0FDRWpOLE1BQU0sQ0FBQzVGLFFBQVAsQ0FBZ0JzWixRQUFoQixDQUF5QmdDLElBQXpCLENBQThCM0ksT0FBOUIsQ0FBc0MsVUFBdEMsQ0FERixDQURhLENBQWY7O0FBS0EsVUFBSTtBQUNGLGNBQU0vRixRQUFRLEdBQUcsSUFBSTZPLEdBQUosQ0FBUUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsVUFBWCxDQUFSLENBQWpCO0FBQ0EsZUFBTztBQUNMbE8sYUFBRyxFQUFFWixRQUFRLENBQUMwTyxJQURUO0FBRUxLLG1CQUFTLEVBQUVKLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFdBQVgsQ0FGTjtBQUdMRSxlQUFLLEVBQUUsS0FBS0MsZUFBTCxFQUhGO0FBSUxDLGFBQUcsRUFBRSxLQUFLQyxhQUFMO0FBSkEsU0FBUDtBQU1ELE9BUkQsQ0FRRSxPQUFPM1UsQ0FBUCxFQUFVLENBQUU7QUFDZjs7QUFFRCxXQUFPLElBQVA7QUFDRCxHQXJGMEI7O0FBc0YzQnlVLGlCQUFlLEdBQUc7QUFDaEIsV0FBTyxJQUFJTCxlQUFKLENBQ0w1VixNQUFNLENBQUM1RixRQUFQLENBQWdCc1osUUFBaEIsQ0FBeUJnQyxJQUF6QixDQUE4QnpJLEtBQTlCLENBQ0VqTixNQUFNLENBQUM1RixRQUFQLENBQWdCc1osUUFBaEIsQ0FBeUJnQyxJQUF6QixDQUE4QjNJLE9BQTlCLENBQXNDLE9BQXRDLENBREYsQ0FESyxFQUlMK0ksR0FKSyxDQUlELE9BSkMsQ0FBUDtBQUtELEdBNUYwQjs7QUE2RjNCSyxlQUFhLEdBQUc7QUFDZCxXQUFPLElBQUlQLGVBQUosQ0FDTDVWLE1BQU0sQ0FBQzVGLFFBQVAsQ0FBZ0JzWixRQUFoQixDQUF5QmdDLElBQXpCLENBQThCekksS0FBOUIsQ0FDRWpOLE1BQU0sQ0FBQzVGLFFBQVAsQ0FBZ0JzWixRQUFoQixDQUF5QmdDLElBQXpCLENBQThCM0ksT0FBOUIsQ0FBc0MsS0FBdEMsQ0FERixDQURLLEVBSUwrSSxHQUpLLENBSUQsS0FKQyxDQUFQO0FBS0Q7O0FBbkcwQixDQUF0QixDOzs7Ozs7OztBQ1BQO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUNhOztBQUViLE1BQU1NLGlCQUFpQixHQUFHLENBQ3hCLHFCQUR3QixFQUV4QixhQUZ3QixFQUd4QixZQUh3QixFQUl4QixTQUp3QixFQUt4Qix3QkFMd0IsRUFNeEI7QUFDQSwwQkFQd0IsRUFReEIsc0JBUndCLEVBU3hCLHlCQVR3QixFQVV4Qix5QkFWd0IsRUFXeEIsd0JBWHdCLEVBWXhCLG1CQVp3QixFQWF4QixxQkFid0IsRUFjeEIsZ0NBZHdCLEVBZ0J4QjtBQUNBLHFCQWpCd0IsRUFrQnhCLHVCQWxCd0IsRUFtQnhCLGFBbkJ3QixFQW9CeEIsY0FwQndCLEVBcUJ4QixnQkFyQndCLEVBc0J4QixrQkF0QndCLEVBdUJ4QixpQkF2QndCLEVBd0J4QiwwQkF4QndCLEVBeUJ4QixvQkF6QndCLEVBMEJ4QixtQkExQndCLEVBMkJ4QixzQkEzQndCLEVBNEJ4QixzQkE1QndCLEVBNkJ4QixrQkE3QndCLEVBOEJ4QixxQkE5QndCLEVBK0J4QixxQkEvQndCLEVBZ0N4Qix3QkFoQ3dCLEVBaUN4QixvQkFqQ3dCLENBQTFCO0FBb0NBLE1BQU1DLGlCQUFpQixHQUFHRCxpQkFBaUIsQ0FBQ0UsTUFBbEIsQ0FBeUIsQ0FBQ3JDLElBQUQsRUFBTzFXLEtBQVAsS0FBaUI7QUFDbEUwVyxNQUFJLENBQUMxVyxLQUFELENBQUosR0FBY0EsS0FBZDtBQUNBLFNBQU8wVyxJQUFQO0FBQ0QsQ0FIeUIsRUFHdkIsRUFIdUIsQ0FBMUIsQzs7Ozs7O0FDMUNBLDRCOzs7Ozs7QUNBQSx1Qjs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFTyxNQUFNc0MsZ0JBQU4sU0FBK0IxWCw0Q0FBSyxDQUFDQyxhQUFyQyxDQUFtRDtBQUN4REMsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUt3WCxZQUFMLEdBQW9CLEtBQUtBLFlBQUwsQ0FBa0JwWCxJQUFsQixDQUF1QixJQUF2QixDQUFwQjtBQUNBLFNBQUtILEtBQUwsR0FBYTtBQUFFZ1YsVUFBSSxFQUFFalUsTUFBTSxDQUFDMFQsUUFBUCxDQUFnQk87QUFBeEIsS0FBYjtBQUNEOztBQUVEdUMsY0FBWSxHQUFHO0FBQ2IsU0FBS25YLFFBQUwsQ0FBYztBQUFFNFUsVUFBSSxFQUFFalUsTUFBTSxDQUFDMFQsUUFBUCxDQUFnQk87QUFBeEIsS0FBZDtBQUNEOztBQUVEL0gsb0JBQWtCLEdBQUc7QUFDbkJsTSxVQUFNLENBQUN6RixnQkFBUCxDQUF3QixZQUF4QixFQUFzQyxLQUFLaWMsWUFBM0M7QUFDRDs7QUFFRGxYLHNCQUFvQixHQUFHO0FBQ3JCVSxVQUFNLENBQUNrQixtQkFBUCxDQUEyQixZQUEzQixFQUF5QyxLQUFLc1YsWUFBOUM7QUFDRDs7QUFFRHRXLFFBQU0sR0FBRztBQUNQLFVBQU0sR0FBRyxHQUFHeVQsTUFBTixJQUFnQixLQUFLMVUsS0FBTCxDQUFXZ1YsSUFBWCxDQUFnQmxMLEtBQWhCLENBQXNCLEdBQXRCLENBQXRCO0FBQ0Esd0JBQU9sSyw0Q0FBSyxDQUFDNFgsWUFBTixDQUFtQixLQUFLelgsS0FBTCxDQUFXK0UsUUFBOUIsRUFBd0M7QUFDN0MyUCxjQUFRLEVBQUU7QUFDUk8sWUFBSSxFQUFFLEtBQUtoVixLQUFMLENBQVdnVixJQURUO0FBRVJOO0FBRlE7QUFEbUMsS0FBeEMsQ0FBUDtBQU1EOztBQTNCdUQsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTjFEO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTStDLHNCQUFzQixHQUFHLENBQUMsNkJBQUQsQ0FBL0IsQyxDQUVBOztBQUNBLFNBQVNDLDRCQUFULENBQXNDQyxTQUF0QyxFQUFpREMsU0FBakQsRUFBNEQ7QUFDMUQsU0FDRUQsU0FBUyxDQUFDMVgsT0FBVixDQUFrQmdELEVBQWxCLEtBQ0MsQ0FBQzJVLFNBQVMsQ0FBQzNYLE9BQVgsSUFBc0IyWCxTQUFTLENBQUMzWCxPQUFWLENBQWtCZ0QsRUFBbEIsS0FBeUIwVSxTQUFTLENBQUMxWCxPQUFWLENBQWtCZ0QsRUFEbEUsQ0FERjtBQUlEOztBQUVNLE1BQU00VSxpQkFBTixTQUFnQ2pZLDRDQUFLLENBQUNDLGFBQXRDLENBQW9EO0FBQ3pEQyxhQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNqQixVQUFNQSxLQUFOO0FBQ0EsU0FBSytYLFNBQUwsR0FBaUIsS0FBS0EsU0FBTCxDQUFlM1gsSUFBZixDQUFvQixJQUFwQixDQUFqQjtBQUNBLFNBQUs0WCxjQUFMLEdBQXNCLEtBQUtBLGNBQUwsQ0FBb0I1WCxJQUFwQixDQUF5QixJQUF6QixDQUF0QjtBQUNBLFNBQUs2WCx1QkFBTCxHQUErQixLQUFLQSx1QkFBTCxDQUE2QjdYLElBQTdCLENBQWtDLElBQWxDLENBQS9CO0FBQ0EsU0FBSzhYLFlBQUwsR0FBb0IsS0FBS0EsWUFBTCxDQUFrQjlYLElBQWxCLENBQXVCLElBQXZCLENBQXBCO0FBQ0EsU0FBSytYLGVBQUwsR0FBdUIsS0FBS0EsZUFBTCxDQUFxQi9YLElBQXJCLENBQTBCLElBQTFCLENBQXZCO0FBQ0EsU0FBS2dZLGVBQUwsR0FBdUIsS0FBS0EsZUFBTCxDQUFxQmhZLElBQXJCLENBQTBCLElBQTFCLENBQXZCO0FBQ0EsU0FBS2lZLFdBQUwsR0FBbUIsS0FBS0EsV0FBTCxDQUFpQmpZLElBQWpCLENBQXNCLElBQXRCLENBQW5CO0FBQ0EsU0FBS2tZLFNBQUwsR0FBaUIsS0FBS0EsU0FBTCxDQUFlbFksSUFBZixDQUFvQixJQUFwQixDQUFqQjtBQUNBLFNBQUt3TCxtQkFBTCxHQUEyQixLQUFLQSxtQkFBTCxDQUF5QnhMLElBQXpCLENBQThCLElBQTlCLENBQTNCO0FBRUEsU0FBS0gsS0FBTCxHQUFhO0FBQUVDLGFBQU8sRUFBRTtBQUFYLEtBQWI7O0FBQ0EsUUFBSUYsS0FBSyxDQUFDNUUsUUFBVixFQUFvQjtBQUNsQixXQUFLbWQsWUFBTCxHQUFvQnZZLEtBQUssQ0FBQzVFLFFBQU4sQ0FBZU8sY0FBZixDQUNsQiwyQkFEa0IsQ0FBcEI7QUFHRDtBQUNGOztBQUVvQixRQUFmd2MsZUFBZSxDQUFDeEIsTUFBTSxHQUFHLEVBQVYsRUFBYztBQUNqQyxRQUFJbEQsTUFBTSxHQUFHLEVBQWI7QUFDQSxVQUFNO0FBQUUrRTtBQUFGLFFBQWtCLEtBQUt4WSxLQUE3Qjs7QUFDQSxRQUFJLENBQUN3WSxXQUFMLEVBQWtCO0FBQ2hCLFlBQU1DLEdBQUcsR0FDUCw4REFERjtBQUVBdEosYUFBTyxDQUFDZ0YsS0FBUixDQUFjc0UsR0FBZCxFQUhnQixDQUdJO0FBQ3JCOztBQUVELFFBQUk7QUFDRixZQUFNQyxNQUFNLEdBQUcsSUFBSTdCLEdBQUosQ0FBUTJCLFdBQVIsQ0FBZjtBQUNBRSxZQUFNLENBQUNDLFFBQVAsR0FBa0IsY0FBbEI7QUFDQXpQLFlBQU0sQ0FBQ0MsSUFBUCxDQUFZd04sTUFBWixFQUFvQmphLE9BQXBCLENBQTRCK0YsR0FBRyxJQUFJO0FBQ2pDaVcsY0FBTSxDQUFDRSxZQUFQLENBQW9CQyxNQUFwQixDQUEyQnBXLEdBQTNCLEVBQWdDa1UsTUFBTSxDQUFDbFUsR0FBRCxDQUF0QztBQUNELE9BRkQ7QUFHQSxZQUFNcVcsUUFBUSxHQUFHLE1BQU1DLEtBQUssQ0FBQ0wsTUFBTSxDQUFDTSxRQUFQLEVBQUQsRUFBb0I7QUFBRUMsbUJBQVcsRUFBRTtBQUFmLE9BQXBCLENBQTVCOztBQUNBLFVBQUlILFFBQVEsQ0FBQ0ksTUFBVCxLQUFvQixHQUF4QixFQUE2QjtBQUMzQixjQUFNO0FBQUVDLGtCQUFGO0FBQVlDLGdCQUFaO0FBQW9CQztBQUFwQixZQUFzQyxNQUFNUCxRQUFRLENBQUNRLElBQVQsRUFBbEQ7QUFDQTdGLGNBQU0sR0FBRztBQUFFMEYsa0JBQUY7QUFBWUMsZ0JBQVo7QUFBb0JDO0FBQXBCLFNBQVQ7QUFDRCxPQUhELE1BR087QUFDTGxLLGVBQU8sQ0FBQ2dGLEtBQVIsQ0FBYyxrQkFBZCxFQUFrQzJFLFFBQWxDLEVBREssQ0FDd0M7QUFDOUM7QUFDRixLQWJELENBYUUsT0FBTzNFLEtBQVAsRUFBYztBQUNkaEYsYUFBTyxDQUFDZ0YsS0FBUixDQUFjQSxLQUFkLEVBRGMsQ0FDUTtBQUN2Qjs7QUFDRCxXQUFPVixNQUFQO0FBQ0Q7O0FBRUR3RSx5QkFBdUIsQ0FBQ3NCLFVBQVUsR0FBRyxFQUFkLEVBQWtCO0FBQ3ZDLFVBQU07QUFBRXJaO0FBQUYsUUFBYyxLQUFLRCxLQUF6QjtBQUNBLFVBQU11WixTQUFTLEdBQUksR0FBRXRaLE9BQU8sQ0FBQ3VQLFFBQVMsYUFBdEM7QUFDQSxVQUFNL1EsTUFBTSxHQUFHNmEsVUFBVSxDQUFDclcsRUFBMUI7QUFDQSxXQUFPcVcsVUFBVSxDQUFDclcsRUFBbEI7QUFDQWlLLGlFQUFhLENBQUNxSixhQUFkLENBQTRCO0FBQzFCOVgsWUFEMEI7QUFFMUIrYSxnQkFBVSxFQUFFdlosT0FBTyxDQUFDZ0QsRUFGTTtBQUcxQjlHLFlBQU0sRUFBRW9kLFNBSGtCO0FBSTFCLFNBQUdEO0FBSnVCLEtBQTVCO0FBTUQ7O0FBRUR2QixnQkFBYyxDQUFDdUIsVUFBRCxFQUFhO0FBQ3pCLFFBQUksS0FBS3RaLEtBQUwsQ0FBV0MsT0FBWCxDQUFtQnVQLFFBQW5CLEtBQWdDLFNBQXBDLEVBQStDO0FBQzdDLGFBQU9pSyxPQUFPLENBQUNDLE9BQVIsRUFBUDtBQUNEOztBQUVELFNBQUsxQix1QkFBTCxDQUE2QjtBQUFFMVYsV0FBSyxFQUFFLFlBQVQ7QUFBdUIsU0FBR2dYO0FBQTFCLEtBQTdCO0FBQ0EsV0FBT3BNLDZEQUFhLENBQUNHLFdBQWQsQ0FBMEI7QUFDL0JyUyxVQUFJLEVBQUV3UywyRUFBRyxDQUFDbU0sVUFEcUI7QUFFL0JsYyxVQUFJLEVBQUUsS0FBS3VDLEtBQUwsQ0FBV0M7QUFGYyxLQUExQixDQUFQO0FBSUQsR0F4RXdELENBMEV6RDtBQUNBO0FBQ0E7OztBQUNBNlgsV0FBUyxDQUFDeFYsS0FBRCxFQUFRO0FBQ2YsVUFBTTtBQUFFc047QUFBRixRQUFjdE4sS0FBSyxDQUFDcEYsTUFBMUI7QUFDQSxVQUFNMGMsTUFBTSxHQUFHO0FBQ2JDLG1CQUFhLEVBQUVqSyxPQUFPLENBQUNnSyxNQURWO0FBRWI7QUFDQTtBQUNBM1csUUFBRSxFQUFFO0FBSlMsS0FBZjtBQU1BLFVBQU07QUFBRTZXLHFCQUFGO0FBQW1CQztBQUFuQixRQUF3Q25LLE9BQTlDLENBUmUsQ0FTZjs7QUFDQSxVQUFNb0ssVUFBVSxHQUFHRixlQUFlLEdBQzlCLElBQUluRCxlQUFKLENBQW9CLENBQUMsQ0FBQ21ELGVBQUQsRUFBa0JDLGdCQUFsQixDQUFELENBQXBCLEVBQTJEaEIsUUFBM0QsRUFEOEIsR0FFOUJnQixnQkFGSjtBQUdBLFVBQU01ZCxNQUFNLEdBQUc7QUFDYm5CLFVBQUksRUFBRTRVLE9BQU8sQ0FBQ3pULE1BREQ7QUFFYnNCLFVBQUksRUFBRTtBQUNKOEIsWUFBSSxFQUFFcVEsT0FBTyxDQUFDclEsSUFEVjtBQUVKLFlBQUl5YSxVQUFVLElBQUk7QUFBRUE7QUFBRixTQUFsQjtBQUZJO0FBRk8sS0FBZjs7QUFPQSxRQUFJN2QsTUFBTSxDQUFDbkIsSUFBWCxFQUFpQjtBQUNma1MsbUVBQWEsQ0FBQzJJLGFBQWQsQ0FBNEIxWixNQUE1QjtBQUNEOztBQUNELFFBQ0UsQ0FBQyxLQUFLNkQsS0FBTCxDQUFXQyxPQUFYLENBQW1Cd00sT0FBbkIsQ0FBMkJ3TixnQkFBNUIsSUFDQSxDQUFDckssT0FBTyxDQUFDcUssZ0JBRlgsRUFHRTtBQUNBLFdBQUs3QixXQUFMLENBQWlCLEtBQUtwWSxLQUFMLENBQVdDLE9BQVgsQ0FBbUJnRCxFQUFwQztBQUNEOztBQUNELFFBQUksS0FBS2pELEtBQUwsQ0FBV0MsT0FBWCxDQUFtQnVQLFFBQW5CLEtBQWdDLFNBQXBDLEVBQStDO0FBQzdDLFdBQUt3SSx1QkFBTCxDQUE2QjtBQUFFMVYsYUFBSyxFQUFFLGNBQVQ7QUFBeUIsV0FBR3NYO0FBQTVCLE9BQTdCO0FBQ0Q7QUFDRjs7QUFFRHpCLGlCQUFlLENBQUMvYixPQUFELEVBQVU7QUFDdkIsV0FBTyxLQUFLZ2MsV0FBTCxDQUFpQixLQUFLcFksS0FBTCxDQUFXQyxPQUFYLENBQW1CZ0QsRUFBcEMsRUFBd0MsRUFDN0MsR0FBRzdHLE9BRDBDO0FBRTdDb1EsY0FBUSxFQUFFLEtBQUt4TSxLQUFMLENBQVdDLE9BQVgsQ0FBbUJ1TTtBQUZnQixLQUF4QyxDQUFQO0FBSUQ7O0FBRUQ0TCxhQUFXLENBQUNuVixFQUFELEVBQUs3RyxPQUFMLEVBQWM7QUFDdkIsV0FBTzhRLDZEQUFhLENBQUNPLFNBQWQsQ0FBd0J4SyxFQUF4QixFQUE0QjdHLE9BQTVCLEVBQXFDa1IsSUFBckMsQ0FBMEM0TSxRQUFRLElBQUk7QUFDM0QsVUFBSUEsUUFBSixFQUFjO0FBQ1osYUFBSzlaLFFBQUwsQ0FBYztBQUFFSCxpQkFBTyxFQUFFO0FBQVgsU0FBZDtBQUNEO0FBQ0YsS0FKTSxDQUFQO0FBS0Q7O0FBRURvWSxXQUFTLEdBQUc7QUFDVixTQUFLOEIsWUFBTCxDQUFrQixLQUFLbmEsS0FBTCxDQUFXQyxPQUFYLENBQW1CZ0QsRUFBckM7QUFDRCxHQWhJd0QsQ0FrSXpEO0FBQ0E7OztBQUNBa1gsY0FBWSxDQUFDQyxZQUFELEVBQWU7QUFDekIsUUFDRUEsWUFBWSxLQUFLLEtBQUtwYSxLQUFMLENBQVdDLE9BQVgsQ0FBbUJnRCxFQUFwQyxJQUNBbVgsWUFBWSxLQUFLLEtBQUtwYSxLQUFMLENBQVdDLE9BQVgsQ0FBbUJ1TSxRQUZ0QyxFQUdFO0FBQ0EsV0FBS3BNLFFBQUwsQ0FBYztBQUFFSCxlQUFPLEVBQUU7QUFBWCxPQUFkO0FBQ0Q7QUFDRjs7QUFFRG9hLGVBQWEsQ0FBQ3BYLEVBQUQsRUFBSztBQUNoQixRQUFJLEtBQUtqRCxLQUFMLENBQVdDLE9BQVgsQ0FBbUJ1UCxRQUFuQixLQUFnQ3ZNLEVBQXBDLEVBQXdDO0FBQ3RDLFdBQUs3QyxRQUFMLENBQWM7QUFBRUgsZUFBTyxFQUFFO0FBQVgsT0FBZDtBQUNEO0FBQ0Y7O0FBRUQwTCxxQkFBbUIsQ0FBQztBQUFFM1EsUUFBRjtBQUFReUM7QUFBUixHQUFELEVBQWlCO0FBQ2xDO0FBQ0EsWUFBUXpDLElBQVI7QUFDRSxXQUFLLGVBQUw7QUFBc0I7QUFDcEJ5QyxjQUFJLENBQUNoQixPQUFMLENBQWF3RyxFQUFFLElBQUksS0FBS2tYLFlBQUwsQ0FBa0JsWCxFQUFsQixDQUFuQjtBQUNBO0FBQ0Q7O0FBQ0QsV0FBSyxnQkFBTDtBQUF1QjtBQUNyQnhGLGNBQUksQ0FBQ2hCLE9BQUwsQ0FBYXdHLEVBQUUsSUFBSSxLQUFLb1gsYUFBTCxDQUFtQnBYLEVBQW5CLENBQW5CO0FBQ0E7QUFDRDs7QUFDRCxXQUFLLDBCQUFMO0FBQWlDO0FBQy9CLGVBQUtsRCxLQUFMLENBQVdsRixRQUFYLENBQW9CO0FBQUVHLGdCQUFJLEVBQUVDLDhEQUFFLENBQUNxZjtBQUFYLFdBQXBCO0FBQ0E7QUFDRDtBQVpIO0FBY0Q7O0FBRURDLGdCQUFjLENBQUN4UyxRQUFELEVBQVc7QUFDdkJtRixpRUFBYSxDQUFDRyxXQUFkLENBQTBCO0FBQ3hCclMsVUFBSSxFQUFFLHdCQURrQjtBQUV4QnlDLFVBQUksRUFBRTtBQUFFc0s7QUFBRjtBQUZrQixLQUExQixFQUdHdUYsSUFISCxDQUdRdE4sS0FBSyxJQUFJLEtBQUtJLFFBQUwsQ0FBY0osS0FBZCxDQUhqQjtBQUlEOztBQUVEaU4sb0JBQWtCLEdBQUc7QUFDbkIsVUFBTWxGLFFBQVEsR0FBR21GLDZEQUFhLENBQUNFLGtCQUFkLEVBQWpCOztBQUNBLFFBQUlyRixRQUFRLElBQUlBLFFBQVEsQ0FBQ2dQLEtBQVQsS0FBbUIsTUFBbkMsRUFBMkM7QUFDekNoVyxZQUFNLENBQUN5WixNQUFQLENBQWNDLGFBQWQsQ0FDRSxJQUFJQyxXQUFKLENBQWdCLHNCQUFoQixFQUF3QztBQUN0Q0MsY0FBTSxFQUFFO0FBQUVsZCxjQUFJLEVBQUVtZCwyRUFBaUJBO0FBQXpCO0FBRDhCLE9BQXhDLENBREY7QUFLRDs7QUFDRCxRQUFJN1MsUUFBUSxJQUFJQSxRQUFRLENBQUNrUCxHQUFULEtBQWlCLEtBQWpDLEVBQXdDO0FBQ3RDO0FBQ0EsV0FBS2xYLEtBQUwsQ0FBVzVFLFFBQVgsQ0FBb0I4YixHQUFwQixHQUEwQixLQUExQjtBQUNEOztBQUNEL0osaUVBQWEsQ0FBQ0MsV0FBZCxDQUEwQixLQUFLeEIsbUJBQS9CO0FBQ0EsU0FBSzRPLGNBQUwsQ0FBb0J4UyxRQUFwQjtBQUNEOztBQUVEMUgsc0JBQW9CLEdBQUc7QUFDckI2TSxpRUFBYSxDQUFDa0ksY0FBZCxDQUE2QixLQUFLekosbUJBQWxDO0FBQ0Q7O0FBRUR3SixvQkFBa0IsQ0FBQ3lDLFNBQUQsRUFBWTdKLFNBQVosRUFBdUI7QUFDdkMsUUFDRTZKLFNBQVMsQ0FBQ3RULFlBQVYsSUFDQXFGLElBQUksQ0FBQ0MsU0FBTCxDQUFlZ08sU0FBUyxDQUFDdFQsWUFBekIsTUFDRXFGLElBQUksQ0FBQ0MsU0FBTCxDQUFlLEtBQUs3SixLQUFMLENBQVd1RSxZQUExQixDQUhKLEVBSUU7QUFDQSxXQUFLdVcsYUFBTDtBQUNEOztBQUNELFFBQUk5TSxTQUFTLENBQUM5TixPQUFWLENBQWtCZ0QsRUFBbEIsS0FBeUIsS0FBS2pELEtBQUwsQ0FBV0MsT0FBWCxDQUFtQmdELEVBQWhELEVBQW9EO0FBQ2xELFlBQU02WCxJQUFJLEdBQUcvWixNQUFNLENBQUN5WixNQUFQLENBQWNyZixRQUFkLENBQXVCNGYsYUFBdkIsQ0FBcUMsTUFBckMsQ0FBYjs7QUFDQSxVQUFJRCxJQUFKLEVBQVU7QUFDUixZQUFJLEtBQUs5YSxLQUFMLENBQVdDLE9BQVgsQ0FBbUJnRCxFQUF2QixFQUEyQjtBQUN6QjZYLGNBQUksQ0FBQ3BhLFNBQUwsQ0FBZThQLEdBQWYsQ0FBbUIsYUFBbkI7QUFDRCxTQUZELE1BRU87QUFDTHNLLGNBQUksQ0FBQ3BhLFNBQUwsQ0FBZTJQLE1BQWYsQ0FBc0IsYUFBdEI7QUFDRDtBQUNGO0FBQ0Y7QUFDRjs7QUFFRHdLLGVBQWEsR0FBRztBQUNkLFNBQUt6YSxRQUFMLENBQWMsRUFDWixHQUFHLEtBQUtMLEtBQUwsQ0FBV3VFO0FBREYsS0FBZDtBQUdEOztBQUVrQixRQUFiMFcsYUFBYSxDQUFDO0FBQUVyUyxPQUFGO0FBQU9zUyxxQkFBaUIsR0FBRztBQUEzQixHQUFELEVBQWtDO0FBQ25ELFVBQU1DLFVBQVUsR0FBRyxNQUFNLEtBQUtoRCxlQUFMLENBQXFCK0MsaUJBQXJCLENBQXpCLENBRG1ELENBR25EOztBQUNBLFVBQU14QyxNQUFNLEdBQUcsSUFBSTdCLEdBQUosQ0FBUWpPLEdBQVIsQ0FBZjtBQUNBLEtBQUMsVUFBRCxFQUFhLFFBQWIsRUFBdUIsZUFBdkIsRUFBd0NsTSxPQUF4QyxDQUFnRCtGLEdBQUcsSUFBSTtBQUNyRCxVQUFJQSxHQUFHLElBQUkwWSxVQUFYLEVBQXVCO0FBQ3JCekMsY0FBTSxDQUFDRSxZQUFQLENBQW9CQyxNQUFwQixDQUEyQnBXLEdBQTNCLEVBQWdDMFksVUFBVSxDQUFDMVksR0FBRCxDQUExQztBQUNEO0FBQ0YsS0FKRDtBQU1BLFdBQU9pVyxNQUFNLENBQUNNLFFBQVAsRUFBUDtBQUNEOztBQUVpQixRQUFaZCxZQUFZLENBQUM5YixNQUFELEVBQVM7QUFDekIsWUFBUUEsTUFBTSxDQUFDbkIsSUFBZjtBQUNFO0FBQ0EsV0FBSyx3QkFBTDtBQUNFLGNBQU0yTixHQUFHLEdBQUcsTUFBTSxLQUFLcVMsYUFBTCxDQUFtQjdlLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWThCLElBQS9CLENBQWxCO0FBQ0EyTixxRUFBYSxDQUFDMkksYUFBZCxDQUE0QjtBQUFFN2EsY0FBSSxFQUFFLFVBQVI7QUFBb0J5QyxjQUFJLEVBQUU7QUFBRThCLGdCQUFJLEVBQUVvSjtBQUFSO0FBQTFCLFNBQTVCO0FBQ0E7O0FBQ0Y7QUFDRXVFLHFFQUFhLENBQUMySSxhQUFkLENBQTRCMVosTUFBNUI7QUFQSjtBQVNEOztBQUVEZ2YsZ0JBQWMsR0FBRztBQUNmLFVBQU07QUFBRWxiO0FBQUYsUUFBYyxLQUFLRCxLQUF6Qjs7QUFDQSxRQUFJLENBQUNvYiw4RUFBaUIsQ0FBQ25iLE9BQU8sQ0FBQ29iLFFBQVQsQ0FBdEIsRUFBMEM7QUFDeEMsYUFBTyxJQUFQO0FBQ0Q7O0FBQ0QsVUFBTUMsZ0JBQWdCLEdBQUdGLDhFQUFpQixDQUFDbmIsT0FBTyxDQUFDb2IsUUFBVCxDQUExQztBQUNBLFVBQU07QUFBRTVPO0FBQUYsUUFBY3hNLE9BQXBCO0FBRUEsd0JBQ0UsMkRBQUMsb0dBQUQ7QUFDRSxRQUFFLEVBQUMsbUJBREw7QUFFRSxhQUFPLEVBQUUsS0FBS0QsS0FBTCxDQUFXQyxPQUZ0QjtBQUdFLG9CQUFjLEVBQUUsS0FBSzhYLGNBSHZCO0FBSUUsa0NBQTRCLEVBQUVMLDRCQUpoQyxDQUtFO0FBTEY7QUFNRSxjQUFRLEVBQUUsS0FBSzNYLEtBQUwsQ0FBVzVFO0FBTnZCLG9CQVFFLDJEQUFDLGlFQUFEO0FBQXNCLGFBQU8sRUFBRW9nQiwwRUFBZSxDQUFDOU8sT0FBRDtBQUE5QyxvQkFDRSwyREFBQyxnQkFBRCxlQUNNLEtBQUt6TSxLQUFMLENBQVdDLE9BRGpCO0FBRUUsZUFBUyxFQUFDLG1CQUZaO0FBR0UsYUFBTyxFQUFFLEtBQUtrWSxlQUhoQjtBQUlFLGVBQVMsRUFBRSxLQUFLRSxTQUpsQjtBQUtFLGNBQVEsRUFBRSxLQUFLSixZQUxqQjtBQU1FLGVBQVMsRUFBRSxLQUFLSCxTQU5sQjtBQU9FLDZCQUF1QixFQUFFLEtBQUtFO0FBUGhDLE9BREYsQ0FSRixDQURGO0FBc0JEOztBQUVEd0QscUJBQW1CLEdBQUc7QUFDcEIsUUFBSSxLQUFLeGIsS0FBTCxDQUFXQyxPQUFYLENBQW1CdVAsUUFBbkIsS0FBZ0MsU0FBcEMsRUFBK0M7QUFDN0MsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQsd0JBQ0U7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRTtBQUFNLGVBQVMsRUFBQztBQUFoQixNQURGLGVBRUUsaUdBRkYsQ0FERjtBQU1EOztBQUVEdk8sUUFBTSxHQUFHO0FBQ1AsVUFBTTtBQUFFaEI7QUFBRixRQUFjLEtBQUtELEtBQXpCOztBQUNBLFFBQUksQ0FBQ0MsT0FBTyxDQUFDZ0QsRUFBYixFQUFpQjtBQUNmLGFBQU8sSUFBUDtBQUNEOztBQUNELFVBQU13WSx1QkFBdUIsR0FBR2hFLHNCQUFzQixDQUFDaEgsUUFBdkIsQ0FDOUJ4USxPQUFPLENBQUNvYixRQURzQixDQUFoQztBQUlBLFdBQU9JLHVCQUF1QjtBQUFBO0FBQzVCO0FBQ0E7QUFBSyxlQUFTLEVBQUM7QUFBZixPQUNHLEtBQUtOLGNBQUwsRUFESCxDQUY0QjtBQUFBO0FBTTVCO0FBQ0E7QUFDQTNmLG9EQUFRLENBQUNrZ0IsWUFBVCxlQUNFLHdIQUNHLEtBQUtGLG1CQUFMLEVBREgsRUFFRyxLQUFLTCxjQUFMLEVBRkgsQ0FERixFQUtFLEtBQUs3QyxZQUxQLENBUkY7QUFnQkQ7O0FBM1R3RDtBQThUM0RULGlCQUFpQixDQUFDOEQsWUFBbEIsR0FBaUM7QUFBRXhnQixVQUFRLEVBQUU0RixNQUFNLENBQUM1RjtBQUFuQixDQUFqQyxDOzs7Ozs7OztBQ3ZWQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVPLE1BQU15Z0IsT0FBTyxHQUFHLFNBQWhCO0FBQ0EsTUFBTUMsdUJBQXVCLEdBQUcsa0JBQWhDO0FBRVA7QUFDQTtBQUNBOztBQUNPLE1BQU1DLGtCQUFOLFNBQWlDbGMsNENBQUssQ0FBQ0MsYUFBdkMsQ0FBcUQ7QUFDMUQ7QUFDQTtBQUNBO0FBQ0FrYyw2QkFBMkIsR0FBRztBQUM1QixRQUFJLEtBQUtoYyxLQUFMLENBQVc1RSxRQUFYLENBQW9CNmdCLGVBQXBCLEtBQXdDSixPQUE1QyxFQUFxRDtBQUNuRCxXQUFLN2IsS0FBTCxDQUFXZ1ksY0FBWCxDQUEwQjtBQUFFOVUsVUFBRSxFQUFFLEtBQUtsRCxLQUFMLENBQVdrRDtBQUFqQixPQUExQjtBQUNELEtBRkQsTUFFTztBQUNMO0FBQ0E7QUFDQSxVQUFJLEtBQUtnWixtQkFBVCxFQUE4QjtBQUM1QixhQUFLbGMsS0FBTCxDQUFXNUUsUUFBWCxDQUFvQjhHLG1CQUFwQixDQUNFNFosdUJBREYsRUFFRSxLQUFLSSxtQkFGUDtBQUlELE9BUkksQ0FVTDs7O0FBQ0EsV0FBS0EsbUJBQUwsR0FBMkIsTUFBTTtBQUMvQixZQUFJLEtBQUtsYyxLQUFMLENBQVc1RSxRQUFYLENBQW9CNmdCLGVBQXBCLEtBQXdDSixPQUE1QyxFQUFxRDtBQUNuRCxlQUFLN2IsS0FBTCxDQUFXZ1ksY0FBWCxDQUEwQjtBQUFFOVUsY0FBRSxFQUFFLEtBQUtsRCxLQUFMLENBQVdrRDtBQUFqQixXQUExQjtBQUNBLGVBQUtsRCxLQUFMLENBQVc1RSxRQUFYLENBQW9COEcsbUJBQXBCLENBQ0U0Wix1QkFERixFQUVFLEtBQUtJLG1CQUZQO0FBSUQ7QUFDRixPQVJEOztBQVNBLFdBQUtsYyxLQUFMLENBQVc1RSxRQUFYLENBQW9CRyxnQkFBcEIsQ0FDRXVnQix1QkFERixFQUVFLEtBQUtJLG1CQUZQO0FBSUQ7QUFDRjs7QUFFRDViLHNCQUFvQixHQUFHO0FBQ3JCLFFBQUksS0FBSzRiLG1CQUFULEVBQThCO0FBQzVCLFdBQUtsYyxLQUFMLENBQVc1RSxRQUFYLENBQW9COEcsbUJBQXBCLENBQ0U0Wix1QkFERixFQUVFLEtBQUtJLG1CQUZQO0FBSUQ7QUFDRjs7QUFFRGphLG1CQUFpQixHQUFHO0FBQ2xCLFFBQUksS0FBS2pDLEtBQUwsQ0FBV21jLFdBQWYsRUFBNEI7QUFDMUIsV0FBS0gsMkJBQUw7QUFDRDtBQUNGOztBQUVENUcsb0JBQWtCLENBQUN5QyxTQUFELEVBQVk7QUFDNUIsUUFBSSxLQUFLN1gsS0FBTCxDQUFXMlgsNEJBQVgsQ0FBd0MsS0FBSzNYLEtBQTdDLEVBQW9ENlgsU0FBcEQsQ0FBSixFQUFvRTtBQUNsRSxXQUFLbUUsMkJBQUw7QUFDRDtBQUNGOztBQUVEOWEsUUFBTSxHQUFHO0FBQ1AsV0FBTyxLQUFLbEIsS0FBTCxDQUFXK0UsUUFBbEI7QUFDRDs7QUF6RHlEO0FBNEQ1RGdYLGtCQUFrQixDQUFDSCxZQUFuQixHQUFrQztBQUNoQ3hnQixVQUFRLEVBQUU0RixNQUFNLENBQUM1RixRQURlO0FBRWhDK2dCLGFBQVcsRUFBRTtBQUZtQixDQUFsQyxDOzs7Ozs7O0FDeEVBLDJCOzs7Ozs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRU8sTUFBTUMsU0FBUyxHQUNwQnBiLE1BQU0sQ0FBQzVGLFFBQVAsSUFBbUI0RixNQUFNLENBQUM1RixRQUFQLENBQWdCaWhCLFdBQWhCLEtBQWdDLGNBRDlDO0FBRUEsTUFBTXhCLGlCQUFpQixHQUFHO0FBQy9CeUIsZ0JBQWMsRUFBRTtBQUNkQyxLQUFDLEVBQUUsRUFEVztBQUVkQyxLQUFDLEVBQUUsRUFGVztBQUdkQyxLQUFDLEVBQUUsRUFIVztBQUlkQyxLQUFDLEVBQUU7QUFKVyxHQURlO0FBTy9CQyxxQkFBbUIsRUFBRTtBQUNuQkosS0FBQyxFQUFFLEVBRGdCO0FBRW5CQyxLQUFDLEVBQUUsRUFGZ0I7QUFHbkJDLEtBQUMsRUFBRSxFQUhnQjtBQUluQkMsS0FBQyxFQUFFO0FBSmdCLEdBUFU7QUFhL0JFLFVBQVEsRUFBRTtBQUNSTCxLQUFDLEVBQUUsR0FESztBQUVSQyxLQUFDLEVBQUUsR0FGSztBQUdSQyxLQUFDLEVBQUUsR0FISztBQUlSQyxLQUFDLEVBQUU7QUFKSyxHQWJxQjtBQW1CL0JHLFNBQU8sRUFBRTtBQUNQTixLQUFDLEVBQUUsRUFESTtBQUVQQyxLQUFDLEVBQUUsRUFGSTtBQUdQQyxLQUFDLEVBQUUsRUFISTtBQUlQQyxLQUFDLEVBQUU7QUFKSSxHQW5Cc0I7QUF5Qi9CSSxjQUFZLEVBQUU7QUFDWlAsS0FBQyxFQUFFLEdBRFM7QUFFWkMsS0FBQyxFQUFFLEdBRlM7QUFHWkMsS0FBQyxFQUFFLEdBSFM7QUFJWkMsS0FBQyxFQUFFO0FBSlM7QUF6QmlCLENBQTFCLEM7Ozs7Ozs7QUNOUCwwQjs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxNQUFNSyxjQUFOLFNBQTZCbGQsNENBQUssQ0FBQ0MsYUFBbkMsQ0FBaUQ7QUFDdERDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLZ2QsZ0JBQUwsR0FBd0IsS0FBS0EsZ0JBQUwsQ0FBc0I1YyxJQUF0QixDQUEyQixJQUEzQixDQUF4QjtBQUNBLFNBQUs2YyxpQkFBTCxHQUF5QixLQUFLQSxpQkFBTCxDQUF1QjdjLElBQXZCLENBQTRCLElBQTVCLENBQXpCO0FBQ0Q7O0FBRUQ0YyxrQkFBZ0IsR0FBRztBQUNqQixTQUFLaGQsS0FBTCxDQUFXbEYsUUFBWCxDQUFvQjtBQUFFRyxVQUFJLEVBQUVpQiw4REFBVyxDQUFDZ2hCO0FBQXBCLEtBQXBCO0FBQ0EsU0FBS2xkLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMsaUVBQUUsQ0FBQzBDLFNBQUgsQ0FBYTtBQUNYOEUsV0FBSyxFQUFFckcsOERBQVcsQ0FBQ2doQixhQURSO0FBRVh4ZSxZQUFNLEVBQUUsS0FBS3NCLEtBQUwsQ0FBV3RDLElBQVgsQ0FBZ0J5ZjtBQUZiLEtBQWIsQ0FERjtBQU1EOztBQUVERixtQkFBaUIsR0FBRztBQUNsQixTQUFLamQsS0FBTCxDQUFXdEMsSUFBWCxDQUFnQjBmLFNBQWhCLENBQTBCMWdCLE9BQTFCLENBQWtDLEtBQUtzRCxLQUFMLENBQVdsRixRQUE3QztBQUNEOztBQUVEdWlCLHFCQUFtQixHQUFHO0FBQ3BCLFVBQU1DLFlBQVksR0FBRyxLQUFLdGQsS0FBTCxDQUFXdEMsSUFBWCxDQUFnQjZmLGNBQXJDOztBQUVBLFFBQUksQ0FBQ0QsWUFBTCxFQUFtQjtBQUNqQixhQUFPLElBQVA7QUFDRDs7QUFFRCx3QkFDRSx5RUFDR0EsWUFBWSxDQUFDdlUsR0FBYixDQUFpQjBFLEdBQUcsaUJBQ25CO0FBQUcsU0FBRyxFQUFFQSxHQUFSO0FBQWEsc0JBQWNBO0FBQTNCLE1BREQsQ0FESCxDQURGO0FBT0Q7O0FBRUR2TSxRQUFNLEdBQUc7QUFDUCxRQUFJLENBQUMsS0FBS2xCLEtBQUwsQ0FBV3dkLE9BQWhCLEVBQXlCO0FBQ3ZCLGFBQU8sSUFBUDtBQUNEOztBQUVELHdCQUNFO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0U7QUFDRSxlQUFTLEVBQUMsZUFEWjtBQUVFLGFBQU8sRUFBRSxLQUFLUixnQkFGaEI7QUFHRSxVQUFJLEVBQUM7QUFIUCxNQURGLGVBTUU7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRTtBQUFTLGVBQVMsRUFBQztBQUFuQixPQUNHLEtBQUtoZCxLQUFMLENBQVd0QyxJQUFYLENBQWdCeUIsSUFBaEIsaUJBQ0M7QUFDRSxlQUFTLEVBQUcseUJBQXdCLEtBQUthLEtBQUwsQ0FBV3RDLElBQVgsQ0FBZ0J5QixJQUFLO0FBRDNELE1BRkosRUFNRyxLQUFLa2UsbUJBQUwsRUFOSCxDQURGLGVBU0U7QUFBUyxlQUFTLEVBQUM7QUFBbkIsb0JBQ0U7QUFDRSxhQUFPLEVBQUUsS0FBS0wsZ0JBRGhCO0FBRUUsc0JBQWMsS0FBS2hkLEtBQUwsQ0FBV3RDLElBQVgsQ0FBZ0IrZjtBQUZoQyxNQURGLGVBS0U7QUFDRSxlQUFTLEVBQUMsTUFEWjtBQUVFLGFBQU8sRUFBRSxLQUFLUixpQkFGaEI7QUFHRSxzQkFBYyxLQUFLamQsS0FBTCxDQUFXdEMsSUFBWCxDQUFnQmdnQjtBQUhoQyxNQUxGLENBVEYsQ0FORixDQURGO0FBOEJEOztBQXhFcUQ7QUEyRWpELE1BQU1DLGFBQWEsR0FBRzlZLDJEQUFPLENBQUM1RSxLQUFLLElBQUlBLEtBQUssQ0FBQzJkLE1BQWhCLENBQVAsQ0FBK0JiLGNBQS9CLENBQXRCLEM7Ozs7Ozs7QUN0R1A7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQU1jLHdCQUF3QixHQUFHLENBQy9CLFdBRCtCLEVBRS9CLGFBRitCLEVBRy9CLHdDQUgrQixDQUFqQztBQUtBLE1BQU1DLGtCQUFrQixHQUFHLG9CQUEzQjtBQUVBO0FBQ0E7QUFDQTs7QUFDTyxTQUFTQyxZQUFULENBQXNCQyxRQUF0QixFQUFnQ3pmLEtBQWhDLEVBQXVDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLE1BQUlBLEtBQUssS0FBS3lSLFNBQWQsRUFBeUI7QUFDdkIsV0FBTyxJQUFQO0FBQ0QsR0FOMkMsQ0FRNUM7OztBQUNBLFFBQU1pTyxJQUFJLEdBQUcxZixLQUFLLENBQUNtSyxLQUFOLENBQVksaUJBQVosQ0FBYjtBQUNBLFNBQ0UsQ0FBQ3VWLElBQUQsSUFDQUEsSUFBSSxDQUFDQyxLQUFMLENBQVd0VixHQUFHLElBQ1ppVix3QkFBd0IsQ0FBQzVNLElBQXpCLENBQThCa04sTUFBTSxJQUFJdlYsR0FBRyxDQUFDcUYsS0FBSixDQUFVLENBQVYsRUFBYWlILFVBQWIsQ0FBd0JpSixNQUF4QixDQUF4QyxDQURGLENBRkY7QUFNRDtBQUVNLE1BQU1DLG9CQUFOLFNBQW1DdmUsNkNBQUssQ0FBQ0MsYUFBekMsQ0FBdUQ7QUFDNURDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLcWUsWUFBTCxHQUFvQixLQUFLQSxZQUFMLENBQWtCamUsSUFBbEIsQ0FBdUIsSUFBdkIsQ0FBcEI7QUFDRDs7QUFFRGllLGNBQVksQ0FBQ0MsS0FBRCxFQUFRO0FBQ2xCO0FBQ0EsUUFBSSxDQUFDQSxLQUFMLEVBQVk7QUFDVjtBQUNEOztBQUVELFVBQU07QUFBRUM7QUFBRixRQUFZRCxLQUFsQjtBQUNBLFVBQU1FLE1BQU0sR0FBRzVVLElBQUksQ0FBQytFLEtBQUwsQ0FBVzJQLEtBQUssQ0FBQ3pPLE9BQU4sQ0FBYzJPLE1BQXpCLENBQWY7QUFDQUEsVUFBTSxDQUFDOWhCLE9BQVAsQ0FBZSxDQUFDME4sR0FBRCxFQUFNQyxRQUFOLEtBQW1CO0FBQ2hDRCxTQUFHLENBQUMxTixPQUFKLENBQVksQ0FBQzJMLFNBQUQsRUFBWWtDLGNBQVosS0FBK0I7QUFDekM7QUFDQSxZQUFJLENBQUNsQyxTQUFMLEVBQWdCO0FBQ2Q7QUFDRDs7QUFFRGEsY0FBTSxDQUFDdVYsT0FBUCxDQUFlcFcsU0FBZixFQUEwQjNMLE9BQTFCLENBQWtDLENBQUMsQ0FBQ2dpQixTQUFELEVBQVlDLFlBQVosQ0FBRCxLQUErQjtBQUMvRDtBQUNBSixlQUFLLENBQUNLLFVBQU4sQ0FBa0IsR0FBRWQsa0JBQW1CLEtBQXZDO0FBQ0EsZ0JBQU0sQ0FBQ2UsSUFBRCxJQUFTTixLQUFLLENBQUNPLFFBQXJCLENBSCtELENBSy9EO0FBQ0E7O0FBQ0FELGNBQUksQ0FBQ1AsS0FBTCxHQUFhSyxZQUFiO0FBQ0EsV0FBQyxHQUFHRSxJQUFJLENBQUNQLEtBQVQsRUFBZ0I1aEIsT0FBaEIsQ0FBd0JzaEIsUUFBUSxJQUFJO0FBQ2xDLGtCQUFNemYsS0FBSyxHQUFHc2dCLElBQUksQ0FBQ1AsS0FBTCxDQUFXTixRQUFYLENBQWQ7O0FBQ0EsZ0JBQUksQ0FBQ0QsWUFBWSxDQUFDQyxRQUFELEVBQVd6ZixLQUFYLENBQWpCLEVBQW9DO0FBQ2xDNFEscUJBQU8sQ0FBQ2dGLEtBQVIsQ0FBZSx1QkFBc0I2SixRQUFTLEtBQUl6ZixLQUFNLEVBQXhELEVBRGtDLENBQzBCOztBQUM1RHNnQixrQkFBSSxDQUFDUCxLQUFMLENBQVdTLGNBQVgsQ0FBMEJmLFFBQTFCO0FBQ0Q7QUFDRixXQU5ELEVBUitELENBZ0IvRDs7QUFDQSxnQkFBTUcsTUFBTSxHQUFJLHFDQUFvQzlULFFBQVEsR0FDMUQsQ0FBRSxrQ0FBaUNFLGNBQWMsR0FBRyxDQUFFLEdBRHhELENBakIrRCxDQW1CL0Q7QUFDQTs7QUFDQXNVLGNBQUksQ0FBQ0csWUFBTCxHQUFvQk4sU0FBUyxDQUMxQjNVLEtBRGlCLENBQ1gsR0FEVyxFQUVqQmhCLEdBRmlCLENBR2hCa1csUUFBUSxJQUNOZCxNQUFNLEtBQ047QUFDQ2Msa0JBQVEsQ0FBQyxDQUFELENBQVIsS0FBZ0IsR0FBaEIsR0FBc0IsRUFBdEIsR0FBMkIsR0FGdEIsQ0FBTixHQUdBQSxRQVBjLEVBU2pCbGUsSUFUaUIsQ0FTWixHQVRZLENBQXBCLENBckIrRCxDQWdDL0Q7O0FBQ0EsY0FBSThkLElBQUksQ0FBQ0csWUFBTCxLQUFzQmxCLGtCQUExQixFQUE4QztBQUM1QzNPLG1CQUFPLENBQUNnRixLQUFSLENBQWUsb0JBQW1CdUssU0FBVSxFQUE1QyxFQUQ0QyxDQUNJO0FBQ2pEO0FBQ0YsU0FwQ0Q7QUFxQ0QsT0EzQ0Q7QUE0Q0QsS0E3Q0Q7QUE4Q0Q7O0FBRUR2VyxpQkFBZSxDQUFDRSxTQUFELEVBQVk2VyxVQUFaLEVBQXdCO0FBQ3JDLFVBQU1DLHdCQUF3QixHQUFHLEtBQUtuZixLQUFMLENBQVdxQixLQUFYLENBQWlCQyxNQUFqQixDQUM5Qix3Q0FEOEIsQ0FBakM7O0FBSUEsWUFBUStHLFNBQVMsQ0FBQ3BOLElBQWxCO0FBQ0UsV0FBSyxZQUFMO0FBQ0UsNEJBQU8sNERBQUMsaUhBQUQsT0FBUDs7QUFDRixXQUFLLFVBQUw7QUFDRSxZQUFJbWtCLGNBQUo7O0FBQ0EsWUFDRS9XLFNBQVMsQ0FBQ2dCLEtBQVYsSUFDQWhCLFNBQVMsQ0FBQ2dCLEtBQVYsQ0FBZ0JnVyxTQURoQixJQUVBaFgsU0FBUyxDQUFDZ0IsS0FBVixDQUFnQmdXLFNBQWhCLENBQTBCaGMsTUFINUIsRUFJRTtBQUNBK2Isd0JBQWMsR0FDWi9XLFNBQVMsQ0FBQ2dCLEtBQVYsQ0FBZ0JnVyxTQUFoQixDQUEwQixDQUExQixFQUE2QnZSLEtBQTdCLEtBQXVDLENBQXZDLEdBQTJDLE1BQTNDLEdBQW9ELE9BRHREO0FBRUQ7O0FBQ0QsNEJBQ0UsNERBQUMsNEdBQUQ7QUFDRSxnQkFBTSxFQUFFekYsU0FBUyxDQUFDaVgsTUFEcEI7QUFFRSxjQUFJLEVBQUVqWCxTQUFTLENBQUMzSyxJQUZsQjtBQUdFLHdCQUFjLEVBQUUwaEI7QUFIbEIsVUFERjs7QUFPRixXQUFLLFdBQUw7QUFDRSw0QkFDRSw0REFBQyxvSEFBRDtBQUNFLGtCQUFRLEVBQUUsS0FBS3BmLEtBQUwsQ0FBV2xGLFFBRHZCO0FBRUUsY0FBSSxFQUFFdU4sU0FBUyxDQUFDcE4sSUFGbEI7QUFHRSxjQUFJLEVBQUVvTixTQUFTLENBQUMzSztBQUhsQixVQURGOztBQU9GLFdBQUssUUFBTDtBQUNFLDRCQUNFLDREQUFDLDJHQUFEO0FBQ0Usa0JBQVEsRUFBRSxLQUFLc0MsS0FBTCxDQUFXbEYsUUFEdkI7QUFFRSxjQUFJLEVBQUV1TixTQUFTLENBQUNwTixJQUZsQjtBQUdFLGNBQUksRUFBRW9OLFNBQVMsQ0FBQzNLO0FBSGxCLFVBREY7O0FBT0YsV0FBSyxTQUFMO0FBQ0UsNEJBQ0UsNERBQUMsOEdBQUQ7QUFDRSxlQUFLLEVBQUUySyxTQUFTLENBQUNpWCxNQUFWLElBQW9CalgsU0FBUyxDQUFDaVgsTUFBVixDQUFpQkMsS0FEOUM7QUFFRSxrQkFBUSxFQUFFbFgsU0FBUyxDQUFDaVgsTUFBVixJQUFvQmpYLFNBQVMsQ0FBQ2lYLE1BQVYsQ0FBaUJFLFFBRmpEO0FBR0UsbUJBQVMsRUFBRW5YLFNBQVMsQ0FBQ2lYLE1BQVYsSUFBb0JqWCxTQUFTLENBQUNpWCxNQUFWLENBQWlCRyxTQUhsRDtBQUlFLGtCQUFRLEVBQUVwWCxTQUFTLENBQUNpWCxNQUFWLElBQW9CalgsU0FBUyxDQUFDaVgsTUFBVixDQUFpQkksUUFKakQ7QUFLRSxjQUFJLEVBQUVyWCxTQUFTLENBQUNpWCxNQUFWLElBQW9CalgsU0FBUyxDQUFDaVgsTUFBVixDQUFpQm5nQixJQUw3QztBQU1FLDhCQUFvQixFQUFFa0osU0FBUyxDQUFDc1gsb0JBTmxDO0FBT0UsNEJBQWtCLEVBQUV0WCxTQUFTLENBQUN1WDtBQVBoQyxVQURGOztBQVdGLFdBQUssY0FBTDtBQUNFLDRCQUFPLDREQUFDLHdIQUFEO0FBQWMsZ0JBQU0sRUFBRXZYLFNBQVMsQ0FBQ2lYO0FBQWhDLFVBQVA7O0FBQ0YsV0FBSyxZQUFMO0FBQ0UsNEJBQ0UsNERBQUMsa0hBQUQ7QUFDRSxrQkFBUSxFQUFFLEtBQUt0ZixLQUFMLENBQVdsRixRQUR2QjtBQUVFLGVBQUssRUFBRXVOLFNBQVMsQ0FBQ3dYLFVBQVYsQ0FBcUJDLEtBRjlCO0FBR0Usb0JBQVUsRUFBRXpYLFNBQVMsQ0FBQ3dYLFVBQVYsQ0FBcUJFLFVBSG5DO0FBSUUsbUJBQVMsRUFBRTFYLFNBQVMsQ0FBQ3dYLFVBQVYsQ0FBcUJHLFNBSmxDO0FBS0UseUJBQWUsRUFBRTNYLFNBQVMsQ0FBQ3dYLFVBQVYsQ0FBcUJJLGVBTHhDO0FBTUUsd0JBQWMsRUFBRTVYLFNBQVMsQ0FBQ3dYLFVBQVYsQ0FBcUJLLGNBTnZDO0FBT0UsZ0JBQU0sRUFBRTdYLFNBQVMsQ0FBQ2lYLE1BUHBCO0FBUUUsZ0JBQU0sRUFBRSxLQUFLdGYsS0FBTCxDQUFXbUIsR0FBWCxDQUFld0QsTUFSekI7QUFTRSwwQkFBZ0IsRUFBRTBELFNBQVMsQ0FBQzhYLGdCQVQ5QjtBQVVFLDBCQUFnQixFQUFFOVgsU0FBUyxDQUFDd1gsVUFBVixDQUFxQk87QUFWekMsVUFERjs7QUFjRixXQUFLLG9CQUFMO0FBQ0UsY0FBTTtBQUFFeGQ7QUFBRixZQUFzQixLQUFLNUMsS0FBakM7QUFDQSw0QkFDRSw0REFBQyx5SUFBRDtBQUNFLGNBQUksRUFBRXFJLFNBQVMsQ0FBQzNLLElBRGxCO0FBRUUsY0FBSSxFQUFFMkssU0FBUyxDQUFDQyxJQUZsQjtBQUdFLGVBQUssRUFBRTFGLGVBQWUsQ0FBQ3lHLEtBSHpCO0FBSUUsbUJBQVMsRUFBRWhCLFNBQVMsQ0FBQ2dZLFNBSnZCO0FBS0UsZ0JBQU0sRUFBRWhZLFNBQVMsQ0FBQ3dYLFVBQVYsQ0FBcUJTLE1BTC9CO0FBTUUsY0FBSSxFQUFFalksU0FBUyxDQUFDcE4sSUFObEI7QUFPRSxlQUFLLEVBQUVvTixTQUFTLENBQUN3WCxVQUFWLENBQXFCdFcsS0FQOUI7QUFRRSxxQkFBVyxFQUFFbEIsU0FBUyxDQUFDa1ksV0FSekI7QUFTRSxtQ0FBeUIsRUFBRXBCLHdCQVQ3QjtBQVVFLHFCQUFXLEVBQUUsS0FBS25mLEtBQUwsQ0FBVzRDLGVBQVgsQ0FBMkI0ZCx1QkFWMUM7QUFXRSxrQkFBUSxFQUFFLEtBQUt4Z0IsS0FBTCxDQUFXbEY7QUFYdkIsVUFERjs7QUFlRixXQUFLLFVBQUw7QUFDRSw0QkFDRSw0REFBQywyR0FBRDtBQUNFLGdDQUFzQixFQUNwQixDQUFDLENBQUN1TixTQUFTLENBQUN3WCxVQUFWLENBQXFCWSxzQkFGM0I7QUFJRSxlQUFLLEVBQUVwWSxTQUFTLENBQUNpWCxNQUFWLElBQW9CalgsU0FBUyxDQUFDaVgsTUFBVixDQUFpQkMsS0FKOUM7QUFLRSx5QkFBZSxFQUFFbFgsU0FBUyxDQUFDd1gsVUFBVixDQUFxQkksZUFMeEM7QUFNRSxjQUFJLEVBQUU1WCxTQUFTLENBQUMzSyxJQU5sQjtBQU9FLGNBQUksRUFBRTJLLFNBQVMsQ0FBQ0MsSUFQbEI7QUFRRSxnQkFBTSxFQUFFRCxTQUFTLENBQUN3WCxVQUFWLENBQXFCUyxNQVIvQjtBQVNFLGNBQUksRUFBRWpZLFNBQVMsQ0FBQ3BOLElBVGxCO0FBVUUsa0JBQVEsRUFBRSxLQUFLK0UsS0FBTCxDQUFXbEYsUUFWdkI7QUFXRSxlQUFLLEVBQUV1TixTQUFTLENBQUN3WCxVQUFWLENBQXFCdFcsS0FYOUI7QUFZRSw0QkFBa0IsRUFBRWxCLFNBQVMsQ0FBQ3dYLFVBQVYsQ0FBcUJhLGtCQVozQztBQWFFLHdCQUFjLEVBQUVyWSxTQUFTLENBQUN3WCxVQUFWLENBQXFCYyxjQWJ2QztBQWNFLDBCQUFnQixFQUFFdFksU0FBUyxDQUFDd1gsVUFBVixDQUFxQmUsZ0JBZHpDO0FBZUUscUJBQVcsRUFBRXZZLFNBQVMsQ0FBQ3dYLFVBQVYsQ0FBcUJnQixXQWZwQztBQWdCRSx1QkFBYSxFQUFFeFksU0FBUyxDQUFDd1gsVUFBVixDQUFxQmlCLGFBaEJ0QztBQWlCRSx1QkFBYSxFQUFFelksU0FBUyxDQUFDd1gsVUFBVixDQUFxQmtCLGFBakJ0QztBQWtCRSwyQkFBaUIsRUFBRTFZLFNBQVMsQ0FBQ3dYLFVBQVYsQ0FBcUJtQixpQkFsQjFDO0FBbUJFLG9CQUFVLEVBQUUzWSxTQUFTLENBQUN3WCxVQUFWLENBQXFCb0IsVUFuQm5DO0FBb0JFLG1CQUFTLEVBQUU1WSxTQUFTLENBQUN3WCxVQUFWLENBQXFCcUIsU0FwQmxDO0FBcUJFLDhCQUFvQixFQUFFN1ksU0FBUyxDQUFDd1gsVUFBVixDQUFxQkYsb0JBckI3QztBQXNCRSw0QkFBa0IsRUFBRXRYLFNBQVMsQ0FBQ3dYLFVBQVYsQ0FBcUJELGtCQXRCM0M7QUF1QkUsa0JBQVEsRUFBRXZYLFNBQVMsQ0FBQ3dYLFVBQVYsQ0FBcUJzQixRQXZCakM7QUF3QkUsa0JBQVEsRUFBRTlZLFNBQVMsQ0FBQytZLFFBeEJ0QjtBQXlCRSxnQ0FBc0IsRUFBRS9ZLFNBQVMsQ0FBQ2daLHNCQXpCcEM7QUEwQkUsMEJBQWdCLEVBQUVoWixTQUFTLENBQUNpWixnQkExQjlCO0FBMkJFLHFCQUFXLEVBQUVqWixTQUFTLENBQUNrWSxXQTNCekI7QUE0QkUsbUNBQXlCLEVBQUVwQjtBQTVCN0IsVUFERjs7QUFnQ0YsV0FBSyxnQkFBTDtBQUNFLDRCQUFPLDREQUFDLDZIQUFELE9BQVA7O0FBQ0YsV0FBSyxhQUFMO0FBQ0UsNEJBQU8sNERBQUMscUhBQUQ7QUFBYSxvQkFBVSxFQUFFOVcsU0FBUyxDQUFDd1g7QUFBbkMsVUFBUDs7QUFDRjtBQUNFLDRCQUFPLHlFQUFNeFgsU0FBUyxDQUFDcE4sSUFBaEIsQ0FBUDtBQXhISjtBQTBIRDs7QUFFRHNtQixjQUFZLENBQUMvQyxNQUFELEVBQVM7QUFDbkI7QUFDQTtBQUNBLFVBQU1sRixJQUFJLEdBQUcxUCxJQUFJLENBQUNDLFNBQUwsQ0FBZTJVLE1BQWYsQ0FBYjtBQUNBLHdCQUFPO0FBQU8sU0FBRyxFQUFFbEYsSUFBWjtBQUFrQixxQkFBYUEsSUFBL0I7QUFBcUMsU0FBRyxFQUFFLEtBQUsrRTtBQUEvQyxNQUFQO0FBQ0Q7O0FBRURuZCxRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUV5RDtBQUFGLFFBQWEsS0FBSzNFLEtBQXhCLENBRE8sQ0FFUDs7QUFDQSxVQUFNO0FBQUV3aEI7QUFBRixRQUFtQkMsOEZBQWtCLENBQUM7QUFDMUN4aEIsV0FBSyxFQUFFLEtBQUtELEtBQUwsQ0FBVzRDLGVBRHdCO0FBRTFDVCxXQUFLLEVBQUUsS0FBS25DLEtBQUwsQ0FBV3FCLEtBQVgsQ0FBaUJDLE1BRmtCO0FBRzFDcUQ7QUFIMEMsS0FBRCxDQUEzQztBQUtBLFVBQU07QUFBRTlCO0FBQUYsUUFBYSxLQUFLN0MsS0FBTCxDQUFXNEMsZUFBOUIsQ0FSTyxDQVVQOztBQUNBLFFBQUksQ0FBQ0MsTUFBTSxDQUFDNmUsV0FBWixFQUF5QjtBQUN2QixhQUFPLEtBQUtDLFlBQUwsQ0FBa0JILFlBQWxCLENBQVA7QUFDRCxLQWJNLENBZVA7OztBQUNBLFVBQU1JLGdCQUFnQixHQUFHM21CLElBQUksSUFBSTtBQUMvQixXQUFLLE1BQU0sQ0FBQ29QLFFBQUQsRUFBV0QsR0FBWCxDQUFYLElBQThCbEIsTUFBTSxDQUFDdVYsT0FBUCxDQUFlK0MsWUFBZixDQUE5QixFQUE0RDtBQUMxRCxhQUFLLE1BQU0sQ0FBQzFULEtBQUQsRUFBUXpGLFNBQVIsQ0FBWCxJQUFpQ2EsTUFBTSxDQUFDdVYsT0FBUCxDQUFlclUsR0FBRyxDQUFDRSxVQUFuQixDQUFqQyxFQUFpRTtBQUMvRCxjQUFJakMsU0FBUyxDQUFDcE4sSUFBVixLQUFtQkEsSUFBdkIsRUFBNkI7QUFDM0I7QUFDQSxnQkFBSW1QLEdBQUcsQ0FBQ0UsVUFBSixDQUFlakgsTUFBZixLQUEwQixDQUE5QixFQUFpQztBQUMvQm1lLDBCQUFZLENBQUNLLE1BQWIsQ0FBb0J4WCxRQUFwQixFQUE4QixDQUE5QjtBQUNELGFBRkQsTUFFTztBQUNMRCxpQkFBRyxDQUFDRSxVQUFKLENBQWV1WCxNQUFmLENBQXNCL1QsS0FBdEIsRUFBNkIsQ0FBN0I7QUFDRDs7QUFDRCxtQkFBT3pGLFNBQVA7QUFDRDtBQUNGO0FBQ0Y7O0FBQ0QsYUFBTyxJQUFQO0FBQ0QsS0FmRCxDQWhCTyxDQWlDUDs7O0FBQ0EsVUFBTXlaLFVBQVUsR0FBRyxLQUFLOWhCLEtBQUwsQ0FBV2dELFFBQVgsQ0FBb0IyTSxJQUFwQixDQUF5Qm9TLENBQUMsSUFBSUEsQ0FBQyxDQUFDN2UsRUFBRixLQUFTLFlBQXZDLENBQW5COztBQUVBLFFBQUksQ0FBQzRlLFVBQUwsRUFBaUI7QUFDZixhQUFPLElBQVA7QUFDRCxLQXRDTSxDQXdDUDs7O0FBQ0EsVUFBTUUsUUFBUSxHQUFHSixnQkFBZ0IsQ0FBQyxVQUFELENBQWpDO0FBQ0EsVUFBTUssbUJBQW1CLEdBQUdMLGdCQUFnQixDQUFDLG9CQUFELENBQTVDO0FBQ0EsVUFBTTFoQixPQUFPLEdBQUcwaEIsZ0JBQWdCLENBQUMsU0FBRCxDQUFoQixJQUErQjtBQUM3Q3RDLFlBQU0sRUFBRTtBQUNORyxpQkFBUyxFQUFFcUMsVUFBVSxDQUFDSSxTQUFYLENBQXFCQyxJQUFyQixDQUEwQmppQixPQUQvQjtBQUVOd2YsZ0JBQVEsRUFBRW9DLFVBQVUsQ0FBQ0ksU0FBWCxDQUFxQkMsSUFBckIsQ0FBMEJ6TCxJQUY5QjtBQUdONkksYUFBSyxFQUFFdUMsVUFBVSxDQUFDdkM7QUFIWjtBQURxQyxLQUEvQztBQVFBLFVBQU02QyxvQkFBb0IsR0FBR1IsZ0JBQWdCLENBQUMsYUFBRCxDQUE3QztBQUNBLFFBQUlNLFNBQVMsR0FBRztBQUNkQyxVQUFJLEVBQUU7QUFDSnpMLFlBQUksRUFBRXhXLE9BQU8sQ0FBQ29mLE1BQVIsQ0FBZUksUUFEakI7QUFFSnhmLGVBQU8sRUFBRUEsT0FBTyxDQUFDb2YsTUFBUixDQUFlRztBQUZwQjtBQURRLEtBQWhCO0FBTUEsUUFBSTRDLFlBQVksR0FBR25pQixPQUFPLENBQUNvZixNQUFSLENBQWVDLEtBQWxDO0FBQ0EsUUFBSStDLFFBQVEsR0FBRyxFQUFmLENBM0RPLENBNkRQO0FBQ0E7O0FBQ0EsUUFBSXBpQixPQUFPLENBQUN5ZixvQkFBUixJQUFnQ3pmLE9BQU8sQ0FBQzBmLGtCQUE1QyxFQUFnRTtBQUM5RHNDLGVBQVMsR0FBRyxJQUFaO0FBQ0FJLGNBQVEsR0FBRyx1QkFBWDs7QUFDQSxVQUFJcGlCLE9BQU8sQ0FBQ3lmLG9CQUFaLEVBQWtDO0FBQ2hDMEMsb0JBQVksR0FBRyx5QkFBZjtBQUNELE9BRkQsTUFFTyxJQUFJbmlCLE9BQU8sQ0FBQzBmLGtCQUFaLEVBQWdDO0FBQ3JDeUMsb0JBQVksR0FBRyxnQkFBZjtBQUNEO0FBQ0YsS0F2RU0sQ0F5RVA7OztBQUNBLHdCQUNFLDREQUFDLDZDQUFELENBQU8sUUFBUCxRQUNHLEtBQUtyaUIsS0FBTCxDQUFXNEMsZUFBWCxDQUEyQjJmLHlCQUEzQixpQkFDQyw0REFBQyw2SEFBRDtBQUFnQixjQUFRLEVBQUUsS0FBS3ZpQixLQUFMLENBQVdsRjtBQUFyQyxNQUZKLEVBSUdrbkIsUUFBUSxJQUNQLEtBQUtMLFlBQUwsQ0FBa0IsQ0FDaEI7QUFDRXZaLFdBQUssRUFBRSxFQURUO0FBRUVrQyxnQkFBVSxFQUFFLENBQUMwWCxRQUFEO0FBRmQsS0FEZ0IsQ0FBbEIsQ0FMSixFQVdHQyxtQkFBbUIsSUFDbEIsS0FBS04sWUFBTCxDQUFrQixDQUNoQjtBQUNFdlosV0FBSyxFQUFFLEVBRFQ7QUFFRWtDLGdCQUFVLEVBQUUsQ0FBQzJYLG1CQUFEO0FBRmQsS0FEZ0IsQ0FBbEIsQ0FaSixFQWtCRyxDQUFDLENBQUNULFlBQVksQ0FBQ25lLE1BQWYsaUJBQ0MsNERBQUMsK0dBQUQ7QUFDRSxlQUFTLEVBQUMsV0FEWjtBQUVFLGVBQVMsRUFBRXllLFVBQVUsQ0FBQ3BmLElBQVgsQ0FBZ0JtUyxTQUY3QjtBQUdFLGNBQVEsRUFBRSxLQUFLN1UsS0FBTCxDQUFXbEYsUUFIdkI7QUFJRSxRQUFFLEVBQUVnbkIsVUFBVSxDQUFDNWUsRUFKakI7QUFLRSxhQUFPLEVBQUUsSUFMWDtBQU1FLGVBQVMsRUFBRWdmLFNBTmI7QUFPRSxzQkFBZ0IsRUFBRUosVUFBVSxDQUFDMUIsZ0JBUC9CO0FBUUUsa0JBQVksRUFBRTBCLFVBQVUsQ0FBQ3BmLElBQVgsQ0FBZ0I0RixJQVJoQztBQVNFLFdBQUssRUFBRStaLFlBVFQ7QUFVRSxjQUFRLEVBQUVDLFFBVlo7QUFXRSxpQkFBVyxFQUFDO0FBWGQsT0FhRyxLQUFLWCxZQUFMLENBQWtCSCxZQUFsQixDQWJILENBbkJKLEVBbUNHLEtBQUtHLFlBQUwsQ0FBa0IsQ0FDakI7QUFDRXZaLFdBQUssRUFBRSxFQURUO0FBRUVrQyxnQkFBVSxFQUFFLENBQUM7QUFBRXJQLFlBQUksRUFBRTtBQUFSLE9BQUQ7QUFGZCxLQURpQixDQUFsQixDQW5DSCxFQXlDR21uQixvQkFBb0IsSUFDbkIsS0FBS1QsWUFBTCxDQUFrQixDQUNoQjtBQUNFdlosV0FBSyxFQUFFLEVBRFQ7QUFFRWtDLGdCQUFVLEVBQUUsQ0FBQzhYLG9CQUFEO0FBRmQsS0FEZ0IsQ0FBbEIsQ0ExQ0osQ0FERjtBQW1ERDs7QUFFRFQsY0FBWSxDQUFDSCxZQUFELEVBQWU7QUFDekIsVUFBTWhELE1BQU0sR0FBRyxFQUFmO0FBQ0Esd0JBQ0U7QUFBSyxlQUFTLEVBQUM7QUFBZixPQUNHZ0QsWUFBWSxDQUFDelksR0FBYixDQUFpQixDQUFDcUIsR0FBRCxFQUFNQyxRQUFOLGtCQUNoQjtBQUNFLFNBQUcsRUFBRyxPQUFNQSxRQUFTLEVBRHZCO0FBRUUsZUFBUyxFQUFHLHVCQUFzQkQsR0FBRyxDQUFDaEMsS0FBTTtBQUY5QyxvQkFJRTtBQUFLLGVBQVMsRUFBQztBQUFmLE9BQ0dnQyxHQUFHLENBQUNFLFVBQUosQ0FBZXZCLEdBQWYsQ0FBbUIsQ0FBQ1YsU0FBRCxFQUFZa0MsY0FBWixLQUErQjtBQUNqRCxVQUFJLENBQUNsQyxTQUFMLEVBQWdCO0FBQ2QsZUFBTyxJQUFQO0FBQ0Q7O0FBQ0RtVyxZQUFNLENBQUNuVSxRQUFELENBQU4sR0FBbUIsQ0FDakIsSUFBSW1VLE1BQU0sQ0FBQ25VLFFBQUQsQ0FBTixJQUFvQixFQUF4QixDQURpQixFQUVqQmhDLFNBQVMsQ0FBQ21XLE1BRk8sQ0FBbkI7QUFJQSwwQkFDRTtBQUFLLFdBQUcsRUFBRyxhQUFZalUsY0FBZTtBQUF0QyxTQUNHLEtBQUtwQyxlQUFMLENBQXFCRSxTQUFyQixFQUFnQytCLEdBQUcsQ0FBQ2hDLEtBQXBDLENBREgsQ0FERjtBQUtELEtBYkEsQ0FESCxDQUpGLENBREQsQ0FESCxFQXdCRyxLQUFLbVosWUFBTCxDQUFrQi9DLE1BQWxCLENBeEJILENBREY7QUE0QkQ7O0FBblcyRDtBQXNXdkQsTUFBTWdFLG1CQUFtQixHQUFHM2QsMkRBQU8sQ0FBQzVFLEtBQUssS0FBSztBQUNuRDJDLGlCQUFlLEVBQUUzQyxLQUFLLENBQUMyQyxlQUQ0QjtBQUVuRHZCLE9BQUssRUFBRXBCLEtBQUssQ0FBQ29CLEtBRnNDO0FBR25EMkIsVUFBUSxFQUFFL0MsS0FBSyxDQUFDK0MsUUFIbUM7QUFJbkQ1SCxVQUFRLEVBQUU0RixNQUFNLENBQUM1RixRQUprQztBQUtuRCtGLEtBQUcsRUFBRWxCLEtBQUssQ0FBQ2tCO0FBTHdDLENBQUwsQ0FBTixDQUFQLENBTS9CaWQsb0JBTitCLENBQTVCLEM7Ozs7Ozs7O0FDdlpQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFTyxNQUFNcUUsT0FBTixTQUFzQjVpQiw0Q0FBSyxDQUFDQyxhQUE1QixDQUEwQztBQUMvQ0MsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUVBLFNBQUswaUIscUJBQUwsR0FBNkIsS0FBS0EscUJBQUwsQ0FBMkJ0aUIsSUFBM0IsQ0FBZ0MsSUFBaEMsQ0FBN0I7QUFDQSxTQUFLdWlCLHdCQUFMLEdBQWdDLEtBQUtBLHdCQUFMLENBQThCdmlCLElBQTlCLENBQW1DLElBQW5DLENBQWhDO0FBQ0EsU0FBS3dpQixNQUFMLEdBQWMsS0FBS0EsTUFBTCxDQUFZeGlCLElBQVosQ0FBaUIsSUFBakIsQ0FBZDtBQUVBLFNBQUtILEtBQUwsR0FBYTtBQUNYNGlCLGNBQVEsRUFBRSxLQURDO0FBRVhDLDBCQUFvQixFQUFFLEtBRlg7QUFHWEMsbUJBQWEsRUFBRTtBQUhKLEtBQWI7QUFLRDs7QUFFREMsZ0JBQWMsR0FBRztBQUNmLFFBQUksQ0FBQyxLQUFLL2lCLEtBQUwsQ0FBVzRpQixRQUFoQixFQUEwQjtBQUN4QixXQUFLeGlCLFFBQUwsQ0FBYztBQUNaMGlCLHFCQUFhLEVBQUU7QUFESCxPQUFkO0FBR0Q7QUFDRjs7QUFFREUsa0JBQWdCLENBQUNyYSxHQUFELEVBQU1SLEtBQU4sRUFBYThhLE1BQWIsRUFBcUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsV0FBUSx5Q0FBd0M5YSxLQUFNLElBQUc4YSxNQUFPLCtEQUE4REMsa0JBQWtCLENBQzlJdmEsR0FEOEksQ0FFOUksRUFGRjtBQUdEOztBQUVEM0csbUJBQWlCLEdBQUc7QUFDbEIsU0FBS21oQixjQUFMLEdBQXNCLEtBQUtwakIsS0FBTCxDQUFXcWpCLFNBQVgsQ0FBcUIvbkIsbUJBQXJCLENBQ3BCLEtBQUswbkIsY0FBTCxDQUFvQjVpQixJQUFwQixDQUF5QixJQUF6QixDQURvQixDQUF0QjtBQUdEOztBQUVERSxzQkFBb0IsR0FBRztBQUNyQixRQUFJLEtBQUs4aUIsY0FBVCxFQUF5QjtBQUN2QixXQUFLcGpCLEtBQUwsQ0FBV3FqQixTQUFYLENBQXFCeG9CLGtCQUFyQixDQUF3QyxLQUFLdW9CLGNBQTdDO0FBQ0Q7QUFDRjs7QUFFRGxpQixRQUFNLEdBQUc7QUFDUCxRQUFJb2lCLFVBQVUsR0FBSTtBQUN0QixRQUFRLEtBQUt0akIsS0FBTCxDQUFXdWpCLGVBQVgsR0FBOEIsSUFBRyxLQUFLdmpCLEtBQUwsQ0FBV3VqQixlQUFnQixFQUE1RCxHQUFpRSxFQUFFO0FBQzNFLFFBQVEsS0FBS3RqQixLQUFMLElBQWMsS0FBS0EsS0FBTCxDQUFXOGlCLGFBQXpCLEdBQTBDLGlCQUExQyxHQUE4RCxFQUFFO0FBQ3hFLFFBQVEsS0FBSzlpQixLQUFMLElBQWMsS0FBS0EsS0FBTCxDQUFXNGlCLFFBQXpCLEdBQXFDLFNBQXJDLEdBQWlELEVBQUU7QUFDM0QsS0FKSTtBQU1BLFFBQUlXLEdBQUo7O0FBRUEsUUFBSSxLQUFLdmpCLEtBQVQsRUFBZ0I7QUFDZCxVQUNFLEtBQUtELEtBQUwsQ0FBV3lqQixRQUFYLElBQ0EsS0FBS3pqQixLQUFMLENBQVcwakIsU0FEWCxJQUVBLENBQUMsS0FBS3pqQixLQUFMLENBQVc2aUIsb0JBSGQsRUFJRTtBQUNBLFlBQUlhLFVBQVUsR0FBRyxLQUFLM2pCLEtBQUwsQ0FBVzBqQixTQUE1QjtBQUVBLFlBQUlFLFNBQVMsR0FBRyxFQUFoQjtBQUNBLFlBQUlDLFdBQVcsR0FBRyxFQUFsQjs7QUFFQSxhQUFLLElBQUloRixJQUFULElBQWlCLEtBQUs3ZSxLQUFMLENBQVc4akIsS0FBNUIsRUFBbUM7QUFDakMsY0FBSTtBQUFFQyx3QkFBRjtBQUFnQjNiLGlCQUFoQjtBQUF1QjhhO0FBQXZCLGNBQWtDckUsSUFBdEM7QUFDQSxjQUFJbUYsUUFBUSxHQUFJLEdBQUVELFlBQWEsSUFBRzNiLEtBQU0sSUFBeEM7QUFDQXdiLG1CQUFTLENBQUM3UixJQUFWLENBQWVpUyxRQUFmO0FBQ0EsY0FBSUMsVUFBVSxHQUFJLEdBQUUsS0FBS2hCLGdCQUFMLENBQ2xCVSxVQURrQixFQUVsQnZiLEtBRmtCLEVBR2xCOGEsTUFIa0IsQ0FJbEIsSUFBRzlhLEtBQU0sR0FKWDtBQUtBLGNBQUk4YixZQUFZLEdBQUksR0FBRSxLQUFLakIsZ0JBQUwsQ0FDcEJVLFVBRG9CLEVBRXBCdmIsS0FBSyxHQUFHLENBRlksRUFHcEI4YSxNQUFNLEdBQUcsQ0FIVyxDQUlwQixJQUFHOWEsS0FBSyxHQUFHLENBQUUsR0FKZjtBQUtBeWIscUJBQVcsQ0FBQzlSLElBQVosQ0FBaUJrUyxVQUFqQjtBQUNBSixxQkFBVyxDQUFDOVIsSUFBWixDQUFpQm1TLFlBQWpCO0FBQ0Q7O0FBRUQsWUFBSSxLQUFLbGtCLEtBQUwsQ0FBVzhqQixLQUFYLENBQWlCemdCLE1BQXJCLEVBQTZCO0FBQzNCO0FBQ0E7QUFDQXVnQixtQkFBUyxDQUFDN1IsSUFBVixDQUNHLEdBQUUsS0FBSy9SLEtBQUwsQ0FBVzhqQixLQUFYLENBQWlCLEtBQUs5akIsS0FBTCxDQUFXOGpCLEtBQVgsQ0FBaUJ6Z0IsTUFBakIsR0FBMEIsQ0FBM0MsRUFBOEMrRSxLQUFNLElBRHpEO0FBR0Q7O0FBRURvYixXQUFHLGdCQUNEO0FBQ0UsaUJBQU8sRUFBQyxNQURWO0FBRUUsYUFBRyxFQUFFLEtBQUt4akIsS0FBTCxDQUFXbWtCLFFBRmxCO0FBR0UscUJBQVcsRUFBQyxXQUhkO0FBSUUsZ0JBQU0sRUFBRSxLQUFLdkIsTUFKZjtBQUtFLGlCQUFPLEVBQUUsS0FBS0YscUJBTGhCO0FBTUUsZUFBSyxFQUFFa0IsU0FBUyxDQUFDN2lCLElBQVYsQ0FBZSxHQUFmLENBTlQ7QUFPRSxhQUFHLEVBQUU0aUIsVUFQUDtBQVFFLGdCQUFNLEVBQUVFLFdBQVcsQ0FBQzlpQixJQUFaLENBQWlCLEdBQWpCO0FBUlYsVUFERjtBQVlELE9BaERELE1BZ0RPLElBQUksQ0FBQyxLQUFLZCxLQUFMLENBQVdta0IsdUJBQWhCLEVBQXlDO0FBQzlDWixXQUFHLGdCQUNEO0FBQ0UsaUJBQU8sRUFBQyxNQURWO0FBRUUsYUFBRyxFQUFFLEtBQUt4akIsS0FBTCxDQUFXbWtCLFFBRmxCO0FBR0UscUJBQVcsRUFBQyxXQUhkO0FBSUUsZ0JBQU0sRUFBRSxLQUFLdkIsTUFKZjtBQUtFLGlCQUFPLEVBQUUsS0FBS0Qsd0JBTGhCO0FBTUUsYUFBRyxFQUFFLEtBQUszaUIsS0FBTCxDQUFXdEI7QUFObEIsVUFERjtBQVVELE9BWE0sTUFXQTtBQUNMO0FBQ0E4a0IsV0FBRyxnQkFBRztBQUFLLG1CQUFTLEVBQUM7QUFBZixVQUFOO0FBQ0Q7QUFDRjs7QUFFRCx3QkFBTztBQUFTLGVBQVMsRUFBRUY7QUFBcEIsT0FBaUNFLEdBQWpDLENBQVA7QUFDRDs7QUFFRGQsdUJBQXFCLEdBQUc7QUFDdEI7QUFDQSxTQUFLcmlCLFFBQUwsQ0FBYztBQUNaeWlCLDBCQUFvQixFQUFFO0FBRFYsS0FBZDtBQUdEOztBQUVESCwwQkFBd0IsR0FBRztBQUN6QixTQUFLdGlCLFFBQUwsQ0FBYztBQUNaK2pCLDZCQUF1QixFQUFFO0FBRGIsS0FBZDtBQUdEOztBQUVEeEIsUUFBTSxHQUFHO0FBQ1AsU0FBS3ZpQixRQUFMLENBQWM7QUFDWndpQixjQUFRLEVBQUU7QUFERSxLQUFkO0FBR0Q7O0FBM0k4QztBQThJakRKLE9BQU8sQ0FBQzdHLFlBQVIsR0FBdUI7QUFDckJsZCxRQUFNLEVBQUUsSUFEYTtBQUNQO0FBQ2RnbEIsV0FBUyxFQUFFLElBRlU7QUFFSjtBQUNqQkgsaUJBQWUsRUFBRSxJQUhJO0FBR0U7QUFDdkJFLFVBQVEsRUFBRSxJQUpXO0FBSUw7QUFDaEJVLFVBQVEsRUFBRSxJQUxXO0FBTXJCZCxXQUFTLEVBQUU1SSxNQU5VO0FBTUY7QUFDbkJxSixPQUFLLEVBQUU7QUFQYyxDQUF2QixDOzs7Ozs7O0FDcEpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQU1PLHlCQUF5QixHQUFHLENBQ2hDLGlCQURnQyxFQUVoQyxhQUZnQyxFQUdoQyxXQUhnQyxFQUloQyxpQkFKZ0MsRUFLaEMscUJBTGdDLEVBTWhDLFdBTmdDLEVBT2hDLFVBUGdDLENBQWxDO0FBVU8sTUFBTUMsU0FBTixTQUF3QnprQiw0Q0FBSyxDQUFDQyxhQUE5QixDQUE0QztBQUNqRHlrQixZQUFVLEdBQUc7QUFDWCxVQUFNO0FBQUV2a0I7QUFBRixRQUFZLElBQWxCO0FBQ0EsVUFBTTtBQUNKd2tCLFVBREk7QUFFSjFXLFdBRkk7QUFHSnBQLFlBSEk7QUFJSitsQiw4QkFKSTtBQUtKQyxjQUxJO0FBTUpDO0FBTkksUUFPRjNrQixLQVBKLENBRlcsQ0FXWDs7QUFDQSxVQUFNNGtCLFdBQVcsR0FDZkosSUFBSSxDQUFDSyxTQUFMLElBQWtCLENBQUNMLElBQUksQ0FBQ00sYUFBeEIsSUFBeUMsQ0FBQ04sSUFBSSxDQUFDTyxrQkFBL0MsR0FDSVYseUJBREosR0FFSXJrQixLQUFLLENBQUMzRCxPQUhaO0FBS0EsVUFBTUEsT0FBTyxHQUFHdW9CLFdBQVcsQ0FDeEI3YixHQURhLENBQ1RwTSxDQUFDLElBQ0pxb0IsaUZBQWUsQ0FBQ3JvQixDQUFELENBQWYsQ0FDRTZuQixJQURGLEVBRUUxVyxLQUZGLEVBR0VwUCxNQUhGLEVBSUUrbEIsd0JBSkYsRUFLRUMsUUFMRixFQU1FQyxRQU5GLENBRlksRUFXYjViLEdBWGEsQ0FXVGtjLE1BQU0sSUFBSTtBQUNiLFlBQU07QUFBRTdvQixjQUFGO0FBQVU4b0Isa0JBQVY7QUFBc0JoaUIsVUFBdEI7QUFBMEJqSSxZQUExQjtBQUFnQ2txQjtBQUFoQyxVQUE4Q0YsTUFBcEQ7O0FBQ0EsVUFBSSxDQUFDaHFCLElBQUQsSUFBU2lJLEVBQWIsRUFBaUI7QUFDZitoQixjQUFNLENBQUMvbEIsT0FBUCxHQUFpQixDQUFDcUQsS0FBSyxHQUFHLEVBQVQsS0FBZ0I7QUFDL0IsZ0JBQU07QUFBRTZpQixtQkFBRjtBQUFXQyxtQkFBWDtBQUFvQkMsb0JBQXBCO0FBQThCQztBQUE5QixjQUF5Q2hqQixLQUEvQyxDQUQrQixDQUUvQjs7QUFDQSxjQUFJNmlCLE9BQU8sSUFBSUMsT0FBWCxJQUFzQkMsUUFBdEIsSUFBa0NDLE1BQU0sS0FBSyxDQUFqRCxFQUFvRDtBQUNsRG5wQixrQkFBTSxDQUFDc0IsSUFBUCxHQUFjd0wsTUFBTSxDQUFDc2MsTUFBUCxDQUNaO0FBQ0VqakIsbUJBQUssRUFBRTtBQUFFNmlCLHVCQUFGO0FBQVdDLHVCQUFYO0FBQW9CQyx3QkFBcEI7QUFBOEJDO0FBQTlCO0FBRFQsYUFEWSxFQUlabnBCLE1BQU0sQ0FBQ3NCLElBSkssQ0FBZDtBQU1EOztBQUNEc0MsZUFBSyxDQUFDbEYsUUFBTixDQUFlc0IsTUFBZjs7QUFDQSxjQUFJK29CLFNBQUosRUFBZTtBQUNiLGtCQUFNTSxhQUFhLEdBQUd2YyxNQUFNLENBQUNzYyxNQUFQLENBQ3BCO0FBQ0VqakIsbUJBQUssRUFBRTRpQixTQURUO0FBRUV6bUIsb0JBRkY7QUFHRWduQiw2QkFBZSxFQUFFNVg7QUFIbkIsYUFEb0IsRUFNcEI0VyxRQU5vQixDQUF0QjtBQVFBMWtCLGlCQUFLLENBQUNsRixRQUFOLENBQWVDLGlFQUFFLENBQUMwQyxTQUFILENBQWFnb0IsYUFBYixDQUFmO0FBQ0Q7O0FBQ0QsY0FBSVAsVUFBVSxJQUFJbGxCLEtBQUssQ0FBQzJsQix5QkFBeEIsRUFBbUQ7QUFDakQzbEIsaUJBQUssQ0FBQ2xGLFFBQU4sQ0FBZW9xQixVQUFmO0FBQ0Q7QUFDRixTQTFCRDtBQTJCRDs7QUFDRCxhQUFPRCxNQUFQO0FBQ0QsS0EzQ2EsQ0FBaEIsQ0FqQlcsQ0E4RFg7QUFDQTtBQUNBOztBQUNBNW9CLFdBQU8sQ0FBQyxDQUFELENBQVAsQ0FBV3VwQixLQUFYLEdBQW1CLElBQW5CO0FBQ0F2cEIsV0FBTyxDQUFDQSxPQUFPLENBQUNnSCxNQUFSLEdBQWlCLENBQWxCLENBQVAsQ0FBNEJ3aUIsSUFBNUIsR0FBbUMsSUFBbkM7QUFDQSxXQUFPeHBCLE9BQVA7QUFDRDs7QUFFRDZFLFFBQU0sR0FBRztBQUNQLHdCQUNFLDJEQUFDLDBGQUFEO0FBQ0UsY0FBUSxFQUFFLEtBQUtsQixLQUFMLENBQVc4bEIsUUFEdkI7QUFFRSxZQUFNLEVBQUUsS0FBSzlsQixLQUFMLENBQVcrbEIsTUFGckI7QUFHRSxhQUFPLEVBQUUsS0FBS3hCLFVBQUwsRUFIWDtBQUlFLG9CQUFjLEVBQUUsS0FBS3ZrQixLQUFMLENBQVdnbUI7QUFKN0IsTUFERjtBQVFEOztBQWhGZ0Q7O0FBbUZuRCxNQUFNQyxRQUFRLEdBQUdobUIsS0FBSyxLQUFLO0FBQ3pCd2tCLDBCQUF3QixFQUFFeGtCLEtBQUssQ0FBQ29CLEtBQU4sQ0FBWUMsTUFBWixDQUFtQm1qQix3QkFEcEI7QUFFekJFLFVBQVEsRUFBRTFrQixLQUFLLENBQUNvQixLQUFOLENBQVlDLE1BQVosQ0FBbUJxakI7QUFGSixDQUFMLENBQXRCOztBQUlPLE1BQU11QixRQUFRLEdBQUdyaEIsMkRBQU8sQ0FBQ29oQixRQUFELENBQVAsQ0FBa0IzQixTQUFsQixDQUFqQixDOzs7Ozs7O0FDM0dQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRU8sTUFBTTZCLFdBQU4sU0FBMEJ0bUIsNENBQUssQ0FBQ0MsYUFBaEMsQ0FBOEM7QUFDbkRDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLb21CLFdBQUwsR0FBbUIsS0FBS0EsV0FBTCxDQUFpQmhtQixJQUFqQixDQUFzQixJQUF0QixDQUFuQjtBQUNBLFNBQUsybEIsTUFBTCxHQUFjLEtBQUtBLE1BQUwsQ0FBWTNsQixJQUFaLENBQWlCLElBQWpCLENBQWQ7QUFDQSxTQUFLbEIsT0FBTCxHQUFlLEtBQUtBLE9BQUwsQ0FBYWtCLElBQWIsQ0FBa0IsSUFBbEIsQ0FBZjtBQUNEOztBQUVEZ21CLGFBQVcsR0FBRztBQUNaLFNBQUtwbUIsS0FBTCxDQUFXOGxCLFFBQVgsQ0FBb0IsS0FBcEI7QUFDRDs7QUFFREMsUUFBTSxHQUFHO0FBQ1AsUUFBSSxLQUFLL2xCLEtBQUwsQ0FBVytsQixNQUFmLEVBQXVCO0FBQ3JCLFdBQUsvbEIsS0FBTCxDQUFXK2xCLE1BQVg7QUFDRDtBQUNGOztBQUVEOWpCLG1CQUFpQixHQUFHO0FBQ2xCLFNBQUs4akIsTUFBTDtBQUNBcm1CLGNBQVUsQ0FBQyxNQUFNO0FBQ2ZzQixZQUFNLENBQUN6RixnQkFBUCxDQUF3QixPQUF4QixFQUFpQyxLQUFLNnFCLFdBQXRDO0FBQ0QsS0FGUyxFQUVQLENBRk8sQ0FBVjtBQUdEOztBQUVEOWxCLHNCQUFvQixHQUFHO0FBQ3JCVSxVQUFNLENBQUNrQixtQkFBUCxDQUEyQixPQUEzQixFQUFvQyxLQUFLa2tCLFdBQXpDO0FBQ0Q7O0FBRURsbkIsU0FBTyxDQUFDcUQsS0FBRCxFQUFRO0FBQ2I7QUFDQTtBQUNBO0FBQ0FBLFNBQUssQ0FBQzhqQixlQUFOO0FBQ0Q7O0FBRURubEIsUUFBTSxHQUFHO0FBQ1A7QUFDQTtBQUFBO0FBQ0U7QUFDQTtBQUFNLGlCQUFTLEVBQUM7QUFBaEIsc0JBQ0U7QUFDRSxZQUFJLEVBQUMsTUFEUDtBQUVFLGVBQU8sRUFBRSxLQUFLaEMsT0FGaEI7QUFHRSxpQkFBUyxFQUFFLEtBQUtBLE9BSGxCO0FBSUUsaUJBQVMsRUFBQztBQUpaLFNBTUcsS0FBS2MsS0FBTCxDQUFXM0QsT0FBWCxDQUFtQjBNLEdBQW5CLENBQXVCLENBQUNrYyxNQUFELEVBQVNsUyxDQUFULEtBQ3RCa1MsTUFBTSxDQUFDaHFCLElBQVAsS0FBZ0IsV0FBaEIsZ0JBQ0U7QUFBSSxXQUFHLEVBQUU4WCxDQUFUO0FBQVksaUJBQVMsRUFBQyxXQUF0QjtBQUFrQyxZQUFJLEVBQUM7QUFBdkMsUUFERixHQUdFa1MsTUFBTSxDQUFDaHFCLElBQVAsS0FBZ0IsT0FBaEIsaUJBQ0UsMkRBQUMsZUFBRDtBQUNFLFdBQUcsRUFBRThYLENBRFA7QUFFRSxjQUFNLEVBQUVrUyxNQUZWO0FBR0UsbUJBQVcsRUFBRSxLQUFLbUIsV0FIcEI7QUFJRSxzQkFBYyxFQUFFLEtBQUtwbUIsS0FBTCxDQUFXZ21CO0FBSjdCLFFBTEwsQ0FOSCxDQURGO0FBRkY7QUEwQkQ7O0FBaEVrRDtBQW1FOUMsTUFBTU0sZ0JBQU4sU0FBK0J6bUIsNENBQUssQ0FBQ0MsYUFBckMsQ0FBbUQ7QUFDeERDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLZCxPQUFMLEdBQWUsS0FBS0EsT0FBTCxDQUFha0IsSUFBYixDQUFrQixJQUFsQixDQUFmO0FBQ0EsU0FBS21tQixTQUFMLEdBQWlCLEtBQUtBLFNBQUwsQ0FBZW5tQixJQUFmLENBQW9CLElBQXBCLENBQWpCO0FBQ0EsU0FBS29tQixPQUFMLEdBQWUsS0FBS0EsT0FBTCxDQUFhcG1CLElBQWIsQ0FBa0IsSUFBbEIsQ0FBZjtBQUNBLFNBQUtxbUIsVUFBTCxHQUFrQixLQUFLQSxVQUFMLENBQWdCcm1CLElBQWhCLENBQXFCLElBQXJCLENBQWxCO0FBQ0Q7O0FBRURsQixTQUFPLENBQUNxRCxLQUFELEVBQVE7QUFDYixTQUFLdkMsS0FBTCxDQUFXb21CLFdBQVg7QUFDQSxTQUFLcG1CLEtBQUwsQ0FBV2lsQixNQUFYLENBQWtCL2xCLE9BQWxCLENBQTBCcUQsS0FBMUI7QUFDRCxHQVp1RCxDQWN4RDs7O0FBQ0Fra0IsWUFBVSxDQUFDbEIsTUFBRCxFQUFTO0FBQ2pCLFFBQUksS0FBS3ZsQixLQUFMLENBQVdnbUIsY0FBWCxJQUE2QlQsTUFBakMsRUFBeUM7QUFDdkNBLFlBQU0sQ0FBQ21CLEtBQVA7QUFDRDtBQUNGLEdBbkJ1RCxDQXFCeEQ7OztBQUNBQyxjQUFZLENBQUN4cEIsTUFBRCxFQUFTc0YsR0FBVCxFQUFjO0FBQ3hCLFVBQU1ta0IsTUFBTSxHQUFHenBCLE1BQU0sQ0FBQzBwQixVQUF0QjtBQUNBLFVBQU1DLHNCQUFzQixHQUMxQnJrQixHQUFHLEtBQUssU0FBUixHQUFvQixpQkFBcEIsR0FBd0MsYUFEMUM7O0FBRUEsUUFBSSxDQUFDbWtCLE1BQU0sQ0FBQ0Usc0JBQUQsQ0FBWCxFQUFxQztBQUNuQztBQUNEOztBQUNELFFBQUlGLE1BQU0sQ0FBQ0Usc0JBQUQsQ0FBTixDQUErQkMsaUJBQW5DLEVBQXNEO0FBQ3BESCxZQUFNLENBQUNFLHNCQUFELENBQU4sQ0FBK0JDLGlCQUEvQixDQUFpREwsS0FBakQ7QUFDRCxLQUZELE1BRU87QUFDTEUsWUFBTSxDQUFDRSxzQkFBRCxDQUFOLENBQ0VBLHNCQURGLEVBRUVDLGlCQUZGLENBRW9CTCxLQUZwQjtBQUdEO0FBQ0Y7O0FBRURILFdBQVMsQ0FBQ2hrQixLQUFELEVBQVE7QUFDZixVQUFNO0FBQUUwaUI7QUFBRixRQUFhLEtBQUtqbEIsS0FBeEI7O0FBQ0EsWUFBUXVDLEtBQUssQ0FBQ0UsR0FBZDtBQUNFLFdBQUssS0FBTDtBQUNFO0FBQ0E7QUFDQTtBQUNBLFlBQ0dGLEtBQUssQ0FBQytpQixRQUFOLElBQWtCTCxNQUFNLENBQUNXLEtBQTFCLElBQ0MsQ0FBQ3JqQixLQUFLLENBQUMraUIsUUFBUCxJQUFtQkwsTUFBTSxDQUFDWSxJQUY3QixFQUdFO0FBQ0EsZUFBSzdsQixLQUFMLENBQVdvbUIsV0FBWDtBQUNEOztBQUNEOztBQUNGLFdBQUssU0FBTDtBQUNBLFdBQUssV0FBTDtBQUNFN2pCLGFBQUssQ0FBQzJOLGNBQU47QUFDQSxhQUFLeVcsWUFBTCxDQUFrQnBrQixLQUFLLENBQUNwRixNQUF4QixFQUFnQ29GLEtBQUssQ0FBQ0UsR0FBdEM7QUFDQTs7QUFDRixXQUFLLE9BQUw7QUFDQSxXQUFLLEdBQUw7QUFDRUYsYUFBSyxDQUFDMk4sY0FBTjtBQUNBLGFBQUtsUSxLQUFMLENBQVdvbUIsV0FBWDtBQUNBbkIsY0FBTSxDQUFDL2xCLE9BQVA7QUFDQTs7QUFDRixXQUFLLFFBQUw7QUFDRSxhQUFLYyxLQUFMLENBQVdvbUIsV0FBWDtBQUNBO0FBekJKO0FBMkJELEdBbkV1RCxDQXFFeEQ7QUFDQTs7O0FBQ0FJLFNBQU8sQ0FBQ2prQixLQUFELEVBQVE7QUFDYixRQUFJQSxLQUFLLENBQUNFLEdBQU4sS0FBYyxHQUFsQixFQUF1QjtBQUNyQkYsV0FBSyxDQUFDMk4sY0FBTjtBQUNEO0FBQ0Y7O0FBRURoUCxRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUUrakI7QUFBRixRQUFhLEtBQUtqbEIsS0FBeEI7QUFDQSx3QkFDRTtBQUFJLFVBQUksRUFBQyxjQUFUO0FBQXdCLGVBQVMsRUFBQztBQUFsQyxvQkFDRTtBQUNFLGVBQVMsRUFBRWlsQixNQUFNLENBQUMxZSxRQUFQLEdBQWtCLFVBQWxCLEdBQStCLEVBRDVDO0FBRUUsVUFBSSxFQUFDLFVBRlA7QUFHRSxhQUFPLEVBQUUsS0FBS3JILE9BSGhCO0FBSUUsZUFBUyxFQUFFLEtBQUtxbkIsU0FKbEI7QUFLRSxhQUFPLEVBQUUsS0FBS0MsT0FMaEI7QUFNRSxTQUFHLEVBQUV2QixNQUFNLENBQUNXLEtBQVAsR0FBZSxLQUFLYSxVQUFwQixHQUFpQztBQU54QyxvQkFRRTtBQUFNLHNCQUFjeEIsTUFBTSxDQUFDK0IsU0FBUCxJQUFvQi9CLE1BQU0sQ0FBQy9oQjtBQUEvQyxNQVJGLENBREYsQ0FERjtBQWNEOztBQTdGdUQ7QUFnR25ELE1BQU0rakIsZUFBZSxHQUFHcGlCLDJEQUFPLENBQUM1RSxLQUFLLEtBQUs7QUFDL0NvQixPQUFLLEVBQUVwQixLQUFLLENBQUNvQjtBQURrQyxDQUFMLENBQU4sQ0FBUCxDQUUzQmlsQixnQkFGMkIsQ0FBeEIsQzs7Ozs7Ozs7QUMxS1A7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7O0FBRUEsTUFBTVksb0JBQW9CLEdBQUcxQyxJQUFJLEtBQUs7QUFDcEN0aEIsSUFBRSxFQUFFLHFDQURnQztBQUVwQy9ELE1BQUksRUFBRSxvQkFGOEI7QUFHcEMvQyxRQUFNLEVBQUVyQixpRUFBRSxDQUFDaUMsVUFBSCxDQUFjO0FBQ3BCL0IsUUFBSSxFQUFFQyw4REFBRSxDQUFDaXNCLG1CQURXO0FBRXBCenBCLFFBQUksRUFBRTtBQUFFa0wsU0FBRyxFQUFFNGIsSUFBSSxDQUFDNWIsR0FBWjtBQUFpQndlLGNBQVEsRUFBRTVDLElBQUksQ0FBQzRDO0FBQWhDO0FBRmMsR0FBZCxDQUg0QjtBQU9wQ2pDLFdBQVMsRUFBRTtBQVB5QixDQUFMLENBQWpDO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ08sTUFBTUgsZUFBZSxHQUFHO0FBQzdCcUMsV0FBUyxFQUFFLE9BQU87QUFBRXBzQixRQUFJLEVBQUU7QUFBUixHQUFQLENBRGtCO0FBRTdCcXNCLFdBQVMsRUFBRSxPQUFPO0FBQUVyc0IsUUFBSSxFQUFFO0FBQVIsR0FBUCxDQUZrQjtBQUc3QnNzQixpQkFBZSxFQUFFL0MsSUFBSSxLQUFLO0FBQ3hCdGhCLE1BQUUsRUFBRSwrQkFEb0I7QUFFeEIvRCxRQUFJLEVBQUUsTUFGa0I7QUFHeEIvQyxVQUFNLEVBQUU7QUFDTm5CLFVBQUksRUFBRUMsOERBQUUsQ0FBQ3NzQjtBQURILEtBSGdCO0FBTXhCckMsYUFBUyxFQUFFO0FBTmEsR0FBTCxDQUhRO0FBVzdCc0MsZ0JBQWMsRUFBRWpELElBQUksS0FBSztBQUN2QnRoQixNQUFFLEVBQUUsK0JBRG1CO0FBRXZCL0QsUUFBSSxFQUFFLE1BRmlCO0FBR3ZCL0MsVUFBTSxFQUFFckIsaUVBQUUsQ0FBQ0MsVUFBSCxDQUFjO0FBQ3BCQyxVQUFJLEVBQUVDLDhEQUFFLENBQUN3c0I7QUFEVyxLQUFkLENBSGU7QUFNdkJ2QyxhQUFTLEVBQUU7QUFOWSxHQUFMLENBWFM7QUFtQjdCd0MsZ0JBQWMsRUFBRW5ELElBQUksS0FBSztBQUN2QnRoQixNQUFFLEVBQUUsNkJBRG1CO0FBRXZCL0QsUUFBSSxFQUFFLGdCQUZpQjtBQUd2Qi9DLFVBQU0sRUFBRXJCLGlFQUFFLENBQUNDLFVBQUgsQ0FBYztBQUNwQkMsVUFBSSxFQUFFQyw4REFBRSxDQUFDMHNCLHFCQURXO0FBRXBCbHFCLFVBQUksRUFBRThtQixJQUFJLENBQUNxRDtBQUZTLEtBQWQsQ0FIZTtBQU92QjFDLGFBQVMsRUFBRTtBQVBZLEdBQUwsQ0FuQlM7QUE0QjdCMkMsYUFBVyxFQUFFdEQsSUFBSSxLQUFLO0FBQ3BCdGhCLE1BQUUsRUFBRSxzQkFEZ0I7QUFFcEIvRCxRQUFJLEVBQUUsaUJBRmM7QUFHcEIvQyxVQUFNLEVBQUVyQixpRUFBRSxDQUFDQyxVQUFILENBQWM7QUFDcEJDLFVBQUksRUFBRUMsOERBQUUsQ0FBQzZzQixZQURXO0FBRXBCcnFCLFVBQUksRUFBRTtBQUFFa0wsV0FBRyxFQUFFNGIsSUFBSSxDQUFDNWIsR0FBWjtBQUFpQjJXLGFBQUssRUFBRWlGLElBQUksQ0FBQ2pGLEtBQTdCO0FBQW9DdGtCLFlBQUksRUFBRXVwQixJQUFJLENBQUN2cEI7QUFBL0M7QUFGYyxLQUFkLENBSFk7QUFPcEJrcUIsYUFBUyxFQUFFO0FBUFMsR0FBTCxDQTVCWTtBQXFDN0I2QyxpQkFBZSxFQUFFeEQsSUFBSSxLQUFLO0FBQ3hCdGhCLE1BQUUsRUFBRSw2QkFEb0I7QUFFeEIvRCxRQUFJLEVBQUUsWUFGa0I7QUFHeEIvQyxVQUFNLEVBQUVyQixpRUFBRSxDQUFDQyxVQUFILENBQWM7QUFDcEJDLFVBQUksRUFBRUMsOERBQUUsQ0FBQytzQixlQURXO0FBRXBCdnFCLFVBQUksRUFBRTtBQUNKMHBCLGdCQUFRLEVBQUU1QyxJQUFJLENBQUM0QyxRQURYO0FBRUpjLGtCQUFVLEVBQUUxRCxJQUFJLENBQUMwRCxVQUZiO0FBR0p0ZixXQUFHLEVBQUU0YixJQUFJLENBQUM1YjtBQUhOO0FBRmMsS0FBZCxDQUhnQjtBQVd4QnVjLGFBQVMsRUFBRTtBQVhhLEdBQUwsQ0FyQ1E7QUFrRDdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0FnRCxVQUFRLEVBQUUsQ0FBQzNELElBQUQsRUFBTzFXLEtBQVAsRUFBY3FQLFdBQWQsS0FBOEI7QUFDdEMsV0FBTzZILGVBQWUsQ0FBQ29ELFNBQWhCLENBQTBCLENBQUM1RCxJQUFELENBQTFCLEVBQWtDMVcsS0FBbEMsRUFBeUNxUCxXQUF6QyxDQUFQO0FBQ0QsR0F4RDRCO0FBeUQ3QjtBQUNBaUwsV0FBUyxFQUFFLENBQUNDLEtBQUQsRUFBUUMsR0FBUixFQUFhbkwsV0FBYixNQUE4QjtBQUN2Q2phLE1BQUUsRUFBRSxxQkFEbUM7QUFFdkMvRCxRQUFJLEVBQUUsU0FGaUM7QUFHdkMvQyxVQUFNLEVBQUVyQixpRUFBRSxDQUFDQyxVQUFILENBQWM7QUFDcEJDLFVBQUksRUFBRUMsOERBQUUsQ0FBQ3F0QixTQURXO0FBRXBCN3FCLFVBQUksRUFBRTJxQixLQUFLLENBQUN0ZixHQUFOLENBQVV5YixJQUFJLEtBQUs7QUFDdkI1YixXQUFHLEVBQUU0YixJQUFJLENBQUNnRSxZQUFMLElBQXFCaEUsSUFBSSxDQUFDaUUsUUFBMUIsSUFBc0NqRSxJQUFJLENBQUM1YixHQUR6QjtBQUV2QjtBQUNBOGYsaUJBQVMsRUFBRWxFLElBQUksQ0FBQ2tFLFNBSE87QUFJdkI7QUFDQUMsMEJBQWtCLEVBQUVuRSxJQUFJLENBQUNPLGtCQUxGO0FBTXZCLFlBQUlQLElBQUksQ0FBQ29FLFNBQUwsR0FBaUI7QUFBRUEsbUJBQVMsRUFBRXBFLElBQUksQ0FBQ29FO0FBQWxCLFNBQWpCLEdBQWlELEVBQXJEO0FBTnVCLE9BQUwsQ0FBZDtBQUZjLEtBQWQsQ0FIK0I7QUFjdkMxRCxjQUFVLEVBQUVucUIsaUVBQUUsQ0FBQytDLGVBQUgsQ0FBbUI7QUFDN0JZLFlBQU0sRUFBRXllLFdBRHFCO0FBRTdCMEwsV0FBSyxFQUFFLENBRnNCO0FBRzdCUixXQUFLLEVBQUVBLEtBQUssQ0FBQ3RmLEdBQU4sQ0FBVSxDQUFDeWIsSUFBRCxFQUFPMVcsS0FBUCxNQUFrQjtBQUNqQzVLLFVBQUUsRUFBRXNoQixJQUFJLENBQUNzRSxJQUR3QjtBQUVqQ1IsV0FBRyxFQUFFQSxHQUFHLEdBQUd4YSxLQUZzQjtBQUdqQyxZQUFJMFcsSUFBSSxDQUFDdUUsSUFBTCxJQUFhdkUsSUFBSSxDQUFDdUUsSUFBTCxDQUFVQyxNQUF2QixHQUFnQztBQUFFRCxjQUFJLEVBQUV2RSxJQUFJLENBQUN1RSxJQUFMLENBQVVDO0FBQWxCLFNBQWhDLEdBQTZELEVBQWpFO0FBSGlDLE9BQWxCLENBQVY7QUFIc0IsS0FBbkIsQ0FkMkI7QUF1QnZDN0QsYUFBUyxFQUFFO0FBdkI0QixHQUE5QixDQTFEa0I7QUFvRjdCO0FBQ0E7QUFDQThELGVBQWEsRUFBRSxDQUFDekUsSUFBRCxFQUFPMVcsS0FBUCxFQUFjcVAsV0FBZCxNQUErQjtBQUM1Q2phLE1BQUUsRUFBRSw0QkFEd0M7QUFFNUM4akIsYUFBUyxFQUFFLHFCQUZpQztBQUc1QzduQixRQUFJLEVBQUUsU0FIc0M7QUFJNUMvQyxVQUFNLEVBQUVyQixpRUFBRSxDQUFDMEQsV0FBSCxDQUFldkQsOERBQUUsQ0FBQ2d1QixjQUFsQixFQUFrQztBQUN4Q3hxQixZQUFNLEVBQUV5ZSxXQURnQztBQUV4Q3ZVLFNBQUcsRUFBRTRiLElBQUksQ0FBQzViLEdBRjhCO0FBR3hDOGMscUJBQWUsRUFBRTVYO0FBSHVCLEtBQWxDO0FBSm9DLEdBQS9CLENBdEZjO0FBZ0c3QnFiLFdBQVMsRUFBRSxDQUFDM0UsSUFBRCxFQUFPMVcsS0FBUCxFQUFjcVAsV0FBZCxFQUEyQmlNLFNBQTNCLEVBQXNDMUUsUUFBdEMsTUFBb0Q7QUFDN0R4aEIsTUFBRSxFQUFFLDRCQUR5RDtBQUU3RC9ELFFBQUksRUFBRSxRQUZ1RDtBQUc3RC9DLFVBQU0sRUFBRTtBQUNObkIsVUFBSSxFQUFFQyw4REFBRSxDQUFDbXVCLFdBREg7QUFFTjNyQixVQUFJLEVBQUU7QUFDSjBmLGlCQUFTLEVBQUUsQ0FDVHJpQixpRUFBRSxDQUFDQyxVQUFILENBQWM7QUFDWkMsY0FBSSxFQUFFQyw4REFBRSxDQUFDb3VCLGtCQURHO0FBRVo1ckIsY0FBSSxFQUFFO0FBQ0prTCxlQUFHLEVBQUU0YixJQUFJLENBQUM1YixHQUROO0FBRUo4ZixxQkFBUyxFQUFFbEUsSUFBSSxDQUFDa0UsU0FGWjtBQUdKYSxzQkFBVSxFQUFFL0UsSUFBSSxDQUFDcUQ7QUFIYjtBQUZNLFNBQWQsQ0FEUyxFQVNUOXNCLGlFQUFFLENBQUMwQyxTQUFILENBQ0V5TCxNQUFNLENBQUNzYyxNQUFQLENBQ0U7QUFBRWpqQixlQUFLLEVBQUUsUUFBVDtBQUFtQjdELGdCQUFNLEVBQUV5ZSxXQUEzQjtBQUF3Q3VJLHlCQUFlLEVBQUU1WDtBQUF6RCxTQURGLEVBRUU0VyxRQUZGLENBREYsQ0FUUyxDQURQO0FBaUJKdkgsbUJBakJJO0FBa0JKSSxzQkFBYyxFQUFFLENBQ2Qsa0NBRGMsRUFFZCxrQ0FGYyxDQWxCWjtBQXNCSkcsZ0NBQXdCLEVBQUUsdUNBdEJ0QjtBQXVCSkQsK0JBQXVCLEVBQUUsK0JBdkJyQjtBQXdCSnRlLFlBQUksRUFBRTtBQXhCRjtBQUZBLEtBSHFEO0FBZ0M3RGdtQixhQUFTLEVBQUU7QUFoQ2tELEdBQXBELENBaEdrQjtBQWtJN0JxRSxVQUFRLEVBQUVoRixJQUFJLEtBQUs7QUFDakJ0aEIsTUFBRSxFQUFFLHVCQURhO0FBRWpCL0QsUUFBSSxFQUFFLFFBRlc7QUFHakIvQyxVQUFNLEVBQUVyQixpRUFBRSxDQUFDaUMsVUFBSCxDQUFjO0FBQ3BCL0IsVUFBSSxFQUFFQyw4REFBRSxDQUFDdXVCLGtCQURXO0FBRXBCL3JCLFVBQUksRUFBRTtBQUFFa0wsV0FBRyxFQUFFNGIsSUFBSSxDQUFDNWI7QUFBWjtBQUZjLEtBQWQ7QUFIUyxHQUFMLENBbEllO0FBMEk3QjhnQixVQUFRLEVBQUVsRixJQUFJLEtBQUs7QUFDakJ0aEIsTUFBRSxFQUFFLHVCQURhO0FBRWpCL0QsUUFBSSxFQUFFLFdBRlc7QUFHakIvQyxVQUFNLEVBQUVyQixpRUFBRSxDQUFDaUMsVUFBSCxDQUFjO0FBQ3BCL0IsVUFBSSxFQUFFQyw4REFBRSxDQUFDeXVCLGtCQURXO0FBRXBCanNCLFVBQUksRUFBRTtBQUFFa0wsV0FBRyxFQUFFNGIsSUFBSSxDQUFDNWI7QUFBWjtBQUZjLEtBQWQ7QUFIUyxHQUFMLENBMUllO0FBa0o3QmdoQixrQkFBZ0IsRUFBRXBGLElBQUksS0FBSztBQUN6QnRoQixNQUFFLEVBQUUsZ0NBRHFCO0FBRXpCL0QsUUFBSSxFQUFFLE1BRm1CO0FBR3pCL0MsVUFBTSxFQUFFckIsaUVBQUUsQ0FBQ2lDLFVBQUgsQ0FBYztBQUNwQi9CLFVBQUksRUFBRUMsOERBQUUsQ0FBQzJ1QixrQkFEVztBQUVwQm5zQixVQUFJLEVBQUU7QUFBRWtMLFdBQUcsRUFBRTRiLElBQUksQ0FBQzViO0FBQVo7QUFGYyxLQUFkO0FBSGlCLEdBQUwsQ0FsSk87QUEwSjdCa2hCLGtCQUFnQixFQUFFdEYsSUFBSSxLQUFLO0FBQ3pCdGhCLE1BQUUsRUFBRSxpQ0FEcUI7QUFFekIvRCxRQUFJLEVBQUUsVUFGbUI7QUFHekIvQyxVQUFNLEVBQUVyQixpRUFBRSxDQUFDaUMsVUFBSCxDQUFjO0FBQ3BCL0IsVUFBSSxFQUFFQyw4REFBRSxDQUFDNnVCLFNBRFc7QUFFcEJyc0IsVUFBSSxFQUFFO0FBQUVrTCxXQUFHLEVBQUU0YixJQUFJLENBQUM0QztBQUFaO0FBRmMsS0FBZCxDQUhpQjtBQU96QjdnQixZQUFRLEVBQUUsQ0FBQ2llLElBQUksQ0FBQzRDO0FBUFMsR0FBTCxDQTFKTztBQW1LN0I0QyxnQkFBYyxFQUFFeEYsSUFBSSxLQUFLO0FBQ3ZCdGhCLE1BQUUsRUFBRSw2QkFEbUI7QUFFdkIvRCxRQUFJLEVBQUUsUUFGaUI7QUFHdkIvQyxVQUFNLEVBQUVyQixpRUFBRSxDQUFDaUMsVUFBSCxDQUFjO0FBQ3BCL0IsVUFBSSxFQUFFQyw4REFBRSxDQUFDK3VCLG9CQURXO0FBRXBCdnNCLFVBQUksRUFBRTtBQUFFa0wsV0FBRyxFQUFFNGIsSUFBSSxDQUFDNWI7QUFBWjtBQUZjLEtBQWQ7QUFIZSxHQUFMLENBbktTO0FBMks3QnNoQixZQUFVLEVBQUUsQ0FBQzFGLElBQUQsRUFBTzFXLEtBQVAsTUFBa0I7QUFDNUI1SyxNQUFFLEVBQUUsaUJBRHdCO0FBRTVCL0QsUUFBSSxFQUFFLEtBRnNCO0FBRzVCL0MsVUFBTSxFQUFFckIsaUVBQUUsQ0FBQ0MsVUFBSCxDQUFjO0FBQ3BCQyxVQUFJLEVBQUVDLDhEQUFFLENBQUNpdkIsYUFEVztBQUVwQnpzQixVQUFJLEVBQUU7QUFDSjhtQixZQURJO0FBRUoxVztBQUZJO0FBRmMsS0FBZCxDQUhvQjtBQVU1QnFYLGFBQVMsRUFBRTtBQVZpQixHQUFsQixDQTNLaUI7QUF1TDdCaUYsY0FBWSxFQUFFNUYsSUFBSSxLQUFLO0FBQ3JCdGhCLE1BQUUsRUFBRSxtQkFEaUI7QUFFckIvRCxRQUFJLEVBQUUsT0FGZTtBQUdyQi9DLFVBQU0sRUFBRXJCLGlFQUFFLENBQUNDLFVBQUgsQ0FBYztBQUNwQkMsVUFBSSxFQUFFQyw4REFBRSxDQUFDbXZCLGVBRFc7QUFFcEIzc0IsVUFBSSxFQUFFO0FBQUU4bUIsWUFBSSxFQUFFO0FBQUU1YixhQUFHLEVBQUU0YixJQUFJLENBQUM1YjtBQUFaO0FBQVI7QUFGYyxLQUFkLENBSGE7QUFPckJ1YyxhQUFTLEVBQUU7QUFQVSxHQUFMLENBdkxXO0FBZ003Qm1GLGNBQVksRUFBRSxDQUFDOUYsSUFBRCxFQUFPMVcsS0FBUCxFQUFjcVAsV0FBVyxHQUFHLFVBQTVCLE1BQTRDO0FBQ3hEamEsTUFBRSxFQUFFLDRCQURvRDtBQUV4RC9ELFFBQUksRUFBRSxhQUZrRDtBQUd4RC9DLFVBQU0sRUFBRXJCLGlFQUFFLENBQUNDLFVBQUgsQ0FBYztBQUNwQkMsVUFBSSxFQUFFQyw4REFBRSxDQUFDcXZCLGNBRFc7QUFFcEI3c0IsVUFBSSxFQUFFO0FBQUU4bUIsWUFBSSxFQUFFO0FBQUU1YixhQUFHLEVBQUU0YixJQUFJLENBQUM1YixHQUFaO0FBQWlCMlcsZUFBSyxFQUFFaUYsSUFBSSxDQUFDakY7QUFBN0I7QUFBUjtBQUZjLEtBQWQsQ0FIZ0Q7QUFPeEQyRixjQUFVLEVBQUVucUIsaUVBQUUsQ0FBQytDLGVBQUgsQ0FBbUI7QUFDN0JZLFlBQU0sRUFBRXllLFdBRHFCO0FBRTdCcU4sWUFBTSxFQUFFLENBRnFCO0FBRzdCbkMsV0FBSyxFQUFFLENBQ0w7QUFDRW5sQixVQUFFLEVBQUVzaEIsSUFBSSxDQUFDc0UsSUFEWDtBQUVFUixXQUFHLEVBQUV4YSxLQUZQO0FBR0UsWUFBSTBXLElBQUksQ0FBQ3VFLElBQUwsSUFBYXZFLElBQUksQ0FBQ3VFLElBQUwsQ0FBVTBCLElBQXZCLEdBQThCO0FBQUUxQixjQUFJLEVBQUV2RSxJQUFJLENBQUN1RSxJQUFMLENBQVUwQjtBQUFsQixTQUE5QixHQUF5RCxFQUE3RDtBQUhGLE9BREs7QUFIc0IsS0FBbkIsQ0FQNEM7QUFrQnhEdEYsYUFBUyxFQUFFO0FBbEI2QyxHQUE1QyxDQWhNZTtBQW9ON0J1RixrQkFBZ0IsRUFBRWxHLElBQUksS0FBSztBQUN6QnRoQixNQUFFLEVBQUUsMkJBRHFCO0FBRXpCL0QsUUFBSSxFQUFFLGVBRm1CO0FBR3pCL0MsVUFBTSxFQUFFckIsaUVBQUUsQ0FBQ0MsVUFBSCxDQUFjO0FBQ3BCQyxVQUFJLEVBQUVDLDhEQUFFLENBQUN5dkIsa0JBRFc7QUFFcEJqdEIsVUFBSSxFQUFFO0FBQUVnckIsaUJBQVMsRUFBRWxFLElBQUksQ0FBQ2tFO0FBQWxCO0FBRmMsS0FBZCxDQUhpQjtBQU96QnZELGFBQVMsRUFBRTtBQVBjLEdBQUwsQ0FwTk87QUE2TjdCeUYsbUJBQWlCLEVBQUVwRyxJQUFJLEtBQUs7QUFDMUJ0aEIsTUFBRSxFQUFFLDRCQURzQjtBQUUxQi9ELFFBQUksRUFBRSxnQkFGb0I7QUFHMUIvQyxVQUFNLEVBQUVyQixpRUFBRSxDQUFDQyxVQUFILENBQWM7QUFDcEJDLFVBQUksRUFBRUMsOERBQUUsQ0FBQzJ2QixtQkFEVztBQUVwQm50QixVQUFJLEVBQUU7QUFBRWdyQixpQkFBUyxFQUFFbEUsSUFBSSxDQUFDa0U7QUFBbEI7QUFGYyxLQUFkLENBSGtCO0FBTzFCdkQsYUFBUyxFQUFFO0FBUGUsR0FBTCxDQTdOTTtBQXNPN0IyRixhQUFXLEVBQUUsQ0FBQ3RHLElBQUQsRUFBTzFXLEtBQVAsTUFBa0I7QUFDN0I1SyxNQUFFLEVBQUUsMkJBRHlCO0FBRTdCL0QsUUFBSSxFQUFFLE1BRnVCO0FBRzdCL0MsVUFBTSxFQUFFO0FBQ05uQixVQUFJLEVBQUVDLDhEQUFFLENBQUM2dkIsY0FESDtBQUVOcnRCLFVBQUksRUFBRTtBQUFFb1E7QUFBRjtBQUZBO0FBSHFCLEdBQWxCLENBdE9nQjtBQThPN0JrZCxlQUFhLEVBQUV4RyxJQUFJLElBQ2pCQSxJQUFJLENBQUNxRCxZQUFMLEdBQ0k3QyxlQUFlLENBQUMyQyxjQUFoQixDQUErQm5ELElBQS9CLENBREosR0FFSVEsZUFBZSxDQUFDOEMsV0FBaEIsQ0FBNEJ0RCxJQUE1QixDQWpQdUI7QUFrUDdCeUcsaUJBQWUsRUFBRSxDQUFDekcsSUFBRCxFQUFPMVcsS0FBUCxLQUNmMFcsSUFBSSxDQUFDMEcsUUFBTCxHQUNJbEcsZUFBZSxDQUFDb0YsWUFBaEIsQ0FBNkI1RixJQUE3QixDQURKLEdBRUlRLGVBQWUsQ0FBQ2tGLFVBQWhCLENBQTJCMUYsSUFBM0IsRUFBaUMxVyxLQUFqQyxDQXJQdUI7QUFzUDdCcWQsb0JBQWtCLEVBQUUsQ0FBQzNHLElBQUQsRUFBTzFXLEtBQVAsRUFBY3BQLE1BQWQsS0FDbEI4bEIsSUFBSSxDQUFDa0UsU0FBTCxHQUNJMUQsZUFBZSxDQUFDMEYsZ0JBQWhCLENBQWlDbEcsSUFBakMsQ0FESixHQUVJUSxlQUFlLENBQUNzRixZQUFoQixDQUE2QjlGLElBQTdCLEVBQW1DMVcsS0FBbkMsRUFBMENwUCxNQUExQyxDQXpQdUI7QUEwUDdCMHNCLHdCQUFzQixFQUFFNUcsSUFBSSxJQUMxQkEsSUFBSSxDQUFDa0UsU0FBTCxHQUNJMUQsZUFBZSxDQUFDNEYsaUJBQWhCLENBQWtDcEcsSUFBbEMsQ0FESixHQUVJUSxlQUFlLENBQUNnRyxhQUFoQixDQUE4QnhHLElBQTlCLENBN1B1QjtBQThQN0I2Ryx3QkFBc0IsRUFBRTdHLElBQUksSUFDMUJBLElBQUksQ0FBQ2tFLFNBQUwsR0FDSTFELGVBQWUsQ0FBQzRGLGlCQUFoQixDQUFrQ3BHLElBQWxDLENBREosR0FFSVEsZUFBZSxDQUFDc0MsU0FBaEIsRUFqUXVCO0FBa1E3QmdFLHVCQUFxQixFQUFFOUcsSUFBSSxJQUN6QkEsSUFBSSxDQUFDa0UsU0FBTCxHQUNJMUQsZUFBZSxDQUFDMEYsZ0JBQWhCLENBQWlDbEcsSUFBakMsQ0FESixHQUVJUSxlQUFlLENBQUNzQyxTQUFoQixFQXJRdUI7QUFzUTdCaUUscUJBQW1CLEVBQUUsQ0FBQy9HLElBQUQsRUFBTzFXLEtBQVAsRUFBY3FQLFdBQWQsRUFBMkJpTSxTQUEzQixLQUNuQkEsU0FBUyxHQUFHbEMsb0JBQW9CLENBQUMxQyxJQUFELENBQXZCLEdBQWdDUSxlQUFlLENBQUNzQyxTQUFoQjtBQXZRZCxDQUF4QixDOzs7Ozs7O0FDckJQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFTyxNQUFNa0UsaUJBQU4sU0FBZ0MzckIsNENBQUssQ0FBQ0MsYUFBdEMsQ0FBb0Q7QUFDekRDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWE7QUFDWHdyQixxQkFBZSxFQUFFLEtBRE47QUFFWEMseUJBQW1CLEVBQUU7QUFGVixLQUFiO0FBSUEsU0FBS3hzQixPQUFMLEdBQWUsS0FBS0EsT0FBTCxDQUFha0IsSUFBYixDQUFrQixJQUFsQixDQUFmO0FBQ0EsU0FBS21tQixTQUFMLEdBQWlCLEtBQUtBLFNBQUwsQ0FBZW5tQixJQUFmLENBQW9CLElBQXBCLENBQWpCO0FBQ0EsU0FBSzBsQixRQUFMLEdBQWdCLEtBQUtBLFFBQUwsQ0FBYzFsQixJQUFkLENBQW1CLElBQW5CLENBQWhCO0FBQ0Q7O0FBRUR1ckIsaUJBQWUsQ0FBQ0MsVUFBRCxFQUFhcnBCLEtBQWIsRUFBb0I7QUFDakMsUUFBSSxLQUFLdkMsS0FBTCxDQUFXOGxCLFFBQWYsRUFBeUI7QUFDdkIsV0FBSzlsQixLQUFMLENBQVc4bEIsUUFBWCxDQUFvQixJQUFwQjtBQUNEOztBQUNELFNBQUt6bEIsUUFBTCxDQUFjO0FBQ1pvckIscUJBQWUsRUFBRSxJQURMO0FBRVpDLHlCQUFtQixFQUFFRTtBQUZULEtBQWQ7QUFJRDs7QUFFRDFzQixTQUFPLENBQUNxRCxLQUFELEVBQVE7QUFDYkEsU0FBSyxDQUFDMk4sY0FBTjtBQUNBLFNBQUt5YixlQUFMLENBQXFCLEtBQXJCLEVBQTRCcHBCLEtBQTVCO0FBQ0Q7O0FBRURna0IsV0FBUyxDQUFDaGtCLEtBQUQsRUFBUTtBQUNmLFFBQUlBLEtBQUssQ0FBQ0UsR0FBTixLQUFjLE9BQWQsSUFBeUJGLEtBQUssQ0FBQ0UsR0FBTixLQUFjLEdBQTNDLEVBQWdEO0FBQzlDRixXQUFLLENBQUMyTixjQUFOO0FBQ0EsV0FBS3liLGVBQUwsQ0FBcUIsSUFBckIsRUFBMkJwcEIsS0FBM0I7QUFDRDtBQUNGOztBQUVEdWpCLFVBQVEsQ0FBQzJGLGVBQUQsRUFBa0I7QUFDeEIsUUFBSSxLQUFLenJCLEtBQUwsQ0FBVzhsQixRQUFmLEVBQXlCO0FBQ3ZCLFdBQUs5bEIsS0FBTCxDQUFXOGxCLFFBQVgsQ0FBb0IyRixlQUFwQjtBQUNEOztBQUNELFNBQUtwckIsUUFBTCxDQUFjO0FBQUVvckI7QUFBRixLQUFkO0FBQ0Q7O0FBRUR2cUIsUUFBTSxHQUFHO0FBQ1AsVUFBTTtBQUFFMnFCLGlCQUFGO0FBQWVDLGFBQWY7QUFBd0IvbUIsY0FBeEI7QUFBa0NnbkI7QUFBbEMsUUFBa0QsS0FBSy9yQixLQUE3RDtBQUNBLFVBQU07QUFBRXlyQixxQkFBRjtBQUFtQkM7QUFBbkIsUUFBMkMsS0FBS3pyQixLQUF0RDtBQUVBLHdCQUNFLDJEQUFDLDRDQUFELENBQU8sUUFBUCxxQkFDRTtBQUNFLHVCQUFjLE1BRGhCO0FBRUUsc0JBQWM2ckIsT0FGaEI7QUFHRSx3QkFBZ0JELFdBQVcsR0FBR2ppQixJQUFJLENBQUNDLFNBQUwsQ0FBZWdpQixXQUFmLENBQUgsR0FBaUMsSUFIOUQ7QUFJRSxlQUFTLEVBQUMsMEJBSlo7QUFLRSxlQUFTLEVBQUUsS0FBS3RGLFNBTGxCO0FBTUUsYUFBTyxFQUFFLEtBQUtybkIsT0FOaEI7QUFPRSxTQUFHLEVBQUU2c0I7QUFQUCxNQURGLEVBVUdOLGVBQWUsZ0JBQ1o1ckIsNENBQUssQ0FBQzRYLFlBQU4sQ0FBbUIxUyxRQUFuQixFQUE2QjtBQUMzQmloQixvQkFBYyxFQUFFMEYsbUJBRFc7QUFFM0I1RixjQUFRLEVBQUUsS0FBS0E7QUFGWSxLQUE3QixDQURZLEdBS1osSUFmTixDQURGO0FBbUJEOztBQWhFd0QsQzs7Ozs7OztBQ04zRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUEsTUFBTWpLLE9BQU8sR0FBRyxTQUFoQjtBQUNBLE1BQU1DLHVCQUF1QixHQUFHLGtCQUFoQyxDLENBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxNQUFNa1Esa0JBQWtCLEdBQUcsR0FBM0I7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxNQUFNbHVCLGVBQU4sU0FBOEIrQiw0Q0FBSyxDQUFDQyxhQUFwQyxDQUFrRDtBQUN2RDtBQUNBO0FBQ0Ftc0IsdUJBQXFCLENBQUNDLEtBQUQsRUFBUTtBQUMzQixRQUNFLENBQUMsS0FBS0MsbUJBQU4sSUFDQSxLQUFLQSxtQkFBTCxDQUF5QjlvQixNQUF6QixLQUFvQzZvQixLQUFLLENBQUM3b0IsTUFGNUMsRUFHRTtBQUNBLGFBQU8sSUFBUDtBQUNEOztBQUVELFNBQUssSUFBSTBQLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdtWixLQUFLLENBQUM3b0IsTUFBMUIsRUFBa0MwUCxDQUFDLEVBQW5DLEVBQXVDO0FBQ3JDLFVBQUltWixLQUFLLENBQUNuWixDQUFELENBQUwsQ0FBUzdQLEVBQVQsS0FBZ0IsS0FBS2lwQixtQkFBTCxDQUF5QnBaLENBQXpCLENBQXBCLEVBQWlEO0FBQy9DLGVBQU8sSUFBUDtBQUNEO0FBQ0Y7O0FBRUQsV0FBTyxLQUFQO0FBQ0Q7O0FBRURxWiwwQkFBd0IsR0FBRztBQUN6QixVQUFNO0FBQUVwc0I7QUFBRixRQUFZLElBQWxCO0FBQ0EsVUFBTWtzQixLQUFLLEdBQUdsc0IsS0FBSyxDQUFDcXNCLElBQXBCOztBQUVBLFFBQUksS0FBS3JzQixLQUFMLENBQVdzc0IsUUFBZixFQUF5QjtBQUN2QixXQUFLdHNCLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMsaUVBQUUsQ0FBQ2lDLFVBQUgsQ0FBYztBQUNaL0IsWUFBSSxFQUFFQyw4REFBRSxDQUFDcXhCLGdDQURHO0FBRVo3dUIsWUFBSSxFQUFFO0FBQUU0dUIsa0JBQVEsRUFBRSxLQUFLdHNCLEtBQUwsQ0FBV3NzQjtBQUF2QjtBQUZNLE9BQWQsQ0FERjtBQU1EOztBQUVELFFBQUksS0FBS0wscUJBQUwsQ0FBMkJDLEtBQTNCLENBQUosRUFBdUM7QUFDckNsc0IsV0FBSyxDQUFDbEYsUUFBTixDQUNFQyxpRUFBRSxDQUFDa0QsOEJBQUgsQ0FBa0M7QUFDaENTLGNBQU0sRUFBRXNCLEtBQUssQ0FBQ3RCLE1BQU4sQ0FBYTh0QixXQUFiLEVBRHdCO0FBRWhDbkUsYUFBSyxFQUFFNkQsS0FBSyxDQUFDbmpCLEdBQU4sQ0FBVW9aLElBQUksS0FBSztBQUN4QmpmLFlBQUUsRUFBRWlmLElBQUksQ0FBQ2pmLEVBRGU7QUFFeEJvbEIsYUFBRyxFQUFFbkcsSUFBSSxDQUFDbUcsR0FGYztBQUd4QixjQUFJbkcsSUFBSSxDQUFDNEcsSUFBTCxHQUFZO0FBQUVBLGdCQUFJLEVBQUU1RyxJQUFJLENBQUM0RztBQUFiLFdBQVosR0FBa0MsRUFBdEM7QUFId0IsU0FBTCxDQUFkO0FBRnlCLE9BQWxDLENBREY7QUFVQSxXQUFLb0QsbUJBQUwsR0FBMkJELEtBQUssQ0FBQ25qQixHQUFOLENBQVVvWixJQUFJLElBQUlBLElBQUksQ0FBQ2pmLEVBQXZCLENBQTNCO0FBQ0Q7QUFDRixHQTlDc0QsQ0FnRHZEO0FBQ0E7OztBQUNBdXBCLHFCQUFtQixDQUFDUCxLQUFELEVBQVE7QUFDekIsUUFDRSxDQUFDLEtBQUtRLGtCQUFOLElBQ0EsS0FBS0Esa0JBQUwsQ0FBd0JycEIsTUFBeEIsS0FBbUM2b0IsS0FBSyxDQUFDN29CLE1BRjNDLEVBR0U7QUFDQSxhQUFPLElBQVA7QUFDRDs7QUFFRCxTQUFLLElBQUkwUCxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHbVosS0FBSyxDQUFDN29CLE1BQTFCLEVBQWtDMFAsQ0FBQyxFQUFuQyxFQUF1QztBQUNyQyxVQUFJbVosS0FBSyxDQUFDblosQ0FBRCxDQUFMLENBQVM3UCxFQUFULEtBQWdCLEtBQUt3cEIsa0JBQUwsQ0FBd0IzWixDQUF4QixDQUFwQixFQUFnRDtBQUM5QyxlQUFPLElBQVA7QUFDRDtBQUNGOztBQUVELFdBQU8sS0FBUDtBQUNEOztBQUVENFosd0JBQXNCLEdBQUc7QUFDdkIsVUFBTTtBQUFFM3NCO0FBQUYsUUFBWSxJQUFsQjtBQUNBLFVBQU1rc0IsS0FBSyxHQUFHbHNCLEtBQUssQ0FBQ3FzQixJQUFwQjs7QUFFQSxRQUFJLEtBQUtJLG1CQUFMLENBQXlCUCxLQUF6QixDQUFKLEVBQXFDO0FBQ25DbHNCLFdBQUssQ0FBQ2xGLFFBQU4sQ0FDRUMsaUVBQUUsQ0FBQ29ELDRCQUFILENBQWdDO0FBQzlCTyxjQUFNLEVBQUVzQixLQUFLLENBQUN0QixNQUFOLENBQWE4dEIsV0FBYixFQURzQjtBQUU5Qm5FLGFBQUssRUFBRTZELEtBQUssQ0FBQ25qQixHQUFOLENBQVVvWixJQUFJLEtBQUs7QUFBRWpmLFlBQUUsRUFBRWlmLElBQUksQ0FBQ2pmLEVBQVg7QUFBZW9sQixhQUFHLEVBQUVuRyxJQUFJLENBQUNtRztBQUF6QixTQUFMLENBQWQ7QUFGdUIsT0FBaEMsQ0FERjtBQU1BLFdBQUtvRSxrQkFBTCxHQUEwQlIsS0FBSyxDQUFDbmpCLEdBQU4sQ0FBVW9aLElBQUksSUFBSUEsSUFBSSxDQUFDamYsRUFBdkIsQ0FBMUI7QUFDRDtBQUNGOztBQUVEMHBCLG9DQUFrQyxHQUFHO0FBQ25DLFVBQU07QUFBRTVzQjtBQUFGLFFBQVksSUFBbEI7O0FBRUEsUUFBSSxDQUFDQSxLQUFLLENBQUNsRixRQUFYLEVBQXFCO0FBQ25CO0FBQ0Q7O0FBRUQsUUFBSWtGLEtBQUssQ0FBQzVFLFFBQU4sQ0FBZTZnQixlQUFmLEtBQW1DSixPQUF2QyxFQUFnRDtBQUM5QztBQUNBLFdBQUs4USxzQkFBTDs7QUFDQSxXQUFLRSxxQkFBTDtBQUNELEtBSkQsTUFJTztBQUNMO0FBQ0E7QUFDQSxVQUFJLEtBQUszUSxtQkFBVCxFQUE4QjtBQUM1QmxjLGFBQUssQ0FBQzVFLFFBQU4sQ0FBZThHLG1CQUFmLENBQ0U0Wix1QkFERixFQUVFLEtBQUtJLG1CQUZQO0FBSUQ7O0FBRUQsV0FBS0EsbUJBQUwsR0FBMkIsTUFBTTtBQUMvQixZQUFJbGMsS0FBSyxDQUFDNUUsUUFBTixDQUFlNmdCLGVBQWYsS0FBbUNKLE9BQXZDLEVBQWdEO0FBQzlDO0FBQ0EsZUFBSzhRLHNCQUFMOztBQUNBLGVBQUtFLHFCQUFMO0FBQ0E3c0IsZUFBSyxDQUFDNUUsUUFBTixDQUFlOEcsbUJBQWYsQ0FDRTRaLHVCQURGLEVBRUUsS0FBS0ksbUJBRlA7QUFJRDtBQUNGLE9BVkQ7O0FBV0FsYyxXQUFLLENBQUM1RSxRQUFOLENBQWVHLGdCQUFmLENBQ0V1Z0IsdUJBREYsRUFFRSxLQUFLSSxtQkFGUDtBQUlEO0FBQ0Y7QUFFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDRTJRLHVCQUFxQixHQUFHO0FBQ3RCLFVBQU07QUFBRTdzQjtBQUFGLFFBQVksSUFBbEI7O0FBRUEsUUFBSSxDQUFDQSxLQUFLLENBQUNxc0IsSUFBTixDQUFXaHBCLE1BQWhCLEVBQXdCO0FBQ3RCO0FBQ0Q7O0FBRUQsU0FBS3lwQixnQkFBTCxHQUF3QnJPLE9BQU8sSUFBSTtBQUNqQyxVQUNFQSxPQUFPLENBQUN4TixJQUFSLENBQ0U4YixLQUFLLElBQ0hBLEtBQUssQ0FBQ0MsY0FBTixJQUNBRCxLQUFLLENBQUNFLGlCQUFOLElBQTJCakIsa0JBSC9CLENBREYsRUFNRTtBQUNBLGFBQUtJLHdCQUFMOztBQUNBLGFBQUtjLGtCQUFMLENBQXdCQyxTQUF4QixDQUFrQyxLQUFLcGUsSUFBTCxDQUFVbVcsVUFBNUM7QUFDRDtBQUNGLEtBWEQ7O0FBYUEsVUFBTTdvQixPQUFPLEdBQUc7QUFBRSt3QixlQUFTLEVBQUVwQjtBQUFiLEtBQWhCO0FBQ0EsU0FBS2tCLGtCQUFMLEdBQTBCLElBQUlsdEIsS0FBSyxDQUFDcXRCLG9CQUFWLENBQ3hCLEtBQUtQLGdCQURtQixFQUV4Qnp3QixPQUZ3QixDQUExQjtBQUlBLFNBQUs2d0Isa0JBQUwsQ0FBd0JJLE9BQXhCLENBQWdDLEtBQUt2ZSxJQUFMLENBQVVtVyxVQUExQztBQUNEOztBQUVEampCLG1CQUFpQixHQUFHO0FBQ2xCLFFBQUksS0FBS2pDLEtBQUwsQ0FBV3FzQixJQUFYLENBQWdCaHBCLE1BQXBCLEVBQTRCO0FBQzFCLFdBQUt1cEIsa0NBQUw7QUFDRDtBQUNGOztBQUVEdHNCLHNCQUFvQixHQUFHO0FBQ3JCLFFBQUksS0FBS3dzQixnQkFBTCxJQUF5QixLQUFLSSxrQkFBbEMsRUFBc0Q7QUFDcEQsV0FBS0Esa0JBQUwsQ0FBd0JDLFNBQXhCLENBQWtDLEtBQUtwZSxJQUFMLENBQVVtVyxVQUE1QztBQUNEOztBQUNELFFBQUksS0FBS2hKLG1CQUFULEVBQThCO0FBQzVCLFdBQUtsYyxLQUFMLENBQVc1RSxRQUFYLENBQW9COEcsbUJBQXBCLENBQ0U0Wix1QkFERixFQUVFLEtBQUtJLG1CQUZQO0FBSUQ7QUFDRjs7QUFFRGhiLFFBQU0sR0FBRztBQUNQLHdCQUNFO0FBQUssU0FBRyxFQUFFLFlBQVY7QUFBd0IsZUFBUyxFQUFDO0FBQWxDLE9BQ0csS0FBS2xCLEtBQUwsQ0FBVytFLFFBRGQsQ0FERjtBQUtEOztBQXJMc0Q7QUF3THpEakgsZUFBZSxDQUFDOGQsWUFBaEIsR0FBK0I7QUFDN0J5UixzQkFBb0IsRUFBRXJzQixNQUFNLENBQUNxc0Isb0JBREE7QUFFN0JqeUIsVUFBUSxFQUFFNEYsTUFBTSxDQUFDNUYsUUFGWTtBQUc3Qml4QixNQUFJLEVBQUUsRUFIdUI7QUFJN0IzdEIsUUFBTSxFQUFFO0FBSnFCLENBQS9CLEM7Ozs7Ozs7O0FDek5BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRU8sTUFBTTZ1QixVQUFOLFNBQXlCMXRCLDRDQUFLLENBQUNDLGFBQS9CLENBQTZDO0FBQ2xEQyxhQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNqQixVQUFNQSxLQUFOO0FBQ0EsU0FBS2QsT0FBTCxHQUFlLEtBQUtBLE9BQUwsQ0FBYWtCLElBQWIsQ0FBa0IsSUFBbEIsQ0FBZjtBQUNEOztBQUVEbEIsU0FBTyxDQUFDcUQsS0FBRCxFQUFRO0FBQ2I7QUFDQSxRQUFJLEtBQUt2QyxLQUFMLENBQVdsRixRQUFmLEVBQXlCO0FBQ3ZCeUgsV0FBSyxDQUFDMk4sY0FBTjtBQUNBLFlBQU07QUFBRXNkLGNBQUY7QUFBVWpJLGNBQVY7QUFBa0JILGVBQWxCO0FBQTJCQyxlQUEzQjtBQUFvQ0M7QUFBcEMsVUFBaUQvaUIsS0FBdkQ7QUFDQSxXQUFLdkMsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyxpRUFBRSxDQUFDaUMsVUFBSCxDQUFjO0FBQ1ovQixZQUFJLEVBQUVDLDhEQUFFLENBQUM2dUIsU0FERztBQUVacnNCLFlBQUksRUFBRTtBQUNKNkUsZUFBSyxFQUFFO0FBQUVpckIsa0JBQUY7QUFBVWpJLGtCQUFWO0FBQWtCSCxtQkFBbEI7QUFBMkJDLG1CQUEzQjtBQUFvQ0M7QUFBcEMsV0FESDtBQUVKOEIsa0JBQVEsRUFBRSx1Q0FGTjtBQUdKO0FBQ0F4ZSxhQUFHLEVBQUVyRyxLQUFLLENBQUNrckIsYUFBTixDQUFvQi9XO0FBSnJCO0FBRk0sT0FBZCxDQURGO0FBV0QsS0FoQlksQ0FrQmI7OztBQUNBLFFBQUksS0FBSzFXLEtBQUwsQ0FBVzB0QixXQUFmLEVBQTRCO0FBQzFCLFdBQUsxdEIsS0FBTCxDQUFXMHRCLFdBQVgsQ0FBdUJuckIsS0FBdkI7QUFDRDtBQUNGOztBQUVEb3JCLFNBQU8sQ0FBQy9rQixHQUFELEVBQU07QUFDWCxRQUFJZ2xCLFFBQVEsR0FBRyxJQUFmOztBQUNBLFFBQUk7QUFDRkEsY0FBUSxHQUFHLElBQUkvVyxHQUFKLENBQVFqTyxHQUFSLEVBQWFnbEIsUUFBeEI7QUFDRCxLQUZELENBRUUsT0FBT3ByQixDQUFQLEVBQVU7QUFDVixhQUFPLEVBQVA7QUFDRDs7QUFFRCxVQUFNcXJCLFNBQVMsR0FBRyxDQUFDLE9BQUQsRUFBVSxRQUFWLEVBQW9CbmQsUUFBcEIsQ0FBNkJrZCxRQUE3QixDQUFsQjs7QUFDQSxRQUFJLENBQUNDLFNBQUwsRUFBZ0I7QUFDZDFlLGFBQU8sQ0FBQzJlLElBQVIsQ0FBYyxHQUFFbGxCLEdBQUkscUNBQXBCLEVBRGMsQ0FDNkM7O0FBQzNELGFBQU8sRUFBUDtBQUNEOztBQUNELFdBQU9BLEdBQVA7QUFDRDs7QUFFRDFILFFBQU0sR0FBRztBQUNQLFVBQU07QUFBRTBILFNBQUY7QUFBTzNIO0FBQVAsUUFBcUIsS0FBS2pCLEtBQWhDO0FBQ0Esd0JBQ0U7QUFBRyxVQUFJLEVBQUUsS0FBSzJ0QixPQUFMLENBQWEva0IsR0FBYixDQUFUO0FBQTRCLGVBQVMsRUFBRTNILFNBQXZDO0FBQWtELGFBQU8sRUFBRSxLQUFLL0I7QUFBaEUsT0FDRyxLQUFLYyxLQUFMLENBQVcrRSxRQURkLENBREY7QUFLRDs7QUFyRGlELEM7Ozs7Ozs7QUNQcEQ7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVPLE1BQU1ncEIsZ0JBQWdCLEdBQUc7QUFDOUJDLFNBQU8sRUFBRTtBQUNQQyxZQUFRLEVBQUUsc0JBREg7QUFFUDl1QixRQUFJLEVBQUU7QUFGQyxHQURxQjtBQUs5Qit1QixpQkFBZSxFQUFFO0FBQ2ZELFlBQVEsRUFBRSwrQkFESztBQUVmOXVCLFFBQUksRUFBRTtBQUZTLEdBTGE7QUFTOUJndkIsVUFBUSxFQUFFO0FBQ1JGLFlBQVEsRUFBRSx5QkFERjtBQUVSOXVCLFFBQUksRUFBRTtBQUZFLEdBVG9CO0FBYTlCaXZCLFVBQVEsRUFBRTtBQUNSSCxZQUFRLEVBQUUsMEJBREY7QUFFUjl1QixRQUFJLEVBQUU7QUFGRSxHQWJvQjtBQWlCOUJxckIsUUFBTSxFQUFFO0FBQ055RCxZQUFRLEVBQUUsb0JBREo7QUFFTjl1QixRQUFJLEVBQUU7QUFGQSxHQWpCc0I7QUFxQjlCa3ZCLFVBQVEsRUFBRTtBQUNSSixZQUFRLEVBQUUsdUJBREY7QUFFUjl1QixRQUFJLEVBQUU7QUFGRTtBQXJCb0IsQ0FBekIsQzs7Ozs7O0FDSlAsc0M7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sTUFBTW12QixZQUFOLFNBQTJCenVCLDRDQUFLLENBQUNDLGFBQWpDLENBQStDO0FBQ3BEb0IsUUFBTSxHQUFHO0FBQ1A7QUFDQSxVQUFNO0FBQUU2RCxjQUFGO0FBQVk3RTtBQUFaLFFBQXdCLEtBQUtGLEtBQW5DO0FBQ0EsVUFBTXV1QixLQUFLLEdBQUd4cEIsUUFBUSxHQUFHbEYsNENBQUssQ0FBQzJ1QixRQUFOLENBQWVDLElBQWYsQ0FBb0IxcEIsUUFBcEIsQ0FBSCxnQkFBbUMsd0VBQXpELENBSE8sQ0FLUDs7QUFDQSxRQUFJMnBCLGFBQWEsR0FBR3h1QixPQUFwQjtBQUNBLFFBQUlxWixVQUFKLENBUE8sQ0FTUDs7QUFDQSxRQUFJLE9BQU9yWixPQUFQLEtBQW1CLFFBQXZCLEVBQWlDO0FBQy9CLFlBQU1WLElBQUksR0FBR1UsT0FBTyxDQUFDVixJQUFSLElBQWdCVSxPQUFPLENBQUNvQixNQUFyQztBQUNBaVksZ0JBQVUsR0FBRztBQUNYLDBCQUFrQi9aLElBQUksSUFBSW9LLElBQUksQ0FBQ0MsU0FBTCxDQUFlckssSUFBZixDQURmO0FBRVgsd0JBQWdCVSxPQUFPLENBQUNnRCxFQUFSLElBQWNoRCxPQUFPLENBQUM4bUI7QUFGM0IsT0FBYixDQUYrQixDQU8vQjs7QUFDQTBILG1CQUFhLEdBQUdILEtBQUssQ0FBQ3Z1QixLQUFOLENBQVkrRSxRQUE1QjtBQUNELEtBbkJNLENBcUJQOzs7QUFDQSx3QkFBT2xGLDRDQUFLLENBQUM0WCxZQUFOLENBQW1COFcsS0FBbkIsRUFBMEJoVixVQUExQixFQUFzQ21WLGFBQXRDLENBQVA7QUFDRDs7QUF4Qm1ELEM7Ozs7Ozs7QUNWdEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFTyxNQUFNQyxrQkFBTixTQUFpQzl1Qiw0Q0FBSyxDQUFDQyxhQUF2QyxDQUFxRDtBQUMxREMsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUs0dUIsY0FBTCxHQUFzQixLQUFLQSxjQUFMLENBQW9CeHVCLElBQXBCLENBQXlCLElBQXpCLENBQXRCO0FBQ0EsU0FBS0gsS0FBTCxHQUFhO0FBQ1g0dUIsZUFBUyxFQUFFO0FBREEsS0FBYjtBQUdEOztBQUVERCxnQkFBYyxHQUFHO0FBQ2YsVUFBTTtBQUFFbHhCO0FBQUYsUUFBVyxLQUFLc0MsS0FBdEI7O0FBQ0EsUUFBSSxLQUFLQSxLQUFMLENBQVdsRixRQUFYLElBQXVCNEMsSUFBdkIsSUFBK0JBLElBQUksQ0FBQzJMLEtBQXBDLElBQTZDM0wsSUFBSSxDQUFDMkwsS0FBTCxDQUFXaEcsTUFBNUQsRUFBb0U7QUFDbEUsV0FBS2hELFFBQUwsQ0FBYztBQUNad3VCLGlCQUFTLEVBQUU7QUFEQyxPQUFkO0FBR0EsWUFBTXZHLEdBQUcsR0FBRyxDQUFaO0FBQ0EsWUFBTTVwQixNQUFNLEdBQUcsS0FBS3NCLEtBQUwsQ0FBVy9FLElBQVgsQ0FBZ0J1eEIsV0FBaEIsRUFBZixDQUxrRSxDQU1sRTtBQUNBOztBQUNBLFlBQU1sakIsU0FBUyxHQUFHNUwsSUFBSSxDQUFDMkwsS0FBTCxDQUFXTixHQUFYLENBQWUrbEIsSUFBSSxLQUFLO0FBQ3hDbG1CLFdBQUcsRUFBRWttQixJQUFJLENBQUNsbUIsR0FEOEI7QUFFeENrZ0IsWUFBSSxFQUFFZ0csSUFBSSxDQUFDNXJCLEVBRjZCO0FBR3hDNmxCLFlBQUksRUFBRStGLElBQUksQ0FBQy9GLElBSDZCO0FBSXhDSCxpQkFBUyxFQUFFa0csSUFBSSxDQUFDeEM7QUFKd0IsT0FBTCxDQUFuQixDQUFsQjtBQU9BLFlBQU15QyxjQUFjLEdBQUcvSixpRkFBZSxDQUFDb0QsU0FBaEIsQ0FBMEI5ZSxTQUExQixFQUFxQ2dmLEdBQXJDLEVBQTBDNXBCLE1BQTFDLENBQXZCO0FBQ0EsWUFBTTtBQUFFdEMsY0FBRjtBQUFVOG9CLGtCQUFWO0FBQXNCQztBQUF0QixVQUFvQzRKLGNBQTFDO0FBQ0EsV0FBSy91QixLQUFMLENBQVdsRixRQUFYLENBQW9Cc0IsTUFBcEI7QUFFQSxXQUFLNEQsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyxpRUFBRSxDQUFDMEMsU0FBSCxDQUFhO0FBQ1g4RSxhQUFLLEVBQUU0aUIsU0FESTtBQUVYem1CLGNBRlc7QUFHWGduQix1QkFBZSxFQUFFNEM7QUFITixPQUFiLENBREY7O0FBT0EsVUFBSXBELFVBQUosRUFBZ0I7QUFDZCxhQUFLbGxCLEtBQUwsQ0FBV2xGLFFBQVgsQ0FBb0JvcUIsVUFBcEI7QUFDRDtBQUNGO0FBQ0Y7O0FBRURoa0IsUUFBTSxHQUFHO0FBQ1AsVUFBTTtBQUFFeEQsVUFBRjtBQUFRc3hCO0FBQVIsUUFBd0IsS0FBS2h2QixLQUFuQzs7QUFDQSxRQUNFLEtBQUtDLEtBQUwsQ0FBVzR1QixTQUFYLElBQ0EsQ0FBQ254QixJQURELElBRUEsQ0FBQ0EsSUFBSSxDQUFDMkwsS0FGTixJQUdBLENBQUMzTCxJQUFJLENBQUMyTCxLQUFMLENBQVcsQ0FBWCxDQUhELElBSUE7QUFDQTNMLFFBQUksQ0FBQzJMLEtBQUwsQ0FBV2hHLE1BQVgsR0FBb0IsQ0FOdEIsRUFPRTtBQUNBLGFBQU8sSUFBUDtBQUNEOztBQUNELFVBQU07QUFBRWdHLFdBQUY7QUFBU2dYLGVBQVQ7QUFBb0IvWDtBQUFwQixRQUE2QixLQUFLdEksS0FBeEMsQ0FaTyxDQWFQOztBQUNBLFVBQU07QUFBRXVmLFdBQUY7QUFBUzFRLGFBQVQ7QUFBa0JvZ0IsMkJBQWxCO0FBQXlDQztBQUF6QyxRQUNKN2xCLEtBQUssQ0FBQzNMLElBQU4sQ0FBVzJpQixTQUFTLENBQUMvaEIsSUFBckIsS0FBOEIsRUFEaEMsQ0FkTyxDQWdCUDs7QUFDQSxRQUFJLENBQUNpaEIsS0FBTCxFQUFZO0FBQ1YsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQsUUFBSTRQLGtCQUFrQixHQUFHLEVBQXpCLENBckJPLENBdUJQOztBQUNBLFFBQUlGLHFCQUFxQixJQUFJQSxxQkFBcUIsS0FBSyxFQUF2RCxFQUEyRDtBQUN6RDtBQUNBO0FBQ0E7QUFDQUUsd0JBQWtCLEdBQUdGLHFCQUFyQjtBQUNELEtBTEQsTUFLTyxJQUFJQyxPQUFKLEVBQWE7QUFDbEJDLHdCQUFrQixHQUFHO0FBQ25CanNCLFVBQUUsRUFBRywyQkFEYztBQUVuQjVCLGNBQU0sRUFBRTtBQUFFNHRCO0FBQUY7QUFGVyxPQUFyQjtBQUlELEtBTE0sTUFLQSxJQUFJcmdCLE9BQUosRUFBYTtBQUNsQnNnQix3QkFBa0IsR0FBR3RnQixPQUFyQjtBQUNELEtBcENNLENBc0NQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLFVBQU11Z0IsUUFBUSxHQUFHO0FBQ2Z0bUIscUJBQWUsRUFBRXBMLElBQUksQ0FBQzJMO0FBRFAsS0FBakIsQ0E5Q08sQ0FrRFA7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxVQUFNcE8sSUFBSSxHQUFJLEdBQUUsS0FBSytFLEtBQUwsQ0FBVy9FLElBQUssT0FBaEM7QUFFQSxVQUFNbzBCLGNBQWMsZ0JBQ2xCO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0UsMkRBQUMsMkdBQUQ7QUFDRSxXQUFLLEVBQUU5UCxLQURUO0FBRUUsYUFBTyxFQUFFNFAsa0JBRlg7QUFHRSxVQUFJLEVBQUVDLFFBSFI7QUFJRSxVQUFJLEVBQUU5bUIsSUFKUjtBQUtFLFlBQU0sRUFBRSxLQUFLdEksS0FBTCxDQUFXc2dCLE1BTHJCO0FBTUUsVUFBSSxFQUFFcmxCLElBTlI7QUFPRSxtQkFBYSxFQUFFLElBUGpCO0FBUUUsY0FBUSxFQUFFLEtBQUsrRSxLQUFMLENBQVdsRixRQVJ2QjtBQVNFLFdBQUssRUFBRSxLQUFLa0YsS0FBTCxDQUFXdUo7QUFUcEIsTUFERixDQURGOztBQWdCQSxRQUFJeWxCLFdBQUosRUFBaUI7QUFDZiwwQkFDRSwyREFBQyw4R0FBRDtBQUNFLHNCQUFjLEVBQUUsS0FBS0osY0FEdkI7QUFFRSxvQkFBWSxFQUFHO0FBRmpCLFNBSUdTLGNBSkgsQ0FERjtBQVFEOztBQUNELFdBQU9BLGNBQVA7QUFDRDs7QUEvSHlELEM7Ozs7Ozs7QUNWNUQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVPLE1BQU1DLFNBQU4sU0FBd0J6dkIsNENBQUssQ0FBQ0MsYUFBOUIsQ0FBNEM7QUFDakRDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLNHVCLGNBQUwsR0FBc0IsS0FBS0EsY0FBTCxDQUFvQnh1QixJQUFwQixDQUF5QixJQUF6QixDQUF0QjtBQUNBLFNBQUttdkIsT0FBTCxHQUFlLEtBQUtBLE9BQUwsQ0FBYW52QixJQUFiLENBQWtCLElBQWxCLENBQWY7QUFDQSxTQUFLb3ZCLFFBQUwsR0FBZ0IsS0FBS0EsUUFBTCxDQUFjcHZCLElBQWQsQ0FBbUIsSUFBbkIsQ0FBaEI7QUFDQSxTQUFLSCxLQUFMLEdBQWE7QUFDWHd2QixjQUFRLEVBQUU7QUFEQyxLQUFiO0FBR0Q7O0FBRURiLGdCQUFjLEdBQUc7QUFDZixRQUFJLEtBQUs1dUIsS0FBTCxDQUFXNHVCLGNBQWYsRUFBK0I7QUFDN0IsV0FBSzV1QixLQUFMLENBQVc0dUIsY0FBWDtBQUNEO0FBQ0Y7O0FBRURXLFNBQU8sR0FBRztBQUNSLFNBQUtsdkIsUUFBTCxDQUFjO0FBQ1pvdkIsY0FBUSxFQUFFO0FBREUsS0FBZDtBQUdEOztBQUVERCxVQUFRLEdBQUc7QUFDVCxTQUFLbnZCLFFBQUwsQ0FBYztBQUNab3ZCLGNBQVEsRUFBRTtBQURFLEtBQWQ7QUFHRDs7QUFFRHZ1QixRQUFNLEdBQUc7QUFDUCxRQUFJRCxTQUFTLEdBQUk7QUFDckIsUUFBUSxLQUFLaEIsS0FBTCxDQUFXd3ZCLFFBQVgsR0FBdUIsV0FBdkIsR0FBcUMsRUFBRTtBQUMvQyxRQUFRLEtBQUt6dkIsS0FBTCxDQUFXMHZCLFlBQVgsR0FBMkIsSUFBRyxLQUFLMXZCLEtBQUwsQ0FBVzB2QixZQUFhLEVBQXRELEdBQTJELEVBQUUsRUFGakU7QUFJQSx3QkFDRTtBQUFLLGVBQVMsRUFBRXp1QjtBQUFoQixPQUNHLEtBQUtqQixLQUFMLENBQVcrRSxRQURkLGVBRUU7QUFDRSxlQUFTLEVBQUMsbUJBRFo7QUFFRSxzQkFBYSwrQkFGZjtBQUdFLGFBQU8sRUFBRSxLQUFLd3FCLE9BSGhCO0FBSUUsYUFBTyxFQUFFLEtBQUtYLGNBSmhCO0FBS0Usa0JBQVksRUFBRSxLQUFLVyxPQUxyQjtBQU1FLGtCQUFZLEVBQUUsS0FBS0M7QUFOckIsb0JBUUU7QUFBTSxlQUFTLEVBQUM7QUFBaEIsTUFSRixDQUZGLENBREY7QUFlRDs7QUFqRGdELEM7Ozs7Ozs7QUNObkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxNQUFNRyxtQkFBTixTQUFrQzl2Qiw0Q0FBSyxDQUFDQyxhQUF4QyxDQUFzRDtBQUMzREMsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUs0dkIsV0FBTCxHQUFtQixLQUFLQSxXQUFMLENBQWlCeHZCLElBQWpCLENBQXNCLElBQXRCLENBQW5CO0FBQ0EsU0FBS3l2QixzQkFBTCxHQUE4QixLQUFLQSxzQkFBTCxDQUE0Qnp2QixJQUE1QixDQUFpQyxJQUFqQyxDQUE5QjtBQUNBLFNBQUswdkIsc0JBQUwsR0FBOEIsS0FBS0Esc0JBQUwsQ0FBNEIxdkIsSUFBNUIsQ0FBaUMsSUFBakMsQ0FBOUI7QUFDQSxTQUFLMnZCLFlBQUwsR0FBb0IsS0FBS0EsWUFBTCxDQUFrQjN2QixJQUFsQixDQUF1QixJQUF2QixDQUFwQjtBQUNBLFNBQUtILEtBQUwsR0FBYTtBQUNYK3ZCLHFCQUFlLEVBQUUsS0FETjtBQUVYdkUscUJBQWUsRUFBRTtBQUZOLEtBQWI7QUFJQSxTQUFLd0UsdUJBQUwsR0FBK0IsS0FBS0EsdUJBQUwsQ0FBNkI3dkIsSUFBN0IsQ0FBa0MsSUFBbEMsQ0FBL0I7QUFDRDs7QUFFRDZ2Qix5QkFBdUIsQ0FBQ0MsT0FBRCxFQUFVO0FBQy9CLFNBQUtDLG9CQUFMLEdBQTRCRCxPQUE1QjtBQUNEOztBQUVETixhQUFXLENBQUNRLElBQUQsRUFBTztBQUNoQixTQUFLQyxXQUFMLEdBQW1CRCxJQUFuQjtBQUNEOztBQUVEUCx3QkFBc0IsR0FBRztBQUN2QixTQUFLeHZCLFFBQUwsQ0FBYztBQUFFMnZCLHFCQUFlLEVBQUU7QUFBbkIsS0FBZDtBQUNEOztBQUVERix3QkFBc0IsR0FBRztBQUN2QixTQUFLenZCLFFBQUwsQ0FBYztBQUFFMnZCLHFCQUFlLEVBQUU7QUFBbkIsS0FBZDtBQUNEOztBQUVERCxjQUFZLENBQUN0RSxlQUFELEVBQWtCO0FBQzVCLFNBQUtwckIsUUFBTCxDQUFjO0FBQUVvckI7QUFBRixLQUFkO0FBQ0Q7O0FBRUR2cUIsUUFBTSxHQUFHO0FBQ1AsVUFBTTtBQUNKb3ZCLGlCQURJO0FBRUpDLGVBRkk7QUFHSlAscUJBSEk7QUFJSnZFO0FBSkksUUFLRixLQUFLeHJCLEtBTFQ7QUFNQSxVQUFNO0FBQUVpRCxRQUFGO0FBQU0yUixlQUFOO0FBQWlCcU4sZUFBakI7QUFBNEIzQyxXQUE1QjtBQUFtQytDO0FBQW5DLFFBQWdELEtBQUt0aUIsS0FBM0Q7QUFDQSxVQUFNd3dCLE1BQU0sR0FBR1IsZUFBZSxJQUFJdkUsZUFBbEM7QUFDQSxRQUFJZ0YsU0FBSjs7QUFDQSxRQUFJSCxXQUFXLElBQUksQ0FBQ3piLFNBQXBCLEVBQStCO0FBQzdCNGIsZUFBUyxHQUFHO0FBQUVGO0FBQUYsT0FBWjtBQUNELEtBRkQsTUFFTyxJQUFJLENBQUNELFdBQUQsSUFBZ0J6YixTQUFwQixFQUErQjtBQUNwQzRiLGVBQVMsR0FBRztBQUFFQyxlQUFPLEVBQUU7QUFBWCxPQUFaO0FBQ0Q7O0FBQ0QsUUFBSUMsVUFBSjs7QUFDQSxRQUFJLEtBQUszd0IsS0FBTCxDQUFXNHdCLFNBQWYsRUFBMEI7QUFDeEJELGdCQUFVLEdBQUc7QUFBRUUsa0JBQVUsRUFBRTtBQUFkLE9BQWI7QUFDRDs7QUFDRCxVQUFNQyxvQkFBb0IsR0FBR3hPLFFBQVEsR0FBSSxjQUFKLEdBQXFCLEVBQTFEO0FBQ0Esd0JBQ0U7QUFDRSxlQUFTLEVBQUcsdUJBQXNCLEtBQUt0aUIsS0FBTCxDQUFXaUIsU0FBVSxHQUNyRHV2QixNQUFNLEdBQUcsU0FBSCxHQUFlLEVBQ3RCLEVBSEgsQ0FJRTtBQUpGO0FBS0UseUJBQWlCdHRCO0FBTG5CLG9CQU9FO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0U7QUFDRSxlQUFTLEVBQUcsMkJBQTBCNHRCLG9CQUFxQixFQUQ3RDtBQUVFLFdBQUssRUFBRUg7QUFGVCxvQkFJRTtBQUFNLGVBQVMsRUFBQztBQUFoQixvQkFDRSwyREFBQyw2RkFBRDtBQUFjLGFBQU8sRUFBRXBSO0FBQXZCLE1BREYsQ0FKRixlQU9FO0FBQU0sZUFBUyxFQUFDO0FBQWhCLE9BQ0cyQyxTQUFTLGlCQUNSO0FBQU0sZUFBUyxFQUFDO0FBQWhCLG9CQUNFLDJEQUFDLDZGQUFEO0FBQWMsYUFBTyxFQUFFQSxTQUFTLENBQUNDLElBQVYsQ0FBZWppQjtBQUF0QyxvQkFDRTtBQUFHLFVBQUksRUFBRWdpQixTQUFTLENBQUNDLElBQVYsQ0FBZXpMO0FBQXhCLE1BREYsQ0FERixDQUZKLENBUEYsRUFnQkc0TCxRQUFRLGlCQUNQO0FBQU0sZUFBUyxFQUFDO0FBQWhCLG9CQUNFLDJEQUFDLDZGQUFEO0FBQWMsYUFBTyxFQUFFQTtBQUF2QixNQURGLENBakJKLENBREYsQ0FQRixlQStCRSwyREFBQyxnR0FBRDtBQUFlLGVBQVMsRUFBQztBQUF6QixvQkFDRTtBQUFLLFNBQUcsRUFBRSxLQUFLc04sV0FBZjtBQUE0QixXQUFLLEVBQUVhO0FBQW5DLE9BQ0csS0FBS3p3QixLQUFMLENBQVcrRSxRQURkLENBREYsQ0EvQkYsQ0FERjtBQXVDRDs7QUE3RjBEO0FBZ0c3RDRxQixtQkFBbUIsQ0FBQy9ULFlBQXBCLEdBQW1DO0FBQ2pDeGdCLFVBQVEsRUFBRTRGLE1BQU0sQ0FBQzVGLFFBQVAsSUFBbUI7QUFDM0JHLG9CQUFnQixFQUFFLE1BQU0sQ0FBRSxDQURDO0FBRTNCMkcsdUJBQW1CLEVBQUUsTUFBTSxDQUFFLENBRkY7QUFHM0IrWixtQkFBZSxFQUFFO0FBSFU7QUFESSxDQUFuQztBQVFPLE1BQU04VSxrQkFBa0IsR0FBR2xzQiwyREFBTyxDQUFDNUUsS0FBSyxLQUFLO0FBQ2xEb0IsT0FBSyxFQUFFcEIsS0FBSyxDQUFDb0I7QUFEcUMsQ0FBTCxDQUFOLENBQVAsQ0FFOUJzdUIsbUJBRjhCLENBQTNCLEM7Ozs7Ozs7O0FDckhQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFTyxNQUFNcUIscUJBQU4sU0FBb0NueEIsNENBQUssQ0FBQ0MsYUFBMUMsQ0FBd0Q7QUFDN0RDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLcWpCLFNBQUwsR0FBaUIsS0FBS3JqQixLQUFMLENBQVdxakIsU0FBWCxJQUF3QjVJLE1BQXpDO0FBQ0EsU0FBS3ZiLE9BQUwsR0FBZSxLQUFLQSxPQUFMLENBQWFrQixJQUFiLENBQWtCLElBQWxCLENBQWY7QUFDRDtBQUVEO0FBQ0Y7QUFDQTtBQUNBOzs7QUFDRWxCLFNBQU8sR0FBRztBQUNSLFNBQUtta0IsU0FBTCxDQUFlM08sUUFBZixDQUF3QnVjLE1BQXhCLENBQStCLElBQS9CO0FBQ0Q7O0FBRUQvdkIsUUFBTSxHQUFHO0FBQ1AsVUFBTWd3QixZQUFZLEdBQUcsbUJBQXJCO0FBQ0EsUUFBSWp3QixTQUFKOztBQUNBLFFBQUksZUFBZSxLQUFLakIsS0FBeEIsRUFBK0I7QUFDN0JpQixlQUFTLEdBQUksR0FBRSxLQUFLakIsS0FBTCxDQUFXaUIsU0FBVSxJQUFHaXdCLFlBQWEsRUFBcEQ7QUFDRCxLQUZELE1BRU87QUFDTGp3QixlQUFTLEdBQUdpd0IsWUFBWjtBQUNELEtBUE0sQ0FTUDs7O0FBQ0Esd0JBQ0U7QUFBSyxlQUFTLEVBQUVqd0I7QUFBaEIsb0JBQ0U7QUFBSyxzQkFBYTtBQUFsQixNQURGLGVBRUUsc0ZBQ0UsMkRBQUMsbUdBQUQ7QUFDRSxlQUFTLEVBQUMsZUFEWjtBQUVFLGFBQU8sRUFBRSxLQUFLL0IsT0FGaEI7QUFHRSxzQkFBYTtBQUhmLE1BREYsQ0FGRixDQURGO0FBWUQ7O0FBckM0RDtBQXVDL0Q4eEIscUJBQXFCLENBQUNwVixZQUF0QixHQUFxQztBQUFFM2EsV0FBUyxFQUFFO0FBQWIsQ0FBckM7QUFFTyxNQUFNa3dCLGFBQU4sU0FBNEJ0eEIsNENBQUssQ0FBQ0MsYUFBbEMsQ0FBZ0Q7QUFDckRDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWE7QUFBRW14QixjQUFRLEVBQUU7QUFBWixLQUFiO0FBQ0Q7O0FBRURDLG1CQUFpQixDQUFDbGQsS0FBRCxFQUFRbEIsSUFBUixFQUFjO0FBQzdCLFNBQUs1UyxRQUFMLENBQWM7QUFBRSt3QixjQUFRLEVBQUU7QUFBWixLQUFkO0FBQ0Q7O0FBRURsd0IsUUFBTSxHQUFHO0FBQ1AsUUFBSSxDQUFDLEtBQUtqQixLQUFMLENBQVdteEIsUUFBaEIsRUFBMEI7QUFDeEIsYUFBTyxLQUFLcHhCLEtBQUwsQ0FBVytFLFFBQWxCO0FBQ0Q7O0FBRUQsd0JBQU8sZ0VBQU0sS0FBTixDQUFZLGlCQUFaO0FBQThCLGVBQVMsRUFBRSxLQUFLL0UsS0FBTCxDQUFXaUI7QUFBcEQsTUFBUDtBQUNEOztBQWhCb0Q7QUFtQnZEa3dCLGFBQWEsQ0FBQ3ZWLFlBQWQsR0FBNkI7QUFBRTBWLG1CQUFpQixFQUFFTjtBQUFyQixDQUE3QixDOzs7Ozs7Ozs7Ozs7O0FDbkVBO0FBQ0E7QUFDQTtBQUVBO0FBRU8sU0FBU08sY0FBVCxDQUF3QnZ4QixLQUF4QixFQUErQjtBQUNwQztBQUNBLE1BQUlpQixTQUFTLEdBQUcsa0JBQWhCOztBQUNBLE1BQUlqQixLQUFLLENBQUNpQixTQUFWLEVBQXFCO0FBQ25CQSxhQUFTLElBQUssSUFBR2pCLEtBQUssQ0FBQ2lCLFNBQVUsRUFBakM7QUFDRDs7QUFDRCxzQkFDRTtBQUFRLFFBQUksRUFBQztBQUFiLEtBQTBCakIsS0FBMUI7QUFBaUMsYUFBUyxFQUFFaUI7QUFBNUMsTUFDR2pCLEtBQUssQ0FBQytFLFFBRFQsQ0FERjtBQUtELEM7Ozs7Ozs7QUNqQkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRU8sTUFBTXlzQixTQUFOLFNBQXdCM3hCLDRDQUFLLENBQUNDLGFBQTlCLENBQTRDO0FBQ2pEb0IsUUFBTSxHQUFHO0FBQ1Asd0JBQ0U7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRTtBQUFRLGVBQVMsRUFBQztBQUFsQixPQUNHLEtBQUtsQixLQUFMLENBQVdiLElBQVgsaUJBQ0M7QUFDRSxlQUFTLEVBQUMsT0FEWjtBQUVFLFdBQUssRUFBRTtBQUFFc3lCLHVCQUFlLEVBQUcsT0FBTSxLQUFLenhCLEtBQUwsQ0FBV2IsSUFBSztBQUExQztBQUZULE1BRkosRUFPRyxLQUFLYSxLQUFMLENBQVd1ZixLQUFYLGlCQUNDO0FBQU0sZUFBUyxFQUFDO0FBQWhCLG9CQUNFLDJEQUFDLDZGQUFEO0FBQWMsYUFBTyxFQUFFLEtBQUt2ZixLQUFMLENBQVd1ZjtBQUFsQyxNQURGLENBUkosRUFZRyxLQUFLdmYsS0FBTCxDQUFXeWYsU0FBWCxJQUF3QixLQUFLemYsS0FBTCxDQUFXMGYsUUFBbkMsaUJBQ0MsMkRBQUMsaUVBQUQ7QUFBWSxlQUFTLEVBQUMsTUFBdEI7QUFBNkIsU0FBRyxFQUFFLEtBQUsxZixLQUFMLENBQVcwZjtBQUE3QyxvQkFDRSwyREFBQyw2RkFBRDtBQUFjLGFBQU8sRUFBRSxLQUFLMWYsS0FBTCxDQUFXeWY7QUFBbEMsTUFERixDQWJKLENBREYsQ0FERjtBQXNCRDs7QUF4QmdELEM7Ozs7Ozs7QUNSbkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRU8sTUFBTWlTLGNBQU4sU0FBNkI3eEIsNENBQUssQ0FBQ0MsYUFBbkMsQ0FBaUQ7QUFDdERDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLMnhCLFVBQUwsR0FBa0IsS0FBS0EsVUFBTCxDQUFnQnZ4QixJQUFoQixDQUFxQixJQUFyQixDQUFsQjtBQUNBLFNBQUt3eEIsZ0JBQUwsR0FBd0IsS0FBS0EsZ0JBQUwsQ0FBc0J4eEIsSUFBdEIsQ0FBMkIsSUFBM0IsQ0FBeEI7QUFDQSxTQUFLeXhCLGlCQUFMLEdBQXlCLEtBQUtBLGlCQUFMLENBQXVCenhCLElBQXZCLENBQTRCLElBQTVCLENBQXpCO0FBQ0Q7O0FBRUR3eEIsa0JBQWdCLENBQUNydkIsS0FBRCxFQUFRO0FBQ3RCLFNBQUt2QyxLQUFMLENBQVdsRixRQUFYLENBQ0VDLGlFQUFFLENBQUMwQyxTQUFILENBQWE7QUFDWDhFLFdBQUssRUFBRSxvQkFESTtBQUVYN0QsWUFBTSxFQUFFO0FBRkcsS0FBYixDQURGO0FBTUQ7O0FBRURtekIsbUJBQWlCLENBQUN0dkIsS0FBRCxFQUFRO0FBQ3ZCLFNBQUt2QyxLQUFMLENBQVdsRixRQUFYLENBQW9CQyxpRUFBRSxDQUFDaUMsVUFBSCxDQUFjO0FBQUUvQixVQUFJLEVBQUVDLDhEQUFFLENBQUNvSDtBQUFYLEtBQWQsQ0FBcEI7QUFDRDs7QUFFRHF2QixZQUFVLEdBQUc7QUFDWCxTQUFLM3hCLEtBQUwsQ0FBV2xGLFFBQVgsQ0FBb0I7QUFDbEJHLFVBQUksRUFBRyxtQkFEVztBQUVsQnlDLFVBQUksRUFBRTtBQUZZLEtBQXBCO0FBSUQ7O0FBRUR3RCxRQUFNLEdBQUc7QUFDUCx3QkFDRSwyREFBQyw2R0FBRDtBQUNFLGFBQU8sRUFBRSxLQUFLeXdCLFVBRGhCO0FBRUUsb0JBQWMsRUFBQztBQUZqQixvQkFJRTtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFO0FBQUksc0JBQWE7QUFBakIsTUFERixlQUVFO0FBQUcsc0JBQWE7QUFBaEIsTUFGRixlQUdFO0FBQ0UsZUFBUyxFQUFDLCtCQURaO0FBRUUsc0JBQWEsMkJBRmY7QUFHRSxhQUFPLEVBQUUsS0FBS0MsZ0JBSGhCO0FBSUUsVUFBSSxFQUFDO0FBSlAsTUFIRixlQVNFO0FBQ0UsZUFBUyxFQUFDLDhCQURaO0FBRUUsc0JBQWEsb0NBRmY7QUFHRSxhQUFPLEVBQUUsS0FBS0M7QUFIaEIsTUFURixDQUpGLGVBbUJFO0FBQVMsZUFBUyxFQUFDO0FBQW5CLG9CQUNFO0FBQ0UsZUFBUyxFQUFDLE1BRFo7QUFFRSxVQUFJLEVBQUMsUUFGUDtBQUdFLGFBQU8sRUFBRSxLQUFLRixVQUhoQjtBQUlFLHNCQUFhO0FBSmYsTUFERixDQW5CRixDQURGO0FBOEJEOztBQTNEcUQsQzs7Ozs7OztBQ1J4RDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRU8sTUFBTUcsbUJBQU4sU0FBa0NqeUIsNENBQUssQ0FBQ0MsYUFBeEMsQ0FBc0Q7QUFDM0RDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLdW1CLFNBQUwsR0FBaUIsS0FBS0EsU0FBTCxDQUFlbm1CLElBQWYsQ0FBb0IsSUFBcEIsQ0FBakI7QUFDRCxHQUowRCxDQU0zRDtBQUNBOzs7QUFDQW1tQixXQUFTLENBQUNoa0IsS0FBRCxFQUFRO0FBQ2YsUUFBSUEsS0FBSyxDQUFDRSxHQUFOLEtBQWMsUUFBbEIsRUFBNEI7QUFDMUIsV0FBS3pDLEtBQUwsQ0FBVyt4QixPQUFYLENBQW1CeHZCLEtBQW5CO0FBQ0Q7QUFDRjs7QUFFRDJLLG9CQUFrQixHQUFHO0FBQ25CLFNBQUtsTixLQUFMLENBQVc1RSxRQUFYLENBQW9CRyxnQkFBcEIsQ0FBcUMsU0FBckMsRUFBZ0QsS0FBS2dyQixTQUFyRDtBQUNBLFNBQUt2bUIsS0FBTCxDQUFXNUUsUUFBWCxDQUFvQnNGLElBQXBCLENBQXlCQyxTQUF6QixDQUFtQzhQLEdBQW5DLENBQXVDLFlBQXZDO0FBQ0Q7O0FBRURuUSxzQkFBb0IsR0FBRztBQUNyQixTQUFLTixLQUFMLENBQVc1RSxRQUFYLENBQW9COEcsbUJBQXBCLENBQXdDLFNBQXhDLEVBQW1ELEtBQUtxa0IsU0FBeEQ7QUFDQSxTQUFLdm1CLEtBQUwsQ0FBVzVFLFFBQVgsQ0FBb0JzRixJQUFwQixDQUF5QkMsU0FBekIsQ0FBbUMyUCxNQUFuQyxDQUEwQyxZQUExQztBQUNEOztBQUVEcFAsUUFBTSxHQUFHO0FBQ1AsVUFBTTtBQUFFbEI7QUFBRixRQUFZLElBQWxCO0FBQ0EsUUFBSWlCLFNBQVMsR0FBR2pCLEtBQUssQ0FBQ2d5QixRQUFOLEdBQWlCLEVBQWpCLEdBQXNCLDBCQUF0Qzs7QUFDQSxRQUFJaHlCLEtBQUssQ0FBQ2l5QixjQUFWLEVBQTBCO0FBQ3hCaHhCLGVBQVMsSUFBSyxJQUFHakIsS0FBSyxDQUFDaXlCLGNBQWUsRUFBdEM7QUFDRDs7QUFDRCx3QkFDRTtBQUNFLGVBQVMsRUFBQywwQkFEWjtBQUVFLGVBQVMsRUFBRSxLQUFLMUwsU0FGbEI7QUFHRSxVQUFJLEVBQUM7QUFIUCxvQkFLRTtBQUNFLGVBQVMsRUFBRXRsQixTQURiO0FBRUUseUJBQWlCakIsS0FBSyxDQUFDa3lCLFFBRnpCO0FBR0UsUUFBRSxFQUFFbHlCLEtBQUssQ0FBQ2tELEVBSFo7QUFJRSxVQUFJLEVBQUM7QUFKUCxPQU1HbEQsS0FBSyxDQUFDK0UsUUFOVCxDQUxGLENBREY7QUFnQkQ7O0FBOUMwRDtBQWlEN0Qrc0IsbUJBQW1CLENBQUNsVyxZQUFwQixHQUFtQztBQUFFeGdCLFVBQVEsRUFBRTRGLE1BQU0sQ0FBQzVGO0FBQW5CLENBQW5DLEM7Ozs7Ozs7O0FDdkRBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVPLE1BQU0rMkIsUUFBTixTQUF1QnR5Qiw0Q0FBSyxDQUFDQyxhQUE3QixDQUEyQztBQUNoREMsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUtDLEtBQUwsR0FBYTtBQUNYdXdCLFlBQU0sRUFBRSxLQURHO0FBRVg0QixjQUFRLEVBQUU7QUFGQyxLQUFiO0FBSUEsU0FBS0Msa0JBQUwsR0FBMEIsS0FBS0Esa0JBQUwsQ0FBd0JqeUIsSUFBeEIsQ0FBNkIsSUFBN0IsQ0FBMUI7QUFDQSxTQUFLc3RCLFdBQUwsR0FBbUIsS0FBS0EsV0FBTCxDQUFpQnR0QixJQUFqQixDQUFzQixJQUF0QixDQUFuQjtBQUNBLFNBQUtreUIsVUFBTCxHQUFrQixLQUFLQSxVQUFMLENBQWdCbHlCLElBQWhCLENBQXFCLElBQXJCLENBQWxCO0FBQ0Q7O0FBRURpeUIsb0JBQWtCLENBQUM1RyxlQUFELEVBQWtCO0FBQ2xDLFFBQUksQ0FBQ0EsZUFBTCxFQUFzQjtBQUNwQixXQUFLcHJCLFFBQUwsQ0FBYztBQUNabXdCLGNBQU0sRUFBRSxLQURJO0FBRVo0QixnQkFBUSxFQUFFO0FBRkUsT0FBZDtBQUlEO0FBQ0Y7O0FBRURHLG9CQUFrQixHQUFHO0FBQ25CLFdBQU8sSUFBSTdZLE9BQUosQ0FBWUMsT0FBTyxJQUN4QixLQUFLM1osS0FBTCxDQUFXcWpCLFNBQVgsQ0FBcUJtUCxxQkFBckIsQ0FBMkM3WSxPQUEzQyxDQURLLENBQVA7QUFHRDs7QUFFZSxRQUFWMlksVUFBVSxHQUFHO0FBQ2pCLFFBQUk7QUFBRUY7QUFBRixRQUFlLEtBQUtueUIsS0FBeEIsQ0FEaUIsQ0FFakI7O0FBQ0EsVUFBTSxLQUFLc3lCLGtCQUFMLEVBQU47O0FBQ0EsUUFBSSxLQUFLdnlCLEtBQUwsQ0FBV3FqQixTQUFYLENBQXFCb1AsVUFBckIsR0FBa0MsQ0FBdEMsRUFBeUM7QUFDdkNMLGNBQVEsR0FBRyxJQUFYO0FBQ0Q7O0FBQ0QsU0FBSy94QixRQUFMLENBQWM7QUFDWm13QixZQUFNLEVBQUUsSUFESTtBQUVaNEI7QUFGWSxLQUFkO0FBSUQ7O0FBRUQxRSxhQUFXLEdBQUc7QUFDWixVQUFNO0FBQUVod0I7QUFBRixRQUFXLEtBQUtzQyxLQUF0Qjs7QUFDQSxRQUFJLEtBQUtBLEtBQUwsQ0FBV2xGLFFBQVgsSUFBdUI0QyxJQUF2QixJQUErQkEsSUFBSSxDQUFDMkwsS0FBcEMsSUFBNkMzTCxJQUFJLENBQUMyTCxLQUFMLENBQVdoRyxNQUE1RCxFQUFvRTtBQUNsRSxZQUFNM0UsTUFBTSxHQUFHLEtBQUtzQixLQUFMLENBQVcvRSxJQUFYLENBQWdCdXhCLFdBQWhCLEVBQWYsQ0FEa0UsQ0FFbEU7O0FBQ0EsWUFBTSxDQUFDL2lCLElBQUQsSUFBUy9MLElBQUksQ0FBQzJMLEtBQXBCO0FBQ0EsV0FBS3JKLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMsaUVBQUUsQ0FBQzBDLFNBQUgsQ0FBYTtBQUNYOEUsYUFBSyxFQUFFLE9BREk7QUFFWDdELGNBRlc7QUFHWGduQix1QkFBZSxFQUFFO0FBSE4sT0FBYixDQURGO0FBUUEsV0FBSzFsQixLQUFMLENBQVdsRixRQUFYLENBQ0VDLGlFQUFFLENBQUMrQyxlQUFILENBQW1CO0FBQ2pCWSxjQURpQjtBQUVqQmcwQixhQUFLLEVBQUUsQ0FGVTtBQUdqQnJLLGFBQUssRUFBRSxDQUNMO0FBQ0VubEIsWUFBRSxFQUFFdUcsSUFBSSxDQUFDdkcsRUFEWDtBQUVFb2xCLGFBQUcsRUFBRSxDQUZQO0FBR0UsY0FBSTdlLElBQUksQ0FBQ3NmLElBQUwsSUFBYXRmLElBQUksQ0FBQ3NmLElBQUwsQ0FBVTJKLEtBQXZCLEdBQ0E7QUFBRTNKLGdCQUFJLEVBQUV0ZixJQUFJLENBQUNzZixJQUFMLENBQVUySjtBQUFsQixXQURBLEdBRUEsRUFGSjtBQUhGLFNBREs7QUFIVSxPQUFuQixDQURGO0FBZUQ7QUFDRjs7QUFFRHh4QixRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUV4RCxVQUFGO0FBQVE1QyxjQUFSO0FBQWtCRztBQUFsQixRQUEyQixLQUFLK0UsS0FBdEM7O0FBQ0EsUUFBSSxDQUFDdEMsSUFBRCxJQUFTLENBQUNBLElBQUksQ0FBQzJMLEtBQWYsSUFBd0IsQ0FBQzNMLElBQUksQ0FBQzJMLEtBQUwsQ0FBVyxDQUFYLENBQTdCLEVBQTRDO0FBQzFDLGFBQU8sSUFBUDtBQUNELEtBSk0sQ0FLUDs7O0FBQ0EsVUFBTSxDQUFDSSxJQUFELElBQVMvTCxJQUFJLENBQUMyTCxLQUFwQjtBQUNBLFVBQU07QUFBRWtXLFdBQUY7QUFBUzNXLFNBQVQ7QUFBYytwQixhQUFkO0FBQXVCL0osZUFBdkI7QUFBa0MxbEIsUUFBbEM7QUFBc0M2bEI7QUFBdEMsUUFBK0N0ZixJQUFyRDtBQUVBLFVBQU1tcEIsMkJBQTJCLEdBQUcsQ0FDbEMsaUJBRGtDLEVBRWxDLHFCQUZrQyxFQUdsQyxXQUhrQyxFQUlsQyxVQUprQyxFQUtsQyxJQUFJaEssU0FBUyxHQUFHLENBQUMsaUJBQUQsQ0FBSCxHQUF5QixFQUF0QyxDQUxrQyxDQUFwQztBQVFBLFVBQU14a0IsY0FBYyxHQUFHLENBQ3JCLFdBRHFCLEVBRXJCLEtBQUtuRSxLQUFMLENBQVd1d0IsTUFBWCxJQUFxQixRQUZBLEVBR3JCLEtBQUt2d0IsS0FBTCxDQUFXbXlCLFFBQVgsSUFBdUIsV0FIRixFQUtwQnZ4QixNQUxvQixDQUtiQyxDQUFDLElBQUlBLENBTFEsRUFNcEJDLElBTm9CLENBTWYsR0FOZSxDQUF2QjtBQVFBLHdCQUNFO0FBQUssZUFBUyxFQUFFcUQ7QUFBaEIsb0JBQ0U7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRTtBQUFNLGVBQVMsRUFBQztBQUFoQixNQURGLGVBRUUseUVBQ0dtYixLQURILEVBQ1UsR0FEVixlQUVFLDJEQUFDLGlFQUFEO0FBQ0UsZUFBUyxFQUFDLGlCQURaO0FBRUUsY0FBUSxFQUFFemtCLFFBRlo7QUFHRSxpQkFBVyxFQUFFLEtBQUs0eUIsV0FIcEI7QUFJRSxTQUFHLEVBQUU5a0I7QUFKUCxPQU1HK3BCLE9BTkgsQ0FGRixDQUZGLGVBYUUsMkRBQUMsK0ZBQUQ7QUFDRSxjQUFRLEVBQUUvSixTQURaO0FBRUUsVUFBSSxFQUFFLENBQ0o7QUFDRTFsQixVQURGO0FBRUVvbEIsV0FBRyxFQUFFLENBRlA7QUFHRVMsWUFBSSxFQUFFQSxJQUFJLElBQUlBLElBQUksQ0FBQzdEO0FBSHJCLE9BREksQ0FGUjtBQVNFLGNBQVEsRUFBRXBxQixRQVRaO0FBVUUsWUFBTSxFQUFFRztBQVZWLE1BYkYsQ0FERixlQTJCRSwyREFBQyxzR0FBRDtBQUNFLGFBQU8sRUFBRSw2QkFEWDtBQUVFLGlCQUFXLEVBQUU7QUFBRXNrQjtBQUFGLE9BRmY7QUFHRSxjQUFRLEVBQUUsS0FBSzhTO0FBSGpCLG9CQUtFLDJEQUFDLGlGQUFEO0FBQ0UsY0FBUSxFQUFFdjNCLFFBRFo7QUFFRSxXQUFLLEVBQUUsQ0FGVDtBQUdFLFlBQU0sRUFBRUcsSUFBSSxDQUFDdXhCLFdBQUwsRUFIVjtBQUlFLFlBQU0sRUFBRSxLQUFLOEYsVUFKZjtBQUtFLGFBQU8sRUFBRU0sMkJBTFg7QUFNRSwrQkFBeUIsRUFBRSxJQU43QjtBQU9FLFVBQUksRUFBRTtBQUNKeEwsZ0JBQVEsRUFBRSx1Q0FETjtBQUVKN0gsYUFGSTtBQUdKdGtCLFlBSEk7QUFJSjJOLFdBSkk7QUFLSmtnQixZQUFJLEVBQUU1bEIsRUFMRjtBQU1KNmxCLFlBTkk7QUFPSkg7QUFQSTtBQVBSLE1BTEYsQ0EzQkYsQ0FERjtBQXFERDs7QUF0SitDO0FBeUpsRHVKLFFBQVEsQ0FBQ3ZXLFlBQVQsR0FBd0I7QUFDdEJ5SCxXQUFTLEVBQUU1SSxNQURXLENBQ0g7O0FBREcsQ0FBeEIsQzs7Ozs7OztBQ3BLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRU8sTUFBTW9ZLFdBQU4sU0FBMEJoekIsNENBQUssQ0FBQ0MsYUFBaEMsQ0FBOEM7QUFDbkRDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLMHRCLFdBQUwsR0FBbUIsS0FBS0EsV0FBTCxDQUFpQnR0QixJQUFqQixDQUFzQixJQUF0QixDQUFuQjtBQUNBLFNBQUt3dUIsY0FBTCxHQUFzQixLQUFLQSxjQUFMLENBQW9CeHVCLElBQXBCLENBQXlCLElBQXpCLENBQXRCO0FBQ0Q7O0FBRURzdEIsYUFBVyxHQUFHO0FBQ1osVUFBTTtBQUFFaHdCO0FBQUYsUUFBVyxLQUFLc0MsS0FBdEI7O0FBQ0EsUUFBSSxLQUFLQSxLQUFMLENBQVdsRixRQUFYLElBQXVCNEMsSUFBdkIsSUFBK0JBLElBQUksQ0FBQzJMLEtBQXBDLElBQTZDM0wsSUFBSSxDQUFDMkwsS0FBTCxDQUFXaEcsTUFBNUQsRUFBb0U7QUFDbEUsWUFBTTNFLE1BQU0sR0FBRyxLQUFLc0IsS0FBTCxDQUFXL0UsSUFBWCxDQUFnQnV4QixXQUFoQixFQUFmLENBRGtFLENBRWxFOztBQUNBLFlBQU0sQ0FBQy9pQixJQUFELElBQVMvTCxJQUFJLENBQUMyTCxLQUFwQjtBQUNBLFdBQUtySixLQUFMLENBQVdsRixRQUFYLENBQ0VDLGlFQUFFLENBQUMwQyxTQUFILENBQWE7QUFDWDhFLGFBQUssRUFBRSxPQURJO0FBRVg3RCxjQUZXO0FBR1hnbkIsdUJBQWUsRUFBRTtBQUhOLE9BQWIsQ0FERjtBQVFBLFdBQUsxbEIsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyxpRUFBRSxDQUFDK0MsZUFBSCxDQUFtQjtBQUNqQlksY0FEaUI7QUFFakJnMEIsYUFBSyxFQUFFLENBRlU7QUFHakJySyxhQUFLLEVBQUUsQ0FDTDtBQUNFbmxCLFlBQUUsRUFBRXVHLElBQUksQ0FBQ3ZHLEVBRFg7QUFFRW9sQixhQUFHLEVBQUUsQ0FGUDtBQUdFLGNBQUk3ZSxJQUFJLENBQUNzZixJQUFMLElBQWF0ZixJQUFJLENBQUNzZixJQUFMLENBQVUySixLQUF2QixHQUNBO0FBQUUzSixnQkFBSSxFQUFFdGYsSUFBSSxDQUFDc2YsSUFBTCxDQUFVMko7QUFBbEIsV0FEQSxHQUVBLEVBRko7QUFIRixTQURLO0FBSFUsT0FBbkIsQ0FERjtBQWVEO0FBQ0Y7O0FBRUQ5RCxnQkFBYyxHQUFHO0FBQ2YsVUFBTTtBQUFFbHhCO0FBQUYsUUFBVyxLQUFLc0MsS0FBdEI7O0FBQ0EsUUFBSSxLQUFLQSxLQUFMLENBQVdsRixRQUFYLElBQXVCNEMsSUFBdkIsSUFBK0JBLElBQUksQ0FBQzJMLEtBQXBDLElBQTZDM0wsSUFBSSxDQUFDMkwsS0FBTCxDQUFXaEcsTUFBNUQsRUFBb0U7QUFDbEUsWUFBTXlLLEtBQUssR0FBRyxDQUFkO0FBQ0EsWUFBTXBQLE1BQU0sR0FBRyxLQUFLc0IsS0FBTCxDQUFXL0UsSUFBWCxDQUFnQnV4QixXQUFoQixFQUFmLENBRmtFLENBR2xFOztBQUNBLFlBQU0sQ0FBQy9pQixJQUFELElBQVMvTCxJQUFJLENBQUMyTCxLQUFwQjtBQUNBLFlBQU15cEIsUUFBUSxHQUFHO0FBQ2ZscUIsV0FBRyxFQUFFYSxJQUFJLENBQUNiLEdBREs7QUFFZmtnQixZQUFJLEVBQUVyZixJQUFJLENBQUN2RyxFQUZJO0FBR2Y2bEIsWUFBSSxFQUFFdGYsSUFBSSxDQUFDc2Y7QUFISSxPQUFqQjtBQUtBLFlBQU1nRyxjQUFjLEdBQUcvSixpRkFBZSxDQUFDbUQsUUFBaEIsQ0FBeUIySyxRQUF6QixFQUFtQ2hsQixLQUFuQyxFQUEwQ3BQLE1BQTFDLENBQXZCO0FBRUEsWUFBTTtBQUFFdEMsY0FBRjtBQUFVOG9CLGtCQUFWO0FBQXNCQztBQUF0QixVQUFvQzRKLGNBQTFDO0FBRUEsV0FBSy91QixLQUFMLENBQVdsRixRQUFYLENBQW9Cc0IsTUFBcEI7QUFDQSxXQUFLNEQsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyxpRUFBRSxDQUFDMEMsU0FBSCxDQUFhO0FBQ1g4RSxhQUFLLEVBQUU0aUIsU0FESTtBQUVYem1CLGNBRlc7QUFHWGduQix1QkFBZSxFQUFFNVg7QUFITixPQUFiLENBREY7O0FBT0EsVUFBSW9YLFVBQUosRUFBZ0I7QUFDZCxhQUFLbGxCLEtBQUwsQ0FBV2xGLFFBQVgsQ0FBb0JvcUIsVUFBcEI7QUFDRDtBQUNGO0FBQ0Y7O0FBRURoa0IsUUFBTSxHQUFHO0FBQ1AsVUFBTTtBQUFFeEQ7QUFBRixRQUFXLEtBQUtzQyxLQUF0Qjs7QUFDQSxRQUFJLENBQUN0QyxJQUFELElBQVMsQ0FBQ0EsSUFBSSxDQUFDMkwsS0FBZixJQUF3QixDQUFDM0wsSUFBSSxDQUFDMkwsS0FBTCxDQUFXLENBQVgsQ0FBN0IsRUFBNEM7QUFDMUMsYUFBTyxJQUFQO0FBQ0QsS0FKTSxDQUtQOzs7QUFDQSxVQUFNLENBQUNJLElBQUQsSUFBUy9MLElBQUksQ0FBQzJMLEtBQXBCO0FBQ0EsVUFBTTtBQUNKMHBCLGVBREk7QUFFSkMsbUJBRkk7QUFHSjdPLGNBSEk7QUFJSjVFLFdBSkk7QUFLSjNXLFNBTEk7QUFNSmlHLGFBTkk7QUFPSm9rQixTQVBJO0FBUUpySyxlQVJJO0FBU0oxbEIsUUFUSTtBQVVKNmxCO0FBVkksUUFXRnRmLElBWEo7QUFhQSx3QkFDRSwyREFBQyw4R0FBRDtBQUNFLG9CQUFjLEVBQUUsS0FBS21sQixjQUR2QjtBQUVFLGtCQUFZLEVBQUc7QUFGakIsb0JBSUU7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRSwyREFBQyw0REFBRDtBQUNFLGNBQVEsRUFBRXpLLFFBRFo7QUFFRSxZQUFNLEVBQUU0TyxTQUZWO0FBR0UsZUFBUyxFQUFFQztBQUhiLE1BREYsZUFNRTtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFLHVFQUNJLEdBQUV6VCxLQUFNLFFBRFosZUFFRSwyREFBQyxpRUFBRDtBQUNFLGVBQVMsRUFBQyxpQkFEWjtBQUVFLGNBQVEsRUFBRSxLQUFLdmYsS0FBTCxDQUFXbEYsUUFGdkI7QUFHRSxpQkFBVyxFQUFFLEtBQUs0eUIsV0FIcEI7QUFJRSxTQUFHLEVBQUU5a0I7QUFKUCxPQU1HcXFCLEdBTkgsQ0FGRixDQURGLGVBWUU7QUFBRyxlQUFTLEVBQUM7QUFBYixPQUF5QnBrQixPQUF6QixDQVpGLENBTkYsZUFvQkUsMkRBQUMsK0ZBQUQ7QUFDRSxjQUFRLEVBQUUrWixTQURaO0FBRUUsVUFBSSxFQUFFLENBQ0o7QUFDRTFsQixVQURGO0FBRUVvbEIsV0FBRyxFQUFFLENBRlA7QUFHRVMsWUFBSSxFQUFFQSxJQUFJLElBQUlBLElBQUksQ0FBQzdEO0FBSHJCLE9BREksQ0FGUjtBQVNFLGNBQVEsRUFBRSxLQUFLbGxCLEtBQUwsQ0FBV2xGLFFBVHZCO0FBVUUsWUFBTSxFQUFFLEtBQUtrRixLQUFMLENBQVcvRTtBQVZyQixNQXBCRixDQUpGLENBREY7QUF3Q0Q7O0FBaklrRCxDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ1pyRDtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFTyxNQUFNaTRCLFdBQU4sU0FBMEJyekIsNENBQUssQ0FBQ0MsYUFBaEMsQ0FBOEM7QUFDbkRvQixRQUFNLEdBQUc7QUFDUCxVQUFNK0IsT0FBTyxHQUFHLEtBQUtqRCxLQUFMLENBQVdnRCxRQUFYLENBQW9CMk0sSUFBcEIsQ0FBeUJvUyxDQUFDLElBQUlBLENBQUMsQ0FBQzdlLEVBQUYsS0FBUyxZQUF2QyxDQUFoQjs7QUFDQSxRQUFJLENBQUNELE9BQUQsSUFBWSxDQUFDQSxPQUFPLENBQUNILE9BQXpCLEVBQWtDO0FBQ2hDLGFBQU8sSUFBUDtBQUNEOztBQUVELHdCQUNFO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0UsMkRBQUMsb0ZBQUQsZUFBaUJHLE9BQWpCO0FBQTBCLGFBQU8sRUFBRTtBQUFuQyxPQURGLENBREY7QUFLRDs7QUFaa0Q7QUFlOUMsTUFBTWt3QixVQUFVLEdBQUd0dUIsMkRBQU8sQ0FBQzVFLEtBQUssS0FBSztBQUFFK0MsVUFBUSxFQUFFL0MsS0FBSyxDQUFDK0M7QUFBbEIsQ0FBTCxDQUFOLENBQVAsQ0FDeEJrd0IsV0FEd0IsQ0FBbkIsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdkJQO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNclgsT0FBTyxHQUFHLFNBQWhCO0FBQ0EsTUFBTUMsdUJBQXVCLEdBQUcsa0JBQWhDO0FBQ0EsTUFBTXNYLHFCQUFxQixHQUFHLENBQTlCO0FBQ0EsTUFBTUMsMEJBQTBCLEdBQUcsQ0FBbkM7QUFFTyxNQUFNQyxPQUFOLFNBQXNCenpCLDRDQUFLLENBQUNDLGFBQTVCLENBQTBDO0FBQ3BDLE1BQVB5ekIsT0FBTyxHQUFHO0FBQ1osVUFBTTtBQUFFQyxjQUFGO0FBQVlDLGFBQVo7QUFBcUJweUI7QUFBckIsUUFBK0IsS0FBS3JCLEtBQTFDO0FBQ0EsV0FBT3d6QixRQUFRLEdBQUdueUIsS0FBSyxDQUFDQyxNQUFOLENBQWFreUIsUUFBYixDQUFILEdBQTRCQyxPQUEzQztBQUNEOztBQUVEckgsMEJBQXdCLEdBQUc7QUFDekIsVUFBTTtBQUFFcHNCO0FBQUYsUUFBWSxJQUFsQjtBQUNBLFFBQUkwekIsV0FBVyxHQUFHTixxQkFBbEI7O0FBQ0EsUUFDRXB6QixLQUFLLENBQUMyekIsWUFBTixJQUNBM3lCLE1BQU0sQ0FBQzR5QixVQUFQLENBQW1CLHFCQUFuQixFQUF5Q0MsT0FGM0MsRUFHRTtBQUNBO0FBQ0E7QUFDQTtBQUNBSCxpQkFBVyxHQUFHTCwwQkFBZDtBQUNEOztBQUNELFVBQU1TLFFBQVEsR0FBR0osV0FBVyxHQUFHLEtBQUtILE9BQXBDO0FBQ0EsVUFBTXJILEtBQUssR0FBR2xzQixLQUFLLENBQUNxc0IsSUFBTixDQUFXcGUsS0FBWCxDQUFpQixDQUFqQixFQUFvQjZsQixRQUFwQixDQUFkOztBQUVBLFFBQUksS0FBS0Msb0JBQUwsQ0FBMEI3SCxLQUExQixDQUFKLEVBQXNDO0FBQ3BDbHNCLFdBQUssQ0FBQ2xGLFFBQU4sQ0FDRUMsaUVBQUUsQ0FBQytDLGVBQUgsQ0FBbUI7QUFDakJZLGNBQU0sRUFBRXNCLEtBQUssQ0FBQ21kLFdBREc7QUFFakJrTCxhQUFLLEVBQUU2RCxLQUFLLENBQUNuakIsR0FBTixDQUFVb1osSUFBSSxLQUFLO0FBQUVqZixZQUFFLEVBQUVpZixJQUFJLENBQUMyRztBQUFYLFNBQUwsQ0FBZDtBQUZVLE9BQW5CLENBREY7QUFNQSxXQUFLcUQsbUJBQUwsR0FBMkJELEtBQUssQ0FBQ25qQixHQUFOLENBQVVvWixJQUFJLElBQUlBLElBQUksQ0FBQzJHLElBQXZCLENBQTNCO0FBQ0Q7QUFDRixHQTlCOEMsQ0FnQy9DO0FBQ0E7QUFDQTs7O0FBQ0FrTCxrQ0FBZ0MsR0FBRztBQUNqQyxVQUFNO0FBQUVoMEI7QUFBRixRQUFZLElBQWxCOztBQUVBLFFBQUksQ0FBQ0EsS0FBSyxDQUFDMmxCLHlCQUFQLElBQW9DLENBQUMzbEIsS0FBSyxDQUFDbEYsUUFBL0MsRUFBeUQ7QUFDdkQ7QUFDRDs7QUFFRCxRQUFJa0YsS0FBSyxDQUFDNUUsUUFBTixDQUFlNmdCLGVBQWYsS0FBbUNKLE9BQXZDLEVBQWdEO0FBQzlDLFdBQUt1USx3QkFBTDtBQUNELEtBRkQsTUFFTztBQUNMO0FBQ0E7QUFDQSxVQUFJLEtBQUtsUSxtQkFBVCxFQUE4QjtBQUM1QmxjLGFBQUssQ0FBQzVFLFFBQU4sQ0FBZThHLG1CQUFmLENBQ0U0Wix1QkFERixFQUVFLEtBQUtJLG1CQUZQO0FBSUQsT0FSSSxDQVVMOzs7QUFDQSxXQUFLQSxtQkFBTCxHQUEyQixNQUFNO0FBQy9CLFlBQUlsYyxLQUFLLENBQUM1RSxRQUFOLENBQWU2Z0IsZUFBZixLQUFtQ0osT0FBdkMsRUFBZ0Q7QUFDOUMsY0FBSSxDQUFDLEtBQUs3YixLQUFMLENBQVcwQyxJQUFYLENBQWdCbVMsU0FBckIsRUFBZ0M7QUFDOUIsaUJBQUt1WCx3QkFBTDtBQUNEOztBQUNEcHNCLGVBQUssQ0FBQzVFLFFBQU4sQ0FBZThHLG1CQUFmLENBQ0U0Wix1QkFERixFQUVFLEtBQUtJLG1CQUZQO0FBSUQ7QUFDRixPQVZEOztBQVdBbGMsV0FBSyxDQUFDNUUsUUFBTixDQUFlRyxnQkFBZixDQUNFdWdCLHVCQURGLEVBRUUsS0FBS0ksbUJBRlA7QUFJRDtBQUNGOztBQUVEaFAsb0JBQWtCLEdBQUc7QUFDbkIsU0FBSyttQixvQkFBTCxDQUEwQixLQUFLajBCLEtBQUwsQ0FBV3VCLFdBQXJDO0FBQ0Q7O0FBRURVLG1CQUFpQixHQUFHO0FBQ2xCLFFBQUksS0FBS2pDLEtBQUwsQ0FBV3FzQixJQUFYLENBQWdCaHBCLE1BQWhCLElBQTBCLENBQUMsS0FBS3JELEtBQUwsQ0FBVzBDLElBQVgsQ0FBZ0JtUyxTQUEvQyxFQUEwRDtBQUN4RCxXQUFLbWYsZ0NBQUw7QUFDRDtBQUNGOztBQUVENWUsb0JBQWtCLENBQUN5QyxTQUFELEVBQVk7QUFDNUIsVUFBTTtBQUFFN1g7QUFBRixRQUFZLElBQWxCO0FBQ0EsVUFBTW1HLFdBQVcsR0FBR25HLEtBQUssQ0FBQzBDLElBQU4sQ0FBV21TLFNBQS9CO0FBQ0EsVUFBTXFmLFlBQVksR0FBR3JjLFNBQVMsQ0FBQ25WLElBQVYsQ0FBZW1TLFNBQXBDOztBQUNBLFNBQ0U7QUFDQTdVLFNBQUssQ0FBQ3FzQixJQUFOLENBQVdocEIsTUFBWCxNQUNBO0FBQ0E7QUFDRXJELFNBQUssQ0FBQ3FzQixJQUFOLEtBQWV4VSxTQUFTLENBQUN3VSxJQUF6QixJQUFpQyxDQUFDbG1CLFdBQW5DLElBQ0M7QUFDQyt0QixnQkFBWSxJQUFJLENBQUMvdEIsV0FMcEIsQ0FGRixFQVFFO0FBQ0EsV0FBSzZ0QixnQ0FBTDtBQUNEO0FBQ0Y7O0FBRUR4ekIscUJBQW1CLENBQUNvWCxTQUFELEVBQVk7QUFDN0IsU0FBS3FjLG9CQUFMLENBQTBCcmMsU0FBUyxDQUFDclcsV0FBcEM7QUFDRDs7QUFFRGpCLHNCQUFvQixHQUFHO0FBQ3JCLFFBQUksS0FBSzRiLG1CQUFULEVBQThCO0FBQzVCLFdBQUtsYyxLQUFMLENBQVc1RSxRQUFYLENBQW9COEcsbUJBQXBCLENBQ0U0Wix1QkFERixFQUVFLEtBQUtJLG1CQUZQO0FBSUQ7QUFDRjs7QUFFRDZYLHNCQUFvQixDQUFDN0gsS0FBRCxFQUFRO0FBQzFCLFFBQ0UsQ0FBQyxLQUFLQyxtQkFBTixJQUNBLEtBQUtBLG1CQUFMLENBQXlCOW9CLE1BQXpCLEtBQW9DNm9CLEtBQUssQ0FBQzdvQixNQUY1QyxFQUdFO0FBQ0EsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQsU0FBSyxJQUFJMFAsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR21aLEtBQUssQ0FBQzdvQixNQUExQixFQUFrQzBQLENBQUMsRUFBbkMsRUFBdUM7QUFDckMsVUFBSW1aLEtBQUssQ0FBQ25aLENBQUQsQ0FBTCxDQUFTK1YsSUFBVCxLQUFrQixLQUFLcUQsbUJBQUwsQ0FBeUJwWixDQUF6QixDQUF0QixFQUFtRDtBQUNqRCxlQUFPLElBQVA7QUFDRDtBQUNGOztBQUVELFdBQU8sS0FBUDtBQUNELEdBaEk4QyxDQWtJL0M7QUFDQTtBQUNBOzs7QUFDQWtoQixzQkFBb0IsQ0FBQzF5QixXQUFELEVBQWM7QUFDaEMsUUFBSUEsV0FBVyxJQUFJLENBQUMsS0FBSzR5QixjQUF6QixFQUF5QztBQUN2QyxXQUFLbjBCLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMsaUVBQUUsQ0FBQ0MsVUFBSCxDQUFjO0FBQUVDLFlBQUksRUFBRUMsOERBQUUsQ0FBQ2s1QixrQkFBWDtBQUErQjEyQixZQUFJLEVBQUU7QUFBckMsT0FBZCxDQURGO0FBR0EsV0FBS3kyQixjQUFMLEdBQXNCLElBQXRCO0FBQ0Q7QUFDRjs7QUFFRGp6QixRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQ0pnQyxRQURJO0FBRUppYSxpQkFGSTtBQUdKb0MsV0FISTtBQUlKOE0sVUFKSTtBQUtKZ0ksWUFMSTtBQU1KQyxZQU5JO0FBT0pDLGdCQVBJO0FBUUp6NUIsY0FSSTtBQVNKNjRCLGtCQVRJO0FBVUphLHdCQVZJO0FBV0pDLHdCQVhJO0FBWUpsekIsaUJBWkk7QUFhSjJnQixlQWJJO0FBY0p4ZixVQWRJO0FBZUowZCxzQkFmSTtBQWdCSnNVLGFBaEJJO0FBaUJKQztBQWpCSSxRQWtCRixLQUFLMzBCLEtBbEJUO0FBb0JBLFVBQU00MEIsY0FBYyxHQUNsQjF4QixFQUFFLEtBQUssWUFBUCxJQUF1QixLQUFLbEQsS0FBTCxDQUFXcTBCLE1BQVgsQ0FBa0JPLGNBRDNDO0FBRUEsVUFBTUMsY0FBYyxHQUFHbEIsWUFBWSxHQUMvQk4sMEJBRCtCLEdBRS9CRCxxQkFGSjtBQUdBLFVBQU07QUFBRUc7QUFBRixRQUFjLElBQXBCO0FBQ0EsVUFBTU8sUUFBUSxHQUFHZSxjQUFjLEdBQUd0QixPQUFsQztBQUNBLFVBQU11QixnQkFBZ0IsR0FBRzFCLHFCQUFxQixHQUFHRyxPQUFqRDtBQUVBLFVBQU07QUFBRXdCLGVBQUY7QUFBYUM7QUFBYixRQUFnQ1gsTUFBTSxJQUFJLEVBQWhEO0FBQ0EsVUFBTTtBQUFFWTtBQUFGLFFBQWFGLFNBQVMsSUFBSSxFQUFoQyxDQS9CTyxDQWlDUDtBQUNBOztBQUNBLFVBQU1HLHVCQUF1QixHQUMzQkYsY0FBYyxLQUFLLElBQW5CLElBQTJCQSxjQUFjLEtBQUssS0FEaEQ7QUFHQSxVQUFNRyxTQUFTLEdBQUdiLE1BQU0sSUFBSSxDQUFDLENBQUNBLE1BQU0sQ0FBQ2p4QixNQUFyQztBQUVBLFVBQU0reEIsbUJBQW1CLEdBQ3ZCbHlCLEVBQUUsS0FBSyxZQUFQLElBQXVCK3hCLE1BQXZCLElBQWlDRCxjQUFjLEtBQUssS0FEdEQsQ0F4Q08sQ0EyQ1A7QUFDQTs7QUFDQSxVQUFNSyxnQkFBZ0IsR0FDcEJueUIsRUFBRSxLQUFLLFlBQVAsSUFDQWl5QixTQURBLEtBRUVGLE1BQU0sSUFBSUQsY0FBYyxLQUFLLElBQTlCLElBQ0UsQ0FBQ0MsTUFBRCxJQUFXQyx1QkFIZCxDQURGLENBN0NPLENBbURQOztBQUNBLFVBQU1JLGtCQUFrQixHQUFHZCxrQkFBa0IsSUFBSVcsU0FBakQ7QUFFQSxVQUFNSSxRQUFRLEdBQUdsSixJQUFJLENBQUNwZSxLQUFMLENBQVcsQ0FBWCxFQUFjNmxCLFFBQWQsQ0FBakIsQ0F0RE8sQ0F3RFA7QUFDQTs7QUFDQSxVQUFNMEIsb0JBQW9CLEdBQUdqMEIsV0FBVyxJQUFJLENBQUM4cUIsSUFBSSxDQUFDaHBCLE1BQWxEO0FBRUEsVUFBTTZvQixLQUFLLEdBQUcsRUFBZDs7QUFDQSxRQUFJLENBQUNzSixvQkFBTCxFQUEyQjtBQUN6QixXQUFLLElBQUl6aUIsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRytnQixRQUFwQixFQUE4Qi9nQixDQUFDLEVBQS9CLEVBQW1DO0FBQ2pDLGNBQU1vUCxJQUFJLEdBQUdvVCxRQUFRLENBQUN4aUIsQ0FBRCxDQUFyQixDQURpQyxDQUVqQztBQUNBOztBQUNBLGNBQU05UixTQUFTLEdBQUc4UixDQUFDLElBQUkraEIsZ0JBQUwsR0FBd0IsaUJBQXhCLEdBQTRDLEVBQTlEO0FBQ0EsWUFBSVcsY0FBYyxHQUFHLENBQUN0VCxJQUF0QixDQUxpQyxDQU1qQztBQUNBOztBQUNBLFlBQUksQ0FBQ3NULGNBQUQsSUFBbUIxaUIsQ0FBQyxLQUFLLENBQXpCLElBQThCNmhCLGNBQWxDLEVBQWtEO0FBQ2hEYSx3QkFBYyxHQUFHLElBQWpCO0FBQ0Q7O0FBQ0R2SixhQUFLLENBQUNuYSxJQUFOLENBQ0UsQ0FBQzBqQixjQUFELGdCQUNFLDJEQUFDLHFFQUFEO0FBQ0UsYUFBRyxFQUFFMWlCLENBRFA7QUFFRSxlQUFLLEVBQUVBLENBRlQ7QUFHRSxtQkFBUyxFQUFFOVIsU0FIYjtBQUlFLGtCQUFRLEVBQUVuRyxRQUpaO0FBS0UsY0FBSSxFQUFFcW5CLElBTFI7QUFNRSw0QkFBa0IsRUFBRXNTLGtCQU50QjtBQU9FLHFCQUFXLEVBQUV0WCxXQVBmO0FBUUUsbUNBQXlCLEVBQUUsS0FBS25kLEtBQUwsQ0FBVzJsQix5QkFSeEM7QUFTRSx3QkFBYyxFQUFFLEtBQUszbEIsS0FBTCxDQUFXMDFCO0FBVDdCLFVBREYsZ0JBYUUsMkRBQUMsZ0ZBQUQ7QUFBaUIsYUFBRyxFQUFFM2lCLENBQXRCO0FBQXlCLG1CQUFTLEVBQUU5UjtBQUFwQyxVQWRKO0FBaUJEO0FBQ0Y7O0FBRUQsVUFBTTAwQixnQkFBZ0IsR0FBRyxDQUN2QixTQUR1QixFQUV2QmhDLFlBQVksR0FBRyxlQUFILEdBQXFCLGNBRlYsRUFHdkI1eUIsSUFIdUIsQ0FHbEIsR0FIa0IsQ0FBekIsQ0E3Rk8sQ0FrR1A7QUFDQTs7QUFDQSx3QkFDRSwyREFBQywrR0FBRCxFQUF3QixLQUFLZixLQUE3QixlQUNFLDJEQUFDLCtHQUFEO0FBQ0UsZUFBUyxFQUFFMjFCLGdCQURiO0FBRUUsV0FBSyxFQUFFcFcsS0FGVDtBQUdFLFFBQUUsRUFBRXJjLEVBSE47QUFJRSxpQkFBVyxFQUFFaWEsV0FKZjtBQUtFLGVBQVMsRUFBRSxLQUFLbmQsS0FBTCxDQUFXMEMsSUFBWCxDQUFnQm1TLFNBTDdCO0FBTUUsa0JBQVksRUFBR25TLElBQUksSUFBSUEsSUFBSSxDQUFDNEYsSUFBZCxJQUF1QnBGLEVBTnZDO0FBT0Usc0JBQWdCLEVBQUVrZCxnQkFQcEI7QUFRRSxXQUFLLEVBQUUsS0FBS3BnQixLQUFMLENBQVdxQixLQVJwQjtBQVNFLGFBQU8sRUFBRSxLQUFLckIsS0FBTCxDQUFXNDFCLE9BVHRCO0FBVUUsYUFBTyxFQUFFbEIsT0FWWDtBQVdFLFlBQU0sRUFBRUMsTUFYVjtBQVlFLGVBQVMsRUFBRXpTLFNBWmI7QUFhRSxjQUFRLEVBQUUsS0FBS2xpQixLQUFMLENBQVdsRixRQWJ2QjtBQWNFLG9CQUFjLEVBQUUsS0FBS2tGLEtBQUwsQ0FBVzAxQjtBQWQ3QixPQWdCRyxDQUFDRixvQkFBRCxpQkFDQztBQUFJLGVBQVMsRUFBQyxjQUFkO0FBQTZCLFdBQUssRUFBRTtBQUFFSyxlQUFPLEVBQUU7QUFBWDtBQUFwQyxPQUNHM0osS0FESCxDQWpCSixFQXFCR3NKLG9CQUFvQixpQkFDbkI7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRTtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFLDJEQUFDLDZGQUFEO0FBQWMsYUFBTyxFQUFFakIsVUFBVSxDQUFDcjBCO0FBQWxDLG9CQUNFO0FBQUcsZUFBUyxFQUFDO0FBQWIsTUFERixDQURGLENBREYsQ0F0QkosRUE4QkdnRCxFQUFFLEtBQUssWUFBUCxpQkFDQztBQUFLLGVBQVMsRUFBQztBQUFmLE9BQ0dteUIsZ0JBQWdCLGlCQUNmO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0UsMkRBQUMsMkVBQUQ7QUFBUSxZQUFNLEVBQUUsS0FBS3IxQixLQUFMLENBQVdzMEI7QUFBM0IsTUFERixDQUZKLEVBT0djLG1CQUFtQixpQkFDbEI7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRSwyREFBQyw0R0FBRCxPQURGLENBUkosZUFhRTtBQUFLLGVBQVMsRUFBQztBQUFmLE9BQ0dFLGtCQUFrQixpQkFDakIsMkRBQUMsa0hBQUQ7QUFDRSx3QkFBa0IsRUFBRWQ7QUFEdEIsTUFGSixDQWJGLENBL0JKLENBREYsQ0FERjtBQTBERDs7QUE1UzhDO0FBK1NqRGxCLE9BQU8sQ0FBQzFYLFlBQVIsR0FBdUI7QUFDckJ4Z0IsVUFBUSxFQUFFNEYsTUFBTSxDQUFDNUYsUUFESTtBQUVyQml4QixNQUFJLEVBQUUsRUFGZTtBQUdyQmtJLFlBQVUsRUFBRSxFQUhTO0FBSXJCN3hCLE1BQUksRUFBRSxFQUplO0FBS3JCNmMsT0FBSyxFQUFFO0FBTGMsQ0FBdkI7QUFRTyxNQUFNdVcsV0FBVyxHQUFHanhCLDJEQUFPLENBQUM1RSxLQUFLLEtBQUs7QUFDM0NvQixPQUFLLEVBQUVwQixLQUFLLENBQUNvQixLQUQ4QjtBQUUzQ2d6QixRQUFNLEVBQUVwMEIsS0FBSyxDQUFDbzBCO0FBRjZCLENBQUwsQ0FBTixDQUFQLENBR3ZCZixPQUh1QixDQUFwQjtBQUtBLE1BQU15QyxTQUFOLFNBQXdCbDJCLDRDQUFLLENBQUNDLGFBQTlCLENBQTRDO0FBQ2pEazJCLGdCQUFjLEdBQUc7QUFDZixVQUFNQyxRQUFRLEdBQUcsRUFBakI7QUFDQSxVQUFNeHlCLGVBQWUsR0FBRyxLQUFLekQsS0FBTCxDQUFXZ0QsUUFBWCxDQUFvQm5DLE1BQXBCLENBQ3RCb0MsT0FBTyxJQUFJQSxPQUFPLENBQUNILE9BREcsQ0FBeEI7QUFHQSxVQUFNO0FBQ0pvekIsa0JBREk7QUFFSix3QkFBa0JDO0FBRmQsUUFHRixLQUFLbjJCLEtBQUwsQ0FBV3FCLEtBQVgsQ0FBaUJDLE1BSHJCLENBTGUsQ0FTZjs7QUFDQSxVQUFNODBCLGFBQWEsR0FBRzN5QixlQUFlLENBQUNKLE1BQWhCLEdBQXlCLENBQUMsQ0FBQzh5QixZQUFqRDs7QUFFQSxTQUFLLE1BQU1FLFNBQVgsSUFBd0JILFlBQVksQ0FBQ25zQixLQUFiLENBQW1CLEdBQW5CLENBQXhCLEVBQWlEO0FBQy9DLFlBQU11c0IsV0FBVyxHQUFHO0FBQ2xCN3pCLFdBQUcsRUFBRTR6QixTQURhO0FBRWxCM0IsZUFBTyxFQUFFdUIsUUFBUSxDQUFDNXlCLE1BQVQsS0FBb0IsQ0FGWDtBQUdsQnN4QixjQUFNLEVBQUVzQixRQUFRLENBQUM1eUIsTUFBVCxLQUFvQit5QixhQUFhLEdBQUc7QUFIMUIsT0FBcEI7O0FBS0EsVUFBSUMsU0FBUyxLQUFLLFVBQWQsSUFBNEJGLFlBQWhDLEVBQThDO0FBQzVDRixnQkFBUSxDQUFDbGtCLElBQVQsZUFBYywyREFBQyxrRkFBRCxFQUFjdWtCLFdBQWQsQ0FBZDtBQUNELE9BRkQsTUFFTztBQUNMLGNBQU1yekIsT0FBTyxHQUFHUSxlQUFlLENBQUNrTSxJQUFoQixDQUFxQm9TLENBQUMsSUFBSUEsQ0FBQyxDQUFDN2UsRUFBRixLQUFTbXpCLFNBQW5DLENBQWhCOztBQUNBLFlBQUlwekIsT0FBSixFQUFhO0FBQ1hnekIsa0JBQVEsQ0FBQ2xrQixJQUFULGVBQWMsMkRBQUMsV0FBRCxlQUFpQjlPLE9BQWpCLEVBQThCcXpCLFdBQTlCLEVBQWQ7QUFDRDtBQUNGO0FBQ0Y7O0FBQ0QsV0FBT0wsUUFBUDtBQUNEOztBQUVELzBCLFFBQU0sR0FBRztBQUNQLHdCQUFPO0FBQUssZUFBUyxFQUFDO0FBQWYsT0FBZ0MsS0FBSzgwQixjQUFMLEVBQWhDLENBQVA7QUFDRDs7QUFqQ2dEO0FBb0M1QyxNQUFNaHpCLFFBQVEsR0FBRzZCLDJEQUFPLENBQUM1RSxLQUFLLEtBQUs7QUFDeEMrQyxVQUFRLEVBQUUvQyxLQUFLLENBQUMrQyxRQUR3QjtBQUV4QzNCLE9BQUssRUFBRXBCLEtBQUssQ0FBQ29CO0FBRjJCLENBQUwsQ0FBTixDQUFQLENBR3BCMDBCLFNBSG9CLENBQWpCLEM7Ozs7Ozs7O0FDclhQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0NBR0E7O0FBQ0EsTUFBTVEsYUFBYSxHQUFHLElBQUlDLEdBQUosRUFBdEI7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sTUFBTUMsS0FBTixTQUFvQjUyQiw0Q0FBSyxDQUFDQyxhQUExQixDQUF3QztBQUM3Q0MsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUtDLEtBQUwsR0FBYTtBQUNYeTJCLGdCQUFVLEVBQUUsSUFERDtBQUVYQyxpQkFBVyxFQUFFLEtBRkY7QUFHWEMsZUFBUyxFQUFFO0FBSEEsS0FBYjtBQUtBLFNBQUt2RSxrQkFBTCxHQUEwQixLQUFLQSxrQkFBTCxDQUF3Qmp5QixJQUF4QixDQUE2QixJQUE3QixDQUExQjtBQUNBLFNBQUtzdEIsV0FBTCxHQUFtQixLQUFLQSxXQUFMLENBQWlCdHRCLElBQWpCLENBQXNCLElBQXRCLENBQW5CO0FBQ0Q7QUFFRDtBQUNGO0FBQ0E7OztBQUNzQixRQUFkeTJCLGNBQWMsR0FBRztBQUNyQjtBQUNBLFVBQU07QUFBRUQ7QUFBRixRQUFnQixLQUFLMzJCLEtBQTNCOztBQUNBLFFBQUksQ0FBQzIyQixTQUFMLEVBQWdCO0FBQ2Q7QUFDRDs7QUFFRCxVQUFNRSxRQUFRLEdBQUdGLFNBQVMsQ0FBQ2h1QixHQUEzQjs7QUFDQSxRQUFJLENBQUMsS0FBSzNJLEtBQUwsQ0FBVzAyQixXQUFoQixFQUE2QjtBQUMzQjtBQUNBLFVBQUksQ0FBQ0osYUFBYSxDQUFDUSxHQUFkLENBQWtCRCxRQUFsQixDQUFMLEVBQWtDO0FBQ2hDLGNBQU1FLGFBQWEsR0FBRyxJQUFJdGQsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVXNkLE1BQVYsS0FBcUI7QUFDckQsZ0JBQU1DLE1BQU0sR0FBRyxJQUFJQyxLQUFKLEVBQWY7QUFDQUQsZ0JBQU0sQ0FBQzM3QixnQkFBUCxDQUF3QixNQUF4QixFQUFnQ29lLE9BQWhDO0FBQ0F1ZCxnQkFBTSxDQUFDMzdCLGdCQUFQLENBQXdCLE9BQXhCLEVBQWlDMDdCLE1BQWpDO0FBQ0FDLGdCQUFNLENBQUNFLEdBQVAsR0FBYU4sUUFBYjtBQUNELFNBTHFCLENBQXRCLENBRGdDLENBUWhDOztBQUNBUCxxQkFBYSxDQUFDYyxHQUFkLENBQWtCUCxRQUFsQixFQUE0QkUsYUFBNUI7QUFDQUEscUJBQWEsQ0FDVk0sS0FESCxDQUNTQyxFQUFFLElBQUlBLEVBRGYsRUFFR2hxQixJQUZILENBRVEsTUFBTWdwQixhQUFhLENBQUN2TixNQUFkLENBQXFCOE4sUUFBckIsQ0FGZCxFQUdHUSxLQUhIO0FBSUQsT0FoQjBCLENBa0IzQjs7O0FBQ0EsVUFBSTtBQUNGLGNBQU1mLGFBQWEsQ0FBQ3pmLEdBQWQsQ0FBa0JnZ0IsUUFBbEIsQ0FBTjtBQUNELE9BRkQsQ0FFRSxPQUFPUyxFQUFQLEVBQVc7QUFDWDtBQUNBO0FBQ0QsT0F4QjBCLENBMEIzQjs7O0FBQ0EsVUFDRUMsZ0ZBQWUsQ0FBQ0Msa0JBQWhCLENBQ0UsS0FBS3gzQixLQUFMLENBQVcyMkIsU0FEYixFQUVFLEtBQUs1MkIsS0FBTCxDQUFXbWlCLElBQVgsQ0FBZ0J1VixLQUZsQixLQUlBLENBQUMsS0FBS3ozQixLQUFMLENBQVcwMkIsV0FMZCxFQU1FO0FBQ0EsYUFBS3QyQixRQUFMLENBQWM7QUFBRXMyQixxQkFBVyxFQUFFO0FBQWYsU0FBZDtBQUNEO0FBQ0Y7QUFDRjtBQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUM4QixTQUFyQmdCLHFCQUFxQixDQUFDL2YsU0FBRCxFQUFZNUosU0FBWixFQUF1QjtBQUNqRCxVQUFNO0FBQUUwcEI7QUFBRixRQUFZOWYsU0FBUyxDQUFDdUssSUFBNUI7QUFDQSxVQUFNeVYsWUFBWSxHQUFHSixnRkFBZSxDQUFDQyxrQkFBaEIsQ0FDbkJ6cEIsU0FBUyxDQUFDNG9CLFNBRFMsRUFFbkJjLEtBRm1CLENBQXJCO0FBSUEsUUFBSUcsU0FBUyxHQUFHLElBQWhCLENBTmlELENBUWpEOztBQUNBLFFBQUksQ0FBQ0QsWUFBRCxJQUFpQmhnQixTQUFTLENBQUN1SyxJQUEvQixFQUFxQztBQUNuQzBWLGVBQVMsR0FBRztBQUFFbEIsbUJBQVcsRUFBRTtBQUFmLE9BQVo7QUFDRDs7QUFFRCxRQUFJaUIsWUFBSixFQUFrQjtBQUNoQixhQUFPQyxTQUFQO0FBQ0QsS0FmZ0QsQ0FpQmpEOzs7QUFDQUwsb0ZBQWUsQ0FBQ00sd0JBQWhCLENBQXlDOXBCLFNBQVMsQ0FBQzRvQixTQUFuRDtBQUVBaUIsYUFBUyxHQUFHQSxTQUFTLElBQUksRUFBekI7QUFDQUEsYUFBUyxDQUFDakIsU0FBVixHQUFzQlksZ0ZBQWUsQ0FBQ08sc0JBQWhCLENBQXVDTCxLQUF2QyxDQUF0QjtBQUVBLFdBQU9HLFNBQVA7QUFDRDs7QUFFRHhGLG9CQUFrQixDQUFDMkYsTUFBRCxFQUFTO0FBQ3pCLFFBQUlBLE1BQUosRUFBWTtBQUNWLFdBQUszM0IsUUFBTCxDQUFjO0FBQUVxMkIsa0JBQVUsRUFBRSxLQUFLMTJCLEtBQUwsQ0FBVzhOO0FBQXpCLE9BQWQ7QUFDRCxLQUZELE1BRU87QUFDTCxXQUFLek4sUUFBTCxDQUFjO0FBQUVxMkIsa0JBQVUsRUFBRTtBQUFkLE9BQWQ7QUFDRDtBQUNGO0FBRUQ7QUFDRjtBQUNBOzs7QUFDRXVCLG1CQUFpQixHQUFHO0FBQ2xCO0FBQ0EsUUFBSSxLQUFLajRCLEtBQUwsQ0FBV21pQixJQUFYLENBQWdCbG5CLElBQWhCLEtBQXlCLFNBQTdCLEVBQXdDO0FBQ3RDLGFBQU87QUFBRXNELGFBQUssRUFBRTtBQUFFMjVCLG1CQUFTLEVBQUUsS0FBS2w0QixLQUFMLENBQVdtaUIsSUFBWCxDQUFnQmxuQjtBQUE3QjtBQUFULE9BQVA7QUFDRDs7QUFFRCxXQUFPLElBQVA7QUFDRDs7QUFFRHl5QixhQUFXLENBQUNuckIsS0FBRCxFQUFRO0FBQ2pCQSxTQUFLLENBQUMyTixjQUFOO0FBQ0EsVUFBTTtBQUFFc2QsWUFBRjtBQUFVakksWUFBVjtBQUFrQkgsYUFBbEI7QUFBMkJDLGFBQTNCO0FBQW9DQztBQUFwQyxRQUFpRC9pQixLQUF2RDs7QUFDQSxRQUFJLEtBQUt2QyxLQUFMLENBQVdtaUIsSUFBWCxDQUFnQmxuQixJQUFoQixLQUF5QixVQUE3QixFQUF5QztBQUN2QyxXQUFLK0UsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyxpRUFBRSxDQUFDaUMsVUFBSCxDQUFjO0FBQ1ovQixZQUFJLEVBQUVDLDhEQUFFLENBQUN5dUIsa0JBREc7QUFFWmpzQixZQUFJLEVBQUV3TCxNQUFNLENBQUNzYyxNQUFQLENBQWMsS0FBS3hsQixLQUFMLENBQVdtaUIsSUFBekIsRUFBK0I7QUFDbkM1ZixlQUFLLEVBQUU7QUFBRWdqQixrQkFBRjtBQUFVSCxtQkFBVjtBQUFtQkMsbUJBQW5CO0FBQTRCQztBQUE1QjtBQUQ0QixTQUEvQjtBQUZNLE9BQWQsQ0FERjtBQVFELEtBVEQsTUFTTztBQUNMLFdBQUt0bEIsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyxpRUFBRSxDQUFDaUMsVUFBSCxDQUFjO0FBQ1ovQixZQUFJLEVBQUVDLDhEQUFFLENBQUM2dUIsU0FERztBQUVacnNCLFlBQUksRUFBRXdMLE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxLQUFLeGxCLEtBQUwsQ0FBV21pQixJQUF6QixFQUErQjtBQUNuQzVmLGVBQUssRUFBRTtBQUFFaXJCLGtCQUFGO0FBQVVqSSxrQkFBVjtBQUFrQkgsbUJBQWxCO0FBQTJCQyxtQkFBM0I7QUFBb0NDO0FBQXBDO0FBRDRCLFNBQS9CO0FBRk0sT0FBZCxDQURGO0FBUUQ7O0FBQ0QsUUFBSSxLQUFLdGxCLEtBQUwsQ0FBVzAxQixjQUFmLEVBQStCO0FBQzdCLFdBQUsxMUIsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyxpRUFBRSxDQUFDMEQsV0FBSCxDQUFldkQsOERBQUUsQ0FBQ2k5QixZQUFsQixFQUFnQztBQUM5Qno1QixjQUFNLEVBQUUsS0FBS3NCLEtBQUwsQ0FBV21kLFdBRFc7QUFFOUJ2VSxXQUFHLEVBQUUsS0FBSzVJLEtBQUwsQ0FBV21pQixJQUFYLENBQWdCdlosR0FGUztBQUc5QjhjLHVCQUFlLEVBQUUsS0FBSzFsQixLQUFMLENBQVc4TjtBQUhFLE9BQWhDLENBREY7QUFPRCxLQVJELE1BUU87QUFDTCxXQUFLOU4sS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyxpRUFBRSxDQUFDMEMsU0FBSCxDQUNFeUwsTUFBTSxDQUFDc2MsTUFBUCxDQUNFO0FBQ0VqakIsYUFBSyxFQUFFLE9BRFQ7QUFFRTdELGNBQU0sRUFBRSxLQUFLc0IsS0FBTCxDQUFXbWQsV0FGckI7QUFHRXVJLHVCQUFlLEVBQUUsS0FBSzFsQixLQUFMLENBQVc4TjtBQUg5QixPQURGLEVBTUUsS0FBS21xQixpQkFBTCxFQU5GLENBREYsQ0FERjs7QUFhQSxVQUFJLEtBQUtqNEIsS0FBTCxDQUFXMmxCLHlCQUFmLEVBQTBDO0FBQ3hDLGFBQUszbEIsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyxpRUFBRSxDQUFDK0MsZUFBSCxDQUFtQjtBQUNqQlksZ0JBQU0sRUFBRSxLQUFLc0IsS0FBTCxDQUFXbWQsV0FERjtBQUVqQnVWLGVBQUssRUFBRSxDQUZVO0FBR2pCckssZUFBSyxFQUFFLENBQUM7QUFBRW5sQixjQUFFLEVBQUUsS0FBS2xELEtBQUwsQ0FBV21pQixJQUFYLENBQWdCMkcsSUFBdEI7QUFBNEJSLGVBQUcsRUFBRSxLQUFLdG9CLEtBQUwsQ0FBVzhOO0FBQTVDLFdBQUQ7QUFIVSxTQUFuQixDQURGO0FBT0Q7QUFDRjtBQUNGOztBQUVEN0wsbUJBQWlCLEdBQUc7QUFDbEIsU0FBSzQwQixjQUFMO0FBQ0Q7O0FBRUR6aEIsb0JBQWtCLEdBQUc7QUFDbkIsU0FBS3loQixjQUFMO0FBQ0QsR0FyTDRDLENBdUw3QztBQUNBO0FBQ0E7OztBQUNBM3BCLG9CQUFrQixHQUFHO0FBQ25CLFVBQU0ycUIsU0FBUyxHQUFHcEIsS0FBSyxDQUFDa0IscUJBQU4sQ0FBNEIsS0FBSzMzQixLQUFqQyxFQUF3QyxLQUFLQyxLQUE3QyxDQUFsQjs7QUFDQSxRQUFJNDNCLFNBQUosRUFBZTtBQUNiLFdBQUt4M0IsUUFBTCxDQUFjdzNCLFNBQWQ7QUFDRDtBQUNGLEdBL0w0QyxDQWlNN0M7QUFDQTtBQUNBOzs7QUFDQU8sMkJBQXlCLENBQUN4Z0IsU0FBRCxFQUFZO0FBQ25DLFVBQU1pZ0IsU0FBUyxHQUFHcEIsS0FBSyxDQUFDa0IscUJBQU4sQ0FBNEIvZixTQUE1QixFQUF1QyxLQUFLM1gsS0FBNUMsQ0FBbEI7O0FBQ0EsUUFBSTQzQixTQUFKLEVBQWU7QUFDYixXQUFLeDNCLFFBQUwsQ0FBY3czQixTQUFkO0FBQ0Q7QUFDRjs7QUFFRHYzQixzQkFBb0IsR0FBRztBQUNyQmszQixvRkFBZSxDQUFDTSx3QkFBaEIsQ0FBeUMsS0FBSzczQixLQUFMLENBQVcyMkIsU0FBcEQ7QUFDRDs7QUFFRDExQixRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQ0o0TSxXQURJO0FBRUo3TSxlQUZJO0FBR0praEIsVUFISTtBQUlKcm5CLGNBSkk7QUFLSjI1Qix3QkFMSTtBQU1KdFgsaUJBTkk7QUFPSndJO0FBUEksUUFRRixLQUFLM2xCLEtBUlQ7QUFTQSxVQUFNO0FBQUVBO0FBQUYsUUFBWSxJQUFsQjtBQUNBLFVBQU11ZixLQUFLLEdBQUc0QyxJQUFJLENBQUM1QyxLQUFMLElBQWM0QyxJQUFJLENBQUNrVyxRQUFqQztBQUNBLFVBQU1DLGlCQUFpQixHQUFHLEtBQUtyNEIsS0FBTCxDQUFXeTJCLFVBQVgsS0FBMEI1b0IsS0FBcEQsQ0FaTyxDQWFQOztBQUNBLFVBQU07QUFBRTNPLFVBQUY7QUFBUTh1QjtBQUFSLFFBQ0pGLHVEQUFnQixDQUFDNUwsSUFBSSxDQUFDbG5CLElBQUwsS0FBYyxLQUFkLEdBQXNCLFVBQXRCLEdBQW1Da25CLElBQUksQ0FBQ2xuQixJQUF6QyxDQUFoQixJQUFrRSxFQURwRTtBQUVBLFVBQU1zOUIsUUFBUSxHQUFHLEtBQUt0NEIsS0FBTCxDQUFXMjJCLFNBQVgsSUFBd0J6VSxJQUFJLENBQUNvVyxRQUE5QztBQUNBLFVBQU1DLFVBQVUsR0FBRztBQUNqQi9HLHFCQUFlLEVBQUUsS0FBS3h4QixLQUFMLENBQVcyMkIsU0FBWCxHQUNaLE9BQU0sS0FBSzMyQixLQUFMLENBQVcyMkIsU0FBWCxDQUFxQmh1QixHQUFJLEdBRG5CLEdBRWI7QUFIYSxLQUFuQjtBQUtBLFVBQU14RSxjQUFjLEdBQUcsQ0FDckIsWUFEcUIsRUFFckJuRCxTQUZxQixFQUdyQnEzQixpQkFBaUIsSUFBSSxRQUhBLEVBSXJCdDRCLEtBQUssQ0FBQ3k0QixXQUFOLElBQXFCLGFBSkEsRUFNcEI1M0IsTUFOb0IsQ0FNYkMsQ0FBQyxJQUFJQSxDQU5RLEVBT3BCQyxJQVBvQixDQU9mLEdBUGUsQ0FBdkI7QUFTQSx3QkFDRTtBQUFJLGVBQVMsRUFBRXFEO0FBQWYsb0JBQ0U7QUFDRSxVQUFJLEVBQUUrZCxJQUFJLENBQUNsbkIsSUFBTCxLQUFjLFFBQWQsR0FBeUJrbkIsSUFBSSxDQUFDc0csUUFBOUIsR0FBeUN0RyxJQUFJLENBQUN2WixHQUR0RDtBQUVFLGFBQU8sRUFBRSxDQUFDNUksS0FBSyxDQUFDeTRCLFdBQVAsR0FBcUIsS0FBSy9LLFdBQTFCLEdBQXdDMWQ7QUFGbkQsb0JBSUU7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRTtBQUFLLGVBQVMsRUFBQztBQUFmLE9BQ0d1b0IsUUFBUSxpQkFDUDtBQUNFLGVBQVMsRUFBRyxxQkFDVixLQUFLdDRCLEtBQUwsQ0FBVzAyQixXQUFYLEdBQXlCLFNBQXpCLEdBQXFDLEVBQ3RDLEVBSEg7QUFJRSxXQUFLLEVBQUU2QjtBQUpULE1BRkosQ0FERixlQVdFO0FBQUssZUFBUyxFQUFDO0FBQWYsT0FDR3JXLElBQUksQ0FBQ2xuQixJQUFMLEtBQWMsVUFBZCxpQkFDQztBQUNFLGVBQVMsRUFBQywwQkFEWjtBQUVFLHNCQUFhO0FBRmYsTUFGSixFQU9Ha25CLElBQUksQ0FBQ2tXLFFBQUwsaUJBQ0M7QUFBSyxlQUFTLEVBQUM7QUFBZixPQUNHbFcsSUFBSSxDQUFDa1csUUFBTCxDQUFjcHFCLEtBQWQsQ0FBb0IsQ0FBcEIsRUFBdUIsR0FBdkIsQ0FESCxFQUVHa1UsSUFBSSxDQUFDbG5CLElBQUwsS0FBYyxVQUFkLElBQTZCLFlBQVdrbkIsSUFBSSxDQUFDdVcsV0FBWSxFQUY1RCxDQVJKLGVBYUU7QUFDRSxlQUFTLEVBQUUsQ0FDVCxXQURTLEVBRVR2NUIsSUFBSSxHQUFHLEVBQUgsR0FBUSxZQUZILEVBR1RnakIsSUFBSSxDQUFDdVcsV0FBTCxHQUFtQixFQUFuQixHQUF3QixnQkFIZixFQUlUdlcsSUFBSSxDQUFDa1csUUFBTCxHQUFnQixFQUFoQixHQUFxQixjQUpaLEVBS1R0M0IsSUFMUyxDQUtKLEdBTEk7QUFEYixvQkFRRTtBQUFJLGVBQVMsRUFBQyxZQUFkO0FBQTJCLFNBQUcsRUFBQztBQUEvQixPQUNHb2hCLElBQUksQ0FBQzVDLEtBRFIsQ0FSRixlQVdFO0FBQUcsZUFBUyxFQUFDLGtCQUFiO0FBQWdDLFNBQUcsRUFBQztBQUFwQyxPQUNHNEMsSUFBSSxDQUFDdVcsV0FEUixDQVhGLENBYkYsZUE0QkU7QUFBSyxlQUFTLEVBQUM7QUFBZixPQUNHdjVCLElBQUksSUFBSSxDQUFDZ2pCLElBQUksQ0FBQ3RULE9BQWQsaUJBQ0M7QUFDRSx1QkFBYyxNQURoQjtBQUVFLGVBQVMsRUFBRywrQkFBOEIxUCxJQUFLO0FBRmpELE1BRkosRUFPR2dqQixJQUFJLENBQUNoakIsSUFBTCxJQUFhZ2pCLElBQUksQ0FBQ3RULE9BQWxCLGlCQUNDO0FBQ0UsdUJBQWMsTUFEaEI7QUFFRSxlQUFTLEVBQUMsd0JBRlo7QUFHRSxXQUFLLEVBQUU7QUFBRTRpQix1QkFBZSxFQUFHLFFBQU90UCxJQUFJLENBQUNoakIsSUFBSztBQUFyQztBQUhULE1BUkosRUFjRzh1QixRQUFRLElBQUksQ0FBQzlMLElBQUksQ0FBQ3RULE9BQWxCLGlCQUNDO0FBQUssZUFBUyxFQUFDLG9CQUFmO0FBQW9DLHNCQUFjb2Y7QUFBbEQsTUFmSixFQWlCRzlMLElBQUksQ0FBQ3RULE9BQUwsaUJBQ0M7QUFBSyxlQUFTLEVBQUM7QUFBZixPQUFxQ3NULElBQUksQ0FBQ3RULE9BQTFDLENBbEJKLENBNUJGLENBWEYsQ0FKRixDQURGLEVBb0VHLENBQUM3TyxLQUFLLENBQUN5NEIsV0FBUCxpQkFDQywyREFBQyxzR0FBRDtBQUNFLGFBQU8sRUFBQyw2QkFEVjtBQUVFLGlCQUFXLEVBQUU7QUFBRWxaO0FBQUYsT0FGZjtBQUdFLGNBQVEsRUFBRSxLQUFLOFM7QUFIakIsb0JBS0UsMkRBQUMsaUZBQUQ7QUFDRSxjQUFRLEVBQUV2M0IsUUFEWjtBQUVFLFdBQUssRUFBRWdULEtBRlQ7QUFHRSxZQUFNLEVBQUVxUCxXQUhWO0FBSUUsYUFBTyxFQUFFZ0YsSUFBSSxDQUFDc1Msa0JBQUwsSUFBMkJBLGtCQUp0QztBQUtFLFVBQUksRUFBRXRTLElBTFI7QUFNRSxjQUFRLEVBQUUsS0FBSzhWLGlCQUFMLEVBTlo7QUFPRSwrQkFBeUIsRUFBRXRTO0FBUDdCLE1BTEYsQ0FyRUosQ0FERjtBQXdGRDs7QUF0VTRDO0FBd1UvQzhRLEtBQUssQ0FBQzdhLFlBQU4sR0FBcUI7QUFBRXVHLE1BQUksRUFBRTtBQUFSLENBQXJCO0FBQ08sTUFBTXdXLElBQUksR0FBRzl6QiwyREFBTyxDQUFDNUUsS0FBSyxLQUFLO0FBQ3BDMGtCLFVBQVEsRUFBRTFrQixLQUFLLENBQUNvQixLQUFOLENBQVlDLE1BQVosQ0FBbUJxakI7QUFETyxDQUFMLENBQU4sQ0FBUCxDQUVoQjhSLEtBRmdCLENBQWI7QUFHQSxNQUFNbUMsZUFBZSxHQUFHNTRCLEtBQUssaUJBQ2xDLDJEQUFDLElBQUQ7QUFBTSxhQUFXLEVBQUUsSUFBbkI7QUFBeUIsV0FBUyxFQUFFQSxLQUFLLENBQUNpQjtBQUExQyxFQURLLEM7Ozs7Ozs7QUNwV1A7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxNQUFNdTJCLGVBQWUsR0FBRztBQUM3QnFCLFFBQU0sQ0FBQ0MsT0FBRCxFQUFVcEIsS0FBVixFQUFpQjtBQUNyQixXQUFPLENBQUMsRUFDTkEsS0FBSyxJQUNMQSxLQUFLLENBQUNxQixJQUROLEtBRUUsQ0FBQ0QsT0FBRCxJQUFZcEIsS0FBSyxDQUFDaDZCLElBQW5CLElBQTZCbzdCLE9BQU8sSUFBSXBCLEtBQUssQ0FBQzl1QixHQUYvQyxDQURNLENBQVI7QUFLRCxHQVA0Qjs7QUFTN0I7QUFDQW12Qix3QkFBc0IsQ0FBQ2lCLFdBQUQsRUFBYztBQUNsQyxRQUFJLENBQUNBLFdBQUwsRUFBa0I7QUFDaEIsYUFBTyxJQUFQO0FBQ0Q7O0FBQ0QsUUFBSSxLQUFLSCxNQUFMLENBQVksS0FBWixFQUFtQkcsV0FBbkIsQ0FBSixFQUFxQztBQUNuQyxhQUFPO0FBQ0xwd0IsV0FBRyxFQUFFNUgsTUFBTSxDQUFDNlYsR0FBUCxDQUFXb2lCLGVBQVgsQ0FBMkJELFdBQVcsQ0FBQ3Q3QixJQUF2QyxDQURBO0FBRUxxN0IsWUFBSSxFQUFFQyxXQUFXLENBQUNEO0FBRmIsT0FBUDtBQUlEOztBQUNELFdBQU87QUFBRW53QixTQUFHLEVBQUVvd0I7QUFBUCxLQUFQO0FBQ0QsR0FyQjRCOztBQXVCN0I7QUFDQTtBQUNBbEIsMEJBQXdCLENBQUNvQixVQUFELEVBQWE7QUFDbkMsUUFBSSxLQUFLTCxNQUFMLENBQVksSUFBWixFQUFrQkssVUFBbEIsQ0FBSixFQUFtQztBQUNqQ2w0QixZQUFNLENBQUM2VixHQUFQLENBQVdzaUIsZUFBWCxDQUEyQkQsVUFBVSxDQUFDdHdCLEdBQXRDO0FBQ0Q7QUFDRixHQTdCNEI7O0FBK0I3QjtBQUNBNnVCLG9CQUFrQixDQUFDeUIsVUFBRCxFQUFhRixXQUFiLEVBQTBCO0FBQzFDO0FBQ0EsUUFBSUEsV0FBVyxJQUFJRSxVQUFuQixFQUErQjtBQUM3QixhQUFPLEtBQUtMLE1BQUwsQ0FBWSxLQUFaLEVBQW1CRyxXQUFuQixJQUNIRSxVQUFVLENBQUNILElBQVgsS0FBb0JDLFdBQVcsQ0FBQ0QsSUFEN0IsR0FFSEcsVUFBVSxDQUFDdHdCLEdBQVgsS0FBbUJvd0IsV0FGdkI7QUFHRCxLQU55QyxDQVExQztBQUNBOzs7QUFDQSxXQUFPLENBQUNBLFdBQUQsSUFBZ0IsQ0FBQ0UsVUFBeEI7QUFDRDs7QUEzQzRCLENBQXhCLEM7Ozs7Ozs7O0FDaEJQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7Q0FHQTtBQUNBOztBQUNBLE1BQU1FLGlCQUFpQixHQUFHLENBQUMsWUFBRCxFQUFlLFVBQWYsQ0FBMUI7QUFFTyxNQUFNQyxrQkFBTixTQUFpQ3g1Qiw0Q0FBSyxDQUFDeTVCLFNBQXZDLENBQWlEO0FBQ3REdjVCLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU4sRUFEaUIsQ0FFakI7O0FBQ0EsU0FBS3U1QixPQUFMLEdBQWUsS0FBS3Y1QixLQUFMLENBQVd1NUIsT0FBWCxJQUFzQkEsd0VBQXJDO0FBRUEsU0FBS0Msa0JBQUwsR0FBMEIsS0FBS0Esa0JBQUwsQ0FBd0JwNUIsSUFBeEIsQ0FBNkIsSUFBN0IsQ0FBMUI7QUFDQSxTQUFLcTVCLGlCQUFMLEdBQXlCLEtBQUtBLGlCQUFMLENBQXVCcjVCLElBQXZCLENBQTRCLElBQTVCLENBQXpCO0FBQ0EsU0FBS3M1QixrQkFBTCxHQUEwQixLQUExQjtBQUNBLFNBQUtDLGlCQUFMLEdBQXlCLEtBQXpCO0FBQ0EsU0FBS0Msb0JBQUwsR0FBNEIsS0FBNUI7QUFDRDs7QUFFRDMzQixtQkFBaUIsR0FBRztBQUNsQixRQUFJLENBQUNtM0IsaUJBQWlCLENBQUMxb0IsUUFBbEIsQ0FBMkIsS0FBSzFRLEtBQUwsQ0FBV2tELEVBQXRDLENBQUwsRUFBZ0Q7QUFDOUM7QUFDRDs7QUFFRCxTQUFLMjJCLHNCQUFMO0FBQ0Q7O0FBRUR6a0Isb0JBQWtCLEdBQUc7QUFDbkIsUUFBSSxDQUFDZ2tCLGlCQUFpQixDQUFDMW9CLFFBQWxCLENBQTJCLEtBQUsxUSxLQUFMLENBQVdrRCxFQUF0QyxDQUFMLEVBQWdEO0FBQzlDO0FBQ0Q7O0FBRUQsU0FBSzIyQixzQkFBTDtBQUNEO0FBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0VDLGtCQUFnQixDQUFDQyxRQUFELEVBQVc7QUFDekJ2SCx5QkFBcUIsQ0FBQyxNQUFNOXlCLFVBQVUsQ0FBQ3E2QixRQUFELEVBQVcsQ0FBWCxDQUFqQixDQUFyQjtBQUNEOztBQUVEQyx5QkFBdUIsR0FBRztBQUN4QjtBQUNBO0FBQ0EsUUFBSSxDQUFDLEtBQUtoNkIsS0FBTCxDQUFXdUIsV0FBaEIsRUFBNkI7QUFDM0I7QUFDQSxXQUFLbTRCLGtCQUFMLEdBQTBCLElBQTFCO0FBQ0QsS0FIRCxNQUdPLElBQUksS0FBS0Esa0JBQVQsRUFBNkI7QUFDbEMsV0FBS0Esa0JBQUwsR0FBMEIsS0FBMUIsQ0FEa0MsQ0FFbEM7O0FBQ0EsV0FBS0Ysa0JBQUw7QUFDRDtBQUNGOztBQUVESyx3QkFBc0IsR0FBRztBQUN2QjtBQUNBLFFBQUksS0FBS0YsaUJBQUwsSUFBMEIsQ0FBQyxLQUFLMzVCLEtBQUwsQ0FBV3VCLFdBQTFDLEVBQXVEO0FBQ3JEO0FBQ0QsS0FKc0IsQ0FNdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0EsU0FBS280QixpQkFBTCxHQUF5QixJQUF6Qjs7QUFDQSxTQUFLRyxnQkFBTCxDQUFzQixLQUFLTCxpQkFBM0I7QUFDRDtBQUVEO0FBQ0Y7QUFDQTtBQUNBOzs7QUFDRVEsOEJBQTRCLEdBQUc7QUFDN0I7QUFDQSxRQUFJLENBQUMsS0FBS0wsb0JBQVYsRUFBZ0M7QUFDOUIsV0FBS0Esb0JBQUwsR0FBNEIsSUFBNUIsQ0FEOEIsQ0FFOUI7O0FBQ0EsWUFBTW4zQixHQUFHLEdBQUksR0FBRSxLQUFLekMsS0FBTCxDQUFXa0QsRUFBRyxrQkFBN0I7QUFDQSxXQUFLcTJCLE9BQUwsQ0FBYVcsSUFBYixDQUFrQnozQixHQUFsQjtBQUNEO0FBQ0Y7QUFFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNFKzJCLG9CQUFrQixHQUFHO0FBQ25CO0FBQ0EsVUFBTVcsWUFBWSxHQUFJLEdBQUUsS0FBS242QixLQUFMLENBQVdrRCxFQUFHLGdCQUF0QztBQUNBLFNBQUtxMkIsT0FBTCxDQUFhVyxJQUFiLENBQWtCQyxZQUFsQjs7QUFFQSxRQUFJO0FBQ0YsWUFBTUMsY0FBYyxHQUFJLEdBQUUsS0FBS3A2QixLQUFMLENBQVdrRCxFQUFHLGtCQUF4QyxDQURFLENBRUY7O0FBQ0EsWUFBTTNFLEtBQUssR0FBRzg3QixRQUFRLENBQ3BCLEtBQUtkLE9BQUwsQ0FBYWUsK0JBQWIsQ0FBNkNILFlBQTdDLElBQ0UsS0FBS1osT0FBTCxDQUFhZSwrQkFBYixDQUE2Q0YsY0FBN0MsQ0FGa0IsRUFHcEIsRUFIb0IsQ0FBdEI7QUFLQSxXQUFLcDZCLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMsaUVBQUUsQ0FBQ2lDLFVBQUgsQ0FBYztBQUNaL0IsWUFBSSxFQUFFQyw4REFBRSxDQUFDcS9CLHNCQURHO0FBRVo7QUFDQTc4QixZQUFJLEVBQUU7QUFBRSxXQUFFLEdBQUUsS0FBS3NDLEtBQUwsQ0FBV2tELEVBQUcsa0JBQWxCLEdBQXNDM0U7QUFBeEM7QUFITSxPQUFkLENBREY7QUFPRCxLQWZELENBZUUsT0FBT2c1QixFQUFQLEVBQVcsQ0FDWDtBQUNBO0FBQ0Q7QUFDRjs7QUFFRGtDLG1CQUFpQixHQUFHO0FBQ2xCO0FBQ0EsUUFBSSxLQUFLejVCLEtBQUwsQ0FBV2tELEVBQVgsS0FBa0IsVUFBdEIsRUFBa0M7QUFDaEM7QUFDRCxLQUppQixDQU1sQjs7O0FBQ0EsVUFBTVQsR0FBRyxHQUFJLEdBQUUsS0FBS3pDLEtBQUwsQ0FBV2tELEVBQUcsbUJBQTdCO0FBQ0EsU0FBS3EyQixPQUFMLENBQWFXLElBQWIsQ0FBa0J6M0IsR0FBbEI7O0FBRUEsUUFBSTtBQUNGLFlBQU0vRSxJQUFJLEdBQUcsRUFBYjtBQUNBQSxVQUFJLENBQUMrRSxHQUFELENBQUosR0FBWSxLQUFLODJCLE9BQUwsQ0FBYWUsK0JBQWIsQ0FBNkM3M0IsR0FBN0MsQ0FBWjtBQUVBLFdBQUt6QyxLQUFMLENBQVdsRixRQUFYLENBQ0VDLGlFQUFFLENBQUNpQyxVQUFILENBQWM7QUFDWi9CLFlBQUksRUFBRUMsOERBQUUsQ0FBQ3EvQixzQkFERztBQUVaNzhCO0FBRlksT0FBZCxDQURGO0FBTUQsS0FWRCxDQVVFLE9BQU82NUIsRUFBUCxFQUFXLENBQ1g7QUFDQTtBQUNBO0FBQ0Q7QUFDRjs7QUFFRHIyQixRQUFNLEdBQUc7QUFDUCxRQUFJazRCLGlCQUFpQixDQUFDMW9CLFFBQWxCLENBQTJCLEtBQUsxUSxLQUFMLENBQVdrRCxFQUF0QyxDQUFKLEVBQStDO0FBQzdDLFdBQUsrMkIsNEJBQUw7O0FBQ0EsV0FBS0QsdUJBQUw7QUFDRDs7QUFDRCxXQUFPLEtBQUtoNkIsS0FBTCxDQUFXK0UsUUFBbEI7QUFDRDs7QUFoS3FELEM7Ozs7Ozs7QUNaeEQ7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRWE7O0FBRWIsSUFBSXkxQixhQUFhLEdBQUcvZixNQUFNLENBQUNnZ0IsV0FBM0I7QUFFTyxTQUFTQyxZQUFULENBQXNCcitCLE9BQXRCLEVBQStCO0FBQ3BDO0FBQ0E7QUFDQSxNQUFJQSxPQUFPLElBQUlBLE9BQU8sQ0FBQ3MrQixjQUF2QixFQUF1QztBQUNyQyxTQUFLQyxLQUFMLEdBQWF2K0IsT0FBTyxDQUFDcytCLGNBQXJCO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsU0FBS0MsS0FBTCxHQUFhSixhQUFiO0FBQ0Q7QUFDRjtBQUVERSxZQUFZLENBQUN2b0IsU0FBYixHQUF5QjtBQUN2QjtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0UrbkIsTUFBSSxFQUFFLFNBQVNBLElBQVQsQ0FBY1csR0FBZCxFQUFtQjtBQUN2QixTQUFLRCxLQUFMLENBQVdWLElBQVgsQ0FBZ0JXLEdBQWhCO0FBQ0QsR0FYc0I7O0FBYXZCO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRUMsa0JBQWdCLEVBQUUsU0FBU0EsZ0JBQVQsQ0FBMEJ4OEIsSUFBMUIsRUFBZ0NyRCxJQUFoQyxFQUFzQztBQUN0RCxXQUFPLEtBQUsyL0IsS0FBTCxDQUFXRSxnQkFBWCxDQUE0Qng4QixJQUE1QixFQUFrQ3JELElBQWxDLENBQVA7QUFDRCxHQXZCc0I7O0FBeUJ2QjtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRSxNQUFJOC9CLFVBQUosR0FBaUI7QUFDZixXQUFPLEtBQUtILEtBQUwsQ0FBV0csVUFBbEI7QUFDRCxHQTFDc0I7O0FBNEN2QjtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNFQyxRQUFNLEVBQUUsU0FBU0EsTUFBVCxHQUFrQjtBQUN4QixXQUFPLEtBQUtELFVBQUwsR0FBa0IsS0FBS0gsS0FBTCxDQUFXdDFCLEdBQVgsRUFBekI7QUFDRCxHQXJEc0I7O0FBdUR2QjtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRWcxQixpQ0FBK0IsQ0FBQ2g4QixJQUFELEVBQU87QUFDcEMsUUFBSW1nQixPQUFPLEdBQUcsS0FBS3FjLGdCQUFMLENBQXNCeDhCLElBQXRCLEVBQTRCLE1BQTVCLENBQWQ7O0FBRUEsUUFBSSxDQUFDbWdCLE9BQU8sQ0FBQ3BiLE1BQWIsRUFBcUI7QUFDbkIsWUFBTSxJQUFJNUcsS0FBSixDQUFXLDBCQUF5QjZCLElBQUssRUFBekMsQ0FBTjtBQUNEOztBQUVELFFBQUkyOEIsZUFBZSxHQUFHeGMsT0FBTyxDQUFDQSxPQUFPLENBQUNwYixNQUFSLEdBQWlCLENBQWxCLENBQTdCO0FBQ0EsV0FBTyxLQUFLdTNCLEtBQUwsQ0FBV0csVUFBWCxHQUF3QkUsZUFBZSxDQUFDQyxTQUEvQztBQUNEOztBQWxGc0IsQ0FBekI7QUFxRk8sTUFBTUMsV0FBVyxHQUFHLElBQUlULFlBQUosRUFBcEIsQzs7Ozs7OztBQ3ZHUDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRU8sTUFBTVUsbUJBQU4sU0FBa0N2N0IsNENBQUssQ0FBQ0MsYUFBeEMsQ0FBc0Q7QUFDM0RvQixRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUVzekI7QUFBRixRQUF5QixLQUFLeDBCLEtBQXBDOztBQUNBLFFBQUl3MEIsa0JBQUosRUFBd0I7QUFDdEIsMEJBQ0U7QUFDRSxpQkFBUyxFQUFDLHNCQURaO0FBRUUsWUFBSSxFQUFFQSxrQkFGUjtBQUdFLHdCQUFhO0FBSGYsUUFERjtBQU9EOztBQUNELFdBQU8sSUFBUDtBQUNEOztBQWIwRCxDOzs7Ozs7O0FDTjdEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVPLE1BQU02RyxrQkFBTixTQUFpQ3g3Qiw0Q0FBSyxDQUFDQyxhQUF2QyxDQUFxRDtBQUMxRG9CLFFBQU0sR0FBRztBQUNQLFVBQU07QUFBRTZ6QjtBQUFGLFFBQWdCLEtBQUsvMEIsS0FBTCxDQUFXcTBCLE1BQWpDO0FBQ0Esd0JBQ0U7QUFBTSxlQUFTLEVBQUM7QUFBaEIsb0JBQ0U7QUFDRSxlQUFTLEVBQUMsbUJBRFo7QUFFRSxVQUFJLEVBQUVVLFNBQVMsQ0FBQ3VHLE1BQVYsR0FBbUJ2RyxTQUFTLENBQUN1RyxNQUE3QixHQUFzQztBQUY5QyxPQUlHdkcsU0FBUyxDQUFDd0csU0FBVixHQUNDeEcsU0FBUyxDQUFDd0csU0FEWCxnQkFHQztBQUFNLHNCQUFhO0FBQW5CLE1BUEosQ0FERixlQVlFO0FBQ0UsVUFBSSxFQUFFeEcsU0FBUyxDQUFDdUcsTUFBVixHQUFtQnZHLFNBQVMsQ0FBQ3VHLE1BQTdCLEdBQXNDO0FBRDlDLG9CQUdFO0FBQU0sZUFBUyxFQUFDO0FBQWhCLE9BQ0d2RyxTQUFTLENBQUN5RyxPQUFWLEdBQ0N6RyxTQUFTLENBQUN5RyxPQURYLGdCQUdDO0FBQU0sc0JBQWE7QUFBbkIsTUFKSixDQUhGLENBWkYsQ0FERjtBQTBCRDs7QUE3QnlEO0FBZ0NyRCxNQUFNQyxpQkFBaUIsR0FBRzUyQiwyREFBTyxDQUFDNUUsS0FBSyxLQUFLO0FBQUVvMEIsUUFBTSxFQUFFcDBCLEtBQUssQ0FBQ28wQjtBQUFoQixDQUFMLENBQU4sQ0FBUCxDQUMvQmdILGtCQUQrQixDQUExQixDOzs7Ozs7O0FDdkNQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVPLE1BQU1LLEtBQU4sU0FBb0I3N0IsNENBQUssQ0FBQ0MsYUFBMUIsQ0FBd0M7QUFDN0NvQixRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUUwSCxTQUFGO0FBQU90SztBQUFQLFFBQWdCLEtBQUswQixLQUEzQjtBQUNBLHdCQUNFLG9GQUNFO0FBQUcsU0FBRyxFQUFFMUIsSUFBUjtBQUFjLFVBQUksRUFBRXNLO0FBQXBCLE9BQ0d0SyxJQURILENBREYsQ0FERjtBQU9EOztBQVY0QztBQWF4QyxNQUFNcTlCLE1BQU4sU0FBcUI5N0IsNENBQUssQ0FBQ0MsYUFBM0IsQ0FBeUM7QUFDOUNvQixRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUVvekI7QUFBRixRQUFhLEtBQUt0MEIsS0FBeEI7QUFDQSx3QkFDRTtBQUFNLGVBQVMsRUFBQztBQUFoQixvQkFDRTtBQUFNLHNCQUFhO0FBQW5CLE1BREYsZUFFRSx1RUFDR3MwQixNQUFNLElBQ0xBLE1BQU0sQ0FBQ3ZyQixHQUFQLENBQVc2eUIsQ0FBQyxpQkFBSSwyREFBQyxLQUFEO0FBQU8sU0FBRyxFQUFFQSxDQUFDLENBQUN0OUIsSUFBZDtBQUFvQixTQUFHLEVBQUVzOUIsQ0FBQyxDQUFDaHpCLEdBQTNCO0FBQWdDLFVBQUksRUFBRWd6QixDQUFDLENBQUN0OUI7QUFBeEMsTUFBaEIsQ0FGSixDQUZGLENBREY7QUFTRDs7QUFaNkMsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ25CaEQ7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTdTlCLGVBQVQsQ0FBeUIxWixJQUF6QixFQUErQjtBQUM3QixNQUFJQSxJQUFJLENBQUMyWixtQkFBVCxFQUE4QjtBQUM1QixXQUFPLG1CQUFQO0FBQ0Q7O0FBQ0QsTUFBSTNaLElBQUksQ0FBQzRaLFlBQUwsSUFBcUI1WixJQUFJLENBQUM2WixVQUFMLEtBQW9CLFVBQTdDLEVBQXlEO0FBQ3ZELFdBQU8sVUFBUDtBQUNEOztBQUNELE1BQUk3WixJQUFJLENBQUM4WixXQUFMLElBQW9CQyx3RUFBeEIsRUFBK0M7QUFDN0MsV0FBTyxXQUFQO0FBQ0Q7O0FBQ0QsTUFBSS9aLElBQUksQ0FBQ2dhLFVBQVQsRUFBcUI7QUFDbkIsV0FBTyxZQUFQO0FBQ0Q7O0FBQ0QsU0FBTyxVQUFQO0FBQ0Q7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxTQUFTQyx1QkFBVCxDQUFpQ3BhLFFBQWpDLEVBQTJDO0FBQ3pDLFFBQU1xYSxrQkFBa0IsR0FBRyxDQUFDQyxHQUFELEVBQU1uYSxJQUFOLEtBQWU7QUFDeENtYSxPQUFHLENBQUNULGVBQWUsQ0FBQzFaLElBQUQsQ0FBaEIsQ0FBSDtBQUNBLFdBQU9tYSxHQUFQO0FBQ0QsR0FIRDs7QUFLQSxTQUFPdGEsUUFBUSxDQUFDMUssTUFBVCxDQUFnQitrQixrQkFBaEIsRUFBb0M7QUFDekNFLHFCQUFpQixFQUFFLENBRHNCO0FBRXpDSixjQUFVLEVBQUUsQ0FGNkI7QUFHekNLLFlBQVEsRUFBRSxDQUgrQjtBQUl6Q0MsYUFBUyxFQUFFLENBSjhCO0FBS3pDQyxZQUFRLEVBQUU7QUFMK0IsR0FBcEMsQ0FBUDtBQU9EOztBQUVNLE1BQU1DLFNBQU4sU0FBd0I5OEIsNENBQUssQ0FBQ0MsYUFBOUIsQ0FBNEM7QUFDakRDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLNDhCLGVBQUwsR0FBdUIsS0FBS0EsZUFBTCxDQUFxQng4QixJQUFyQixDQUEwQixJQUExQixDQUF2QjtBQUNBLFNBQUt5OEIsMEJBQUwsR0FBa0MsS0FBS0EsMEJBQUwsQ0FBZ0N6OEIsSUFBaEMsQ0FDaEMsSUFEZ0MsQ0FBbEM7QUFHRDtBQUVEO0FBQ0Y7QUFDQTs7O0FBQ0UwOEIsd0JBQXNCLEdBQUc7QUFDdkIsVUFBTTlhLFFBQVEsR0FBRyxLQUFLK2EsbUJBQUwsR0FBMkJsOEIsTUFBM0IsQ0FDZm04QixPQUFPLElBQUlBLE9BQU8sS0FBSyxJQUFaLElBQW9CQSxPQUFPLEtBQUtodEIsU0FENUIsQ0FBakI7O0FBR0EsVUFBTWl0QixrQkFBa0IsR0FBR2IsdUJBQXVCLENBQUNwYSxRQUFELENBQWxEO0FBQ0EsVUFBTWtiLGNBQWMsR0FBR2xiLFFBQVEsQ0FBQ25oQixNQUFULENBQWdCMmpCLElBQUksSUFBSSxDQUFDLENBQUNBLElBQUksQ0FBQzBHLFFBQS9CLEVBQXlDN25CLE1BQWhFO0FBQ0EsVUFBTTg1QixlQUFlLEdBQUduYixRQUFRLENBQUNuaEIsTUFBVCxDQUFnQjJqQixJQUFJLElBQUksQ0FBQyxDQUFDQSxJQUFJLENBQUNNLGFBQS9CLEVBQ3JCemhCLE1BREgsQ0FOdUIsQ0FRdkI7O0FBQ0EsU0FBS3JELEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMsaUVBQUUsQ0FBQ0MsVUFBSCxDQUFjO0FBQ1pDLFVBQUksRUFBRUMsOERBQUUsQ0FBQ3EvQixzQkFERztBQUVaNzhCLFVBQUksRUFBRTtBQUNKMC9CLDJCQUFtQixFQUFFSCxrQkFEakI7QUFFSkksdUJBQWUsRUFBRUgsY0FGYjtBQUdKSSxpQ0FBeUIsRUFBRUg7QUFIdkI7QUFGTSxLQUFkLENBREY7QUFVRDtBQUVEO0FBQ0Y7QUFDQTs7O0FBQ0VKLHFCQUFtQixHQUFHO0FBQ3BCO0FBQ0EsUUFBSVEsV0FBVyxHQUFHQywrRUFBbEIsQ0FGb0IsQ0FHcEI7O0FBQ0EsUUFBSSxDQUFDeDhCLE1BQU0sQ0FBQzR5QixVQUFQLENBQW1CLHFCQUFuQixFQUF5Q0MsT0FBOUMsRUFBdUQ7QUFDckQwSixpQkFBVyxJQUFJLENBQWY7QUFDRDs7QUFDRCxXQUFPLEtBQUt2OUIsS0FBTCxDQUFXeTlCLFFBQVgsQ0FBb0JwUixJQUFwQixDQUF5QnBlLEtBQXpCLENBQ0wsQ0FESyxFQUVMLEtBQUtqTyxLQUFMLENBQVcwOUIsWUFBWCxHQUEwQkgsV0FGckIsQ0FBUDtBQUlEOztBQUVEbm9CLG9CQUFrQixHQUFHO0FBQ25CLFNBQUswbkIsc0JBQUw7QUFDRDs7QUFFRDc2QixtQkFBaUIsR0FBRztBQUNsQixTQUFLNjZCLHNCQUFMO0FBQ0Q7O0FBRURGLGlCQUFlLEdBQUc7QUFDaEIsU0FBSzU4QixLQUFMLENBQVdsRixRQUFYLENBQ0VDLGlFQUFFLENBQUMwQyxTQUFILENBQWE7QUFDWGlCLFlBQU0sRUFBRWkvQixtRUFERztBQUVYcDdCLFdBQUssRUFBRTtBQUZJLEtBQWIsQ0FERjtBQU1BLFNBQUt2QyxLQUFMLENBQVdsRixRQUFYLENBQW9CO0FBQUVHLFVBQUksRUFBRUMsOERBQUUsQ0FBQzBpQztBQUFYLEtBQXBCO0FBQ0Q7O0FBRURmLDRCQUEwQixHQUFHO0FBQzNCLFNBQUs3OEIsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyxpRUFBRSxDQUFDMEMsU0FBSCxDQUFhO0FBQ1hpQixZQUFNLEVBQUVpL0IsbUVBREc7QUFFWHA3QixXQUFLLEVBQUU7QUFGSSxLQUFiLENBREY7QUFNQSxTQUFLdkMsS0FBTCxDQUFXbEYsUUFBWCxDQUFvQjtBQUFFRyxVQUFJLEVBQUVDLDhEQUFFLENBQUMyaUM7QUFBWCxLQUFwQjtBQUNEOztBQUVEMzhCLFFBQU0sR0FBRztBQUNQLFVBQU07QUFBRWxCO0FBQUYsUUFBWSxJQUFsQjtBQUNBLFVBQU07QUFBRTg5QixjQUFGO0FBQVlDO0FBQVosUUFBd0MvOUIsS0FBSyxDQUFDeTlCLFFBQXBEO0FBQ0EsVUFBTU8sZ0JBQWdCLEdBQUcsQ0FBQyxZQUFELENBQXpCO0FBQ0EsVUFBTUMsTUFBTSxHQUFHaitCLEtBQUssQ0FBQ3FCLEtBQU4sQ0FBWUMsTUFBWixDQUFtQiw0QkFBbkIsQ0FBZjs7QUFFQSxRQUFJdEIsS0FBSyxDQUFDcUIsS0FBTixDQUFZQyxNQUFaLENBQW1CLHNDQUFuQixDQUFKLEVBQWdFO0FBQzlEMDhCLHNCQUFnQixDQUFDanNCLElBQWpCLENBQXNCLG1CQUF0QjtBQUNEOztBQUVELHdCQUNFLDJEQUFDLCtHQUFEO0FBQ0UsUUFBRSxFQUFDLFVBREw7QUFFRSxpQkFBVyxFQUFFL1IsS0FBSyxDQUFDeTlCLFFBQU4sQ0FBZWw4QixXQUY5QjtBQUdFLGNBQVEsRUFBRXZCLEtBQUssQ0FBQ2xGO0FBSGxCLG9CQUtFLDJEQUFDLCtHQUFEO0FBQ0UsZUFBUyxFQUFDLFdBRFo7QUFFRSxRQUFFLEVBQUMsVUFGTDtBQUdFLFdBQUssRUFBRWtGLEtBQUssQ0FBQ3VmLEtBQU4sSUFBZTtBQUFFcmMsVUFBRSxFQUFFO0FBQU4sT0FIeEI7QUFJRSxlQUFTLEVBQUUsSUFKYjtBQUtFLHNCQUFnQixFQUFFODZCLGdCQUxwQjtBQU1FLGtCQUFZLEVBQUMsZ0JBTmY7QUFPRSxpQkFBVyxFQUFFTCxtRUFQZjtBQVFFLGVBQVMsRUFBRSxLQVJiO0FBU0UsYUFBTyxFQUFFMzlCLEtBQUssQ0FBQzQxQixPQVRqQjtBQVVFLGFBQU8sRUFBRTUxQixLQUFLLENBQUMwMEIsT0FWakI7QUFXRSxZQUFNLEVBQUUxMEIsS0FBSyxDQUFDMjBCLE1BWGhCO0FBWUUsY0FBUSxFQUFFMzBCLEtBQUssQ0FBQ2xGO0FBWmxCLG9CQWNFLDJEQUFDLHFEQUFEO0FBQ0UsY0FBUSxFQUFFa0YsS0FBSyxDQUFDeTlCLFFBRGxCO0FBRUUsa0JBQVksRUFBRXo5QixLQUFLLENBQUMwOUIsWUFGdEI7QUFHRSxjQUFRLEVBQUUxOUIsS0FBSyxDQUFDbEYsUUFIbEI7QUFJRSxxQkFBZSxFQUFFK2dDLGVBSm5CO0FBS0UsWUFBTSxFQUFFb0M7QUFMVixNQWRGLGVBcUJFO0FBQUssZUFBUyxFQUFDO0FBQWYsT0FDR0gsUUFBUSxpQkFDUDtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFLDJEQUFDLGtHQUFEO0FBQ0UsY0FBUSxFQUFFLElBRFo7QUFFRSxhQUFPLEVBQUUsS0FBS2xCLGVBRmhCO0FBR0Usb0JBQWMsRUFBQztBQUhqQixvQkFLRSwyREFBQyx3REFBRDtBQUNFLFVBQUksRUFBRTU4QixLQUFLLENBQUN5OUIsUUFBTixDQUFlcFIsSUFBZixDQUFvQnlSLFFBQVEsQ0FBQ2h3QixLQUE3QixDQURSO0FBRUUsYUFBTyxFQUFFLEtBQUs4dUIsZUFGaEI7QUFHRSxjQUFRLEVBQUUsS0FBSzU4QixLQUFMLENBQVdsRjtBQUh2QixPQUlNZ2pDLFFBSk4sRUFMRixDQURGLENBRkosRUFpQkdDLHVCQUF1QixpQkFDdEI7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRSwyREFBQyxrR0FBRDtBQUNFLGNBQVEsRUFBRSxJQURaO0FBRUUsYUFBTyxFQUFFLEtBQUtsQiwwQkFGaEI7QUFHRSxvQkFBYyxFQUFDO0FBSGpCLG9CQUtFLDJEQUFDLHdFQUFEO0FBQ0UsY0FBUSxFQUFFNzhCLEtBQUssQ0FBQ3k5QixRQURsQjtBQUVFLGFBQU8sRUFBRSxLQUFLWiwwQkFGaEI7QUFHRSxjQUFRLEVBQUUsS0FBSzc4QixLQUFMLENBQVdsRjtBQUh2QixNQUxGLENBREYsQ0FsQkosQ0FyQkYsQ0FMRixDQURGO0FBK0REOztBQXRKZ0Q7QUF5SjVDLE1BQU0yaUMsUUFBUSxHQUFHNTRCLDJEQUFPLENBQUMsQ0FBQzVFLEtBQUQsRUFBUUQsS0FBUixNQUFtQjtBQUNqRDtBQUNBeTlCLFVBQVEsRUFBRXo5QixLQUFLLENBQUNrK0IsZ0JBQU4sSUFBMEJqK0IsS0FBSyxDQUFDdzlCLFFBRk87QUFHakRwOEIsT0FBSyxFQUFFcEIsS0FBSyxDQUFDb0IsS0FIb0M7QUFJakRxOEIsY0FBWSxFQUFFejlCLEtBQUssQ0FBQ29CLEtBQU4sQ0FBWUMsTUFBWixDQUFtQjJDO0FBSmdCLENBQW5CLENBQUQsQ0FBUCxDQUtwQjA0QixTQUxvQixDQUFqQixDOzs7Ozs7OztBQzdNUDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRU8sTUFBTWdCLGdCQUFnQixHQUFHLFdBQXpCO0FBQ0EsTUFBTVEsOEJBQThCLEdBQUcsQ0FDNUMsaUJBRDRDLEVBRTVDLGFBRjRDLEVBRzVDLFdBSDRDLEVBSTVDLGlCQUo0QyxFQUs1QyxxQkFMNEMsRUFNNUMsV0FONEMsRUFPNUMsVUFQNEMsRUFRNUMsV0FSNEMsQ0FBdkM7QUFVQSxNQUFNQyxtQ0FBbUMsR0FBRyxDQUNqRCxZQURpRCxFQUVqRCxXQUZpRCxFQUdqRCxpQkFIaUQsRUFJakQscUJBSmlELEVBS2pELFdBTGlELEVBTWpELFVBTmlELEVBT2pELGlCQVBpRCxDQUE1QztBQVNBLE1BQU1DLGlEQUFpRCxHQUFHLENBQy9ELGlCQUQrRCxFQUUvRCxxQkFGK0QsRUFHL0QsV0FIK0QsRUFJL0QsVUFKK0QsRUFLL0QsZ0JBTCtELENBQTFELEMsQ0FPUDs7QUFDTyxNQUFNQywrQ0FBK0MsR0FBRyxDQUM3RCxpQkFENkQsRUFFN0QsV0FGNkQsRUFHN0QsVUFINkQsQ0FBeEQsQyxDQUtQOztBQUNPLE1BQU1wQyxxQkFBcUIsR0FBRyxFQUE5QixDLENBQ1A7O0FBQ08sTUFBTXFDLHNCQUFzQixHQUFHLEVBQS9CLEM7Ozs7Ozs7QUN4Q1A7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFTyxNQUFNQyx3QkFBTixTQUF1QzMrQiw0Q0FBSyxDQUFDQyxhQUE3QyxDQUEyRDtBQUNoRW9CLFFBQU0sR0FBRztBQUNQLFVBQU07QUFBRXU5QixjQUFGO0FBQVlDO0FBQVosUUFBeUIsS0FBSzErQixLQUFwQztBQUNBLFVBQU13NEIsVUFBVSxHQUFHO0FBQUUvRyxxQkFBZSxFQUFHLFFBQU9nTixRQUFRLENBQUMxQyxZQUFhO0FBQWpELEtBQW5CO0FBQ0Esd0JBQ0U7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRTtBQUNFLFVBQUksRUFBQyxVQURQO0FBRUUsUUFBRSxFQUFFMEMsUUFBUSxDQUFDRSxPQUZmO0FBR0UsVUFBSSxFQUFFRixRQUFRLENBQUNFLE9BSGpCO0FBSUUsYUFBTyxFQUFFRCxRQUpYO0FBS0UsY0FBUSxFQUFFLEtBQUsxK0IsS0FBTCxDQUFXcUc7QUFMdkIsTUFERixlQVFFO0FBQU8sYUFBTyxFQUFFbzRCLFFBQVEsQ0FBQ0U7QUFBekIsb0JBQ0U7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRSxzRkFDRTtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFO0FBQ0UsZUFBUyxFQUFDLHlCQURaO0FBRUUsV0FBSyxFQUFFbkcsVUFGVDtBQUdFLHVCQUFjO0FBSGhCLE1BREYsZUFNRTtBQUFLLGVBQVMsRUFBQztBQUFmLE1BTkYsQ0FERixlQVNFO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0U7QUFBTSxTQUFHLEVBQUM7QUFBVixPQUFrQmlHLFFBQVEsQ0FBQ0UsT0FBM0IsQ0FERixDQVRGLENBREYsQ0FERixDQVJGLENBREY7QUE0QkQ7O0FBaEMrRDtBQW1DM0QsTUFBTUMsbUJBQU4sU0FBa0MvK0IsNENBQUssQ0FBQ0MsYUFBeEMsQ0FBc0Q7QUFDM0RDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLNFEsWUFBTCxHQUFvQixLQUFLQSxZQUFMLENBQWtCeFEsSUFBbEIsQ0FBdUIsSUFBdkIsQ0FBcEI7QUFDQSxTQUFLeStCLG1CQUFMLEdBQTJCLEtBQUtBLG1CQUFMLENBQXlCeitCLElBQXpCLENBQThCLElBQTlCLENBQTNCO0FBQ0EsU0FBSzArQixpQkFBTCxHQUF5QixLQUFLQSxpQkFBTCxDQUF1QjErQixJQUF2QixDQUE0QixJQUE1QixDQUF6QixDQUppQixDQU1qQjs7QUFDQSxVQUFNMitCLFNBQVMsR0FBRyxFQUFsQjtBQUNBLFVBQU07QUFBRTFTLFVBQUY7QUFBUThRO0FBQVIsUUFBNEJuOUIsS0FBSyxDQUFDeTlCLFFBQXhDO0FBQ0FOLG1CQUFlLENBQUN6Z0MsT0FBaEIsQ0FBd0IraEMsUUFBUSxJQUFJO0FBQ2xDTSxlQUFTLENBQUNodEIsSUFBVixDQUFlLEVBQ2IsR0FBRzBzQixRQURVO0FBRWJPLGtCQUFVLEVBQUUsQ0FBQyxDQUFDM1MsSUFBSSxDQUFDMWMsSUFBTCxDQUNadkYsR0FBRyxJQUNEQSxHQUFHLElBQ0hBLEdBQUcsQ0FBQzhnQixRQURKLElBRUE5Z0IsR0FBRyxDQUFDMGEsYUFGSixJQUdBMWEsR0FBRyxDQUFDOEksS0FBSixLQUFjdXJCLFFBQVEsQ0FBQ0UsT0FMYjtBQUZELE9BQWY7QUFVRCxLQVhEO0FBWUEsU0FBSzErQixLQUFMLEdBQWE7QUFBRTgrQjtBQUFGLEtBQWI7QUFDRDs7QUFFRG51QixjQUFZLENBQUNyTyxLQUFELEVBQVE7QUFDbEIsVUFBTTtBQUFFcEY7QUFBRixRQUFhb0YsS0FBbkI7QUFDQSxVQUFNO0FBQUVqRSxVQUFGO0FBQVFnSTtBQUFSLFFBQW9CbkosTUFBMUI7QUFDQSxTQUFLa0QsUUFBTCxDQUFjMk4sU0FBUyxJQUFJO0FBQ3pCLFlBQU0rd0IsU0FBUyxHQUFHL3dCLFNBQVMsQ0FBQyt3QixTQUFWLENBQW9COXdCLEtBQXBCLEVBQWxCO0FBQ0EsVUFBSXd3QixRQUFRLEdBQUdNLFNBQVMsQ0FBQ3B2QixJQUFWLENBQWUsQ0FBQztBQUFFZ3ZCO0FBQUYsT0FBRCxLQUFpQkEsT0FBTyxLQUFLcmdDLElBQTVDLENBQWY7QUFDQW1nQyxjQUFRLENBQUNPLFVBQVQsR0FBc0IxNEIsT0FBdEI7QUFDQSxhQUFPO0FBQUV5NEI7QUFBRixPQUFQO0FBQ0QsS0FMRDtBQU1EOztBQUVERixxQkFBbUIsQ0FBQ0ksRUFBRCxFQUFLO0FBQ3RCQSxNQUFFLENBQUMvdUIsY0FBSDtBQUNBLFNBQUtsUSxLQUFMLENBQVcreEIsT0FBWDtBQUNEOztBQUVEK00sbUJBQWlCLENBQUNHLEVBQUQsRUFBSztBQUNwQkEsTUFBRSxDQUFDL3VCLGNBQUgsR0FEb0IsQ0FHcEI7O0FBQ0EsVUFBTTtBQUFFbWM7QUFBRixRQUFXLEtBQUtyc0IsS0FBTCxDQUFXeTlCLFFBQTVCO0FBQ0EsVUFBTXlCLFFBQVEsR0FBRyxFQUFqQjtBQUNBLFVBQU1DLFVBQVUsR0FBRyxFQUFuQjtBQUNBLFNBQUtsL0IsS0FBTCxDQUFXOCtCLFNBQVgsQ0FBcUJyaUMsT0FBckIsQ0FBNkIraEMsUUFBUSxJQUFJO0FBQ3ZDLFlBQU1XLGFBQWEsR0FBRy9TLElBQUksQ0FBQzFjLElBQUwsQ0FDcEJ2RixHQUFHLElBQ0RBLEdBQUcsSUFDSEEsR0FBRyxDQUFDOGdCLFFBREosSUFFQTlnQixHQUFHLENBQUMwYSxhQUZKLElBR0ExYSxHQUFHLENBQUM4SSxLQUFKLEtBQWN1ckIsUUFBUSxDQUFDRSxPQUxMLENBQXRCOztBQU9BLFVBQUlGLFFBQVEsQ0FBQ08sVUFBVCxJQUF1QixDQUFDSSxhQUE1QixFQUEyQztBQUN6Q0YsZ0JBQVEsQ0FBQ250QixJQUFULENBQWMsS0FBS3N0QixjQUFMLENBQW9CWixRQUFwQixDQUFkO0FBQ0QsT0FGRCxNQUVPLElBQUksQ0FBQ0EsUUFBUSxDQUFDTyxVQUFWLElBQXdCSSxhQUE1QixFQUEyQztBQUNoREQsa0JBQVUsQ0FBQ3B0QixJQUFYLENBQWdCO0FBQ2RuSixhQUFHLEVBQUV3MkIsYUFBYSxDQUFDeDJCLEdBREw7QUFFZDAyQixzQkFBWSxFQUFFYixRQUFRLENBQUNjO0FBRlQsU0FBaEI7QUFJRDtBQUNGLEtBaEJELEVBUG9CLENBeUJwQjs7QUFDQSxTQUFLdi9CLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMsaUVBQUUsQ0FBQ2lDLFVBQUgsQ0FBYztBQUNaL0IsVUFBSSxFQUFFQyw4REFBRSxDQUFDc2tDLDhCQURHO0FBRVo5aEMsVUFBSSxFQUFFO0FBQ0oraEMsc0JBQWMsRUFBRVAsUUFEWjtBQUVKUSx3QkFBZ0IsRUFBRVA7QUFGZDtBQUZNLEtBQWQsQ0FERixFQTFCb0IsQ0FvQ3BCOztBQUNBRCxZQUFRLENBQUN4aUMsT0FBVCxDQUFpQitoQyxRQUFRLElBQUk7QUFDM0IsV0FBS3orQixLQUFMLENBQVdsRixRQUFYLENBQ0VDLGlFQUFFLENBQUMwQyxTQUFILENBQWE7QUFDWGlCLGNBQU0sRUFBRWkvQixtRUFERztBQUVYcDdCLGFBQUssRUFBRSxpQkFGSTtBQUdYaEUsYUFBSyxFQUFFO0FBQUVvaEMsdUJBQWEsRUFBRWxCLFFBQVEsQ0FBQ2E7QUFBMUI7QUFISSxPQUFiLENBREY7QUFPRCxLQVJEO0FBU0FILGNBQVUsQ0FBQ3ppQyxPQUFYLENBQW1CK2hDLFFBQVEsSUFBSTtBQUM3QixXQUFLeitCLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMsaUVBQUUsQ0FBQzBDLFNBQUgsQ0FBYTtBQUNYaUIsY0FBTSxFQUFFaS9CLG1FQURHO0FBRVhwN0IsYUFBSyxFQUFFLG9CQUZJO0FBR1hoRSxhQUFLLEVBQUU7QUFBRW9oQyx1QkFBYSxFQUFFbEIsUUFBUSxDQUFDYTtBQUExQjtBQUhJLE9BQWIsQ0FERjtBQU9ELEtBUkQ7QUFVQSxTQUFLdC9CLEtBQUwsQ0FBVyt4QixPQUFYO0FBQ0Q7O0FBRURzTixnQkFBYyxDQUFDWixRQUFELEVBQVc7QUFDdkIsV0FBTztBQUNMNzFCLFNBQUcsRUFBRTYxQixRQUFRLENBQUM3MUIsR0FEVDtBQUVMa2MsbUJBQWEsRUFBRSxJQUZWO0FBR0w1UixXQUFLLEVBQUV1ckIsUUFBUSxDQUFDRSxPQUhYO0FBSUxXLGtCQUFZLEVBQUViLFFBQVEsQ0FBQ2M7QUFKbEIsS0FBUDtBQU1EOztBQUVEcitCLFFBQU0sR0FBRztBQUNQLHdCQUNFO0FBQU0sZUFBUyxFQUFDO0FBQWhCLG9CQUNFO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0U7QUFDRSxlQUFTLEVBQUMsMEJBRFo7QUFFRSxzQkFBYTtBQUZmLE1BREYsZUFLRSx3RUFDRyxLQUFLakIsS0FBTCxDQUFXOCtCLFNBQVgsQ0FBcUJoMkIsR0FBckIsQ0FBeUIwMUIsUUFBUSxpQkFDaEMsMkRBQUMsd0JBQUQ7QUFDRSxTQUFHLEVBQUVBLFFBQVEsQ0FBQ0UsT0FEaEI7QUFFRSxjQUFRLEVBQUVGLFFBRlo7QUFHRSxjQUFRLEVBQUVBLFFBQVEsQ0FBQ08sVUFIckI7QUFJRSxjQUFRLEVBQUUsS0FBS3B1QjtBQUpqQixNQURELENBREgsQ0FMRixDQURGLGVBaUJFO0FBQVMsZUFBUyxFQUFDO0FBQW5CLG9CQUNFO0FBQ0UsZUFBUyxFQUFDLFFBRFo7QUFFRSxVQUFJLEVBQUMsUUFGUDtBQUdFLGFBQU8sRUFBRSxLQUFLaXVCLG1CQUhoQjtBQUlFLHNCQUFhO0FBSmYsTUFERixlQU9FO0FBQ0UsZUFBUyxFQUFDLE1BRFo7QUFFRSxVQUFJLEVBQUMsUUFGUDtBQUdFLGFBQU8sRUFBRSxLQUFLQyxpQkFIaEI7QUFJRSxzQkFBYTtBQUpmLE1BUEYsQ0FqQkYsQ0FERjtBQWtDRDs7QUFoSjBELEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzNDN0Q7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTWMsU0FBUyxHQUFHLE1BQWxCO0FBQ0EsTUFBTUMsYUFBYSxHQUFHLFFBQXRCO0FBRU8sTUFBTUMsV0FBTixTQUEwQmpnQyw0Q0FBSyxDQUFDQyxhQUFoQyxDQUE4QztBQUNuREMsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUtDLEtBQUwsR0FBYTtBQUFFOC9CLHFCQUFlLEVBQUU7QUFBbkIsS0FBYjtBQUNBLFNBQUtDLFdBQUwsR0FBbUIsS0FBS0EsV0FBTCxDQUFpQjUvQixJQUFqQixDQUFzQixJQUF0QixDQUFuQjtBQUNBLFNBQUs2L0IsVUFBTCxHQUFrQixLQUFLQSxVQUFMLENBQWdCNy9CLElBQWhCLENBQXFCLElBQXJCLENBQWxCO0FBQ0Q7QUFFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBOzs7QUFDRTgvQixZQUFVLENBQUMxOUIsQ0FBRCxFQUFJO0FBQ1osV0FDRSxDQUFDLEtBQUsyOUIsT0FBTCxJQUFnQixDQUFDLEtBQUtuZ0MsS0FBTCxDQUFXbWlCLElBQVgsQ0FBZ0I0QyxrQkFBbEMsS0FDQXZpQixDQUFDLENBQUM0OUIsWUFBRixDQUFlQyxLQUFmLENBQXFCM3ZCLFFBQXJCLENBQThCLG9CQUE5QixDQUZGO0FBSUQ7O0FBRURzdkIsYUFBVyxDQUFDejlCLEtBQUQsRUFBUTtBQUNqQixZQUFRQSxLQUFLLENBQUN0SCxJQUFkO0FBQ0UsV0FBSyxPQUFMO0FBQ0U7QUFDQSxZQUFJLEtBQUtrbEMsT0FBVCxFQUFrQjtBQUNoQjU5QixlQUFLLENBQUMyTixjQUFOO0FBQ0Q7O0FBQ0Q7O0FBQ0YsV0FBSyxXQUFMO0FBQ0UzTixhQUFLLENBQUNwRixNQUFOLENBQWFtakMsSUFBYjs7QUFDQSxZQUFJLEtBQUt0Z0MsS0FBTCxDQUFXbWlCLElBQVgsQ0FBZ0I0QyxrQkFBcEIsRUFBd0M7QUFDdEN4aUIsZUFBSyxDQUFDMk4sY0FBTjtBQUNBO0FBQ0Q7O0FBQ0QsYUFBS2l3QixPQUFMLEdBQWUsSUFBZjtBQUNBNTlCLGFBQUssQ0FBQzY5QixZQUFOLENBQW1CRyxhQUFuQixHQUFtQyxNQUFuQztBQUNBaCtCLGFBQUssQ0FBQzY5QixZQUFOLENBQW1CaHdCLE9BQW5CLENBQTJCLG9CQUEzQixFQUFpRCxLQUFLcFEsS0FBTCxDQUFXOE4sS0FBNUQ7QUFDQSxhQUFLOU4sS0FBTCxDQUFXZ2dDLFdBQVgsQ0FDRXo5QixLQURGLEVBRUUsS0FBS3ZDLEtBQUwsQ0FBVzhOLEtBRmIsRUFHRSxLQUFLOU4sS0FBTCxDQUFXbWlCLElBSGIsRUFJRSxLQUFLbmlCLEtBQUwsQ0FBV3VmLEtBSmI7QUFNQTs7QUFDRixXQUFLLFNBQUw7QUFDRSxhQUFLdmYsS0FBTCxDQUFXZ2dDLFdBQVgsQ0FBdUJ6OUIsS0FBdkI7QUFDQTs7QUFDRixXQUFLLFdBQUw7QUFDQSxXQUFLLFVBQUw7QUFDQSxXQUFLLE1BQUw7QUFDRSxZQUFJLEtBQUsyOUIsVUFBTCxDQUFnQjM5QixLQUFoQixDQUFKLEVBQTRCO0FBQzFCQSxlQUFLLENBQUMyTixjQUFOO0FBQ0EsZUFBS2xRLEtBQUwsQ0FBV2dnQyxXQUFYLENBQXVCejlCLEtBQXZCLEVBQThCLEtBQUt2QyxLQUFMLENBQVc4TixLQUF6QztBQUNEOztBQUNEOztBQUNGLFdBQUssV0FBTDtBQUNFO0FBQ0EsWUFBSXZMLEtBQUssQ0FBQ2dqQixNQUFOLEtBQWlCLENBQWpCLElBQXNCLEtBQUt2bEIsS0FBTCxDQUFXbWlCLElBQVgsQ0FBZ0IyQyxhQUExQyxFQUF5RDtBQUN2RHZpQixlQUFLLENBQUMyTixjQUFOO0FBQ0QsU0FKSCxDQUtFOzs7QUFDQSxhQUFLaXdCLE9BQUwsR0FBZSxLQUFmO0FBQ0E7QUF6Q0o7QUEyQ0Q7QUFFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDOEIsU0FBckJ4SSxxQkFBcUIsQ0FBQy9mLFNBQUQsRUFBWTVKLFNBQVosRUFBdUI7QUFDakQsVUFBTTtBQUFFbXVCO0FBQUYsUUFBaUJ2a0IsU0FBUyxDQUFDdUssSUFBakM7QUFDQSxVQUFNeVYsWUFBWSxHQUFHSixnRkFBZSxDQUFDQyxrQkFBaEIsQ0FDbkJ6cEIsU0FBUyxDQUFDK3hCLGVBRFMsRUFFbkI1RCxVQUZtQixDQUFyQjs7QUFJQSxRQUFJdkUsWUFBSixFQUFrQjtBQUNoQixhQUFPLElBQVA7QUFDRCxLQVJnRCxDQVVqRDs7O0FBQ0FKLG9GQUFlLENBQUNNLHdCQUFoQixDQUF5QzlwQixTQUFTLENBQUMreEIsZUFBbkQ7QUFFQSxXQUFPO0FBQ0xBLHFCQUFlLEVBQUV2SSxnRkFBZSxDQUFDTyxzQkFBaEIsQ0FBdUNvRSxVQUF2QztBQURaLEtBQVA7QUFHRCxHQTdGa0QsQ0ErRm5EO0FBQ0E7QUFDQTs7O0FBQ0FqdkIsb0JBQWtCLEdBQUc7QUFDbkIsVUFBTTJxQixTQUFTLEdBQUdpSSxXQUFXLENBQUNuSSxxQkFBWixDQUFrQyxLQUFLMzNCLEtBQXZDLEVBQThDLEtBQUtDLEtBQW5ELENBQWxCOztBQUNBLFFBQUk0M0IsU0FBSixFQUFlO0FBQ2IsV0FBS3gzQixRQUFMLENBQWN3M0IsU0FBZDtBQUNEO0FBQ0YsR0F2R2tELENBeUduRDtBQUNBO0FBQ0E7OztBQUNBTywyQkFBeUIsQ0FBQ3hnQixTQUFELEVBQVk7QUFDbkMsVUFBTWlnQixTQUFTLEdBQUdpSSxXQUFXLENBQUNuSSxxQkFBWixDQUFrQy9mLFNBQWxDLEVBQTZDLEtBQUszWCxLQUFsRCxDQUFsQjs7QUFDQSxRQUFJNDNCLFNBQUosRUFBZTtBQUNiLFdBQUt4M0IsUUFBTCxDQUFjdzNCLFNBQWQ7QUFDRDtBQUNGOztBQUVEdjNCLHNCQUFvQixHQUFHO0FBQ3JCazNCLG9GQUFlLENBQUNNLHdCQUFoQixDQUF5QyxLQUFLNzNCLEtBQUwsQ0FBVzgvQixlQUFwRDtBQUNEOztBQUVERSxZQUFVLENBQUMxOUIsS0FBRCxFQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLFFBQUksS0FBS3ZDLEtBQUwsQ0FBV21pQixJQUFYLENBQWdCMkMsYUFBaEIsSUFBaUN2aUIsS0FBSyxDQUFDRSxHQUFOLEtBQWMsT0FBbkQsRUFBNEQ7QUFDMUQsV0FBS3pDLEtBQUwsQ0FBV2QsT0FBWCxDQUFtQnFELEtBQW5CO0FBQ0Q7QUFDRjtBQUVEO0FBQ0Y7QUFDQTtBQUNBOzs7QUFDRWkrQixlQUFhLEdBQUc7QUFDZCxRQUFJO0FBQUVqaEIsV0FBRjtBQUFTMGU7QUFBVCxRQUFvQixLQUFLaitCLEtBQTdCOztBQUNBLFFBQUksQ0FBQ2krQixNQUFMLEVBQWE7QUFDWCxhQUFPLEVBQVA7QUFDRDs7QUFFRCxRQUFJd0MsVUFBVSxHQUFHeEMsTUFBTSxDQUFDbDBCLEtBQVAsQ0FBYSxHQUFiLENBQWpCOztBQUVBLFVBQU0yMkIsT0FBTyxHQUFHN0YsR0FBRyxJQUFJO0FBQ3JCLFVBQUk1bEIsSUFBSSxHQUFHLENBQVg7O0FBQ0EsV0FBSyxJQUFJbEMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRzhuQixHQUFHLENBQUN4M0IsTUFBeEIsRUFBZ0MwUCxDQUFDLEVBQWpDLEVBQXFDO0FBQ25DLFlBQUk0dEIsUUFBUSxHQUFHOUYsR0FBRyxDQUFDK0YsVUFBSixDQUFlN3RCLENBQWYsQ0FBZjtBQUNBa0MsWUFBSSxJQUFJMHJCLFFBQVI7QUFDRDs7QUFDRCxhQUFPMXJCLElBQVA7QUFDRCxLQVBEOztBQVNBLFFBQUlBLElBQUksR0FBR3lyQixPQUFPLENBQUNuaEIsS0FBRCxDQUFsQjtBQUNBLFFBQUl6UixLQUFLLEdBQUdtSCxJQUFJLEdBQUd3ckIsVUFBVSxDQUFDcDlCLE1BQTlCO0FBQ0EsV0FBT285QixVQUFVLENBQUMzeUIsS0FBRCxDQUFqQjtBQUNEOztBQUVEK3lCLGdCQUFjLEdBQUc7QUFDZixVQUFNO0FBQUVDLGtCQUFGO0FBQWdCM2U7QUFBaEIsUUFBeUIsS0FBS25pQixLQUFwQztBQUVBLFVBQU07QUFBRSs3QixrQkFBRjtBQUFnQkU7QUFBaEIsUUFBZ0M5WixJQUF0QztBQUNBLFFBQUk0ZSxjQUFKO0FBQ0EsUUFBSXZJLFVBQUo7QUFDQSxRQUFJd0ksZ0JBQWdCLEdBQUcsS0FBdkI7QUFDQSxRQUFJQyxpQkFBSjtBQUNBLFFBQUlDLGtCQUFrQixHQUNwQixLQUFLamhDLEtBQUwsQ0FBVzgvQixlQUFYLElBQThCLEtBQUs5L0IsS0FBTCxDQUFXOC9CLGVBQVgsQ0FBMkJuM0IsR0FEM0Q7QUFFQSxRQUFJdTRCLGFBQUo7O0FBRUEsUUFBSUwsWUFBSixFQUFrQjtBQUNoQjtBQUNBSyxtQkFBYSxHQUFHLEtBQUtYLGFBQUwsRUFBaEI7QUFDRCxLQUhELE1BR08sSUFBSXJlLElBQUksQ0FBQzJDLGFBQVQsRUFBd0I7QUFDN0JpYyxvQkFBYyxHQUFHLHlCQUFqQjtBQUNBdkksZ0JBQVUsR0FBRztBQUNYNEksdUJBQWUsRUFBRWpmLElBQUksQ0FBQ2lmLGVBRFg7QUFFWDNQLHVCQUFlLEVBQUcsT0FBTXNLLFlBQWE7QUFGMUIsT0FBYjtBQUlBa0YsdUJBQWlCLEdBQUc7QUFBRXhQLHVCQUFlLEVBQUcsT0FBTXNLLFlBQWE7QUFBdkMsT0FBcEI7QUFDRCxLQVBNLE1BT0EsSUFBSTVaLElBQUksQ0FBQzJaLG1CQUFULEVBQThCO0FBQ25DO0FBRUE7QUFDQSxZQUFNdUYsVUFBVSxHQUNkbGYsSUFBSSxDQUFDbG5CLElBQUwsS0FBYzJrQyxTQUFkLEdBQTBCemQsSUFBSSxDQUFDMlosbUJBQS9CLEdBQXFELEVBRHZEO0FBR0FpRixvQkFBYyxHQUFHLHlCQUFqQjtBQUNBdkksZ0JBQVUsR0FBRztBQUNYNEksdUJBQWUsRUFBRWpmLElBQUksQ0FBQ2lmLGVBRFg7QUFFWDNQLHVCQUFlLEVBQUV5UCxrQkFBa0IsR0FDOUIsT0FBTSxLQUFLamhDLEtBQUwsQ0FBVzgvQixlQUFYLENBQTJCbjNCLEdBQUksR0FEUCxHQUU5QixPQUFNeTRCLFVBQVc7QUFKWCxPQUFiO0FBTUQsS0FkTSxNQWNBLElBQUl0RixZQUFZLElBQUlFLFdBQVcsSUFBSUMsd0VBQW5DLEVBQTBEO0FBQy9EO0FBQ0E2RSxvQkFBYyxHQUFHLHlCQUFqQjtBQUNBdkksZ0JBQVUsR0FBRztBQUNYNEksdUJBQWUsRUFBRWpmLElBQUksQ0FBQ2lmLGVBRFg7QUFFWDNQLHVCQUFlLEVBQUcsT0FBTXNLLFlBQVksSUFBSTVaLElBQUksQ0FBQ21mLE9BQVE7QUFGMUMsT0FBYjtBQUlELEtBUE0sTUFPQSxJQUFJckYsV0FBVyxJQUFJc0MseUVBQW5CLEVBQTJDO0FBQ2hEeUMsc0JBQWdCLEdBQUcsSUFBbkI7QUFDQUMsdUJBQWlCLEdBQUc7QUFBRXhQLHVCQUFlLEVBQUcsT0FBTXRQLElBQUksQ0FBQ21mLE9BQVE7QUFBdkMsT0FBcEI7QUFDRCxLQUhNLE1BR0E7QUFDTEgsbUJBQWEsR0FBRyxLQUFLWCxhQUFMLEVBQWhCO0FBQ0FPLG9CQUFjLEdBQUcsRUFBakI7QUFDRDs7QUFFRCxXQUFPO0FBQ0xDLHNCQURLO0FBRUxDLHVCQUZLO0FBR0x6SSxnQkFISztBQUlMdUksb0JBSks7QUFLTEk7QUFMSyxLQUFQO0FBT0Q7O0FBRURqZ0MsUUFBTSxHQUFHO0FBQ1AsVUFBTTtBQUNKNkQsY0FESTtBQUVKOUQsZUFGSTtBQUdKc2dDLGlCQUhJO0FBSUpwZixVQUpJO0FBS0pqakIsYUFMSTtBQU1KcWdCO0FBTkksUUFPRixLQUFLdmYsS0FQVDtBQVFBLFVBQU13aEMscUJBQXFCLEdBQUksaUJBQzdCdmdDLFNBQVMsR0FBSSxJQUFHQSxTQUFVLEVBQWpCLEdBQXFCLEVBQy9CLEdBQUVraEIsSUFBSSxDQUFDc2YsU0FBTCxHQUFpQixVQUFqQixHQUE4QixFQUFHLEdBQ2xDdGYsSUFBSSxDQUFDMkMsYUFBTCxHQUFxQixrQkFBckIsR0FBMEMsRUFDM0MsRUFKRDtBQUtBLFVBQU0sQ0FBQzRjLGNBQUQsSUFBbUJuaUIsS0FBekI7QUFDQSxVQUFNO0FBQ0p5aEIsc0JBREk7QUFFSkMsdUJBRkk7QUFHSnpJLGdCQUhJO0FBSUp1SSxvQkFKSTtBQUtKSTtBQUxJLFFBTUYsS0FBS04sY0FBTCxFQU5KO0FBUUEsUUFBSWMsY0FBYyxHQUFHLEVBQXJCOztBQUNBLFFBQUlKLFdBQUosRUFBaUI7QUFDZkksb0JBQWMsR0FBRztBQUNmemlDLGVBQU8sRUFBRSxLQUFLOGdDLFdBREM7QUFFZjRCLGlCQUFTLEVBQUUsS0FBSzVCLFdBRkQ7QUFHZjZCLG1CQUFXLEVBQUUsS0FBSzdCLFdBSEg7QUFJZjhCLG1CQUFXLEVBQUUsS0FBSzlCO0FBSkgsT0FBakI7QUFNRDs7QUFFRCx3QkFDRTtBQUNFLGVBQVMsRUFBRXdCLHFCQURiO0FBRUUsWUFBTSxFQUFFLEtBQUt4QixXQUZmO0FBR0UsZ0JBQVUsRUFBRSxLQUFLQSxXQUhuQjtBQUlFLGlCQUFXLEVBQUUsS0FBS0EsV0FKcEI7QUFLRSxpQkFBVyxFQUFFLEtBQUtBO0FBTHBCLE9BTU0yQixjQU5OLGdCQVFFO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBR0U7QUFDRSxlQUFTLEVBQUMsaUJBRFo7QUFFRSxVQUFJLEVBQUV4ZixJQUFJLENBQUMyQyxhQUFMLEdBQXFCOVUsU0FBckIsR0FBaUNtUyxJQUFJLENBQUN2WixHQUY5QztBQUdFLGNBQVEsRUFBQyxHQUhYO0FBSUUsZ0JBQVUsRUFBRSxLQUFLcTNCLFVBSm5CO0FBS0UsYUFBTyxFQUFFL2dDLE9BTFg7QUFNRSxlQUFTLEVBQUU7QUFOYixvQkFRRTtBQUFLLGVBQVMsRUFBQyxNQUFmO0FBQXNCLHFCQUFhO0FBQW5DLG9CQUNFO0FBQ0UsZUFBUyxFQUNQaWlDLGFBQWEsR0FDVCw4QkFEUyxHQUVULGNBSlI7QUFNRSx1QkFBZU8sY0FOakI7QUFPRSxXQUFLLEVBQUVQLGFBQWEsR0FBRztBQUFFQyx1QkFBZSxFQUFFRDtBQUFuQixPQUFILEdBQXdDO0FBUDlELG9CQVNFO0FBQUssZUFBUyxFQUFFSixjQUFoQjtBQUFnQyxXQUFLLEVBQUV2STtBQUF2QyxNQVRGLEVBVUd3SSxnQkFBZ0IsaUJBQ2Y7QUFDRSxlQUFTLEVBQUMsNEJBRFo7QUFFRSx1QkFBZUMsaUJBQWlCLEdBQUcsRUFBSCxHQUFRUyxjQUYxQztBQUdFLFdBQUssRUFBRVQ7QUFIVCxNQVhKLENBREYsRUFtQkc5ZSxJQUFJLENBQUMyQyxhQUFMLGlCQUNDO0FBQUssZUFBUyxFQUFDO0FBQWYsTUFwQkosQ0FSRixlQStCRTtBQUNFLGVBQVMsRUFBRyxRQUFPM0MsSUFBSSxDQUFDK0ksUUFBTCxHQUFnQixrQkFBaEIsR0FBcUMsRUFBRyxHQUN6RC9JLElBQUksQ0FBQ2xuQixJQUFMLEtBQWMya0MsU0FBZCxJQUEyQnpkLElBQUksQ0FBQzRmLG9CQUFoQyxHQUNJLFlBREosR0FFSSxFQUNMO0FBTEgsb0JBT0U7QUFBTSxTQUFHLEVBQUM7QUFBVixPQUNHNWYsSUFBSSxDQUFDK0ksUUFBTCxpQkFBaUI7QUFBSyxlQUFTLEVBQUM7QUFBZixNQURwQixFQUVHM0wsS0FBSyxpQkFBSSxzRUFGWixlQUdFO0FBQ0UsZUFBUyxFQUFDLGlCQURaO0FBRUUsc0JBQWE7QUFGZixNQUhGLENBUEYsQ0EvQkYsQ0FIRixFQW1ER3hhLFFBbkRILEVBb0RHb2QsSUFBSSxDQUFDbG5CLElBQUwsS0FBYzJrQyxTQUFkLGdCQUNDLDJEQUFDLCtGQUFEO0FBQ0UsY0FBUSxFQUFFemQsSUFBSSxDQUFDbUssUUFEakI7QUFFRSxVQUFJLEVBQUUsQ0FDSjtBQUNFcHBCLFVBQUUsRUFBRWlmLElBQUksQ0FBQ2pmLEVBRFg7QUFFRW9sQixXQUFHLEVBQUVuRyxJQUFJLENBQUNtRyxHQUZaO0FBR0VTLFlBQUksRUFBRTVHLElBQUksQ0FBQzRHLElBQUwsSUFBYTVHLElBQUksQ0FBQzRHLElBQUwsQ0FBVTdEO0FBSC9CLE9BREksQ0FGUjtBQVNFLGNBQVEsRUFBRSxLQUFLbGxCLEtBQUwsQ0FBV2xGLFFBVHZCO0FBVUUsWUFBTSxFQUFFNmlDLG1FQUFnQkE7QUFWMUIsTUFERCxHQWFHLElBakVOLEVBbUVHeGIsSUFBSSxDQUFDNEMsa0JBQUwsZ0JBQ0MsMkRBQUMsa0ZBQUQ7QUFDRSxVQUFJLEVBQUU7QUFDSmlkLGdCQUFRLEVBQUUsS0FBS2hpQyxLQUFMLENBQVc4TixLQUFYLEdBQW1CLENBRHpCO0FBRUptMEIsZUFBTyxFQUFFOWYsSUFBSSxDQUFDK2YsaUJBQUwsSUFBMEIsQ0FBQyxDQUZoQztBQUdKQyxxQkFBYSxFQUFFaGdCLElBQUksQ0FBQ2lnQix3QkFIaEI7QUFJSkMsa0JBQVUsRUFBRTlpQixLQUFLLENBQUMraUIsaUJBQU4sRUFKUjtBQUtKNWpDLGNBQU0sRUFBRW1oQztBQUxKLE9BRFI7QUFRRSxjQUFRLEVBQUUsS0FBSzcvQixLQUFMLENBQVdsRjtBQVJ2QixNQURELEdBV0csSUE5RU4sQ0FSRixDQURGO0FBMkZEOztBQWxWa0Q7QUFvVnJEZ2xDLFdBQVcsQ0FBQ2xrQixZQUFaLEdBQTJCO0FBQ3pCMkQsT0FBSyxFQUFFLEVBRGtCO0FBRXpCNEMsTUFBSSxFQUFFLEVBRm1CO0FBR3pCb2YsYUFBVyxFQUFFO0FBSFksQ0FBM0I7QUFNTyxNQUFNZ0IsT0FBTixTQUFzQjFpQyw0Q0FBSyxDQUFDQyxhQUE1QixDQUEwQztBQUMvQ0MsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUtDLEtBQUwsR0FBYTtBQUFFd3JCLHFCQUFlLEVBQUU7QUFBbkIsS0FBYjtBQUNBLFNBQUtpQyxXQUFMLEdBQW1CLEtBQUtBLFdBQUwsQ0FBaUJ0dEIsSUFBakIsQ0FBc0IsSUFBdEIsQ0FBbkI7QUFDQSxTQUFLMnZCLFlBQUwsR0FBb0IsS0FBS0EsWUFBTCxDQUFrQjN2QixJQUFsQixDQUF1QixJQUF2QixDQUFwQjtBQUNEO0FBRUQ7QUFDRjtBQUNBOzs7QUFDRTYzQixtQkFBaUIsR0FBRztBQUNsQixVQUFNMTVCLEtBQUssR0FBRztBQUFFaWtDLGVBQVMsRUFBRSxLQUFLeGlDLEtBQUwsQ0FBV21pQixJQUFYLENBQWdCc2dCO0FBQTdCLEtBQWQsQ0FEa0IsQ0FFbEI7O0FBQ0EsUUFBSSxLQUFLemlDLEtBQUwsQ0FBV21pQixJQUFYLENBQWdCK0ksUUFBcEIsRUFBOEI7QUFDNUIzc0IsV0FBSyxDQUFDMjVCLFNBQU4sR0FBa0IsUUFBbEI7QUFDRDs7QUFDRCxRQUFJLEtBQUtsNEIsS0FBTCxDQUFXbWlCLElBQVgsQ0FBZ0IyQyxhQUFwQixFQUFtQztBQUNqQztBQUNBdm1CLFdBQUssQ0FBQzI1QixTQUFOLEdBQWtCLFFBQWxCO0FBQ0EzNUIsV0FBSyxDQUFDb2hDLGFBQU4sR0FBc0IsS0FBSzMvQixLQUFMLENBQVdtaUIsSUFBWCxDQUFnQmtXLFFBQXRDO0FBQ0Q7O0FBQ0QsUUFDRSxLQUFLcjRCLEtBQUwsQ0FBV21pQixJQUFYLENBQWdCbG5CLElBQWhCLEtBQXlCMmtDLFNBQXpCLElBQ0EsS0FBSzUvQixLQUFMLENBQVdtaUIsSUFBWCxDQUFnQjRDLGtCQUZsQixFQUdFO0FBQ0F4bUIsV0FBSyxDQUFDMjVCLFNBQU4sR0FBa0IsTUFBbEI7QUFDRDs7QUFDRCxXQUFPO0FBQUUzNUI7QUFBRixLQUFQO0FBQ0Q7O0FBRUQ0bUIsV0FBUyxDQUFDNWlCLEtBQUQsRUFBUTtBQUNmLFNBQUt2QyxLQUFMLENBQVdsRixRQUFYLENBQ0VDLGlFQUFFLENBQUMwQyxTQUFILENBQ0V5TCxNQUFNLENBQUNzYyxNQUFQLENBQ0U7QUFDRWpqQixXQURGO0FBRUU3RCxZQUFNLEVBQUVpL0IsbUVBRlY7QUFHRWpZLHFCQUFlLEVBQUUsS0FBSzFsQixLQUFMLENBQVc4TjtBQUg5QixLQURGLEVBTUUsS0FBS21xQixpQkFBTCxFQU5GLENBREYsQ0FERjtBQVlEOztBQUVEdkssYUFBVyxDQUFDbnJCLEtBQUQsRUFBUTtBQUNqQixTQUFLNGlCLFNBQUwsQ0FBZSxPQUFmLEVBRGlCLENBR2pCO0FBQ0E7O0FBQ0E1aUIsU0FBSyxDQUFDMk4sY0FBTjtBQUNBLFVBQU07QUFBRXNkLFlBQUY7QUFBVWpJLFlBQVY7QUFBa0JILGFBQWxCO0FBQTJCQyxhQUEzQjtBQUFvQ0M7QUFBcEMsUUFBaUQvaUIsS0FBdkQ7O0FBQ0EsUUFBSSxDQUFDLEtBQUt2QyxLQUFMLENBQVdtaUIsSUFBWCxDQUFnQjJDLGFBQXJCLEVBQW9DO0FBQ2xDLFdBQUs5a0IsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyxpRUFBRSxDQUFDaUMsVUFBSCxDQUFjO0FBQ1ovQixZQUFJLEVBQUVDLDhEQUFFLENBQUM2dUIsU0FERztBQUVacnNCLFlBQUksRUFBRXdMLE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxLQUFLeGxCLEtBQUwsQ0FBV21pQixJQUF6QixFQUErQjtBQUNuQzVmLGVBQUssRUFBRTtBQUFFaXJCLGtCQUFGO0FBQVVqSSxrQkFBVjtBQUFrQkgsbUJBQWxCO0FBQTJCQyxtQkFBM0I7QUFBb0NDO0FBQXBDO0FBRDRCLFNBQS9CO0FBRk0sT0FBZCxDQURGLEVBRGtDLENBVWxDOztBQUNBLFVBQUksS0FBS3RsQixLQUFMLENBQVdtaUIsSUFBWCxDQUFnQmxuQixJQUFoQixLQUF5QjJrQyxTQUE3QixFQUF3QztBQUN0QyxhQUFLNS9CLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMsaUVBQUUsQ0FBQytDLGVBQUgsQ0FBbUI7QUFDakJZLGdCQUFNLEVBQUVpL0IsbUVBRFM7QUFFakJqTCxlQUFLLEVBQUUsQ0FGVTtBQUdqQnJLLGVBQUssRUFBRSxDQUNMO0FBQ0VubEIsY0FBRSxFQUFFLEtBQUtsRCxLQUFMLENBQVdtaUIsSUFBWCxDQUFnQmpmLEVBRHRCO0FBRUVvbEIsZUFBRyxFQUFFLEtBQUt0b0IsS0FBTCxDQUFXbWlCLElBQVgsQ0FBZ0JtRyxHQUZ2QjtBQUdFUyxnQkFBSSxFQUFFLEtBQUsvb0IsS0FBTCxDQUFXbWlCLElBQVgsQ0FBZ0I0RyxJQUFoQixJQUF3QixLQUFLL29CLEtBQUwsQ0FBV21pQixJQUFYLENBQWdCNEcsSUFBaEIsQ0FBcUIySjtBQUhyRCxXQURLO0FBSFUsU0FBbkIsQ0FERjtBQWFEOztBQUNELFVBQUksS0FBSzF5QixLQUFMLENBQVdtaUIsSUFBWCxDQUFnQnVnQixzQkFBcEIsRUFBNEM7QUFDMUMsYUFBSzFpQyxLQUFMLENBQVdsRixRQUFYLENBQ0VDLGlFQUFFLENBQUNpQyxVQUFILENBQWM7QUFDWi9CLGNBQUksRUFBRUMsOERBQUUsQ0FBQ3luQyx3QkFERztBQUVaamxDLGNBQUksRUFBRTtBQUNKa2xDLHFCQUFTLEVBQUUsS0FBSzVpQyxLQUFMLENBQVdtaUIsSUFBWCxDQUFnQnZaLEdBRHZCO0FBRUpsSyxrQkFBTSxFQUFFO0FBRko7QUFGTSxTQUFkLENBREY7QUFTRDs7QUFDRCxVQUFJLEtBQUtzQixLQUFMLENBQVdtaUIsSUFBWCxDQUFnQjRDLGtCQUFwQixFQUF3QztBQUN0QyxjQUFNeEYsS0FBSyxHQUFHLEtBQUt2ZixLQUFMLENBQVdtaUIsSUFBWCxDQUFnQmpQLEtBQWhCLElBQXlCLEtBQUtsVCxLQUFMLENBQVdtaUIsSUFBWCxDQUFnQmtXLFFBQXZEO0FBQ0EsYUFBS3I0QixLQUFMLENBQVdsRixRQUFYLENBQ0VDLGlFQUFFLENBQUNpQyxVQUFILENBQWM7QUFDWi9CLGNBQUksRUFBRUMsOERBQUUsQ0FBQzJuQywwQkFERztBQUVabmxDLGNBQUksRUFBRTtBQUNKekMsZ0JBQUksRUFBRSxPQURGO0FBRUorbUMsb0JBQVEsRUFBRSxLQUFLaGlDLEtBQUwsQ0FBVzhOLEtBQVgsR0FBbUIsQ0FGekI7QUFHSm0wQixtQkFBTyxFQUFFLEtBQUtqaUMsS0FBTCxDQUFXbWlCLElBQVgsQ0FBZ0IrZixpQkFBaEIsSUFBcUMsQ0FBQyxDQUgzQztBQUlKQyx5QkFBYSxFQUFFLEtBQUtuaUMsS0FBTCxDQUFXbWlCLElBQVgsQ0FBZ0IyZ0IsbUJBSjNCO0FBS0pULHNCQUFVLEVBQUU5aUIsS0FBSyxDQUFDK2lCLGlCQUFOLEVBTFI7QUFNSjVqQyxrQkFBTSxFQUFFbWhDO0FBTko7QUFGTSxTQUFkLENBREY7QUFhRDtBQUNGLEtBckRELE1BcURPO0FBQ0wsV0FBSzcvQixLQUFMLENBQVdsRixRQUFYLENBQ0VDLGlFQUFFLENBQUNpQyxVQUFILENBQWM7QUFDWi9CLFlBQUksRUFBRUMsOERBQUUsQ0FBQzZuQyxnQkFERztBQUVacmxDLFlBQUksRUFBRTtBQUFFd1YsZUFBSyxFQUFFLEtBQUtsVCxLQUFMLENBQVdtaUIsSUFBWCxDQUFnQmpQO0FBQXpCO0FBRk0sT0FBZCxDQURGO0FBTUQ7QUFDRjs7QUFFRDZjLGNBQVksQ0FBQ2lJLE1BQUQsRUFBUztBQUNuQixRQUFJQSxNQUFKLEVBQVk7QUFDVixXQUFLaDRCLEtBQUwsQ0FBV2dqQyxVQUFYLENBQXNCLEtBQUtoakMsS0FBTCxDQUFXOE4sS0FBakM7QUFDRCxLQUZELE1BRU87QUFDTCxXQUFLOU4sS0FBTCxDQUFXZ2pDLFVBQVg7QUFDRDtBQUNGOztBQUVEOWhDLFFBQU0sR0FBRztBQUNQLFVBQU07QUFBRWxCO0FBQUYsUUFBWSxJQUFsQjtBQUNBLFVBQU07QUFBRW1pQjtBQUFGLFFBQVduaUIsS0FBakI7QUFDQSxVQUFNczRCLGlCQUFpQixHQUFHdDRCLEtBQUssQ0FBQ2lqQyxXQUFOLEtBQXNCampDLEtBQUssQ0FBQzhOLEtBQXREO0FBQ0EsVUFBTXlSLEtBQUssR0FBRzRDLElBQUksQ0FBQ2pQLEtBQUwsSUFBY2lQLElBQUksQ0FBQ2tXLFFBQWpDO0FBQ0EsUUFBSTZLLFdBQUo7O0FBQ0EsUUFBSS9nQixJQUFJLENBQUM0QyxrQkFBVCxFQUE2QjtBQUMzQm1lLGlCQUFXLEdBQUc3RSxvR0FBZDtBQUNELEtBRkQsTUFFTyxJQUFJbGMsSUFBSSxDQUFDMkMsYUFBVCxFQUF3QjtBQUM3Qm9lLGlCQUFXLEdBQUc1RSxrR0FBZDtBQUNELEtBRk0sTUFFQSxJQUFJbmMsSUFBSSxDQUFDbG5CLElBQUwsS0FBYzJrQyxTQUFsQixFQUE2QjtBQUNsQ3NELGlCQUFXLEdBQUc5RSxzRkFBZDtBQUNELEtBRk0sTUFFQTtBQUNMOEUsaUJBQVcsR0FBRy9FLGlGQUFkO0FBQ0Q7O0FBRUQsd0JBQ0UsMkRBQUMsV0FBRCxlQUNNbitCLEtBRE47QUFFRSxhQUFPLEVBQUUsS0FBSzB0QixXQUZoQjtBQUdFLGlCQUFXLEVBQUUsS0FBSzF0QixLQUFMLENBQVdnZ0MsV0FIMUI7QUFJRSxlQUFTLEVBQUcsR0FBRWhnQyxLQUFLLENBQUNpQixTQUFOLElBQW1CLEVBQUcsR0FDbENxM0IsaUJBQWlCLEdBQUcsU0FBSCxHQUFlLEVBQ2pDLEVBTkg7QUFPRSxXQUFLLEVBQUUvWTtBQVBULHFCQVNFLHFGQUNFLDJEQUFDLHNHQUFEO0FBQ0UsYUFBTyxFQUFDLDZCQURWO0FBRUUsaUJBQVcsRUFBRTtBQUFFQTtBQUFGLE9BRmY7QUFHRSxjQUFRLEVBQUUsS0FBS3dRO0FBSGpCLG9CQUtFLDJEQUFDLGlGQUFEO0FBQ0UsY0FBUSxFQUFFL3ZCLEtBQUssQ0FBQ2xGLFFBRGxCO0FBRUUsV0FBSyxFQUFFa0YsS0FBSyxDQUFDOE4sS0FGZjtBQUdFLGNBQVEsRUFBRSxLQUFLaWlCLFlBSGpCO0FBSUUsYUFBTyxFQUFFbVQsV0FKWDtBQUtFLFVBQUksRUFBRS9nQixJQUxSO0FBTUUsK0JBQXlCLEVBQUVBLElBQUksQ0FBQ2xuQixJQUFMLEtBQWMya0MsU0FOM0M7QUFPRSxjQUFRLEVBQUUsS0FBSzNILGlCQUFMLEVBUFo7QUFRRSxZQUFNLEVBQUUwRixtRUFBZ0JBO0FBUjFCLE1BTEYsQ0FERixDQVRGLENBREY7QUE4QkQ7O0FBMUs4QztBQTRLakQ0RSxPQUFPLENBQUMzbUIsWUFBUixHQUF1QjtBQUNyQnVHLE1BQUksRUFBRSxFQURlOztBQUVyQjZnQixZQUFVLEdBQUcsQ0FBRTs7QUFGTSxDQUF2QjtBQUtPLE1BQU1HLGtCQUFOLFNBQWlDdGpDLDRDQUFLLENBQUNDLGFBQXZDLENBQXFEO0FBQzFEQyxhQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNqQixVQUFNQSxLQUFOO0FBQ0EsU0FBS29qQyxpQkFBTCxHQUF5QixLQUFLQSxpQkFBTCxDQUF1QmhqQyxJQUF2QixDQUE0QixJQUE1QixDQUF6QjtBQUNEOztBQUVEZ2pDLG1CQUFpQixHQUFHO0FBQ2xCLFNBQUtwakMsS0FBTCxDQUFXbEYsUUFBWCxDQUFvQjtBQUNsQkcsVUFBSSxFQUFFQyw4REFBRSxDQUFDNnZCLGNBRFM7QUFFbEJydEIsVUFBSSxFQUFFO0FBQUVvUSxhQUFLLEVBQUUsS0FBSzlOLEtBQUwsQ0FBVzhOO0FBQXBCO0FBRlksS0FBcEI7QUFJRDs7QUFFRDVNLFFBQU0sR0FBRztBQUNQLHdCQUNFLDJEQUFDLFdBQUQsZUFDTSxLQUFLbEIsS0FEWDtBQUVFLGVBQVMsRUFBRyxlQUFjLEtBQUtBLEtBQUwsQ0FBV2lCLFNBQVgsSUFBd0IsRUFBRyxFQUZ2RDtBQUdFLGlCQUFXLEVBQUU7QUFIZixxQkFLRTtBQUNFLHVCQUFjLE1BRGhCO0FBRUUsZUFBUyxFQUFDLHNDQUZaO0FBR0Usc0JBQWEsMENBSGY7QUFJRSxhQUFPLEVBQUUsS0FBS21pQztBQUpoQixNQUxGLENBREY7QUFjRDs7QUE1QnlEO0FBK0JyRCxNQUFNQyxXQUFOLFNBQTBCeGpDLDRDQUFLLENBQUNDLGFBQWhDLENBQThDO0FBQzNCLGFBQWJ3akMsYUFBYSxHQUFHO0FBQ3pCLFdBQU87QUFDTEwsaUJBQVcsRUFBRSxJQURSO0FBRUxNLGtCQUFZLEVBQUUsSUFGVDtBQUdMQyxpQkFBVyxFQUFFLElBSFI7QUFJTEMsa0JBQVksRUFBRSxJQUpUO0FBS0xDLHFCQUFlLEVBQUU7QUFMWixLQUFQO0FBT0Q7O0FBRUQzakMsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUtDLEtBQUwsR0FBYW9qQyxXQUFXLENBQUNDLGFBQXpCO0FBQ0EsU0FBS3RELFdBQUwsR0FBbUIsS0FBS0EsV0FBTCxDQUFpQjUvQixJQUFqQixDQUFzQixJQUF0QixDQUFuQjtBQUNBLFNBQUs0aUMsVUFBTCxHQUFrQixLQUFLQSxVQUFMLENBQWdCNWlDLElBQWhCLENBQXFCLElBQXJCLENBQWxCO0FBQ0Q7O0FBRURnNEIsMkJBQXlCLENBQUN4Z0IsU0FBRCxFQUFZO0FBQ25DLFFBQUksS0FBSzNYLEtBQUwsQ0FBV3VqQyxXQUFmLEVBQTRCO0FBQzFCLFlBQU1HLFlBQVksR0FBRyxLQUFLM2pDLEtBQUwsQ0FBV3k5QixRQUFYLElBQXVCLEtBQUt6OUIsS0FBTCxDQUFXeTlCLFFBQVgsQ0FBb0JwUixJQUFoRTtBQUNBLFlBQU11WCxXQUFXLEdBQUdoc0IsU0FBUyxDQUFDNmxCLFFBQVYsSUFBc0I3bEIsU0FBUyxDQUFDNmxCLFFBQVYsQ0FBbUJwUixJQUE3RDs7QUFDQSxVQUNFc1gsWUFBWSxJQUNaQSxZQUFZLENBQUMsS0FBSzFqQyxLQUFMLENBQVdzakMsWUFBWixDQURaLElBRUFJLFlBQVksQ0FBQyxLQUFLMWpDLEtBQUwsQ0FBV3NqQyxZQUFaLENBQVosQ0FBc0MzNkIsR0FBdEMsS0FDRSxLQUFLM0ksS0FBTCxDQUFXdWpDLFdBQVgsQ0FBdUI1NkIsR0FIekIsS0FJQyxDQUFDZzdCLFdBQVcsQ0FBQyxLQUFLM2pDLEtBQUwsQ0FBV3NqQyxZQUFaLENBQVosSUFDQ0ssV0FBVyxDQUFDLEtBQUszakMsS0FBTCxDQUFXc2pDLFlBQVosQ0FBWCxDQUFxQzM2QixHQUFyQyxLQUNFLEtBQUszSSxLQUFMLENBQVd1akMsV0FBWCxDQUF1QjU2QixHQU4zQixDQURGLEVBUUU7QUFDQTtBQUNBLGFBQUt2SSxRQUFMLENBQWNnakMsV0FBVyxDQUFDQyxhQUExQjtBQUNEO0FBQ0Y7QUFDRjs7QUFFRG5lLFdBQVMsQ0FBQzVpQixLQUFELEVBQVF1TCxLQUFSLEVBQWU7QUFDdEIsU0FBSzlOLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMsaUVBQUUsQ0FBQzBDLFNBQUgsQ0FBYTtBQUNYOEUsV0FEVztBQUVYN0QsWUFBTSxFQUFFaS9CLG1FQUZHO0FBR1hqWSxxQkFBZSxFQUFFNVg7QUFITixLQUFiLENBREY7QUFPRDs7QUFFRGt5QixhQUFXLENBQUN6OUIsS0FBRCxFQUFRdUwsS0FBUixFQUFlcVUsSUFBZixFQUFxQjVDLEtBQXJCLEVBQTRCO0FBQ3JDLFlBQVFoZCxLQUFLLENBQUN0SCxJQUFkO0FBQ0UsV0FBSyxXQUFMO0FBQ0UsYUFBSzRvQyxPQUFMLEdBQWUsS0FBZjtBQUNBLGFBQUt4akMsUUFBTCxDQUFjO0FBQ1prakMsc0JBQVksRUFBRXoxQixLQURGO0FBRVowMUIscUJBQVcsRUFBRXJoQixJQUZEO0FBR1pzaEIsc0JBQVksRUFBRWxrQixLQUhGO0FBSVowakIscUJBQVcsRUFBRTtBQUpELFNBQWQ7QUFNQSxhQUFLOWQsU0FBTCxDQUFlLE1BQWYsRUFBdUJyWCxLQUF2QjtBQUNBOztBQUNGLFdBQUssU0FBTDtBQUNFLFlBQUksQ0FBQyxLQUFLKzFCLE9BQVYsRUFBbUI7QUFDakI7QUFDQSxlQUFLeGpDLFFBQUwsQ0FBY2dqQyxXQUFXLENBQUNDLGFBQTFCO0FBQ0Q7O0FBQ0Q7O0FBQ0YsV0FBSyxXQUFMO0FBQ0UsWUFBSXgxQixLQUFLLEtBQUssS0FBSzdOLEtBQUwsQ0FBV3NqQyxZQUF6QixFQUF1QztBQUNyQyxlQUFLbGpDLFFBQUwsQ0FBYztBQUFFcWpDLDJCQUFlLEVBQUU7QUFBbkIsV0FBZDtBQUNELFNBRkQsTUFFTztBQUNMLGVBQUtyakMsUUFBTCxDQUFjO0FBQ1pxakMsMkJBQWUsRUFBRSxLQUFLSSxvQkFBTCxDQUEwQmgyQixLQUExQjtBQURMLFdBQWQ7QUFHRDs7QUFDRDs7QUFDRixXQUFLLE1BQUw7QUFDRSxZQUFJQSxLQUFLLEtBQUssS0FBSzdOLEtBQUwsQ0FBV3NqQyxZQUF6QixFQUF1QztBQUNyQyxlQUFLTSxPQUFMLEdBQWUsSUFBZjtBQUNBLGVBQUs3akMsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyxpRUFBRSxDQUFDQyxVQUFILENBQWM7QUFDWkMsZ0JBQUksRUFBRUMsOERBQUUsQ0FBQzZvQyxnQkFERztBQUVacm1DLGdCQUFJLEVBQUU7QUFDSjhtQixrQkFBSSxFQUFFO0FBQ0o1YixtQkFBRyxFQUFFLEtBQUszSSxLQUFMLENBQVd1akMsV0FBWCxDQUF1QjU2QixHQUR4QjtBQUVKc0sscUJBQUssRUFBRSxLQUFLalQsS0FBTCxDQUFXd2pDLFlBRmQ7QUFHSjNILG1DQUFtQixFQUFFLEtBQUs3N0IsS0FBTCxDQUFXdWpDLFdBQVgsQ0FDbEIxSCxtQkFKQztBQUtKO0FBQ0Esb0JBQUksS0FBSzc3QixLQUFMLENBQVd1akMsV0FBWCxDQUF1QjFlLGFBQXZCLElBQXdDO0FBQzFDQSwrQkFBYSxFQUFFO0FBRDJCLGlCQUE1QztBQU5JLGVBREY7QUFXSmhYLG1CQVhJO0FBWUprMkIsOEJBQWdCLEVBQUUsS0FBSy9qQyxLQUFMLENBQVdzakM7QUFaekI7QUFGTSxXQUFkLENBREY7QUFtQkEsZUFBS3BlLFNBQUwsQ0FBZSxNQUFmLEVBQXVCclgsS0FBdkI7QUFDRDs7QUFDRDtBQWxESjtBQW9ERDs7QUFFRG0yQixjQUFZLEdBQUc7QUFDYjtBQUNBLFFBQUlqaUIsUUFBUSxHQUFHLEtBQUtoaUIsS0FBTCxDQUFXeTlCLFFBQVgsQ0FBb0JwUixJQUFwQixDQUF5QnBlLEtBQXpCLEVBQWY7QUFDQStULFlBQVEsQ0FBQzNlLE1BQVQsR0FBa0IsS0FBS3JELEtBQUwsQ0FBVzA5QixZQUFYLEdBQTBCRiwrRUFBNUM7QUFDQSxXQUFPeGIsUUFBUDtBQUNEO0FBRUQ7QUFDRjtBQUNBO0FBQ0E7OztBQUNFOGhCLHNCQUFvQixDQUFDaDJCLEtBQUQsRUFBUTtBQUMxQixVQUFNa1UsUUFBUSxHQUFHLEtBQUtpaUIsWUFBTCxFQUFqQjs7QUFDQWppQixZQUFRLENBQUMsS0FBSy9oQixLQUFMLENBQVdzakMsWUFBWixDQUFSLEdBQW9DLElBQXBDO0FBQ0EsVUFBTVcsT0FBTyxHQUFHbGlCLFFBQVEsQ0FBQ2paLEdBQVQsQ0FBYXliLElBQUksSUFDL0JBLElBQUksS0FBS0EsSUFBSSxDQUFDMEcsUUFBTCxJQUFpQjFHLElBQUksQ0FBQ08sa0JBQTNCLENBQUosR0FBcURQLElBQXJELEdBQTRELElBRDlDLENBQWhCO0FBR0EsVUFBTTJmLFFBQVEsR0FBR25pQixRQUFRLENBQUNuaEIsTUFBVCxDQUNmMmpCLElBQUksSUFBSUEsSUFBSSxJQUFJLENBQUNBLElBQUksQ0FBQzBHLFFBQWQsSUFBMEIsQ0FBQzFHLElBQUksQ0FBQ08sa0JBRHpCLENBQWpCO0FBR0EsVUFBTXFmLFlBQVksR0FBR2w3QixNQUFNLENBQUNzYyxNQUFQLENBQWMsRUFBZCxFQUFrQixLQUFLdmxCLEtBQUwsQ0FBV3VqQyxXQUE3QixFQUEwQztBQUM3RHRZLGNBQVEsRUFBRSxJQURtRDtBQUU3RHVXLGVBQVMsRUFBRTtBQUZrRCxLQUExQyxDQUFyQjs7QUFLQSxRQUFJLENBQUN5QyxPQUFPLENBQUNwMkIsS0FBRCxDQUFaLEVBQXFCO0FBQ25CbzJCLGFBQU8sQ0FBQ3AyQixLQUFELENBQVAsR0FBaUJzMkIsWUFBakI7QUFDRCxLQUZELE1BRU87QUFDTDtBQUNBO0FBQ0EsVUFBSUMsU0FBUyxHQUFHdjJCLEtBQWhCO0FBQ0EsWUFBTXcyQixTQUFTLEdBQUd4MkIsS0FBSyxHQUFHLEtBQUs3TixLQUFMLENBQVdzakMsWUFBbkIsR0FBa0MsQ0FBQyxDQUFuQyxHQUF1QyxDQUF6RDs7QUFDQSxhQUFPVyxPQUFPLENBQUNHLFNBQUQsQ0FBZCxFQUEyQjtBQUN6QkEsaUJBQVMsSUFBSUMsU0FBYjtBQUNELE9BUEksQ0FTTDs7O0FBQ0EsWUFBTUMsWUFBWSxHQUFHejJCLEtBQUssR0FBRyxLQUFLN04sS0FBTCxDQUFXc2pDLFlBQW5CLEdBQWtDLENBQWxDLEdBQXNDLENBQUMsQ0FBNUQ7O0FBQ0EsYUFDRXoxQixLQUFLLEdBQUcsS0FBSzdOLEtBQUwsQ0FBV3NqQyxZQUFuQixHQUFrQ2MsU0FBUyxHQUFHdjJCLEtBQTlDLEdBQXNEdTJCLFNBQVMsR0FBR3YyQixLQURwRSxFQUVFO0FBQ0EsWUFBSTAyQixTQUFTLEdBQUdILFNBQVMsR0FBR0UsWUFBNUI7O0FBQ0EsZUFBT0wsT0FBTyxDQUFDTSxTQUFELENBQVAsSUFBc0JOLE9BQU8sQ0FBQ00sU0FBRCxDQUFQLENBQW1CemYsa0JBQWhELEVBQW9FO0FBQ2xFeWYsbUJBQVMsSUFBSUQsWUFBYjtBQUNEOztBQUNETCxlQUFPLENBQUNHLFNBQUQsQ0FBUCxHQUFxQkgsT0FBTyxDQUFDTSxTQUFELENBQTVCO0FBQ0FILGlCQUFTLEdBQUdHLFNBQVo7QUFDRDs7QUFDRE4sYUFBTyxDQUFDcDJCLEtBQUQsQ0FBUCxHQUFpQnMyQixZQUFqQjtBQUNELEtBdEN5QixDQXdDMUI7OztBQUNBLFNBQUssSUFBSXJ4QixDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHbXhCLE9BQU8sQ0FBQzdnQyxNQUE1QixFQUFvQzBQLENBQUMsRUFBckMsRUFBeUM7QUFDdkMsVUFBSSxDQUFDbXhCLE9BQU8sQ0FBQ254QixDQUFELENBQVosRUFBaUI7QUFDZm14QixlQUFPLENBQUNueEIsQ0FBRCxDQUFQLEdBQWFveEIsUUFBUSxDQUFDTSxLQUFULE1BQW9CLElBQWpDO0FBQ0Q7QUFDRjs7QUFFRCxXQUFPUCxPQUFQO0FBQ0Q7O0FBRURsQixZQUFVLENBQUNsMUIsS0FBRCxFQUFRO0FBQ2hCLFNBQUt6TixRQUFMLENBQWM7QUFBRTRpQyxpQkFBVyxFQUFFbjFCO0FBQWYsS0FBZDtBQUNEOztBQUVENU0sUUFBTSxHQUFHO0FBQ1AsVUFBTTtBQUFFbEI7QUFBRixRQUFZLElBQWxCOztBQUNBLFVBQU1naUIsUUFBUSxHQUFHLEtBQUsvaEIsS0FBTCxDQUFXeWpDLGVBQVgsSUFBOEIsS0FBS08sWUFBTCxFQUEvQzs7QUFDQSxVQUFNUyxVQUFVLEdBQUcsRUFBbkI7QUFDQSxVQUFNcE8sV0FBVyxHQUFHO0FBQ2xCMEosaUJBQVcsRUFBRSxLQUFLQSxXQURBO0FBRWxCbGxDLGNBQVEsRUFBRWtGLEtBQUssQ0FBQ2xGO0FBRkUsS0FBcEIsQ0FKTyxDQVFQO0FBQ0E7QUFDQTtBQUNBOztBQUNBLFFBQUl1cEMsU0FBUyxHQUFHLENBQWhCLENBWk8sQ0FjUDtBQUNBOztBQUNBLFVBQU1NLHFCQUFxQixHQUFHM2tDLEtBQUssQ0FBQzA5QixZQUFOLEdBQXFCLENBQW5EOztBQUVBLFNBQUssSUFBSTNxQixDQUFDLEdBQUcsQ0FBUixFQUFXNnhCLENBQUMsR0FBRzVpQixRQUFRLENBQUMzZSxNQUE3QixFQUFxQzBQLENBQUMsR0FBRzZ4QixDQUF6QyxFQUE0Qzd4QixDQUFDLEVBQTdDLEVBQWlEO0FBQy9DLFlBQU1vUCxJQUFJLEdBQ1JILFFBQVEsQ0FBQ2pQLENBQUQsQ0FBUixJQUNBN0osTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0J4RCxRQUFRLENBQUNqUCxDQUFELENBQTFCLEVBQStCO0FBQzdCMHZCLGdCQUFRLEVBQUUsS0FBS3ppQyxLQUFMLENBQVc2N0IsZUFBWCxDQUEyQjdaLFFBQVEsQ0FBQ2pQLENBQUQsQ0FBbkM7QUFEbUIsT0FBL0IsQ0FGRjtBQUtBLFlBQU04eEIsU0FBUyxHQUFHO0FBQ2hCcGlDLFdBQUcsRUFBRTBmLElBQUksR0FBR0EsSUFBSSxDQUFDdlosR0FBUixHQUFjeTdCLFNBQVMsRUFEaEI7QUFFaEJ2MkIsYUFBSyxFQUFFaUY7QUFGUyxPQUFsQjs7QUFJQSxVQUFJQSxDQUFDLElBQUk0eEIscUJBQVQsRUFBZ0M7QUFDOUJFLGlCQUFTLENBQUM1akMsU0FBVixHQUFzQixpQkFBdEI7QUFDRDs7QUFDRHlqQyxnQkFBVSxDQUFDM3lCLElBQVgsQ0FDRSxDQUFDb1EsSUFBRCxnQkFDRSwyREFBQyxrQkFBRCxlQUF3QjBpQixTQUF4QixFQUF1Q3ZPLFdBQXZDLEVBREYsZ0JBR0UsMkRBQUMsT0FBRDtBQUNFLFlBQUksRUFBRW5VLElBRFI7QUFFRSxtQkFBVyxFQUFFLEtBQUtsaUIsS0FBTCxDQUFXZ2pDLFdBRjFCO0FBR0Usa0JBQVUsRUFBRSxLQUFLRDtBQUhuQixTQUlNNkIsU0FKTixFQUtNdk8sV0FMTjtBQU1FLGNBQU0sRUFBRXQyQixLQUFLLENBQUNpK0I7QUFOaEIsU0FKSjtBQWNEOztBQUNELHdCQUNFO0FBQ0UsZUFBUyxFQUFHLGlCQUNWLEtBQUtoK0IsS0FBTCxDQUFXdWpDLFdBQVgsR0FBeUIsYUFBekIsR0FBeUMsRUFDMUM7QUFISCxPQUtHa0IsVUFMSCxDQURGO0FBU0Q7O0FBOU5rRCxDOzs7Ozs7O0FDbGtCckQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBLE1BQU03b0IsT0FBTyxHQUFHLFNBQWhCO0FBQ0EsTUFBTUMsdUJBQXVCLEdBQUcsa0JBQWhDLEMsQ0FFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNPLE1BQU1rUSxrQkFBa0IsR0FBRyxHQUEzQjtBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNPLE1BQU04WSx3QkFBTixTQUF1Q2psQyw0Q0FBSyxDQUFDQyxhQUE3QyxDQUEyRDtBQUNoRXNzQiwwQkFBd0IsR0FBRztBQUN6QixVQUFNO0FBQUUyWTtBQUFGLFFBQVcsS0FBSy9rQyxLQUF0QjtBQUVBLFNBQUtBLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMsaUVBQUUsQ0FBQ2lDLFVBQUgsQ0FBYztBQUNaL0IsVUFBSSxFQUFFQyw4REFBRSxDQUFDMm5DLDBCQURHO0FBRVpubEMsVUFBSSxFQUFFO0FBQ0p6QyxZQUFJLEVBQUUsWUFERjtBQUVKLFdBQUc4cEM7QUFGQztBQUZNLEtBQWQsQ0FERjtBQVNEOztBQUVEblksb0NBQWtDLEdBQUc7QUFDbkMsVUFBTTtBQUFFNXNCO0FBQUYsUUFBWSxJQUFsQjs7QUFFQSxRQUFJLENBQUNBLEtBQUssQ0FBQ2xGLFFBQVgsRUFBcUI7QUFDbkI7QUFDRDs7QUFFRCxRQUFJa0YsS0FBSyxDQUFDNUUsUUFBTixDQUFlNmdCLGVBQWYsS0FBbUNKLE9BQXZDLEVBQWdEO0FBQzlDLFdBQUtnUixxQkFBTDtBQUNELEtBRkQsTUFFTztBQUNMO0FBQ0E7QUFDQSxVQUFJLEtBQUszUSxtQkFBVCxFQUE4QjtBQUM1QmxjLGFBQUssQ0FBQzVFLFFBQU4sQ0FBZThHLG1CQUFmLENBQ0U0Wix1QkFERixFQUVFLEtBQUtJLG1CQUZQO0FBSUQ7O0FBRUQsV0FBS0EsbUJBQUwsR0FBMkIsTUFBTTtBQUMvQixZQUFJbGMsS0FBSyxDQUFDNUUsUUFBTixDQUFlNmdCLGVBQWYsS0FBbUNKLE9BQXZDLEVBQWdEO0FBQzlDLGVBQUtnUixxQkFBTDtBQUNBN3NCLGVBQUssQ0FBQzVFLFFBQU4sQ0FBZThHLG1CQUFmLENBQ0U0Wix1QkFERixFQUVFLEtBQUtJLG1CQUZQO0FBSUQ7QUFDRixPQVJEOztBQVNBbGMsV0FBSyxDQUFDNUUsUUFBTixDQUFlRyxnQkFBZixDQUNFdWdCLHVCQURGLEVBRUUsS0FBS0ksbUJBRlA7QUFJRDtBQUNGO0FBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0UyUSx1QkFBcUIsR0FBRztBQUN0QixVQUFNO0FBQUU3c0I7QUFBRixRQUFZLElBQWxCOztBQUVBLFFBQUksQ0FBQ0EsS0FBSyxDQUFDK2tDLElBQVgsRUFBaUI7QUFDZjtBQUNEOztBQUVELFNBQUtqWSxnQkFBTCxHQUF3QnJPLE9BQU8sSUFBSTtBQUNqQyxVQUNFQSxPQUFPLENBQUN4TixJQUFSLENBQ0U4YixLQUFLLElBQ0hBLEtBQUssQ0FBQ0MsY0FBTixJQUNBRCxLQUFLLENBQUNFLGlCQUFOLElBQTJCakIsa0JBSC9CLENBREYsRUFNRTtBQUNBLGFBQUtJLHdCQUFMOztBQUNBLGFBQUtjLGtCQUFMLENBQXdCQyxTQUF4QixDQUFrQyxLQUFLcGUsSUFBTCxDQUFVaTJCLDBCQUE1QztBQUNEO0FBQ0YsS0FYRDs7QUFhQSxVQUFNM29DLE9BQU8sR0FBRztBQUFFK3dCLGVBQVMsRUFBRXBCO0FBQWIsS0FBaEI7QUFDQSxTQUFLa0Isa0JBQUwsR0FBMEIsSUFBSWx0QixLQUFLLENBQUNxdEIsb0JBQVYsQ0FDeEIsS0FBS1AsZ0JBRG1CLEVBRXhCendCLE9BRndCLENBQTFCO0FBSUEsU0FBSzZ3QixrQkFBTCxDQUF3QkksT0FBeEIsQ0FBZ0MsS0FBS3ZlLElBQUwsQ0FBVWkyQiwwQkFBMUM7QUFDRDs7QUFFRC9pQyxtQkFBaUIsR0FBRztBQUNsQixRQUFJLEtBQUtqQyxLQUFMLENBQVcra0MsSUFBZixFQUFxQjtBQUNuQixXQUFLblksa0NBQUw7QUFDRDtBQUNGOztBQUVEdHNCLHNCQUFvQixHQUFHO0FBQ3JCLFFBQUksS0FBS3dzQixnQkFBTCxJQUF5QixLQUFLSSxrQkFBbEMsRUFBc0Q7QUFDcEQsV0FBS0Esa0JBQUwsQ0FBd0JDLFNBQXhCLENBQWtDLEtBQUtwZSxJQUFMLENBQVVpMkIsMEJBQTVDO0FBQ0Q7O0FBQ0QsUUFBSSxLQUFLOW9CLG1CQUFULEVBQThCO0FBQzVCLFdBQUtsYyxLQUFMLENBQVc1RSxRQUFYLENBQW9COEcsbUJBQXBCLENBQ0U0Wix1QkFERixFQUVFLEtBQUtJLG1CQUZQO0FBSUQ7QUFDRjs7QUFFRGhiLFFBQU0sR0FBRztBQUNQLHdCQUNFO0FBQ0UsU0FBRyxFQUFFLDRCQURQO0FBRUUsZUFBUyxFQUFDO0FBRlosT0FJRyxLQUFLbEIsS0FBTCxDQUFXK0UsUUFKZCxDQURGO0FBUUQ7O0FBakgrRDtBQW9IbEUrL0Isd0JBQXdCLENBQUNscEIsWUFBekIsR0FBd0M7QUFDdEN5UixzQkFBb0IsRUFBRXJzQixNQUFNLENBQUNxc0Isb0JBRFM7QUFFdENqeUIsVUFBUSxFQUFFNEYsTUFBTSxDQUFDNUYsUUFGcUI7QUFHdEMycEMsTUFBSSxFQUFFO0FBSGdDLENBQXhDLEM7Ozs7Ozs7O0FDNUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFTyxNQUFNRSxjQUFOLFNBQTZCcGxDLDRDQUFLLENBQUNDLGFBQW5DLENBQWlEO0FBQ3REb0IsUUFBTSxHQUFHO0FBQ1Asd0JBQU87QUFBSSxlQUFTLEVBQUM7QUFBZCxNQUFQO0FBQ0Q7O0FBSHFELEM7Ozs7Ozs7QUNOeEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRU8sTUFBTXc2QixLQUFOLFNBQW9CNzdCLDRDQUFLLENBQUNDLGFBQTFCLENBQXdDO0FBQzdDQyxhQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNqQixVQUFNQSxLQUFOO0FBRUEsU0FBSzB0QixXQUFMLEdBQW1CLEtBQUtBLFdBQUwsQ0FBaUJ0dEIsSUFBakIsQ0FBc0IsSUFBdEIsQ0FBbkI7QUFDRDs7QUFFRHN0QixhQUFXLENBQUNuckIsS0FBRCxFQUFRO0FBQ2pCLFFBQUksS0FBS3ZDLEtBQUwsQ0FBV2xGLFFBQWYsRUFBeUI7QUFDdkIsV0FBS2tGLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMsaUVBQUUsQ0FBQzBDLFNBQUgsQ0FBYTtBQUNYOEUsYUFBSyxFQUFFLE9BREk7QUFFWDdELGNBQU0sRUFBRSxnQkFGRztBQUdYZ25CLHVCQUFlLEVBQUUsQ0FITjtBQUlYbm5CLGFBQUssRUFBRTtBQUNMMm1DLGVBQUssRUFBRTNpQyxLQUFLLENBQUNwRixNQUFOLENBQWFnb0MsSUFBYixDQUFrQkMsV0FBbEIsR0FBZ0NsOUIsT0FBaEMsQ0FBeUMsR0FBekMsRUFBOEMsR0FBOUM7QUFERjtBQUpJLE9BQWIsQ0FERjtBQVVEO0FBQ0Y7O0FBRURoSCxRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUUwSCxTQUFGO0FBQU90SztBQUFQLFFBQWdCLEtBQUswQixLQUEzQjtBQUNBLHdCQUNFLDJEQUFDLGlFQUFEO0FBQ0UsaUJBQVcsRUFBRSxLQUFLMHRCLFdBRHBCO0FBRUUsZUFBUyxFQUFFLEtBQUsxdEIsS0FBTCxDQUFXaUIsU0FGeEI7QUFHRSxTQUFHLEVBQUUySDtBQUhQLE9BS0d0SyxJQUxILENBREY7QUFTRDs7QUFqQzRDO0FBb0N4QyxNQUFNK21DLFVBQU4sU0FBeUJ4bEMsNENBQUssQ0FBQ0MsYUFBL0IsQ0FBNkM7QUFDbERvQixRQUFNLEdBQUc7QUFDUCxRQUFJNGUsS0FBSyxHQUFHLEtBQUs5ZixLQUFMLENBQVc4ZixLQUFYLElBQW9CLEVBQWhDO0FBQ0EsVUFBTUUsU0FBUyxHQUFHLEtBQUtoZ0IsS0FBTCxDQUFXZ2dCLFNBQVgsSUFBd0IsVUFBMUM7QUFDQSxVQUFNVixNQUFNLEdBQUcsS0FBS3RmLEtBQUwsQ0FBV3NmLE1BQVgsSUFBcUIsRUFBcEM7QUFDQSxVQUFNZ21CLE9BQU8sR0FBRyxLQUFLdGxDLEtBQUwsQ0FBVzJFLE1BQVgsQ0FBa0J1USxVQUFsQixDQUE2QixLQUE3QixDQUFoQjtBQUNBLFVBQU1xd0IsYUFBYSxHQUFHLEtBQUt2bEMsS0FBTCxDQUFXb2dCLGdCQUFYLElBQStCLEVBQXJEO0FBQ0EsVUFBTTtBQUFFRDtBQUFGLFFBQXVCLEtBQUtuZ0IsS0FBbEM7QUFDQSxVQUFNaUIsU0FBUyxHQUFJLCtCQUE4QitlLFNBQVUsSUFDekRHLGdCQUFnQixHQUFJLDBCQUFKLEdBQWlDLEVBQ2xELEVBRkQ7QUFHQSxRQUFJO0FBQUVaO0FBQUYsUUFBWUQsTUFBaEI7O0FBQ0EsUUFBSWEsZ0JBQUosRUFBc0I7QUFDcEJaLFdBQUssR0FBRztBQUFFcmMsVUFBRSxFQUFFO0FBQU4sT0FBUjs7QUFDQSxVQUFJLEtBQUtsRCxLQUFMLENBQVcrZixVQUFmLEVBQTJCO0FBQ3pCRCxhQUFLLEdBQUcsQ0FDTixHQUFHQSxLQUFLLENBQUM3UixLQUFOLENBQVksQ0FBWixFQUFlNlIsS0FBSyxDQUFDemMsTUFBTixHQUFlLENBQTlCLENBREcsRUFFTixHQUFHLEtBQUtyRCxLQUFMLENBQVcrZixVQUZSLEVBR05ELEtBQUssQ0FBQ0EsS0FBSyxDQUFDemMsTUFBTixHQUFlLENBQWhCLENBSEMsQ0FBUjtBQUtEO0FBQ0Y7O0FBRUQsd0JBQ0U7QUFBSyxlQUFTLEVBQUVwQztBQUFoQixPQUNHc2UsS0FBSyxJQUFJK2xCLE9BQVQsZ0JBQ0MsMkRBQUMsNkZBQUQ7QUFBYyxhQUFPLEVBQUUvbEI7QUFBdkIsb0JBQ0U7QUFBTSxlQUFTLEVBQUM7QUFBaEIsTUFERixDQURELEdBSUcsSUFMTixFQU9HK2xCLE9BQU8sZ0JBQ04sdUVBQ0d4bEIsS0FBSyxJQUNKQSxLQUFLLENBQUMvVyxHQUFOLENBQVU2eUIsQ0FBQyxpQkFDVDtBQUFJLFNBQUcsRUFBRUEsQ0FBQyxDQUFDdDlCO0FBQVgsb0JBQ0UsMkRBQUMsS0FBRDtBQUNFLFNBQUcsRUFBRXM5QixDQUFDLENBQUNoekIsR0FEVDtBQUVFLFVBQUksRUFBRWd6QixDQUFDLENBQUN0OUIsSUFGVjtBQUdFLGNBQVEsRUFBRSxLQUFLMEIsS0FBTCxDQUFXbEY7QUFIdkIsTUFERixDQURGLENBRkosQ0FETSxHQWFKLElBcEJOLEVBc0JHLENBQUNxbEIsZ0JBQUQsZ0JBQ0MsMkRBQUMsaUVBQUQ7QUFBWSxlQUFTLEVBQUMsdUJBQXRCO0FBQThDLFNBQUcsRUFBRW9sQixhQUFhLENBQUMzOEI7QUFBakUsb0JBQ0UsMkRBQUMsNkZBQUQ7QUFBYyxhQUFPLEVBQUUyOEIsYUFBYSxDQUFDaG1CO0FBQXJDLE1BREYsQ0FERCxHQUlHLElBMUJOLEVBNEJHWSxnQkFBZ0IsZ0JBQ2Y7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRTtBQUFNLGVBQVMsRUFBQztBQUFoQixNQURGLGVBRUUsNkVBRkYsZUFHRTtBQUFNLGVBQVMsRUFBQztBQUFoQixNQUhGLGVBSUU7QUFDRSxlQUFTLEVBQUMsOEJBRFo7QUFFRSxzQkFBYTtBQUZmLE1BSkYsQ0FEZSxHQVViLElBdENOLENBREY7QUEwQ0Q7O0FBakVpRCxDOzs7Ozs7O0FDN0NwRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFTyxNQUFNcWxCLFdBQU4sU0FBMEIzbEMsNENBQUssQ0FBQ0MsYUFBaEMsQ0FBOEM7QUFDbkRvQixRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUUyZTtBQUFGLFFBQWlCLEtBQUs3ZixLQUE1QjtBQUNBLHdCQUNFO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0UsMkRBQUMsaUVBQUQ7QUFBWSxTQUFHLEVBQUU2ZixVQUFVLENBQUNqWDtBQUE1QixvQkFDRSwyREFBQyw2RkFBRDtBQUFjLGFBQU8sRUFBRWlYLFVBQVUsQ0FBQ047QUFBbEMsTUFERixDQURGLENBREY7QUFPRDs7QUFWa0QsQzs7Ozs7OztBQ1JyRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRU8sTUFBTWttQixZQUFOLFNBQTJCNWxDLDRDQUFLLENBQUNDLGFBQWpDLENBQStDO0FBQ3BEb0IsUUFBTSxHQUFHO0FBQ1AsVUFBTTtBQUNKb2UsWUFBTSxFQUFFO0FBQUVDLGFBQUY7QUFBU0M7QUFBVDtBQURKLFFBRUYsS0FBS3hmLEtBRlQ7QUFHQSx3QkFDRTtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFO0FBQUssZUFBUyxFQUFDO0FBQWYsT0FBd0J1ZixLQUF4QixDQURGLEVBRUdDLFFBQVEsZ0JBQUc7QUFBSyxlQUFTLEVBQUM7QUFBZixPQUEyQkEsUUFBM0IsQ0FBSCxHQUFnRCxJQUYzRCxDQURGO0FBTUQ7O0FBWG1ELEM7Ozs7Ozs7QUNOdEQ7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVPLE1BQU1pQyxrQkFBa0IsR0FBRyxDQUFDO0FBQUV4aEIsT0FBSyxHQUFHLEVBQVY7QUFBY2tDLE9BQUssR0FBRyxFQUF0QjtBQUEwQndDLFFBQU0sR0FBRztBQUFuQyxDQUFELEtBQTZDO0FBQzdFLFFBQU07QUFBRXFGLFVBQUY7QUFBVW5CLFNBQVY7QUFBaUJRO0FBQWpCLE1BQTJCcEosS0FBakM7QUFDQSxNQUFJeWxDLHFCQUFxQixHQUFHLEVBQTVCO0FBRUE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNFLFdBQVNDLDZCQUFULENBQ0Vqb0MsSUFERixFQUVFa29DLFdBRkYsRUFHRXQ4QixTQUhGLEVBSUV1OEIsYUFKRixFQUtFO0FBQ0EsUUFDRSxDQUFDSCxxQkFBcUIsQ0FBQ0csYUFBRCxDQUF0QixJQUNBSCxxQkFBcUIsQ0FBQ0csYUFBRCxDQUFyQixLQUF5QyxDQUYzQyxFQUdFO0FBQ0FILDJCQUFxQixDQUFDRyxhQUFELENBQXJCLEdBQXVDLENBQXZDO0FBQ0Q7O0FBQ0QsVUFBTUMsT0FBTyxHQUFHLENBQUMsR0FBR3BvQyxJQUFKLENBQWhCOztBQUNBLFNBQUssSUFBSXNrQyxRQUFULElBQXFCNEQsV0FBVyxDQUFDdm1CLFNBQWpDLEVBQTRDO0FBQzFDLFlBQU01VixJQUFJLEdBQUdILFNBQVMsQ0FBQ284QixxQkFBcUIsQ0FBQ0csYUFBRCxDQUF0QixDQUF0QixDQUQwQyxDQUUxQzs7QUFDQSxVQUFJLENBQUNwOEIsSUFBTCxFQUFXO0FBQ1Q7QUFDRCxPQUx5QyxDQU8xQztBQUNBO0FBQ0E7OztBQUNBaThCLDJCQUFxQixDQUFDRyxhQUFELENBQXJCLEdBVjBDLENBWTFDO0FBQ0E7QUFDQTs7QUFDQSxVQUFJLENBQUN4OEIsS0FBSyxDQUFDMDhCLE9BQU4sQ0FBY3IxQixRQUFkLENBQXVCakgsSUFBSSxDQUFDYixHQUE1QixDQUFMLEVBQXVDO0FBQ3JDazlCLGVBQU8sQ0FBQ2prQixNQUFSLENBQWVtZ0IsUUFBUSxDQUFDbDBCLEtBQXhCLEVBQStCLENBQS9CLEVBQWtDckUsSUFBbEM7QUFDRDtBQUNGOztBQUVELFdBQU9xOEIsT0FBUDtBQUNEOztBQUVELFFBQU16bUIsU0FBUyxHQUFHLEVBQWxCO0FBQ0EsUUFBTTJtQixhQUFhLEdBQUcsQ0FDcEIsU0FEb0IsRUFFcEIsV0FGb0IsRUFHcEIsY0FIb0IsRUFJcEIsUUFKb0IsRUFLcEIsWUFMb0IsRUFNcEIsVUFOb0IsRUFPcEIsb0JBUG9CLEVBUXBCLGdCQVJvQixFQVNwQixhQVRvQixDQUF0QjtBQVlBLFFBQU1DLFdBQVcsR0FBRyxFQUFwQjs7QUFFQSxNQUFJLENBQUM5akMsS0FBSyxDQUFDLGdCQUFELENBQVYsRUFBOEI7QUFDNUI4akMsZUFBVyxDQUFDbDBCLElBQVosQ0FBaUIsVUFBakI7QUFDRDs7QUFFRCxRQUFNNU8sYUFBYSxHQUNqQmhCLEtBQUssQ0FBQywwQkFBRCxDQUFMLElBQXFDQSxLQUFLLENBQUMseUJBQUQsQ0FENUM7O0FBRUEsTUFBSSxDQUFDZ0IsYUFBTCxFQUFvQjtBQUNsQjhpQyxlQUFXLENBQUNsMEIsSUFBWixDQUFpQixHQUFHaTBCLGFBQXBCO0FBQ0Q7O0FBRUQsUUFBTUUsb0JBQW9CLEdBQUc3OUIsU0FBUyxJQUFJO0FBQ3hDLFFBQUksQ0FBQ0EsU0FBUyxDQUFDQyxJQUFmLEVBQXFCO0FBQ25CO0FBQ0EsYUFBTyxFQUNMLEdBQUdELFNBREU7QUFFTDNLLFlBQUksRUFBRTtBQUNKMkwsZUFBSyxFQUFFO0FBREg7QUFGRCxPQUFQO0FBTUQ7O0FBQ0QsVUFBTTNMLElBQUksR0FBRztBQUNYb0wscUJBQWUsRUFBRTtBQUROLEtBQWI7QUFJQSxRQUFJUyxLQUFLLEdBQUcsQ0FBWjs7QUFDQSxRQUFJbEIsU0FBUyxDQUFDd1gsVUFBVixJQUF3QnhYLFNBQVMsQ0FBQ3dYLFVBQVYsQ0FBcUJ0VyxLQUFqRCxFQUF3RDtBQUN0REEsV0FBSyxHQUFHbEIsU0FBUyxDQUFDd1gsVUFBVixDQUFxQnRXLEtBQTdCO0FBQ0Q7O0FBQ0QsU0FBSyxJQUFJd0osQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR3hKLEtBQXBCLEVBQTJCd0osQ0FBQyxFQUE1QixFQUFnQztBQUM5QnJWLFVBQUksQ0FBQ29MLGVBQUwsQ0FBcUJpSixJQUFyQixDQUEwQjtBQUFFMG1CLG1CQUFXLEVBQUU7QUFBZixPQUExQjtBQUNEOztBQUVELFdBQU8sRUFBRSxHQUFHcHdCLFNBQUw7QUFBZ0IzSztBQUFoQixLQUFQO0FBQ0QsR0F2QkQsQ0F2RTZFLENBZ0c3RTs7O0FBQ0EsUUFBTXlvQyxXQUFXLEdBQUcsQ0FBQ3pvQyxJQUFELEVBQU8ySyxTQUFQLEtBQXFCO0FBQ3ZDLFFBQUlvTCxNQUFNLEdBQUcsQ0FBQyxHQUFHL1YsSUFBSixDQUFiLENBRHVDLENBRXZDOztBQUNBLFFBQ0UySyxTQUFTLENBQUNnQixLQUFWLElBQ0FoQixTQUFTLENBQUNnQixLQUFWLENBQWdCZ1csU0FEaEIsSUFFQWhYLFNBQVMsQ0FBQ2dCLEtBQVYsQ0FBZ0JnVyxTQUFoQixDQUEwQmhjLE1BSDVCLEVBSUU7QUFDQSxZQUFNZ2QsU0FBUyxHQUFHaFksU0FBUyxDQUFDZ1ksU0FBVixJQUF1QixFQUF6QztBQUNBLFlBQU13bEIsYUFBYSxHQUFHeGxCLFNBQVMsQ0FBQy9oQixJQUFWLElBQWtCLE9BQXhDO0FBQ0EsWUFBTWdMLFNBQVMsR0FBR0QsS0FBSyxDQUFDM0wsSUFBTixDQUFXbW9DLGFBQVgsQ0FBbEIsQ0FIQSxDQUlBOztBQUNBLFVBQ0V4OEIsS0FBSyxDQUFDKzhCLE1BQU4sSUFDQTk4QixTQURBLElBRUFBLFNBQVMsQ0FBQ0MsS0FGVixJQUdBRCxTQUFTLENBQUNDLEtBQVYsQ0FBZ0JsRyxNQUpsQixFQUtFO0FBQ0FvUSxjQUFNLEdBQUdreUIsNkJBQTZCLENBQ3BDbHlCLE1BRG9DLEVBRXBDcEwsU0FBUyxDQUFDZ0IsS0FGMEIsRUFHcENDLFNBQVMsQ0FBQ0MsS0FIMEIsRUFJcENzOEIsYUFKb0MsQ0FBdEM7QUFNRDtBQUNGOztBQUNELFdBQU9weUIsTUFBUDtBQUNELEdBM0JEOztBQTZCQSxRQUFNNHlCLGVBQWUsR0FBR2grQixTQUFTLElBQUk7QUFDbkMsUUFDRUEsU0FBUyxDQUFDZ0IsS0FBVixJQUNBaEIsU0FBUyxDQUFDZ0IsS0FBVixDQUFnQmdXLFNBRGhCLElBRUFoWCxTQUFTLENBQUNnQixLQUFWLENBQWdCZ1csU0FBaEIsQ0FBMEJoYyxNQUg1QixFQUlFO0FBQ0EsWUFBTWdkLFNBQVMsR0FBR2hZLFNBQVMsQ0FBQ2dZLFNBQVYsSUFBdUIsRUFBekM7QUFDQSxZQUFNd2xCLGFBQWEsR0FBR3hsQixTQUFTLENBQUMvaEIsSUFBVixJQUFrQixPQUF4QztBQUNBLFlBQU1nTCxTQUFTLEdBQUdELEtBQUssQ0FBQzNMLElBQU4sQ0FBV21vQyxhQUFYLENBQWxCOztBQUNBLFVBQ0V4OEIsS0FBSyxDQUFDKzhCLE1BQU4sSUFDQTk4QixTQURBLElBRUFBLFNBQVMsQ0FBQ0MsS0FGVixJQUdBRCxTQUFTLENBQUNDLEtBQVYsQ0FBZ0JsRyxNQUpsQixFQUtFO0FBQ0EsZUFBTyxFQUNMLEdBQUdnRixTQURFO0FBRUwzSyxjQUFJLEVBQUU7QUFDSjJMLGlCQUFLLEVBQUVDLFNBQVMsQ0FBQ0MsS0FBVixDQUNKMUksTUFESSxDQUNHNEksSUFBSSxJQUFJQSxJQUFJLElBQUksQ0FBQ0osS0FBSyxDQUFDMDhCLE9BQU4sQ0FBY3IxQixRQUFkLENBQXVCakgsSUFBSSxDQUFDYixHQUE1QixDQURwQixFQUVKRyxHQUZJLENBRUEsQ0FBQ1UsSUFBRCxFQUFPcUUsS0FBUCxNQUFrQixFQUNyQixHQUFHckUsSUFEa0I7QUFFckI2ZSxpQkFBRyxFQUFFeGE7QUFGZ0IsYUFBbEIsQ0FGQTtBQURIO0FBRkQsU0FBUDtBQVdEO0FBQ0Y7O0FBQ0QsV0FBTyxFQUNMLEdBQUd6RixTQURFO0FBRUwzSyxVQUFJLEVBQUU7QUFDSjJMLGFBQUssRUFBRTtBQURIO0FBRkQsS0FBUDtBQU1ELEdBbENEOztBQW9DQSxRQUFNaTlCLHVCQUF1QixHQUFHaitCLFNBQVMsSUFBSTtBQUMzQ2dYLGFBQVMsQ0FBQ2hYLFNBQVMsQ0FBQ3BOLElBQVgsQ0FBVCxHQUE0Qm9rQixTQUFTLENBQUNoWCxTQUFTLENBQUNwTixJQUFYLENBQVQsSUFBNkIsQ0FBekQ7QUFDQSxRQUFJeUMsSUFBSSxHQUFHO0FBQ1RvTCxxQkFBZSxFQUFFO0FBRFIsS0FBWDtBQUlBLFVBQU1SLElBQUksR0FBR08sS0FBSyxDQUFDbkwsSUFBTixDQUFXMkssU0FBUyxDQUFDQyxJQUFWLENBQWVNLEdBQTFCLENBQWI7O0FBQ0EsUUFBSU4sSUFBSSxJQUFJQSxJQUFJLENBQUM1SyxJQUFqQixFQUF1QjtBQUNyQkEsVUFBSSxHQUFHLEVBQ0wsR0FBRzRLLElBQUksQ0FBQzVLLElBREg7QUFFTG9MLHVCQUFlLEVBQUUsQ0FBQyxJQUFJUixJQUFJLENBQUM1SyxJQUFMLENBQVVvTCxlQUFWLElBQTZCLEVBQWpDLENBQUQ7QUFGWixPQUFQO0FBSUQ7O0FBRUQsUUFBSVQsU0FBUyxJQUFJQSxTQUFTLENBQUN3WCxVQUF2QixJQUFxQ3hYLFNBQVMsQ0FBQ3dYLFVBQVYsQ0FBcUIwbUIsTUFBOUQsRUFBc0U7QUFDcEU3b0MsVUFBSSxHQUFHLEVBQ0wsR0FBR0EsSUFERTtBQUVMb0wsdUJBQWUsRUFBRXBMLElBQUksQ0FBQ29MLGVBQUwsQ0FBcUJtRixLQUFyQixDQUNmNUYsU0FBUyxDQUFDd1gsVUFBVixDQUFxQjBtQixNQUROO0FBRlosT0FBUDtBQU1EOztBQUVEN29DLFFBQUksR0FBRyxFQUNMLEdBQUdBLElBREU7QUFFTG9MLHFCQUFlLEVBQUVxOUIsV0FBVyxDQUFDem9DLElBQUksQ0FBQ29MLGVBQU4sRUFBdUJULFNBQXZCO0FBRnZCLEtBQVA7QUFLQSxRQUFJa0IsS0FBSyxHQUFHLENBQVo7O0FBQ0EsUUFBSWxCLFNBQVMsQ0FBQ3dYLFVBQVYsSUFBd0J4WCxTQUFTLENBQUN3WCxVQUFWLENBQXFCdFcsS0FBakQsRUFBd0Q7QUFDdERBLFdBQUssR0FBR3BFLElBQUksQ0FBQ3FoQyxHQUFMLENBQVNuK0IsU0FBUyxDQUFDd1gsVUFBVixDQUFxQnRXLEtBQTlCLEVBQXFDN0wsSUFBSSxDQUFDb0wsZUFBTCxDQUFxQnpGLE1BQTFELENBQVI7QUFDRCxLQS9CMEMsQ0FpQzNDO0FBQ0E7QUFDQTs7O0FBQ0EsU0FBSyxJQUFJMFAsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR3hKLEtBQXBCLEVBQTJCd0osQ0FBQyxFQUE1QixFQUFnQztBQUM5QnJWLFVBQUksQ0FBQ29MLGVBQUwsQ0FBcUJpSyxDQUFyQixJQUEwQixFQUN4QixHQUFHclYsSUFBSSxDQUFDb0wsZUFBTCxDQUFxQmlLLENBQXJCLENBRHFCO0FBRXhCdVYsV0FBRyxFQUFFakosU0FBUyxDQUFDaFgsU0FBUyxDQUFDcE4sSUFBWCxDQUFUO0FBRm1CLE9BQTFCO0FBSUQ7O0FBRUQsV0FBTyxFQUFFLEdBQUdvTixTQUFMO0FBQWdCM0s7QUFBaEIsS0FBUDtBQUNELEdBNUNEOztBQThDQSxRQUFNaWtCLFlBQVksR0FBRyxNQUFNO0FBQ3pCLFVBQU04a0IsbUJBQW1CLEdBQUcsRUFBNUI7O0FBQ0EsU0FBSyxNQUFNcjhCLEdBQVgsSUFBa0JKLE1BQU0sQ0FBQ25KLE1BQVAsQ0FDaEIwYixDQUFDLElBQUlBLENBQUMsQ0FBQ2pTLFVBQUYsQ0FBYXpKLE1BQWIsQ0FBb0I2bEMsQ0FBQyxJQUFJLENBQUNULFdBQVcsQ0FBQ3YxQixRQUFaLENBQXFCZzJCLENBQUMsQ0FBQ3pyQyxJQUF2QixDQUExQixFQUF3RG9JLE1BRDdDLENBQWxCLEVBRUc7QUFDRCxVQUFJaUgsVUFBVSxHQUFHLEVBQWpCO0FBQ0FtOEIseUJBQW1CLENBQUMxMEIsSUFBcEIsQ0FBeUIsRUFDdkIsR0FBRzNILEdBRG9CO0FBRXZCRTtBQUZ1QixPQUF6Qjs7QUFJQSxXQUFLLE1BQU1qQyxTQUFYLElBQXdCK0IsR0FBRyxDQUFDRSxVQUFKLENBQWV6SixNQUFmLENBQ3RCNmxDLENBQUMsSUFBSSxDQUFDVCxXQUFXLENBQUN2MUIsUUFBWixDQUFxQmcyQixDQUFDLENBQUN6ckMsSUFBdkIsQ0FEZ0IsQ0FBeEIsRUFFRztBQUNELGNBQU0ycUMsV0FBVyxHQUFHdjlCLFNBQVMsQ0FBQ2dCLEtBQTlCOztBQUNBLFlBQUl1OEIsV0FBVyxJQUFJdjlCLFNBQVMsQ0FBQ0MsSUFBN0IsRUFBbUM7QUFDakM7QUFDQSxjQUNHRCxTQUFTLENBQUNDLElBQVYsSUFBa0IsQ0FBQ08sS0FBSyxDQUFDbkwsSUFBTixDQUFXMkssU0FBUyxDQUFDQyxJQUFWLENBQWVNLEdBQTFCLENBQXBCLElBQ0NnOUIsV0FBVyxJQUNWQSxXQUFXLENBQUN2bUIsU0FEYixJQUVDdW1CLFdBQVcsQ0FBQ3ZtQixTQUFaLENBQXNCaGMsTUFGdkIsSUFHQyxDQUFDZ0csS0FBSyxDQUFDKzhCLE1BTFgsRUFNRTtBQUNBOTdCLHNCQUFVLENBQUN5SCxJQUFYLENBQWdCbTBCLG9CQUFvQixDQUFDNzlCLFNBQUQsQ0FBcEM7QUFDQSxtQkFBT28rQixtQkFBUDtBQUNEOztBQUNELGNBQUlwK0IsU0FBUyxDQUFDQyxJQUFkLEVBQW9CO0FBQ2xCZ0Msc0JBQVUsQ0FBQ3lILElBQVgsQ0FBZ0J1MEIsdUJBQXVCLENBQUNqK0IsU0FBRCxDQUF2QztBQUNELFdBRkQsTUFFTztBQUNMaUMsc0JBQVUsQ0FBQ3lILElBQVgsQ0FBZ0JzMEIsZUFBZSxDQUFDaCtCLFNBQUQsQ0FBL0I7QUFDRDtBQUNGLFNBakJELE1BaUJPO0FBQ0xpQyxvQkFBVSxDQUFDeUgsSUFBWCxDQUFnQjFKLFNBQWhCO0FBQ0Q7QUFDRjtBQUNGOztBQUNELFdBQU9vK0IsbUJBQVA7QUFDRCxHQXJDRDs7QUF1Q0EsUUFBTWpsQixZQUFZLEdBQUdHLFlBQVksRUFBakM7QUFFQSxTQUFPO0FBQUVIO0FBQUYsR0FBUDtBQUNELENBMVBNLEM7Ozs7Ozs7QUNKUDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVPLE1BQU1tYixTQUFOLFNBQXdCOThCLDRDQUFLLENBQUNDLGFBQTlCLENBQTRDO0FBQ2pEO0FBQ0E2bUMsdUJBQXFCLENBQUMza0IsUUFBRCxFQUFXdGtCLElBQVgsRUFBaUI7QUFDcEMsVUFBTTtBQUFFMkw7QUFBRixRQUFZM0wsSUFBbEI7O0FBQ0EsUUFBSSxDQUFDMkwsS0FBRCxJQUFVQSxLQUFLLENBQUNoRyxNQUFOLEtBQWlCLENBQS9CLEVBQWtDO0FBQ2hDLGFBQU8sSUFBUDtBQUNEOztBQUVELFVBQU11akMsWUFBWSxHQUFHLElBQUlDLEdBQUosQ0FDbkI3a0IsUUFBUSxDQUFDalosR0FBVCxDQUFhaTBCLE9BQU8sSUFBSUEsT0FBTyxJQUFJQSxPQUFPLENBQUNwMEIsR0FBM0MsQ0FEbUIsQ0FBckIsQ0FOb0MsQ0FVcEM7QUFDQTs7QUFDQSxXQUFPUyxLQUFLLENBQUNzRyxJQUFOLENBQ0xsRyxJQUFJLElBQ0YsQ0FBQ205QixZQUFZLENBQUM3UCxHQUFiLENBQWlCdHRCLElBQUksQ0FBQ2IsR0FBdEIsQ0FBRCxJQUNBLENBQUNnK0IsWUFBWSxDQUFDN1AsR0FBYixDQUFrQixVQUFTdHRCLElBQUksQ0FBQ3E5QixNQUFPLEVBQXZDLENBREQsSUFFQSxDQUFDRixZQUFZLENBQUM3UCxHQUFiLENBQWtCLFdBQVV0dEIsSUFBSSxDQUFDcTlCLE1BQU8sRUFBeEMsQ0FGRCxJQUdBLENBQUNGLFlBQVksQ0FBQzdQLEdBQWIsQ0FBa0IsY0FBYXR0QixJQUFJLENBQUNxOUIsTUFBTyxFQUEzQyxDQUhELElBSUEsQ0FBQ0YsWUFBWSxDQUFDN1AsR0FBYixDQUFrQixlQUFjdHRCLElBQUksQ0FBQ3E5QixNQUFPLEVBQTVDLENBTkUsQ0FBUDtBQVFELEdBdEJnRCxDQXdCakQ7QUFDQTs7O0FBQ0FDLHdCQUFzQixDQUFDL2tCLFFBQUQsRUFBVzVDLGNBQVgsRUFBMkI7QUFDL0MsUUFBSUEsY0FBYyxLQUFLLE1BQXZCLEVBQStCO0FBQzdCLGFBQU80QyxRQUFRLENBQUNnbEIsU0FBVCxDQUFtQmhLLE9BQU8sSUFBSSxDQUFDQSxPQUFELElBQVksQ0FBQ0EsT0FBTyxDQUFDOVIsUUFBbkQsQ0FBUDtBQUNELEtBSDhDLENBSy9DOzs7QUFDQSxRQUFJbEosUUFBUSxDQUFDM2UsTUFBVCxHQUFrQm02QiwrRUFBdEIsRUFBbUQ7QUFDakQsYUFBTyxDQUFDLENBQVI7QUFDRCxLQVI4QyxDQVUvQztBQUNBOzs7QUFDQSxRQUFJeUosUUFBUSxHQUFHekosK0VBQTJCLEdBQUcsQ0FBN0M7O0FBQ0EsU0FBSyxJQUFJenFCLENBQUMsR0FBR2swQixRQUFiLEVBQXVCbDBCLENBQUMsSUFBSSxDQUE1QixFQUErQkEsQ0FBQyxFQUFoQyxFQUFvQztBQUNsQyxVQUFJLENBQUNpUCxRQUFRLENBQUNqUCxDQUFELENBQVQsSUFBZ0IsQ0FBQ2lQLFFBQVEsQ0FBQ2pQLENBQUQsQ0FBUixDQUFZbVksUUFBakMsRUFBMkM7QUFDekMsZUFBT25ZLENBQVA7QUFDRDtBQUNGOztBQUVELFNBQUssSUFBSUEsQ0FBQyxHQUFHazBCLFFBQVEsR0FBRyxDQUF4QixFQUEyQmwwQixDQUFDLEdBQUdpUCxRQUFRLENBQUMzZSxNQUF4QyxFQUFnRDBQLENBQUMsRUFBakQsRUFBcUQ7QUFDbkQsVUFBSSxDQUFDaVAsUUFBUSxDQUFDalAsQ0FBRCxDQUFULElBQWdCLENBQUNpUCxRQUFRLENBQUNqUCxDQUFELENBQVIsQ0FBWW1ZLFFBQWpDLEVBQTJDO0FBQ3pDLGVBQU9uWSxDQUFQO0FBQ0Q7QUFDRjs7QUFFRCxXQUFPLENBQUMsQ0FBUjtBQUNEOztBQUVEbTBCLG1CQUFpQixDQUFDekosUUFBRCxFQUFXLy9CLElBQVgsRUFBaUIwaEIsY0FBakIsRUFBaUM7QUFDaEQsUUFDRSxDQUFDcWUsUUFBUSxDQUFDcFIsSUFBVixJQUNBb1IsUUFBUSxDQUFDcFIsSUFBVCxDQUFjaHBCLE1BQWQsS0FBeUIsQ0FEekIsSUFFQSxDQUFDM0YsSUFBSSxDQUFDMkwsS0FGTixJQUdBM0wsSUFBSSxDQUFDMkwsS0FBTCxDQUFXaEcsTUFBWCxLQUFzQixDQUp4QixFQUtFO0FBQ0EsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQsUUFBSTJlLFFBQVEsR0FBRyxDQUFDLEdBQUd5YixRQUFRLENBQUNwUixJQUFiLENBQWY7QUFDQSxVQUFNOGEsV0FBVyxHQUFHLEtBQUtSLHFCQUFMLENBQTJCM2tCLFFBQTNCLEVBQXFDdGtCLElBQXJDLENBQXBCOztBQUVBLFFBQUksQ0FBQ3lwQyxXQUFMLEVBQWtCO0FBQ2hCLGFBQU8sSUFBUDtBQUNEOztBQUVELFVBQU1obEIsSUFBSSxHQUFHO0FBQ1gyWix5QkFBbUIsRUFBRXFMLFdBQVcsQ0FBQ3BVLFNBRHRCO0FBRVg5M0IsVUFBSSxFQUFFLE1BRks7QUFHWGlZLFdBQUssRUFBRWkwQixXQUFXLENBQUNqWSxPQUhSO0FBSVgzUCxXQUFLLEVBQUU0bkIsV0FBVyxDQUFDalksT0FKUjtBQUtYdG1CLFNBQUcsRUFBRXUrQixXQUFXLENBQUN2K0IsR0FMTjtBQU1YMGpCLGNBQVEsRUFBRTZhLFdBQVcsQ0FBQ3ZlLFNBTlg7QUFPWDFsQixRQUFFLEVBQUVpa0MsV0FBVyxDQUFDamtDLEVBUEw7QUFRWDRsQixVQUFJLEVBQUVxZSxXQUFXLENBQUNqa0MsRUFSUDtBQVNYNmxCLFVBQUksRUFBRW9lLFdBQVcsQ0FBQ3BlLElBVFA7QUFVWDtBQUNBO0FBQ0E7QUFDQTtBQUNBVCxTQUFHLEVBQUVsSixjQUFjLEtBQUssTUFBbkIsR0FBNEIsQ0FBNUIsR0FBZ0M7QUFkMUIsS0FBYjtBQWlCQSxVQUFNZ29CLG1CQUFtQixHQUFHLEtBQUtMLHNCQUFMLENBQzFCL2tCLFFBRDBCLEVBRTFCNUMsY0FGMEIsQ0FBNUI7O0FBS0EsUUFBSWdvQixtQkFBbUIsS0FBSyxDQUFDLENBQTdCLEVBQWdDO0FBQzlCcGxCLGNBQVEsQ0FBQ2pRLElBQVQsQ0FBY29RLElBQWQ7QUFDRCxLQUZELE1BRU87QUFDTDtBQUNBO0FBRUEsVUFBSWtsQixjQUFjLEdBQUdybEIsUUFBUSxDQUFDb2xCLG1CQUFELENBQTdCO0FBQ0EsVUFBSXQ1QixLQUFLLEdBQUdzNUIsbUJBQW1CLEdBQUcsQ0FBbEMsQ0FMSyxDQU9MOztBQUNBLGFBQU9DLGNBQVAsRUFBdUI7QUFDckIsWUFBSXY1QixLQUFLLEtBQUtrVSxRQUFRLENBQUMzZSxNQUF2QixFQUErQjtBQUM3QjJlLGtCQUFRLENBQUNqUSxJQUFULENBQWNzMUIsY0FBZDtBQUNBQSx3QkFBYyxHQUFHLElBQWpCO0FBQ0QsU0FIRCxNQUdPLElBQUlybEIsUUFBUSxDQUFDbFUsS0FBRCxDQUFSLElBQW1Ca1UsUUFBUSxDQUFDbFUsS0FBRCxDQUFSLENBQWdCb2QsUUFBdkMsRUFBaUQ7QUFDdERwZCxlQUFLLElBQUksQ0FBVDtBQUNELFNBRk0sTUFFQTtBQUNMLGdCQUFNdzVCLFdBQVcsR0FBR3RsQixRQUFRLENBQUNsVSxLQUFELENBQTVCO0FBQ0FrVSxrQkFBUSxDQUFDbFUsS0FBRCxDQUFSLEdBQWtCdTVCLGNBQWxCO0FBQ0FBLHdCQUFjLEdBQUdDLFdBQWpCO0FBQ0F4NUIsZUFBSyxJQUFJLENBQVQ7QUFDRDtBQUNGOztBQUVEa1UsY0FBUSxDQUFDb2xCLG1CQUFELENBQVIsR0FBZ0NqbEIsSUFBaEM7QUFDRDs7QUFFRCxXQUFPLEVBQUUsR0FBR3NiLFFBQUw7QUFBZXBSLFVBQUksRUFBRXJLO0FBQXJCLEtBQVA7QUFDRDs7QUFFRDlnQixRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUVvZSxZQUFNLEdBQUcsRUFBWDtBQUFlNWhCLFVBQWY7QUFBcUIwaEIsb0JBQXJCO0FBQXFDcWU7QUFBckMsUUFBa0QsS0FBS3o5QixLQUE3RDtBQUVBLFVBQU1rK0IsZ0JBQWdCLEdBQ3BCVCxRQUFRLElBQUkvL0IsSUFBWixJQUFvQjBoQixjQUFwQixHQUNJLEtBQUs4bkIsaUJBQUwsQ0FBdUJ6SixRQUF2QixFQUFpQy8vQixJQUFqQyxFQUF1QzBoQixjQUF2QyxDQURKLEdBRUksSUFITjtBQUtBLHdCQUNFO0FBQ0UsZUFBUyxFQUFHLGdCQUFlOGUsZ0JBQWdCLEdBQUcsZ0JBQUgsR0FBc0IsRUFBRztBQUR0RSxvQkFHRSwyREFBQyxpRkFBRDtBQUNFLGFBQU8sRUFBRSxJQURYO0FBRUUsV0FBSyxFQUFFNWUsTUFBTSxDQUFDQyxLQUZoQjtBQUdFLHNCQUFnQixFQUFFMmU7QUFIcEIsTUFIRixDQURGO0FBV0Q7O0FBOUlnRDtBQWlKNUMsTUFBTVQsUUFBUSxHQUFHNTRCLDJEQUFPLENBQUM1RSxLQUFLLEtBQUs7QUFBRXc5QixVQUFRLEVBQUV4OUIsS0FBSyxDQUFDdzlCO0FBQWxCLENBQUwsQ0FBTixDQUFQLENBQ3RCZCxTQURzQixDQUFqQixDOzs7Ozs7O0FDMUpQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNhOzs7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFFTyxNQUFNNEssT0FBTixTQUFzQjFuQyw0Q0FBSyxDQUFDQyxhQUE1QixDQUEwQztBQUMvQ0MsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUt3bkMsYUFBTCxHQUFxQixLQUFLQSxhQUFMLENBQW1CcG5DLElBQW5CLENBQXdCLElBQXhCLENBQXJCO0FBQ0EsU0FBS3FuQyxvQkFBTCxHQUE0QixLQUFLQSxvQkFBTCxDQUEwQnJuQyxJQUExQixDQUErQixJQUEvQixDQUE1QjtBQUNBLFNBQUtzbkMsb0JBQUwsR0FBNEIsS0FBS0Esb0JBQUwsQ0FBMEJ0bkMsSUFBMUIsQ0FBK0IsSUFBL0IsQ0FBNUI7QUFDQSxTQUFLdW5DLG1CQUFMLEdBQTJCLEtBQUtBLG1CQUFMLENBQXlCdm5DLElBQXpCLENBQThCLElBQTlCLENBQTNCO0FBQ0EsU0FBS3duQyxZQUFMLEdBQW9CLEtBQUtBLFlBQUwsQ0FBa0J4bkMsSUFBbEIsQ0FBdUIsSUFBdkIsQ0FBcEI7QUFDQSxTQUFLeW5DLG1CQUFMLEdBQTJCLEtBQUtBLG1CQUFMLENBQXlCem5DLElBQXpCLENBQThCLElBQTlCLENBQTNCO0FBQ0EsU0FBSzBuQywwQkFBTCxHQUFrQyxLQUFLQSwwQkFBTCxDQUFnQzFuQyxJQUFoQyxDQUNoQyxJQURnQyxDQUFsQztBQUdEOztBQUVEMm5DLGFBQVcsQ0FBQ3hsQyxLQUFELEVBQVE7QUFDakI7QUFDQSxRQUFJQSxLQUFLLENBQUNxWSxNQUFOLENBQWEzZixJQUFiLEtBQXNCLFFBQTFCLEVBQW9DO0FBQ2xDLFdBQUsrRSxLQUFMLENBQVdsRixRQUFYLENBQW9CQyxpRUFBRSxDQUFDMEMsU0FBSCxDQUFhO0FBQUU4RSxhQUFLLEVBQUU7QUFBVCxPQUFiLENBQXBCO0FBQ0Q7QUFDRjs7QUFFRGlsQyxlQUFhLENBQUNqbEMsS0FBRCxFQUFRO0FBQ25Ca1ksVUFBTSxDQUFDdXRCLHdCQUFQLENBQWdDQyxNQUFoQyxDQUF1QzFsQyxLQUF2QztBQUNEOztBQUVEMmxDLGlCQUFlLENBQUMvQyxJQUFELEVBQU87QUFDcEIsU0FBS25sQyxLQUFMLENBQVdsRixRQUFYLENBQ0VDLGlFQUFFLENBQUNpQyxVQUFILENBQWM7QUFBRS9CLFVBQUksRUFBRUMsOERBQUUsQ0FBQ2l0Qyw0QkFBWDtBQUF5Q3pxQyxVQUFJLEVBQUU7QUFBRXluQztBQUFGO0FBQS9DLEtBQWQsQ0FERjtBQUdBLFNBQUtubEMsS0FBTCxDQUFXbEYsUUFBWCxDQUFvQjtBQUFFRyxVQUFJLEVBQUVDLDhEQUFFLENBQUNrdEM7QUFBWCxLQUFwQjtBQUNBLFNBQUtwb0MsS0FBTCxDQUFXbEYsUUFBWCxDQUFvQkMsaUVBQUUsQ0FBQzBDLFNBQUgsQ0FBYTtBQUFFOEUsV0FBSyxFQUFFO0FBQVQsS0FBYixDQUFwQjs7QUFDQSxRQUFJNGlDLElBQUosRUFBVTtBQUNSLFdBQUtubEMsS0FBTCxDQUFXbEYsUUFBWCxDQUFvQjtBQUFFRyxZQUFJLEVBQUVDLDhEQUFFLENBQUNtdEM7QUFBWCxPQUFwQjtBQUNEO0FBQ0Y7O0FBRURaLHNCQUFvQixDQUFDbGxDLEtBQUQsRUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBQSxTQUFLLENBQUMyTixjQUFOO0FBQ0EsU0FBS2c0QixlQUFMO0FBQ0Q7O0FBRURSLHNCQUFvQixDQUFDbmxDLEtBQUQsRUFBUTtBQUMxQkEsU0FBSyxDQUFDMk4sY0FBTjtBQUNBLFNBQUtnNEIsZUFBTCxDQUFxQjNsQyxLQUFLLENBQUM0TixhQUFOLENBQW9CbTRCLE9BQXBCLENBQTRCLE1BQTVCLENBQXJCO0FBQ0Q7O0FBRURYLHFCQUFtQixDQUFDcGxDLEtBQUQsRUFBUTtBQUN6QkEsU0FBSyxDQUFDMk4sY0FBTjtBQUNBLFFBQUlpMUIsSUFBSSxHQUFHNWlDLEtBQUssQ0FBQzY5QixZQUFOLENBQW1Ca0ksT0FBbkIsQ0FBMkIsTUFBM0IsQ0FBWDs7QUFDQSxRQUFJbkQsSUFBSixFQUFVO0FBQ1IsV0FBSytDLGVBQUwsQ0FBcUIvQyxJQUFyQjtBQUNEO0FBQ0Y7O0FBRUQ3a0Msc0JBQW9CLEdBQUc7QUFDckIsV0FBT21hLE1BQU0sQ0FBQ3V0Qix3QkFBZDtBQUNEOztBQUVESixjQUFZLENBQUNXLEtBQUQsRUFBUTtBQUNsQixRQUFJQSxLQUFKLEVBQVc7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBTUMsZUFBZSxHQUFHcHNCLG1FQUFTLEdBQUcsUUFBSCxHQUFjLFdBQS9DLENBTlMsQ0FRVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLFlBQU1xc0IsWUFBWSxHQUFHcnNCLG1FQUFTLEdBQUcsUUFBSCxHQUFjLFVBQTVDLENBYlMsQ0FlVDtBQUNBO0FBQ0E7O0FBQ0EzQixZQUFNLENBQUN1dEIsd0JBQVAsR0FBa0MsSUFBSVUseUJBQUosQ0FDaENILEtBRGdDLEVBRWhDQSxLQUFLLENBQUMxaEIsVUFGMEIsRUFHaEMyaEIsZUFIZ0MsRUFJaENDLFlBSmdDLENBQWxDO0FBTUFsdEMsc0JBQWdCLENBQUMscUJBQUQsRUFBd0IsSUFBeEIsQ0FBaEI7QUFDRCxLQXpCRCxNQXlCTztBQUNMa2YsWUFBTSxDQUFDdXRCLHdCQUFQLEdBQWtDLElBQWxDO0FBQ0E5bEMseUJBQW1CLENBQUMscUJBQUQsRUFBd0IsSUFBeEIsQ0FBbkI7QUFDRDtBQUNGOztBQUVEMmxDLHFCQUFtQixDQUFDVSxLQUFELEVBQVE7QUFDekIsUUFBSUEsS0FBSixFQUFXO0FBQ1Q7QUFDQTtBQUNBLFdBQUtJLHdCQUFMLEdBQWdDLElBQUlDLGdDQUFKLEVBQWhDO0FBQ0Q7QUFDRjs7QUFFREMsc0JBQW9CLEdBQUc7QUFDckI7QUFDQSxXQUFPLEtBQUs3b0MsS0FBTCxDQUFXcUIsS0FBWCxDQUFpQkMsTUFBakIsQ0FBd0Isd0JBQXhCLENBQVA7QUFDRDs7QUFFRHduQywrQkFBNkIsR0FBRztBQUM5QixRQUFJQyxpQkFBaUIsR0FBRyxLQUFLRixvQkFBTCxFQUF4QjtBQUNBLFdBQU9FLGlCQUFpQixHQUNwQjtBQUNFLHNCQUFnQixpQ0FEbEI7QUFFRSx3QkFBbUIsZUFBY0EsaUJBQWtCO0FBRnJELEtBRG9CLEdBS3BCO0FBQ0Usc0JBQWdCO0FBRGxCLEtBTEo7QUFRRDs7QUFFREMsOEJBQTRCLEdBQUc7QUFDN0IsUUFBSUQsaUJBQWlCLEdBQUcsS0FBS0Ysb0JBQUwsRUFBeEI7QUFDQSxXQUFPRSxpQkFBaUIsR0FDcEI7QUFDRSxzQkFBZ0IsZ0NBRGxCO0FBRUUsd0JBQW1CLGVBQWNBLGlCQUFrQjtBQUZyRCxLQURvQixHQUtwQjtBQUNFLHNCQUFnQjtBQURsQixLQUxKO0FBUUQ7O0FBRURqQiw0QkFBMEIsQ0FBQ3ZpQixNQUFELEVBQVM7QUFDakM7QUFDQSxTQUFLMGpCLG9CQUFMLEdBQTRCMWpCLE1BQTVCO0FBQ0Q7QUFFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBOzs7QUFDRXJrQixRQUFNLEdBQUc7QUFDUCxVQUFNZ29DLGdCQUFnQixHQUFHLENBQ3ZCLGdCQUR1QixFQUV2QixLQUFLbHBDLEtBQUwsQ0FBV21wQyxPQUFYLElBQXNCLGlCQUZDLEVBR3ZCLEtBQUtucEMsS0FBTCxDQUFXb3BDLFNBQVgsSUFBd0IsWUFIRCxFQUt0QnZvQyxNQUxzQixDQUtmQyxDQUFDLElBQUlBLENBTFUsRUFNdEJDLElBTnNCLENBTWpCLEdBTmlCLENBQXpCO0FBUUEsd0JBQ0U7QUFBSyxlQUFTLEVBQUVtb0M7QUFBaEIsT0FDRyxLQUFLbHBDLEtBQUwsQ0FBV3FwQyxRQUFYLGlCQUNDO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0U7QUFBSyxlQUFTLEVBQUM7QUFBZixNQURGLGVBRUU7QUFBSyxlQUFTLEVBQUM7QUFBZixNQUZGLENBRkosRUFPRyxDQUFDLEtBQUtycEMsS0FBTCxDQUFXc3BDLGNBQVosaUJBQ0M7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRTtBQUNFLFFBQUUsRUFBQyxvQkFETDtBQUVFLHNCQUFhLHlCQUZmO0FBR0UsZUFBUyxFQUFDLEtBSFo7QUFJRSxTQUFHLEVBQUUsS0FBSzFCLFlBSlo7QUFLRSxVQUFJLEVBQUM7QUFMUCxNQURGLGVBUUU7QUFDRSxRQUFFLEVBQUMsY0FETDtBQUVFLGVBQVMsRUFBQyxlQUZaO0FBR0Usc0JBQWEsaUNBSGY7QUFJRSxhQUFPLEVBQUUsS0FBS0o7QUFKaEIsTUFSRixDQVJKLEVBd0JHLEtBQUt4bkMsS0FBTCxDQUFXc3BDLGNBQVgsaUJBQ0M7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRTtBQUNFLGVBQVMsRUFBQztBQURaLE9BRU0sS0FBS1IsNkJBQUwsRUFGTjtBQUdFLFNBQUcsRUFBRSxLQUFLaEIsMEJBSFo7QUFJRSxhQUFPLEVBQUUsS0FBS0wsb0JBSmhCO0FBS0UsY0FBUSxFQUFDO0FBTFgscUJBT0U7QUFDRSxlQUFTLEVBQUM7QUFEWixPQUVNLEtBQUt1Qiw0QkFBTCxFQUZOLEVBUEYsZUFXRTtBQUNFLFVBQUksRUFBQyxRQURQO0FBRUUsZUFBUyxFQUFDLGVBRlo7QUFHRSxjQUFRLEVBQUMsSUFIWDtBQUlFLHFCQUFZLE1BSmQ7QUFLRSxZQUFNLEVBQUUsS0FBS3JCLG1CQUxmO0FBTUUsYUFBTyxFQUFFLEtBQUtELG9CQU5oQjtBQU9FLFNBQUcsRUFBRSxLQUFLRztBQVBaLE1BWEYsZUFvQkU7QUFBSyxlQUFTLEVBQUM7QUFBZixNQXBCRixDQURGLENBekJKLENBREY7QUFxREQ7O0FBM004QztBQThNMUMsTUFBTXJqQyxNQUFNLEdBQUdLLDJEQUFPLENBQUM1RSxLQUFLLEtBQUs7QUFDdENvQixPQUFLLEVBQUVwQixLQUFLLENBQUNvQjtBQUR5QixDQUFMLENBQU4sQ0FBUCxDQUVsQmttQyxPQUZrQixDQUFmLEM7Ozs7Ozs7QUMxTlA7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUEsTUFBTTFyQixPQUFPLEdBQUcsU0FBaEI7QUFDQSxNQUFNQyx1QkFBdUIsR0FBRyxrQkFBaEM7QUFFTyxNQUFNdGhCLHNCQUFOLENBQTZCO0FBQ2xDdUYsYUFBVyxDQUFDM0YsS0FBRCxFQUFRaUMsT0FBTyxHQUFHLEVBQWxCLEVBQXNCO0FBQy9CLFNBQUtrdEMsTUFBTCxHQUFjbnZDLEtBQWQsQ0FEK0IsQ0FFL0I7O0FBQ0EsU0FBS2dCLFFBQUwsR0FBZ0JpQixPQUFPLENBQUNqQixRQUFSLElBQW9CNEYsTUFBTSxDQUFDNUYsUUFBM0M7QUFDQSxTQUFLb3VDLFlBQUwsR0FBb0JudEMsT0FBTyxDQUFDOCtCLFdBQVIsSUFBdUI1Qix3RUFBM0M7QUFDQSxTQUFLcmQsbUJBQUwsR0FBMkIsS0FBS0EsbUJBQUwsQ0FBeUI5YixJQUF6QixDQUE4QixJQUE5QixDQUEzQjtBQUNEO0FBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDRTNGLHdCQUFzQixHQUFHO0FBQ3ZCLFFBQUksS0FBS1csUUFBTCxDQUFjNmdCLGVBQWQsS0FBa0NKLE9BQXRDLEVBQStDO0FBQzdDO0FBQ0E7QUFDQSxXQUFLNHRCLFVBQUw7QUFDRCxLQUpELE1BSU87QUFDTDtBQUNBLFdBQUtydUMsUUFBTCxDQUFjRyxnQkFBZCxDQUNFdWdCLHVCQURGLEVBRUUsS0FBS0ksbUJBRlA7QUFJRDtBQUNGO0FBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0V1dEIsWUFBVSxHQUFHO0FBQ1gsU0FBS0QsWUFBTCxDQUFrQnRQLElBQWxCLENBQXVCLDBCQUF2Qjs7QUFFQSxRQUFJO0FBQ0YsVUFBSXdQLHdCQUF3QixHQUFHLEtBQUtGLFlBQUwsQ0FBa0JsUCwrQkFBbEIsQ0FDN0IsMEJBRDZCLENBQS9COztBQUlBLFdBQUtpUCxNQUFMLENBQVl6dUMsUUFBWixDQUNFQyxpRUFBRSxDQUFDQyxVQUFILENBQWM7QUFDWkMsWUFBSSxFQUFFQyw4REFBRSxDQUFDcS9CLHNCQURHO0FBRVo3OEIsWUFBSSxFQUFFO0FBQUVnc0M7QUFBRjtBQUZNLE9BQWQsQ0FERjtBQU1ELEtBWEQsQ0FXRSxPQUFPblMsRUFBUCxFQUFXLENBQ1g7QUFDQTtBQUNEO0FBQ0Y7QUFFRDtBQUNGO0FBQ0E7QUFDQTs7O0FBQ0VyYixxQkFBbUIsR0FBRztBQUNwQixRQUFJLEtBQUs5Z0IsUUFBTCxDQUFjNmdCLGVBQWQsS0FBa0NKLE9BQXRDLEVBQStDO0FBQzdDLFdBQUs0dEIsVUFBTDs7QUFDQSxXQUFLcnVDLFFBQUwsQ0FBYzhHLG1CQUFkLENBQ0U0Wix1QkFERixFQUVFLEtBQUtJLG1CQUZQO0FBSUQ7QUFDRjs7QUFsRWlDLEM7Ozs7Ozs7O0FDVnBDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUtBO0FBRU8sTUFBTXl0QixrQkFBa0IsR0FBRyx1QkFBM0I7QUFDQSxNQUFNQyxxQkFBcUIsR0FBRyw4QkFBOUI7QUFDQSxNQUFNQyxxQkFBcUIsR0FBRyw4QkFBOUI7QUFDQSxNQUFNQyxvQkFBb0IsR0FBRyxDQUFDNXVDLDhEQUFFLENBQUNxL0Isc0JBQUosQ0FBN0I7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxTQUFTd1AsaUJBQVQsQ0FBMkJDLFdBQTNCLEVBQXdDO0FBQ3RDLFNBQU8sQ0FBQ2g4QixTQUFELEVBQVk1UixNQUFaLEtBQXVCO0FBQzVCLFFBQUlBLE1BQU0sQ0FBQ25CLElBQVAsS0FBZ0IwdUMsa0JBQXBCLEVBQXdDO0FBQ3RDLGFBQU8sRUFBRSxHQUFHMzdCLFNBQUw7QUFBZ0IsV0FBRzVSLE1BQU0sQ0FBQ3NCO0FBQTFCLE9BQVA7QUFDRDs7QUFFRCxXQUFPc3NDLFdBQVcsQ0FBQ2g4QixTQUFELEVBQVk1UixNQUFaLENBQWxCO0FBQ0QsR0FORDtBQU9EO0FBRUQ7QUFDQTtBQUNBOzs7QUFDQSxNQUFNNnRDLGlCQUFpQixHQUFHN3ZDLEtBQUssSUFBSTh2QyxJQUFJLElBQUk5dEMsTUFBTSxJQUFJO0FBQ25ELFFBQU1TLFNBQVMsR0FBR1QsTUFBTSxDQUFDRSxJQUFQLElBQWVGLE1BQU0sQ0FBQ0UsSUFBUCxDQUFZTyxTQUE3Qzs7QUFDQSxNQUFJc3RDLDhEQUFFLENBQUN4ckMsWUFBSCxDQUFnQnZDLE1BQWhCLENBQUosRUFBNkI7QUFDM0JndUMsdUJBQW1CLENBQUNSLHFCQUFELEVBQXdCeHRDLE1BQXhCLENBQW5CO0FBQ0Q7O0FBQ0QsTUFBSSxDQUFDUyxTQUFMLEVBQWdCO0FBQ2RxdEMsUUFBSSxDQUFDOXRDLE1BQUQsQ0FBSjtBQUNEO0FBQ0YsQ0FSRDs7QUFVTyxNQUFNaXVDLHFCQUFxQixHQUFHLENBQUM7QUFBRXBrQjtBQUFGLENBQUQsS0FBa0I7QUFDckQ7QUFDQTtBQUNBQSxVQUFRLENBQUNxa0IsWUFBVCxHQUF3QixLQUF4QjtBQUNBcmtCLFVBQVEsQ0FBQ3NrQixzQkFBVCxHQUFrQyxLQUFsQztBQUNBLFNBQU9MLElBQUksSUFBSTl0QyxNQUFNLElBQUk7QUFDdkIsUUFBSTZwQixRQUFRLENBQUNxa0IsWUFBVCxJQUF5Qjd2QixNQUFNLENBQUMrdkIsc0JBQXBDLEVBQTREO0FBQzFEO0FBQ0E7QUFDQSxVQUNFL3ZCLE1BQU0sQ0FBQyt2QixzQkFBUCxJQUNBcHVDLE1BQU0sQ0FBQ0UsSUFEUCxJQUVBRixNQUFNLENBQUNFLElBQVAsQ0FBWW11QyxTQUhkLEVBSUU7QUFDQSxlQUFPLElBQVA7QUFDRDs7QUFDRCxhQUFPUCxJQUFJLENBQUM5dEMsTUFBRCxDQUFYO0FBQ0Q7O0FBRUQsVUFBTXN1QyxrQkFBa0IsR0FBR3R1QyxNQUFNLENBQUNuQixJQUFQLEtBQWdCMHVDLGtCQUEzQztBQUNBLFVBQU1nQixvQkFBb0IsR0FBR3Z1QyxNQUFNLENBQUNuQixJQUFQLEtBQWdCQyw4REFBRSxDQUFDQyxxQkFBaEQ7O0FBRUEsUUFBSXd2QyxvQkFBSixFQUEwQjtBQUN4QjFrQixjQUFRLENBQUNza0Isc0JBQVQsR0FBa0MsSUFBbEM7QUFDQSxhQUFPTCxJQUFJLENBQUM5dEMsTUFBRCxDQUFYO0FBQ0Q7O0FBRUQsUUFBSXN1QyxrQkFBSixFQUF3QjtBQUN0QnprQixjQUFRLENBQUNxa0IsWUFBVCxHQUF3QixJQUF4QjtBQUNBLGFBQU9KLElBQUksQ0FBQzl0QyxNQUFELENBQVg7QUFDRCxLQXpCc0IsQ0EyQnZCOzs7QUFDQSxRQUFJNnBCLFFBQVEsQ0FBQ3NrQixzQkFBVCxJQUFtQ251QyxNQUFNLENBQUNuQixJQUFQLEtBQWdCQyw4REFBRSxDQUFDMHZDLElBQTFELEVBQWdFO0FBQzlELGFBQU9WLElBQUksQ0FBQ252QyxpRUFBRSxDQUFDQyxVQUFILENBQWM7QUFBRUMsWUFBSSxFQUFFQyw4REFBRSxDQUFDQztBQUFYLE9BQWQsQ0FBRCxDQUFYO0FBQ0Q7O0FBRUQsUUFDRWd2Qyw4REFBRSxDQUFDdnJDLG9CQUFILENBQXdCeEMsTUFBeEIsS0FDQSt0Qyw4REFBRSxDQUFDdHJDLGtCQUFILENBQXNCekMsTUFBdEIsQ0FEQSxJQUVBK3RDLDhEQUFFLENBQUNyckMsaUJBQUgsQ0FBcUIxQyxNQUFyQixDQUhGLEVBSUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFPLElBQVA7QUFDRDs7QUFFRCxXQUFPOHRDLElBQUksQ0FBQzl0QyxNQUFELENBQVg7QUFDRCxHQTVDRDtBQTZDRCxDQWxETTtBQW9EUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxNQUFNeXVDLDJCQUEyQixHQUFHLENBQUM7QUFBRTVrQjtBQUFGLENBQUQsS0FBa0I7QUFDM0Q7QUFDQTtBQUNBQSxVQUFRLENBQUM2a0IsZ0JBQVQsR0FBNEIsRUFBNUI7QUFDQTdrQixVQUFRLENBQUM4a0IsZ0JBQVQsR0FBNEIsS0FBNUI7QUFDQSxTQUFPYixJQUFJLElBQUk5dEMsTUFBTSxJQUFJO0FBQ3ZCLFFBQUk2cEIsUUFBUSxDQUFDOGtCLGdCQUFiLEVBQStCO0FBQzdCYixVQUFJLENBQUM5dEMsTUFBRCxDQUFKO0FBQ0QsS0FGRCxNQUVPLElBQUkrdEMsOERBQUUsQ0FBQ3ByQyxVQUFILENBQWMzQyxNQUFkLENBQUosRUFBMkI7QUFDaEM4dEMsVUFBSSxDQUFDOXRDLE1BQUQsQ0FBSjtBQUNBNnBCLGNBQVEsQ0FBQzhrQixnQkFBVCxHQUE0QixJQUE1QixDQUZnQyxDQUdoQzs7QUFDQTlrQixjQUFRLENBQUM2a0IsZ0JBQVQsQ0FBMEJwdUMsT0FBMUIsQ0FBa0N3dEMsSUFBbEM7QUFDQWprQixjQUFRLENBQUM2a0IsZ0JBQVQsQ0FBMEJ6bkMsTUFBMUIsR0FBbUMsQ0FBbkM7QUFDRCxLQU5NLE1BTUEsSUFBSXltQyxvQkFBb0IsQ0FBQ3A1QixRQUFyQixDQUE4QnRVLE1BQU0sQ0FBQ25CLElBQXJDLENBQUosRUFBZ0Q7QUFDckRnckIsY0FBUSxDQUFDNmtCLGdCQUFULENBQTBCLzRCLElBQTFCLENBQStCM1YsTUFBL0I7QUFDRCxLQUZNLE1BRUE7QUFDTDtBQUNBOHRDLFVBQUksQ0FBQzl0QyxNQUFELENBQUo7QUFDRDtBQUNGLEdBZkQ7QUFnQkQsQ0FyQk07QUF1QlA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sU0FBUzlCLFNBQVQsQ0FBbUJDLFFBQW5CLEVBQTZCc0IsWUFBN0IsRUFBMkM7QUFDaEQsUUFBTXpCLEtBQUssR0FBRzR3Qyx5REFBVyxDQUN2QmpCLGlCQUFpQixDQUFDa0IsNkRBQWUsQ0FBQzF3QyxRQUFELENBQWhCLENBRE0sRUFFdkJzQixZQUZ1QixFQUd2Qm1GLE1BQU0sQ0FBQ2txQyxxQkFBUCxJQUNFQyw2REFBZSxDQUNiTiwyQkFEYSxFQUViUixxQkFGYSxFQUdiSixpQkFIYSxDQUpNLENBQXpCOztBQVdBLE1BQUlqcEMsTUFBTSxDQUFDa3FDLHFCQUFYLEVBQWtDO0FBQ2hDbHFDLFVBQU0sQ0FBQ2txQyxxQkFBUCxDQUE2QnJCLHFCQUE3QixFQUFvRHA4QixHQUFHLElBQUk7QUFDekQsVUFBSTtBQUNGclQsYUFBSyxDQUFDVSxRQUFOLENBQWUyUyxHQUFHLENBQUMvUCxJQUFuQjtBQUNELE9BRkQsQ0FFRSxPQUFPNjVCLEVBQVAsRUFBVztBQUNYcG9CLGVBQU8sQ0FBQ2dGLEtBQVIsQ0FBYyxjQUFkLEVBQThCMUcsR0FBOUIsRUFBbUMsa0JBQW5DLEVBQXVEOHBCLEVBQXZELEVBRFcsQ0FDaUQ7O0FBQzVENlQsWUFBSSxDQUNELGdCQUFleGhDLElBQUksQ0FBQ0MsU0FBTCxDQUFlNEQsR0FBZixDQUFvQixxQkFBb0I4cEIsRUFBRyxLQUN6REEsRUFBRSxDQUFDOFQsS0FDSixFQUhDLENBQUo7QUFLRDtBQUNGLEtBWEQ7QUFZRDs7QUFFRCxTQUFPanhDLEtBQVA7QUFDRCxDOzs7Ozs7O0FDOUtELHVCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcscUJBQXFCO0FBQ2hDLGFBQWE7QUFDYjtBQUNlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxxQkFBcUI7QUFDaEMsYUFBYTtBQUNiO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBOztBQUVvRDtBQUNFOzs7QUNOdEQ7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FDbkJtRDs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2UsTUFBTSx1Q0FBa0IsU0FBUyxjQUFjO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsWUFBWTtBQUMvQztBQUNBO0FBQ0E7QUFDQTs7O0FDMURtRDs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2UsTUFBTSx5Q0FBbUIsU0FBUyxjQUFjO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxZQUFZO0FBQy9DO0FBQ0E7QUFDQTtBQUNBOzs7QUN4RnlFO0FBQ0U7OztBQ0QzRTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNlLE1BQU1reEMsOEJBQU4sQ0FBd0I7QUFDckN2ckMsYUFBVyxDQUFDd3JDLE9BQUQsRUFBVTtBQUNuQixTQUFLQSxPQUFMLEdBQWVDLHVDQUFrQixDQUFDanZDLElBQW5CLENBQXdCZ3ZDLE9BQXhCLENBQWY7QUFDQSxTQUFLRSxJQUFMLEdBQVksSUFBSTVFLEdBQUosRUFBWjtBQUNEO0FBRUQ7QUFDRjtBQUNBOzs7QUFDRTZFLFdBQVMsQ0FBQ0MsSUFBRCxFQUFPO0FBQ2QsU0FBS0YsSUFBTCxDQUFVaDdCLEdBQVYsQ0FBY2s3QixJQUFkO0FBQ0Q7QUFFRDtBQUNGO0FBQ0E7OztBQUNFQyxhQUFXLENBQUNELElBQUQsRUFBTztBQUNoQixTQUFLRixJQUFMLENBQVV6aUIsTUFBVixDQUFpQjJpQixJQUFqQjtBQUNEO0FBRUQ7QUFDRjtBQUNBOzs7QUFDRUUsWUFBVSxDQUFDTixPQUFELEVBQVU7QUFDbEIsU0FBS0EsT0FBTCxHQUFlQyx1Q0FBa0IsQ0FBQ2p2QyxJQUFuQixDQUF3Qmd2QyxPQUF4QixDQUFmLENBRGtCLENBR2xCOztBQUNBLFNBQUtFLElBQUwsQ0FBVS91QyxPQUFWLENBQWtCaXZDLElBQUksSUFBSUEsSUFBSSxDQUFDRyxVQUFMLEVBQTFCO0FBQ0Q7O0FBRURDLFdBQVMsQ0FBQzdvQyxFQUFELEVBQUs7QUFDWixXQUFPOG9DLGFBQWEsQ0FBQyxLQUFLVCxPQUFOLEVBQWVyb0MsRUFBZixDQUFwQjtBQUNEO0FBRUQ7QUFDRjtBQUNBOzs7QUFDRStvQyxXQUFTLENBQUMvb0MsRUFBRCxFQUFLMUQsSUFBTCxFQUFXMHNDLFFBQVgsRUFBcUI7QUFDNUIsVUFBTS8xQixNQUFNLEdBQUcsS0FBSzQxQixTQUFMLENBQWU3b0MsRUFBZixDQUFmOztBQUVBLFFBQUlpVCxNQUFNLEtBQUssSUFBZixFQUFxQjtBQUNuQixhQUFPKzFCLFFBQVEsSUFBSWhwQyxFQUFuQjtBQUNEOztBQUVELFVBQU11SyxHQUFHLEdBQUcwSSxNQUFNLENBQUNnMkIsVUFBUCxDQUFrQmpwQyxFQUFsQixDQUFaO0FBQ0EsV0FBT2lULE1BQU0sQ0FBQ2kyQixNQUFQLENBQWMzK0IsR0FBZCxFQUFtQmpPLElBQW5CLENBQVA7QUFDRDs7QUE5Q29DO0FBaURoQyxTQUFTNnNDLG1CQUFULENBQTZCcnNDLEtBQTdCLEVBQW9Dc3NDLFFBQXBDLEVBQThDO0FBQ25ELFFBQU1DLElBQUksR0FBR3ZzQyxLQUFLLENBQUNzc0MsUUFBRCxDQUFsQjs7QUFFQSxNQUFJQyxJQUFJLFlBQVlqQiw4QkFBcEIsRUFBdUM7QUFDckMsV0FBTyxJQUFQO0FBQ0Q7O0FBRUQsU0FBTyxJQUFJN3VDLEtBQUosQ0FDSixPQUFNNnZDLFFBQVMsMERBRFgsQ0FBUDtBQUdELEM7O0FDN0VEO0FBRUEsSUFBSUUsaUJBQUosQyxDQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNlLFNBQVNDLGlCQUFULEdBQTZCO0FBQzFDLE1BQUksT0FBT3J4QyxRQUFQLEtBQXFCLFdBQXpCLEVBQXNDO0FBQ3BDO0FBQ0EsVUFBTSxJQUFJcUIsS0FBSixDQUNKLDhEQUNBLG9EQURBLEdBRUEsaUVBSEksQ0FBTjtBQUtEOztBQUVELE1BQUksQ0FBQyt2QyxpQkFBTCxFQUF3QjtBQUN0QixVQUFNbHhCLFFBQVEsR0FBR2xnQixRQUFRLENBQUNzeEMsYUFBVCxDQUF1QixVQUF2QixDQUFqQjs7QUFDQUYscUJBQWlCLEdBQUcsU0FBU0csV0FBVCxDQUFxQjlSLEdBQXJCLEVBQTBCO0FBQzVDdmYsY0FBUSxDQUFDc3hCLFNBQVQsR0FBcUIvUixHQUFyQjtBQUNBLGFBQU8zb0IsS0FBSyxDQUFDM1YsSUFBTixDQUFXK2UsUUFBUSxDQUFDNU8sT0FBVCxDQUFpQm1nQyxVQUE1QixDQUFQO0FBQ0QsS0FIRDtBQUlEOztBQUVELFNBQU9MLGlCQUFQO0FBQ0QsQzs7QUMzQkQ7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ2UsTUFBTU0sNkJBQU4sU0FBbUN4VCw0QkFBbkMsQ0FBNkM7QUFDMUR2NUIsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFVBQU07QUFBQ3VyQyxhQUFEO0FBQVVvQjtBQUFWLFFBQXlCM3NDLEtBQS9COztBQUVBLFFBQUl1ckMsT0FBTyxLQUFLdjdCLFNBQWhCLEVBQTJCO0FBQ3pCLFlBQU0sSUFBSXZULEtBQUosQ0FBVSxxREFBVixDQUFOO0FBQ0Q7O0FBRUQsUUFBSSxDQUFDOHVDLE9BQU8sQ0FBQ3dCLE1BQU0sQ0FBQ0MsUUFBUixDQUFaLEVBQStCO0FBQzdCLFlBQU0sSUFBSXZ3QyxLQUFKLENBQVUsdUNBQVYsQ0FBTjtBQUNEOztBQUVELFNBQUt3d0MsSUFBTCxHQUFZLElBQUkzQiw4QkFBSixDQUFzQkMsT0FBdEIsQ0FBWjtBQUNBLFNBQUtvQixXQUFMLEdBQW1CQSxXQUFXLElBQUlGLGlCQUFpQixFQUFuRDtBQUNEOztBQUVEUyxpQkFBZSxHQUFHO0FBQ2hCLFdBQU87QUFDTEQsVUFBSSxFQUFFLEtBQUtBLElBRE47QUFFTE4saUJBQVcsRUFBRSxLQUFLQTtBQUZiLEtBQVA7QUFJRDs7QUFFRHZVLDJCQUF5QixDQUFDOFIsSUFBRCxFQUFPO0FBQzlCLFVBQU07QUFBRXFCO0FBQUYsUUFBY3JCLElBQXBCOztBQUVBLFFBQUlxQixPQUFPLEtBQUssS0FBS3ZyQyxLQUFMLENBQVd1ckMsT0FBM0IsRUFBb0M7QUFDbEMsV0FBSzBCLElBQUwsQ0FBVXBCLFVBQVYsQ0FBcUJOLE9BQXJCO0FBQ0Q7QUFDRjs7QUFFRHJxQyxRQUFNLEdBQUc7QUFDUCxXQUFPc3RCLDJCQUFRLENBQUNDLElBQVQsQ0FBYyxLQUFLenVCLEtBQUwsQ0FBVytFLFFBQXpCLENBQVA7QUFDRDs7QUFsQ3lEO0FBcUM1RCtuQyw2QkFBb0IsQ0FBQ0ssaUJBQXJCLEdBQXlDO0FBQ3ZDRixNQUFJLEVBQUVaLG1CQURpQztBQUV2Q00sYUFBVyxFQUFFUyw0QkFBUyxDQUFDL3RDO0FBRmdCLENBQXpDO0FBS0F5dEMsNkJBQW9CLENBQUNPLFNBQXJCLEdBQWlDO0FBQy9CdG9DLFVBQVEsRUFBRXFvQyw0QkFBUyxDQUFDbGQsT0FBVixDQUFrQm9kLFVBREc7QUFFL0IvQixTQUFPLEVBQUVnQyxVQUZzQjtBQUcvQlosYUFBVyxFQUFFUyw0QkFBUyxDQUFDL3RDO0FBSFEsQ0FBakM7O0FBTUEsU0FBU2t1QyxVQUFULENBQW9CdnRDLEtBQXBCLEVBQTJCc3NDLFFBQTNCLEVBQXFDa0IsYUFBckMsRUFBb0Q7QUFDbEQsUUFBTWpCLElBQUksR0FBR3ZzQyxLQUFLLENBQUNzc0MsUUFBRCxDQUFsQjs7QUFFQSxNQUFJUyxNQUFNLENBQUNDLFFBQVAsSUFBbUI5akMsTUFBTSxDQUFDcWpDLElBQUQsQ0FBN0IsRUFBcUM7QUFDbkMsV0FBTyxJQUFQO0FBQ0Q7O0FBRUQsU0FBTyxJQUFJOXZDLEtBQUosQ0FDSixPQUFNNnZDLFFBQVMscUJBQW9Ca0IsYUFBYyx1QkFEN0MsQ0FBUDtBQUdELEM7O0FDakZEO0FBRUE7QUFFZSxTQUFTQyxnQkFBVCxDQUEwQkMsS0FBMUIsRUFBaUM7QUFDOUMsUUFBTUMsZ0JBQU4sU0FBK0JyVSw0QkFBL0IsQ0FBeUM7QUFDdkNyM0IscUJBQWlCLEdBQUc7QUFDbEIsWUFBTTtBQUFFZ3JDO0FBQUYsVUFBVyxLQUFLcCtCLE9BQXRCOztBQUVBLFVBQUlvK0IsSUFBSixFQUFVO0FBQ1JBLFlBQUksQ0FBQ3ZCLFNBQUwsQ0FBZSxJQUFmO0FBQ0Q7QUFDRjs7QUFFRHByQyx3QkFBb0IsR0FBRztBQUNyQixZQUFNO0FBQUUyc0M7QUFBRixVQUFXLEtBQUtwK0IsT0FBdEI7O0FBRUEsVUFBSW8rQixJQUFKLEVBQVU7QUFDUkEsWUFBSSxDQUFDckIsV0FBTCxDQUFpQixJQUFqQjtBQUNEO0FBQ0Y7QUFFRDtBQUNKO0FBQ0E7OztBQUNJRSxjQUFVLEdBQUc7QUFDWDtBQUNBO0FBQ0EsV0FBSzhCLFdBQUw7QUFDRDtBQUVEO0FBQ0o7QUFDQTs7O0FBQ0kzQixhQUFTLENBQUMvb0MsRUFBRCxFQUFLMUQsSUFBTCxFQUFXMHNDLFFBQVgsRUFBcUI7QUFDNUIsWUFBTTtBQUFFZTtBQUFGLFVBQVcsS0FBS3ArQixPQUF0Qjs7QUFFQSxVQUFJLENBQUNvK0IsSUFBTCxFQUFXO0FBQ1QsZUFBT2YsUUFBUSxJQUFJaHBDLEVBQW5CO0FBQ0Q7O0FBRUQsYUFBTytwQyxJQUFJLENBQUNoQixTQUFMLENBQWUvb0MsRUFBZixFQUFtQjFELElBQW5CLEVBQXlCMHNDLFFBQXpCLENBQVA7QUFDRDs7QUFFRGhyQyxVQUFNLEdBQUc7QUFDUCwwQkFBT3dyQyx3Q0FBYSxDQUNsQmdCLEtBRGtCLEVBRWxCeGtDLE1BQU0sQ0FBQ3NjLE1BQVAsRUFDRTtBQUNBO0FBQUV5bUIsaUJBQVMsRUFBRSxDQUFDLEdBQUd6c0MsSUFBSixLQUFhLEtBQUt5c0MsU0FBTCxDQUFlLEdBQUd6c0MsSUFBbEI7QUFBMUIsT0FGRixFQUdFLEtBQUtRLEtBSFAsQ0FGa0IsQ0FBcEI7QUFRRDs7QUFoRHNDOztBQW1EekMydEMsa0JBQWdCLENBQUNFLFdBQWpCLEdBQWdDLG9CQUFtQkEsV0FBVyxDQUFDSCxLQUFELENBQVEsR0FBdEU7QUFFQUMsa0JBQWdCLENBQUNHLFlBQWpCLEdBQWdDO0FBQzlCYixRQUFJLEVBQUVaLG1CQUFtQkE7QUFESyxHQUFoQztBQUlBLFNBQU9zQixnQkFBUDtBQUNEOztBQUVELFNBQVNFLFdBQVQsQ0FBcUJ4bEMsU0FBckIsRUFBZ0M7QUFDOUIsU0FBT0EsU0FBUyxDQUFDd2xDLFdBQVYsSUFBeUJ4bEMsU0FBUyxDQUFDL0osSUFBbkMsSUFBMkMsV0FBbEQ7QUFDRCxDOztBQ25FRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUEsSUFBSXl2QyxnQkFBZ0IsR0FBRztBQUNyQkMsTUFBSSxFQUFFLElBRGU7QUFFckJDLE1BQUksRUFBRSxJQUZlO0FBR3JCQyxJQUFFLEVBQUUsSUFIaUI7QUFJckJDLEtBQUcsRUFBRSxJQUpnQjtBQUtyQkMsT0FBSyxFQUFFLElBTGM7QUFNckJDLElBQUUsRUFBRSxJQU5pQjtBQU9yQjdxQixLQUFHLEVBQUUsSUFQZ0I7QUFRckIra0IsT0FBSyxFQUFFLElBUmM7QUFTckIrRixRQUFNLEVBQUUsSUFUYTtBQVVyQm5zQixNQUFJLEVBQUUsSUFWZTtBQVdyQjdsQixNQUFJLEVBQUUsSUFYZTtBQVlyQjBRLE9BQUssRUFBRSxJQVpjO0FBYXJCdE8sUUFBTSxFQUFFLElBYmE7QUFjckI2dkMsT0FBSyxFQUFFLElBZGM7QUFlckJDLEtBQUcsRUFBRSxJQWZnQixDQWdCckI7O0FBaEJxQixDQUF2QjtBQW1CZVQsNEVBQWYsRTs7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0NBSUE7QUFDQTs7QUFFQSxJQUFJVSxlQUFlLEdBQUc7QUFDcEJDLFVBQVEsRUFBRSxJQURVO0FBRXBCLEtBQUdYLHVCQUFnQkE7QUFGQyxDQUF0QjtBQUtlVSwwRUFBZixFOztBQ2pCQTtBQUNBO0FBQ0E7Q0FHQTtBQUNBOztBQUNBLE1BQU1FLFFBQVEsR0FBRyxXQUFqQjtBQUVBO0FBQ0E7QUFDQTs7QUFDQSxTQUFTQyxXQUFULENBQXFCNXVDLEtBQXJCLEVBQTRCO0FBQzFCLFFBQU1SLElBQUksR0FBRyxFQUFiO0FBQ0EsUUFBTXF2QyxLQUFLLEdBQUcsRUFBZDs7QUFFQSxPQUFLLE1BQU0sQ0FBQ0MsUUFBRCxFQUFXQyxPQUFYLENBQVgsSUFBa0M3bEMsTUFBTSxDQUFDdVYsT0FBUCxDQUFlemUsS0FBZixDQUFsQyxFQUF5RDtBQUN2RCxRQUFJOHVDLFFBQVEsQ0FBQzU1QixVQUFULENBQW9CLEdBQXBCLENBQUosRUFBOEI7QUFDNUIsWUFBTTVXLElBQUksR0FBR3d3QyxRQUFRLENBQUNFLE1BQVQsQ0FBZ0IsQ0FBaEIsQ0FBYjtBQUNBeHZDLFVBQUksQ0FBQ2xCLElBQUQsQ0FBSixHQUFheXdDLE9BQWI7QUFDRCxLQUhELE1BR08sa0JBQUlFLHlDQUFjLENBQUNGLE9BQUQsQ0FBbEIsRUFBNkI7QUFDbEM7QUFDQTtBQUNBLFlBQU16d0MsSUFBSSxHQUFHd3dDLFFBQVEsQ0FBQzFKLFdBQVQsRUFBYjtBQUNBeUosV0FBSyxDQUFDdndDLElBQUQsQ0FBTCxHQUFjeXdDLE9BQWQ7QUFDRDtBQUNGOztBQUVELFNBQU8sQ0FBQ3Z2QyxJQUFELEVBQU9xdkMsS0FBUCxDQUFQO0FBQ0Q7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ2UsTUFBTUssbUJBQU4sU0FBd0I1Viw0QkFBeEIsQ0FBa0M7QUFDL0NyM0IsbUJBQWlCLEdBQUc7QUFDbEIsVUFBTTtBQUFFZ3JDO0FBQUYsUUFBVyxLQUFLcCtCLE9BQXRCOztBQUVBLFFBQUlvK0IsSUFBSixFQUFVO0FBQ1JBLFVBQUksQ0FBQ3ZCLFNBQUwsQ0FBZSxJQUFmO0FBQ0Q7QUFDRjs7QUFFRHByQyxzQkFBb0IsR0FBRztBQUNyQixVQUFNO0FBQUUyc0M7QUFBRixRQUFXLEtBQUtwK0IsT0FBdEI7O0FBRUEsUUFBSW8rQixJQUFKLEVBQVU7QUFDUkEsVUFBSSxDQUFDckIsV0FBTCxDQUFpQixJQUFqQjtBQUNEO0FBQ0Y7QUFFRDtBQUNGO0FBQ0E7OztBQUNFRSxZQUFVLEdBQUc7QUFDWDtBQUNBO0FBQ0EsU0FBSzhCLFdBQUw7QUFDRDs7QUFFRDFzQyxRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUUrckMsVUFBRjtBQUFRTjtBQUFSLFFBQXdCLEtBQUs5OUIsT0FBbkM7QUFDQSxVQUFNO0FBQUUzTCxRQUFGO0FBQU1pc0MsV0FBTjtBQUFhcHFDLGNBQVEsRUFBRXFxQyxJQUFJLEdBQUc7QUFBOUIsUUFBdUMsS0FBS3B2QyxLQUFsRCxDQUZPLENBSVA7O0FBQ0EsUUFBSWtTLEtBQUssQ0FBQ205QixPQUFOLENBQWNELElBQWQsQ0FBSixFQUF5QjtBQUN2QixZQUFNLElBQUkzeUMsS0FBSixDQUFVLCtDQUNkLGtCQURJLENBQU47QUFFRDs7QUFFRCxRQUFJLENBQUN3d0MsSUFBTCxFQUFXO0FBQ1Q7QUFDQSxhQUFPbUMsSUFBUDtBQUNEOztBQUVELFVBQU1qNUIsTUFBTSxHQUFHODJCLElBQUksQ0FBQ2xCLFNBQUwsQ0FBZTdvQyxFQUFmLENBQWY7O0FBRUEsUUFBSWlULE1BQU0sS0FBSyxJQUFmLEVBQXFCO0FBQ25CO0FBQ0EsYUFBT2k1QixJQUFQO0FBQ0Q7O0FBRUQsVUFBTTNoQyxHQUFHLEdBQUcwSSxNQUFNLENBQUNnMkIsVUFBUCxDQUFrQmpwQyxFQUFsQixDQUFaO0FBQ0EsVUFBTSxDQUFDMUQsSUFBRCxFQUFPcXZDLEtBQVAsSUFBZ0JELFdBQVcsQ0FBQyxLQUFLNXVDLEtBQU4sQ0FBakM7QUFDQSxVQUFNc3ZDLFlBQVksR0FBR241QixNQUFNLENBQUNpMkIsTUFBUCxDQUFjMytCLEdBQWQsRUFBbUJqTyxJQUFuQixDQUFyQixDQXhCTyxDQTBCUDtBQUNBO0FBQ0E7O0FBQ0EsUUFBSSxlQUFDeXZDLHlDQUFjLENBQUNHLElBQUQsQ0FBbkIsRUFBMkI7QUFDekIsYUFBT0UsWUFBUDtBQUNELEtBL0JNLENBaUNQO0FBQ0E7QUFDQTs7O0FBQ0EsUUFBSUgsS0FBSyxJQUFJMWhDLEdBQUcsQ0FBQzBoQyxLQUFqQixFQUF3QjtBQUN0QixVQUFJSSxjQUFjLEdBQUcsRUFBckI7O0FBQ0EsV0FBSyxNQUFNLENBQUNqeEMsSUFBRCxFQUFPa3hDLE9BQVAsQ0FBWCxJQUE4QnRtQyxNQUFNLENBQUN1VixPQUFQLENBQWUwd0IsS0FBZixDQUE5QixFQUFxRDtBQUNuRCxZQUFJSyxPQUFPLElBQUkvaEMsR0FBRyxDQUFDMGhDLEtBQUosQ0FBVU0sY0FBVixDQUF5Qm54QyxJQUF6QixDQUFmLEVBQStDO0FBQzdDaXhDLHdCQUFjLENBQUNqeEMsSUFBRCxDQUFkLEdBQXVCNlgsTUFBTSxDQUFDaTJCLE1BQVAsQ0FBYzMrQixHQUFHLENBQUMwaEMsS0FBSixDQUFVN3dDLElBQVYsQ0FBZCxFQUErQmtCLElBQS9CLENBQXZCO0FBQ0Q7QUFDRjtBQUNGLEtBM0NNLENBNkNQO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxRQUFJNHZDLElBQUksQ0FBQ24wQyxJQUFMLElBQWF5MEMsc0JBQWpCLEVBQWdDO0FBQzlCLDBCQUFPajRCLHVDQUFZLENBQUMyM0IsSUFBRCxFQUFPRyxjQUFQLENBQW5CO0FBQ0QsS0FuRE0sQ0FxRFA7QUFDQTtBQUNBOzs7QUFDQSxRQUFJRCxZQUFZLEtBQUssSUFBckIsRUFBMkI7QUFDekIsMEJBQU83M0IsdUNBQVksQ0FBQzIzQixJQUFELEVBQU9HLGNBQVAsQ0FBbkI7QUFDRCxLQTFETSxDQTREUDtBQUNBOzs7QUFDQSxRQUFJLENBQUNaLFFBQVEsQ0FBQ2dCLElBQVQsQ0FBY0wsWUFBZCxDQUFMLEVBQWtDO0FBQ2hDLDBCQUFPNzNCLHVDQUFZLENBQUMyM0IsSUFBRCxFQUFPRyxjQUFQLEVBQXVCRCxZQUF2QixDQUFuQjtBQUNELEtBaEVNLENBa0VQO0FBQ0E7OztBQUNBLFVBQU1NLGdCQUFnQixHQUFHakQsV0FBVyxDQUFDMkMsWUFBRCxDQUFwQztBQUNBLFVBQU1PLGtCQUFrQixHQUFHRCxnQkFBZ0IsQ0FBQzdtQyxHQUFqQixDQUFxQittQyxTQUFTLElBQUk7QUFDM0QsVUFBSUEsU0FBUyxDQUFDQyxRQUFWLEtBQXVCRCxTQUFTLENBQUNFLFNBQXJDLEVBQWdEO0FBQzlDLGVBQU9GLFNBQVMsQ0FBQ0csV0FBakI7QUFDRCxPQUgwRCxDQUszRDs7O0FBQ0EsVUFBSSxDQUFDcEIsS0FBSyxDQUFDWSxjQUFOLENBQXFCSyxTQUFTLENBQUNJLFNBQS9CLENBQUwsRUFBZ0Q7QUFDOUMsZUFBT0osU0FBUyxDQUFDRyxXQUFqQjtBQUNEOztBQUVELFlBQU1FLFdBQVcsR0FBR3RCLEtBQUssQ0FBQ2lCLFNBQVMsQ0FBQ0ksU0FBWCxDQUF6QixDQVYyRCxDQVkzRDtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxVQUFJQyxXQUFXLENBQUNsMUMsSUFBWixJQUFvQnkwQyxzQkFBeEIsRUFBdUM7QUFDckMsZUFBT1MsV0FBUDtBQUNELE9BbEIwRCxDQW9CM0Q7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLDBCQUFPMTRCLHVDQUFZLENBQUMwNEIsV0FBRCxFQUFjLElBQWQsRUFBb0JMLFNBQVMsQ0FBQ0csV0FBOUIsQ0FBbkI7QUFDRCxLQXpCMEIsQ0FBM0I7QUEyQkEsd0JBQU94NEIsdUNBQVksQ0FBQzIzQixJQUFELEVBQU9HLGNBQVAsRUFBdUIsR0FBR00sa0JBQTFCLENBQW5CO0FBQ0Q7O0FBM0g4QztBQThIakRYLG1CQUFTLENBQUNwQixZQUFWLEdBQXlCO0FBQ3ZCYixNQUFJLEVBQUVaLG1CQURpQjtBQUV2Qk0sYUFBVyxFQUFFUyw0QkFBUyxDQUFDL3RDO0FBRkEsQ0FBekI7QUFLQTZ2QyxtQkFBUyxDQUFDN0IsU0FBVixHQUFzQjtBQUNwQnRvQyxVQUFRLEVBQUVxb0MsNEJBQVMsQ0FBQ2hkO0FBREEsQ0FBdEIsQzs7QUN4TEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7O0FDckJBO0FBQ0E7QUFDQTtBQUVBO0FBRUEsTUFBTWdnQixrQkFBa0IsR0FBRyxDQUFDLE9BQUQsRUFBVSxpQkFBVixDQUEzQjtBQUVPLE1BQU1DLE1BQU0sR0FBR3J3QyxLQUFLLElBQUk7QUFDN0IsUUFBTXNlLEtBQUssR0FBRyxFQUFkLENBRDZCLENBRzdCOztBQUNBLE9BQUssTUFBTWd5QixHQUFYLElBQWtCRixrQkFBbEIsRUFBc0M7QUFDcEMsUUFBSSxPQUFPcHdDLEtBQUssQ0FBQ3N3QyxHQUFELENBQVosS0FBc0IsV0FBMUIsRUFBdUM7QUFDckNoeUIsV0FBSyxDQUFDZ3lCLEdBQUQsQ0FBTCxHQUFhdHdDLEtBQUssQ0FBQ3N3QyxHQUFELENBQWxCO0FBQ0Q7QUFDRixHQVI0QixDQVM3Qjs7O0FBQ0EsTUFBSWh5QixLQUFLLENBQUM4aUIsZUFBVixFQUEyQjtBQUN6QjlpQixTQUFLLENBQUNnQyxNQUFOLEdBQWUsR0FBZjtBQUNEOztBQUVELHNCQUNFO0FBQ0UsV0FBTyxFQUFFdGdCLEtBQUssQ0FBQ2QsT0FEakI7QUFFRSxhQUFTLEVBQUVjLEtBQUssQ0FBQ2lCLFNBQU4sSUFBbUIsMEJBRmhDO0FBR0UsU0FBSyxFQUFFcWQ7QUFIVCxLQUtHdGUsS0FBSyxDQUFDK0UsUUFMVCxDQURGO0FBU0QsQ0F2Qk0sQzs7QUNSUDtBQUNBO0FBQ0E7QUFFQTtBQUNBLE1BQU13ckMsa0JBQWtCLEdBQUcsQ0FBQztBQUFFQyxXQUFGO0FBQWFDLE1BQWI7QUFBbUIxckM7QUFBbkIsQ0FBRCxLQUN6QnlyQyxTQUFTLElBQUlDLElBQWIsR0FBb0JBLElBQUksQ0FBQzFyQyxRQUFELENBQXhCLEdBQXFDQSxRQUR2Qzs7QUFHZXdyQyw0RkFBZixFOzs7Ozs7OztBQ1JBO0FBQ0E7QUFDQTtBQUVPLFNBQVM1aUIsT0FBVCxDQUFpQi9rQixHQUFqQixFQUFzQjtBQUMzQixNQUFJLENBQUNBLEdBQUwsRUFBVTtBQUNSLFdBQU8sRUFBUDtBQUNEOztBQUNELFFBQU07QUFBRWdsQjtBQUFGLE1BQWUsSUFBSS9XLEdBQUosQ0FBUWpPLEdBQVIsQ0FBckI7QUFDQSxRQUFNaWxCLFNBQVMsR0FBRyxDQUNoQixPQURnQixFQUVoQixRQUZnQixFQUdoQixPQUhnQixFQUloQixXQUpnQixFQUtoQixTQUxnQixFQU1oQm5kLFFBTmdCLENBTVBrZCxRQU5PLENBQWxCOztBQU9BLE1BQUksQ0FBQ0MsU0FBTCxFQUFnQjtBQUNkMWUsV0FBTyxDQUFDMmUsSUFBUixDQUFjLGdCQUFlRixRQUFTLG9DQUF0QyxFQURjLENBQzhEO0FBQzdFOztBQUNELFNBQU9DLFNBQVMsR0FBR2psQixHQUFILEdBQVMsRUFBekI7QUFDRCxDOzs7O0FDcEJEO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtDQUdBOztBQUNBLE1BQU04bkMsWUFBWSxHQUFHO0FBQ25CajBCLEdBQUMsZUFBRSxpREFEZ0I7QUFFbkIxSixHQUFDLGVBQUUsaURBRmdCO0FBR25CNDlCLEdBQUMsZUFBRSxpREFIZ0I7QUFJbkJDLFFBQU0sZUFBRSxzREFKVztBQUtuQkMsSUFBRSxlQUFFLGtEQUxlO0FBTW5CM0MsSUFBRSxlQUFFO0FBTmUsQ0FBckI7QUFTQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxTQUFTNEMsWUFBVCxDQUNMaHhCLEtBREssRUFFTC9ILFNBRkssRUFHTGc1QixjQUhLLEVBSUxDLGFBQWEsR0FBRyxLQUpYLEVBS0w7QUFDQSxNQUFJbHhCLEtBQUosRUFBVztBQUNULFdBQU81VyxNQUFNLENBQUNDLElBQVAsQ0FBWTJXLEtBQVosRUFBbUJ4SSxNQUFuQixDQUEwQixDQUFDZ2xCLEdBQUQsRUFBTTJVLE9BQU4sS0FBa0I7QUFDakQsWUFBTTtBQUFFNzBDO0FBQUYsVUFBYTBqQixLQUFLLENBQUNteEIsT0FBRCxDQUF4QixDQURpRCxDQUVqRDs7QUFDQSxZQUFNcm9DLEdBQUcsR0FBR3hNLE1BQU0sR0FBRyxLQUFILEdBQVd1eEIsT0FBTyxDQUFDN04sS0FBSyxDQUFDbXhCLE9BQUQsQ0FBTCxDQUFlcm9DLEdBQWhCLENBQXBDO0FBRUEwekIsU0FBRyxDQUFDMlUsT0FBRCxDQUFIO0FBQUE7QUFDRTtBQUNBO0FBQ0E7QUFDQTtBQUNFLFlBQUksRUFBRXJvQyxHQURSO0FBRUUsY0FBTSxFQUFFb29DLGFBQWEsR0FBRyxRQUFILEdBQWMsRUFGckM7QUFHRSx1QkFBYWx4QixLQUFLLENBQUNteEIsT0FBRCxDQUFMLENBQWVwM0IsTUFIOUI7QUFJRSx1QkFBYXpkLE1BSmY7QUFLRSxxQkFBVzBqQixLQUFLLENBQUNteEIsT0FBRCxDQUFMLENBQWV6eEMsSUFMNUI7QUFNRSxpQ0FBdUJ1eEMsY0FOekI7QUFPRSxnQ0FBc0JqeEIsS0FBSyxDQUFDbXhCLE9BQUQsQ0FBTCxDQUFlbDNCLGVBUHZDO0FBUUUsaUNBQXVCK0YsS0FBSyxDQUFDbXhCLE9BQUQsQ0FBTCxDQUFlajNCLGdCQVJ4QztBQVNFLFdBQUcsRUFBQyxZQVROO0FBVUUsZUFBTyxFQUFFakM7QUFWWCxRQUpGO0FBaUJBLGFBQU91a0IsR0FBUDtBQUNELEtBdkJNLEVBdUJKLEVBdkJJLENBQVA7QUF3QkQ7O0FBRUQsU0FBTyxJQUFQO0FBQ0Q7QUFFRDtBQUNBO0FBQ0E7O0FBQ08sU0FBUzRVLFFBQVQsQ0FBa0JseEMsS0FBbEIsRUFBeUI7QUFDOUIsTUFBSSxDQUFDbXhDLG1DQUFjLENBQUN6Z0MsUUFBZixDQUF3QjFRLEtBQUssQ0FBQ294QyxlQUE5QixDQUFMLEVBQXFEO0FBQ25ELFVBQU0sSUFBSTMwQyxLQUFKLENBQ0gsYUFBWXVELEtBQUssQ0FBQ294QyxlQUFnQix5SEFEL0IsQ0FBTjtBQUdEOztBQUNELHNCQUNFLHVDQUFDLGdCQUFEO0FBQ0UsTUFBRSxFQUFFcHhDLEtBQUssQ0FBQ294QztBQURaLEtBRU1WLFlBRk4sRUFHTTF3QyxLQUFLLENBQUNxeEMsY0FIWixFQUlNUCxZQUFZLENBQ2Q5d0MsS0FBSyxDQUFDOGYsS0FEUSxFQUVkOWYsS0FBSyxDQUFDK1gsU0FGUSxFQUdkL1gsS0FBSyxDQUFDK3dDLGNBSFEsRUFJZC93QyxLQUFLLENBQUNneEMsYUFKUSxDQUpsQixnQkFXRSxxREFBT2h4QyxLQUFLLENBQUNtbEMsSUFBYixDQVhGLENBREY7QUFlRCxDOztBQ25GRDtBQUNBO0FBQ0E7QUFFQTtBQUVPLE1BQU1tTSx1QkFBTixTQUEwQnp4Qyx3QkFBSyxDQUFDQyxhQUFoQyxDQUE4QztBQUNuREMsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUt1eEMsY0FBTCxHQUFzQixLQUFLQSxjQUFMLENBQW9CbnhDLElBQXBCLENBQXlCLElBQXpCLENBQXRCO0FBQ0EsU0FBS294QyxnQkFBTCxHQUF3QixLQUFLQSxnQkFBTCxDQUFzQnB4QyxJQUF0QixDQUEyQixJQUEzQixDQUF4QjtBQUNBLFNBQUtxeEMsaUJBQUwsR0FBeUIsS0FBS0EsaUJBQUwsQ0FBdUJyeEMsSUFBdkIsQ0FBNEIsSUFBNUIsQ0FBekI7QUFDQSxTQUFLc3hDLHVCQUFMLEdBQStCLEtBQUtBLHVCQUFMLENBQTZCdHhDLElBQTdCLENBQWtDLElBQWxDLENBQS9CO0FBQ0EsU0FBS3V4Qyx1QkFBTCxHQUErQixLQUFLQSx1QkFBTCxDQUE2QnZ4QyxJQUE3QixDQUFrQyxJQUFsQyxDQUEvQjtBQUNBLFNBQUtILEtBQUwsR0FBYTtBQUFFMnhDLHNCQUFnQixFQUFFO0FBQXBCLEtBQWI7QUFDRDs7QUFFRDN2QyxtQkFBaUIsR0FBRztBQUNsQixRQUFJLEtBQUs0dkMsY0FBVCxFQUF5QjtBQUN2QixXQUFLQSxjQUFMLENBQW9CdDJDLGdCQUFwQixDQUNFLFlBREYsRUFFRSxLQUFLbTJDLHVCQUZQO0FBSUEsV0FBS0csY0FBTCxDQUFvQnQyQyxnQkFBcEIsQ0FDRSxZQURGLEVBRUUsS0FBS28yQyx1QkFGUDtBQUlEO0FBQ0Y7O0FBRURyeEMsc0JBQW9CLEdBQUc7QUFDckIsUUFBSSxLQUFLdXhDLGNBQVQsRUFBeUI7QUFDdkIsV0FBS0EsY0FBTCxDQUFvQjN2QyxtQkFBcEIsQ0FDRSxZQURGLEVBRUUsS0FBS3d2Qyx1QkFGUDtBQUlBLFdBQUtHLGNBQUwsQ0FBb0IzdkMsbUJBQXBCLENBQ0UsWUFERixFQUVFLEtBQUt5dkMsdUJBRlA7QUFJRDtBQUNGOztBQUVERixtQkFBaUIsQ0FBQ3ZoQixPQUFELEVBQVU7QUFDekIsU0FBSzJoQixjQUFMLEdBQXNCM2hCLE9BQXRCO0FBQ0Q7O0FBRUR3aEIseUJBQXVCLEdBQUc7QUFDeEIsU0FBS3J4QyxRQUFMLENBQWM7QUFBRXV4QyxzQkFBZ0IsRUFBRTtBQUFwQixLQUFkO0FBQ0Q7O0FBRURELHlCQUF1QixHQUFHO0FBQ3hCLFNBQUt0eEMsUUFBTCxDQUFjO0FBQUV1eEMsc0JBQWdCLEVBQUU7QUFBcEIsS0FBZDtBQUNEOztBQUVETCxnQkFBYyxHQUFHO0FBQ2YsUUFBSSxLQUFLdnhDLEtBQUwsQ0FBV3lQLFFBQVgsS0FBd0IsU0FBNUIsRUFBdUM7QUFDckMsV0FBS3pQLEtBQUwsQ0FBV2lZLHVCQUFYLENBQW1DO0FBQ2pDMVYsYUFBSyxFQUFFLE9BRDBCO0FBRWpDVyxVQUFFLEVBQUUsS0FBS2xELEtBQUwsQ0FBVzh4QztBQUZrQixPQUFuQztBQUlEOztBQUVELFNBQUs5eEMsS0FBTCxDQUFXK3hDLE9BQVg7QUFDRDs7QUFFRFAsa0JBQWdCLEdBQUc7QUFDakIsUUFBSSxLQUFLeHhDLEtBQUwsQ0FBV3lQLFFBQVgsS0FBd0IsU0FBNUIsRUFBdUM7QUFDckMsV0FBS3pQLEtBQUwsQ0FBV2lZLHVCQUFYLENBQW1DO0FBQ2pDMVYsYUFBSyxFQUFFLFNBRDBCO0FBRWpDVyxVQUFFLEVBQUUsS0FBS2xELEtBQUwsQ0FBVzh4QztBQUZrQixPQUFuQztBQUlEOztBQUVELFNBQUs5eEMsS0FBTCxDQUFXc1ksU0FBWDtBQUNEOztBQUVEMDVCLHFCQUFtQixHQUFHO0FBQ3BCLFFBQUksS0FBS2h5QyxLQUFMLENBQVdpeUMsYUFBZixFQUE4QjtBQUM1QiwwQkFDRTtBQUFLLGlCQUFTLEVBQUM7QUFBZixzQkFDRTtBQUFLLGlCQUFTLEVBQUM7QUFBZixzQkFDRTtBQUNFLGlCQUFTLEVBQUMsMEJBRFo7QUFFRSxlQUFPLEVBQUUsS0FBS1Q7QUFGaEIsU0FJRyxLQUFLeHhDLEtBQUwsQ0FBVzBNLE9BQVgsQ0FBbUJ3bEMsMEJBSnRCLENBREYsQ0FERixDQURGO0FBWUQ7O0FBRUQsVUFBTWgvQixLQUFLLEdBQUcsS0FBS2xULEtBQUwsQ0FBVzBNLE9BQVgsQ0FBbUJ5bEMsaUJBQW5CLElBQXdDLGFBQXREO0FBQ0Esd0JBQ0U7QUFDRSxlQUFTLEVBQUMsYUFEWjtBQUVFLFdBQUssRUFBRWovQixLQUZUO0FBR0Usb0JBQVlBLEtBSGQ7QUFJRSxhQUFPLEVBQUUsS0FBS3ErQixjQUpoQjtBQUtFLFNBQUcsRUFBRSxLQUFLRTtBQUxaLE1BREY7QUFTRDs7QUFFRHZ3QyxRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUVsQjtBQUFGLFFBQVksSUFBbEI7QUFDQSxVQUFNO0FBQUU0eEM7QUFBRixRQUF1QixLQUFLM3hDLEtBQWxDO0FBRUEsVUFBTW15QyxrQkFBa0IsR0FBSSx1QkFDMUJweUMsS0FBSyxDQUFDaUIsU0FBTixHQUFtQixJQUFHakIsS0FBSyxDQUFDaUIsU0FBVSxFQUF0QyxHQUEwQyxFQUMzQyxHQUFFMndDLGdCQUFnQixHQUFHLFNBQUgsR0FBZSxFQUFHLEVBRnJDO0FBSUEsd0JBQ0U7QUFBSyxlQUFTLEVBQUVRLGtCQUFoQjtBQUFvQyxXQUFLLEVBQUUsS0FBS3B5QyxLQUFMLENBQVdxeUM7QUFBdEQsb0JBQ0U7QUFBSyxlQUFTLEVBQUM7QUFBZixPQUErQnJ5QyxLQUFLLENBQUMrRSxRQUFyQyxDQURGLEVBRUcsS0FBS2l0QyxtQkFBTCxFQUZILENBREY7QUFNRDs7QUFqSGtELEM7Ozs7QUNOckQ7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTU0saUJBQWlCLEdBQUcsc0NBQTFCLEMsQ0FDQTs7QUFDQSxNQUFNQyxhQUFhLEdBQUcsRUFBdEI7QUFFTyxNQUFNQywyQkFBTixTQUE0QjN5Qyx3QkFBSyxDQUFDQyxhQUFsQyxDQUFnRDtBQUNyREMsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUt5eUMsYUFBTCxHQUFxQixLQUFLQSxhQUFMLENBQW1CcnlDLElBQW5CLENBQXdCLElBQXhCLENBQXJCO0FBQ0Q7O0FBRURxeUMsZUFBYSxHQUFHO0FBQ2QsUUFBSSxLQUFLenlDLEtBQUwsQ0FBV3lQLFFBQVgsS0FBd0IsU0FBNUIsRUFBdUM7QUFDckMsV0FBS3pQLEtBQUwsQ0FBV2lZLHVCQUFYLENBQW1DO0FBQ2pDMVYsYUFBSyxFQUFFLGNBRDBCO0FBRWpDVyxVQUFFLEVBQUUsS0FBS2xELEtBQUwsQ0FBVzh4QztBQUZrQixPQUFuQztBQUlEOztBQUNELFVBQU07QUFDSlksZ0JBREk7QUFFSkMsNkJBRkk7QUFHSkM7QUFISSxRQUlGLEtBQUs1eUMsS0FBTCxDQUFXME0sT0FKZixDQVBjLENBWWQ7O0FBQ0EsVUFBTXpSLElBQUksR0FBRyxLQUFLK0UsS0FBTCxDQUFXME0sT0FBWCxDQUFtQnFKLGFBQW5CLElBQXFDMjhCLFVBQVUsSUFBSSxVQUFoRSxDQWJjLENBY2Q7O0FBQ0EsVUFBTXo0QixVQUFVLEdBQUcyNEIsc0JBQXNCLEdBQ3JDLElBQUloOEIsZUFBSixDQUFvQixDQUNsQixDQUFDZzhCLHNCQUFELEVBQXlCRCx1QkFBekIsQ0FEa0IsQ0FBcEIsRUFFRzM1QixRQUZILEVBRHFDLEdBSXJDMjVCLHVCQUpKO0FBS0EsU0FBSzN5QyxLQUFMLENBQVc2eUMsUUFBWCxDQUFvQjtBQUNsQjUzQyxVQURrQjtBQUVsQnlDLFVBQUksRUFBRTtBQUNKOEIsWUFBSSxFQUFFLEtBQUtRLEtBQUwsQ0FBVzBNLE9BQVgsQ0FBbUJvbUMsa0JBQW5CLElBQXlDSixVQUQzQztBQUVKLFlBQUl6NEIsVUFBVSxJQUFJO0FBQUVBO0FBQUYsU0FBbEI7QUFGSTtBQUZZLEtBQXBCOztBQU9BLFFBQUksQ0FBQyxLQUFLamEsS0FBTCxDQUFXME0sT0FBWCxDQUFtQndOLGdCQUF4QixFQUEwQztBQUN4QyxXQUFLbGEsS0FBTCxDQUFXK3hDLE9BQVg7QUFDRDtBQUNGOztBQUVEZ0IscUJBQW1CLEdBQUc7QUFDcEIsV0FDRSxLQUFLL3lDLEtBQUwsQ0FBVzBNLE9BQVgsQ0FBbUJxSixhQUFuQixJQUNBLEtBQUsvVixLQUFMLENBQVd5eUMsYUFEWCxJQUVBLEtBQUt6eUMsS0FBTCxDQUFXME0sT0FBWCxDQUFtQmdtQyxVQUhyQjtBQUtEOztBQUVETSxhQUFXLEdBQUc7QUFDWixVQUFNO0FBQUV6ekI7QUFBRixRQUFZLEtBQUt2ZixLQUFMLENBQVcwTSxPQUE3QjtBQUNBLFdBQU82UyxLQUFLLGdCQUNWO0FBQ0UsZUFBUyxFQUFHLFNBQVEsS0FBS3d6QixtQkFBTCxLQUE2QixjQUE3QixHQUE4QyxFQUFHO0FBRHZFLE9BR0csS0FBS0UsZUFBTCxFQUhILE9BRzRCMXpCLEtBSDVCLENBRFUsR0FNUixJQU5KO0FBT0Q7O0FBRUQwekIsaUJBQWUsR0FBRztBQUNoQixVQUFNQyxjQUFjLEdBQUd2bEIsT0FBTyxDQUFDLEtBQUszdEIsS0FBTCxDQUFXME0sT0FBWCxDQUFtQnltQyxVQUFwQixDQUE5QjtBQUNBLFVBQU1DLGFBQWEsR0FBR3psQixPQUFPLENBQzNCLEtBQUszdEIsS0FBTCxDQUFXME0sT0FBWCxDQUFtQjJtQyxxQkFBbkIsSUFBNEMsS0FBS3J6QyxLQUFMLENBQVcwTSxPQUFYLENBQW1CeW1DLFVBRHBDLENBQTdCOztBQUdBLFFBQUksQ0FBQ0QsY0FBTCxFQUFxQjtBQUNuQixhQUFPLElBQVA7QUFDRDs7QUFFRCx3QkFDRSx1Q0FBQyx3QkFBRCxDQUFPLFFBQVAscUJBQ0U7QUFDRSxlQUFTLEVBQUMsNEJBRFo7QUFFRSxXQUFLLEVBQUU7QUFBRXpoQix1QkFBZSxFQUFHLFFBQU95aEIsY0FBZTtBQUExQztBQUZULE1BREYsZUFLRTtBQUNFLGVBQVMsRUFBQywyQkFEWjtBQUVFLFdBQUssRUFBRTtBQUFFemhCLHVCQUFlLEVBQUcsUUFBTzJoQixhQUFjO0FBQXpDO0FBRlQsTUFMRixDQURGO0FBWUQ7O0FBRURFLGNBQVksR0FBRztBQUNiLFVBQU07QUFBRXR6QztBQUFGLFFBQVksSUFBbEI7O0FBQ0EsUUFBSSxDQUFDLEtBQUsreUMsbUJBQUwsRUFBTCxFQUFpQztBQUMvQixhQUFPLElBQVA7QUFDRDs7QUFFRCx3QkFDRSx1Q0FBQyxNQUFEO0FBQ0UsYUFBTyxFQUFFL3lDLEtBQUssQ0FBQ3l5QyxhQUFOLElBQXVCLEtBQUtBLGFBRHZDO0FBRUUsV0FBSyxFQUFFenlDLEtBQUssQ0FBQzBNLE9BQU4sQ0FBYzZtQyxZQUZ2QjtBQUdFLHFCQUFlLEVBQUV2ekMsS0FBSyxDQUFDME0sT0FBTixDQUFjOG1DO0FBSGpDLE9BS0d4ekMsS0FBSyxDQUFDME0sT0FBTixDQUFjK21DLFlBTGpCLENBREY7QUFTRDs7QUFFREMsWUFBVSxHQUFHO0FBQ1gsVUFBTTtBQUFFMXpDO0FBQUYsUUFBWSxJQUFsQjtBQUNBLHdCQUNFLHVDQUFDLFFBQUQ7QUFDRSxVQUFJLEVBQUVBLEtBQUssQ0FBQzBNLE9BQU4sQ0FBY3k0QixJQUR0QjtBQUVFLG9CQUFjLEVBQUUsS0FBS25sQyxLQUFMLENBQVdxeEMsY0FGN0I7QUFHRSxxQkFBZSxFQUFDLE1BSGxCO0FBSUUsV0FBSyxFQUFFcnhDLEtBQUssQ0FBQzBNLE9BQU4sQ0FBY29ULEtBSnZCO0FBS0UsZUFBUyxFQUFFOWYsS0FBSyxDQUFDK1g7QUFMbkIsTUFERjtBQVNEOztBQUVENDdCLG1CQUFpQixDQUFDL3FDLEdBQUQsRUFBTTtBQUNyQixXQUFPLFVBQVM3RCxRQUFULEVBQW1CO0FBQ3hCLDBCQUFPO0FBQUcsWUFBSSxFQUFFNkQ7QUFBVCxTQUFlN0QsUUFBZixDQUFQO0FBQ0QsS0FGRDtBQUdEOztBQUVENnVDLG9CQUFrQixDQUFDN3VDLFFBQUQsRUFBVztBQUMzQix3QkFBTztBQUFLLGVBQVMsRUFBQztBQUFmLE9BQXNDQSxRQUF0QyxDQUFQO0FBQ0Q7O0FBRUQ4dUMscUJBQW1CLEdBQUc7QUFDcEIsVUFBTTtBQUFFN3pDO0FBQUYsUUFBWSxJQUFsQixDQURvQixDQUdwQjs7QUFDQSxRQUFJQSxLQUFLLENBQUMwTSxPQUFOLENBQWNvbkMsa0JBQWQsSUFBb0M5ekMsS0FBSyxDQUFDME0sT0FBTixDQUFjcW5DLGtCQUF0RCxFQUEwRTtBQUN4RSxZQUFNQyxxQkFBcUIsR0FBR3JtQixPQUFPLENBQUMzdEIsS0FBSyxDQUFDME0sT0FBTixDQUFjb25DLGtCQUFmLENBQXJDO0FBQ0EsWUFBTUcsb0JBQW9CLEdBQUd0bUIsT0FBTyxDQUNsQzN0QixLQUFLLENBQUMwTSxPQUFOLENBQWN3bkMsNkJBQWQsSUFDRWwwQyxLQUFLLENBQUMwTSxPQUFOLENBQWNvbkMsa0JBRmtCLENBQXBDO0FBSUEsWUFBTUssZUFBZSxHQUFHbjBDLEtBQUssQ0FBQzBNLE9BQU4sQ0FBYzBuQyxpQkFBdEM7QUFFQSwwQkFDRTtBQUFLLGlCQUFTLEVBQUM7QUFBZixzQkFDRTtBQUFJLGlCQUFTLEVBQUM7QUFBZCxzQkFDRSx1Q0FBQyxxQ0FBRDtBQUNFLGlCQUFTLEVBQUVELGVBRGI7QUFFRSxZQUFJLEVBQUUsS0FBS1IsaUJBQUwsQ0FBdUJRLGVBQXZCO0FBRlIsc0JBSUU7QUFDRSxpQkFBUyxFQUFDLHlDQURaO0FBRUUsYUFBSyxFQUFFO0FBQUUxaUIseUJBQWUsRUFBRyxRQUFPdWlCLHFCQUFzQjtBQUFqRDtBQUZULFFBSkYsZUFRRTtBQUNFLGlCQUFTLEVBQUMsd0NBRFo7QUFFRSxhQUFLLEVBQUU7QUFBRXZpQix5QkFBZSxFQUFHLFFBQU93aUIsb0JBQXFCO0FBQWhEO0FBRlQsUUFSRixlQVlFO0FBQU0saUJBQVMsRUFBQztBQUFoQixTQUNHajBDLEtBQUssQ0FBQzBNLE9BQU4sQ0FBY3FuQyxrQkFEakIsQ0FaRixDQURGLENBREYsQ0FERjtBQXNCRDs7QUFFRCxXQUFPLElBQVA7QUFDRDs7QUFFRDd5QyxRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUVsQjtBQUFGLFFBQVksSUFBbEI7QUFDQSxVQUFNcTBDLGFBQWEsR0FBRyxLQUFLUixtQkFBTCxFQUF0QjtBQUNBLFFBQUk1eUMsU0FBUyxHQUFHLGVBQWhCOztBQUVBLFFBQUlqQixLQUFLLENBQUNpQixTQUFWLEVBQXFCO0FBQ25CQSxlQUFTLElBQUssSUFBR2pCLEtBQUssQ0FBQ2lCLFNBQVUsRUFBakM7QUFDRDs7QUFDRCxRQUFJakIsS0FBSyxDQUFDME0sT0FBTixDQUFjNG5DLElBQWxCLEVBQXdCO0FBQ3RCcnpDLGVBQVMsSUFBSSxPQUFiO0FBQ0Q7O0FBQ0QsUUFBSW96QyxhQUFKLEVBQW1CO0FBQ2pCcHpDLGVBQVMsSUFBSSxxQkFBYjtBQUNEOztBQUVELHdCQUNFO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0UsdUNBQUMsdUJBQUQsNEJBQ01qQixLQUROO0FBRUUsZUFBUyxFQUFFaUIsU0FGYjtBQUdFLGVBQVMsRUFBRSxLQUFLakIsS0FBTCxDQUFXcXlDO0FBSHhCLFFBS0dnQyxhQUxILGVBTUUsdUNBQUMscUNBQUQ7QUFDRSxlQUFTLEVBQUVBLGFBRGI7QUFFRSxVQUFJLEVBQUUsS0FBS1Q7QUFGYixvQkFJRTtBQUNFLFNBQUcsRUFBRWptQixPQUFPLENBQUMzdEIsS0FBSyxDQUFDME0sT0FBTixDQUFjdk4sSUFBZixDQUFQLElBQStCbXpDLGlCQUR0QztBQUVFLGVBQVMsRUFBQyx1QkFGWjtBQUdFLFNBQUcsRUFBRXR5QyxLQUFLLENBQUMwTSxPQUFOLENBQWM2bkMsYUFBZCxJQUErQmhDO0FBSHRDLE1BSkYsZUFTRTtBQUNFLFNBQUcsRUFDRDVrQixPQUFPLENBQUMzdEIsS0FBSyxDQUFDME0sT0FBTixDQUFjOG5DLGVBQWQsSUFBaUN4MEMsS0FBSyxDQUFDME0sT0FBTixDQUFjdk4sSUFBaEQsQ0FBUCxJQUNBbXpDLGlCQUhKO0FBS0UsZUFBUyxFQUFDLHNCQUxaO0FBTUUsU0FBRyxFQUFFdHlDLEtBQUssQ0FBQzBNLE9BQU4sQ0FBYzZuQyxhQUFkLElBQStCaEM7QUFOdEMsTUFURixlQWlCRSxvREFDRyxLQUFLUyxXQUFMLEVBREgsb0JBQ3VCO0FBQUcsZUFBUyxFQUFDO0FBQWIsT0FBcUIsS0FBS1UsVUFBTCxFQUFyQixDQUR2QixFQUVHLEtBQUsxekMsS0FBTCxDQUFXeTBDLFlBRmQsQ0FqQkYsZUFxQkcsb0RBQU0sS0FBS25CLFlBQUwsRUFBTixDQXJCSCxDQU5GLENBREYsQ0FERjtBQWtDRDs7QUFoTm9ELEM7Ozs7QUNmdkQ7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFFQSxNQUFNb0IseUJBQU4sU0FBNkI3MEMsd0JBQUssQ0FBQ0MsYUFBbkMsQ0FBaUQ7QUFDL0NDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLMjBDLFlBQUwsR0FBb0IsS0FBS0EsWUFBTCxDQUFrQnYwQyxJQUFsQixDQUF1QixJQUF2QixDQUFwQjtBQUNEO0FBRUQ7QUFDRjtBQUNBO0FBQ0E7OztBQUNFdzBDLG1CQUFpQixHQUFHO0FBQ2xCLFVBQU1DLGlCQUFpQixHQUFHLEtBQUs5bEMsSUFBTCxDQUFVK2xDLElBQVYsQ0FBZTk1QixhQUFmLENBQTZCLG1CQUE3QixDQUExQjs7QUFDQSxRQUFJNjVCLGlCQUFpQixDQUFDdnVDLE9BQXRCLEVBQStCO0FBQzdCLFdBQUt5SSxJQUFMLENBQVUrbEMsSUFBVixDQUFlOTVCLGFBQWYsQ0FBNkIsb0JBQTdCLEVBQW1EemMsS0FBbkQsR0FBMkQsU0FBM0Q7QUFDRDtBQUNGOztBQUVEbzJDLGNBQVksQ0FBQ3B5QyxLQUFELEVBQVE7QUFDbEJBLFNBQUssQ0FBQzJOLGNBQU47QUFDQSxTQUFLbFEsS0FBTCxDQUFXK1gsU0FBWCxDQUFxQnhWLEtBQXJCO0FBQ0EsU0FBS3F5QyxpQkFBTDs7QUFDQSxRQUFJLENBQUMsS0FBSzUwQyxLQUFMLENBQVcwTSxPQUFYLENBQW1Cd04sZ0JBQXhCLEVBQTBDO0FBQ3hDLFdBQUtsYSxLQUFMLENBQVcreEMsT0FBWDtBQUNEOztBQUNELFNBQUtoakMsSUFBTCxDQUFVK2xDLElBQVYsQ0FBZUMsTUFBZjtBQUNEOztBQUVEQyxpQkFBZSxHQUFHO0FBQ2hCLFVBQU1DLFVBQVUsR0FBRyxDQUFDLE9BQUQsRUFBVSxRQUFWLEVBQW9CLE9BQXBCLEVBQTZCLFFBQTdCLENBQW5CO0FBQ0EsVUFBTUMsWUFBWSxHQUFHLElBQUlDLElBQUksQ0FBQ0MsWUFBVCxDQUNuQixLQUFLcDFDLEtBQUwsQ0FBVzBNLE9BQVgsQ0FBbUIvSCxNQUFuQixJQUE2QjB3QyxTQUFTLENBQUNDLFFBRHBCLEVBRW5CO0FBQ0VoM0IsV0FBSyxFQUFFLFVBRFQ7QUFFRWkzQixjQUFRLEVBQUUsS0FBS3YxQyxLQUFMLENBQVcwTSxPQUFYLENBQW1COG9DLGFBRi9CO0FBR0VDLDJCQUFxQixFQUFFO0FBSHpCLEtBRm1CLENBQXJCLENBRmdCLENBVWhCOztBQUNBLFVBQU07QUFBRUM7QUFBRixRQUFzQixLQUFLMTFDLEtBQUwsQ0FBVzBNLE9BQXZDO0FBQ0EsVUFBTWlwQyxRQUFRLEdBQUc7QUFDZkMsV0FBSyxFQUFFLEtBQUs1MUMsS0FBTCxDQUFXME0sT0FBWCxDQUFtQjZtQyxZQURYO0FBRWZuUyxxQkFBZSxFQUFFLEtBQUtwaEMsS0FBTCxDQUFXME0sT0FBWCxDQUFtQjhtQztBQUZyQixLQUFqQjtBQUlBLFVBQU1xQyxpQkFBaUIsR0FBRyxFQUExQjtBQUNBLFVBQU1DLGdCQUFnQixHQUFHLEtBQUs5MUMsS0FBTCxDQUFXME0sT0FBWCxDQUFtQnFwQyxpQkFBbkIsQ0FBcUNob0MsT0FBckMsQ0FBNkMsR0FBN0MsQ0FBekI7O0FBQ0EsU0FBSyxNQUFNZ2YsS0FBWCxJQUFvQixJQUFJblcsZUFBSixDQUNsQixLQUFLNVcsS0FBTCxDQUFXME0sT0FBWCxDQUFtQnFwQyxpQkFBbkIsQ0FBcUM5bkMsS0FBckMsQ0FBMkM2bkMsZ0JBQTNDLENBRGtCLEVBRWxCcjNCLE9BRmtCLEVBQXBCLEVBRWE7QUFDWG8zQix1QkFBaUIsQ0FBQzlqQyxJQUFsQixDQUF1QmdiLEtBQXZCO0FBQ0Q7O0FBRUQsd0JBQ0U7QUFDRSxlQUFTLEVBQUMsZ0JBRFo7QUFFRSxZQUFNLEVBQUUsS0FBSy9zQixLQUFMLENBQVcwTSxPQUFYLENBQW1CcXBDLGlCQUY3QjtBQUdFLFlBQU0sRUFBRSxLQUFLLzFDLEtBQUwsQ0FBV2cyQyxXQUhyQjtBQUlFLGNBQVEsRUFBRSxLQUFLckIsWUFKakI7QUFLRSxxQkFBWSxnQkFMZDtBQU1FLFNBQUcsRUFBQztBQU5OLE9BUUdrQixpQkFBaUIsQ0FBQzlzQyxHQUFsQixDQUFzQixDQUFDLENBQUN0RyxHQUFELEVBQU1sRSxLQUFOLENBQUQsRUFBZTAzQyxHQUFmLGtCQUNyQjtBQUFPLFVBQUksRUFBQyxRQUFaO0FBQXFCLFVBQUksRUFBRXh6QyxHQUEzQjtBQUFnQyxXQUFLLEVBQUVsRSxLQUF2QztBQUE4QyxTQUFHLEVBQUUwM0M7QUFBbkQsTUFERCxDQVJILEVBV0doQixVQUFVLENBQUNsc0MsR0FBWCxDQUFlLENBQUNtdEMsS0FBRCxFQUFRRCxHQUFSLEtBQWdCO0FBQzlCLFlBQU1FLFdBQVcsR0FBSSxtQkFBa0JELEtBQU0sRUFBN0M7QUFDQSxZQUFNRSxNQUFNLEdBQUcsS0FBS3AyQyxLQUFMLENBQVcwTSxPQUFYLENBQW1CeXBDLFdBQW5CLENBQWY7QUFDQSwwQkFDRSx1Q0FBQyx3QkFBRCxDQUFPLFFBQVA7QUFBZ0IsV0FBRyxFQUFFRjtBQUFyQixzQkFDRTtBQUNFLFlBQUksRUFBQyxPQURQO0FBRUUsWUFBSSxFQUFDLFFBRlA7QUFHRSxhQUFLLEVBQUVHLE1BSFQ7QUFJRSxVQUFFLEVBQUVGLEtBSk47QUFLRSxzQkFBYyxFQUFFQyxXQUFXLEtBQUtUO0FBTGxDLFFBREYsZUFRRTtBQUFPLGVBQU8sRUFBRVEsS0FBaEI7QUFBdUIsaUJBQVMsRUFBQztBQUFqQyxTQUNHaEIsWUFBWSxDQUFDOUksTUFBYixDQUFvQmdLLE1BQXBCLENBREgsQ0FSRixDQURGO0FBY0QsS0FqQkEsQ0FYSCxlQThCRTtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFO0FBQU8sUUFBRSxFQUFDLGtCQUFWO0FBQTZCLFVBQUksRUFBQztBQUFsQyxNQURGLGVBRUU7QUFBTyxhQUFPLEVBQUM7QUFBZixPQUNHLEtBQUtwMkMsS0FBTCxDQUFXME0sT0FBWCxDQUFtQjJwQywyQkFEdEIsQ0FGRixDQTlCRixlQXFDRTtBQUFPLFVBQUksRUFBQyxRQUFaO0FBQXFCLFVBQUksRUFBQyxXQUExQjtBQUFzQyxXQUFLLEVBQUM7QUFBNUMsTUFyQ0YsZUFzQ0U7QUFDRSxVQUFJLEVBQUMsUUFEUDtBQUVFLFVBQUksRUFBQyxVQUZQO0FBR0UsV0FBSyxFQUFFLEtBQUtyMkMsS0FBTCxDQUFXME0sT0FBWCxDQUFtQjhvQztBQUg1QixNQXRDRixlQTJDRTtBQUNFLFVBQUksRUFBQyxRQURQO0FBRUUsVUFBSSxFQUFDLFNBRlA7QUFHRSxXQUFLLEVBQUVQLFVBQVUsQ0FBQ2xzQyxHQUFYLENBQ0xtdEMsS0FBSyxJQUFJLEtBQUtsMkMsS0FBTCxDQUFXME0sT0FBWCxDQUFvQixtQkFBa0J3cEMsS0FBTSxFQUE1QyxDQURKO0FBSFQsTUEzQ0YsZUFrREU7QUFDRSxXQUFLLEVBQUVQLFFBRFQ7QUFFRSxVQUFJLEVBQUMsUUFGUDtBQUdFLGVBQVMsRUFBQztBQUhaLE9BS0csS0FBSzMxQyxLQUFMLENBQVcwTSxPQUFYLENBQW1CK21DLFlBTHRCLENBbERGLENBREY7QUE0REQ7O0FBRUR2eUMsUUFBTSxHQUFHO0FBQ1AsVUFBTW14QyxTQUFTLEdBQUc7QUFDaEJ1RCxXQUFLLEVBQUUsS0FBSzUxQyxLQUFMLENBQVcwTSxPQUFYLENBQW1CNHBDLFVBRFY7QUFFaEJsVixxQkFBZSxFQUFFLEtBQUtwaEMsS0FBTCxDQUFXME0sT0FBWCxDQUFtQjZwQztBQUZwQixLQUFsQjtBQUlBLFVBQU1DLGFBQWEsZ0JBQ2pCO0FBQUksV0FBSyxFQUFFO0FBQUVwVix1QkFBZSxFQUFFLEtBQUtwaEMsS0FBTCxDQUFXME0sT0FBWCxDQUFtQitwQztBQUF0QztBQUFYLE1BREY7QUFHQSx3QkFDRSx1Q0FBQywyQkFBRCx5QkFDTSxLQUFLejJDLEtBRFg7QUFFRSxlQUFTLEVBQUUsS0FBS0EsS0FBTCxDQUFXME0sT0FBWCxDQUFtQmlqQyxJQUZoQztBQUdFLG9CQUFjLEVBQUU7QUFBRWtCLFVBQUUsRUFBRTJGO0FBQU4sT0FIbEI7QUFJRSxlQUFTLEVBQUVuRSxTQUpiO0FBS0Usa0JBQVksRUFBRSxLQUFLMkMsZUFBTDtBQUxoQixPQURGO0FBU0Q7O0FBbEk4Qzs7QUFxSTFDLE1BQU0wQixVQUFVLEdBQUcxMkMsS0FBSyxJQUFJO0FBQ2pDLFFBQU0yMkMsZUFBZSxHQUFHO0FBQ3RCTiwrQkFBMkIsRUFBRSwwQkFEUDtBQUV0QjF4QyxVQUFNLEVBQUUsT0FGYztBQUd0QjZ3QyxpQkFBYSxFQUFFLEtBSE87QUFJdEJFLG1CQUFlLEVBQUUsd0JBSks7QUFLdEIsT0FBRzExQyxLQUFLLENBQUMwTTtBQUxhLEdBQXhCO0FBUUEsc0JBQ0UsdUNBQUMseUJBQUQseUJBQW9CMU0sS0FBcEI7QUFBMkIsV0FBTyxFQUFFMjJDLGVBQXBDO0FBQXFELGVBQVcsRUFBQztBQUFqRSxLQURGO0FBR0QsQ0FaTSxDOzs7O0FDNUlQO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtDQUdBOztBQUNBLE1BQU1wRSwrQkFBYSxHQUFHLEVBQXRCO0FBRU8sTUFBTXFFLG1DQUFOLFNBQWdDLzJDLHdCQUFLLENBQUNDLGFBQXRDLENBQW9EO0FBQ3pEQyxhQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNqQixVQUFNQSxLQUFOO0FBQ0EsU0FBSzYyQyxhQUFMLEdBQXFCLEtBQUtBLGFBQUwsQ0FBbUJ6MkMsSUFBbkIsQ0FBd0IsSUFBeEIsQ0FBckI7QUFDQSxTQUFLdTBDLFlBQUwsR0FBb0IsS0FBS0EsWUFBTCxDQUFrQnYwQyxJQUFsQixDQUF1QixJQUF2QixDQUFwQjtBQUNBLFNBQUswMkMsbUJBQUwsR0FBMkIsS0FBS0EsbUJBQUwsQ0FBeUIxMkMsSUFBekIsQ0FBOEIsSUFBOUIsQ0FBM0I7QUFDQSxTQUFLMjJDLGFBQUwsR0FBcUIsS0FBS0EsYUFBTCxDQUFtQjMyQyxJQUFuQixDQUF3QixJQUF4QixDQUFyQjtBQUNBLFNBQUtILEtBQUwsR0FBYTtBQUNYKzJDLGNBQVEsRUFBRSxLQURDO0FBRVhDLHFCQUFlLEVBQUUsS0FGTjtBQUdYQyxxQkFBZSxFQUFFLEtBSE47QUFJWEMsbUJBQWEsRUFBRSxLQUpKO0FBS1hDLGlCQUFXLEVBQUU7QUFMRixLQUFiO0FBT0Q7O0FBRUROLHFCQUFtQixHQUFHO0FBQ3BCLFFBQUksQ0FBQyxLQUFLNzJDLEtBQUwsQ0FBV2czQyxlQUFoQixFQUFpQztBQUMvQixXQUFLNTJDLFFBQUwsQ0FBYztBQUFFNDJDLHVCQUFlLEVBQUU7QUFBbkIsT0FBZDtBQUNEO0FBQ0Y7O0FBRWlCLFFBQVp0QyxZQUFZLENBQUNweUMsS0FBRCxFQUFRO0FBQ3hCLFFBQUkrVyxJQUFKOztBQUVBLFFBQUksS0FBS3JaLEtBQUwsQ0FBV20zQyxXQUFmLEVBQTRCO0FBQzFCO0FBQ0Q7O0FBRUQ3MEMsU0FBSyxDQUFDMk4sY0FBTjtBQUNBLFNBQUs3UCxRQUFMLENBQWM7QUFBRSsyQyxpQkFBVyxFQUFFO0FBQWYsS0FBZDtBQUNBLFNBQUtwM0MsS0FBTCxDQUFXaVksdUJBQVgsQ0FBbUM7QUFDakMxVixXQUFLLEVBQUUsY0FEMEI7QUFFakN1WCxtQkFBYSxFQUFFLGlDQUZrQjtBQUdqQzVXLFFBQUUsRUFBRTtBQUg2QixLQUFuQzs7QUFNQSxRQUFJLEtBQUtsRCxLQUFMLENBQVdnMkMsV0FBWCxDQUF1QnhwQixXQUF2QixPQUF5QyxLQUE3QyxFQUFvRDtBQUNsRCxXQUFLeHNCLEtBQUwsQ0FBVyt4QyxPQUFYLENBQW1CO0FBQUVzRixzQkFBYyxFQUFFO0FBQWxCLE9BQW5CO0FBQ0EsV0FBS3RvQyxJQUFMLENBQVUrbEMsSUFBVixDQUFlQyxNQUFmO0FBQ0E7QUFDRDs7QUFFRCxVQUFNO0FBQUVuc0MsU0FBRjtBQUFPMHVDO0FBQVAsUUFBb0IsS0FBS3QzQyxLQUFMLENBQVd1M0MsZUFBWCxHQUN0QixLQUFLdjNDLEtBQUwsQ0FBV3UzQyxlQUFYLENBQTJCLEtBQUt4b0MsSUFBTCxDQUFVeW9DLFNBQXJDLEVBQWdELEtBQUt4M0MsS0FBckQsQ0FEc0IsR0FFdEI7QUFBRTRJLFNBQUcsRUFBRSxLQUFLbUcsSUFBTCxDQUFVK2xDLElBQVYsQ0FBZTE0QyxNQUF0QjtBQUE4Qms3QyxjQUFRLEVBQUUsSUFBSUcsUUFBSixDQUFhLEtBQUsxb0MsSUFBTCxDQUFVK2xDLElBQXZCO0FBQXhDLEtBRko7O0FBSUEsUUFBSTtBQUNGLFlBQU00QyxZQUFZLEdBQUcsSUFBSUMsT0FBSixDQUFZL3VDLEdBQVosRUFBaUI7QUFDcENsSSxZQUFJLEVBQUU0MkMsUUFEOEI7QUFFcENNLGNBQU0sRUFBRSxNQUY0QjtBQUdwQzMrQixtQkFBVyxFQUFFO0FBSHVCLE9BQWpCLENBQXJCO0FBS0EsWUFBTUgsUUFBUSxHQUFHLE1BQU1DLEtBQUssQ0FBQzIrQixZQUFELENBQTVCLENBTkUsQ0FNMEM7O0FBQzVDcCtCLFVBQUksR0FBRyxNQUFNUixRQUFRLENBQUNRLElBQVQsRUFBYjtBQUNELEtBUkQsQ0FRRSxPQUFPYixHQUFQLEVBQVk7QUFDWnRKLGFBQU8sQ0FBQ0MsR0FBUixDQUFZcUosR0FBWixFQURZLENBQ007QUFDbkI7O0FBRUQsUUFBSWEsSUFBSSxJQUFJQSxJQUFJLENBQUNKLE1BQUwsS0FBZ0IsSUFBNUIsRUFBa0M7QUFDaEMsV0FBSzdZLFFBQUwsQ0FBYztBQUFFODJDLHFCQUFhLEVBQUUsSUFBakI7QUFBdUJELHVCQUFlLEVBQUU7QUFBeEMsT0FBZDs7QUFDQSxVQUFJLENBQUMsS0FBS2wzQyxLQUFMLENBQVcwTSxPQUFYLENBQW1Cd04sZ0JBQXhCLEVBQTBDO0FBQ3hDLGFBQUtsYSxLQUFMLENBQVcreEMsT0FBWCxDQUFtQjtBQUFFc0Ysd0JBQWMsRUFBRTtBQUFsQixTQUFuQjtBQUNEOztBQUNELFdBQUtyM0MsS0FBTCxDQUFXaVksdUJBQVgsQ0FBbUM7QUFDakMxVixhQUFLLEVBQUUsY0FEMEI7QUFFakN1WCxxQkFBYSxFQUFFLG1CQUZrQjtBQUdqQzVXLFVBQUUsRUFBRTtBQUg2QixPQUFuQztBQUtELEtBVkQsTUFVTztBQUNMO0FBQ0FpTSxhQUFPLENBQUNnRixLQUFSLENBQ0UseUNBREYsRUFFRW1GLElBQUksSUFBSSxvQkFGVjtBQUlBLFdBQUtqWixRQUFMLENBQWM7QUFBRTgyQyxxQkFBYSxFQUFFLEtBQWpCO0FBQXdCRCx1QkFBZSxFQUFFO0FBQXpDLE9BQWQ7QUFDQSxXQUFLbDNDLEtBQUwsQ0FBV2lZLHVCQUFYLENBQW1DO0FBQ2pDMVYsYUFBSyxFQUFFLGNBRDBCO0FBRWpDdVgscUJBQWEsRUFBRSxpQkFGa0I7QUFHakM1VyxVQUFFLEVBQUU7QUFINkIsT0FBbkM7QUFLRDs7QUFFRCxTQUFLN0MsUUFBTCxDQUFjO0FBQUUrMkMsaUJBQVcsRUFBRTtBQUFmLEtBQWQ7QUFDRDs7QUFFRFAsZUFBYSxHQUFHO0FBQ2QsU0FBSzcyQyxLQUFMLENBQVdpWSx1QkFBWCxDQUFtQztBQUNqQzFWLFdBQUssRUFBRSxjQUQwQjtBQUVqQ3VYLG1CQUFhLEVBQUUsMEJBRmtCO0FBR2pDNVcsUUFBRSxFQUFFLEtBQUtsRCxLQUFMLENBQVc4eEM7QUFIa0IsS0FBbkM7QUFNQSxTQUFLenhDLFFBQUwsQ0FBYztBQUNaMjJDLGNBQVEsRUFBRSxJQURFO0FBRVpHLG1CQUFhLEVBQUUsS0FGSDtBQUdaRCxxQkFBZSxFQUFFO0FBSEwsS0FBZDtBQUtEOztBQUVEVyx3QkFBc0IsR0FBRztBQUN2QixVQUFNO0FBQUVDO0FBQUYsUUFBb0IsS0FBSzkzQyxLQUFMLENBQVcwTSxPQUFyQzs7QUFFQSxRQUFJLENBQUNvckMsYUFBTCxFQUFvQjtBQUNsQixhQUFPLElBQVA7QUFDRDs7QUFFRCxXQUFPNXVDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZMnVDLGFBQVosRUFBMkIvdUMsR0FBM0IsQ0FBK0IsQ0FBQ3RHLEdBQUQsRUFBTXd6QyxHQUFOLGtCQUNwQztBQUFPLFNBQUcsRUFBRUEsR0FBWjtBQUFpQixVQUFJLEVBQUMsUUFBdEI7QUFBK0IsVUFBSSxFQUFFeHpDLEdBQXJDO0FBQTBDLFdBQUssRUFBRXExQyxhQUFhLENBQUNyMUMsR0FBRDtBQUE5RCxNQURLLENBQVA7QUFHRDs7QUFFRHMxQyxrQkFBZ0IsR0FBRztBQUNqQixVQUFNO0FBQUVyckM7QUFBRixRQUFjLEtBQUsxTSxLQUF6Qjs7QUFDQSxRQUFJLENBQUMwTSxPQUFPLENBQUNzckMsc0JBQWIsRUFBcUM7QUFDbkMsYUFBTyxJQUFQO0FBQ0Q7O0FBQ0Qsd0JBQ0U7QUFBRyxlQUFTLEVBQUM7QUFBYixvQkFDRSx1Q0FBQyxRQUFEO0FBQ0UsVUFBSSxFQUFFdHJDLE9BQU8sQ0FBQ3NyQyxzQkFEaEI7QUFFRSxxQkFBZSxFQUFDLGlCQUZsQjtBQUdFLFdBQUssRUFBRXRyQyxPQUFPLENBQUNvVCxLQUhqQjtBQUlFLG9CQUFjLEVBQUUsSUFKbEI7QUFLRSxtQkFBYSxFQUFFLElBTGpCO0FBTUUsZUFBUyxFQUFFLEtBQUs5ZixLQUFMLENBQVcrWDtBQU54QixNQURGLENBREY7QUFZRDs7QUFFRGtnQyx5QkFBdUIsR0FBRztBQUN4QixVQUFNO0FBQUV2ckM7QUFBRixRQUFjLEtBQUsxTSxLQUF6Qjs7QUFDQSxRQUFJLENBQUMwTSxPQUFPLENBQUN3ckMsbUJBQWIsRUFBa0M7QUFDaEMsYUFBTyxJQUFQO0FBQ0Q7O0FBQ0Qsd0JBQ0U7QUFBRyxlQUFTLEVBQUM7QUFBYixvQkFDRTtBQUNFLFVBQUksRUFBQyxVQURQO0FBRUUsUUFBRSxFQUFDLFlBRkw7QUFHRSxVQUFJLEVBQUMsU0FIUDtBQUlFLGNBQVEsRUFBQztBQUpYLE1BREYsZUFPRTtBQUFPLGFBQU8sRUFBQztBQUFmLG9CQUNFLHVDQUFDLFFBQUQ7QUFDRSxVQUFJLEVBQUV4ckMsT0FBTyxDQUFDd3JDLG1CQURoQjtBQUVFLHFCQUFlLEVBQUMsY0FGbEI7QUFHRSxXQUFLLEVBQUV4ckMsT0FBTyxDQUFDb1QsS0FIakI7QUFJRSxvQkFBYyxFQUFFLElBSmxCO0FBS0UsbUJBQWEsRUFBRSxJQUxqQjtBQU1FLGVBQVMsRUFBRSxLQUFLOWYsS0FBTCxDQUFXK1g7QUFOeEIsTUFERixDQVBGLENBREY7QUFvQkQ7O0FBRURvZ0MsdUJBQXFCLEdBQUc7QUFDdEIsVUFBTTtBQUFFenJDO0FBQUYsUUFBYyxLQUFLMU0sS0FBekI7QUFDQSxVQUFNbzRDLFNBQVMsR0FBRyxLQUFLbjRDLEtBQUwsQ0FBV2szQyxhQUE3QjtBQUNBLFVBQU1rQixZQUFZLEdBQUdELFNBQVMsSUFBSTFyQyxPQUFPLENBQUM0ckMsYUFBMUM7QUFDQSxVQUFNQyxRQUFRLEdBQUdILFNBQVMsR0FDdEI7QUFBRUksa0JBQVksRUFBRTlyQyxPQUFPLENBQUM4ckM7QUFBeEIsS0FEc0IsR0FFdEI7QUFBRUMsZ0JBQVUsRUFBRS9yQyxPQUFPLENBQUMrckM7QUFBdEIsS0FGSjtBQUdBLFVBQU1DLGVBQWUsR0FBR2hzQyxPQUFPLENBQUNpc0Msa0JBQWhDO0FBQ0Esd0JBQ0UsdUNBQUMsdUJBQUQsRUFBaUIsS0FBSzM0QyxLQUF0QixlQUNFO0FBQUssZUFBUyxFQUFDO0FBQWYsT0FDR3E0QyxZQUFZLGdCQUNYO0FBQUksZUFBUyxFQUFDO0FBQWQsT0FBbUNBLFlBQW5DLENBRFcsR0FFVCxJQUhOLGVBSUUsK0RBQ0UsdUNBQUMsUUFBRCxnQ0FDTUUsUUFETjtBQUVFLHFCQUFlLEVBQUVILFNBQVMsR0FBRyxjQUFILEdBQW9CO0FBRmhELE9BREYsRUFLR0EsU0FBUyxHQUFHLElBQUgsZ0JBQ1IsdUNBQUMsTUFBRDtBQUFRLGFBQU8sRUFBRSxLQUFLdkI7QUFBdEIsT0FBc0M2QixlQUF0QyxDQU5KLENBSkYsQ0FERixDQURGO0FBa0JEOztBQUVEM0IsZUFBYSxDQUFDeDBDLEtBQUQsRUFBUTtBQUNuQixRQUFJLENBQUMsS0FBS3ZDLEtBQUwsQ0FBVzQ0QyxhQUFoQixFQUErQjtBQUM3QjtBQUNEOztBQUNELFVBQU14bkIsUUFBUSxHQUFHLEtBQUtweEIsS0FBTCxDQUFXNDRDLGFBQVgsQ0FDZnIyQyxLQUFLLENBQUNwRixNQUFOLENBQWFvQixLQURFLEVBRWYsS0FBS3lCLEtBQUwsQ0FBVzBNLE9BRkksQ0FBakI7QUFJQW5LLFNBQUssQ0FBQ3BGLE1BQU4sQ0FBYTA3QyxpQkFBYixDQUErQnpuQixRQUEvQjtBQUNEOztBQUVEdWlCLG1CQUFpQixDQUFDL3FDLEdBQUQsRUFBTTtBQUNyQixXQUFPLFVBQVM3RCxRQUFULEVBQW1CO0FBQ3hCLDBCQUFPO0FBQUcsWUFBSSxFQUFFNkQ7QUFBVCxTQUFlN0QsUUFBZixDQUFQO0FBQ0QsS0FGRDtBQUdEOztBQUVEK3pDLGFBQVcsR0FBRztBQUNaLFVBQU1DLFVBQVUsR0FDZCxLQUFLLzRDLEtBQUwsQ0FBVzBNLE9BQVgsQ0FBbUJzc0MsNkJBQW5CLElBQ0EsS0FBS2g1QyxLQUFMLENBQVcwTSxPQUFYLENBQW1CdXNDLHdCQUZyQjtBQUdBLHdCQUNFO0FBQ0UsU0FBRyxFQUFDLFdBRE47QUFFRSxVQUFJLEVBQUUsS0FBS2o1QyxLQUFMLENBQVdrNUMsU0FBWCxJQUF3QixPQUZoQztBQUdFLGVBQVMsRUFBRyxZQUFXLEtBQUtqNUMsS0FBTCxDQUFXZzNDLGVBQVgsR0FBNkIsRUFBN0IsR0FBa0MsUUFBUyxFQUhwRTtBQUlFLFVBQUksRUFBQyxPQUpQO0FBS0UsY0FBUSxFQUFFLElBTFo7QUFNRSxpQkFBVyxFQUFFOEIsVUFOZjtBQU9FLGNBQVEsRUFBRSxLQUFLLzRDLEtBQUwsQ0FBVzQ0QyxhQUFYLEdBQTJCLEtBQUs3QixhQUFoQyxHQUFnRDtBQVA1RCxNQURGO0FBV0Q7O0FBRURvQyxZQUFVLEdBQUc7QUFDWCx3QkFDRTtBQUNFLFlBQU0sRUFBRSxLQUFLbjVDLEtBQUwsQ0FBV281QyxXQURyQjtBQUVFLFlBQU0sRUFBRSxLQUFLcDVDLEtBQUwsQ0FBV2cyQyxXQUZyQjtBQUdFLGNBQVEsRUFBRSxLQUFLckIsWUFIakI7QUFJRSxTQUFHLEVBQUM7QUFKTixPQU1HLEtBQUtrRCxzQkFBTCxFQU5ILGVBT0Usb0RBQ0csS0FBS2lCLFdBQUwsRUFESCxlQUVFO0FBQ0UsVUFBSSxFQUFDLFFBRFA7QUFFRSxlQUFTLEVBQUMsd0JBRlo7QUFHRSxhQUFPLEVBQUUsS0FBS2hDLG1CQUhoQjtBQUlFLFNBQUcsRUFBQztBQUpOLE9BTUcsS0FBSzkyQyxLQUFMLENBQVcwTSxPQUFYLENBQW1CMnNDLG1CQU50QixDQUZGLENBUEYsRUFrQkcsS0FBS3BCLHVCQUFMLE1BQWtDLEtBQUtGLGdCQUFMLEVBbEJyQyxDQURGO0FBc0JEOztBQUVEdUIsa0JBQWdCLEdBQUc7QUFDakIsVUFBTTtBQUFFNXNDO0FBQUYsUUFBYyxLQUFLMU0sS0FBekI7O0FBQ0EsUUFBSSxDQUFDME0sT0FBTyxDQUFDNnNDLFdBQWIsRUFBMEI7QUFDeEIsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQsd0JBQ0U7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRTtBQUNFLFNBQUcsRUFBRTVyQixPQUFPLENBQUNqaEIsT0FBTyxDQUFDNnNDLFdBQVQsQ0FEZDtBQUVFLGVBQVMsRUFBQyxrQkFGWjtBQUdFLFNBQUcsRUFBRTdzQyxPQUFPLENBQUM4c0Msb0JBQVIsSUFBZ0NqSCwrQkFBYUE7QUFIcEQsTUFERixlQU1FO0FBQ0UsU0FBRyxFQUFFNWtCLE9BQU8sQ0FBQ2poQixPQUFPLENBQUMrc0Msc0JBQVIsSUFBa0Mvc0MsT0FBTyxDQUFDNnNDLFdBQTNDLENBRGQ7QUFFRSxlQUFTLEVBQUMsaUJBRlo7QUFHRSxTQUFHLEVBQUU3c0MsT0FBTyxDQUFDOHNDLG9CQUFSLElBQWdDakgsK0JBQWFBO0FBSHBELE1BTkYsQ0FERjtBQWNEOztBQUVEbUgsa0JBQWdCLEdBQUc7QUFDakIsVUFBTTtBQUFFaHRDO0FBQUYsUUFBYyxLQUFLMU0sS0FBekI7QUFDQSxVQUFNMjVDLGNBQWMsR0FBSSxxQkFBb0IsS0FBSzM1QyxLQUFMLENBQVdpQixTQUFVLEVBQWpFO0FBQ0Esd0JBQ0UsdUNBQUMsdUJBQUQsZ0NBQ00sS0FBS2pCLEtBRFg7QUFFRSxlQUFTLEVBQUUyNUMsY0FGYjtBQUdFLG1CQUFhLEVBQUU7QUFIakIsUUFLRyxLQUFLTCxnQkFBTCxFQUxILGVBTUU7QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRSxrREFDRzVzQyxPQUFPLENBQUNrdEMsWUFBUixpQkFDQztBQUFJLGVBQVMsRUFBQztBQUFkLE9BQTZCbHRDLE9BQU8sQ0FBQ2t0QyxZQUFyQyxDQUZKLEVBR0ssR0FITCxFQUlHbHRDLE9BQU8sQ0FBQ210QyxXQUFSLGlCQUNDLHVDQUFDLFFBQUQ7QUFDRSxpQkFBVyxFQUFFbnRDLE9BQU8sQ0FBQ210QyxXQUR2QjtBQUVFLHFCQUFlLEVBQUM7QUFGbEIsTUFMSixDQURGLENBTkYsRUFtQkcsS0FBS1YsVUFBTCxFQW5CSCxDQURGO0FBdUJEOztBQUVEdEYscUJBQW1CLEdBQUc7QUFDcEIsVUFBTTtBQUFFN3pDO0FBQUYsUUFBWSxJQUFsQixDQURvQixDQUdwQjs7QUFDQSxRQUFJQSxLQUFLLENBQUMwTSxPQUFOLENBQWNvbkMsa0JBQWQsSUFBb0M5ekMsS0FBSyxDQUFDME0sT0FBTixDQUFjcW5DLGtCQUF0RCxFQUEwRTtBQUN4RSxZQUFNQyxxQkFBcUIsR0FBR3JtQixPQUFPLENBQUMzdEIsS0FBSyxDQUFDME0sT0FBTixDQUFjb25DLGtCQUFmLENBQXJDO0FBQ0EsWUFBTUcsb0JBQW9CLEdBQUd0bUIsT0FBTyxDQUNsQzN0QixLQUFLLENBQUMwTSxPQUFOLENBQWN3bkMsNkJBQWQsSUFDRWwwQyxLQUFLLENBQUMwTSxPQUFOLENBQWNvbkMsa0JBRmtCLENBQXBDO0FBSUEsWUFBTUssZUFBZSxHQUFHbjBDLEtBQUssQ0FBQzBNLE9BQU4sQ0FBYzBuQyxpQkFBdEM7QUFFQSwwQkFDRTtBQUFLLGlCQUFTLEVBQUM7QUFBZixzQkFDRTtBQUFJLGlCQUFTLEVBQUM7QUFBZCxzQkFDRSx1Q0FBQyxxQ0FBRDtBQUNFLFlBQUksRUFBRSxLQUFLVCxpQkFBTCxDQUF1QlEsZUFBdkIsQ0FEUjtBQUVFLGlCQUFTLEVBQUVBO0FBRmIsc0JBSUU7QUFDRSxpQkFBUyxFQUFDLHlDQURaO0FBRUUsYUFBSyxFQUFFO0FBQUUxaUIseUJBQWUsRUFBRyxRQUFPdWlCLHFCQUFzQjtBQUFqRDtBQUZULFFBSkYsZUFRRTtBQUNFLGlCQUFTLEVBQUMsd0NBRFo7QUFFRSxhQUFLLEVBQUU7QUFBRXZpQix5QkFBZSxFQUFHLFFBQU93aUIsb0JBQXFCO0FBQWhEO0FBRlQsUUFSRixlQVlFO0FBQU0saUJBQVMsRUFBQztBQUFoQixTQUNHajBDLEtBQUssQ0FBQzBNLE9BQU4sQ0FBY3FuQyxrQkFEakIsQ0FaRixDQURGLENBREYsQ0FERjtBQXNCRDs7QUFFRCxXQUFPLElBQVA7QUFDRDs7QUFFRCtGLHFCQUFtQixHQUFHO0FBQ3BCLFVBQU07QUFBRXB0QztBQUFGLFFBQWMsS0FBSzFNLEtBQXpCO0FBQ0EsVUFBTTI1QyxjQUFjLEdBQUkscUJBQW9CLEtBQUszNUMsS0FBTCxDQUFXaUIsU0FBVSxZQUFqRTtBQUNBLHdCQUNFLHVDQUFDLHVCQUFELGdDQUNNLEtBQUtqQixLQURYO0FBRUUsZUFBUyxFQUFFMjVDLGNBRmIsQ0FHRTtBQUhGO0FBSUUsbUJBQWEsRUFBRTtBQUpqQixRQU1HLEtBQUs5RixtQkFBTCxFQU5ILEVBT0csS0FBS3lGLGdCQUFMLEVBUEgsZUFRRTtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFLGtEQUNHNXNDLE9BQU8sQ0FBQ210QyxXQUFSLGlCQUNDLHVDQUFDLFFBQUQ7QUFDRSxpQkFBVyxFQUFFbnRDLE9BQU8sQ0FBQ210QyxXQUR2QjtBQUVFLHFCQUFlLEVBQUM7QUFGbEIsTUFGSixDQURGLEVBU0csS0FBS1YsVUFBTCxFQVRILENBUkYsQ0FERjtBQXNCRDs7QUFFRFksc0JBQW9CLEdBQUc7QUFDckIsV0FBTzd3QyxNQUFNLENBQUNDLElBQVAsQ0FBWSxLQUFLbkosS0FBTCxDQUFXME0sT0FBdkIsRUFDSjdMLE1BREksQ0FDRzRCLEdBQUcsSUFBSUEsR0FBRyxDQUFDaU8sUUFBSixDQUFhLFFBQWIsQ0FEVixFQUVKNEcsTUFGSSxDQUVHLENBQUNnbEIsR0FBRCxFQUFNNzVCLEdBQU4sS0FBYztBQUNwQjY1QixTQUFHLENBQUM3NUIsR0FBRyxDQUFDdXNDLE1BQUosQ0FBVyxDQUFYLENBQUQsQ0FBSCxHQUFxQixLQUFLaHZDLEtBQUwsQ0FBVzBNLE9BQVgsQ0FBbUJqSyxHQUFuQixDQUFyQjtBQUNBLGFBQU82NUIsR0FBUDtBQUNELEtBTEksRUFLRixFQUxFLENBQVA7QUFNRDs7QUFFRHA3QixRQUFNLEdBQUc7QUFDUCxVQUFNd0wsT0FBTyxHQUFHLEVBQUUsR0FBRyxLQUFLMU0sS0FBTCxDQUFXME0sT0FBaEI7QUFBeUIsU0FBRyxLQUFLcXRDLG9CQUFMO0FBQTVCLEtBQWhCOztBQUVBLFFBQUksS0FBSzk1QyxLQUFMLENBQVdpM0MsZUFBZixFQUFnQztBQUM5QixhQUFPLEtBQUtpQixxQkFBTCxFQUFQO0FBQ0QsS0FMTSxDQU1QO0FBQ0E7QUFDQTs7O0FBQ0EsUUFBSSxLQUFLbjRDLEtBQUwsQ0FBV2c2QyxXQUFmLEVBQTRCO0FBQzFCLGFBQU8sS0FBS0YsbUJBQUwsRUFBUDtBQUNEOztBQUNELFFBQUksS0FBSzc1QyxLQUFMLENBQVcrMkMsUUFBZixFQUF5QjtBQUN2QixhQUFPLEtBQUswQyxnQkFBTCxFQUFQO0FBQ0Q7O0FBQ0Qsd0JBQ0UsdUNBQUMsMkJBQUQsZ0NBQ00sS0FBSzE1QyxLQURYO0FBRUUsYUFBTyxFQUFFME0sT0FGWDtBQUdFLG1CQUFhLEVBQUUsS0FBS21xQztBQUh0QixPQURGO0FBT0Q7O0FBeFl3RCxDOzs7O0FDZjNEO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFTyxNQUFNb0QsZ0JBQWdCLEdBQUdqNkMsS0FBSyxJQUFJO0FBQ3ZDLFFBQU1rNkMsU0FBUyxHQUFHei9CLE1BQU0sQ0FBQzQ2QixTQUFQLENBQWlCNkUsU0FBakIsQ0FBMkJ4eEMsS0FBM0IsQ0FBaUMscUJBQWpDLENBQWxCO0FBQ0EsUUFBTXl4QyxlQUFlLEdBQUdELFNBQVMsR0FBRzdmLFFBQVEsQ0FBQzZmLFNBQVMsQ0FBQyxDQUFELENBQVYsRUFBZSxFQUFmLENBQVgsR0FBZ0MsQ0FBakU7QUFDQSxRQUFNdkQsZUFBZSxHQUFHO0FBQ3RCeUQsdUJBQW1CLEVBQUUsWUFEQztBQUV0QnpCLHNCQUFrQixFQUFFLFdBRkU7QUFHdEJLLGlDQUE2QixFQUFFLGlCQUhUO0FBSXRCSyx1QkFBbUIsRUFBRSxZQUpDO0FBS3RCbkgsOEJBQTBCLEVBQUUsU0FMTjtBQU10QixPQUFHbHlDLEtBQUssQ0FBQzBNLE9BTmE7QUFPdEJvckMsaUJBQWEsRUFBRTtBQUNiMTdDLFlBQU0sRUFBRSxPQURLO0FBRWJ5UyxhQUFPLEVBQUUsZUFGSTtBQUdib0wsZ0JBQVUsRUFBRSxVQUhDO0FBSWJvZ0MsZ0JBQVUsRUFBRSxTQUpDO0FBS2JDLGlCQUFXLEVBQUVILGVBTEE7QUFNYkksa0JBQVksRUFBRXY2QyxLQUFLLENBQUMwTSxPQUFOLENBQWM2dEMsWUFOZjtBQU9iQyxjQUFRLEVBQUV4NkMsS0FBSyxDQUFDME0sT0FBTixDQUFjOHRDLFFBUFg7QUFRYixTQUFHeDZDLEtBQUssQ0FBQzBNLE9BQU4sQ0FBY29yQztBQVJKO0FBUE8sR0FBeEI7QUFtQkEsc0JBQ0UsdUNBQUMsbUNBQUQsK0JBQ005M0MsS0FETjtBQUVFLFdBQU8sRUFBRTIyQyxlQUZYO0FBR0UsZUFBVyxFQUFFLCtCQUhmO0FBSUUsZUFBVyxFQUFDO0FBSmQsS0FERjtBQVFELENBOUJNLEM7Ozs7QUNQUDtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRU8sTUFBTThELGlCQUFpQixHQUFHejZDLEtBQUssSUFBSTtBQUN4QyxRQUFNMjJDLGVBQWUsR0FBRztBQUN0QnlELHVCQUFtQixFQUFFLFlBREM7QUFFdEJ6QixzQkFBa0IsRUFBRSxXQUZFO0FBR3RCSyxpQ0FBNkIsRUFBRSxpQkFIVDtBQUl0QkssdUJBQW1CLEVBQUUsWUFKQztBQUt0Qm5ILDhCQUEwQixFQUFFLFNBTE47QUFNdEJ3SSxxQkFBaUIsRUFBRSxvQkFORztBQU90QixPQUFHMTZDLEtBQUssQ0FBQzBNLE9BUGE7QUFRdEJvckMsaUJBQWEsRUFBRTtBQUNiNkMsaUJBQVcsRUFBRTM2QyxLQUFLLENBQUMwTSxPQUFOLENBQWNndUMsaUJBQWQsSUFBbUMsb0JBRG5DO0FBRWJFLFNBQUcsRUFBRSxHQUZRO0FBR2JDLFVBQUksRUFBRTc2QyxLQUFLLENBQUMwTSxPQUFOLENBQWMvSCxNQUFkLElBQXdCLE9BSGpCO0FBSWJtMkMsZ0JBQVUsRUFBRyxxQ0FBb0M5NkMsS0FBSyxDQUFDa0QsRUFBRyxFQUo3QztBQUtiLFNBQUdsRCxLQUFLLENBQUMwTSxPQUFOLENBQWNvckM7QUFMSjtBQVJPLEdBQXhCO0FBaUJBLHNCQUNFLHVDQUFDLG1DQUFELGdDQUNNOTNDLEtBRE47QUFFRSxXQUFPLEVBQUUyMkMsZUFGWDtBQUdFLGVBQVcsRUFBRSwyQ0FIZjtBQUlFLGVBQVcsRUFBQztBQUpkLEtBREY7QUFRRCxDQTFCTSxDOztBQ1BQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTb0Usb0JBQVQsQ0FBOEJDLEdBQTlCLEVBQW1DdHVDLE9BQW5DLEVBQTRDO0FBQ2pELFFBQU07QUFBRS9IO0FBQUYsTUFBYStILE9BQW5CLENBRGlELENBRWpEOztBQUNBLFFBQU11dUMsUUFBUSxHQUFHLHNKQUFqQjtBQUNBLFFBQU1DLFdBQVcsR0FBR0QsUUFBUSxDQUFDdEwsSUFBVCxDQUFjcUwsR0FBZCxDQUFwQjtBQUNBLE1BQUlHLFdBQUosQ0FMaUQsQ0FLaEM7O0FBQ2pCLFVBQVF4MkMsTUFBUjtBQUNFLFNBQUssT0FBTDtBQUNBLFNBQUssT0FBTDtBQUNFO0FBQ0F3MkMsaUJBQVcsR0FBR0gsR0FBRyxDQUFDMzNDLE1BQUosSUFBYyxFQUFkLElBQW9CMjNDLEdBQUcsQ0FBQzMzQyxNQUFKLElBQWMsRUFBbEMsSUFBd0MsQ0FBQyszQyxLQUFLLENBQUNKLEdBQUQsQ0FBNUQ7QUFDQTs7QUFDRixTQUFLLElBQUw7QUFDRTtBQUNBRyxpQkFBVyxHQUFHSCxHQUFHLENBQUMzM0MsTUFBSixJQUFjLENBQWQsSUFBbUIyM0MsR0FBRyxDQUFDMzNDLE1BQUosSUFBYyxFQUFqQyxJQUF1QyxDQUFDKzNDLEtBQUssQ0FBQ0osR0FBRCxDQUEzRDtBQUNBO0FBQ0Y7O0FBQ0E7QUFDRUcsaUJBQVcsR0FBRyxDQUFDQyxLQUFLLENBQUNKLEdBQUQsQ0FBcEI7QUFDQTtBQWJKOztBQWVBLE1BQUlFLFdBQUosRUFBaUI7QUFDZixXQUFPLE9BQVA7QUFDRCxHQUZELE1BRU8sSUFBSUMsV0FBSixFQUFpQjtBQUN0QixXQUFPLE9BQVA7QUFDRDs7QUFDRCxTQUFPLEVBQVA7QUFDRCxDOzs7O0FDckNEO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTdkMsYUFBVCxDQUF1QnI2QyxLQUF2QixFQUE4Qm1PLE9BQTlCLEVBQXVDO0FBQ3JDLFFBQU16UixJQUFJLEdBQUc4L0Msb0JBQW9CLENBQUN4OEMsS0FBRCxFQUFRbU8sT0FBUixDQUFqQztBQUNBLFNBQU96UixJQUFJLEdBQUcsRUFBSCxHQUFRLHFDQUFuQjtBQUNEOztBQUVELFNBQVNzOEMsZUFBVCxDQUF5QmhQLEtBQXpCLEVBQWdDcm9DLE9BQWhDLEVBQXlDO0FBQ3ZDLFFBQU07QUFBRXdNO0FBQUYsTUFBY3hNLE9BQXBCO0FBQ0EsUUFBTWpGLElBQUksR0FBR3lSLE9BQU8sQ0FBQzJ1QyxXQUFSLEdBQ1ROLG9CQUFvQixDQUFDeFMsS0FBSyxDQUFDaHFDLEtBQVAsRUFBY21PLE9BQWQsQ0FEWCxHQUVULE9BRko7QUFHQSxRQUFNNHFDLFFBQVEsR0FBRyxJQUFJRyxRQUFKLEVBQWpCO0FBQ0EsTUFBSTd1QyxHQUFKOztBQUNBLE1BQUkzTixJQUFJLEtBQUssT0FBYixFQUFzQjtBQUNwQjJOLE9BQUcsR0FBRyxnREFBTjtBQUNBMHVDLFlBQVEsQ0FBQ3orQixNQUFULENBQWdCLGVBQWhCLEVBQWlDMHZCLEtBQUssQ0FBQ2hxQyxLQUF2QztBQUNBKzRDLFlBQVEsQ0FBQ3orQixNQUFULENBQWdCLFVBQWhCLEVBQTRCbk0sT0FBTyxDQUFDNHVDLGNBQXBDO0FBQ0FoRSxZQUFRLENBQUN6K0IsTUFBVCxDQUFnQixTQUFoQixFQUEyQm5NLE9BQU8sQ0FBQzZ1QyxPQUFuQztBQUNELEdBTEQsTUFLTyxJQUFJdGdELElBQUksS0FBSyxPQUFiLEVBQXNCO0FBQzNCMk4sT0FBRyxHQUFHLDRDQUFOO0FBQ0EwdUMsWUFBUSxDQUFDeitCLE1BQVQsQ0FBZ0IsT0FBaEIsRUFBeUIwdkIsS0FBSyxDQUFDaHFDLEtBQS9CO0FBQ0ErNEMsWUFBUSxDQUFDeitCLE1BQVQsQ0FBZ0IsYUFBaEIsRUFBK0JuTSxPQUFPLENBQUM4dUMsZ0JBQXZDO0FBQ0FsRSxZQUFRLENBQUN6K0IsTUFBVCxDQUNFLFlBREYsRUFFRXNLLGtCQUFrQixDQUFFLHFDQUFvQ2pqQixPQUFPLENBQUNnRCxFQUFHLEVBQWpELENBRnBCO0FBSUQ7O0FBQ0RvMEMsVUFBUSxDQUFDeitCLE1BQVQsQ0FBZ0IsTUFBaEIsRUFBd0JuTSxPQUFPLENBQUMvSCxNQUFoQztBQUNBLFNBQU87QUFBRTJ5QyxZQUFGO0FBQVkxdUM7QUFBWixHQUFQO0FBQ0Q7O0FBRUQsU0FBUzZ5QyxnQkFBVCxDQUEwQno3QyxLQUExQixFQUFpQztBQUMvQixTQUFPLEVBQ0wsR0FBR0EsS0FERTtBQUVMME0sV0FBTyxFQUFFO0FBQ1AwdEMseUJBQW1CLEVBQUUsWUFEZDtBQUVQekIsd0JBQWtCLEVBQUUsV0FGYjtBQUdQekcsZ0NBQTBCLEVBQUUsU0FIckI7QUFJUG1ILHlCQUFtQixFQUFFLE1BSmQ7QUFLUEosOEJBQXdCLEVBQUUsaUJBTG5CO0FBTVB0MEMsWUFBTSxFQUFFLE9BTkQ7QUFPUDQyQyxhQUFPLEVBQUUsSUFQRjtBQVFQQyxzQkFBZ0IsRUFBRSxFQVJYO0FBU1BILGlCQUFXLEVBQUUsS0FUTjtBQVVQLFNBQUdyN0MsS0FBSyxDQUFDME07QUFWRjtBQUZKLEdBQVA7QUFlRDs7QUFFTSxNQUFNZ3ZDLG1CQUFtQixHQUFHMTdDLEtBQUssSUFBSTtBQUMxQyxRQUFNMjdDLGlCQUFpQixHQUFHRixnQkFBZ0IsQ0FBQ3o3QyxLQUFELENBQTFDO0FBRUEsc0JBQ0UsdUNBQUMsbUNBQUQsa0NBQ00yN0MsaUJBRE47QUFFRSxlQUFXLEVBQUMsTUFGZDtBQUdFLGFBQVMsRUFBQyx3QkFIWjtBQUlFLGFBQVMsRUFBRUEsaUJBQWlCLENBQUNqdkMsT0FBbEIsQ0FBMEIydUMsV0FBMUIsR0FBd0MsTUFBeEMsR0FBaUQsT0FKOUQ7QUFLRSxpQkFBYSxFQUNYTSxpQkFBaUIsQ0FBQ2p2QyxPQUFsQixDQUEwQjJ1QyxXQUExQixHQUF3Q3pDLGFBQXhDLEdBQXdELElBTjVEO0FBUUUsbUJBQWUsRUFBRXJCO0FBUm5CLEtBREY7QUFZRCxDQWZNO0FBaUJBLE1BQU1xRSx5QkFBeUIsR0FBRzU3QyxLQUFLLElBQUk7QUFDaEQsc0JBQU8sdUNBQUMsbUJBQUQ7QUFBcUIsZUFBVyxFQUFFO0FBQWxDLEtBQTRDQSxLQUE1QyxFQUFQO0FBQ0QsQ0FGTSxDOzs7O0FDekVQO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNc3lDLDBDQUFpQixHQUFHLHNDQUExQixDLENBQ0E7O0FBQ0EsTUFBTUMsc0NBQWEsR0FBRyxFQUF0QjtBQUVPLE1BQU1zSixpREFBTixTQUF1Q2g4Qyx3QkFBSyxDQUFDQyxhQUE3QyxDQUEyRDtBQUNoRUMsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUt5eUMsYUFBTCxHQUFxQixLQUFLQSxhQUFMLENBQW1CcnlDLElBQW5CLENBQXdCLElBQXhCLENBQXJCO0FBQ0Q7O0FBRURzekMsWUFBVSxHQUFHO0FBQ1gsVUFBTTtBQUFFMXpDO0FBQUYsUUFBWSxJQUFsQjtBQUNBLFdBQU9BLEtBQUssQ0FBQzBNLE9BQU4sQ0FBY3k0QixJQUFkLGdCQUNMLHVDQUFDLFFBQUQ7QUFDRSxVQUFJLEVBQUVubEMsS0FBSyxDQUFDME0sT0FBTixDQUFjeTRCLElBRHRCO0FBRUUsb0JBQWMsRUFBRSxLQUFLbmxDLEtBQUwsQ0FBV3F4QyxjQUY3QjtBQUdFLHFCQUFlLEVBQUMsTUFIbEI7QUFJRSxXQUFLLEVBQUVyeEMsS0FBSyxDQUFDME0sT0FBTixDQUFjb1QsS0FKdkI7QUFLRSxlQUFTLEVBQUU5ZixLQUFLLENBQUMrWDtBQUxuQixNQURLLEdBUUgsSUFSSjtBQVNEOztBQUVEaTdCLGFBQVcsR0FBRztBQUNaLFVBQU07QUFBRXp6QjtBQUFGLFFBQVksS0FBS3ZmLEtBQUwsQ0FBVzBNLE9BQTdCO0FBQ0EsV0FBTzZTLEtBQUssZ0JBQ1Y7QUFBSSxlQUFTLEVBQUU7QUFBZixPQUNHQSxLQURILGVBRUUsa0RBRkYsQ0FEVSxHQUtSLElBTEo7QUFNRDs7QUFFa0IsUUFBYmt6QixhQUFhLEdBQUc7QUFDcEIsUUFBSSxLQUFLenlDLEtBQUwsQ0FBV3lQLFFBQVgsS0FBd0IsU0FBNUIsRUFBdUM7QUFDckMsV0FBS3pQLEtBQUwsQ0FBV2lZLHVCQUFYLENBQW1DO0FBQ2pDMVYsYUFBSyxFQUFFLGNBRDBCO0FBRWpDVyxVQUFFLEVBQUUsS0FBS2xELEtBQUwsQ0FBVzh4QztBQUZrQixPQUFuQztBQUlEOztBQUNELFVBQU07QUFBRVk7QUFBRixRQUFpQixLQUFLMXlDLEtBQUwsQ0FBVzBNLE9BQWxDLENBUG9CLENBUXBCOztBQUNBLFVBQU16UixJQUFJLEdBQUcsS0FBSytFLEtBQUwsQ0FBVzBNLE9BQVgsQ0FBbUJxSixhQUFuQixJQUFxQzI4QixVQUFVLElBQUksVUFBaEU7QUFDQSxVQUFNLEtBQUsxeUMsS0FBTCxDQUFXNnlDLFFBQVgsQ0FBb0I7QUFDeEI1M0MsVUFEd0I7QUFFeEJ5QyxVQUFJLEVBQUU7QUFBRThCLFlBQUksRUFBRSxLQUFLUSxLQUFMLENBQVcwTSxPQUFYLENBQW1Cb21DLGtCQUFuQixJQUF5Q0o7QUFBakQ7QUFGa0IsS0FBcEIsQ0FBTjs7QUFJQSxRQUFJLENBQUMsS0FBSzF5QyxLQUFMLENBQVcwTSxPQUFYLENBQW1Cd04sZ0JBQXhCLEVBQTBDO0FBQ3hDLFdBQUtsYSxLQUFMLENBQVcreEMsT0FBWDtBQUNEO0FBQ0Y7O0FBRURnQixxQkFBbUIsR0FBRztBQUNwQixXQUNFLEtBQUsveUMsS0FBTCxDQUFXME0sT0FBWCxDQUFtQnFKLGFBQW5CLElBQ0EsS0FBSy9WLEtBQUwsQ0FBV3l5QyxhQURYLElBRUEsS0FBS3p5QyxLQUFMLENBQVcwTSxPQUFYLENBQW1CZ21DLFVBSHJCO0FBS0Q7O0FBRURZLGNBQVksR0FBRztBQUNiLFVBQU07QUFBRXR6QztBQUFGLFFBQVksSUFBbEI7O0FBQ0EsUUFBSSxDQUFDLEtBQUsreUMsbUJBQUwsRUFBTCxFQUFpQztBQUMvQixhQUFPLElBQVA7QUFDRDs7QUFFRCx3QkFDRSx1Q0FBQyxNQUFEO0FBQ0UsYUFBTyxFQUFFL3lDLEtBQUssQ0FBQ3l5QyxhQUFOLElBQXVCLEtBQUtBLGFBRHZDO0FBRUUsV0FBSyxFQUFFenlDLEtBQUssQ0FBQzBNLE9BQU4sQ0FBYzZtQyxZQUZ2QjtBQUdFLHFCQUFlLEVBQUV2ekMsS0FBSyxDQUFDME0sT0FBTixDQUFjOG1DO0FBSGpDLE9BS0d4ekMsS0FBSyxDQUFDME0sT0FBTixDQUFjK21DLFlBTGpCLENBREY7QUFTRDs7QUFFRHZ5QyxRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUVsQjtBQUFGLFFBQVksSUFBbEI7QUFDQSxRQUFJaUIsU0FBUyxHQUFHLDBCQUFoQjtBQUNBLFFBQUk2NkMsYUFBYSxHQUFHLHNCQUFwQjs7QUFFQSxRQUFJOTdDLEtBQUssQ0FBQ2lCLFNBQVYsRUFBcUI7QUFDbkJBLGVBQVMsSUFBSyxJQUFHakIsS0FBSyxDQUFDaUIsU0FBVSxFQUFqQztBQUNEOztBQUNELFFBQUksS0FBSzh4QyxtQkFBTCxFQUFKLEVBQWdDO0FBQzlCOXhDLGVBQVMsSUFBSSxhQUFiO0FBQ0E2NkMsbUJBQWEsSUFBSSxhQUFqQjtBQUNEOztBQUVELHdCQUNFO0FBQUssZUFBUyxFQUFFQTtBQUFoQixvQkFDRTtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFLHVDQUFDLHVCQUFELHVDQUNNOTdDLEtBRE47QUFFRSxlQUFTLEVBQUVpQixTQUZiO0FBR0UsZUFBUyxFQUFFLEtBQUtqQixLQUFMLENBQVdxeUM7QUFIeEIscUJBS0U7QUFDRSxTQUFHLEVBQUUxa0IsT0FBTyxDQUFDM3RCLEtBQUssQ0FBQzBNLE9BQU4sQ0FBY3ZOLElBQWYsQ0FBUCxJQUErQm16QywwQ0FEdEM7QUFFRSxlQUFTLEVBQUMsdUJBRlo7QUFHRSxTQUFHLEVBQUV0eUMsS0FBSyxDQUFDME0sT0FBTixDQUFjNm5DLGFBQWQsSUFBK0JoQyxzQ0FBYUE7QUFIbkQsTUFMRixlQVVFO0FBQ0UsU0FBRyxFQUNENWtCLE9BQU8sQ0FBQzN0QixLQUFLLENBQUMwTSxPQUFOLENBQWM4bkMsZUFBZCxJQUFpQ3gwQyxLQUFLLENBQUMwTSxPQUFOLENBQWN2TixJQUFoRCxDQUFQLElBQ0FtekMsMENBSEo7QUFLRSxlQUFTLEVBQUMsc0JBTFo7QUFNRSxTQUFHLEVBQUV0eUMsS0FBSyxDQUFDME0sT0FBTixDQUFjNm5DLGFBQWQsSUFBK0JoQyxzQ0FBYUE7QUFObkQsTUFWRixlQWtCRTtBQUFLLGVBQVMsRUFBQztBQUFmLE9BQ0csS0FBS1MsV0FBTCxFQURILGVBRUU7QUFBRyxlQUFTLEVBQUM7QUFBYixPQUFxQixLQUFLVSxVQUFMLEVBQXJCLENBRkYsRUFHRyxLQUFLMXpDLEtBQUwsQ0FBV3kwQyxZQUhkLENBbEJGLGVBdUJHO0FBQUssZUFBUyxFQUFDO0FBQWYsT0FBa0MsS0FBS25CLFlBQUwsRUFBbEMsQ0F2QkgsQ0FERixDQURGLENBREY7QUErQkQ7O0FBckgrRCxDOztBQ2RsRTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7Q0FHQTs7QUFDTyxNQUFNajRCLGlCQUFpQixHQUFHO0FBQy9CMGdDLGdCQUFjLEVBQUV2SiwyQkFEZTtBQUUvQndKLG9CQUFrQixFQUFFdkIsaUJBRlc7QUFHL0J3QixvQkFBa0IsRUFBRWhDLGdCQUhXO0FBSS9CaUMsd0JBQXNCLEVBQUVSLG1CQUpPO0FBSy9CUywrQkFBNkIsRUFBRVAseUJBTEE7QUFNL0JRLGFBQVcsRUFBRTFGLFVBTmtCO0FBTy9CMkYsNkJBQTJCLEVBQUVSLGlEQUF3QkE7QUFQdEIsQ0FBMUIsQzs7Ozs7Ozs7Ozs7Ozs7QUNmUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLE1BQU1TLFVBQU4sQ0FBaUI7QUFDdEI7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRXY4QyxhQUFXLENBQUN4QixLQUFELEVBQVFnK0MsSUFBUixFQUFjO0FBQ3ZCLFNBQUtoK0MsS0FBTCxHQUFhQSxLQUFiO0FBQ0EsU0FBS2crQyxJQUFMLEdBQVlBLElBQVo7QUFDRDtBQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7OztBQUNFQyxTQUFPLEdBQUc7QUFDUixXQUFPLEtBQUtqK0MsS0FBWjtBQUNEO0FBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNFeWEsVUFBUSxHQUFHO0FBQ1QsVUFBTSxJQUFJdmMsS0FBSixDQUFVLG1EQUFWLENBQU47QUFDRDs7QUFsQ3FCO0FBcUNqQixNQUFNZ2dELFVBQU4sU0FBeUJILFVBQXpCLENBQW9DO0FBQ3pDRSxTQUFPLEdBQUc7QUFDUixXQUFPLElBQVA7QUFDRDs7QUFFRHhqQyxVQUFRLEdBQUc7QUFDVCxXQUFRLElBQUcsS0FBS3phLEtBQUwsSUFBYyxLQUFNLEdBQS9CO0FBQ0Q7O0FBUHdDO0FBVXBDLE1BQU1tK0MsWUFBTixTQUEyQkosVUFBM0IsQ0FBc0M7QUFDM0N2OEMsYUFBVyxDQUFDeEIsS0FBRCxFQUFRZytDLElBQVIsRUFBYztBQUN2QixVQUFNSSxVQUFVLENBQUNwK0MsS0FBRCxDQUFoQixFQUF5QmcrQyxJQUF6QjtBQUNEOztBQUVEdmpDLFVBQVEsQ0FBQzdDLE1BQUQsRUFBUztBQUNmLFFBQUk7QUFDRixZQUFNeW1DLEVBQUUsR0FBR3ptQyxNQUFNLENBQUMwbUMsa0JBQVAsQ0FDVDFILElBQUksQ0FBQ0MsWUFESSxFQUNVLEtBQUttSCxJQURmLENBQVg7O0FBR0EsYUFBT0ssRUFBRSxDQUFDeFEsTUFBSCxDQUFVLEtBQUs3dEMsS0FBZixDQUFQO0FBQ0QsS0FMRCxDQUtFLE9BQU9pRSxDQUFQLEVBQVU7QUFDVjtBQUNBLGFBQU8sS0FBS2pFLEtBQVo7QUFDRDtBQUNGOztBQWYwQztBQWtCdEMsTUFBTXUrQyxjQUFOLFNBQTZCUixVQUE3QixDQUF3QztBQUM3Q3Y4QyxhQUFXLENBQUN4QixLQUFELEVBQVFnK0MsSUFBUixFQUFjO0FBQ3ZCLFVBQU0sSUFBSWwzQyxJQUFKLENBQVM5RyxLQUFULENBQU4sRUFBdUJnK0MsSUFBdkI7QUFDRDs7QUFFRHZqQyxVQUFRLENBQUM3QyxNQUFELEVBQVM7QUFDZixRQUFJO0FBQ0YsWUFBTTRtQyxHQUFHLEdBQUc1bUMsTUFBTSxDQUFDMG1DLGtCQUFQLENBQ1YxSCxJQUFJLENBQUM2SCxjQURLLEVBQ1csS0FBS1QsSUFEaEIsQ0FBWjs7QUFHQSxhQUFPUSxHQUFHLENBQUMzUSxNQUFKLENBQVcsS0FBSzd0QyxLQUFoQixDQUFQO0FBQ0QsS0FMRCxDQUtFLE9BQU9pRSxDQUFQLEVBQVU7QUFDVjtBQUNBLGFBQU8sS0FBS2pFLEtBQVo7QUFDRDtBQUNGOztBQWY0QyxDOztBQzFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUEsU0FBUzArQyxLQUFULENBQWVDLE9BQWYsRUFBd0JYLElBQXhCLEVBQThCO0FBQzVCLFNBQU9yekMsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0IwM0IsT0FBbEIsRUFBMkI1N0MsTUFBTSxDQUFDaTdDLElBQUQsQ0FBakMsQ0FBUDtBQUNEOztBQUVELFNBQVNqN0MsTUFBVCxDQUFnQmk3QyxJQUFoQixFQUFzQjtBQUNwQixRQUFNWSxTQUFTLEdBQUcsRUFBbEI7O0FBQ0EsT0FBSyxNQUFNLENBQUM3K0MsSUFBRCxFQUFPOCtDLEdBQVAsQ0FBWCxJQUEwQmwwQyxNQUFNLENBQUN1VixPQUFQLENBQWU4OUIsSUFBZixDQUExQixFQUFnRDtBQUM5Q1ksYUFBUyxDQUFDNytDLElBQUQsQ0FBVCxHQUFrQjgrQyxHQUFHLENBQUNaLE9BQUosRUFBbEI7QUFDRDs7QUFDRCxTQUFPVyxTQUFQO0FBQ0Q7O0FBR0QsU0FBU0UsTUFBVCxDQUFnQixDQUFDQyxHQUFELENBQWhCLEVBQXVCZixJQUF2QixFQUE2QjtBQUMzQixNQUFJZSxHQUFHLFlBQVliLFVBQW5CLEVBQStCO0FBQzdCLFdBQU9hLEdBQVA7QUFDRDs7QUFDRCxNQUFJQSxHQUFHLFlBQVlaLFlBQW5CLEVBQWlDO0FBQy9CLFdBQU8sSUFBSUEsWUFBSixDQUFpQlksR0FBRyxDQUFDZCxPQUFKLEVBQWpCLEVBQWdDUyxLQUFLLENBQUNLLEdBQUcsQ0FBQ2YsSUFBTCxFQUFXQSxJQUFYLENBQXJDLENBQVA7QUFDRDs7QUFDRCxTQUFPLElBQUlFLFVBQUosQ0FBZSxVQUFmLENBQVA7QUFDRDtBQUdELFNBQVNjLFFBQVQsQ0FBa0IsQ0FBQ0QsR0FBRCxDQUFsQixFQUF5QmYsSUFBekIsRUFBK0I7QUFDN0IsTUFBSWUsR0FBRyxZQUFZYixVQUFuQixFQUErQjtBQUM3QixXQUFPYSxHQUFQO0FBQ0Q7O0FBQ0QsTUFBSUEsR0FBRyxZQUFZUixjQUFuQixFQUFtQztBQUNqQyxXQUFPLElBQUlBLGNBQUosQ0FBbUJRLEdBQUcsQ0FBQ2QsT0FBSixFQUFuQixFQUFrQ1MsS0FBSyxDQUFDSyxHQUFHLENBQUNmLElBQUwsRUFBV0EsSUFBWCxDQUF2QyxDQUFQO0FBQ0Q7O0FBQ0QsU0FBTyxJQUFJRSxVQUFKLENBQWUsWUFBZixDQUFQO0FBQ0QsQzs7QUMvQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7Q0FJQTs7QUFDQSxNQUFNZSxvQkFBb0IsR0FBRyxJQUE3QixDLENBRUE7O0FBQ0EsTUFBTUMsR0FBRyxHQUFHLFFBQVo7QUFDQSxNQUFNQyxHQUFHLEdBQUcsUUFBWixDLENBR0E7O0FBQ0EsU0FBU2gxQyxjQUFULENBQWV5TixNQUFmLEVBQXVCOEksUUFBdkIsRUFBaUN4YyxHQUFqQyxFQUFzQztBQUNwQyxNQUFJQSxHQUFHLEtBQUt3YyxRQUFaLEVBQXNCO0FBQ3BCO0FBQ0EsV0FBTyxJQUFQO0FBQ0QsR0FKbUMsQ0FNcEM7OztBQUNBLE1BQUl4YyxHQUFHLFlBQVlpNkMsWUFBZixJQUNDejlCLFFBQVEsWUFBWXk5QixZQURyQixJQUVDajZDLEdBQUcsQ0FBQ2xFLEtBQUosS0FBYzBnQixRQUFRLENBQUMxZ0IsS0FGNUIsRUFFbUM7QUFDakMsV0FBTyxJQUFQO0FBQ0Q7O0FBRUQsTUFBSTBnQixRQUFRLFlBQVl5OUIsWUFBcEIsSUFBb0MsT0FBT2o2QyxHQUFQLEtBQWUsUUFBdkQsRUFBaUU7QUFDL0QsUUFBSWs3QyxRQUFRLEdBQUd4bkMsTUFBTSxDQUNsQjBtQyxrQkFEWSxDQUNPMUgsSUFBSSxDQUFDeUksV0FEWixFQUN5QjMrQixRQUFRLENBQUNzOUIsSUFEbEMsRUFFWnNCLE1BRlksQ0FFTDUrQixRQUFRLENBQUMxZ0IsS0FGSixDQUFmOztBQUdBLFFBQUlrRSxHQUFHLEtBQUtrN0MsUUFBWixFQUFzQjtBQUNwQixhQUFPLElBQVA7QUFDRDtBQUNGOztBQUVELFNBQU8sS0FBUDtBQUNELEMsQ0FFRDs7O0FBQ0EsU0FBU0csVUFBVCxDQUFvQkMsS0FBcEIsRUFBMkJDLFFBQTNCLEVBQXFDQyxJQUFyQyxFQUEyQztBQUN6QyxNQUFJRCxRQUFRLENBQUNDLElBQUQsQ0FBWixFQUFvQjtBQUNsQixXQUFPQyxJQUFJLENBQUNILEtBQUQsRUFBUUMsUUFBUSxDQUFDQyxJQUFELENBQWhCLENBQVg7QUFDRDs7QUFFREYsT0FBSyxDQUFDN3BDLE1BQU4sQ0FBYW5DLElBQWIsQ0FBa0IsSUFBSW9zQyxVQUFKLENBQWUsWUFBZixDQUFsQjtBQUNBLFNBQU8sSUFBSTFCLFVBQUosRUFBUDtBQUNELEMsQ0FFRDs7O0FBQ0EsU0FBUzJCLFlBQVQsQ0FBc0JMLEtBQXRCLEVBQTZCditDLElBQTdCLEVBQW1DO0FBQ2pDLFFBQU02K0MsVUFBVSxHQUFHLEVBQW5CO0FBQ0EsUUFBTUMsS0FBSyxHQUFHLEVBQWQ7O0FBRUEsT0FBSyxNQUFNaEIsR0FBWCxJQUFrQjk5QyxJQUFsQixFQUF3QjtBQUN0QixRQUFJODlDLEdBQUcsQ0FBQ3JpRCxJQUFKLEtBQWEsTUFBakIsRUFBeUI7QUFDdkJxakQsV0FBSyxDQUFDaEIsR0FBRyxDQUFDaC9DLElBQUwsQ0FBTCxHQUFrQjQvQyxJQUFJLENBQUNILEtBQUQsRUFBUVQsR0FBRyxDQUFDLytDLEtBQVosQ0FBdEI7QUFDRCxLQUZELE1BRU87QUFDTDgvQyxnQkFBVSxDQUFDdHNDLElBQVgsQ0FBZ0Jtc0MsSUFBSSxDQUFDSCxLQUFELEVBQVFULEdBQVIsQ0FBcEI7QUFDRDtBQUNGOztBQUVELFNBQU8sQ0FBQ2UsVUFBRCxFQUFhQyxLQUFiLENBQVA7QUFDRCxDLENBRUQ7OztBQUNBLFNBQVNKLElBQVQsQ0FBY0gsS0FBZCxFQUFxQlEsSUFBckIsRUFBMkI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsTUFBSSxPQUFPQSxJQUFQLEtBQWdCLFFBQXBCLEVBQThCO0FBQzVCLFdBQU9SLEtBQUssQ0FBQzVuQyxNQUFOLENBQWFxb0MsVUFBYixDQUF3QkQsSUFBeEIsQ0FBUDtBQUNELEdBTndCLENBUXpCOzs7QUFDQSxNQUFJQSxJQUFJLFlBQVk5QixVQUFwQixFQUFnQztBQUM5QixXQUFPOEIsSUFBUDtBQUNELEdBWHdCLENBYXpCO0FBQ0E7OztBQUNBLE1BQUlyc0MsS0FBSyxDQUFDbTlCLE9BQU4sQ0FBY2tQLElBQWQsQ0FBSixFQUF5QjtBQUN2QixXQUFPRSxPQUFPLENBQUNWLEtBQUQsRUFBUVEsSUFBUixDQUFkO0FBQ0Q7O0FBRUQsVUFBUUEsSUFBSSxDQUFDdGpELElBQWI7QUFDRSxTQUFLLEtBQUw7QUFDRSxhQUFPc2pELElBQUksQ0FBQ2hnRCxLQUFaOztBQUNGLFNBQUssS0FBTDtBQUNFLGFBQU8sSUFBSW0rQyxZQUFKLENBQWlCNkIsSUFBSSxDQUFDaGdELEtBQXRCLEVBQTZCO0FBQ2xDazNDLDZCQUFxQixFQUFFOEksSUFBSSxDQUFDRztBQURNLE9BQTdCLENBQVA7O0FBR0YsU0FBSyxLQUFMO0FBQ0UsYUFBT0MsaUJBQWlCLENBQUNaLEtBQUQsRUFBUVEsSUFBUixDQUF4Qjs7QUFDRixTQUFLLE1BQUw7QUFDRSxhQUFPSyxnQkFBZ0IsQ0FBQ2IsS0FBRCxFQUFRUSxJQUFSLENBQXZCOztBQUNGLFNBQUssTUFBTDtBQUNFLGFBQU9NLGFBQWEsQ0FBQ2QsS0FBRCxFQUFRUSxJQUFSLENBQXBCOztBQUNGLFNBQUssTUFBTDtBQUNFLGFBQU9PLGlCQUFpQixDQUFDZixLQUFELEVBQVFRLElBQVIsQ0FBeEI7O0FBQ0YsU0FBSyxRQUFMO0FBQ0UsYUFBT1EsZ0JBQWdCLENBQUNoQixLQUFELEVBQVFRLElBQVIsQ0FBdkI7O0FBQ0YsU0FBS3Z1QyxTQUFMO0FBQWdCO0FBQ2Q7QUFDQSxZQUFJdXVDLElBQUksQ0FBQ2hnRCxLQUFMLEtBQWUsSUFBZixJQUF1QmdnRCxJQUFJLENBQUNoZ0QsS0FBTCxLQUFleVIsU0FBMUMsRUFBcUQ7QUFDbkQsaUJBQU9rdUMsSUFBSSxDQUFDSCxLQUFELEVBQVFRLElBQUksQ0FBQ2hnRCxLQUFiLENBQVg7QUFDRDs7QUFFRHcvQyxhQUFLLENBQUM3cEMsTUFBTixDQUFhbkMsSUFBYixDQUFrQixJQUFJb3NDLFVBQUosQ0FBZSxVQUFmLENBQWxCO0FBQ0EsZUFBTyxJQUFJMUIsVUFBSixFQUFQO0FBQ0Q7O0FBQ0Q7QUFDRSxhQUFPLElBQUlBLFVBQUosRUFBUDtBQTNCSjtBQTZCRCxDLENBRUQ7OztBQUNBLFNBQVNrQyxpQkFBVCxDQUEyQlosS0FBM0IsRUFBa0M7QUFBQ3ovQztBQUFELENBQWxDLEVBQTBDO0FBQ3hDLE1BQUksQ0FBQ3kvQyxLQUFLLENBQUN2K0MsSUFBUCxJQUFlLENBQUN1K0MsS0FBSyxDQUFDditDLElBQU4sQ0FBV2l3QyxjQUFYLENBQTBCbnhDLElBQTFCLENBQXBCLEVBQXFEO0FBQ25ELFFBQUl5L0MsS0FBSyxDQUFDaUIsbUJBQU4sS0FBOEIsS0FBbEMsRUFBeUM7QUFDdkNqQixXQUFLLENBQUM3cEMsTUFBTixDQUFhbkMsSUFBYixDQUFrQixJQUFJa3RDLGNBQUosQ0FBb0IscUJBQW9CM2dELElBQUssRUFBN0MsQ0FBbEI7QUFDRDs7QUFDRCxXQUFPLElBQUltK0MsVUFBSixDQUFnQixJQUFHbitDLElBQUssRUFBeEIsQ0FBUDtBQUNEOztBQUVELFFBQU1nL0MsR0FBRyxHQUFHUyxLQUFLLENBQUN2K0MsSUFBTixDQUFXbEIsSUFBWCxDQUFaLENBUndDLENBVXhDOztBQUNBLE1BQUlnL0MsR0FBRyxZQUFZaEIsVUFBbkIsRUFBK0I7QUFDN0IsV0FBT2dCLEdBQVA7QUFDRCxHQWJ1QyxDQWV4Qzs7O0FBQ0EsVUFBUSxPQUFPQSxHQUFmO0FBQ0UsU0FBSyxRQUFMO0FBQ0UsYUFBT0EsR0FBUDs7QUFDRixTQUFLLFFBQUw7QUFDRSxhQUFPLElBQUlaLFlBQUosQ0FBaUJZLEdBQWpCLENBQVA7O0FBQ0YsU0FBSyxRQUFMO0FBQ0UsVUFBSUEsR0FBRyxZQUFZajRDLElBQW5CLEVBQXlCO0FBQ3ZCLGVBQU8sSUFBSXkzQyxjQUFKLENBQW1CUSxHQUFuQixDQUFQO0FBQ0Q7O0FBQ0g7QUFDRVMsV0FBSyxDQUFDN3BDLE1BQU4sQ0FBYW5DLElBQWIsQ0FDRSxJQUFJbXRDLFNBQUosQ0FBZSw4QkFBNkI1Z0QsSUFBSyxLQUFJLE9BQU9nL0MsR0FBSSxFQUFoRSxDQURGO0FBR0EsYUFBTyxJQUFJYixVQUFKLENBQWdCLElBQUduK0MsSUFBSyxFQUF4QixDQUFQO0FBYko7QUFlRCxDLENBRUQ7OztBQUNBLFNBQVNzZ0QsZ0JBQVQsQ0FBMEJiLEtBQTFCLEVBQWlDO0FBQUN6L0MsTUFBRDtBQUFPNmdEO0FBQVAsQ0FBakMsRUFBK0M7QUFDN0MsUUFBTWovQyxPQUFPLEdBQUc2OUMsS0FBSyxDQUFDNW5DLE1BQU4sQ0FBYWlwQyxTQUFiLENBQXVCdG9DLEdBQXZCLENBQTJCeFksSUFBM0IsQ0FBaEI7O0FBQ0EsTUFBSSxDQUFDNEIsT0FBTCxFQUFjO0FBQ1osVUFBTXVZLEdBQUcsR0FBRyxJQUFJd21DLGNBQUosQ0FBb0Isb0JBQW1CM2dELElBQUssRUFBNUMsQ0FBWjtBQUNBeS9DLFNBQUssQ0FBQzdwQyxNQUFOLENBQWFuQyxJQUFiLENBQWtCMEcsR0FBbEI7QUFDQSxXQUFPLElBQUlna0MsVUFBSixDQUFlbitDLElBQWYsQ0FBUDtBQUNEOztBQUVELE1BQUk2Z0QsSUFBSixFQUFVO0FBQ1IsVUFBTUUsU0FBUyxHQUFHbi9DLE9BQU8sQ0FBQ2l2QyxLQUFSLElBQWlCanZDLE9BQU8sQ0FBQ2l2QyxLQUFSLENBQWNnUSxJQUFkLENBQW5DOztBQUNBLFFBQUlFLFNBQUosRUFBZTtBQUNiLGFBQU9uQixJQUFJLENBQUNILEtBQUQsRUFBUXNCLFNBQVIsQ0FBWDtBQUNEOztBQUNEdEIsU0FBSyxDQUFDN3BDLE1BQU4sQ0FBYW5DLElBQWIsQ0FBa0IsSUFBSWt0QyxjQUFKLENBQW9CLHNCQUFxQkUsSUFBSyxFQUE5QyxDQUFsQjtBQUNBLFdBQU8sSUFBSTFDLFVBQUosQ0FBZ0IsR0FBRW4rQyxJQUFLLElBQUc2Z0QsSUFBSyxFQUEvQixDQUFQO0FBQ0Q7O0FBRUQsU0FBT2pCLElBQUksQ0FBQ0gsS0FBRCxFQUFRNzlDLE9BQVIsQ0FBWDtBQUNELEMsQ0FFRDs7O0FBQ0EsU0FBUzIrQyxhQUFULENBQXVCZCxLQUF2QixFQUE4QjtBQUFDei9DLE1BQUQ7QUFBTzZnRCxNQUFQO0FBQWEzL0M7QUFBYixDQUE5QixFQUFrRDtBQUNoRCxRQUFNMEQsRUFBRSxHQUFJLElBQUc1RSxJQUFLLEVBQXBCOztBQUNBLFFBQU1naEQsSUFBSSxHQUFHdkIsS0FBSyxDQUFDNW5DLE1BQU4sQ0FBYW9wQyxNQUFiLENBQW9Cem9DLEdBQXBCLENBQXdCNVQsRUFBeEIsQ0FBYjs7QUFDQSxNQUFJLENBQUNvOEMsSUFBTCxFQUFXO0FBQ1QsVUFBTTdtQyxHQUFHLEdBQUcsSUFBSXdtQyxjQUFKLENBQW9CLGlCQUFnQi83QyxFQUFHLEVBQXZDLENBQVo7QUFDQTY2QyxTQUFLLENBQUM3cEMsTUFBTixDQUFhbkMsSUFBYixDQUFrQjBHLEdBQWxCO0FBQ0EsV0FBTyxJQUFJZ2tDLFVBQUosQ0FBZXY1QyxFQUFmLENBQVA7QUFDRCxHQVArQyxDQVNoRDs7O0FBQ0EsUUFBTSxHQUFHczhDLE9BQUgsSUFBY3BCLFlBQVksQ0FBQ0wsS0FBRCxFQUFRditDLElBQVIsQ0FBaEM7QUFDQSxRQUFNaWdELEtBQUssR0FBRyxFQUFDLEdBQUcxQixLQUFKO0FBQVd2K0MsUUFBSSxFQUFFZ2dELE9BQWpCO0FBQTBCUix1QkFBbUIsRUFBRTtBQUEvQyxHQUFkOztBQUVBLE1BQUlHLElBQUosRUFBVTtBQUNSLFVBQU1FLFNBQVMsR0FBR0MsSUFBSSxDQUFDblEsS0FBTCxJQUFjbVEsSUFBSSxDQUFDblEsS0FBTCxDQUFXZ1EsSUFBWCxDQUFoQzs7QUFDQSxRQUFJRSxTQUFKLEVBQWU7QUFDYixhQUFPbkIsSUFBSSxDQUFDdUIsS0FBRCxFQUFRSixTQUFSLENBQVg7QUFDRDs7QUFDRHRCLFNBQUssQ0FBQzdwQyxNQUFOLENBQWFuQyxJQUFiLENBQWtCLElBQUlrdEMsY0FBSixDQUFvQixzQkFBcUJFLElBQUssRUFBOUMsQ0FBbEI7QUFDQSxXQUFPLElBQUkxQyxVQUFKLENBQWdCLEdBQUV2NUMsRUFBRyxJQUFHaThDLElBQUssRUFBN0IsQ0FBUDtBQUNEOztBQUVELFNBQU9qQixJQUFJLENBQUN1QixLQUFELEVBQVFILElBQVIsQ0FBWDtBQUNELEMsQ0FFRDs7O0FBQ0EsU0FBU1IsaUJBQVQsQ0FBMkJmLEtBQTNCLEVBQWtDO0FBQUN6L0MsTUFBRDtBQUFPa0I7QUFBUCxDQUFsQyxFQUFnRDtBQUM5QztBQUNBO0FBQ0EsUUFBTUgsSUFBSSxHQUFHMCtDLEtBQUssQ0FBQzVuQyxNQUFOLENBQWF1cEMsVUFBYixDQUF3QnBoRCxJQUF4QixLQUFpQ3FoRCx3QkFBUSxDQUFDcmhELElBQUQsQ0FBdEQ7O0FBQ0EsTUFBSSxDQUFDZSxJQUFMLEVBQVc7QUFDVDArQyxTQUFLLENBQUM3cEMsTUFBTixDQUFhbkMsSUFBYixDQUFrQixJQUFJa3RDLGNBQUosQ0FBb0IscUJBQW9CM2dELElBQUssSUFBN0MsQ0FBbEI7QUFDQSxXQUFPLElBQUltK0MsVUFBSixDQUFnQixHQUFFbitDLElBQUssSUFBdkIsQ0FBUDtBQUNEOztBQUVELE1BQUksT0FBT2UsSUFBUCxLQUFnQixVQUFwQixFQUFnQztBQUM5QjArQyxTQUFLLENBQUM3cEMsTUFBTixDQUFhbkMsSUFBYixDQUFrQixJQUFJbXRDLFNBQUosQ0FBZSxZQUFXNWdELElBQUssb0JBQS9CLENBQWxCO0FBQ0EsV0FBTyxJQUFJbStDLFVBQUosQ0FBZ0IsR0FBRW4rQyxJQUFLLElBQXZCLENBQVA7QUFDRDs7QUFFRCxNQUFJO0FBQ0YsV0FBT2UsSUFBSSxDQUFDLEdBQUcrK0MsWUFBWSxDQUFDTCxLQUFELEVBQVF2K0MsSUFBUixDQUFoQixDQUFYO0FBQ0QsR0FGRCxDQUVFLE9BQU9nRCxDQUFQLEVBQVU7QUFDVjtBQUNBLFdBQU8sSUFBSWk2QyxVQUFKLENBQWdCLEdBQUVuK0MsSUFBSyxJQUF2QixDQUFQO0FBQ0Q7QUFDRixDLENBRUQ7OztBQUNBLFNBQVN5Z0QsZ0JBQVQsQ0FBMEJoQixLQUExQixFQUFpQztBQUFDOStCLFVBQUQ7QUFBVysrQixVQUFYO0FBQXFCQztBQUFyQixDQUFqQyxFQUE2RDtBQUMzRCxNQUFJMkIsR0FBRyxHQUFHMUIsSUFBSSxDQUFDSCxLQUFELEVBQVE5K0IsUUFBUixDQUFkOztBQUNBLE1BQUkyZ0MsR0FBRyxZQUFZbkQsVUFBbkIsRUFBK0I7QUFDN0IsVUFBTW9ELE9BQU8sR0FBRy9CLFVBQVUsQ0FBQ0MsS0FBRCxFQUFRQyxRQUFSLEVBQWtCQyxJQUFsQixDQUExQjtBQUNBLFdBQU9DLElBQUksQ0FBQ0gsS0FBRCxFQUFROEIsT0FBUixDQUFYO0FBQ0QsR0FMMEQsQ0FPM0Q7OztBQUNBLE9BQUssTUFBTUEsT0FBWCxJQUFzQjdCLFFBQXRCLEVBQWdDO0FBQzlCLFVBQU12N0MsR0FBRyxHQUFHeTdDLElBQUksQ0FBQ0gsS0FBRCxFQUFROEIsT0FBTyxDQUFDcDlDLEdBQWhCLENBQWhCOztBQUNBLFFBQUlpRyxjQUFLLENBQUNxMUMsS0FBSyxDQUFDNW5DLE1BQVAsRUFBZXlwQyxHQUFmLEVBQW9CbjlDLEdBQXBCLENBQVQsRUFBbUM7QUFDakMsYUFBT3k3QyxJQUFJLENBQUNILEtBQUQsRUFBUThCLE9BQVIsQ0FBWDtBQUNEO0FBQ0Y7O0FBRUQsUUFBTUEsT0FBTyxHQUFHL0IsVUFBVSxDQUFDQyxLQUFELEVBQVFDLFFBQVIsRUFBa0JDLElBQWxCLENBQTFCO0FBQ0EsU0FBT0MsSUFBSSxDQUFDSCxLQUFELEVBQVE4QixPQUFSLENBQVg7QUFDRCxDLENBRUQ7OztBQUNBLFNBQVNwQixPQUFULENBQWlCVixLQUFqQixFQUF3QitCLEdBQXhCLEVBQTZCO0FBQzNCLE1BQUkvQixLQUFLLENBQUNnQyxLQUFOLENBQVlocEIsR0FBWixDQUFnQitvQixHQUFoQixDQUFKLEVBQTBCO0FBQ3hCL0IsU0FBSyxDQUFDN3BDLE1BQU4sQ0FBYW5DLElBQWIsQ0FBa0IsSUFBSW9zQyxVQUFKLENBQWUsa0JBQWYsQ0FBbEI7QUFDQSxXQUFPLElBQUkxQixVQUFKLEVBQVA7QUFDRCxHQUowQixDQU0zQjs7O0FBQ0FzQixPQUFLLENBQUNnQyxLQUFOLENBQVl0dkMsR0FBWixDQUFnQnF2QyxHQUFoQjtBQUNBLFFBQU1yc0MsTUFBTSxHQUFHLEVBQWYsQ0FSMkIsQ0FVM0I7QUFDQTs7QUFDQSxRQUFNdXNDLFlBQVksR0FBR2pDLEtBQUssQ0FBQzVuQyxNQUFOLENBQWE4cEMsYUFBYixJQUE4QkgsR0FBRyxDQUFDejhDLE1BQUosR0FBYSxDQUFoRTs7QUFFQSxPQUFLLE1BQU0rckMsSUFBWCxJQUFtQjBRLEdBQW5CLEVBQXdCO0FBQ3RCLFFBQUksT0FBTzFRLElBQVAsS0FBZ0IsUUFBcEIsRUFBOEI7QUFDNUIzN0IsWUFBTSxDQUFDMUIsSUFBUCxDQUFZZ3NDLEtBQUssQ0FBQzVuQyxNQUFOLENBQWFxb0MsVUFBYixDQUF3QnBQLElBQXhCLENBQVo7QUFDQTtBQUNEOztBQUVELFVBQU04USxJQUFJLEdBQUdoQyxJQUFJLENBQUNILEtBQUQsRUFBUTNPLElBQVIsQ0FBSixDQUFrQnAyQixRQUFsQixDQUEyQitrQyxLQUFLLENBQUM1bkMsTUFBakMsQ0FBYjs7QUFFQSxRQUFJNnBDLFlBQUosRUFBa0I7QUFDaEJ2c0MsWUFBTSxDQUFDMUIsSUFBUCxDQUFZMHJDLEdBQVo7QUFDRDs7QUFFRCxRQUFJeUMsSUFBSSxDQUFDNzhDLE1BQUwsR0FBY202QyxvQkFBbEIsRUFBd0M7QUFDdENPLFdBQUssQ0FBQzdwQyxNQUFOLENBQWFuQyxJQUFiLENBQ0UsSUFBSW9zQyxVQUFKLENBQ0Usc0NBQ0MsSUFBRytCLElBQUksQ0FBQzc4QyxNQUFPLG9CQUFtQm02QyxvQkFBcUIsR0FGMUQsQ0FERjtBQU1BL3BDLFlBQU0sQ0FBQzFCLElBQVAsQ0FBWW11QyxJQUFJLENBQUNqeUMsS0FBTCxDQUFXdXZDLG9CQUFYLENBQVo7QUFDRCxLQVJELE1BUU87QUFDTC9wQyxZQUFNLENBQUMxQixJQUFQLENBQVltdUMsSUFBWjtBQUNEOztBQUVELFFBQUlGLFlBQUosRUFBa0I7QUFDaEJ2c0MsWUFBTSxDQUFDMUIsSUFBUCxDQUFZMnJDLEdBQVo7QUFDRDtBQUNGOztBQUVESyxPQUFLLENBQUNnQyxLQUFOLENBQVkvMkIsTUFBWixDQUFtQjgyQixHQUFuQjtBQUNBLFNBQU9yc0MsTUFBTSxDQUFDMVMsSUFBUCxDQUFZLEVBQVosQ0FBUDtBQUNEO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDZSxTQUFTNFksT0FBVCxDQUFpQnhELE1BQWpCLEVBQXlCM1csSUFBekIsRUFBK0JVLE9BQS9CLEVBQXdDZ1UsTUFBTSxHQUFHLEVBQWpELEVBQXFEO0FBQ2xFLFFBQU02cEMsS0FBSyxHQUFHO0FBQ1o1bkMsVUFEWTtBQUNKM1csUUFESTtBQUNFMFUsVUFERjtBQUNVNnJDLFNBQUssRUFBRSxJQUFJSSxPQUFKLEVBRGpCO0FBRVo7QUFDQW5CLHVCQUFtQixFQUFFO0FBSFQsR0FBZDtBQUtBLFNBQU9kLElBQUksQ0FBQ0gsS0FBRCxFQUFRNzlDLE9BQVIsQ0FBSixDQUFxQjhZLFFBQXJCLENBQThCN0MsTUFBOUIsQ0FBUDtBQUNELEM7O0FDMVZjLE1BQU1pcUMsV0FBTixTQUEwQjNqRCxLQUExQixDQUFnQyxFOztDQ0UvQztBQUNBOztBQUNBLE1BQU00akQsZ0JBQWdCLEdBQUcsNEJBQXpCLEMsQ0FFQTtBQUNBOztBQUNBLE1BQU1DLGtCQUFrQixHQUFHLDBCQUEzQjtBQUNBLE1BQU1DLGdCQUFnQixHQUFHLFFBQXpCO0FBRUEsTUFBTUMsaUJBQWlCLEdBQUcsNEJBQTFCO0FBQ0EsTUFBTUMsYUFBYSxHQUFHLG1CQUF0QjtBQUNBLE1BQU1DLFlBQVksR0FBRyxpREFBckI7QUFDQSxNQUFNQyxnQkFBZ0IsR0FBRyxvQkFBekIsQyxDQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxNQUFNQyxXQUFXLEdBQUcsZUFBcEI7QUFDQSxNQUFNQyxhQUFhLEdBQUcsZ0JBQXRCLEMsQ0FFQTs7QUFDQSxNQUFNQyxnQkFBZ0IsR0FBRyxZQUF6QjtBQUNBLE1BQU1DLGlCQUFpQixHQUFHLDBDQUExQixDLENBRUE7O0FBQ0EsTUFBTUMsbUJBQW1CLEdBQUcsTUFBNUI7QUFDQSxNQUFNQyxrQkFBa0IsR0FBRyxLQUEzQixDLENBQ0E7O0FBQ0EsTUFBTUMsY0FBYyxHQUFHLFVBQXZCLEMsQ0FDQTs7QUFDQSxNQUFNQyxTQUFTLEdBQUcsT0FBbEIsQyxDQUVBOztBQUNBLE1BQU1DLGdCQUFnQixHQUFHLE9BQXpCO0FBQ0EsTUFBTUMsaUJBQWlCLEdBQUcsT0FBMUI7QUFDQSxNQUFNQyxrQkFBa0IsR0FBRyxRQUEzQjtBQUNBLE1BQU1DLG1CQUFtQixHQUFHLFNBQTVCO0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUcsV0FBekI7QUFDQSxNQUFNQyxXQUFXLEdBQUcsV0FBcEI7QUFDQSxNQUFNQyxXQUFXLEdBQUcsVUFBcEIsQyxDQUNBO0FBQ0E7O0FBQ0EsTUFBTUMsV0FBVyxHQUFHLFdBQXBCO0FBQ0EsTUFBTUMsV0FBVyxHQUFHLE1BQXBCLEMsQ0FFQTtBQUNBOztBQUNBLE1BQU1DLGNBQWMsR0FBRyxHQUF2QjtBQUVBO0FBQ0E7QUFDQTs7QUFDZSxNQUFNQyx1QkFBTixTQUE2QnRyQixHQUE3QixDQUFpQztBQUM5QztBQUNGO0FBQ0E7QUFDbUIsU0FBVnVyQixVQUFVLENBQUNyakQsTUFBRCxFQUFTO0FBQ3hCMmhELG9CQUFnQixDQUFDMkIsU0FBakIsR0FBNkIsQ0FBN0I7QUFFQSxRQUFJQyxRQUFRLEdBQUcsSUFBSSxJQUFKLEVBQWY7QUFDQSxRQUFJQyxNQUFNLEdBQUcsQ0FBYixDQUp3QixDQU14QjtBQUNBOztBQUNBLFdBQU8sSUFBUCxFQUFhO0FBQ1gsVUFBSWhZLElBQUksR0FBR21XLGdCQUFnQixDQUFDOEIsSUFBakIsQ0FBc0J6akQsTUFBdEIsQ0FBWDs7QUFDQSxVQUFJd3JDLElBQUksS0FBSyxJQUFiLEVBQW1CO0FBQ2pCO0FBQ0Q7O0FBRURnWSxZQUFNLEdBQUc3QixnQkFBZ0IsQ0FBQzJCLFNBQTFCOztBQUNBLFVBQUk7QUFDRkMsZ0JBQVEsQ0FBQzVxQixHQUFULENBQWE2UyxJQUFJLENBQUMsQ0FBRCxDQUFqQixFQUFzQmtZLFlBQVksRUFBbEM7QUFDRCxPQUZELENBRUUsT0FBTzNwQyxHQUFQLEVBQVk7QUFDWixZQUFJQSxHQUFHLFlBQVkybkMsV0FBbkIsRUFBZ0M7QUFDOUI7QUFDQTtBQUNBO0FBQ0Q7O0FBQ0QsY0FBTTNuQyxHQUFOO0FBQ0Q7QUFDRjs7QUFFRCxXQUFPd3BDLFFBQVAsQ0EzQndCLENBNkJ4QjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsYUFBU3RTLElBQVQsQ0FBYzBTLEVBQWQsRUFBa0I7QUFDaEJBLFFBQUUsQ0FBQ0wsU0FBSCxHQUFlRSxNQUFmO0FBQ0EsYUFBT0csRUFBRSxDQUFDMVMsSUFBSCxDQUFRanhDLE1BQVIsQ0FBUDtBQUNELEtBL0N1QixDQWlEeEI7QUFDQTs7O0FBQ0EsYUFBUzRqRCxXQUFULENBQXFCQyxJQUFyQixFQUEyQkMsVUFBM0IsRUFBdUM7QUFDckMsVUFBSTlqRCxNQUFNLENBQUN3akQsTUFBRCxDQUFOLEtBQW1CSyxJQUF2QixFQUE2QjtBQUMzQkwsY0FBTTtBQUNOLGVBQU8sSUFBUDtBQUNEOztBQUNELFVBQUlNLFVBQUosRUFBZ0I7QUFDZCxjQUFNLElBQUlBLFVBQUosQ0FBZ0IsWUFBV0QsSUFBSyxFQUFoQyxDQUFOO0FBQ0Q7O0FBQ0QsYUFBTyxLQUFQO0FBQ0QsS0E1RHVCLENBOER4QjtBQUNBOzs7QUFDQSxhQUFTRSxZQUFULENBQXNCSixFQUF0QixFQUEwQkcsVUFBMUIsRUFBc0M7QUFDcEMsVUFBSTdTLElBQUksQ0FBQzBTLEVBQUQsQ0FBUixFQUFjO0FBQ1pILGNBQU0sR0FBR0csRUFBRSxDQUFDTCxTQUFaO0FBQ0EsZUFBTyxJQUFQO0FBQ0Q7O0FBQ0QsVUFBSVEsVUFBSixFQUFnQjtBQUNkLGNBQU0sSUFBSUEsVUFBSixDQUFnQixZQUFXSCxFQUFFLENBQUNycEMsUUFBSCxFQUFjLEVBQXpDLENBQU47QUFDRDs7QUFDRCxhQUFPLEtBQVA7QUFDRCxLQXpFdUIsQ0EyRXhCOzs7QUFDQSxhQUFTdFEsS0FBVCxDQUFlMjVDLEVBQWYsRUFBbUI7QUFDakJBLFFBQUUsQ0FBQ0wsU0FBSCxHQUFlRSxNQUFmO0FBQ0EsVUFBSXp1QyxNQUFNLEdBQUc0dUMsRUFBRSxDQUFDRixJQUFILENBQVF6akQsTUFBUixDQUFiOztBQUNBLFVBQUkrVSxNQUFNLEtBQUssSUFBZixFQUFxQjtBQUNuQixjQUFNLElBQUkyc0MsV0FBSixDQUFpQixZQUFXaUMsRUFBRSxDQUFDcnBDLFFBQUgsRUFBYyxFQUExQyxDQUFOO0FBQ0Q7O0FBQ0RrcEMsWUFBTSxHQUFHRyxFQUFFLENBQUNMLFNBQVo7QUFDQSxhQUFPdnVDLE1BQVA7QUFDRCxLQXBGdUIsQ0FzRnhCOzs7QUFDQSxhQUFTaXZDLE1BQVQsQ0FBZ0JMLEVBQWhCLEVBQW9CO0FBQ2xCLGFBQU8zNUMsS0FBSyxDQUFDMjVDLEVBQUQsQ0FBTCxDQUFVLENBQVYsQ0FBUDtBQUNEOztBQUVELGFBQVNELFlBQVQsR0FBd0I7QUFDdEIsVUFBSTdqRCxLQUFLLEdBQUdva0QsWUFBWSxFQUF4QjtBQUNBLFVBQUl4VCxLQUFLLEdBQUd5VCxlQUFlLEVBQTNCOztBQUVBLFVBQUl6VCxLQUFLLEtBQUssSUFBZCxFQUFvQjtBQUNsQixZQUFJNXdDLEtBQUssS0FBSyxJQUFkLEVBQW9CO0FBQ2xCLGdCQUFNLElBQUk2aEQsV0FBSixDQUFnQixzQ0FBaEIsQ0FBTjtBQUNEOztBQUNELGVBQU83aEQsS0FBUDtBQUNEOztBQUVELGFBQU87QUFBQ0EsYUFBRDtBQUFRNHdDO0FBQVIsT0FBUDtBQUNEOztBQUVELGFBQVN5VCxlQUFULEdBQTJCO0FBQ3pCLFVBQUl6VCxLQUFLLEdBQUcsRUFBWjs7QUFFQSxhQUFPUSxJQUFJLENBQUMyUSxrQkFBRCxDQUFYLEVBQWlDO0FBQy9CLFlBQUloaUQsSUFBSSxHQUFHb2tELE1BQU0sQ0FBQ3BDLGtCQUFELENBQWpCO0FBQ0EsWUFBSS9oRCxLQUFLLEdBQUdva0QsWUFBWSxFQUF4Qjs7QUFDQSxZQUFJcGtELEtBQUssS0FBSyxJQUFkLEVBQW9CO0FBQ2xCLGdCQUFNLElBQUk2aEQsV0FBSixDQUFnQiwwQkFBaEIsQ0FBTjtBQUNEOztBQUNEalIsYUFBSyxDQUFDN3dDLElBQUQsQ0FBTCxHQUFjQyxLQUFkO0FBQ0Q7O0FBRUQsYUFBTzJLLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZZ21DLEtBQVosRUFBbUI5ckMsTUFBbkIsR0FBNEIsQ0FBNUIsR0FBZ0M4ckMsS0FBaEMsR0FBd0MsSUFBL0M7QUFDRDs7QUFFRCxhQUFTd1QsWUFBVCxHQUF3QjtBQUN0QjtBQUNBLFVBQUloVCxJQUFJLENBQUNpUixXQUFELENBQVIsRUFBdUI7QUFDckIsWUFBSWg3QixLQUFLLEdBQUc4OEIsTUFBTSxDQUFDOUIsV0FBRCxDQUFsQjtBQUNELE9BSnFCLENBTXRCOzs7QUFDQSxVQUFJbGlELE1BQU0sQ0FBQ3dqRCxNQUFELENBQU4sS0FBbUIsR0FBbkIsSUFBMEJ4akQsTUFBTSxDQUFDd2pELE1BQUQsQ0FBTixLQUFtQixHQUFqRCxFQUFzRDtBQUNwRDtBQUNBLGVBQU9XLG9CQUFvQixDQUFDajlCLEtBQUssR0FBRyxDQUFDQSxLQUFELENBQUgsR0FBYSxFQUFuQixFQUF1Qms5QixRQUF2QixDQUEzQjtBQUNELE9BVnFCLENBWXRCO0FBQ0E7OztBQUNBLFVBQUlDLE1BQU0sR0FBR0MsV0FBVyxFQUF4Qjs7QUFDQSxVQUFJRCxNQUFKLEVBQVk7QUFDVixZQUFJbjlCLEtBQUosRUFBVztBQUNUO0FBQ0E7QUFDQSxpQkFBT2k5QixvQkFBb0IsQ0FBQyxDQUFDajlCLEtBQUQsRUFBUW05QixNQUFSLENBQUQsRUFBa0JBLE1BQU0sQ0FBQzEvQyxNQUF6QixDQUEzQjtBQUNELFNBTFMsQ0FNVjtBQUNBO0FBQ0E7OztBQUNBMC9DLGNBQU0sQ0FBQ3hrRCxLQUFQLEdBQWUwa0QsSUFBSSxDQUFDRixNQUFNLENBQUN4a0QsS0FBUixFQUFleWlELG1CQUFmLENBQW5CO0FBQ0EsZUFBTzZCLG9CQUFvQixDQUFDLENBQUNFLE1BQUQsQ0FBRCxFQUFXQSxNQUFNLENBQUMxL0MsTUFBbEIsQ0FBM0I7QUFDRDs7QUFFRCxVQUFJdWlCLEtBQUosRUFBVztBQUNUO0FBQ0EsZUFBT3E5QixJQUFJLENBQUNyOUIsS0FBRCxFQUFRcTdCLGtCQUFSLENBQVg7QUFDRDs7QUFFRCxhQUFPLElBQVA7QUFDRCxLQTFKdUIsQ0E0SnhCOzs7QUFDQSxhQUFTNEIsb0JBQVQsQ0FBOEJLLFFBQVEsR0FBRyxFQUF6QyxFQUE2Q0MsWUFBN0MsRUFBMkQ7QUFDekQsVUFBSUMsY0FBYyxHQUFHLENBQXJCOztBQUVBLGFBQU8sSUFBUCxFQUFhO0FBQ1gsWUFBSXpULElBQUksQ0FBQ2lSLFdBQUQsQ0FBUixFQUF1QjtBQUNyQnNDLGtCQUFRLENBQUNueEMsSUFBVCxDQUFjMndDLE1BQU0sQ0FBQzlCLFdBQUQsQ0FBcEI7QUFDQTtBQUNEOztBQUVELFlBQUlsaUQsTUFBTSxDQUFDd2pELE1BQUQsQ0FBTixLQUFtQixHQUF2QixFQUE0QjtBQUMxQixjQUFJLEVBQUVrQixjQUFGLEdBQW1CdkIsY0FBdkIsRUFBdUM7QUFDckMsa0JBQU0sSUFBSXpCLFdBQUosQ0FBZ0IscUJBQWhCLENBQU47QUFDRDs7QUFDRDhDLGtCQUFRLENBQUNueEMsSUFBVCxDQUFjc3hDLGNBQWMsRUFBNUI7QUFDQTtBQUNEOztBQUVELFlBQUkza0QsTUFBTSxDQUFDd2pELE1BQUQsQ0FBTixLQUFtQixHQUF2QixFQUE0QjtBQUMxQixnQkFBTSxJQUFJOUIsV0FBSixDQUFnQiwwQkFBaEIsQ0FBTjtBQUNEOztBQUVELFlBQUkyQyxNQUFNLEdBQUdDLFdBQVcsRUFBeEI7O0FBQ0EsWUFBSUQsTUFBSixFQUFZO0FBQ1ZHLGtCQUFRLENBQUNueEMsSUFBVCxDQUFjZ3hDLE1BQWQ7QUFDQUksc0JBQVksR0FBR2grQyxJQUFJLENBQUNxaEMsR0FBTCxDQUFTMmMsWUFBVCxFQUF1QkosTUFBTSxDQUFDMS9DLE1BQTlCLENBQWY7QUFDQTtBQUNEOztBQUVEO0FBQ0Q7O0FBRUQsVUFBSTIrQyxTQUFTLEdBQUdrQixRQUFRLENBQUM3L0MsTUFBVCxHQUFrQixDQUFsQyxDQS9CeUQsQ0FnQ3pEOztBQUNBLFVBQUksT0FBTzYvQyxRQUFRLENBQUNsQixTQUFELENBQWYsS0FBK0IsUUFBbkMsRUFBNkM7QUFDM0NrQixnQkFBUSxDQUFDbEIsU0FBRCxDQUFSLEdBQXNCaUIsSUFBSSxDQUFDQyxRQUFRLENBQUNsQixTQUFELENBQVQsRUFBc0JmLGtCQUF0QixDQUExQjtBQUNEOztBQUVELFVBQUlxQyxLQUFLLEdBQUcsRUFBWjs7QUFDQSxXQUFLLElBQUlwekIsT0FBVCxJQUFvQmd6QixRQUFwQixFQUE4QjtBQUM1QixZQUFJaHpCLE9BQU8sQ0FBQ2oxQixJQUFSLEtBQWlCLFFBQXJCLEVBQStCO0FBQzdCO0FBQ0FpMUIsaUJBQU8sR0FBR0EsT0FBTyxDQUFDM3hCLEtBQVIsQ0FBYzBQLEtBQWQsQ0FBb0IsQ0FBcEIsRUFBdUJpaUIsT0FBTyxDQUFDM3hCLEtBQVIsQ0FBYzhFLE1BQWQsR0FBdUI4L0MsWUFBOUMsQ0FBVjtBQUNELFNBSEQsTUFHTyxJQUFJanpCLE9BQU8sQ0FBQ2oxQixJQUFSLEtBQWlCLEtBQXJCLEVBQTRCO0FBQ2pDO0FBQ0FpMUIsaUJBQU8sR0FBR0EsT0FBTyxDQUFDM3hCLEtBQWxCO0FBQ0Q7O0FBQ0QsWUFBSTJ4QixPQUFKLEVBQWE7QUFDWG96QixlQUFLLENBQUN2eEMsSUFBTixDQUFXbWUsT0FBWDtBQUNEO0FBQ0Y7O0FBQ0QsYUFBT296QixLQUFQO0FBQ0Q7O0FBRUQsYUFBU0QsY0FBVCxHQUEwQjtBQUN4Qlosa0JBQVksQ0FBQ3JCLGdCQUFELEVBQW1CaEIsV0FBbkIsQ0FBWjtBQUVBLFVBQUluaEMsUUFBUSxHQUFHc2tDLHFCQUFxQixFQUFwQzs7QUFDQSxVQUFJZCxZQUFZLENBQUNwQixpQkFBRCxDQUFoQixFQUFxQztBQUNuQyxlQUFPcGlDLFFBQVA7QUFDRDs7QUFFRCxVQUFJd2pDLFlBQVksQ0FBQ2hCLFdBQUQsQ0FBaEIsRUFBK0I7QUFDN0IsWUFBSXpELFFBQVEsR0FBR3dGLGFBQWEsRUFBNUI7QUFDQWYsb0JBQVksQ0FBQ3BCLGlCQUFELEVBQW9CakIsV0FBcEIsQ0FBWjtBQUNBLGVBQU87QUFBQ25sRCxjQUFJLEVBQUUsUUFBUDtBQUFpQmdrQixrQkFBakI7QUFBMkIsYUFBRysrQjtBQUE5QixTQUFQO0FBQ0Q7O0FBRUQsWUFBTSxJQUFJb0MsV0FBSixDQUFnQixvQkFBaEIsQ0FBTjtBQUNEOztBQUVELGFBQVNtRCxxQkFBVCxHQUFpQztBQUMvQixVQUFJN2tELE1BQU0sQ0FBQ3dqRCxNQUFELENBQU4sS0FBbUIsR0FBdkIsRUFBNEI7QUFDMUI7QUFDQSxlQUFPbUIsY0FBYyxFQUFyQjtBQUNEOztBQUVELFVBQUkxVCxJQUFJLENBQUMrUSxZQUFELENBQVIsRUFBd0I7QUFDdEIsWUFBSSxHQUFHK0MsS0FBSCxFQUFVbmxELElBQVYsRUFBZ0I2Z0QsSUFBSSxHQUFHLElBQXZCLElBQStCejJDLEtBQUssQ0FBQ2c0QyxZQUFELENBQXhDOztBQUVBLFlBQUkrQyxLQUFLLEtBQUssR0FBZCxFQUFtQjtBQUNqQixpQkFBTztBQUFDeG9ELGdCQUFJLEVBQUUsS0FBUDtBQUFjcUQ7QUFBZCxXQUFQO0FBQ0Q7O0FBRUQsWUFBSW1rRCxZQUFZLENBQUNqQixnQkFBRCxDQUFoQixFQUFvQztBQUNsQyxjQUFJaGlELElBQUksR0FBR2trRCxjQUFjLEVBQXpCOztBQUVBLGNBQUlELEtBQUssS0FBSyxHQUFkLEVBQW1CO0FBQ2pCO0FBQ0EsbUJBQU87QUFBQ3hvRCxrQkFBSSxFQUFFLE1BQVA7QUFBZXFELGtCQUFmO0FBQXFCNmdELGtCQUFyQjtBQUEyQjMvQztBQUEzQixhQUFQO0FBQ0Q7O0FBRUQsY0FBSW1oRCxnQkFBZ0IsQ0FBQ2hSLElBQWpCLENBQXNCcnhDLElBQXRCLENBQUosRUFBaUM7QUFDL0IsbUJBQU87QUFBQ3JELGtCQUFJLEVBQUUsTUFBUDtBQUFlcUQsa0JBQWY7QUFBcUJrQjtBQUFyQixhQUFQO0FBQ0Q7O0FBRUQsZ0JBQU0sSUFBSTRnRCxXQUFKLENBQWdCLHVDQUFoQixDQUFOO0FBQ0Q7O0FBRUQsWUFBSXFELEtBQUssS0FBSyxHQUFkLEVBQW1CO0FBQ2pCO0FBQ0EsaUJBQU87QUFBQ3hvRCxnQkFBSSxFQUFFLE1BQVA7QUFBZXFELGdCQUFmO0FBQXFCNmdELGdCQUFyQjtBQUEyQjMvQyxnQkFBSSxFQUFFO0FBQWpDLFdBQVA7QUFDRDs7QUFFRCxlQUFPO0FBQUN2RSxjQUFJLEVBQUUsTUFBUDtBQUFlcUQsY0FBZjtBQUFxQjZnRDtBQUFyQixTQUFQO0FBQ0Q7O0FBRUQsYUFBT3dFLFlBQVksRUFBbkI7QUFDRDs7QUFFRCxhQUFTRCxjQUFULEdBQTBCO0FBQ3hCLFVBQUlsa0QsSUFBSSxHQUFHLEVBQVg7O0FBQ0EsYUFBTyxJQUFQLEVBQWE7QUFDWCxnQkFBUWQsTUFBTSxDQUFDd2pELE1BQUQsQ0FBZDtBQUNFLGVBQUssR0FBTDtBQUFVO0FBQ1JBLGtCQUFNO0FBQ04sbUJBQU8xaUQsSUFBUDs7QUFDRixlQUFLd1EsU0FBTDtBQUFnQjtBQUNkLGtCQUFNLElBQUlvd0MsV0FBSixDQUFnQix3QkFBaEIsQ0FBTjtBQUxKOztBQVFBNWdELFlBQUksQ0FBQ3VTLElBQUwsQ0FBVTZ4QyxhQUFhLEVBQXZCLEVBVFcsQ0FVWDs7QUFDQW5CLG9CQUFZLENBQUNkLFdBQUQsQ0FBWjtBQUNEO0FBQ0Y7O0FBRUQsYUFBU2lDLGFBQVQsR0FBeUI7QUFDdkIsVUFBSXJGLElBQUksR0FBR2dGLHFCQUFxQixFQUFoQzs7QUFDQSxVQUFJaEYsSUFBSSxDQUFDdGpELElBQUwsS0FBYyxNQUFsQixFQUEwQjtBQUN4QixlQUFPc2pELElBQVA7QUFDRDs7QUFFRCxVQUFJa0UsWUFBWSxDQUFDZixXQUFELENBQWhCLEVBQStCO0FBQzdCO0FBQ0EsZUFBTztBQUFDem1ELGNBQUksRUFBRSxNQUFQO0FBQWVxRCxjQUFJLEVBQUVpZ0QsSUFBSSxDQUFDamdELElBQTFCO0FBQWdDQyxlQUFLLEVBQUVvbEQsWUFBWTtBQUFuRCxTQUFQO0FBQ0QsT0FUc0IsQ0FXdkI7OztBQUNBLGFBQU9wRixJQUFQO0FBQ0Q7O0FBRUQsYUFBU2lGLGFBQVQsR0FBeUI7QUFDdkIsVUFBSXhGLFFBQVEsR0FBRyxFQUFmO0FBQ0EsVUFBSTZGLEtBQUssR0FBRyxDQUFaO0FBQ0EsVUFBSTVGLElBQUo7O0FBRUEsYUFBT3RPLElBQUksQ0FBQzRRLGdCQUFELENBQVgsRUFBK0I7QUFDN0IsWUFBSStCLFdBQVcsQ0FBQyxHQUFELENBQWYsRUFBc0I7QUFDcEJyRSxjQUFJLEdBQUc0RixLQUFQO0FBQ0Q7O0FBRUQsWUFBSXBoRCxHQUFHLEdBQUdxaEQsZUFBZSxFQUF6QjtBQUNBLFlBQUl2bEQsS0FBSyxHQUFHb2tELFlBQVksRUFBeEI7O0FBQ0EsWUFBSXBrRCxLQUFLLEtBQUssSUFBZCxFQUFvQjtBQUNsQixnQkFBTSxJQUFJNmhELFdBQUosQ0FBZ0Isd0JBQWhCLENBQU47QUFDRDs7QUFDRHBDLGdCQUFRLENBQUM2RixLQUFLLEVBQU4sQ0FBUixHQUFvQjtBQUFDcGhELGFBQUQ7QUFBTWxFO0FBQU4sU0FBcEI7QUFDRDs7QUFFRCxVQUFJc2xELEtBQUssS0FBSyxDQUFkLEVBQWlCO0FBQ2YsZUFBTyxJQUFQO0FBQ0Q7O0FBRUQsVUFBSTVGLElBQUksS0FBS2p1QyxTQUFiLEVBQXdCO0FBQ3RCLGNBQU0sSUFBSW93QyxXQUFKLENBQWdCLDBCQUFoQixDQUFOO0FBQ0Q7O0FBRUQsYUFBTztBQUFDcEMsZ0JBQUQ7QUFBV0M7QUFBWCxPQUFQO0FBQ0Q7O0FBRUQsYUFBUzZGLGVBQVQsR0FBMkI7QUFDekJyQixrQkFBWSxDQUFDbkIsa0JBQUQsRUFBcUJsQixXQUFyQixDQUFaO0FBQ0EsVUFBSTM5QyxHQUFHLEdBQUdrdEMsSUFBSSxDQUFDNlEsaUJBQUQsQ0FBSixHQUNOdUQsa0JBQWtCLEVBRFosR0FFTnJCLE1BQU0sQ0FBQ2pDLGFBQUQsQ0FGVjtBQUdBZ0Msa0JBQVksQ0FBQ2xCLG1CQUFELEVBQXNCbkIsV0FBdEIsQ0FBWjtBQUNBLGFBQU8zOUMsR0FBUDtBQUNEOztBQUVELGFBQVNraEQsWUFBVCxHQUF3QjtBQUN0QixVQUFJaFUsSUFBSSxDQUFDNlEsaUJBQUQsQ0FBUixFQUE2QjtBQUMzQixlQUFPdUQsa0JBQWtCLEVBQXpCO0FBQ0Q7O0FBRUQsVUFBSXJsRCxNQUFNLENBQUN3akQsTUFBRCxDQUFOLEtBQW1CLElBQXZCLEVBQTZCO0FBQzNCLGVBQU84QixrQkFBa0IsRUFBekI7QUFDRDs7QUFFRCxZQUFNLElBQUk1RCxXQUFKLENBQWdCLG9CQUFoQixDQUFOO0FBQ0Q7O0FBRUQsYUFBUzJELGtCQUFULEdBQThCO0FBQzVCLFVBQUksR0FBR3hsRCxLQUFILEVBQVUwbEQsUUFBUSxHQUFHLEVBQXJCLElBQTJCdjdDLEtBQUssQ0FBQzgzQyxpQkFBRCxDQUFwQztBQUNBLFVBQUk5QixTQUFTLEdBQUd1RixRQUFRLENBQUM1Z0QsTUFBekI7QUFDQSxhQUFPO0FBQUNwSSxZQUFJLEVBQUUsS0FBUDtBQUFjc0QsYUFBSyxFQUFFbytDLFVBQVUsQ0FBQ3ArQyxLQUFELENBQS9CO0FBQXdDbWdEO0FBQXhDLE9BQVA7QUFDRDs7QUFFRCxhQUFTc0Ysa0JBQVQsR0FBOEI7QUFDNUIxQixpQkFBVyxDQUFDLElBQUQsRUFBT2xDLFdBQVAsQ0FBWDtBQUNBLFVBQUk3aEQsS0FBSyxHQUFHLEVBQVo7O0FBQ0EsYUFBTyxJQUFQLEVBQWE7QUFDWEEsYUFBSyxJQUFJbWtELE1BQU0sQ0FBQzdCLGFBQUQsQ0FBZjs7QUFFQSxZQUFJbmlELE1BQU0sQ0FBQ3dqRCxNQUFELENBQU4sS0FBbUIsSUFBdkIsRUFBNkI7QUFDM0IzakQsZUFBSyxJQUFJMmxELG1CQUFtQixFQUE1QjtBQUNBO0FBQ0Q7O0FBRUQsWUFBSTVCLFdBQVcsQ0FBQyxJQUFELENBQWYsRUFBdUI7QUFDckIsaUJBQU87QUFBQ3JuRCxnQkFBSSxFQUFFLEtBQVA7QUFBY3NEO0FBQWQsV0FBUDtBQUNELFNBVlUsQ0FZWDs7O0FBQ0EsY0FBTSxJQUFJNmhELFdBQUosQ0FBZ0IseUJBQWhCLENBQU47QUFDRDtBQUNGLEtBcFh1QixDQXNYeEI7OztBQUNBLGFBQVM4RCxtQkFBVCxHQUErQjtBQUM3QixVQUFJdlUsSUFBSSxDQUFDbVIsZ0JBQUQsQ0FBUixFQUE0QjtBQUMxQixlQUFPNEIsTUFBTSxDQUFDNUIsZ0JBQUQsQ0FBYjtBQUNEOztBQUVELFVBQUluUixJQUFJLENBQUNvUixpQkFBRCxDQUFSLEVBQTZCO0FBQzNCLFlBQUksR0FBR29ELFVBQUgsRUFBZUMsVUFBZixJQUE2QjE3QyxLQUFLLENBQUNxNEMsaUJBQUQsQ0FBdEM7QUFDQSxZQUFJc0QsU0FBUyxHQUFHaHFCLFFBQVEsQ0FBQzhwQixVQUFVLElBQUlDLFVBQWYsRUFBMkIsRUFBM0IsQ0FBeEI7QUFDQSxlQUFPQyxTQUFTLElBQUksTUFBYixJQUF1QixVQUFVQSxTQUFqQyxDQUNMO0FBREssVUFFSEMsTUFBTSxDQUFDQyxhQUFQLENBQXFCRixTQUFyQixDQUZHLENBR0w7QUFDQTtBQUpLLFVBS0gsR0FMSjtBQU1EOztBQUVELFlBQU0sSUFBSWpFLFdBQUosQ0FBZ0IseUJBQWhCLENBQU47QUFDRCxLQXhZdUIsQ0EwWXhCO0FBQ0E7OztBQUNBLGFBQVM0QyxXQUFULEdBQXVCO0FBQ3JCLFVBQUl3QixLQUFLLEdBQUd0QyxNQUFaO0FBQ0FPLGtCQUFZLENBQUNiLFdBQUQsQ0FBWixDQUZxQixDQUlyQjs7QUFDQSxjQUFRbGpELE1BQU0sQ0FBQ3dqRCxNQUFELENBQWQ7QUFDRSxhQUFLLEdBQUw7QUFDQSxhQUFLLEdBQUw7QUFDQSxhQUFLLEdBQUw7QUFDQSxhQUFLLEdBQUw7QUFDQSxhQUFLbHlDLFNBQUw7QUFBZ0I7QUFDZDtBQUNBLGlCQUFPLEtBQVA7O0FBQ0YsYUFBSyxHQUFMO0FBQ0U7QUFDQTtBQUNBLGlCQUFPeTBDLFVBQVUsQ0FBQy9sRCxNQUFNLENBQUN1UCxLQUFQLENBQWF1MkMsS0FBYixFQUFvQnRDLE1BQXBCLENBQUQsQ0FBakI7QUFYSixPQUxxQixDQW1CckI7QUFDQTtBQUNBOzs7QUFDQSxVQUFJeGpELE1BQU0sQ0FBQ3dqRCxNQUFNLEdBQUcsQ0FBVixDQUFOLEtBQXVCLEdBQTNCLEVBQWdDO0FBQzlCO0FBQ0E7QUFDQSxlQUFPdUMsVUFBVSxDQUFDL2xELE1BQU0sQ0FBQ3VQLEtBQVAsQ0FBYXUyQyxLQUFiLEVBQW9CdEMsTUFBcEIsQ0FBRCxDQUFqQjtBQUNELE9BMUJvQixDQTRCckI7QUFDQTs7O0FBQ0EsYUFBTyxLQUFQO0FBQ0QsS0EzYXVCLENBNmF4Qjs7O0FBQ0EsYUFBU2UsSUFBVCxDQUFjOWQsSUFBZCxFQUFvQmtkLEVBQXBCLEVBQXdCO0FBQ3RCLGFBQU9sZCxJQUFJLENBQUNqOUIsT0FBTCxDQUFhbTZDLEVBQWIsRUFBaUIsRUFBakIsQ0FBUDtBQUNELEtBaGJ1QixDQWtieEI7OztBQUNBLGFBQVNvQyxVQUFULENBQW9CQyxLQUFwQixFQUEyQjtBQUN6QixVQUFJbm1ELEtBQUssR0FBR21tRCxLQUFLLENBQUN4OEMsT0FBTixDQUFjZzVDLGNBQWQsRUFBOEIsSUFBOUIsQ0FBWjtBQUNBLFVBQUk3OUMsTUFBTSxHQUFHODlDLFNBQVMsQ0FBQ2dCLElBQVYsQ0FBZXVDLEtBQWYsRUFBc0IsQ0FBdEIsRUFBeUJyaEQsTUFBdEM7QUFDQSxhQUFPO0FBQUNwSSxZQUFJLEVBQUUsUUFBUDtBQUFpQnNELGFBQWpCO0FBQXdCOEU7QUFBeEIsT0FBUDtBQUNEO0FBQ0Y7O0FBNWI2QyxDOztBQ3pEaEQ7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNlLE1BQU1zaEQsbUJBQU4sQ0FBbUI7QUFDaEM7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRTVrRCxhQUFXLENBQUM2a0QsT0FBRCxFQUFVO0FBQ25CQyxhQUFTLEdBQUcsRUFETztBQUVuQjdFLGdCQUFZLEdBQUcsSUFGSTtBQUduQjhFLGFBQVMsR0FBR2hrRCxDQUFDLElBQUlBO0FBSEUsTUFJakIsRUFKTyxFQUlIO0FBQ04sU0FBSzhqRCxPQUFMLEdBQWUxeUMsS0FBSyxDQUFDbTlCLE9BQU4sQ0FBY3VWLE9BQWQsSUFBeUJBLE9BQXpCLEdBQW1DLENBQUNBLE9BQUQsQ0FBbEQ7QUFFQSxTQUFLckYsTUFBTCxHQUFjLElBQUkvb0IsR0FBSixFQUFkO0FBQ0EsU0FBSzRvQixTQUFMLEdBQWlCLElBQUk1b0IsR0FBSixFQUFqQjtBQUNBLFNBQUtrcEIsVUFBTCxHQUFrQm1GLFNBQWxCO0FBQ0EsU0FBSzVFLGFBQUwsR0FBcUJELFlBQXJCO0FBQ0EsU0FBS3hCLFVBQUwsR0FBa0JzRyxTQUFsQjtBQUNBLFNBQUtDLE1BQUwsR0FBYyxJQUFJQyxPQUFKLEVBQWQ7QUFDRDtBQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7OztBQUNjLE1BQVJ6MkMsUUFBUSxHQUFHO0FBQ2IsV0FBTyxLQUFLNndDLFNBQUwsQ0FBZXJTLE1BQU0sQ0FBQ0MsUUFBdEIsR0FBUDtBQUNEO0FBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDRWlZLFlBQVUsQ0FBQy9oRCxFQUFELEVBQUs7QUFDYixXQUFPLEtBQUtrOEMsU0FBTCxDQUFlcm9CLEdBQWYsQ0FBbUI3ekIsRUFBbkIsQ0FBUDtBQUNEO0FBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDRWlwQyxZQUFVLENBQUNqcEMsRUFBRCxFQUFLO0FBQ2IsV0FBTyxLQUFLazhDLFNBQUwsQ0FBZXRvQyxHQUFmLENBQW1CNVQsRUFBbkIsQ0FBUDtBQUNEO0FBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNFZ2lELGFBQVcsQ0FBQ3htRCxNQUFELEVBQVNyQyxPQUFULEVBQWtCO0FBQzNCLFVBQU04b0QsR0FBRyxHQUFHckQsdUJBQWMsQ0FBQ0MsVUFBZixDQUEwQnJqRCxNQUExQixDQUFaO0FBQ0EsV0FBTyxLQUFLMG1ELFdBQUwsQ0FBaUJELEdBQWpCLEVBQXNCOW9ELE9BQXRCLENBQVA7QUFDRDtBQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0Urb0QsYUFBVyxDQUFDRCxHQUFELEVBQU07QUFDZkUsa0JBQWMsR0FBRztBQURGLE1BRWIsRUFGTyxFQUVIO0FBQ04sVUFBTW54QyxNQUFNLEdBQUcsRUFBZjs7QUFFQSxTQUFLLE1BQU0sQ0FBQ2hSLEVBQUQsRUFBSzNFLEtBQUwsQ0FBWCxJQUEwQjRtRCxHQUExQixFQUErQjtBQUM3QixVQUFJamlELEVBQUUsQ0FBQ2dTLFVBQUgsQ0FBYyxHQUFkLENBQUosRUFBd0I7QUFDdEI7QUFDQTtBQUNBLFlBQUltd0MsY0FBYyxLQUFLLEtBQW5CLElBQTRCLEtBQUs5RixNQUFMLENBQVl4b0IsR0FBWixDQUFnQjd6QixFQUFoQixDQUFoQyxFQUFxRDtBQUNuRGdSLGdCQUFNLENBQUNuQyxJQUFQLENBQWEsMENBQXlDN08sRUFBRyxHQUF6RDtBQUNBO0FBQ0Q7O0FBQ0QsYUFBS3E4QyxNQUFMLENBQVlsb0IsR0FBWixDQUFnQm4wQixFQUFoQixFQUFvQjNFLEtBQXBCO0FBQ0QsT0FSRCxNQVFPO0FBQ0wsWUFBSThtRCxjQUFjLEtBQUssS0FBbkIsSUFBNEIsS0FBS2pHLFNBQUwsQ0FBZXJvQixHQUFmLENBQW1CN3pCLEVBQW5CLENBQWhDLEVBQXdEO0FBQ3REZ1IsZ0JBQU0sQ0FBQ25DLElBQVAsQ0FBYSw2Q0FBNEM3TyxFQUFHLEdBQTVEO0FBQ0E7QUFDRDs7QUFDRCxhQUFLazhDLFNBQUwsQ0FBZS9uQixHQUFmLENBQW1CbjBCLEVBQW5CLEVBQXVCM0UsS0FBdkI7QUFDRDtBQUNGOztBQUVELFdBQU8yVixNQUFQO0FBQ0Q7QUFFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNFazRCLFFBQU0sQ0FBQ2xzQyxPQUFELEVBQVVWLElBQVYsRUFBZ0IwVSxNQUFoQixFQUF3QjtBQUM1QjtBQUNBLFFBQUksT0FBT2hVLE9BQVAsS0FBbUIsUUFBdkIsRUFBaUM7QUFDL0IsYUFBTyxLQUFLcytDLFVBQUwsQ0FBZ0J0K0MsT0FBaEIsQ0FBUDtBQUNELEtBSjJCLENBTTVCOzs7QUFDQSxRQUFJQSxPQUFPLEtBQUssSUFBWixJQUFvQkEsT0FBTyxDQUFDM0IsS0FBUixLQUFrQixJQUExQyxFQUFnRDtBQUM5QyxhQUFPLElBQVA7QUFDRCxLQVQyQixDQVc1Qjs7O0FBQ0EsUUFBSSxPQUFPMkIsT0FBTyxDQUFDM0IsS0FBZixLQUF5QixRQUE3QixFQUF1QztBQUNyQyxhQUFPLEtBQUtpZ0QsVUFBTCxDQUFnQnQrQyxPQUFPLENBQUMzQixLQUF4QixDQUFQO0FBQ0Q7O0FBRUQsV0FBT29iLE9BQU8sQ0FBQyxJQUFELEVBQU9uYSxJQUFQLEVBQWFVLE9BQWIsRUFBc0JnVSxNQUF0QixDQUFkO0FBQ0Q7O0FBRUQyb0Msb0JBQWtCLENBQUN5SSxJQUFELEVBQU8vSSxJQUFQLEVBQWE7QUFDN0IsVUFBTWdKLEtBQUssR0FBRyxLQUFLUixNQUFMLENBQVlqdUMsR0FBWixDQUFnQnd1QyxJQUFoQixLQUF5QixFQUF2QztBQUNBLFVBQU1waUQsRUFBRSxHQUFHMEcsSUFBSSxDQUFDQyxTQUFMLENBQWUweUMsSUFBZixDQUFYOztBQUVBLFFBQUksQ0FBQ2dKLEtBQUssQ0FBQ3JpRCxFQUFELENBQVYsRUFBZ0I7QUFDZHFpRCxXQUFLLENBQUNyaUQsRUFBRCxDQUFMLEdBQVksSUFBSW9pRCxJQUFKLENBQVMsS0FBS1YsT0FBZCxFQUF1QnJJLElBQXZCLENBQVo7O0FBQ0EsV0FBS3dJLE1BQUwsQ0FBWTF0QixHQUFaLENBQWdCaXVCLElBQWhCLEVBQXNCQyxLQUF0QjtBQUNEOztBQUVELFdBQU9BLEtBQUssQ0FBQ3JpRCxFQUFELENBQVo7QUFDRDs7QUE1TytCLEM7O0FDaEJsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUNYQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLE1BQU1zaUQsZ0JBQWdCLEdBQUc7QUFDdkJyZ0IsTUFBSSxFQUFFLENBQUMsTUFBRCxFQUFTLGFBQVQsQ0FEaUI7QUFFdkJxVCxjQUFZLEVBQUUsY0FGUztBQUd2QkMsWUFBVSxFQUFFLFlBSFc7QUFJdkJvQixhQUFXLEVBQUUsYUFKVTtBQUt2QjRMLFVBQVEsRUFBRSxVQUxhO0FBTXZCQyxjQUFZLEVBQUUscUJBTlM7QUFPdkJDLGlCQUFlLEVBQUU7QUFQTSxDQUF6QjtBQVVPLE1BQU14VSxjQUFjLEdBQUdqb0MsTUFBTSxDQUFDQyxJQUFQLENBQVlxOEMsZ0JBQVosQ0FBdkI7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sU0FBU2hxQyxlQUFULENBQXlCOU8sT0FBekIsRUFBa0M7QUFDdkMsUUFBTXlKLE1BQU0sR0FBRyxJQUFJd3VDLG1CQUFKLENBQWlCLE9BQWpCLENBQWY7QUFFQXhULGdCQUFjLENBQUN6MEMsT0FBZixDQUF1QitGLEdBQUcsSUFBSTtBQUM1QixVQUFNMHNDLEtBQUssR0FBR3FXLGdCQUFnQixDQUFDL2lELEdBQUQsQ0FBOUI7QUFDQSxVQUFNbWpELFVBQVUsR0FBRzF6QyxLQUFLLENBQUNtOUIsT0FBTixDQUFjRixLQUFkLElBQXVCLENBQUMsR0FBR0EsS0FBSixDQUF2QixHQUFvQyxDQUFDQSxLQUFELENBQXZEO0FBQ0EsUUFBSTBXLE1BQU0sR0FBRyxFQUFiOztBQUNBLFdBQU8sQ0FBQ0EsTUFBRCxJQUFXRCxVQUFVLENBQUN2aUQsTUFBN0IsRUFBcUM7QUFDbkMsWUFBTTg3QyxJQUFJLEdBQUd5RyxVQUFVLENBQUNFLEdBQVgsRUFBYjtBQUNBRCxZQUFNLEdBQUduNUMsT0FBTyxDQUFDeXlDLElBQUQsQ0FBaEI7QUFDRDs7QUFDRGhwQyxVQUFNLENBQUMrdUMsV0FBUCxDQUFvQixHQUFFemlELEdBQUksTUFBS29qRCxNQUFPLEVBQXRDO0FBQ0QsR0FURDtBQVVBLFNBQU8sQ0FBQzF2QyxNQUFELENBQVA7QUFDRCxDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzNDRDtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFTyxNQUFNNHZDLHFCQUFOLFNBQXlCbG1ELHdCQUFLLENBQUNDLGFBQS9CLENBQTZDO0FBQ2xEb0IsUUFBTSxHQUFHO0FBQ1AsVUFBTTtBQUFFNE0sV0FBRjtBQUFTaFQ7QUFBVCxRQUFzQixLQUFLa0YsS0FBakM7QUFDQSxVQUFNZ21ELGdDQUFnQyxHQUFHLENBQ3ZDLGVBRHVDLEVBRXZDLHdCQUZ1QyxFQUd2QyxJQUFJLEtBQUtobUQsS0FBTCxDQUFXc2hCLGdCQUFYLEdBQ0EsQ0FBQyx1QkFBRCxDQURBLEdBRUEsQ0FBQyxvQkFBRCxDQUZKLENBSHVDLEVBTXZDLFdBTnVDLEVBT3ZDLGlCQVB1QyxFQVF2QyxxQkFSdUMsRUFTdkMsV0FUdUMsRUFVdkMsVUFWdUMsRUFXdkMsSUFBSSxLQUFLdGhCLEtBQUwsQ0FBV2ltRCxlQUFYLEdBQTZCLENBQUMsaUJBQUQsQ0FBN0IsR0FBbUQsRUFBdkQsQ0FYdUMsQ0FBekM7QUFhQSxVQUFNaHJELElBQUksR0FBRyxLQUFLK0UsS0FBTCxDQUFXL0UsSUFBWCxJQUFtQixrQkFBaEM7QUFDQSxVQUFNc2tCLEtBQUssR0FBRyxLQUFLdmYsS0FBTCxDQUFXdWYsS0FBWCxJQUFvQixLQUFLdmYsS0FBTCxDQUFXdEIsTUFBN0M7QUFFQSx3QkFDRTtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFLHVDQUFDLHNDQUFEO0FBQ0UsYUFBTyxFQUFFLDZCQURYO0FBRUUsaUJBQVcsRUFBRTtBQUFFNmdCO0FBQUYsT0FGZjtBQUdFLGNBQVEsRUFBRSxLQUFLdmYsS0FBTCxDQUFXK3ZCO0FBSHZCLG9CQUtFLHVDQUFDLG9CQUFEO0FBQ0UsY0FBUSxFQUFFajFCLFFBRFo7QUFFRSxXQUFLLEVBQUVnVCxLQUZUO0FBR0UsWUFBTSxFQUFFN1MsSUFBSSxDQUFDdXhCLFdBQUwsRUFIVjtBQUlFLFlBQU0sRUFBRSxLQUFLeHNCLEtBQUwsQ0FBV3N5QixVQUpyQjtBQUtFLGFBQU8sRUFBRTB6QixnQ0FMWDtBQU1FLCtCQUF5QixFQUFFLElBTjdCO0FBT0UsVUFBSSxFQUFFO0FBQ0o1K0IsZ0JBQVEsRUFBRSx1Q0FETjtBQUVKN0gsYUFBSyxFQUFFLEtBQUt2ZixLQUFMLENBQVd1ZixLQUZkO0FBR0p0a0IsWUFBSSxFQUFFLEtBQUsrRSxLQUFMLENBQVcvRSxJQUhiO0FBSUoyTixXQUFHLEVBQUUsS0FBSzVJLEtBQUwsQ0FBVzRJLEdBSlo7QUFLSmtnQixZQUFJLEVBQUUsS0FBSzlvQixLQUFMLENBQVdrRCxFQUxiO0FBTUp3bEIsaUJBQVMsRUFBRSxLQUFLMW9CLEtBQUwsQ0FBVzBvQixTQU5sQjtBQU9KSyxZQUFJLEVBQUUsS0FBSy9vQixLQUFMLENBQVcrb0IsSUFQYjtBQVFKbEIsb0JBQVksRUFBRSxLQUFLN25CLEtBQUwsQ0FBVzZuQixZQVJyQjtBQVNKZSxpQkFBUyxFQUFFLEtBQUs1b0IsS0FBTCxDQUFXc3NCO0FBVGxCO0FBUFIsTUFMRixDQURGLENBREY7QUE2QkQ7O0FBaERpRCxDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ1JwRDtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Q0FHQTs7QUFDQSxNQUFNNDVCLGtCQUFrQixHQUFHLElBQTNCO0FBRU8sTUFBTUMsY0FBYyxHQUFHbm1ELEtBQUssSUFBSTtBQUNyQyxRQUFNO0FBQ0o2TyxXQURJO0FBRUp1M0MsZ0JBRkk7QUFHSkMsNkJBSEk7QUFJSkM7QUFKSSxNQUtGdG1ELEtBTEo7QUFNQSxRQUFNO0FBQUViLFFBQUY7QUFBUTh1QjtBQUFSLE1BQXFCRix5QkFBZ0IsQ0FBQ3E0QixZQUFELENBQWhCLElBQWtDLEVBQTdEOztBQUVBLE1BQUksQ0FBQ3YzQyxPQUFELEtBQWF1M0MsWUFBWSxJQUFLQyx5QkFBeUIsSUFBSUMsVUFBM0QsQ0FBSixFQUE2RTtBQUMzRSx3QkFDRSx1Q0FBQyxpREFBRDtBQUFpQixlQUFTLEVBQUU7QUFBNUIsb0JBQ0UsdUNBQUMsK0NBQUQ7QUFDRSxTQUFHLEVBQUVyNEIsUUFEUDtBQUVFLGFBQU8sRUFBRWk0QixrQkFGWDtBQUdFLGdCQUFVLEVBQUM7QUFIYixPQUtHSSxVQUFVLElBQUksQ0FBQ0YsWUFBZixnQkFDQztBQUFLLGVBQVMsRUFBQztBQUFmLE9BQW1DRSxVQUFuQyxDQURELGdCQUdDLHVDQUFDLGFBQUQ7QUFBZSxVQUFJLEVBQUVubkQsSUFBckI7QUFBMkIsY0FBUSxFQUFFOHVCO0FBQXJDLE1BUkosQ0FERixDQURGO0FBZUQ7O0FBRUQsU0FBTyxJQUFQO0FBQ0QsQ0E1Qk07QUE4QkEsTUFBTXM0QixhQUFhLEdBQUcsQ0FBQztBQUFFcG5ELE1BQUY7QUFBUTh1QjtBQUFSLENBQUQsa0JBQzNCO0FBQUssV0FBUyxFQUFDO0FBQWYsZ0JBQ0U7QUFDRSxtQkFBYyxNQURoQjtBQUVFLFdBQVMsRUFBRyw4QkFBNkI5dUIsSUFBSztBQUZoRCxFQURGLGVBS0U7QUFBSyxXQUFTLEVBQUMscUJBQWY7QUFBcUMsa0JBQWM4dUI7QUFBbkQsRUFMRixDQURLO0FBVUEsTUFBTXU0QixZQUFZLEdBQUcsQ0FBQztBQUMzQnYzQix1QkFEMkI7QUFFM0JDLFNBRjJCO0FBRzNCcmdCLFNBSDJCO0FBSTNCbVM7QUFKMkIsQ0FBRCxLQUt0QjtBQUNKLFFBQU1yZ0IsU0FBUyxHQUFJLHlCQUF3QnFnQixpQkFBaUIsSUFBSSxFQUFHLFFBQW5FLENBREksQ0FFSjs7QUFDQSxNQUFJaU8scUJBQUosRUFBMkI7QUFDekIsd0JBQU87QUFBRyxlQUFTLEVBQUV0dUI7QUFBZCxPQUEwQnN1QixxQkFBMUIsQ0FBUDtBQUNELEdBRkQsTUFFTyxJQUFJQSxxQkFBcUIsS0FBSyxFQUE5QixFQUFrQztBQUN2QztBQUNBO0FBQ0E7QUFDQSxXQUFPLElBQVA7QUFDRCxHQUxNLE1BS0EsSUFBSUMsT0FBSixFQUFhO0FBQ2xCLHdCQUNFO0FBQUcsZUFBUyxFQUFFdnVCO0FBQWQsb0JBQ0UsdUNBQUMsNEJBQUQ7QUFDRSxhQUFPLEVBQUU7QUFDUHVDLFVBQUUsRUFBRywyQkFERTtBQUVQNUIsY0FBTSxFQUFFO0FBQUU0dEI7QUFBRjtBQUZEO0FBRFgsTUFERixDQURGO0FBVUQsR0FYTSxNQVdBLElBQUlyZ0IsT0FBSixFQUFhO0FBQ2xCLHdCQUFPO0FBQUcsZUFBUyxFQUFFbE87QUFBZCxPQUEwQmtPLE9BQTFCLENBQVA7QUFDRDs7QUFDRCxTQUFPLElBQVA7QUFDRCxDQTlCTTtBQWdDQSxNQUFNNDNDLCtCQUFOLFNBQThCNW1ELHdCQUFLLENBQUNDLGFBQXBDLENBQWtEO0FBQ3ZEb0IsUUFBTSxHQUFHO0FBQ1A7QUFDQSxVQUFNO0FBQ0oyTixhQURJO0FBRUp1M0Msa0JBRkk7QUFHSkUsZ0JBSEk7QUFJSkQsK0JBSkk7QUFLSm4zQixhQUxJO0FBTUpEO0FBTkksUUFPRixLQUFLanZCLEtBUFQ7QUFTQSxVQUFNMG1ELFlBQVksR0FBR0YsWUFBWSxDQUFDO0FBQ2hDdjNCLDJCQURnQztBQUVoQ0MsYUFGZ0M7QUFHaENyZ0I7QUFIZ0MsS0FBRCxDQUFqQztBQUtBLFVBQU04M0MsY0FBYyxHQUFHUixjQUFjLENBQUM7QUFDcEN0M0MsYUFEb0M7QUFFcEN1M0Msa0JBRm9DO0FBR3BDQywrQkFIb0M7QUFJcENDO0FBSm9DLEtBQUQsQ0FBckM7O0FBT0EsUUFBSUksWUFBWSxJQUFJQyxjQUFwQixFQUFvQztBQUNsQywwQkFDRTtBQUFLLGlCQUFTLEVBQUM7QUFBZixTQUNHRCxZQURILEVBRUdDLGNBRkgsQ0FERjtBQU1EOztBQUVELFdBQU8sSUFBUDtBQUNEOztBQWxDc0Q7QUFxQ2xELE1BQU1DLGVBQWUsR0FBRzVtRCxLQUFLLElBQUk7QUFDdEMsUUFBTTtBQUNKNk8sV0FESTtBQUVKdTNDLGdCQUZJO0FBR0pFLGNBSEk7QUFJSkQsNkJBSkk7QUFLSi9rQztBQUxJLE1BTUZ0aEIsS0FOSjtBQVFBLFFBQU0ybUQsY0FBYyxHQUFHUixjQUFjLENBQUM7QUFDcEN0M0MsV0FEb0M7QUFFcEN1M0MsZ0JBRm9DO0FBR3BDRSxjQUhvQztBQUlwQ0Q7QUFKb0MsR0FBRCxDQUFyQyxDQVRzQyxDQWdCdEM7O0FBQ0EsTUFBSSxDQUFDTSxjQUFELElBQW9CcmxDLGdCQUFnQixJQUFJOGtDLFlBQVksS0FBSyxRQUE3RCxFQUF3RTtBQUN0RSxXQUFPLElBQVA7QUFDRDs7QUFFRCxzQkFBTztBQUFLLGFBQVMsRUFBQztBQUFmLEtBQStCTyxjQUEvQixDQUFQO0FBQ0QsQ0F0Qk0sQzs7Ozs7QUN6SFA7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUEsTUFBTUUsV0FBVyxHQUFHLEdBQXBCO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxTQUFTQyxxQkFBVCxDQUErQkMsU0FBL0IsRUFBMEM7QUFDL0MsTUFBSSxDQUFDQSxTQUFMLEVBQWdCLE9BQU8sS0FBUDtBQUNoQixTQUFPNWhELElBQUksQ0FBQzZoRCxJQUFMLENBQVUzc0IsUUFBUSxDQUFDMHNCLFNBQUQsRUFBWSxFQUFaLENBQVIsR0FBMEJGLFdBQXBDLENBQVA7QUFDRDtBQUVNLE1BQU1JLFFBQVEsR0FBRyxDQUFDO0FBQ3ZCdm9ELFFBRHVCO0FBRXZCd29ELFlBRnVCO0FBR3ZCbG1DLG1CQUh1QjtBQUl2Qm5TLFNBSnVCO0FBS3ZCcWdCLFNBTHVCO0FBTXZCRDtBQU51QixDQUFELEtBT2xCO0FBQ0o7QUFDQSxNQUFJak8saUJBQUosRUFBdUI7QUFDckI7QUFDQSxRQUFJaU8scUJBQXFCLElBQUlDLE9BQXpCLElBQW9DcmdCLE9BQXhDLEVBQWlEO0FBQy9DLDBCQUNFLHVDQUFDLFlBQUQ7QUFDRSxlQUFPLEVBQUVBLE9BRFg7QUFFRSxlQUFPLEVBQUVxZ0IsT0FGWDtBQUdFLDZCQUFxQixFQUFFRCxxQkFIekI7QUFJRSx5QkFBaUIsRUFBQztBQUpwQixRQURGO0FBUUQ7QUFDRixHQWRHLENBZ0JKOzs7QUFDQSxNQUFJaTRCLFVBQUosRUFBZ0I7QUFDZCx3QkFDRTtBQUFHLGVBQVMsRUFBQztBQUFiLG9CQUNFLHVDQUFDLDRCQUFEO0FBQ0UsYUFBTyxFQUFFO0FBQ1Boa0QsVUFBRSxFQUFHLCtCQURFO0FBRVA1QixjQUFNLEVBQUU7QUFBRTVDLGdCQUFGO0FBQVV3b0Q7QUFBVjtBQUZEO0FBRFgsTUFERixDQURGO0FBVUQsR0E1QkcsQ0E4Qko7OztBQUNBLHNCQUFPO0FBQUcsYUFBUyxFQUFDO0FBQWIsS0FBNkJ4b0QsTUFBN0IsQ0FBUDtBQUNELENBdkNNLEMsQ0F5Q1A7O0FBQ08sTUFBTXlvRCxXQUFXLEdBQUcsQ0FBQztBQUMxQmQsMkJBRDBCO0FBRTFCM25ELFFBRjBCO0FBRzFCNmdCLE9BSDBCO0FBSTFCb1QsU0FKMEI7QUFLMUJ1MEIsWUFMMEI7QUFNMUJsbUMsbUJBTjBCO0FBTzFCblMsU0FQMEI7QUFRMUJ1M0MsY0FSMEI7QUFTMUJuekIsS0FUMEI7QUFVMUJxekIsWUFWMEI7QUFXMUIvbEMsYUFYMEI7QUFZMUIyTyxTQVowQjtBQWExQkQsdUJBYjBCO0FBYzFCM047QUFkMEIsQ0FBRCxrQkFnQnpCO0FBQUssV0FBUyxFQUFDO0FBQWYsZ0JBQ0U7QUFBSyxXQUFTLEVBQUM7QUFBZixnQkFDRSx1Q0FBQyxRQUFEO0FBQ0UsUUFBTSxFQUFFNWlCLE1BRFY7QUFFRSxZQUFVLEVBQUV3b0QsVUFGZDtBQUdFLG1CQUFpQixFQUFFbG1DLGlCQUhyQjtBQUlFLFNBQU8sRUFBRW5TLE9BSlg7QUFLRSxTQUFPLEVBQUVxZ0IsT0FMWDtBQU1FLHVCQUFxQixFQUFFRDtBQU56QixFQURGLGVBU0U7QUFBUSxPQUFLLEVBQUUxUCxLQUFmO0FBQXNCLFdBQVMsRUFBQztBQUFoQyxHQUNHQSxLQURILENBVEYsRUFZR29ULE9BQU8saUJBQUk7QUFBRyxXQUFTLEVBQUM7QUFBYixHQUE4QkEsT0FBOUIsQ0FaZCxFQWFHcFMsV0FBVyxLQUFLLE1BQWhCLElBQTBCMFMsR0FBMUIsaUJBQ0M7QUFBSyxNQUFJLEVBQUMsTUFBVjtBQUFpQixXQUFTLEVBQUMsMEJBQTNCO0FBQXNELFVBQVEsRUFBQztBQUEvRCxHQUNHQSxHQURILENBZEosQ0FERixFQW9CRyxDQUFDalMsaUJBQUQsaUJBQ0MsdUNBQUMsK0JBQUQ7QUFDRSxjQUFZLEVBQUVvbEMsWUFEaEI7QUFFRSxTQUFPLEVBQUV2M0MsT0FGWDtBQUdFLFNBQU8sRUFBRXFnQixPQUhYO0FBSUUsdUJBQXFCLEVBQUVELHFCQUp6QjtBQUtFLDJCQUF5QixFQUFFbzNCLHlCQUw3QjtBQU1FLFlBQVUsRUFBRUM7QUFOZCxFQXJCSixFQWlDR3RsQyxpQkFBaUIsaUJBQ2hCLHVDQUFDLGVBQUQ7QUFDRSxjQUFZLEVBQUVvbEMsWUFEaEI7QUFFRSxTQUFPLEVBQUUsSUFGWDtBQUdFLDJCQUF5QixFQUFFQyx5QkFIN0I7QUFJRSxZQUFVLEVBQUVDLFVBSmQ7QUFLRSxrQkFBZ0IsRUFBRWhsQztBQUxwQixFQWxDSixDQWhCSztBQTZEQSxNQUFNOGxDLGFBQWEsR0FBRyxDQUFDO0FBQzVCZiwyQkFENEI7QUFFNUIzbkQsUUFGNEI7QUFHNUI2Z0IsT0FINEI7QUFJNUJvVCxTQUo0QjtBQUs1QjlqQixTQUw0QjtBQU01QnUzQyxjQU40QjtBQU81Qm56QixLQVA0QjtBQVE1QnF6QixZQVI0QjtBQVM1QnAzQixTQVQ0QjtBQVU1QkQ7QUFWNEIsQ0FBRCxrQkFZM0I7QUFBSyxXQUFTLEVBQUM7QUFBZixnQkFDRTtBQUFLLFdBQVMsRUFBQztBQUFmLGdCQUNFO0FBQUcsV0FBUyxFQUFDO0FBQWIsR0FDR3BnQixPQUFPLGlCQUNOLHVDQUFDLDRCQUFEO0FBQ0UsU0FBTyxFQUFFO0FBQ1AzTCxNQUFFLEVBQUcsd0JBREU7QUFFUDVCLFVBQU0sRUFBRTtBQUFFK2xELHFCQUFlLEVBQUVuNEIsT0FBTyxHQUFHQSxPQUFILEdBQWF4d0I7QUFBdkM7QUFGRDtBQURYLEVBRkosRUFVRyxDQUFDbVEsT0FBRCxLQUFhcWdCLE9BQU8sR0FBR0EsT0FBSCxHQUFheHdCLE1BQWpDLENBVkgsQ0FERixlQWFFO0FBQVEsT0FBSyxFQUFFNmdCLEtBQWY7QUFBc0IsV0FBUyxFQUFDO0FBQWhDLEdBQ0dBLEtBREgsQ0FiRixFQWdCR29ULE9BQU8saUJBQUk7QUFBRyxXQUFTLEVBQUM7QUFBYixHQUE4QkEsT0FBOUIsQ0FoQmQsQ0FERixFQW1CRzlqQixPQUFPLElBQUlva0IsR0FBWCxpQkFBa0I7QUFBUSxXQUFTLEVBQUM7QUFBbEIsR0FBdUNBLEdBQXZDLENBbkJyQixFQW9CRyxDQUFDcGtCLE9BQUQsaUJBQ0MsdUNBQUMsK0JBQUQ7QUFDRSxjQUFZLEVBQUV1M0MsWUFEaEI7QUFFRSxTQUFPLEVBQUV2M0MsT0FGWDtBQUdFLFNBQU8sRUFBRXFnQixPQUhYO0FBSUUsdUJBQXFCLEVBQUVELHFCQUp6QjtBQUtFLDJCQUF5QixFQUFFbzNCLHlCQUw3QjtBQU1FLFlBQVUsRUFBRUM7QUFOZCxFQXJCSixDQVpLO0FBNkNBLE1BQU1nQixhQUFOLFNBQXNCem5ELHdCQUFLLENBQUNDLGFBQTVCLENBQTBDO0FBQy9DQyxhQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNqQixVQUFNQSxLQUFOO0FBRUEsU0FBSzB0QixXQUFMLEdBQW1CLEtBQUtBLFdBQUwsQ0FBaUJ0dEIsSUFBakIsQ0FBc0IsSUFBdEIsQ0FBbkI7QUFDQSxTQUFLbW5ELFdBQUwsR0FBbUIsS0FBS0EsV0FBTCxDQUFpQm5uRCxJQUFqQixDQUFzQixJQUF0QixDQUFuQjtBQUNBLFNBQUsydkIsWUFBTCxHQUFvQixLQUFLQSxZQUFMLENBQWtCM3ZCLElBQWxCLENBQXVCLElBQXZCLENBQXBCO0FBQ0EsU0FBS2t5QixVQUFMLEdBQWtCLEtBQUtBLFVBQUwsQ0FBZ0JseUIsSUFBaEIsQ0FBcUIsSUFBckIsQ0FBbEI7O0FBRUEsU0FBS29uRCwyQkFBTCxHQUFtQ3QzQixPQUFPLElBQUk7QUFDNUMsV0FBS3UzQiw0QkFBTCxHQUFvQ3YzQixPQUFwQztBQUNELEtBRkQ7O0FBR0EsU0FBS3czQixpQkFBTCxHQUF5QngzQixPQUFPLElBQUk7QUFDbEMsV0FBS3kzQixrQkFBTCxHQUEwQnozQixPQUExQjtBQUNELEtBRkQ7O0FBSUEsU0FBS2p3QixLQUFMLEdBQWE7QUFDWDJuRCxZQUFNLEVBQUU7QUFERyxLQUFiLENBZmlCLENBbUJqQjtBQUNBOztBQUNBLFFBQUk1bkQsS0FBSyxDQUFDbUIsR0FBTixDQUFVMG1ELGlCQUFkLEVBQWlDO0FBQy9CLFdBQUs1bkQsS0FBTCxDQUFXMm5ELE1BQVgsR0FBb0IsSUFBcEI7QUFDRCxLQXZCZ0IsQ0F5QmpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLFNBQUtFLFlBQUwsR0FBb0IsQ0FDbEI7QUFDRS9qQyxrQkFBWSxFQUFFLHFCQURoQjtBQUVFM2IsV0FBSyxFQUFFLEdBRlQ7QUFHRThhLFlBQU0sRUFBRTtBQUhWLEtBRGtCLEVBT2xCO0FBQ0VhLGtCQUFZLEVBQUUsb0JBRGhCO0FBRUUzYixXQUFLLEVBQUUsR0FGVDtBQUdFOGEsWUFBTSxFQUFFO0FBSFYsS0FQa0IsRUFhbEI7QUFDRWEsa0JBQVksRUFBRSxvQkFEaEI7QUFFRTNiLFdBQUssRUFBRSxHQUZUO0FBR0U4YSxZQUFNLEVBQUU7QUFIVixLQWJrQixDQUFwQjtBQW1CRDs7QUFFRHdLLGFBQVcsQ0FBQ25yQixLQUFELEVBQVE7QUFDakIsUUFBSSxLQUFLdkMsS0FBTCxDQUFXbEYsUUFBZixFQUF5QjtBQUN2QixXQUFLa0YsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyx5QkFBRSxDQUFDMEMsU0FBSCxDQUFhO0FBQ1g4RSxhQUFLLEVBQUUsT0FESTtBQUVYN0QsY0FBTSxFQUFFLEtBQUtzQixLQUFMLENBQVcrbkQsUUFBWCxHQUNKLGdCQURJLEdBRUosS0FBSy9uRCxLQUFMLENBQVcvRSxJQUFYLENBQWdCdXhCLFdBQWhCLEVBSk87QUFLWDlHLHVCQUFlLEVBQUUsS0FBSzFsQixLQUFMLENBQVdzb0IsR0FMakI7QUFNWC9wQixhQUFLLEVBQUU7QUFBRTI1QixtQkFBUyxFQUFFLEtBQUtsNEIsS0FBTCxDQUFXc3NCLFFBQVgsR0FBc0IsTUFBdEIsR0FBK0I7QUFBNUM7QUFOSSxPQUFiLENBREY7QUFXQSxXQUFLdHNCLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMseUJBQUUsQ0FBQytDLGVBQUgsQ0FBbUI7QUFDakJZLGNBQU0sRUFBRSxLQUFLc0IsS0FBTCxDQUFXK25ELFFBQVgsR0FDSixnQkFESSxHQUVKLEtBQUsvbkQsS0FBTCxDQUFXL0UsSUFBWCxDQUFnQnV4QixXQUFoQixFQUhhO0FBSWpCa0csYUFBSyxFQUFFLENBSlU7QUFLakJySyxhQUFLLEVBQUUsQ0FDTDtBQUNFbmxCLFlBQUUsRUFBRSxLQUFLbEQsS0FBTCxDQUFXa0QsRUFEakI7QUFFRW9sQixhQUFHLEVBQUUsS0FBS3RvQixLQUFMLENBQVdzb0IsR0FGbEI7QUFHRSxjQUFJLEtBQUt0b0IsS0FBTCxDQUFXK29CLElBQVgsSUFBbUIsS0FBSy9vQixLQUFMLENBQVcrb0IsSUFBWCxDQUFnQjJKLEtBQW5DLEdBQ0E7QUFBRTNKLGdCQUFJLEVBQUUsS0FBSy9vQixLQUFMLENBQVcrb0IsSUFBWCxDQUFnQjJKO0FBQXhCLFdBREEsR0FFQSxFQUZKO0FBSEYsU0FESztBQUxVLE9BQW5CLENBREY7QUFpQkQ7QUFDRjs7QUFFRDYwQixhQUFXLENBQUNobEQsS0FBRCxFQUFRO0FBQ2pCLFFBQUksS0FBS3ZDLEtBQUwsQ0FBV2xGLFFBQWYsRUFBeUI7QUFDdkIsV0FBS2tGLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMseUJBQUUsQ0FBQ0MsVUFBSCxDQUFjO0FBQ1pDLFlBQUksRUFBRUMsc0JBQUUsQ0FBQ3F2QixjQURHO0FBRVo3c0IsWUFBSSxFQUFFO0FBQUU4bUIsY0FBSSxFQUFFO0FBQUU1YixlQUFHLEVBQUUsS0FBSzVJLEtBQUwsQ0FBVzRJLEdBQWxCO0FBQXVCMlcsaUJBQUssRUFBRSxLQUFLdmYsS0FBTCxDQUFXdWY7QUFBekM7QUFBUjtBQUZNLE9BQWQsQ0FERjtBQU9BLFdBQUt2ZixLQUFMLENBQVdsRixRQUFYLENBQ0VDLHlCQUFFLENBQUMwQyxTQUFILENBQWE7QUFDWDhFLGFBQUssRUFBRSxnQkFESTtBQUVYN0QsY0FBTSxFQUFFLGdCQUZHO0FBR1hnbkIsdUJBQWUsRUFBRSxLQUFLMWxCLEtBQUwsQ0FBV3NvQjtBQUhqQixPQUFiLENBREY7QUFRQSxXQUFLdG9CLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMseUJBQUUsQ0FBQytDLGVBQUgsQ0FBbUI7QUFDakJZLGNBQU0sRUFBRSxnQkFEUztBQUVqQjhyQixjQUFNLEVBQUUsQ0FGUztBQUdqQm5DLGFBQUssRUFBRSxDQUNMO0FBQ0VubEIsWUFBRSxFQUFFLEtBQUtsRCxLQUFMLENBQVdrRCxFQURqQjtBQUVFb2xCLGFBQUcsRUFBRSxLQUFLdG9CLEtBQUwsQ0FBV3NvQixHQUZsQjtBQUdFLGNBQUksS0FBS3RvQixLQUFMLENBQVcrb0IsSUFBWCxJQUFtQixLQUFLL29CLEtBQUwsQ0FBVytvQixJQUFYLENBQWdCMEIsSUFBbkMsR0FDQTtBQUFFMUIsZ0JBQUksRUFBRSxLQUFLL29CLEtBQUwsQ0FBVytvQixJQUFYLENBQWdCMEI7QUFBeEIsV0FEQSxHQUVBLEVBRko7QUFIRixTQURLO0FBSFUsT0FBbkIsQ0FERjtBQWVEO0FBQ0Y7O0FBRURzRixjQUFZLENBQUN0RSxlQUFELEVBQWtCO0FBQzVCLFFBQUksQ0FBQ0EsZUFBTCxFQUFzQjtBQUNwQixZQUFNdThCLGlCQUFpQixHQUFHLEtBQUtQLDRCQUEvQjs7QUFDQSxVQUFJTyxpQkFBSixFQUF1QjtBQUNyQkEseUJBQWlCLENBQUNybkQsU0FBbEIsQ0FBNEIyUCxNQUE1QixDQUFtQyxRQUFuQyxFQUE2QyxXQUE3QztBQUNEO0FBQ0Y7QUFDRjs7QUFFZSxRQUFWZ2lCLFVBQVUsR0FBRztBQUNqQixVQUFNMDFCLGlCQUFpQixHQUFHLEtBQUtQLDRCQUEvQjs7QUFDQSxRQUFJTyxpQkFBSixFQUF1QjtBQUNyQjtBQUNBLFlBQU0sS0FBS2hvRCxLQUFMLENBQVdxakIsU0FBWCxDQUFxQmpvQixRQUFyQixDQUE4QjZ4QyxJQUE5QixDQUFtQ2diLGlCQUFuQyxDQUNKRCxpQkFESSxDQUFOOztBQUdBLFVBQUksS0FBS2hvRCxLQUFMLENBQVdxakIsU0FBWCxDQUFxQm9QLFVBQXJCLEdBQWtDLENBQXRDLEVBQXlDO0FBQ3ZDdTFCLHlCQUFpQixDQUFDcm5ELFNBQWxCLENBQTRCOFAsR0FBNUIsQ0FBZ0MsV0FBaEM7QUFDRDs7QUFDRHUzQyx1QkFBaUIsQ0FBQ3JuRCxTQUFsQixDQUE0QjhQLEdBQTVCLENBQWdDLFFBQWhDO0FBQ0Q7QUFDRjs7QUFFRHkzQyxRQUFNLENBQUN6cEMsT0FBRCxFQUFVO0FBQ2QsUUFBSSxLQUFLeGUsS0FBVCxFQUFnQjtBQUNkLFlBQU04c0IsS0FBSyxHQUFHdE8sT0FBTyxDQUFDOU8sSUFBUixDQUFhbk4sQ0FBQyxJQUFJQSxDQUFDLENBQUN3cUIsY0FBcEIsQ0FBZDs7QUFFQSxVQUFJRCxLQUFKLEVBQVc7QUFDVCxZQUFJLEtBQUs0NkIsa0JBQVQsRUFBNkI7QUFDM0IsZUFBS1EsUUFBTCxDQUFjaDdCLFNBQWQsQ0FBd0IsS0FBS3c2QixrQkFBN0I7QUFDRCxTQUhRLENBS1Q7OztBQUNBLGFBQUt0bkQsUUFBTCxDQUFjO0FBQ1p1bkQsZ0JBQU0sRUFBRTtBQURJLFNBQWQ7QUFHRDtBQUNGO0FBQ0Y7O0FBRUQ1a0MsZ0JBQWMsR0FBRztBQUNmLFFBQUksQ0FBQyxLQUFLL2lCLEtBQUwsQ0FBVzJuRCxNQUFoQixFQUF3QjtBQUN0QixVQUFJLEtBQUtPLFFBQUwsSUFBaUIsS0FBS1Isa0JBQTFCLEVBQThDO0FBQzVDLGFBQUtRLFFBQUwsQ0FBY2g3QixTQUFkLENBQXdCLEtBQUt3NkIsa0JBQTdCO0FBQ0Q7O0FBQ0QsV0FBS3RuRCxRQUFMLENBQWM7QUFDWnVuRCxjQUFNLEVBQUU7QUFESSxPQUFkO0FBR0Q7QUFDRjs7QUFFRDNsRCxtQkFBaUIsR0FBRztBQUNsQixTQUFLbWhCLGNBQUwsR0FBc0IsS0FBS3BqQixLQUFMLENBQVdxakIsU0FBWCxDQUFxQi9uQixtQkFBckIsQ0FDcEIsS0FBSzBuQixjQUFMLENBQW9CNWlCLElBQXBCLENBQXlCLElBQXpCLENBRG9CLENBQXRCOztBQUdBLFFBQUksS0FBS3VuRCxrQkFBVCxFQUE2QjtBQUMzQixXQUFLUSxRQUFMLEdBQWdCLElBQUk5NkIsb0JBQUosQ0FBeUIsS0FBSzY2QixNQUFMLENBQVk5bkQsSUFBWixDQUFpQixJQUFqQixDQUF6QixDQUFoQjtBQUNBLFdBQUsrbkQsUUFBTCxDQUFjNzZCLE9BQWQsQ0FBc0IsS0FBS3E2QixrQkFBM0I7QUFDRDtBQUNGOztBQUVEcm5ELHNCQUFvQixHQUFHO0FBQ3JCO0FBQ0EsUUFBSSxLQUFLNm5ELFFBQUwsSUFBaUIsS0FBS1Isa0JBQTFCLEVBQThDO0FBQzVDLFdBQUtRLFFBQUwsQ0FBY2g3QixTQUFkLENBQXdCLEtBQUt3NkIsa0JBQTdCO0FBQ0Q7O0FBQ0QsUUFBSSxLQUFLdmtDLGNBQVQsRUFBeUI7QUFDdkIsV0FBS3BqQixLQUFMLENBQVdxakIsU0FBWCxDQUFxQnhvQixrQkFBckIsQ0FBd0MsS0FBS3VvQixjQUE3QztBQUNEO0FBQ0Y7O0FBRURsaUIsUUFBTSxHQUFHO0FBQ1AsUUFBSSxLQUFLbEIsS0FBTCxDQUFXeTRCLFdBQVgsSUFBMEIsQ0FBQyxLQUFLeDRCLEtBQUwsQ0FBVzJuRCxNQUExQyxFQUFrRDtBQUNoRCwwQkFDRTtBQUFLLGlCQUFTLEVBQUMscUJBQWY7QUFBcUMsV0FBRyxFQUFFLEtBQUtGO0FBQS9DLFFBREY7QUFHRDs7QUFFRCxRQUFJLEtBQUsxbkQsS0FBTCxDQUFXb29ELFFBQWYsRUFBeUI7QUFDdkIsMEJBQ0U7QUFBSyxpQkFBUyxFQUFDO0FBQWYsc0JBQ0U7QUFBSyxpQkFBUyxFQUFDO0FBQWYsc0JBQ0U7QUFBUyxpQkFBUyxFQUFDO0FBQW5CLHNCQUNFO0FBQ0Usd0JBQWEsK0JBRGY7QUFFRSxpQkFBUyxFQUFDLHlCQUZaO0FBR0UsV0FBRyxFQUFDLGlGQUhOO0FBSUUsV0FBRyxFQUFDO0FBSk4sUUFERixDQURGLENBREYsZUFXRTtBQUFLLGlCQUFTLEVBQUM7QUFBZixzQkFDRTtBQUFLLGlCQUFTLEVBQUM7QUFBZixzQkFDRTtBQUNFLGlCQUFTLEVBQUMsYUFEWjtBQUVFLHdCQUFhO0FBRmYsUUFERixlQUtFO0FBQ0UsaUJBQVMsRUFBQyxtQkFEWjtBQUVFLHdCQUFhO0FBRmYsUUFMRixDQURGLENBWEYsQ0FERjtBQTBCRDs7QUFDRCxVQUFNQyxXQUFXLEdBQUcsS0FBS3JvRCxLQUFMLENBQVd1Z0IsV0FBWCxLQUEyQixRQUEvQztBQUVBLFVBQU07QUFDSnduQyxjQURJO0FBRUp6bUMsc0JBRkk7QUFHSlYsc0JBSEk7QUFJSkUsbUJBSkk7QUFLSkMsbUJBTEk7QUFNSkUsZ0JBQVUsR0FBRyxDQU5UO0FBT0pDLGVBQVMsR0FBRyxDQVBSO0FBUUpvbkM7QUFSSSxRQVNGLEtBQUt0b0QsS0FUVDtBQVVBLFVBQU0yeUIsT0FBTyxHQUFHLENBQUMvUixnQkFBRCxHQUFvQixLQUFLNWdCLEtBQUwsQ0FBVzJ5QixPQUEvQixHQUF5QyxFQUF6RDtBQUVBLFFBQUl1MEIsVUFBSjs7QUFDQSxRQUFJb0IsZUFBSixFQUFxQjtBQUNuQnBCLGdCQUFVLEdBQ1IsS0FBS2xuRCxLQUFMLENBQVd1b0QsWUFBWCxJQUEyQnpCLHFCQUFxQixDQUFDLEtBQUs5bUQsS0FBTCxDQUFXd29ELFVBQVosQ0FEbEQ7QUFFRDs7QUFFRCxVQUFNQyxrQkFBa0IsR0FBR1YsUUFBUSxHQUFJLFlBQUosR0FBbUIsRUFBdEQ7QUFDQSxVQUFNVyxzQkFBc0IsR0FBRzVuQyxhQUFhLEdBQUksdUJBQUosR0FBOEIsRUFBMUU7QUFDQSxVQUFNNm5DLHNCQUFzQixHQUFHNW5DLGFBQWEsR0FDdkMsd0JBRHVDLEdBRXZDLEVBRkw7QUFHQSxVQUFNNm5DLGNBQWMsR0FBSSx1QkFBc0IzbkMsVUFBVyxFQUF6RDtBQUNBLFVBQU00bkMsa0JBQWtCLEdBQUksc0JBQXFCM25DLFNBQVUsRUFBM0Q7QUFFQSx3QkFDRTtBQUNFLGVBQVMsRUFBRyxXQUFVdW5DLGtCQUFtQixJQUFHQSxrQkFBbUIsSUFBR0Msc0JBQXVCLElBQUdDLHNCQUF1QixJQUFHQyxjQUFlLElBQUdDLGtCQUFtQixFQUQ3SjtBQUVFLFNBQUcsRUFBRSxLQUFLckI7QUFGWixvQkFJRSx1Q0FBQyx3QkFBRDtBQUNFLGVBQVMsRUFBQyxjQURaO0FBRUUsY0FBUSxFQUFFLEtBQUt4bkQsS0FBTCxDQUFXbEYsUUFGdkI7QUFHRSxpQkFBVyxFQUFFLENBQUMsS0FBS2tGLEtBQUwsQ0FBV3k0QixXQUFaLEdBQTBCLEtBQUsvSyxXQUEvQixHQUE2QzFkLFNBSDVEO0FBSUUsU0FBRyxFQUFFLEtBQUtoUSxLQUFMLENBQVc0STtBQUpsQixvQkFNRTtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFLHVDQUFDLGtCQUFEO0FBQ0UscUJBQWUsRUFBQyxLQURsQjtBQUVFLFlBQU0sRUFBRSxLQUFLNUksS0FBTCxDQUFXK3lCLFNBRnJCO0FBR0UsZUFBUyxFQUFFLEtBQUsveUIsS0FBTCxDQUFXZ3pCLGFBSHhCO0FBSUUsV0FBSyxFQUFFLEtBQUs4MEI7QUFKZCxNQURGLEVBT0csS0FBSzluRCxLQUFMLENBQVcrbkQsUUFBWCxpQkFDQztBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFLHFFQURGLENBUkosQ0FORixFQW1CR00sV0FBVyxnQkFDVix1Q0FBQyxhQUFEO0FBQ0UsK0JBQXlCLEVBQUUsS0FBS3JvRCxLQUFMLENBQVdxbUQseUJBRHhDO0FBRUUsWUFBTSxFQUFFLEtBQUtybUQsS0FBTCxDQUFXdEIsTUFGckI7QUFHRSxXQUFLLEVBQUUsS0FBS3NCLEtBQUwsQ0FBV3VmLEtBSHBCO0FBSUUsYUFBTyxFQUFFb1QsT0FKWDtBQUtFLGdCQUFVLEVBQUV1MEIsVUFMZDtBQU1FLGFBQU8sRUFBRSxLQUFLbG5ELEtBQUwsQ0FBVzZPLE9BTnRCO0FBT0Usa0JBQVksRUFBRSxLQUFLN08sS0FBTCxDQUFXb21ELFlBUDNCO0FBUUUsZ0JBQVUsRUFBRSxLQUFLcG1ELEtBQUwsQ0FBV3NtRCxVQVJ6QjtBQVNFLFNBQUcsRUFBRSxLQUFLdG1ELEtBQUwsQ0FBV2l6QixHQVRsQjtBQVVFLGFBQU8sRUFBRSxLQUFLanpCLEtBQUwsQ0FBV2t2QixPQVZ0QjtBQVdFLDJCQUFxQixFQUFFLEtBQUtsdkIsS0FBTCxDQUFXaXZCO0FBWHBDLE1BRFUsZ0JBZVYsdUNBQUMsV0FBRDtBQUNFLCtCQUF5QixFQUFFLEtBQUtqdkIsS0FBTCxDQUFXcW1ELHlCQUR4QztBQUVFLFlBQU0sRUFBRSxLQUFLcm1ELEtBQUwsQ0FBV3RCLE1BRnJCO0FBR0UsV0FBSyxFQUFFLEtBQUtzQixLQUFMLENBQVd1ZixLQUhwQjtBQUlFLGFBQU8sRUFBRW9ULE9BSlg7QUFLRSx1QkFBaUIsRUFBRSxLQUFLM3lCLEtBQUwsQ0FBV2doQixpQkFMaEM7QUFNRSxnQkFBVSxFQUFFa21DLFVBTmQ7QUFPRSxhQUFPLEVBQUUsS0FBS2xuRCxLQUFMLENBQVc2TyxPQVB0QjtBQVFFLGdCQUFVLEVBQUUsS0FBSzdPLEtBQUwsQ0FBV3NtRCxVQVJ6QjtBQVNFLGtCQUFZLEVBQUUsS0FBS3RtRCxLQUFMLENBQVdvbUQsWUFUM0I7QUFVRSxTQUFHLEVBQUUsS0FBS3BtRCxLQUFMLENBQVdpekIsR0FWbEI7QUFXRSxpQkFBVyxFQUFFLEtBQUtqekIsS0FBTCxDQUFXdWdCLFdBWDFCO0FBWUUsYUFBTyxFQUFFLEtBQUt2Z0IsS0FBTCxDQUFXa3ZCLE9BWnRCO0FBYUUsMkJBQXFCLEVBQUUsS0FBS2x2QixLQUFMLENBQVdpdkIscUJBYnBDO0FBY0Usc0JBQWdCLEVBQUUzTjtBQWRwQixNQWxDSixlQW1ERSx1Q0FBQyxrQ0FBRDtBQUNFLGNBQVEsRUFBRSxLQUFLdGhCLEtBQUwsQ0FBV3NzQixRQUR2QjtBQUVFLFVBQUksRUFBRSxDQUNKO0FBQ0VwcEIsVUFBRSxFQUFFLEtBQUtsRCxLQUFMLENBQVdrRCxFQURqQjtBQUVFb2xCLFdBQUcsRUFBRSxLQUFLdG9CLEtBQUwsQ0FBV3NvQixHQUZsQjtBQUdFLFlBQUksS0FBS3RvQixLQUFMLENBQVcrb0IsSUFBWCxJQUFtQixLQUFLL29CLEtBQUwsQ0FBVytvQixJQUFYLENBQWdCN0QsVUFBbkMsR0FDQTtBQUFFNkQsY0FBSSxFQUFFLEtBQUsvb0IsS0FBTCxDQUFXK29CLElBQVgsQ0FBZ0I3RDtBQUF4QixTQURBLEdBRUEsRUFGSjtBQUhGLE9BREksQ0FGUjtBQVdFLGNBQVEsRUFBRSxLQUFLbGxCLEtBQUwsQ0FBV2xGLFFBWHZCO0FBWUUsWUFBTSxFQUFFLEtBQUtrRixLQUFMLENBQVcrbkQsUUFBWCxHQUFzQixnQkFBdEIsR0FBeUMsS0FBSy9uRCxLQUFMLENBQVcvRTtBQVo5RCxNQW5ERixDQUpGLEVBc0VHcW1CLGdCQUFnQixpQkFDZjtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0U7QUFBUSxlQUFTLEVBQUMsaUJBQWxCO0FBQW9DLGFBQU8sRUFBRSxLQUFLaW1DO0FBQWxELE9BQ0csS0FBS3ZuRCxLQUFMLENBQVdvbUQsWUFBWCxLQUE0QixRQUE1QixnQkFDQyw2RkFDRTtBQUFNLGVBQVMsRUFBQztBQUFoQixNQURGLGVBRUU7QUFBTSxzQkFBYTtBQUFuQixNQUZGLENBREQsZ0JBTUMsNkZBQ0U7QUFBTSxlQUFTLEVBQUM7QUFBaEIsTUFERixlQUVFO0FBQU0sc0JBQWE7QUFBbkIsTUFGRixDQVBKLENBREYsZUFjRSx1Q0FBQyxxQkFBRDtBQUNFLFFBQUUsRUFBRSxLQUFLcG1ELEtBQUwsQ0FBV2tELEVBRGpCO0FBRUUsV0FBSyxFQUFFLEtBQUtsRCxLQUFMLENBQVdzb0IsR0FGcEI7QUFHRSxjQUFRLEVBQUUsS0FBS3RvQixLQUFMLENBQVdsRixRQUh2QjtBQUlFLFNBQUcsRUFBRSxLQUFLa0YsS0FBTCxDQUFXNEksR0FKbEI7QUFLRSxXQUFLLEVBQUUsS0FBSzVJLEtBQUwsQ0FBV3VmLEtBTHBCO0FBTUUsWUFBTSxFQUFFLEtBQUt2ZixLQUFMLENBQVd0QixNQU5yQjtBQU9FLFVBQUksRUFBRSxLQUFLc0IsS0FBTCxDQUFXL0UsSUFQbkI7QUFRRSxlQUFTLEVBQUUsS0FBSytFLEtBQUwsQ0FBVzBvQixTQVJ4QjtBQVNFLFVBQUksRUFBRSxLQUFLMW9CLEtBQUwsQ0FBVytvQixJQVRuQjtBQVVFLGtCQUFZLEVBQUUsS0FBSy9vQixLQUFMLENBQVc2bkIsWUFWM0I7QUFXRSxjQUFRLEVBQ04sQ0FBQyxLQUFLN25CLEtBQUwsQ0FBVzhvRCxhQUFaLEdBQTRCLEtBQUs5b0QsS0FBTCxDQUFXc3NCLFFBQXZDLEdBQWtEdGMsU0FadEQ7QUFjRSxxQkFBZSxFQUFFLENBQUMsQ0FBQyxLQUFLaFEsS0FBTCxDQUFXc3NCLFFBZGhDO0FBZUUsa0JBQVksRUFBRSxLQUFLeUQsWUFmckI7QUFnQkUsZ0JBQVUsRUFBRSxLQUFLdUMsVUFoQm5CO0FBaUJFLHNCQUFnQixFQUFFaFI7QUFqQnBCLE1BZEYsQ0FERixDQXZFSixFQTRHRyxDQUFDQSxnQkFBRCxpQkFDQyx1Q0FBQyxxQkFBRDtBQUNFLFFBQUUsRUFBRSxLQUFLdGhCLEtBQUwsQ0FBV2tELEVBRGpCO0FBRUUsV0FBSyxFQUFFLEtBQUtsRCxLQUFMLENBQVdzb0IsR0FGcEI7QUFHRSxjQUFRLEVBQUUsS0FBS3RvQixLQUFMLENBQVdsRixRQUh2QjtBQUlFLFNBQUcsRUFBRSxLQUFLa0YsS0FBTCxDQUFXNEksR0FKbEI7QUFLRSxXQUFLLEVBQUUsS0FBSzVJLEtBQUwsQ0FBV3VmLEtBTHBCO0FBTUUsWUFBTSxFQUFFLEtBQUt2ZixLQUFMLENBQVd0QixNQU5yQjtBQU9FLFVBQUksRUFBRSxLQUFLc0IsS0FBTCxDQUFXL0UsSUFQbkI7QUFRRSxlQUFTLEVBQUUsS0FBSytFLEtBQUwsQ0FBVzBvQixTQVJ4QjtBQVNFLFVBQUksRUFBRSxLQUFLMW9CLEtBQUwsQ0FBVytvQixJQVRuQjtBQVVFLGtCQUFZLEVBQUUsS0FBSy9vQixLQUFMLENBQVc2bkIsWUFWM0I7QUFXRSxjQUFRLEVBQ04sQ0FBQyxLQUFLN25CLEtBQUwsQ0FBVzhvRCxhQUFaLEdBQTRCLEtBQUs5b0QsS0FBTCxDQUFXc3NCLFFBQXZDLEdBQWtEdGMsU0FadEQ7QUFjRSxxQkFBZSxFQUFFLENBQUMsQ0FBQyxLQUFLaFEsS0FBTCxDQUFXc3NCLFFBZGhDO0FBZUUsYUFBTyxFQUFFLEtBQUt5OEIsd0JBZmhCO0FBZ0JFLGtCQUFZLEVBQUUsS0FBS2g1QixZQWhCckI7QUFpQkUsZ0JBQVUsRUFBRSxLQUFLdUM7QUFqQm5CLE1BN0dKLENBREY7QUFvSUQ7O0FBclk4QztBQXdZakRnMUIsYUFBTyxDQUFDMXJDLFlBQVIsR0FBdUI7QUFDckJ5SCxXQUFTLEVBQUU1SSxNQURVLENBQ0Y7O0FBREUsQ0FBdkI7QUFJTyxNQUFNdXVDLE1BQU0sR0FBR25rRCx1Q0FBTyxDQUFDNUUsS0FBSyxLQUFLO0FBQ3RDa0IsS0FBRyxFQUFFbEIsS0FBSyxDQUFDa0I7QUFEMkIsQ0FBTCxDQUFOLENBQVAsQ0FFbEJtbUQsYUFGa0IsQ0FBZjtBQUlBLE1BQU0yQixpQkFBaUIsR0FBR2pwRCxLQUFLLGlCQUFJLHVDQUFDLE1BQUQ7QUFBUSxhQUFXLEVBQUU7QUFBckIsRUFBbkM7QUFDQSxNQUFNa3BELGVBQWUsR0FBR2xwRCxLQUFLLGlCQUFJLHVDQUFDLE1BQUQ7QUFBUSxVQUFRLEVBQUU7QUFBbEIsRUFBakMsQzs7QUNua0JQO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFTyxNQUFNbXBELHlCQUFOLFNBQTJCdHBELHdCQUFLLENBQUNDLGFBQWpDLENBQStDO0FBQ3BEQyxhQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNqQixVQUFNQSxLQUFOO0FBQ0EsU0FBS29wRCxPQUFMLEdBQWUsS0FBS0EsT0FBTCxDQUFhaHBELElBQWIsQ0FBa0IsSUFBbEIsQ0FBZjtBQUNBLFNBQUtILEtBQUwsR0FBYSxFQUFiO0FBQ0Q7O0FBRURLLHNCQUFvQixHQUFHO0FBQ3JCLFFBQUksS0FBSytvRCxPQUFULEVBQWtCO0FBQ2hCQyxrQkFBWSxDQUFDLEtBQUtELE9BQU4sQ0FBWjtBQUNEO0FBQ0Y7O0FBRURELFNBQU8sR0FBRztBQUNSLFFBQUksS0FBS3BwRCxLQUFMLENBQVdsRixRQUFYLElBQXVCLEtBQUtrRixLQUFMLENBQVdzSSxJQUF0QyxFQUE0QztBQUMxQyxZQUFNO0FBQUVBO0FBQUYsVUFBVyxLQUFLdEksS0FBdEI7QUFDQSxZQUFNO0FBQUU0STtBQUFGLFVBQVVOLElBQWhCO0FBQ0EsV0FBS3RJLEtBQUwsQ0FBV2xGLFFBQVgsQ0FBb0I7QUFDbEJHLFlBQUksRUFBRUMsc0JBQUUsQ0FBQ3F1RCw0QkFEUztBQUVsQjdyRCxZQUFJLEVBQUU7QUFDSjRLLGNBQUksRUFBRSxFQUNKLEdBQUdBLElBREM7QUFFSjVLLGdCQUFJLEVBQUUsRUFDSixHQUFHNEssSUFBSSxDQUFDNUssSUFESjtBQUVKd2Isb0JBQU0sRUFBRTtBQUZKO0FBRkYsV0FERjtBQVFKdFE7QUFSSTtBQUZZLE9BQXBCO0FBY0EsV0FBS3ZJLFFBQUwsQ0FBYztBQUFFbXBELGVBQU8sRUFBRTtBQUFYLE9BQWQ7QUFDQSxXQUFLSCxPQUFMLEdBQWUzcEQsVUFBVSxDQUFDLE1BQU07QUFDOUIsYUFBSzJwRCxPQUFMLEdBQWUsSUFBZjtBQUNBLGFBQUtocEQsUUFBTCxDQUFjO0FBQ1ptcEQsaUJBQU8sRUFBRTtBQURHLFNBQWQ7QUFHRCxPQUx3QixFQUt0QixHQUxzQixDQUF6QjtBQU9BLFdBQUt4cEQsS0FBTCxDQUFXbEYsUUFBWCxDQUNFQyx5QkFBRSxDQUFDaUMsVUFBSCxDQUFjO0FBQUUvQixZQUFJLEVBQUVDLHNCQUFFLENBQUN1dUQsMkJBQVg7QUFBd0MvckQsWUFBSSxFQUFFO0FBQUU0SztBQUFGO0FBQTlDLE9BQWQsQ0FERjtBQUdEO0FBQ0Y7O0FBRURnckMsY0FBWSxHQUFHO0FBQ2IsUUFBSSxLQUFLdHpDLEtBQUwsQ0FBV2taLE1BQVgsS0FBc0IsU0FBdEIsSUFBbUMsS0FBS2paLEtBQUwsQ0FBV3VwRCxPQUFsRCxFQUEyRDtBQUN6RCwwQkFDRTtBQUNFLGlCQUFTLEVBQUMsMEJBRFo7QUFFRSx3QkFBYTtBQUZmLFFBREY7QUFNRDs7QUFFRCx3QkFDRTtBQUNFLGVBQVMsRUFBQyxrQkFEWjtBQUVFLGFBQU8sRUFBRSxLQUFLSixPQUZoQjtBQUdFLHNCQUFhO0FBSGYsTUFERjtBQU9EOztBQUVETSxhQUFXLEdBQUc7QUFDWixRQUFJLEtBQUsxcEQsS0FBTCxDQUFXa1osTUFBWCxLQUFzQixTQUF0QixJQUFtQyxLQUFLbFosS0FBTCxDQUFXa1osTUFBWCxLQUFzQixRQUE3RCxFQUF1RTtBQUNyRSwwQkFDRSx1Q0FBQyx3QkFBRCxDQUFPLFFBQVAscUJBQ0U7QUFBSSx3QkFBYTtBQUFqQixRQURGLEVBRUcsS0FBS282QixZQUFMLEVBRkgsQ0FERjtBQU1EOztBQUVELHdCQUNFLHVDQUFDLHdCQUFELENBQU8sUUFBUCxxQkFDRTtBQUFJLHNCQUFhO0FBQWpCLE1BREYsZUFFRTtBQUFHLHNCQUFhO0FBQWhCLE1BRkYsQ0FERjtBQU1EOztBQUVEcHlDLFFBQU0sR0FBRztBQUNQLHdCQUNFO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0U7QUFBSyxlQUFTLEVBQUM7QUFBZixPQUFzQyxLQUFLd29ELFdBQUwsRUFBdEMsQ0FERixDQURGO0FBS0Q7O0FBeEZtRCxDOztBQ1B0RDtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFTyxNQUFNQyxpQkFBTixTQUF1QjlwRCx3QkFBSyxDQUFDQyxhQUE3QixDQUEyQztBQUNoREMsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUtDLEtBQUwsR0FBYTtBQUFFMnBELGdCQUFVLEVBQUU7QUFBZCxLQUFiO0FBQ0EsU0FBS0MsZUFBTCxHQUF1QixLQUFLQSxlQUFMLENBQXFCenBELElBQXJCLENBQTBCLElBQTFCLENBQXZCO0FBQ0Q7O0FBRUR5cEQsaUJBQWUsR0FBRztBQUNoQixTQUFLN3BELEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMseUJBQUUsQ0FBQzBDLFNBQUgsQ0FBYTtBQUNYOEUsV0FBSyxFQUFFLE9BREk7QUFFWDdELFlBQU0sRUFBRTtBQUZHLEtBQWIsQ0FERjtBQU1BLFNBQUsyQixRQUFMLENBQWM7QUFBRXVwRCxnQkFBVSxFQUFFO0FBQWQsS0FBZDtBQUNEOztBQUVlLE1BQVpFLFlBQVksR0FBRztBQUNqQixVQUFNO0FBQUUxb0MsY0FBRjtBQUFZMWpCLFVBQVo7QUFBa0Jxc0Q7QUFBbEIsUUFBd0MsS0FBSy9wRCxLQUFuRDtBQUNBLFdBQ0VvaEIsUUFBUSxJQUNSMWpCLElBQUksQ0FBQ29MLGVBQUwsQ0FBcUJ6RixNQUFyQixHQUE4QjBtRCxpQkFEOUIsSUFFQSxDQUFDLEtBQUs5cEQsS0FBTCxDQUFXMnBELFVBSGQ7QUFLRDs7QUFFREksbUJBQWlCLENBQUN6cUMsS0FBRCxFQUFRO0FBQ3ZCLHdCQUNFO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0U7QUFBSSxlQUFTLEVBQUM7QUFBZCxvQkFDRTtBQUFNLGVBQVMsRUFBQztBQUFoQixvQkFDRSx1Q0FBQyw0QkFBRDtBQUFjLGFBQU8sRUFBRUE7QUFBdkIsTUFERixDQURGLENBREYsQ0FERjtBQVNEOztBQUVEMHFDLGFBQVcsR0FBRztBQUNaLFFBQUk7QUFBRTFnRDtBQUFGLFFBQVksS0FBS3ZKLEtBQXJCO0FBQ0EsVUFBTTtBQUNKMGdCLHdCQURJO0FBRUpDLG9CQUZJO0FBR0pDLHNCQUhJO0FBSUpTLDRCQUpJO0FBS0pDLHNCQUxJO0FBTUp5b0MsdUJBTkk7QUFPSmxwQyxpQkFQSTtBQVFKQyxtQkFSSTtBQVNKQyxtQkFUSTtBQVVKQyx1QkFWSTtBQVdKQyxnQkFYSTtBQVlKQyxlQVpJO0FBYUpDLGNBYkk7QUFjSnhCLDBCQWRJO0FBZUpDO0FBZkksUUFnQkYsS0FBSzVmLEtBaEJUO0FBaUJBLFFBQUlrcUQsbUJBQW1CLEdBQUc3b0Msc0JBQTFCOztBQUNBLFFBQUksS0FBS3lvQyxZQUFULEVBQXVCO0FBQ3JCdmdELFdBQUssR0FBR3dnRCxpQkFBUixDQURxQixDQUVyQjs7QUFDQUcseUJBQW1CLEdBQUcsS0FBdEI7QUFDRDs7QUFFRCxVQUFNQyxJQUFJLEdBQUcsS0FBS25xRCxLQUFMLENBQVd0QyxJQUFYLENBQWdCb0wsZUFBaEIsQ0FBZ0NtRixLQUFoQyxDQUFzQyxDQUF0QyxFQUF5QzFFLEtBQXpDLENBQWI7QUFDQSxVQUFNMmlCLEtBQUssR0FBRyxFQUFkOztBQUVBLFNBQUssSUFBSXBlLEtBQUssR0FBRyxDQUFqQixFQUFvQkEsS0FBSyxHQUFHdkUsS0FBNUIsRUFBbUN1RSxLQUFLLEVBQXhDLEVBQTRDO0FBQzFDLFlBQU1zOEMsR0FBRyxHQUFHRCxJQUFJLENBQUNyOEMsS0FBRCxDQUFoQjtBQUNBb2UsV0FBSyxDQUFDbmEsSUFBTixDQUNFLENBQUNxNEMsR0FBRCxJQUFRQSxHQUFHLENBQUMzeEIsV0FBWixnQkFDRSx1Q0FBQyxpQkFBRDtBQUFtQixXQUFHLEVBQUcsVUFBUzNxQixLQUFNO0FBQXhDLFFBREYsZ0JBR0UsdUNBQUMsTUFBRDtBQUNFLFdBQUcsRUFBRyxVQUFTczhDLEdBQUcsQ0FBQ2xuRCxFQUFHLEVBRHhCO0FBRUUsV0FBRyxFQUFFa25ELEdBQUcsQ0FBQzloQyxHQUZYO0FBR0UsZ0JBQVEsRUFBRThoQyxHQUFHLENBQUN4aEMsU0FIaEI7QUFJRSxpQkFBUyxFQUFFd2hDLEdBQUcsQ0FBQ3IzQixTQUpqQjtBQUtFLHFCQUFhLEVBQUVxM0IsR0FBRyxDQUFDcDNCLGFBTHJCO0FBTUUsa0JBQVUsRUFBRW8zQixHQUFHLENBQUM1QixVQU5sQjtBQU9FLG9CQUFZLEVBQUU0QixHQUFHLENBQUM3QixZQVBwQjtBQVFFLHVCQUFlLEVBQUVwbkMsUUFSbkI7QUFTRSxhQUFLLEVBQUVpcEMsR0FBRyxDQUFDN3FDLEtBVGI7QUFVRSxlQUFPLEVBQUU2cUMsR0FBRyxDQUFDejNCLE9BVmY7QUFXRSxXQUFHLEVBQUV5M0IsR0FBRyxDQUFDeGhELEdBWFg7QUFZRSxVQUFFLEVBQUV3aEQsR0FBRyxDQUFDbG5ELEVBWlY7QUFhRSxZQUFJLEVBQUVrbkQsR0FBRyxDQUFDcmhDLElBYlo7QUFjRSxZQUFJLEVBQUUsS0FBSy9vQixLQUFMLENBQVcvRSxJQWRuQjtBQWVFLGVBQU8sRUFBRW12RCxHQUFHLENBQUN2N0MsT0FmZjtBQWdCRSxlQUFPLEVBQUV1N0MsR0FBRyxDQUFDbDdCLE9BaEJmO0FBaUJFLDZCQUFxQixFQUFFazdCLEdBQUcsQ0FBQ243QixxQkFqQjdCO0FBa0JFLGdCQUFRLEVBQUUsS0FBS2p2QixLQUFMLENBQVdsRixRQWxCdkI7QUFtQkUsY0FBTSxFQUFFc3ZELEdBQUcsQ0FBQ3RqQixNQW5CZDtBQW9CRSxpQkFBUyxFQUFFc2pCLEdBQUcsQ0FBQzFoQyxTQXBCakI7QUFxQkUsb0JBQVksRUFBRTBoQyxHQUFHLENBQUNoRSxZQXJCcEI7QUFzQkUsb0JBQVksRUFBRWdFLEdBQUcsQ0FBQ3ZpQyxZQXRCcEI7QUF1QkUsa0JBQVUsRUFBRXVpQyxHQUFHLENBQUM5RCxVQXZCbEI7QUF3QkUsaUNBQXlCLEVBQUUsS0FBS3RtRCxLQUFMLENBQVdxbUQseUJBeEJ4QztBQXlCRSx3QkFBZ0IsRUFBRXpsQyxnQkF6QnBCO0FBMEJFLHdCQUFnQixFQUFFVSxnQkExQnBCO0FBMkJFLHFCQUFhLEVBQUVSLGFBM0JqQjtBQTRCRSxxQkFBYSxFQUFFQyxhQTVCakI7QUE2QkUseUJBQWlCLEVBQUVDLGlCQTdCckI7QUE4QkUsa0JBQVUsRUFBRUMsVUE5QmQ7QUErQkUsaUJBQVMsRUFBRUMsU0EvQmI7QUFnQ0UsV0FBRyxFQUFFa3BDLEdBQUcsQ0FBQ24zQixHQWhDWDtBQWlDRSxtQkFBVyxFQUFFLEtBQUtqekIsS0FBTCxDQUFXdWdCLFdBakMxQjtBQWtDRSxnQkFBUSxFQUFFLEtBQUt2Z0IsS0FBTCxDQUFXeWdCLHNCQUFYLElBQXFDMnBDLEdBQUcsQ0FBQ3JDLFFBbENyRDtBQW1DRSxxQkFBYSxFQUFFLEtBQUsvbkQsS0FBTCxDQUFXOG9EO0FBbkM1QixRQUpKO0FBMkNELEtBMUVXLENBNEVaO0FBQ0E7OztBQUNBLFFBQUlucEMsb0JBQW9CLElBQUlDLGtCQUE1QixFQUFnRDtBQUM5QztBQUNBLFVBQUllLGNBQUosRUFBb0I7QUFDbEJ1TCxhQUFLLENBQUNySyxNQUFOLENBQWEsQ0FBYixFQUFnQixDQUFoQixFQUFtQixLQUFLbW9DLGlCQUFMLENBQXVCLGdCQUF2QixDQUFuQjtBQUNELE9BRkQsTUFFTztBQUNMOTlCLGFBQUssQ0FBQ3JLLE1BQU4sQ0FBYSxDQUFiLEVBQWdCLENBQWhCLEVBQW1CLEtBQUttb0MsaUJBQUwsQ0FBdUIsZ0JBQXZCLENBQW5CO0FBQ0Q7QUFDRixLQXJGVyxDQXVGWjs7O0FBQ0EsUUFBSUUsbUJBQUosRUFBeUI7QUFDdkJoK0IsV0FBSyxDQUFDckssTUFBTixDQUNFcUssS0FBSyxDQUFDN29CLE1BQU4sR0FBZSxDQURqQixFQUVFLENBRkYsZUFHRSx1Q0FBQyxlQUFEO0FBQWlCLFdBQUcsRUFBRyxlQUFjNm9CLEtBQUssQ0FBQzdvQixNQUFOLEdBQWUsQ0FBRTtBQUF0RCxRQUhGO0FBS0QsS0E5RlcsQ0FnR1o7OztBQUNBLFVBQU1nbkQsWUFBWSxHQUFHLEtBQUtycUQsS0FBTCxDQUFXaWdCLGVBQVgsR0FDaEIsZ0JBQWUsS0FBS2pnQixLQUFMLENBQVdpZ0IsZUFBZ0IsRUFEMUIsR0FFaEIsRUFGTDtBQUlBLFVBQU1xcUMsdUJBQXVCLEdBQUc1cEMsa0JBQWtCLEdBQzdDLDhCQUQ2QyxHQUU3QyxFQUZMO0FBR0EsVUFBTTZwQyxtQkFBbUIsR0FBRzVwQyxjQUFjLEdBQ3JDLGdDQURxQyxHQUVyQyxFQUZMO0FBSUEsVUFBTTZwQyx5QkFBeUIsR0FBRyxDQUFDNXBDLGdCQUFELEdBQzdCLG1DQUQ2QixHQUU3QixFQUZMO0FBSUEsVUFBTTZwQyxvQkFBb0IsR0FBRzVwQyxXQUFXLEdBQUksc0JBQUosR0FBNkIsRUFBckU7QUFFQSx3QkFDRTtBQUNFLGVBQVMsRUFBRyw2QkFBNEIsS0FBSzdnQixLQUFMLENBQVdzZ0IsTUFBTyxJQUFHK3BDLFlBQWEsSUFBR0MsdUJBQXdCLElBQUdDLG1CQUFvQixJQUFHQyx5QkFBMEIsSUFBR0Msb0JBQXFCO0FBRG5MLE9BR0d2K0IsS0FISCxDQURGO0FBT0Q7O0FBRURockIsUUFBTSxHQUFHO0FBQ1AsVUFBTTtBQUFFeEQ7QUFBRixRQUFXLEtBQUtzQyxLQUF0QixDQURPLENBR1A7O0FBQ0EsUUFBSSxDQUFDdEMsSUFBTCxFQUFXO0FBQ1QsYUFBTyxJQUFQO0FBQ0QsS0FOTSxDQVFQOzs7QUFDQSxVQUFNZ3RELE9BQU8sR0FBR2h0RCxJQUFJLENBQUNvTCxlQUFMLENBQXFCekYsTUFBckIsS0FBZ0MsQ0FBaEQ7QUFFQSx3QkFDRSxvREFDRyxLQUFLckQsS0FBTCxDQUFXdWYsS0FBWCxpQkFDQztBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFO0FBQUssZUFBUyxFQUFDO0FBQWYsT0FBd0IsS0FBS3ZmLEtBQUwsQ0FBV3VmLEtBQW5DLENBREYsRUFFRyxLQUFLdmYsS0FBTCxDQUFXNk8sT0FBWCxpQkFDQyx1Q0FBQyw0QkFBRDtBQUFjLGFBQU8sRUFBRSxLQUFLN08sS0FBTCxDQUFXNk87QUFBbEMsb0JBQ0U7QUFBSyxlQUFTLEVBQUM7QUFBZixNQURGLENBSEosQ0FGSixFQVdHNjdDLE9BQU8sZ0JBQ047QUFBSyxlQUFTLEVBQUM7QUFBZixvQkFDRSx1Q0FBQyx5QkFBRDtBQUNFLFlBQU0sRUFBRWh0RCxJQUFJLENBQUN3YixNQURmO0FBRUUsY0FBUSxFQUFFLEtBQUtsWixLQUFMLENBQVdsRixRQUZ2QjtBQUdFLFVBQUksRUFBRSxLQUFLa0YsS0FBTCxDQUFXc0k7QUFIbkIsTUFERixDQURNLEdBU04sS0FBSzJoRCxXQUFMLEVBcEJKLEVBc0JHLEtBQUtILFlBQUwsaUJBQ0M7QUFDRSxlQUFTLEVBQUMsc0RBRFo7QUFFRSxhQUFPLEVBQUUsS0FBS0QsZUFGaEI7QUFHRSxzQkFBYTtBQUhmLE1BdkJKLENBREY7QUFnQ0Q7O0FBNU0rQztBQStNbERGLGlCQUFRLENBQUMvdEMsWUFBVCxHQUF3QjtBQUN0QjBFLFFBQU0sRUFBRyxRQURhO0FBRXRCL1csT0FBSyxFQUFFLENBRmU7QUFFWjtBQUNWa1gsd0JBQXNCLEVBQUUsS0FIRjtBQUl0Qlksd0JBQXNCLEVBQUUsS0FKRjtBQUt0QkMsa0JBQWdCLEVBQUUsS0FMSTtBQU10QnlvQyxtQkFBaUIsRUFBRTtBQU5HLENBQXhCLEM7Ozs7Ozs7Ozs7Ozs7O0FDN05BO0FBQ0E7QUFDQTtBQUVBO0FBRU8sTUFBTVkscUNBQU4sU0FBaUM5cUQsd0JBQUssQ0FBQ0MsYUFBdkMsQ0FBcUQ7QUFDMURvQixRQUFNLEdBQUc7QUFDUCx3QkFBTyxtREFBUDtBQUNEOztBQUh5RCxDOzs7OztBQ041RDtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRU8sTUFBTTBwRCw2QkFBTixTQUE2Qi9xRCx3QkFBSyxDQUFDQyxhQUFuQyxDQUFpRDtBQUN0REMsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUs2cUQsa0JBQUwsR0FBMEIsS0FBS0Esa0JBQUwsQ0FBd0J6cUQsSUFBeEIsQ0FBNkIsSUFBN0IsQ0FBMUI7QUFDRDs7QUFFRDBxRCxnQkFBYyxDQUFDM3RDLFdBQUQsRUFBY2pFLE1BQWQsRUFBc0I7QUFDbEMsU0FBS2xaLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMseUJBQUUsQ0FBQzBDLFNBQUgsQ0FBYTtBQUNYOEUsV0FBSyxFQUFFLGNBREk7QUFFWDdELFlBQU0sRUFBRXllLFdBRkc7QUFHWDVlLFdBQUssRUFBRTtBQUFFMmEsY0FBRjtBQUFVNnhDLG1CQUFXLEVBQUU7QUFBdkI7QUFISSxLQUFiLENBREY7QUFPRDs7QUFFREYsb0JBQWtCLENBQUNyb0QsQ0FBRCxFQUFJO0FBQ3BCLFFBQUl3b0QsUUFBUSxHQUFHeG9ELENBQUMsQ0FBQ3JGLE1BQUYsQ0FBUzh0RCxZQUFULENBQXNCLFlBQXRCLENBQWY7QUFDQSxVQUFNOXRDLFdBQVcsR0FBRzNhLENBQUMsQ0FBQ3JGLE1BQUYsQ0FBUzh0RCxZQUFULENBQXNCLGFBQXRCLENBQXBCO0FBQ0EsUUFBSTFzRCxLQUFKOztBQUNBLFFBQUlpRSxDQUFDLENBQUNyRixNQUFGLENBQVMrdEQsUUFBVCxLQUFzQixRQUExQixFQUFvQztBQUNsQzNzRCxXQUFLLEdBQUc4N0IsUUFBUSxDQUFDNzNCLENBQUMsQ0FBQ3JGLE1BQUYsQ0FBU29CLEtBQVYsRUFBaUIsRUFBakIsQ0FBaEI7QUFDRCxLQUZELE1BRU8sSUFBSWlFLENBQUMsQ0FBQ3JGLE1BQUYsQ0FBUyt0RCxRQUFULEtBQXNCLE9BQTFCLEVBQW1DO0FBQ3hDM3NELFdBQUssR0FBR2lFLENBQUMsQ0FBQ3JGLE1BQUYsQ0FBU21KLE9BQWpCOztBQUNBLFVBQUk2VyxXQUFKLEVBQWlCO0FBQ2YsYUFBSzJ0QyxjQUFMLENBQW9CM3RDLFdBQXBCLEVBQWlDNWUsS0FBakM7QUFDRDtBQUNGOztBQUNELFNBQUt5QixLQUFMLENBQVc4QixPQUFYLENBQW1Ca3BELFFBQW5CLEVBQTZCenNELEtBQTdCO0FBQ0Q7O0FBRUQyQyxRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQ0p3QyxxQkFESTtBQUVKUCxtQkFGSTtBQUdKUSx1QkFISTtBQUlKQyxrQ0FKSTtBQUtKRSxnQ0FMSTtBQU1KRTtBQU5JLFFBT0YsS0FBS2hFLEtBQUwsQ0FBV3lELGVBUGY7QUFTQSx3QkFDRTtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFO0FBQUssUUFBRSxFQUFDLG1CQUFSO0FBQTRCLGVBQVMsRUFBQztBQUF0QyxvQkFDRTtBQUFPLGVBQVMsRUFBQztBQUFqQixvQkFDRTtBQUNFLFFBQUUsRUFBQyxrQkFETDtBQUVFLGFBQU8sRUFBRUMsZUFGWDtBQUdFLFVBQUksRUFBQyxVQUhQO0FBSUUsY0FBUSxFQUFFLEtBQUttbkQsa0JBSmpCO0FBS0UsZ0JBQVUsRUFBQyxnQkFMYjtBQU1FLHlCQUFnQix3QkFObEI7QUFPRSwwQkFBaUIsMkJBUG5CO0FBUUUsaUJBQVcsRUFBQztBQVJkLE1BREYsZUFXRTtBQUFNLGVBQVMsRUFBQyxRQUFoQjtBQUF5QixVQUFJLEVBQUM7QUFBOUIsTUFYRixDQURGLGVBY0UsaUVBQ0U7QUFBSSxRQUFFLEVBQUMsd0JBQVA7QUFBZ0MsZUFBUyxFQUFDO0FBQTFDLG9CQUNFO0FBQ0UsYUFBTyxFQUFDLGtCQURWO0FBRUUsc0JBQWE7QUFGZixNQURGLENBREYsZUFPRTtBQUNFLFFBQUUsRUFBQywyQkFETDtBQUVFLGVBQVMsRUFBQyxVQUZaO0FBR0Usc0JBQWE7QUFIZixNQVBGLGVBWUU7QUFDRSxlQUFTLEVBQUcseUJBQ1ZubkQsZUFBZSxHQUFHLEVBQUgsR0FBUSxRQUN4QjtBQUhILG9CQUtFO0FBQ0UsZUFBUyxFQUFHLG9CQUNWQSxlQUFlLEdBQUcsUUFBSCxHQUFjLFFBQzlCO0FBSEgsb0JBS0U7QUFDRSxRQUFFLEVBQUMsY0FETDtBQUVFLGVBQVMsRUFBQyxVQUZaO0FBR0UsVUFBSSxFQUFDLFdBSFA7QUFJRSxnQkFBVSxFQUFDLGNBSmI7QUFLRSxXQUFLLEVBQUVNLGlCQUxUO0FBTUUsY0FBUSxFQUFFLEtBQUs2bUQsa0JBTmpCO0FBT0UsY0FBUSxFQUFFLENBQUNubkQsZUFQYjtBQVFFLHlCQUFnQjtBQVJsQixvQkFVRTtBQUNFLFdBQUssRUFBQyxHQURSO0FBRUUsc0JBQWEsNEJBRmY7QUFHRSx3QkFBZTtBQUhqQixNQVZGLGVBZUU7QUFDRSxXQUFLLEVBQUMsR0FEUjtBQUVFLHNCQUFhLDRCQUZmO0FBR0Usd0JBQWU7QUFIakIsTUFmRixlQW9CRTtBQUNFLFdBQUssRUFBQyxHQURSO0FBRUUsc0JBQWEsNEJBRmY7QUFHRSx3QkFBZTtBQUhqQixNQXBCRixlQXlCRTtBQUNFLFdBQUssRUFBQyxHQURSO0FBRUUsc0JBQWEsNEJBRmY7QUFHRSx3QkFBZTtBQUhqQixNQXpCRixDQUxGLEVBb0NHLEtBQUsxRCxLQUFMLENBQVdtRSx3QkFBWCxpQkFDQztBQUFLLGVBQVMsRUFBQyxlQUFmO0FBQStCLFVBQUksRUFBQztBQUFwQyxvQkFDRTtBQUNFLFFBQUUsRUFBQyxxQkFETDtBQUVFLGVBQVMsRUFBQyxvQkFGWjtBQUdFLGNBQVEsRUFBRSxDQUFDVCxlQUhiO0FBSUUsYUFBTyxFQUFFRSw0QkFKWDtBQUtFLFVBQUksRUFBQyxVQUxQO0FBTUUsY0FBUSxFQUFFLEtBQUtpbkQsa0JBTmpCO0FBT0UsZ0JBQVUsRUFBQyx1QkFQYjtBQVFFLGlCQUFXLEVBQUM7QUFSZCxNQURGLGVBV0U7QUFDRSxlQUFTLEVBQUMsV0FEWjtBQUVFLGFBQU8sRUFBQyxxQkFGVjtBQUdFLHNCQUFhO0FBSGYsTUFYRixDQXJDSixDQUxGLENBWkYsQ0FkRixDQURGLEVBNEZHLEtBQUs3cUQsS0FBTCxDQUFXa0UsWUFBWCxpQkFDQztBQUFLLFFBQUUsRUFBQyxnQkFBUjtBQUF5QixlQUFTLEVBQUM7QUFBbkMsb0JBQ0U7QUFBTyxlQUFTLEVBQUM7QUFBakIsb0JBQ0U7QUFDRSxRQUFFLEVBQUMsZUFETDtBQUVFLGFBQU8sRUFBRWYsYUFGWDtBQUdFLFVBQUksRUFBQyxVQUhQO0FBSUUsY0FBUSxFQUFFLEtBQUswbkQsa0JBSmpCO0FBS0UsZ0JBQVUsRUFBQywwQkFMYjtBQU1FLHlCQUFnQixxQkFObEI7QUFPRSwwQkFBaUIsd0JBUG5CO0FBUUUsaUJBQVcsRUFBQztBQVJkLE1BREYsZUFXRTtBQUFNLGVBQVMsRUFBQyxRQUFoQjtBQUF5QixVQUFJLEVBQUM7QUFBOUIsTUFYRixDQURGLGVBY0UsaUVBQ0U7QUFBSSxRQUFFLEVBQUMscUJBQVA7QUFBNkIsZUFBUyxFQUFDO0FBQXZDLG9CQUNFO0FBQ0UsYUFBTyxFQUFDLGVBRFY7QUFFRSxzQkFBYTtBQUZmLE1BREYsQ0FERixlQU9FO0FBQ0UsUUFBRSxFQUFDLHdCQURMO0FBRUUsZUFBUyxFQUFDLFVBRlo7QUFHRSxzQkFBYTtBQUhmLE1BUEYsRUFZRyxLQUFLN3FELEtBQUwsQ0FBV21yRCx1QkFBWCxpQkFDQztBQUNFLGVBQVMsRUFBRyw0QkFDVmhvRCxhQUFhLEdBQUcsRUFBSCxHQUFRLFFBQ3RCO0FBSEgsb0JBS0U7QUFDRSxlQUFTLEVBQUcsb0JBQ1ZBLGFBQWEsR0FBRyxRQUFILEdBQWMsUUFDNUI7QUFISCxvQkFLRTtBQUFLLGVBQVMsRUFBQyxlQUFmO0FBQStCLFVBQUksRUFBQztBQUFwQyxvQkFDRTtBQUNFLFFBQUUsRUFBQyxrQkFETDtBQUVFLGVBQVMsRUFBQyxvQkFGWjtBQUdFLGNBQVEsRUFBRSxDQUFDQSxhQUhiO0FBSUUsYUFBTyxFQUFFVywwQkFKWDtBQUtFLFVBQUksRUFBQyxVQUxQO0FBTUUsY0FBUSxFQUFFLEtBQUsrbUQsa0JBTmpCO0FBT0UsZ0JBQVUsRUFBQyxlQVBiO0FBUUUsaUJBQVcsRUFBQztBQVJkLE1BREYsZUFXRTtBQUNFLGVBQVMsRUFBQyxXQURaO0FBRUUsYUFBTyxFQUFDLGtCQUZWO0FBR0Usc0JBQWE7QUFIZixNQVhGLENBTEYsQ0FMRixDQWJKLENBZEYsQ0E3RkosZUEwSkU7QUFBSyxRQUFFLEVBQUMsZ0JBQVI7QUFBeUIsZUFBUyxFQUFDO0FBQW5DLG9CQUNFO0FBQU8sZUFBUyxFQUFDO0FBQWpCLG9CQUNFO0FBQ0UsUUFBRSxFQUFDLG1CQURMO0FBRUUsYUFBTyxFQUFFbG5ELGlCQUZYO0FBR0UsVUFBSSxFQUFDLFVBSFA7QUFJRSxjQUFRLEVBQUUsS0FBS2tuRCxrQkFKakI7QUFLRSxnQkFBVSxFQUFDLDBCQUxiO0FBTUUsaUJBQVcsRUFBQyxZQU5kO0FBT0UseUJBQWdCLHFCQVBsQjtBQVFFLDBCQUFpQjtBQVJuQixNQURGLGVBV0U7QUFBTSxlQUFTLEVBQUMsUUFBaEI7QUFBeUIsVUFBSSxFQUFDO0FBQTlCLE1BWEYsQ0FERixlQWNFLGlFQUNFO0FBQUksUUFBRSxFQUFDLHFCQUFQO0FBQTZCLGVBQVMsRUFBQztBQUF2QyxvQkFDRTtBQUNFLGFBQU8sRUFBQyxtQkFEVjtBQUVFLHNCQUFhO0FBRmYsTUFERixDQURGLGVBUUU7QUFDRSxRQUFFLEVBQUMsd0JBREw7QUFFRSxlQUFTLEVBQUMsVUFGWjtBQUdFLHNCQUFhO0FBSGYsTUFSRixDQWRGLENBMUpGLGVBd0xFO0FBQU0sZUFBUyxFQUFDLFNBQWhCO0FBQTBCLFVBQUksRUFBQztBQUEvQixNQXhMRixlQTBMRSxpRUFDRTtBQUNFLFFBQUUsRUFBQyxlQURMO0FBRUUsZUFBUyxFQUFDLGVBRlo7QUFHRSxhQUFPLEVBQUUsS0FBSzdxRCxLQUFMLENBQVd5QixlQUh0QjtBQUlFLHNCQUFhO0FBSmYsTUFERixDQTFMRixDQURGO0FBcU1EOztBQTlPcUQsQzs7Ozs7Ozs7QUNQeEQ7QUFDQTtBQUNBO0FBRUE7QUFFTyxNQUFNMnBELGNBQWMsR0FBRyxDQUFDO0FBQUV0d0Q7QUFBRixDQUFELGtCQUM1QjtBQUFLLElBQUUsRUFBQztBQUFSLGlDQURLLEM7O0FDTlA7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVPLE1BQU11d0QsMkJBQU4sU0FBNkJ4ckQsd0JBQUssQ0FBQ0MsYUFBbkMsQ0FBaUQ7QUFDdERDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLc3JELFNBQUwsR0FBaUIsS0FBS0EsU0FBTCxDQUFlbHJELElBQWYsQ0FBb0IsSUFBcEIsQ0FBakI7QUFDQSxTQUFLbXJELFFBQUwsR0FBZ0IsS0FBS0EsUUFBTCxDQUFjbnJELElBQWQsQ0FBbUIsSUFBbkIsQ0FBaEI7QUFDRDs7QUFFRGtyRCxXQUFTLEdBQUc7QUFDVixRQUFJLEtBQUtFLFdBQVQsRUFBc0I7QUFDcEIsV0FBS0EsV0FBTCxDQUFpQjlrQyxLQUFqQjtBQUNEO0FBQ0Y7O0FBRUQ2a0MsVUFBUSxHQUFHO0FBQ1QsUUFBSSxLQUFLRSxVQUFULEVBQXFCO0FBQ25CLFdBQUtBLFVBQUwsQ0FBZ0Iva0MsS0FBaEI7QUFDRDtBQUNGOztBQUVEeGxCLFFBQU0sR0FBRztBQUNQLHdCQUNFLGtFQUNFLHVDQUFDLCtDQUFEO0FBQ0UsYUFBTyxFQUFFLEdBRFg7QUFFRSxnQkFBVSxFQUFDLHFCQUZiO0FBR0UsUUFBRSxFQUFFLENBQUMsS0FBS2xCLEtBQUwsQ0FBVzByRCxPQUhsQjtBQUlFLFlBQU0sRUFBRTtBQUpWLG9CQU1FO0FBQ0UsZUFBUyxFQUFDLHVDQURaO0FBRUUsYUFBTyxFQUFFLE1BQU0sS0FBSzFyRCxLQUFMLENBQVcyckQsTUFBWCxFQUZqQjtBQUdFLHNCQUFhLCtCQUhmO0FBSUUsU0FBRyxFQUFFamxCLENBQUMsSUFBSyxLQUFLK2tCLFVBQUwsR0FBa0Iva0I7QUFKL0IsTUFORixDQURGLGVBY0UsdUNBQUMsK0NBQUQ7QUFDRSxhQUFPLEVBQUUsR0FEWDtBQUVFLGdCQUFVLEVBQUMsbUJBRmI7QUFHRSxRQUFFLEVBQUUsS0FBSzFtQyxLQUFMLENBQVcwckQsT0FIakI7QUFJRSxlQUFTLEVBQUUsS0FBS0osU0FKbEI7QUFLRSxjQUFRLEVBQUUsS0FBS0MsUUFMakI7QUFNRSxZQUFNLEVBQUU7QUFOVixvQkFRRTtBQUNFLGVBQVMsRUFBQyxnQkFEWjtBQUVFLFVBQUksRUFBQyxRQUZQO0FBR0Usc0JBQWE7QUFIZixvQkFLRTtBQUNFLGFBQU8sRUFBRSxNQUFNLEtBQUt2ckQsS0FBTCxDQUFXK3hCLE9BQVgsRUFEakI7QUFFRSxlQUFTLEVBQUMsY0FGWjtBQUdFLHNCQUFhLDRCQUhmO0FBSUUsU0FBRyxFQUFFMlUsQ0FBQyxJQUFLLEtBQUs4a0IsV0FBTCxHQUFtQjlrQjtBQUpoQyxNQUxGLEVBV0csS0FBSzFtQyxLQUFMLENBQVd3RCxrQkFBWCxnQkFDQyx1Q0FBQyxjQUFEO0FBQWdCLGNBQVEsRUFBRSxLQUFLeEQsS0FBTCxDQUFXbEY7QUFBckMsTUFERCxnQkFHQyx1Q0FBQyx3QkFBRCxDQUFPLFFBQVAsT0FkSixlQWdCRSx1Q0FBQyxxQ0FBRCxPQWhCRixlQWlCRSx1Q0FBQyw2QkFBRDtBQUNFLHFCQUFlLEVBQUUsS0FBS2tGLEtBQUwsQ0FBV3lCLGVBRDlCO0FBRUUsYUFBTyxFQUFFLEtBQUt6QixLQUFMLENBQVc4QixPQUZ0QjtBQUdFLHFCQUFlLEVBQUUsS0FBSzlCLEtBQUwsQ0FBV3lELGVBSDlCO0FBSUUsa0JBQVksRUFBRSxLQUFLekQsS0FBTCxDQUFXa0UsWUFKM0I7QUFLRSw4QkFBd0IsRUFBRSxLQUFLbEUsS0FBTCxDQUFXbUUsd0JBTHZDO0FBTUUsNkJBQXVCLEVBQ3JCLEtBQUtuRSxLQUFMLENBQVc0QyxlQUFYLENBQTJCQyxNQUEzQixDQUFrQytvRCxVQVB0QztBQVNFLGNBQVEsRUFBRSxLQUFLNXJELEtBQUwsQ0FBV2xGO0FBVHZCLE1BakJGLENBUkYsQ0FkRixDQURGO0FBdUREOztBQTNFcUQ7QUE4RWpELE1BQU0rd0QsYUFBYSxHQUFHaG5ELHVDQUFPLENBQUM1RSxLQUFLLEtBQUs7QUFDN0MyQyxpQkFBZSxFQUFFM0MsS0FBSyxDQUFDMkM7QUFEc0IsQ0FBTCxDQUFOLENBQVAsQ0FFekJ5b0QsMkJBRnlCLENBQXRCLEM7Ozs7Ozs7Ozs7Ozs7QUN6RlA7QUFDQTtBQUNBO0FBRWMsTUFBTVMsTUFBTixDQUFhO0FBQ3pCL3JELGFBQVcsQ0FBQ2dzRCxTQUFELEVBQVk7QUFDckIsU0FBS0EsU0FBTCxHQUFpQkEsU0FBUyxJQUFJLEtBQUtDLGdCQUFuQztBQUNEOztBQUVEQSxrQkFBZ0IsQ0FBQ2w5QixJQUFELEVBQU87QUFDckIsV0FBT0EsSUFBUDtBQUNEO0FBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDRTlkLE9BQUssQ0FBQyxHQUFHRCxNQUFKLEVBQVk7QUFDZixVQUFNazdDLFVBQVUsR0FBRyxJQUFJcGxCLEdBQUosRUFBbkI7QUFDQSxVQUFNcHpCLE1BQU0sR0FBRyxFQUFmOztBQUNBLFNBQUssTUFBTW5TLE1BQVgsSUFBcUJ5UCxNQUFyQixFQUE2QjtBQUMzQixZQUFNbTdDLFFBQVEsR0FBRyxJQUFJMTFCLEdBQUosRUFBakI7O0FBQ0EsV0FBSyxNQUFNajRCLEtBQVgsSUFBb0IrQyxNQUFwQixFQUE0QjtBQUMxQixjQUFNbUIsR0FBRyxHQUFHLEtBQUtzcEQsU0FBTCxDQUFleHRELEtBQWYsQ0FBWjs7QUFDQSxZQUFJLENBQUMwdEQsVUFBVSxDQUFDbDFCLEdBQVgsQ0FBZXQwQixHQUFmLENBQUQsSUFBd0IsQ0FBQ3lwRCxRQUFRLENBQUNuMUIsR0FBVCxDQUFhdDBCLEdBQWIsQ0FBN0IsRUFBZ0Q7QUFDOUN5cEQsa0JBQVEsQ0FBQzcwQixHQUFULENBQWE1MEIsR0FBYixFQUFrQmxFLEtBQWxCO0FBQ0Q7QUFDRjs7QUFDRGtWLFlBQU0sQ0FBQzFCLElBQVAsQ0FBWW02QyxRQUFaO0FBQ0FBLGNBQVEsQ0FBQ3h2RCxPQUFULENBQWlCLENBQUM2QixLQUFELEVBQVFrRSxHQUFSLEtBQWdCd3BELFVBQVUsQ0FBQ3g3QyxHQUFYLENBQWVoTyxHQUFmLENBQWpDO0FBQ0Q7O0FBQ0QsV0FBT2dSLE1BQU0sQ0FBQzFLLEdBQVAsQ0FBV3dKLENBQUMsSUFBSUwsS0FBSyxDQUFDM1YsSUFBTixDQUFXZ1csQ0FBQyxDQUFDalIsTUFBRixFQUFYLENBQWhCLENBQVA7QUFDRDs7QUE5QndCLEM7O0FDSjNCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDYTs7OztBQVNiLE1BQU02cUQsc0JBQXNCLEdBQUcsQ0FBL0I7QUFDQSxNQUFNM3VCLDJCQUEyQixHQUFHLENBQXBDO0FBQ0EsTUFBTTR1QiwyQkFBMkIsR0FBRyx5Q0FBcEM7QUFFQSxNQUFNQyxNQUFNLEdBQUcsSUFBSVAsTUFBSixDQUFXdG5DLElBQUksSUFBSUEsSUFBSSxJQUFJQSxJQUFJLENBQUM1YixHQUFoQyxDQUFmO0FBRUEsTUFBTTBqRCxhQUFhLEdBQUc7QUFDcEJuckQsS0FBRyxFQUFFO0FBQ0g7QUFDQUksZUFBVyxFQUFFLEtBRlY7QUFHSG9ELFVBQU0sRUFBRTtBQUhMLEdBRGU7QUFNcEI0bkQsVUFBUSxFQUFFO0FBQUVockQsZUFBVyxFQUFFO0FBQWYsR0FOVTtBQU9wQmlyRCxVQUFRLEVBQUU7QUFBRWpyRCxlQUFXLEVBQUU7QUFBZixHQVBVO0FBUXBCazhCLFVBQVEsRUFBRTtBQUNSO0FBQ0FsOEIsZUFBVyxFQUFFLEtBRkw7QUFHUjtBQUNBOHFCLFFBQUksRUFBRSxFQUpFO0FBS1I7QUFDQXlSLFlBQVEsRUFBRSxJQU5GO0FBT1I7QUFDQUMsMkJBQXVCLEVBQUUsS0FSakI7QUFTUjtBQUNBWixtQkFBZSxFQUFFO0FBVlQsR0FSVTtBQW9CcEI5N0IsT0FBSyxFQUFFO0FBQ0xFLGVBQVcsRUFBRSxLQURSO0FBRUxELFVBQU0sRUFBRTtBQUFFbXJELG1CQUFhLEVBQUU7QUFBakI7QUFGSCxHQXBCYTtBQXdCcEI3dUMsUUFBTSxFQUFFO0FBQ05KLFdBQU8sRUFBRSxLQURIO0FBRU45ZixRQUFJLEVBQUU7QUFGQSxHQXhCWTtBQTRCcEJzRixVQUFRLEVBQUUsRUE1QlU7QUE2QnBCcXhCLFFBQU0sRUFBRTtBQUNOVyxrQkFBYyxFQUFFLElBRFY7QUFFTkQsYUFBUyxFQUFFLEVBRkw7QUFHTkgsa0JBQWMsRUFBRTtBQUhWLEdBN0JZO0FBa0NwQjtBQUNBaHlCLGlCQUFlLEVBQUU7QUFDZjtBQUNBQyxVQUFNLEVBQUU7QUFBRUMsYUFBTyxFQUFFLEtBQVg7QUFBa0JtRixxQkFBZSxFQUFFO0FBQW5DLEtBRk87QUFHZitCLFVBQU0sRUFBRSxFQUhPO0FBSWZyRCxlQUFXLEVBQUUsSUFKRTtBQUtmNGIsNkJBQXlCLEVBQUUsS0FMWjtBQU1mL0IsMkJBQXVCLEVBQUUsS0FOVjtBQU9mM1gsU0FBSyxFQUFFO0FBQ0xuTCxVQUFJLEVBQUUsQ0FDSjtBQURJLE9BREQ7QUFJTDBvQyxZQUFNLEVBQUU7QUFKSCxLQVBRO0FBYWYvOEIsU0FBSyxFQUFFO0FBQ0xHLG9CQUFjLEVBQUUsRUFEWDtBQUVMN0MsaUJBQVcsRUFBRSxJQUZSO0FBR0xqSixVQUFJLEVBQUUsQ0FDSjtBQUNBO0FBRkksT0FIRDtBQU9MMG9DLFlBQU0sRUFBRSxLQVBIO0FBUUwxOEIsb0JBQWMsRUFBRSxFQVJYO0FBU0xxOEIsYUFBTyxFQUFFLEVBVEo7QUFVTDJtQixnQkFBVSxFQUFFO0FBVlA7QUFiUSxHQW5DRztBQTZEcEJsbUQsaUJBQWUsRUFBRTtBQUNmRyxlQUFXLEVBQUUsSUFERTtBQUVmcEYsZUFBVyxFQUFFO0FBRkUsR0E3REc7QUFpRXBCaUQsUUFBTSxFQUFFO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTRrQyxhQUFTLEVBQUUsS0FMTDtBQU1OO0FBQ0F1akIsUUFBSSxFQUFFO0FBUEE7QUFqRVksQ0FBdEI7O0FBNEVBLFNBQVN4ckQsR0FBVCxDQUFhNk0sU0FBUyxHQUFHcytDLGFBQWEsQ0FBQ25yRCxHQUF2QyxFQUE0Qy9FLE1BQTVDLEVBQW9EO0FBQ2xELFVBQVFBLE1BQU0sQ0FBQ25CLElBQWY7QUFDRSxTQUFLQyxzQkFBRSxDQUFDMHZDLElBQVI7QUFDRSxhQUFPMWhDLE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCeFgsU0FBbEIsRUFBNkI1UixNQUFNLENBQUNzQixJQUFQLElBQWUsRUFBNUMsRUFBZ0Q7QUFDckQ2RCxtQkFBVyxFQUFFO0FBRHdDLE9BQWhELENBQVA7O0FBR0Y7QUFDRSxhQUFPeU0sU0FBUDtBQU5KO0FBUUQ7O0FBRUQsU0FBU3UrQyxRQUFULENBQWtCditDLFNBQVMsR0FBR3MrQyxhQUFhLENBQUNDLFFBQTVDLEVBQXNEbndELE1BQXRELEVBQThEO0FBQzVELFVBQVFBLE1BQU0sQ0FBQ25CLElBQWY7QUFDRSxTQUFLQyxzQkFBRSxDQUFDMHhELHFCQUFSO0FBQ0UsYUFBTyxFQUFFLEdBQUd4d0QsTUFBTSxDQUFDc0IsSUFBWjtBQUFrQjZELG1CQUFXLEVBQUU7QUFBL0IsT0FBUDs7QUFDRjtBQUNFLGFBQU95TSxTQUFQO0FBSko7QUFNRDtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxTQUFTNitDLFlBQVQsQ0FBc0Ivc0MsS0FBdEIsRUFBNkJndEMsTUFBN0IsRUFBcUM7QUFDbkM7QUFDQSxRQUFNQyxVQUFVLEdBQUdELE1BQU0sQ0FBQy9qRCxHQUFQLENBQVdvWixJQUFJLElBQUlBLElBQUksSUFBSUEsSUFBSSxDQUFDdlosR0FBaEMsQ0FBbkI7QUFDQSxNQUFJb2tELFFBQVEsR0FBR2x0QyxLQUFLLENBQUNqZixNQUFOLENBQWFzaEIsSUFBSSxJQUM5QkEsSUFBSSxHQUFHLENBQUM0cUMsVUFBVSxDQUFDcjhDLFFBQVgsQ0FBb0J5UixJQUFJLENBQUN2WixHQUF6QixDQUFKLEdBQW9DLEtBRDNCLENBQWY7QUFHQW9rRCxVQUFRLEdBQUdBLFFBQVEsQ0FBQ2prRCxHQUFULENBQWFvWixJQUFJLElBQUk7QUFDOUIsUUFBSUEsSUFBSSxJQUFJQSxJQUFJLENBQUMrSSxRQUFqQixFQUEyQjtBQUN6QixhQUFPL0ksSUFBSSxDQUFDK0ksUUFBWjtBQUNBLGFBQU8vSSxJQUFJLENBQUM4cUMsUUFBWjtBQUNEOztBQUNELFdBQU85cUMsSUFBUDtBQUNELEdBTlUsQ0FBWCxDQU5tQyxDQWNuQzs7QUFDQTJxQyxRQUFNLENBQUNwd0QsT0FBUCxDQUFlLENBQUNzK0MsR0FBRCxFQUFNbHRDLEtBQU4sS0FBZ0I7QUFDN0IsUUFBSSxDQUFDa3RDLEdBQUwsRUFBVTtBQUNSO0FBQ0Q7O0FBQ0QsUUFBSTc0QixJQUFJLEdBQUdqWixNQUFNLENBQUNzYyxNQUFQLENBQWMsRUFBZCxFQUFrQncxQixHQUFsQixFQUF1QjtBQUFFOXZCLGNBQVEsRUFBRSxJQUFaO0FBQWtCK2hDLGNBQVEsRUFBRW4vQztBQUE1QixLQUF2QixDQUFYOztBQUNBLFFBQUlBLEtBQUssR0FBR2svQyxRQUFRLENBQUMzcEQsTUFBckIsRUFBNkI7QUFDM0IycEQsY0FBUSxDQUFDbC9DLEtBQUQsQ0FBUixHQUFrQnFVLElBQWxCO0FBQ0QsS0FGRCxNQUVPO0FBQ0w2cUMsY0FBUSxDQUFDbnJDLE1BQVQsQ0FBZ0IvVCxLQUFoQixFQUF1QixDQUF2QixFQUEwQnFVLElBQTFCO0FBQ0Q7QUFDRixHQVZEO0FBWUEsU0FBTzZxQyxRQUFQO0FBQ0Q7O0FBRUQsU0FBU3Z2QixRQUFULENBQWtCenZCLFNBQVMsR0FBR3MrQyxhQUFhLENBQUM3dUIsUUFBNUMsRUFBc0RyaEMsTUFBdEQsRUFBOEQ7QUFDNUQsTUFBSTh3RCxRQUFKO0FBQ0EsTUFBSUMsT0FBSjs7QUFDQSxVQUFRL3dELE1BQU0sQ0FBQ25CLElBQWY7QUFDRSxTQUFLQyxzQkFBRSxDQUFDa3lELGlCQUFSO0FBQ0UsVUFBSSxDQUFDaHhELE1BQU0sQ0FBQ3NCLElBQVIsSUFBZ0IsQ0FBQ3RCLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWW9pQixLQUFqQyxFQUF3QztBQUN0QyxlQUFPOVIsU0FBUDtBQUNEOztBQUNELGFBQU85RSxNQUFNLENBQUNzYyxNQUFQLENBQ0wsRUFESyxFQUVMeFgsU0FGSyxFQUdMO0FBQUV6TSxtQkFBVyxFQUFFLElBQWY7QUFBcUI4cUIsWUFBSSxFQUFFandCLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWW9pQjtBQUF2QyxPQUhLLEVBSUwxakIsTUFBTSxDQUFDc0IsSUFBUCxDQUFZZ0YsSUFBWixHQUFtQjtBQUFFQSxZQUFJLEVBQUV0RyxNQUFNLENBQUNzQixJQUFQLENBQVlnRjtBQUFwQixPQUFuQixHQUFnRCxFQUozQyxDQUFQOztBQU1GLFNBQUt4SCxzQkFBRSxDQUFDbXlELHVCQUFSO0FBQ0UsYUFBT25rRCxNQUFNLENBQUNzYyxNQUFQLENBQWMsRUFBZCxFQUFrQnhYLFNBQWxCLEVBQTZCO0FBQUV0TCxZQUFJLEVBQUV0RyxNQUFNLENBQUNzQixJQUFQLENBQVlnRjtBQUFwQixPQUE3QixDQUFQOztBQUNGLFNBQUt4SCxzQkFBRSxDQUFDNnZCLGNBQVI7QUFDRSxhQUFPN2hCLE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCeFgsU0FBbEIsRUFBNkI7QUFDbEM4dkIsZ0JBQVEsRUFBRTtBQUNSaHdCLGVBQUssRUFBRTFSLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWW9RLEtBRFg7QUFFUncvQyx5QkFBZSxFQUFFO0FBRlQ7QUFEd0IsT0FBN0IsQ0FBUDs7QUFNRixTQUFLcHlELHNCQUFFLENBQUMwaUMscUJBQVI7QUFDRSxhQUFPMTBCLE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCeFgsU0FBbEIsRUFBNkI7QUFBRTh2QixnQkFBUSxFQUFFO0FBQVosT0FBN0IsQ0FBUDs7QUFDRixTQUFLNWlDLHNCQUFFLENBQUNxeUQscUNBQVI7QUFDRSxhQUFPcmtELE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCeFgsU0FBbEIsRUFBNkI7QUFBRSt2QiwrQkFBdUIsRUFBRTtBQUEzQixPQUE3QixDQUFQOztBQUNGLFNBQUs3aUMsc0JBQUUsQ0FBQzJpQyxzQ0FBUjtBQUNFLGFBQU8zMEIsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0J4WCxTQUFsQixFQUE2QjtBQUFFK3ZCLCtCQUF1QixFQUFFO0FBQTNCLE9BQTdCLENBQVA7O0FBQ0YsU0FBSzdpQyxzQkFBRSxDQUFDc3lELGdCQUFSO0FBQ0UsVUFDRSxDQUFDeC9DLFNBQVMsQ0FBQzh2QixRQUFYLElBQ0ExaEMsTUFBTSxDQUFDc0IsSUFBUCxDQUFZa0wsR0FBWixLQUFvQm9GLFNBQVMsQ0FBQzh2QixRQUFWLENBQW1CMnZCLFVBRnpDLEVBR0U7QUFDQSxlQUFPei9DLFNBQVA7QUFDRDs7QUFDRCxhQUFPOUUsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0J4WCxTQUFsQixFQUE2QjtBQUNsQzh2QixnQkFBUSxFQUFFO0FBQ1Jod0IsZUFBSyxFQUFFRSxTQUFTLENBQUM4dkIsUUFBVixDQUFtQmh3QixLQURsQjtBQUVSdy9DLHlCQUFlLEVBQUVseEQsTUFBTSxDQUFDc0IsSUFBUCxDQUFZd21DLE9BRnJCO0FBR1J1cEIsb0JBQVUsRUFBRXJ4RCxNQUFNLENBQUNzQixJQUFQLENBQVlrTDtBQUhoQjtBQUR3QixPQUE3QixDQUFQOztBQU9GLFNBQUsxTixzQkFBRSxDQUFDd3lELGVBQVI7QUFDRSxVQUFJLENBQUMxL0MsU0FBUyxDQUFDOHZCLFFBQWYsRUFBeUI7QUFDdkIsZUFBTzl2QixTQUFQO0FBQ0Q7O0FBQ0QsYUFBTzlFLE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCeFgsU0FBbEIsRUFBNkI7QUFDbEM4dkIsZ0JBQVEsRUFBRTtBQUNSaHdCLGVBQUssRUFBRUUsU0FBUyxDQUFDOHZCLFFBQVYsQ0FBbUJod0IsS0FEbEI7QUFFUncvQyx5QkFBZSxFQUFFLElBRlQ7QUFHUkcsb0JBQVUsRUFBRXJ4RCxNQUFNLENBQUNzQixJQUFQLENBQVlrTDtBQUhoQjtBQUR3QixPQUE3QixDQUFQOztBQU9GLFNBQUsxTixzQkFBRSxDQUFDeXlELHNCQUFSO0FBQ0UsVUFBSSxDQUFDMy9DLFNBQVMsQ0FBQzh2QixRQUFmLEVBQXlCO0FBQ3ZCLGVBQU85dkIsU0FBUDtBQUNEOztBQUNELGFBQU85RSxNQUFNLENBQUNzYyxNQUFQLENBQWMsRUFBZCxFQUFrQnhYLFNBQWxCLEVBQTZCO0FBQ2xDOHZCLGdCQUFRLEVBQUU7QUFDUmh3QixlQUFLLEVBQUVFLFNBQVMsQ0FBQzh2QixRQUFWLENBQW1CaHdCLEtBRGxCO0FBRVJ3L0MseUJBQWUsRUFBRTtBQUZUO0FBRHdCLE9BQTdCLENBQVA7O0FBTUYsU0FBS3B5RCxzQkFBRSxDQUFDMHlELGtCQUFSO0FBQ0VULGFBQU8sR0FBR24vQyxTQUFTLENBQUNxZSxJQUFWLENBQWV0akIsR0FBZixDQUFtQnFCLEdBQUcsSUFBSTtBQUNsQyxZQUFJQSxHQUFHLElBQUlBLEdBQUcsQ0FBQ3hCLEdBQUosS0FBWXhNLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWWtMLEdBQW5DLEVBQXdDO0FBQ3RDc2tELGtCQUFRLEdBQUcsSUFBWDtBQUNBLGlCQUFPaGtELE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCcGIsR0FBbEIsRUFBdUI7QUFBRSt4QixzQkFBVSxFQUFFLy9CLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWXkrQjtBQUExQixXQUF2QixDQUFQO0FBQ0Q7O0FBQ0QsZUFBTy94QixHQUFQO0FBQ0QsT0FOUyxDQUFWO0FBT0EsYUFBTzhpRCxRQUFRLEdBQ1hoa0QsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0J4WCxTQUFsQixFQUE2QjtBQUFFcWUsWUFBSSxFQUFFOGdDO0FBQVIsT0FBN0IsQ0FEVyxHQUVYbi9DLFNBRko7O0FBR0YsU0FBSzlTLHNCQUFFLENBQUMyeUQscUJBQVI7QUFDRSxVQUFJLENBQUN6eEQsTUFBTSxDQUFDc0IsSUFBWixFQUFrQjtBQUNoQixlQUFPc1EsU0FBUDtBQUNEOztBQUNEbS9DLGFBQU8sR0FBR24vQyxTQUFTLENBQUNxZSxJQUFWLENBQWV0akIsR0FBZixDQUFtQnliLElBQUksSUFBSTtBQUNuQyxZQUFJQSxJQUFJLElBQUlBLElBQUksQ0FBQzViLEdBQUwsS0FBYXhNLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWWtMLEdBQXJDLEVBQTBDO0FBQ3hDLGdCQUFNO0FBQUVpZix3QkFBRjtBQUFnQmltQyx5QkFBaEI7QUFBK0JDO0FBQS9CLGNBQTZDM3hELE1BQU0sQ0FBQ3NCLElBQTFEO0FBQ0EsaUJBQU93TCxNQUFNLENBQUNzYyxNQUFQLENBQWMsRUFBZCxFQUFrQmhCLElBQWxCLEVBQXdCO0FBQzdCcUQsd0JBRDZCO0FBRTdCaW1DLHlCQUY2QjtBQUc3QkUsK0JBQW1CLEVBQUVEO0FBSFEsV0FBeEIsQ0FBUDtBQUtEOztBQUNELGVBQU92cEMsSUFBUDtBQUNELE9BVlMsQ0FBVjtBQVdBLGFBQU90YixNQUFNLENBQUNzYyxNQUFQLENBQWMsRUFBZCxFQUFrQnhYLFNBQWxCLEVBQTZCO0FBQUVxZSxZQUFJLEVBQUU4Z0M7QUFBUixPQUE3QixDQUFQOztBQUNGLFNBQUtqeUQsc0JBQUUsQ0FBQyt5RCx3QkFBUjtBQUNFLFVBQUksQ0FBQzd4RCxNQUFNLENBQUNzQixJQUFaLEVBQWtCO0FBQ2hCLGVBQU9zUSxTQUFQO0FBQ0Q7O0FBQ0RtL0MsYUFBTyxHQUFHbi9DLFNBQVMsQ0FBQ3FlLElBQVYsQ0FBZXRqQixHQUFmLENBQW1CeWIsSUFBSSxJQUFJO0FBQ25DLFlBQUlBLElBQUksSUFBSXBvQixNQUFNLENBQUNzQixJQUFQLENBQVl1Z0IsSUFBWixDQUFpQnZOLFFBQWpCLENBQTBCOFQsSUFBSSxDQUFDNWIsR0FBL0IsQ0FBWixFQUFpRDtBQUMvQyxnQkFBTXNsRCxPQUFPLEdBQUdobEQsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0JoQixJQUFsQixDQUFoQjtBQUNBLGlCQUFPMHBDLE9BQU8sQ0FBQ3JtQyxZQUFmO0FBQ0EsaUJBQU9xbUMsT0FBTyxDQUFDSixhQUFmO0FBQ0EsaUJBQU9JLE9BQU8sQ0FBQ0YsbUJBQWY7QUFDQSxpQkFBT0UsT0FBUDtBQUNEOztBQUNELGVBQU8xcEMsSUFBUDtBQUNELE9BVFMsQ0FBVjtBQVVBLGFBQU90YixNQUFNLENBQUNzYyxNQUFQLENBQWMsRUFBZCxFQUFrQnhYLFNBQWxCLEVBQTZCO0FBQUVxZSxZQUFJLEVBQUU4Z0M7QUFBUixPQUE3QixDQUFQOztBQUNGLFNBQUtqeUQsc0JBQUUsQ0FBQ2l6RCxvQkFBUjtBQUNFLFVBQUksQ0FBQy94RCxNQUFNLENBQUNzQixJQUFaLEVBQWtCO0FBQ2hCLGVBQU9zUSxTQUFQO0FBQ0Q7O0FBQ0RtL0MsYUFBTyxHQUFHbi9DLFNBQVMsQ0FBQ3FlLElBQVYsQ0FBZXhyQixNQUFmLENBQ1IyakIsSUFBSSxJQUFJLENBQUNwb0IsTUFBTSxDQUFDc0IsSUFBUCxDQUFZdWdCLElBQVosQ0FBaUJ2TixRQUFqQixDQUEwQjhULElBQUksQ0FBQzViLEdBQS9CLENBREQsQ0FBVjtBQUdBLGFBQU9NLE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCeFgsU0FBbEIsRUFBNkI7QUFBRXFlLFlBQUksRUFBRThnQztBQUFSLE9BQTdCLENBQVA7O0FBQ0YsU0FBS2p5RCxzQkFBRSxDQUFDa3pELHVCQUFSO0FBQ0UsYUFBTyxFQUFFLEdBQUdwZ0QsU0FBTDtBQUFnQm12Qix1QkFBZSxFQUFFL2dDLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWXkvQjtBQUE3QyxPQUFQOztBQUNGLFNBQUtqaUMsc0JBQUUsQ0FBQ3FmLHFCQUFSO0FBQ0UsYUFBTyxFQUFFLEdBQUd2TSxTQUFMO0FBQWdCcWUsWUFBSSxFQUFFO0FBQXRCLE9BQVA7O0FBQ0Y7QUFDRSxhQUFPcmUsU0FBUDtBQXBISjtBQXNIRDs7QUFFRCxTQUFTNFAsTUFBVCxDQUFnQjVQLFNBQVMsR0FBR3MrQyxhQUFhLENBQUMxdUMsTUFBMUMsRUFBa0R4aEIsTUFBbEQsRUFBMEQ7QUFDeEQsVUFBUUEsTUFBTSxDQUFDbkIsSUFBZjtBQUNFLFNBQUtDLHNCQUFFLENBQUNtdUIsV0FBUjtBQUNFLGFBQU9uZ0IsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0J4WCxTQUFsQixFQUE2QjtBQUFFd1AsZUFBTyxFQUFFLElBQVg7QUFBaUI5ZixZQUFJLEVBQUV0QixNQUFNLENBQUNzQjtBQUE5QixPQUE3QixDQUFQOztBQUNGLFNBQUt4QyxzQkFBRSxDQUFDZ2lCLGFBQVI7QUFDRSxhQUFPaFUsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0J4WCxTQUFsQixFQUE2QjtBQUFFd1AsZUFBTyxFQUFFO0FBQVgsT0FBN0IsQ0FBUDs7QUFDRixTQUFLdGlCLHNCQUFFLENBQUNvdUIsa0JBQVI7QUFDRSxhQUFPcGdCLE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCOG1DLGFBQWEsQ0FBQzF1QyxNQUFoQyxDQUFQOztBQUNGO0FBQ0UsYUFBTzVQLFNBQVA7QUFSSjtBQVVEOztBQUVELFNBQVMzTSxLQUFULENBQWUyTSxTQUFTLEdBQUdzK0MsYUFBYSxDQUFDanJELEtBQXpDLEVBQWdEakYsTUFBaEQsRUFBd0Q7QUFDdEQsTUFBSWl5RCxTQUFKOztBQUNBLFVBQVFqeUQsTUFBTSxDQUFDbkIsSUFBZjtBQUNFLFNBQUtDLHNCQUFFLENBQUNvekQsb0JBQVI7QUFDRSxhQUFPcGxELE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCeFgsU0FBbEIsRUFBNkI7QUFDbEN6TSxtQkFBVyxFQUFFLElBRHFCO0FBRWxDRCxjQUFNLEVBQUVsRixNQUFNLENBQUNzQjtBQUZtQixPQUE3QixDQUFQOztBQUlGLFNBQUt4QyxzQkFBRSxDQUFDcXpELFlBQVI7QUFDRUYsZUFBUyxHQUFHbmxELE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCeFgsU0FBUyxDQUFDMU0sTUFBNUIsQ0FBWjtBQUNBK3NELGVBQVMsQ0FBQ2p5RCxNQUFNLENBQUNzQixJQUFQLENBQVlZLElBQWIsQ0FBVCxHQUE4QmxDLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWWEsS0FBMUM7QUFDQSxhQUFPMkssTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0J4WCxTQUFsQixFQUE2QjtBQUFFMU0sY0FBTSxFQUFFK3NEO0FBQVYsT0FBN0IsQ0FBUDs7QUFDRjtBQUNFLGFBQU9yZ0QsU0FBUDtBQVhKO0FBYUQ7O0FBRUQsU0FBU2hMLFFBQVQsQ0FBa0JnTCxTQUFTLEdBQUdzK0MsYUFBYSxDQUFDdHBELFFBQTVDLEVBQXNENUcsTUFBdEQsRUFBOEQ7QUFDNUQsTUFBSTh3RCxRQUFKO0FBQ0EsTUFBSXNCLFFBQUo7O0FBQ0EsVUFBUXB5RCxNQUFNLENBQUNuQixJQUFmO0FBQ0UsU0FBS0Msc0JBQUUsQ0FBQ3V6RCxrQkFBUjtBQUNFLGFBQU96Z0QsU0FBUyxDQUFDbk4sTUFBVixDQUFpQm9DLE9BQU8sSUFBSUEsT0FBTyxDQUFDQyxFQUFSLEtBQWU5RyxNQUFNLENBQUNzQixJQUFsRCxDQUFQOztBQUNGLFNBQUt4QyxzQkFBRSxDQUFDd3pELGdCQUFSO0FBQ0U7QUFDQUYsY0FBUSxHQUFHeGdELFNBQVMsQ0FBQ2pGLEdBQVYsQ0FBYzlGLE9BQU8sSUFBSTtBQUNsQyxZQUFJQSxPQUFPLElBQUlBLE9BQU8sQ0FBQ0MsRUFBUixLQUFlOUcsTUFBTSxDQUFDc0IsSUFBUCxDQUFZd0YsRUFBMUMsRUFBOEM7QUFDNUNncUQsa0JBQVEsR0FBRyxJQUFYO0FBQ0EsaUJBQU9oa0QsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0J2aUIsT0FBbEIsRUFBMkI3RyxNQUFNLENBQUNzQixJQUFsQyxDQUFQO0FBQ0Q7O0FBQ0QsZUFBT3VGLE9BQVA7QUFDRCxPQU5VLENBQVgsQ0FGRixDQVNFOztBQUNBLFVBQUksQ0FBQ2lxRCxRQUFMLEVBQWU7QUFDYixjQUFNM3JELFdBQVcsR0FBRyxDQUFDLEVBQUVuRixNQUFNLENBQUNzQixJQUFQLENBQVkydUIsSUFBWixJQUFvQixDQUFDLENBQUNqd0IsTUFBTSxDQUFDc0IsSUFBUCxDQUFZMnVCLElBQVosQ0FBaUJocEIsTUFBekMsQ0FBckI7QUFDQSxjQUFNSixPQUFPLEdBQUdpRyxNQUFNLENBQUNzYyxNQUFQLENBQ2Q7QUFBRWpHLGVBQUssRUFBRSxFQUFUO0FBQWE4TSxjQUFJLEVBQUUsRUFBbkI7QUFBdUJ2cEIsaUJBQU8sRUFBRTtBQUFoQyxTQURjLEVBRWQxRyxNQUFNLENBQUNzQixJQUZPLEVBR2Q7QUFBRTZEO0FBQUYsU0FIYyxDQUFoQjtBQUtBaXRELGdCQUFRLENBQUN6OEMsSUFBVCxDQUFjOU8sT0FBZDtBQUNEOztBQUNELGFBQU91ckQsUUFBUDs7QUFDRixTQUFLdHpELHNCQUFFLENBQUN5ekQsY0FBUjtBQUNFSCxjQUFRLEdBQUd4Z0QsU0FBUyxDQUFDakYsR0FBVixDQUFjOUYsT0FBTyxJQUFJO0FBQ2xDLFlBQUlBLE9BQU8sSUFBSUEsT0FBTyxDQUFDQyxFQUFSLEtBQWU5RyxNQUFNLENBQUNzQixJQUFQLENBQVl3RixFQUExQyxFQUE4QztBQUM1QztBQUNBO0FBQ0EsZ0JBQU0zQixXQUFXLEdBQUduRixNQUFNLENBQUNzQixJQUFQLENBQVkydUIsSUFBWixHQUFtQjtBQUFFOXFCLHVCQUFXLEVBQUU7QUFBZixXQUFuQixHQUEyQyxFQUEvRCxDQUg0QyxDQUs1QztBQUNBOztBQUNBLGNBQ0VuRixNQUFNLENBQUNzQixJQUFQLENBQVkydUIsSUFBWixJQUNBLENBQUMsQ0FBQ2p3QixNQUFNLENBQUNzQixJQUFQLENBQVkydUIsSUFBWixDQUFpQmhwQixNQURuQixJQUVBSixPQUFPLENBQUNvcEIsSUFBUixDQUFhMWMsSUFBYixDQUFrQmkvQyxJQUFJLElBQUlBLElBQUksQ0FBQzlCLE1BQS9CLENBSEYsRUFJRTtBQUNBLGtCQUFNemdDLElBQUksR0FBR25hLEtBQUssQ0FBQzNWLElBQU4sQ0FBV0gsTUFBTSxDQUFDc0IsSUFBUCxDQUFZMnVCLElBQXZCLENBQWI7QUFDQXBwQixtQkFBTyxDQUFDb3BCLElBQVIsQ0FBYTN2QixPQUFiLENBQXFCLENBQUNreUQsSUFBRCxFQUFPOWdELEtBQVAsS0FBaUI7QUFDcEMsa0JBQUk4Z0QsSUFBSSxDQUFDOUIsTUFBVCxFQUFpQjtBQUNmO0FBQ0Esb0JBQUl6Z0MsSUFBSSxDQUFDdmUsS0FBRCxDQUFKLENBQVlnYixJQUFaLEtBQXFCOGxDLElBQUksQ0FBQzlsQyxJQUE5QixFQUFvQztBQUNsQ3VELHNCQUFJLENBQUN4SyxNQUFMLENBQVkvVCxLQUFaLEVBQW1CLENBQW5CLEVBQXNCOGdELElBQXRCO0FBQ0Q7QUFDRjtBQUNGLGFBUEQ7QUFRQSxtQkFBTzFsRCxNQUFNLENBQUNzYyxNQUFQLENBQ0wsRUFESyxFQUVMdmlCLE9BRkssRUFHTDFCLFdBSEssRUFJTDJILE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCcHBCLE1BQU0sQ0FBQ3NCLElBQXpCLEVBQStCO0FBQUUydUI7QUFBRixhQUEvQixDQUpLLENBQVA7QUFNRDs7QUFFRCxpQkFBT25qQixNQUFNLENBQUNzYyxNQUFQLENBQWMsRUFBZCxFQUFrQnZpQixPQUFsQixFQUEyQjFCLFdBQTNCLEVBQXdDbkYsTUFBTSxDQUFDc0IsSUFBL0MsQ0FBUDtBQUNEOztBQUNELGVBQU91RixPQUFQO0FBQ0QsT0FqQ1UsQ0FBWDs7QUFtQ0EsVUFBSSxDQUFDN0csTUFBTSxDQUFDc0IsSUFBUCxDQUFZbXhELG9CQUFqQixFQUF1QztBQUNyQyxlQUFPTCxRQUFQO0FBQ0Q7O0FBRURweUQsWUFBTSxDQUFDc0IsSUFBUCxDQUFZbXhELG9CQUFaLENBQWlDbnlELE9BQWpDLENBQXlDb3lELFVBQVUsSUFBSTtBQUNyRE4sZ0JBQVEsR0FBR0EsUUFBUSxDQUFDemxELEdBQVQsQ0FBYTlGLE9BQU8sSUFBSTtBQUNqQyxjQUFJQSxPQUFPLENBQUNDLEVBQVIsS0FBZTRyRCxVQUFVLENBQUM1ckQsRUFBOUIsRUFBa0M7QUFDaEMsa0JBQU02ckQsV0FBVyxHQUFHRCxVQUFVLENBQUNFLFVBQVgsQ0FBc0IxM0MsTUFBdEIsQ0FDbEIsQ0FBQytVLElBQUQsRUFBTzRpQyxlQUFQLEtBQTJCO0FBQ3pCLG9CQUFNQyxhQUFhLEdBQUdWLFFBQVEsQ0FBQzcrQyxJQUFULENBQ3BCb1MsQ0FBQyxJQUFJQSxDQUFDLENBQUM3ZSxFQUFGLEtBQVMrckQsZUFETSxDQUF0QjtBQUdBLG9CQUFNLEdBQUc5QixPQUFILElBQWNkLE1BQU0sQ0FBQ3I3QyxLQUFQLENBQWFrK0MsYUFBYSxDQUFDN2lDLElBQTNCLEVBQWlDQSxJQUFqQyxDQUFwQjtBQUNBLHFCQUFPOGdDLE9BQVA7QUFDRCxhQVBpQixFQVFsQmxxRCxPQUFPLENBQUNvcEIsSUFSVSxDQUFwQjtBQVdBLG1CQUFPbmpCLE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCdmlCLE9BQWxCLEVBQTJCO0FBQUVvcEIsa0JBQUksRUFBRTBpQztBQUFSLGFBQTNCLENBQVA7QUFDRDs7QUFFRCxpQkFBTzlyRCxPQUFQO0FBQ0QsU0FqQlUsQ0FBWDtBQWtCRCxPQW5CRDtBQXFCQSxhQUFPdXJELFFBQVA7O0FBQ0YsU0FBS3R6RCxzQkFBRSxDQUFDaTBELG1CQUFSO0FBQ0UsYUFBT25oRCxTQUFTLENBQUNqRixHQUFWLENBQWM5RixPQUFPLElBQUk7QUFDOUIsWUFBSUEsT0FBTyxJQUFJQSxPQUFPLENBQUNDLEVBQVIsS0FBZTlHLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWXdGLEVBQXRDLElBQTRDRCxPQUFPLENBQUNvcEIsSUFBeEQsRUFBOEQ7QUFDNUQsZ0JBQU04Z0MsT0FBTyxHQUFHbHFELE9BQU8sQ0FBQ29wQixJQUFSLENBQWF0akIsR0FBYixDQUFpQjZsRCxJQUFJLElBQUk7QUFDdkMsZ0JBQUlBLElBQUksQ0FBQ2htRCxHQUFMLEtBQWF4TSxNQUFNLENBQUNzQixJQUFQLENBQVlrTCxHQUE3QixFQUFrQztBQUNoQyxxQkFBT00sTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0JvcEMsSUFBbEIsRUFBd0J4eUQsTUFBTSxDQUFDc0IsSUFBUCxDQUFZckIsT0FBcEMsQ0FBUDtBQUNEOztBQUNELG1CQUFPdXlELElBQVA7QUFDRCxXQUxlLENBQWhCO0FBTUEsaUJBQU8xbEQsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0J2aUIsT0FBbEIsRUFBMkI7QUFBRW9wQixnQkFBSSxFQUFFOGdDO0FBQVIsV0FBM0IsQ0FBUDtBQUNEOztBQUNELGVBQU9scUQsT0FBUDtBQUNELE9BWE0sQ0FBUDs7QUFZRixTQUFLL0gsc0JBQUUsQ0FBQzJ5RCxxQkFBUjtBQUNFLFVBQUksQ0FBQ3p4RCxNQUFNLENBQUNzQixJQUFaLEVBQWtCO0FBQ2hCLGVBQU9zUSxTQUFQO0FBQ0Q7O0FBQ0QsYUFBT0EsU0FBUyxDQUFDakYsR0FBVixDQUFjOUYsT0FBTyxJQUMxQmlHLE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCdmlCLE9BQWxCLEVBQTJCO0FBQ3pCb3BCLFlBQUksRUFBRXBwQixPQUFPLENBQUNvcEIsSUFBUixDQUFhdGpCLEdBQWIsQ0FBaUIrbEIsSUFBSSxJQUFJO0FBQzdCO0FBQ0EsY0FBSUEsSUFBSSxDQUFDbG1CLEdBQUwsS0FBYXhNLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWWtMLEdBQTdCLEVBQWtDO0FBQ2hDLGtCQUFNO0FBQUVpZiwwQkFBRjtBQUFnQmltQywyQkFBaEI7QUFBK0JDO0FBQS9CLGdCQUE2QzN4RCxNQUFNLENBQUNzQixJQUExRDtBQUNBLG1CQUFPd0wsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0JzSixJQUFsQixFQUF3QjtBQUM3QmpILDBCQUQ2QjtBQUU3QmltQywyQkFGNkI7QUFHN0JFLGlDQUFtQixFQUFFRCxTQUhRO0FBSTdCOXlELGtCQUFJLEVBQUU7QUFKdUIsYUFBeEIsQ0FBUDtBQU1EOztBQUNELGlCQUFPNnpCLElBQVA7QUFDRCxTQVpLO0FBRG1CLE9BQTNCLENBREssQ0FBUDs7QUFpQkYsU0FBSzV6QixzQkFBRSxDQUFDazBELHNCQUFSO0FBQ0UsVUFBSSxDQUFDaHpELE1BQU0sQ0FBQ3NCLElBQVosRUFBa0I7QUFDaEIsZUFBT3NRLFNBQVA7QUFDRDs7QUFDRCxhQUFPQSxTQUFTLENBQUNqRixHQUFWLENBQWM5RixPQUFPLElBQzFCaUcsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0J2aUIsT0FBbEIsRUFBMkI7QUFDekJvcEIsWUFBSSxFQUFFcHBCLE9BQU8sQ0FBQ29wQixJQUFSLENBQWF0akIsR0FBYixDQUFpQitsQixJQUFJLElBQUk7QUFDN0IsY0FBSUEsSUFBSSxDQUFDbG1CLEdBQUwsS0FBYXhNLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWWtMLEdBQTdCLEVBQWtDO0FBQ2hDLG1CQUFPTSxNQUFNLENBQUNzYyxNQUFQLENBQWMsRUFBZCxFQUFrQnNKLElBQWxCLEVBQXdCO0FBQzdCckcsc0JBQVEsRUFBRXJzQixNQUFNLENBQUNzQixJQUFQLENBQVkrcUIsUUFETztBQUU3QkMsdUJBQVMsRUFBRXRzQixNQUFNLENBQUNzQixJQUFQLENBQVlnckIsU0FGTTtBQUc3Qm5KLG1CQUFLLEVBQUVuakIsTUFBTSxDQUFDc0IsSUFBUCxDQUFZNmhCLEtBSFU7QUFJN0J0a0Isa0JBQUksRUFBRTtBQUp1QixhQUF4QixDQUFQO0FBTUQ7O0FBQ0QsaUJBQU82ekIsSUFBUDtBQUNELFNBVks7QUFEbUIsT0FBM0IsQ0FESyxDQUFQOztBQWVGLFNBQUs1ekIsc0JBQUUsQ0FBQyt5RCx3QkFBUjtBQUNFLFVBQUksQ0FBQzd4RCxNQUFNLENBQUNzQixJQUFaLEVBQWtCO0FBQ2hCLGVBQU9zUSxTQUFQO0FBQ0Q7O0FBQ0QsYUFBT0EsU0FBUyxDQUFDakYsR0FBVixDQUFjOUYsT0FBTyxJQUMxQmlHLE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCdmlCLE9BQWxCLEVBQTJCO0FBQ3pCb3BCLFlBQUksRUFBRXBwQixPQUFPLENBQUNvcEIsSUFBUixDQUFhdGpCLEdBQWIsQ0FBaUIrbEIsSUFBSSxJQUFJO0FBQzdCO0FBQ0EsY0FBSTF5QixNQUFNLENBQUNzQixJQUFQLENBQVl1Z0IsSUFBWixDQUFpQnZOLFFBQWpCLENBQTBCb2UsSUFBSSxDQUFDbG1CLEdBQS9CLENBQUosRUFBeUM7QUFDdkMsa0JBQU1zbEQsT0FBTyxHQUFHaGxELE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCc0osSUFBbEIsQ0FBaEI7QUFDQSxtQkFBT28vQixPQUFPLENBQUNybUMsWUFBZjtBQUNBLG1CQUFPcW1DLE9BQU8sQ0FBQ0osYUFBZjtBQUNBLG1CQUFPSSxPQUFPLENBQUNGLG1CQUFmOztBQUNBLGdCQUFJLENBQUNFLE9BQU8sQ0FBQ2p6RCxJQUFULElBQWlCaXpELE9BQU8sQ0FBQ2p6RCxJQUFSLEtBQWlCLFVBQXRDLEVBQWtEO0FBQ2hEaXpELHFCQUFPLENBQUNqekQsSUFBUixHQUFlLFNBQWY7QUFDRDs7QUFDRCxtQkFBT2l6RCxPQUFQO0FBQ0Q7O0FBQ0QsaUJBQU9wL0IsSUFBUDtBQUNELFNBYks7QUFEbUIsT0FBM0IsQ0FESyxDQUFQOztBQWtCRixTQUFLNXpCLHNCQUFFLENBQUNpekQsb0JBQVI7QUFDRSxVQUFJLENBQUMveEQsTUFBTSxDQUFDc0IsSUFBWixFQUFrQjtBQUNoQixlQUFPc1EsU0FBUDtBQUNEOztBQUNELGFBQU9BLFNBQVMsQ0FBQ2pGLEdBQVYsQ0FBYzlGLE9BQU8sSUFDMUJpRyxNQUFNLENBQUNzYyxNQUFQLENBQWMsRUFBZCxFQUFrQnZpQixPQUFsQixFQUEyQjtBQUN6Qm9wQixZQUFJLEVBQUVwcEIsT0FBTyxDQUFDb3BCLElBQVIsQ0FBYXhyQixNQUFiLENBQ0oyakIsSUFBSSxJQUFJLENBQUNwb0IsTUFBTSxDQUFDc0IsSUFBUCxDQUFZdWdCLElBQVosQ0FBaUJ2TixRQUFqQixDQUEwQjhULElBQUksQ0FBQzViLEdBQS9CLENBREw7QUFEbUIsT0FBM0IsQ0FESyxDQUFQOztBQU9GLFNBQUsxTixzQkFBRSxDQUFDbTBELG1CQUFSO0FBQ0UsVUFBSSxDQUFDanpELE1BQU0sQ0FBQ3NCLElBQVosRUFBa0I7QUFDaEIsZUFBT3NRLFNBQVA7QUFDRDs7QUFDRCxhQUFPQSxTQUFTLENBQUNqRixHQUFWLENBQWM5RixPQUFPLElBQzFCaUcsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0J2aUIsT0FBbEIsRUFBMkI7QUFDekJvcEIsWUFBSSxFQUFFcHBCLE9BQU8sQ0FBQ29wQixJQUFSLENBQWF4ckIsTUFBYixDQUFvQjJqQixJQUFJLElBQUlBLElBQUksQ0FBQzViLEdBQUwsS0FBYXhNLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWWtMLEdBQXJEO0FBRG1CLE9BQTNCLENBREssQ0FBUDs7QUFLRixTQUFLMU4sc0JBQUUsQ0FBQ3l2QixrQkFBUjtBQUNBLFNBQUt6dkIsc0JBQUUsQ0FBQzJ2QixtQkFBUjtBQUNFLGFBQU83YyxTQUFTLENBQUNqRixHQUFWLENBQWM5RixPQUFPLElBQzFCaUcsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0J2aUIsT0FBbEIsRUFBMkI7QUFDekJvcEIsWUFBSSxFQUFFcHBCLE9BQU8sQ0FBQ29wQixJQUFSLENBQWF4ckIsTUFBYixDQUNKMmpCLElBQUksSUFBSUEsSUFBSSxDQUFDa0UsU0FBTCxLQUFtQnRzQixNQUFNLENBQUNzQixJQUFQLENBQVlnckIsU0FEbkM7QUFEbUIsT0FBM0IsQ0FESyxDQUFQOztBQU9GLFNBQUt4dEIsc0JBQUUsQ0FBQ3FmLHFCQUFSO0FBQ0UsYUFBT3ZNLFNBQVMsQ0FBQ2pGLEdBQVYsQ0FBYzlGLE9BQU8sS0FBSyxFQUFFLEdBQUdBLE9BQUw7QUFBY29wQixZQUFJLEVBQUU7QUFBcEIsT0FBTCxDQUFyQixDQUFQOztBQUNGO0FBQ0UsYUFBT3JlLFNBQVA7QUFoTUo7QUFrTUQ7O0FBRUQsU0FBU3crQyxRQUFULENBQWtCeCtDLFNBQVMsR0FBR3MrQyxhQUFhLENBQUNFLFFBQTVDLEVBQXNEcHdELE1BQXRELEVBQThEO0FBQzVELFVBQVFBLE1BQU0sQ0FBQ25CLElBQWY7QUFDRSxTQUFLQyxzQkFBRSxDQUFDbzBELGFBQVI7QUFDRSxhQUFPcG1ELE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCeFgsU0FBbEIsRUFBNkI7QUFBRXpNLG1CQUFXLEVBQUU7QUFBZixPQUE3QixFQUFvRG5GLE1BQU0sQ0FBQ3NCLElBQTNELENBQVA7O0FBQ0YsU0FBS3hDLHNCQUFFLENBQUNxMEQsZUFBUjtBQUNFLGFBQU9ybUQsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0J4WCxTQUFsQixFQUE2QjtBQUNsQ3doRCxpQkFBUyxFQUFFeGhELFNBQVMsQ0FBQ3doRCxTQUFWLENBQW9CNytDLE1BQXBCLENBQTJCdlUsTUFBTSxDQUFDc0IsSUFBbEM7QUFEdUIsT0FBN0IsQ0FBUDs7QUFHRixTQUFLeEMsc0JBQUUsQ0FBQ3UwRCwwQkFBUjtBQUNFLGFBQU92bUQsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0J4WCxTQUFsQixFQUE2QjtBQUFFd2hELGlCQUFTLEVBQUU7QUFBYixPQUE3QixDQUFQOztBQUNGLFNBQUt0MEQsc0JBQUUsQ0FBQ3cwRCxjQUFSO0FBQ0UsYUFBT3BELGFBQWEsQ0FBQ0UsUUFBckI7O0FBQ0Y7QUFDRSxhQUFPeCtDLFNBQVA7QUFaSjtBQWNEOztBQUVELFNBQVNxbUIsTUFBVCxDQUFnQnJtQixTQUFTLEdBQUdzK0MsYUFBYSxDQUFDajRCLE1BQTFDLEVBQWtEajRCLE1BQWxELEVBQTBEO0FBQ3hELFVBQVFBLE1BQU0sQ0FBQ25CLElBQWY7QUFDRSxTQUFLQyxzQkFBRSxDQUFDeTBELHVCQUFSO0FBQ0UsYUFBTyxFQUFFLEdBQUczaEQsU0FBTDtBQUFnQjRtQixzQkFBYyxFQUFFeDRCLE1BQU0sQ0FBQ3NCO0FBQXZDLE9BQVA7O0FBQ0YsU0FBS3hDLHNCQUFFLENBQUMwMEQsZ0JBQVI7QUFDRSxhQUFPLEVBQUUsR0FBRzVoRCxTQUFMO0FBQWdCZ25CLHNCQUFjLEVBQUUsQ0FBQyxDQUFDNTRCLE1BQU0sQ0FBQ3NCO0FBQXpDLE9BQVA7O0FBQ0YsU0FBS3hDLHNCQUFFLENBQUMyMEQsVUFBUjtBQUNFLGFBQU8sRUFDTCxHQUFHN2hELFNBREU7QUFFTCttQixpQkFBUyxFQUFFO0FBQ1R3RyxtQkFBUyxFQUFFbi9CLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWW95RCxVQURkO0FBRVR0MEIsaUJBQU8sRUFBRXAvQixNQUFNLENBQUNzQixJQUFQLENBQVlxeUQsUUFGWjtBQUdUejBCLGdCQUFNLEVBQUVsL0IsTUFBTSxDQUFDc0IsSUFBUCxDQUFZc3lELE9BSFg7QUFJVC82QixnQkFBTSxFQUFFNzRCLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWXV5RDtBQUpYO0FBRk4sT0FBUDs7QUFTRjtBQUNFLGFBQU9qaUQsU0FBUDtBQWhCSjtBQWtCRDs7QUFFRCxTQUFTeEgsZUFBVCxDQUF5QndILFNBQVMsR0FBR3MrQyxhQUFhLENBQUM5bEQsZUFBbkQsRUFBb0VwSyxNQUFwRSxFQUE0RTtBQUMxRSxVQUFRQSxNQUFNLENBQUNuQixJQUFmO0FBQ0UsU0FBS0Msc0JBQUUsQ0FBQ2cxRCw2Q0FBUjtBQUNFLGFBQU8sRUFDTCxHQUFHbGlELFNBREU7QUFFTHJILG1CQUFXLEVBQUV2SyxNQUFNLENBQUNzQixJQUFQLENBQVlpSjtBQUZwQixPQUFQOztBQUlGLFNBQUt6TCxzQkFBRSxDQUFDaTFELHFDQUFSO0FBQ0UsYUFBTyxFQUNMLEdBQUduaUQsU0FERTtBQUVMek0sbUJBQVcsRUFBRTtBQUZSLE9BQVA7O0FBSUY7QUFDRSxhQUFPeU0sU0FBUDtBQVpKO0FBY0QsQyxDQUVEOzs7QUFDQSxTQUFTcEwsZUFBVCxDQUF5Qm9MLFNBQVMsR0FBR3MrQyxhQUFhLENBQUMxcEQsZUFBbkQsRUFBb0V4RyxNQUFwRSxFQUE0RTtBQUMxRTtBQUNBLFFBQU1nMEQsVUFBVSxHQUFHLE1BQ2pCLENBQUNoMEQsTUFBTSxDQUFDc0IsSUFBUixJQUFnQixDQUFDc1EsU0FBUyxDQUFDM0UsS0FBVixDQUFnQis4QixNQUFqQyxJQUEyQyxDQUFDcDRCLFNBQVMsQ0FBQ25GLEtBQVYsQ0FBZ0J1OUIsTUFEOUQ7O0FBR0EsUUFBTWlxQixnQkFBZ0IsR0FBR0MsV0FBVyxJQUFJO0FBQ3RDLFVBQU07QUFBRTV5RCxVQUFGO0FBQVFndkQ7QUFBUixRQUF1QjErQyxTQUFTLENBQUMzRSxLQUF2QztBQUNBLFVBQU1vSyxNQUFNLEdBQUcsRUFBZjs7QUFFQSxVQUFNODhDLFlBQVksR0FBR2x3QyxTQUFTLElBQUk7QUFDaEMsWUFBTW13QyxjQUFjLEdBQUc5eUQsSUFBSSxDQUFDMmlCLFNBQVMsQ0FBQy9oQixJQUFYLENBQTNCOztBQUVBLFVBQ0UsQ0FBQ2t5RCxjQUFELElBQ0EsQ0FBQ0EsY0FBYyxDQUFDam5ELEtBRGhCLElBRUEsQ0FBQ2luRCxjQUFjLENBQUNqbkQsS0FBZixDQUFxQmxHLE1BSHhCLEVBSUU7QUFDQTtBQUNEOztBQUVEb1EsWUFBTSxDQUFDNE0sU0FBUyxDQUFDL2hCLElBQVgsQ0FBTixHQUF5QixFQUN2QixHQUFHa3lELGNBRG9CO0FBRXZCam5ELGFBQUssRUFBRSttRCxXQUFXLENBQUNFLGNBQWMsQ0FBQ2puRCxLQUFoQjtBQUZLLE9BQXpCO0FBSUQsS0FmRDs7QUFpQkEsUUFBSSxDQUFDbWpELFVBQUQsSUFBZSxDQUFDQSxVQUFVLENBQUNycEQsTUFBL0IsRUFBdUM7QUFDckMsT0FBQztBQUFFL0UsWUFBSSxFQUFFO0FBQVIsT0FBRCxFQUFvQjVCLE9BQXBCLENBQTRCNnpELFlBQTVCO0FBQ0QsS0FGRCxNQUVPO0FBQ0w3RCxnQkFBVSxDQUFDaHdELE9BQVgsQ0FBbUI2ekQsWUFBbkI7QUFDRDs7QUFDRCxXQUFPOThDLE1BQVA7QUFDRCxHQTNCRDs7QUE2QkEsUUFBTW9rQixTQUFTLEdBQUd5NEIsV0FBVyxLQUFLLEVBQ2hDLEdBQUd0aUQsU0FENkI7QUFFaEMzRSxTQUFLLEVBQUUsRUFDTCxHQUFHMkUsU0FBUyxDQUFDM0UsS0FEUjtBQUVMM0wsVUFBSSxFQUFFMnlELGdCQUFnQixDQUFDQyxXQUFEO0FBRmpCLEtBRnlCO0FBTWhDem5ELFNBQUssRUFBRSxFQUNMLEdBQUdtRixTQUFTLENBQUNuRixLQURSO0FBRUxuTCxVQUFJLEVBQUV3TCxNQUFNLENBQUNDLElBQVAsQ0FBWTZFLFNBQVMsQ0FBQ25GLEtBQVYsQ0FBZ0JuTCxJQUE1QixFQUFrQzRaLE1BQWxDLENBQ0osQ0FBQ201QyxXQUFELEVBQWNDLFFBQWQsS0FBMkI7QUFDekJELG1CQUFXLENBQUNDLFFBQUQsQ0FBWCxHQUF3QjtBQUN0Qmh6RCxjQUFJLEVBQUUsRUFDSixHQUFHc1EsU0FBUyxDQUFDbkYsS0FBVixDQUFnQm5MLElBQWhCLENBQXFCZ3pELFFBQXJCLEVBQStCaHpELElBRDlCO0FBRUpvTCwyQkFBZSxFQUFFd25ELFdBQVcsQ0FDMUJ0aUQsU0FBUyxDQUFDbkYsS0FBVixDQUFnQm5MLElBQWhCLENBQXFCZ3pELFFBQXJCLEVBQStCaHpELElBQS9CLENBQW9Db0wsZUFEVjtBQUZ4QjtBQURnQixTQUF4QjtBQVFBLGVBQU8ybkQsV0FBUDtBQUNELE9BWEcsRUFZSixFQVpJO0FBRkQ7QUFOeUIsR0FBTCxDQUE3Qjs7QUF5QkEsVUFBUXIwRCxNQUFNLENBQUNuQixJQUFmO0FBQ0UsU0FBS0Msc0JBQUUsQ0FBQ3dNLDhCQUFSLENBREYsQ0FFRTs7QUFDQSxTQUFLeE0sc0JBQUUsQ0FBQ3kxRCw2QkFBUjtBQUNFLGFBQU8sRUFBRSxHQUFHM2lELFNBQUw7QUFBZ0JuTCxjQUFNLEVBQUV6RyxNQUFNLENBQUNzQixJQUFQLElBQWU7QUFBdkMsT0FBUDs7QUFDRixTQUFLeEMsc0JBQUUsQ0FBQzAxRCw4QkFBUjtBQUNFLGFBQU8sRUFDTCxHQUFHNWlELFNBREU7QUFFTHJILG1CQUFXLEVBQUV2SyxNQUFNLENBQUNzQixJQUFQLENBQVlpSixXQUFaLElBQTJCLElBRm5DO0FBR0xxRCxjQUFNLEVBQUU1TixNQUFNLENBQUNzQixJQUFQLENBQVlzTSxNQUFaLElBQXNCO0FBSHpCLE9BQVA7O0FBS0YsU0FBSzlPLHNCQUFFLENBQUMyMUQsOENBQVI7QUFDRSxhQUFPLEVBQ0wsR0FBRzdpRCxTQURFO0FBRUx3UywrQkFBdUIsRUFBRXBrQixNQUFNLENBQUNzQixJQUFQLENBQVlhO0FBRmhDLE9BQVA7O0FBSUYsU0FBS3JELHNCQUFFLENBQUM0MUQsaUJBQVI7QUFDRSxhQUFPLEVBQ0wsR0FBRzlpRCxTQURFO0FBRUx1VSxpQ0FBeUIsRUFBRTtBQUZ0QixPQUFQOztBQUlGLFNBQUtybkIsc0JBQUUsQ0FBQ3NzQixpQkFBUjtBQUNFLGFBQU8sRUFDTCxHQUFHeFosU0FERTtBQUVMdVUsaUNBQXlCLEVBQUU7QUFGdEIsT0FBUDs7QUFJRixTQUFLcm5CLHNCQUFFLENBQUM2MUQsNkJBQVI7QUFDRSxhQUFPLEVBQUUsR0FBR3pFLGFBQWEsQ0FBQzFwRCxlQUFuQjtBQUFvQ0MsY0FBTSxFQUFFbUwsU0FBUyxDQUFDbkw7QUFBdEQsT0FBUDs7QUFDRixTQUFLM0gsc0JBQUUsQ0FBQzgxRCw2QkFBUjtBQUNFLGFBQU8sRUFDTCxHQUFHaGpELFNBREU7QUFFTG5GLGFBQUssRUFBRSxFQUNMLEdBQUdtRixTQUFTLENBQUNuRixLQURSO0FBRUx1OUIsZ0JBQU0sRUFBRTtBQUZIO0FBRkYsT0FBUDs7QUFPRixTQUFLbHJDLHNCQUFFLENBQUNxdUQsNEJBQVI7QUFDRSxZQUFNMEgsT0FBTyxHQUFHLEVBQWhCO0FBQ0FBLGFBQU8sQ0FBQzcwRCxNQUFNLENBQUNzQixJQUFQLENBQVlrTCxHQUFiLENBQVAsR0FBMkJ4TSxNQUFNLENBQUNzQixJQUFQLENBQVk0SyxJQUF2QztBQUNBLGFBQU8sRUFDTCxHQUFHMEYsU0FERTtBQUVMbkYsYUFBSyxFQUFFLEVBQ0wsR0FBR21GLFNBQVMsQ0FBQ25GLEtBRFI7QUFFTG5MLGNBQUksRUFBRSxFQUNKLEdBQUdzUSxTQUFTLENBQUNuRixLQUFWLENBQWdCbkwsSUFEZjtBQUVKLGVBQUd1ekQ7QUFGQztBQUZEO0FBRkYsT0FBUDs7QUFVRixTQUFLLzFELHNCQUFFLENBQUNnMkQsMkJBQVI7QUFDRSxhQUFPLEVBQ0wsR0FBR2xqRCxTQURFO0FBRUwzRSxhQUFLLEVBQUUsRUFDTCxHQUFHMkUsU0FBUyxDQUFDM0UsS0FEUjtBQUVMSyx3QkFBYyxFQUFFLENBQUMsR0FBR3NFLFNBQVMsQ0FBQzNFLEtBQVYsQ0FBZ0JLLGNBQXBCLEVBQW9DLEdBQUd0TixNQUFNLENBQUNzQixJQUE5QztBQUZYO0FBRkYsT0FBUDs7QUFPRixTQUFLeEMsc0JBQUUsQ0FBQ2kyRCwrQkFBUjtBQUNFLGFBQU8sRUFDTCxHQUFHbmpELFNBREU7QUFFTDNFLGFBQUssRUFBRSxFQUNMLEdBQUdpakQsYUFBYSxDQUFDMXBELGVBQWQsQ0FBOEJ5RyxLQUQ1QjtBQUVMRyx3QkFBYyxFQUNacE4sTUFBTSxDQUFDc0IsSUFBUCxDQUFZa0wsR0FBWixJQUNBMGpELGFBQWEsQ0FBQzFwRCxlQUFkLENBQThCeUcsS0FBOUIsQ0FBb0NHO0FBSmpDO0FBRkYsT0FBUDs7QUFTRixTQUFLdE8sc0JBQUUsQ0FBQ2syRCxpQ0FBUjtBQUNFLGFBQU8sRUFDTCxHQUFHcGpELFNBREU7QUFFTDNFLGFBQUssRUFBRSxFQUNMLEdBQUcyRSxTQUFTLENBQUMzRSxLQURSO0FBRUxxakQsb0JBQVUsRUFDUnR3RCxNQUFNLENBQUNzQixJQUFQLENBQVlndkQsVUFBWixJQUNBSixhQUFhLENBQUMxcEQsZUFBZCxDQUE4QnlHLEtBQTlCLENBQW9DcWpEO0FBSmpDO0FBRkYsT0FBUDs7QUFTRixTQUFLeHhELHNCQUFFLENBQUNtMkQsNkJBQVI7QUFDRSxVQUFJajFELE1BQU0sQ0FBQ3NCLElBQVgsRUFBaUI7QUFDZixlQUFPLEVBQ0wsR0FBR3NRLFNBREU7QUFFTDNFLGVBQUssRUFBRSxFQUNMLEdBQUcyRSxTQUFTLENBQUMzRSxLQURSO0FBRUwxQyx1QkFBVyxFQUFFdkssTUFBTSxDQUFDc0IsSUFBUCxDQUFZaUosV0FGcEI7QUFHTGpKLGdCQUFJLEVBQUV0QixNQUFNLENBQUNzQixJQUFQLENBQVkyTCxLQUhiO0FBSUwrOEIsa0JBQU0sRUFBRTtBQUpIO0FBRkYsU0FBUDtBQVNEOztBQUNELGFBQU9wNEIsU0FBUDs7QUFDRixTQUFLOVMsc0JBQUUsQ0FBQ28yRCw2QkFBUjtBQUNFLGFBQU8sRUFDTCxHQUFHdGpELFNBREU7QUFFTDNFLGFBQUssRUFBRSxFQUNMLEdBQUcyRSxTQUFTLENBQUMzRSxLQURSO0FBRUwwOEIsaUJBQU8sRUFBRSxDQUFDLEdBQUcvM0IsU0FBUyxDQUFDM0UsS0FBVixDQUFnQjA4QixPQUFwQixFQUE2QjNwQyxNQUFNLENBQUNzQixJQUFQLENBQVlrTCxHQUF6QztBQUZKO0FBRkYsT0FBUDs7QUFPRixTQUFLMU4sc0JBQUUsQ0FBQ3EyRCw2QkFBUjtBQUNFLGFBQU9uQixVQUFVLEtBQ2JwaUQsU0FEYSxHQUViNnBCLFNBQVMsQ0FBQ3R1QixLQUFLLElBQ2JBLEtBQUssQ0FBQzFJLE1BQU4sQ0FBYWl1QixJQUFJLElBQUlBLElBQUksQ0FBQ2xtQixHQUFMLEtBQWF4TSxNQUFNLENBQUNzQixJQUFQLENBQVlrTCxHQUE5QyxDQURPLENBRmI7O0FBTUYsU0FBSzFOLHNCQUFFLENBQUNrMEQsc0JBQVI7QUFDRSxZQUFNb0MsYUFBYSxHQUFHMWlDLElBQUksSUFBSTtBQUM1QixZQUFJQSxJQUFJLENBQUNsbUIsR0FBTCxLQUFheE0sTUFBTSxDQUFDc0IsSUFBUCxDQUFZa0wsR0FBN0IsRUFBa0M7QUFDaEMsaUJBQU9NLE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCc0osSUFBbEIsRUFBd0I7QUFDN0JyRyxvQkFBUSxFQUFFcnNCLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWStxQixRQURPO0FBRTdCQyxxQkFBUyxFQUFFdHNCLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWWdyQixTQUZNO0FBRzdCMDlCLHdCQUFZLEVBQUU7QUFIZSxXQUF4QixDQUFQO0FBS0Q7O0FBQ0QsZUFBT3QzQixJQUFQO0FBQ0QsT0FURDs7QUFVQSxhQUFPc2hDLFVBQVUsS0FDYnBpRCxTQURhLEdBRWI2cEIsU0FBUyxDQUFDdHVCLEtBQUssSUFBSUEsS0FBSyxDQUFDUixHQUFOLENBQVV5b0QsYUFBVixDQUFWLENBRmI7O0FBSUYsU0FBS3QyRCxzQkFBRSxDQUFDeXZCLGtCQUFSO0FBQ0EsU0FBS3p2QixzQkFBRSxDQUFDMnZCLG1CQUFSO0FBQ0UsYUFBT3VsQyxVQUFVLEtBQ2JwaUQsU0FEYSxHQUViNnBCLFNBQVMsQ0FBQ3R1QixLQUFLLElBQ2JBLEtBQUssQ0FBQzFJLE1BQU4sQ0FBYWl1QixJQUFJLElBQUlBLElBQUksQ0FBQ3BHLFNBQUwsS0FBbUJ0c0IsTUFBTSxDQUFDc0IsSUFBUCxDQUFZZ3JCLFNBQXBELENBRE8sQ0FGYjs7QUFNRixTQUFLeHRCLHNCQUFFLENBQUMyeUQscUJBQVI7QUFDRSxZQUFNNEQsa0JBQWtCLEdBQUczaUMsSUFBSSxJQUFJO0FBQ2pDLFlBQUlBLElBQUksQ0FBQ2xtQixHQUFMLEtBQWF4TSxNQUFNLENBQUNzQixJQUFQLENBQVlrTCxHQUE3QixFQUFrQztBQUNoQyxnQkFBTTtBQUFFaWYsd0JBQUY7QUFBZ0JpbUMseUJBQWhCO0FBQStCQztBQUEvQixjQUE2QzN4RCxNQUFNLENBQUNzQixJQUExRDtBQUNBLGlCQUFPd0wsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0JzSixJQUFsQixFQUF3QjtBQUM3QmpILHdCQUQ2QjtBQUU3QmltQyx5QkFGNkI7QUFHN0JFLCtCQUFtQixFQUFFRCxTQUhRO0FBSTdCM0gsd0JBQVksRUFBRTtBQUplLFdBQXhCLENBQVA7QUFNRDs7QUFDRCxlQUFPdDNCLElBQVA7QUFDRCxPQVhEOztBQVlBLGFBQU9zaEMsVUFBVSxLQUNicGlELFNBRGEsR0FFYjZwQixTQUFTLENBQUN0dUIsS0FBSyxJQUFJQSxLQUFLLENBQUNSLEdBQU4sQ0FBVTBvRCxrQkFBVixDQUFWLENBRmI7O0FBSUYsU0FBS3YyRCxzQkFBRSxDQUFDK3lELHdCQUFSO0FBQ0UsWUFBTXlELGtCQUFrQixHQUFHNWlDLElBQUksSUFBSTtBQUNqQyxZQUFJMXlCLE1BQU0sQ0FBQ3NCLElBQVAsQ0FBWXVnQixJQUFaLENBQWlCdk4sUUFBakIsQ0FBMEJvZSxJQUFJLENBQUNsbUIsR0FBL0IsQ0FBSixFQUF5QztBQUN2QyxnQkFBTXNsRCxPQUFPLEdBQUdobEQsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQWQsRUFBa0JzSixJQUFsQixDQUFoQjtBQUNBLGlCQUFPby9CLE9BQU8sQ0FBQ3JtQyxZQUFmO0FBQ0EsaUJBQU9xbUMsT0FBTyxDQUFDSixhQUFmO0FBQ0EsaUJBQU9JLE9BQU8sQ0FBQ0YsbUJBQWY7O0FBQ0EsY0FBSSxDQUFDRSxPQUFPLENBQUM5SCxZQUFULElBQXlCOEgsT0FBTyxDQUFDOUgsWUFBUixLQUF5QixVQUF0RCxFQUFrRTtBQUNoRThILG1CQUFPLENBQUM5SCxZQUFSLEdBQXVCLGlCQUF2QjtBQUNEOztBQUNELGlCQUFPOEgsT0FBUDtBQUNEOztBQUNELGVBQU9wL0IsSUFBUDtBQUNELE9BWkQ7O0FBYUEsYUFBT3NoQyxVQUFVLEtBQ2JwaUQsU0FEYSxHQUViNnBCLFNBQVMsQ0FBQ3R1QixLQUFLLElBQUlBLEtBQUssQ0FBQ1IsR0FBTixDQUFVMm9ELGtCQUFWLENBQVYsQ0FGYjs7QUFHRixTQUFLeDJELHNCQUFFLENBQUNxekQsWUFBUjtBQUNFLFVBQUlueUQsTUFBTSxDQUFDc0IsSUFBUCxDQUFZWSxJQUFaLEtBQXFCOHRELDJCQUF6QixFQUFzRDtBQUNwRCxlQUFPLEVBQ0wsR0FBR3ArQyxTQURFO0FBRUx3UyxpQ0FBdUIsRUFBRXBrQixNQUFNLENBQUNzQixJQUFQLENBQVlhO0FBRmhDLFNBQVA7QUFJRDs7QUFDRCxhQUFPeVAsU0FBUDs7QUFDRjtBQUNFLGFBQU9BLFNBQVA7QUEzS0o7QUE2S0Q7O0FBRUQsU0FBU3hKLE1BQVQsQ0FBZ0J3SixTQUFTLEdBQUdzK0MsYUFBYSxDQUFDOW5ELE1BQTFDLEVBQWtEcEksTUFBbEQsRUFBMEQ7QUFDeEQsVUFBUUEsTUFBTSxDQUFDbkIsSUFBZjtBQUNFLFNBQUtDLHNCQUFFLENBQUNtdEMsY0FBUjtBQUNFLGFBQU9uL0IsTUFBTSxDQUFDc2MsTUFBUCxDQUFjLEVBQUUsR0FBR3hYLFNBQUw7QUFBZ0JtN0IsZUFBTyxFQUFFO0FBQXpCLE9BQWQsQ0FBUDs7QUFDRixTQUFLanVDLHNCQUFFLENBQUNrdEMsaUJBQVI7QUFDRSxhQUFPbC9CLE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFFLEdBQUd4WCxTQUFMO0FBQWdCbzdCLGlCQUFTLEVBQUU7QUFBM0IsT0FBZCxDQUFQOztBQUNGLFNBQUtsdUMsc0JBQUUsQ0FBQ3kyRCxXQUFSO0FBQ0UsYUFBT3pvRCxNQUFNLENBQUNzYyxNQUFQLENBQWMsRUFBRSxHQUFHeFgsU0FBTDtBQUFnQm03QixlQUFPLEVBQUUsS0FBekI7QUFBZ0NDLGlCQUFTLEVBQUU7QUFBM0MsT0FBZCxDQUFQOztBQUNGO0FBQ0UsYUFBT3A3QixTQUFQO0FBUko7QUFVRDs7ZUFNZTtBQUNkeXZCLFVBRGM7QUFFZHQ4QixLQUZjO0FBR2RvckQsVUFIYztBQUlkQyxVQUpjO0FBS2RuckQsT0FMYztBQU1kdWMsUUFOYztBQU9kNWEsVUFQYztBQVFkcXhCLFFBUmM7QUFTZDd0QixpQkFUYztBQVVkNUQsaUJBVmM7QUFXZDRCO0FBWGMsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxeUJoQjtBQUNBO0FBQ0E7QUFFQTtBQUVPLE1BQU1vdEQsaUNBQU4sU0FBK0IveEQsd0JBQUssQ0FBQ0MsYUFBckMsQ0FBbUQ7QUFDeERDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWE7QUFBRTR4RCxxQkFBZSxFQUFFLEtBQUs3eEQsS0FBTCxDQUFXNnhEO0FBQTlCLEtBQWI7QUFDQSxTQUFLeHJELFFBQUwsR0FBZ0IsS0FBS0EsUUFBTCxDQUFjakcsSUFBZCxDQUFtQixJQUFuQixDQUFoQjtBQUNBLFNBQUsweEQsT0FBTCxHQUFlLEtBQUtBLE9BQUwsQ0FBYTF4RCxJQUFiLENBQWtCLElBQWxCLENBQWY7QUFDQSxTQUFLMnhELGdCQUFMLEdBQXdCLEtBQUtBLGdCQUFMLENBQXNCM3hELElBQXRCLENBQTJCLElBQTNCLENBQXhCO0FBQ0Q7O0FBRURnNEIsMkJBQXlCLENBQUN4Z0IsU0FBRCxFQUFZO0FBQ25DLFFBQUlBLFNBQVMsQ0FBQ282QyxXQUFWLElBQXlCLENBQUMsS0FBS2h5RCxLQUFMLENBQVdneUQsV0FBekMsRUFBc0Q7QUFDcEQsV0FBS3pwQixLQUFMLENBQVc3aEIsS0FBWDtBQUNEOztBQUNELFFBQUk5TyxTQUFTLENBQUNpNkMsZUFBVixJQUE2QixDQUFDLEtBQUs3eEQsS0FBTCxDQUFXNnhELGVBQTdDLEVBQThEO0FBQzVELFdBQUt4eEQsUUFBTCxDQUFjO0FBQUV3eEQsdUJBQWUsRUFBRTtBQUFuQixPQUFkO0FBQ0QsS0FOa0MsQ0FPbkM7OztBQUNBLFFBQUksS0FBSzV4RCxLQUFMLENBQVc0eEQsZUFBWCxJQUE4QixDQUFDajZDLFNBQVMsQ0FBQ3JaLEtBQTdDLEVBQW9EO0FBQ2xELFdBQUs4QixRQUFMLENBQWM7QUFBRXd4RCx1QkFBZSxFQUFFO0FBQW5CLE9BQWQ7QUFDRDtBQUNGOztBQUVERSxrQkFBZ0IsQ0FBQ3h2RCxLQUFELEVBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsUUFBSUEsS0FBSyxDQUFDRSxHQUFOLEtBQWMsT0FBbEIsRUFBMkI7QUFDekIsV0FBS3pDLEtBQUwsQ0FBV2l5RCxPQUFYO0FBQ0Q7QUFDRjs7QUFFRDVyRCxVQUFRLENBQUM0NEIsRUFBRCxFQUFLO0FBQ1gsUUFBSSxLQUFLaC9CLEtBQUwsQ0FBVzR4RCxlQUFmLEVBQWdDO0FBQzlCLFdBQUt4eEQsUUFBTCxDQUFjO0FBQUV3eEQsdUJBQWUsRUFBRTtBQUFuQixPQUFkO0FBQ0Q7O0FBQ0QsU0FBSzd4RCxLQUFMLENBQVdxRyxRQUFYLENBQW9CNDRCLEVBQXBCO0FBQ0Q7O0FBRUQ2eUIsU0FBTyxDQUFDdnBCLEtBQUQsRUFBUTtBQUNiLFNBQUtBLEtBQUwsR0FBYUEsS0FBYjtBQUNEOztBQUVEMnBCLDRCQUEwQixHQUFHO0FBQzNCLFVBQU1DLGVBQWUsR0FBRyxLQUFLbnlELEtBQUwsQ0FBV3pCLEtBQVgsSUFBb0IsS0FBS3lCLEtBQUwsQ0FBV2l5RCxPQUF2RDs7QUFFQSxRQUFJLEtBQUtqeUQsS0FBTCxDQUFXb3lELE9BQWYsRUFBd0I7QUFDdEIsMEJBQ0U7QUFBSyxpQkFBUyxFQUFDO0FBQWYsc0JBQ0U7QUFBSyxpQkFBUyxFQUFDO0FBQWYsUUFERixDQURGO0FBS0QsS0FORCxNQU1PLElBQUlELGVBQUosRUFBcUI7QUFDMUIsMEJBQ0U7QUFDRSxZQUFJLEVBQUMsUUFEUDtBQUVFLGlCQUFTLEVBQUMseUNBRlo7QUFHRSxlQUFPLEVBQUUsS0FBS255RCxLQUFMLENBQVdpeUQsT0FIdEI7QUFJRSxrQkFBVSxFQUFFLEtBQUtGO0FBSm5CLFFBREY7QUFRRDs7QUFDRCxXQUFPLElBQVA7QUFDRDs7QUFFRDd3RCxRQUFNLEdBQUc7QUFDUCxVQUFNO0FBQUVteEQ7QUFBRixRQUFjLEtBQUtyeUQsS0FBekI7QUFDQSxVQUFNO0FBQUU2eEQ7QUFBRixRQUFzQixLQUFLNXhELEtBQWpDO0FBRUEsd0JBQ0UsbUVBQ0U7QUFBTSxzQkFBYyxLQUFLRCxLQUFMLENBQVdzeUQ7QUFBL0IsTUFERixlQUVFO0FBQ0UsZUFBUyxFQUFHLFNBQVFELE9BQU8sR0FBRyxLQUFILEdBQVcsRUFBRyxHQUN2Q1IsZUFBZSxHQUFHLFVBQUgsR0FBZ0IsRUFDaEM7QUFISCxvQkFLRTtBQUNFLFVBQUksRUFBQyxNQURQO0FBRUUsV0FBSyxFQUFFLEtBQUs3eEQsS0FBTCxDQUFXekIsS0FGcEI7QUFHRSxTQUFHLEVBQUUsS0FBS3V6RCxPQUhaO0FBSUUsY0FBUSxFQUFFLEtBQUt6ckQsUUFKakI7QUFLRSxzQkFBYyxLQUFLckcsS0FBTCxDQUFXdXlELGFBTDNCLENBTUU7QUFDQTtBQVBGO0FBUUUsZUFBUyxFQUFFLEtBQUt2eUQsS0FBTCxDQUFXZ3lELFdBUnhCO0FBU0UsY0FBUSxFQUFFLEtBQUtoeUQsS0FBTCxDQUFXb3lEO0FBVHZCLE1BTEYsRUFnQkcsS0FBS0YsMEJBQUwsRUFoQkgsRUFpQkdMLGVBQWUsaUJBQ2Q7QUFDRSxlQUFTLEVBQUMsZUFEWjtBQUVFLHNCQUFjLEtBQUs3eEQsS0FBTCxDQUFXd3lEO0FBRjNCLE1BbEJKLENBRkYsQ0FERjtBQTZCRDs7QUFqR3VEO0FBb0cxRFosaUNBQWdCLENBQUNoMkMsWUFBakIsR0FBZ0M7QUFDOUJ1MkMsaUJBQWUsRUFBRSxLQURhO0FBRTlCNXpELE9BQUssRUFBRSxFQUZ1QjtBQUc5QnN6RCxpQkFBZSxFQUFFO0FBSGEsQ0FBaEMsQzs7Ozs7QUMxR0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFTyxNQUFNWSx1QkFBTixTQUEwQjV5RCx3QkFBSyxDQUFDQyxhQUFoQyxDQUE4QztBQUNuREMsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFVBQU07QUFBRXdrQjtBQUFGLFFBQVd4a0IsS0FBakI7QUFDQSxTQUFLQyxLQUFMLEdBQWE7QUFDWGlULFdBQUssRUFBRXNSLElBQUksR0FBR0EsSUFBSSxDQUFDdFIsS0FBTCxJQUFjc1IsSUFBSSxDQUFDNlQsUUFBdEIsR0FBaUMsRUFEakM7QUFFWHp2QixTQUFHLEVBQUU0YixJQUFJLEdBQUdBLElBQUksQ0FBQzViLEdBQVIsR0FBYyxFQUZaO0FBR1hpcEQscUJBQWUsRUFBRSxLQUhOO0FBSVhhLHlCQUFtQixFQUFFbHVDLElBQUksR0FBR0EsSUFBSSxDQUFDc1gsbUJBQVIsR0FBOEIsRUFKNUM7QUFLWDYyQiw4QkFBd0IsRUFBRW51QyxJQUFJLEdBQUdBLElBQUksQ0FBQ3NYLG1CQUFSLEdBQThCO0FBTGpELEtBQWI7QUFPQSxTQUFLODJCLHNCQUFMLEdBQThCLEtBQUtBLHNCQUFMLENBQTRCeHlELElBQTVCLENBQWlDLElBQWpDLENBQTlCO0FBQ0EsU0FBS3l5RCxhQUFMLEdBQXFCLEtBQUtBLGFBQUwsQ0FBbUJ6eUQsSUFBbkIsQ0FBd0IsSUFBeEIsQ0FBckI7QUFDQSxTQUFLMHlELFdBQUwsR0FBbUIsS0FBS0EsV0FBTCxDQUFpQjF5RCxJQUFqQixDQUFzQixJQUF0QixDQUFuQjtBQUNBLFNBQUt5K0IsbUJBQUwsR0FBMkIsS0FBS0EsbUJBQUwsQ0FBeUJ6K0IsSUFBekIsQ0FBOEIsSUFBOUIsQ0FBM0I7QUFDQSxTQUFLMnlELGVBQUwsR0FBdUIsS0FBS0EsZUFBTCxDQUFxQjN5RCxJQUFyQixDQUEwQixJQUExQixDQUF2QjtBQUNBLFNBQUs0eUQsaUJBQUwsR0FBeUIsS0FBS0EsaUJBQUwsQ0FBdUI1eUQsSUFBdkIsQ0FBNEIsSUFBNUIsQ0FBekI7QUFDQSxTQUFLNnlELDJCQUFMLEdBQW1DLEtBQUtBLDJCQUFMLENBQWlDN3lELElBQWpDLENBQ2pDLElBRGlDLENBQW5DO0FBR0EsU0FBSzh5RCxvQkFBTCxHQUE0QixLQUFLQSxvQkFBTCxDQUEwQjl5RCxJQUExQixDQUErQixJQUEvQixDQUE1QjtBQUNBLFNBQUsreUQseUJBQUwsR0FBaUMsS0FBS0EseUJBQUwsQ0FBK0IveUQsSUFBL0IsQ0FBb0MsSUFBcEMsQ0FBakM7QUFDQSxTQUFLZ3pELFdBQUwsR0FBbUIsS0FBS0EsV0FBTCxDQUFpQmh6RCxJQUFqQixDQUFzQixJQUF0QixDQUFuQjtBQUNEOztBQUVEeXlELGVBQWEsQ0FBQ3R3RCxLQUFELEVBQVE7QUFDbkIsU0FBS2xDLFFBQUwsQ0FBYztBQUFFNlMsV0FBSyxFQUFFM1EsS0FBSyxDQUFDcEYsTUFBTixDQUFhb0I7QUFBdEIsS0FBZDtBQUNEOztBQUVEdTBELGFBQVcsQ0FBQ3Z3RCxLQUFELEVBQVE7QUFDakIsU0FBS2xDLFFBQUwsQ0FBYztBQUNadUksU0FBRyxFQUFFckcsS0FBSyxDQUFDcEYsTUFBTixDQUFhb0IsS0FETjtBQUVac3pELHFCQUFlLEVBQUU7QUFGTCxLQUFkO0FBSUQ7O0FBRURrQixpQkFBZSxHQUFHO0FBQ2hCLFNBQUsxeUQsUUFBTCxDQUFjO0FBQ1p1SSxTQUFHLEVBQUUsRUFETztBQUVaaXBELHFCQUFlLEVBQUU7QUFGTCxLQUFkO0FBSUQ7O0FBRURzQiwyQkFBeUIsR0FBRztBQUMxQixTQUFLOXlELFFBQUwsQ0FBYztBQUFFc3lELDhCQUF3QixFQUFFO0FBQTVCLEtBQWQ7QUFDRDs7QUFFRFUsOEJBQTRCLENBQUNYLG1CQUFELEVBQXNCO0FBQ2hELFNBQUtyeUQsUUFBTCxDQUFjO0FBQ1pxeUQseUJBRFk7QUFFWmIscUJBQWUsRUFBRTtBQUZMLEtBQWQ7QUFJQSxTQUFLN3hELEtBQUwsQ0FBV2xGLFFBQVgsQ0FBb0I7QUFBRUcsVUFBSSxFQUFFQyxzQkFBRSxDQUFDeXlEO0FBQVgsS0FBcEI7QUFDRDs7QUFFRHNGLDZCQUEyQixDQUFDMXdELEtBQUQsRUFBUTtBQUNqQyxTQUFLOHdELDRCQUFMLENBQWtDOXdELEtBQUssQ0FBQ3BGLE1BQU4sQ0FBYW9CLEtBQS9DO0FBQ0Q7O0FBRURxMEQsd0JBQXNCLEdBQUc7QUFDdkIsU0FBS1MsNEJBQUwsQ0FBa0MsRUFBbEM7QUFDRDs7QUFFRHgwQixxQkFBbUIsQ0FBQ0ksRUFBRCxFQUFLO0FBQ3RCQSxNQUFFLENBQUMvdUIsY0FBSDtBQUNBLFNBQUtsUSxLQUFMLENBQVcreEIsT0FBWDtBQUNEOztBQUVEaWhDLG1CQUFpQixDQUFDL3pCLEVBQUQsRUFBSztBQUNwQkEsTUFBRSxDQUFDL3VCLGNBQUg7O0FBRUEsUUFBSSxLQUFLb2pELFlBQUwsRUFBSixFQUF5QjtBQUN2QixZQUFNOXVDLElBQUksR0FBRztBQUFFNWIsV0FBRyxFQUFFLEtBQUsycUQsUUFBTCxDQUFjLEtBQUt0ekQsS0FBTCxDQUFXMkksR0FBekI7QUFBUCxPQUFiO0FBQ0EsWUFBTTtBQUFFa0Y7QUFBRixVQUFZLEtBQUs5TixLQUF2Qjs7QUFDQSxVQUFJLEtBQUtDLEtBQUwsQ0FBV2lULEtBQVgsS0FBcUIsRUFBekIsRUFBNkI7QUFDM0JzUixZQUFJLENBQUN0UixLQUFMLEdBQWEsS0FBS2pULEtBQUwsQ0FBV2lULEtBQXhCO0FBQ0Q7O0FBRUQsVUFBSSxLQUFLalQsS0FBTCxDQUFXeXlELG1CQUFmLEVBQW9DO0FBQ2xDbHVDLFlBQUksQ0FBQ3NYLG1CQUFMLEdBQTJCLEtBQUt5M0IsUUFBTCxDQUN6QixLQUFLdHpELEtBQUwsQ0FBV3l5RCxtQkFEYyxDQUEzQjtBQUdELE9BSkQsTUFJTyxJQUFJLEtBQUsxeUQsS0FBTCxDQUFXd2tCLElBQVgsSUFBbUIsS0FBS3hrQixLQUFMLENBQVd3a0IsSUFBWCxDQUFnQnNYLG1CQUF2QyxFQUE0RDtBQUNqRTtBQUNBdFgsWUFBSSxDQUFDc1gsbUJBQUwsR0FBMkIsSUFBM0I7QUFDRDs7QUFDRCxXQUFLOTdCLEtBQUwsQ0FBV2xGLFFBQVgsQ0FDRUMseUJBQUUsQ0FBQ0MsVUFBSCxDQUFjO0FBQ1pDLFlBQUksRUFBRUMsc0JBQUUsQ0FBQ2l2QixhQURHO0FBRVp6c0IsWUFBSSxFQUFFO0FBQUU4bUIsY0FBRjtBQUFRMVc7QUFBUjtBQUZNLE9BQWQsQ0FERjtBQU1BLFdBQUs5TixLQUFMLENBQVdsRixRQUFYLENBQ0VDLHlCQUFFLENBQUMwQyxTQUFILENBQWE7QUFDWGlCLGNBQU0sRUFBRWkvQixxQ0FERztBQUVYcDdCLGFBQUssRUFBRSxnQkFGSTtBQUdYbWpCLHVCQUFlLEVBQUU1WDtBQUhOLE9BQWIsQ0FERjtBQVFBLFdBQUs5TixLQUFMLENBQVcreEIsT0FBWDtBQUNEO0FBQ0Y7O0FBRURtaEMsc0JBQW9CLENBQUMzd0QsS0FBRCxFQUFRO0FBQzFCQSxTQUFLLENBQUMyTixjQUFOOztBQUNBLFFBQUksS0FBS29qRCxZQUFMLEVBQUosRUFBeUI7QUFDdkIsV0FBS3R6RCxLQUFMLENBQVdsRixRQUFYLENBQ0VDLHlCQUFFLENBQUNDLFVBQUgsQ0FBYztBQUNaQyxZQUFJLEVBQUVDLHNCQUFFLENBQUN3eUQsZUFERztBQUVaaHdELFlBQUksRUFBRTtBQUFFa0wsYUFBRyxFQUFFLEtBQUsycUQsUUFBTCxDQUFjLEtBQUt0ekQsS0FBTCxDQUFXeXlELG1CQUF6QjtBQUFQO0FBRk0sT0FBZCxDQURGO0FBTUEsV0FBSzF5RCxLQUFMLENBQVdsRixRQUFYLENBQ0VDLHlCQUFFLENBQUMwQyxTQUFILENBQWE7QUFDWGlCLGNBQU0sRUFBRWkvQixxQ0FERztBQUVYcDdCLGFBQUssRUFBRTtBQUZJLE9BQWIsQ0FERjtBQU1EO0FBQ0Y7O0FBRURneEQsVUFBUSxDQUFDM3FELEdBQUQsRUFBTTtBQUNaO0FBQ0EsUUFBSSxDQUFDQSxHQUFHLENBQUNzTSxVQUFKLENBQWUsT0FBZixDQUFELElBQTRCLENBQUN0TSxHQUFHLENBQUNzTSxVQUFKLENBQWUsUUFBZixDQUFqQyxFQUEyRDtBQUN6RCxhQUFRLFVBQVN0TSxHQUFJLEVBQXJCO0FBQ0Q7O0FBQ0QsV0FBT0EsR0FBUDtBQUNEOztBQUVENHFELGNBQVksQ0FBQzVxRCxHQUFELEVBQU07QUFDaEIsUUFBSTtBQUNGLGFBQU8sSUFBSWlPLEdBQUosQ0FBUWpPLEdBQVIsQ0FBUDtBQUNELEtBRkQsQ0FFRSxPQUFPcEcsQ0FBUCxFQUFVO0FBQ1YsYUFBTyxJQUFQO0FBQ0Q7QUFDRjs7QUFFRDR3RCxhQUFXLENBQUN4cUQsR0FBRCxFQUFNO0FBQ2YsVUFBTTZxRCxjQUFjLEdBQUcsQ0FBQyxPQUFELEVBQVUsUUFBVixDQUF2Qjs7QUFDQSxVQUFNLzZDLE1BQU0sR0FDVixLQUFLODZDLFlBQUwsQ0FBa0I1cUQsR0FBbEIsS0FBMEIsS0FBSzRxRCxZQUFMLENBQWtCLEtBQUtELFFBQUwsQ0FBYzNxRCxHQUFkLENBQWxCLENBRDVCOztBQUdBLFdBQU84UCxNQUFNLElBQUkrNkMsY0FBYyxDQUFDL2lELFFBQWYsQ0FBd0JnSSxNQUFNLENBQUNrVixRQUEvQixDQUFqQjtBQUNEOztBQUVEOGxDLDZCQUEyQixHQUFHO0FBQzVCLFVBQU07QUFBRWhCO0FBQUYsUUFBMEIsS0FBS3p5RCxLQUFyQztBQUNBLFdBQU8sQ0FBQ3l5RCxtQkFBRCxJQUF3QixLQUFLVSxXQUFMLENBQWlCVixtQkFBakIsQ0FBL0I7QUFDRDs7QUFFRFksY0FBWSxHQUFHO0FBQ2IsVUFBTUssUUFBUSxHQUNaLEtBQUtQLFdBQUwsQ0FBaUIsS0FBS256RCxLQUFMLENBQVcySSxHQUE1QixLQUFvQyxLQUFLOHFELDJCQUFMLEVBRHRDOztBQUdBLFFBQUksQ0FBQ0MsUUFBTCxFQUFlO0FBQ2IsV0FBS3R6RCxRQUFMLENBQWM7QUFBRXd4RCx1QkFBZSxFQUFFO0FBQW5CLE9BQWQ7QUFDRDs7QUFFRCxXQUFPOEIsUUFBUDtBQUNEOztBQUVEQyw4QkFBNEIsR0FBRztBQUM3QixVQUFNO0FBQUVsQjtBQUFGLFFBQTBCLEtBQUt6eUQsS0FBckM7QUFDQSxVQUFNNHpELGFBQWEsR0FBRyxLQUFLN3pELEtBQUwsQ0FBV3N0RCxlQUFYLEtBQStCLEVBQXJEO0FBQ0EsVUFBTXVFLGVBQWUsR0FDbEIsS0FBSzV4RCxLQUFMLENBQVc0eEQsZUFBWCxJQUE4QixDQUFDLEtBQUs2QiwyQkFBTCxFQUFoQyxJQUNBRyxhQUZGLENBSDZCLENBTTdCOztBQUNBLFVBQU03QixXQUFXLEdBQ2RILGVBQWUsSUFBSSxLQUFLdUIsV0FBTCxDQUFpQixLQUFLbnpELEtBQUwsQ0FBVzJJLEdBQTVCLENBQXBCLElBQ0EsQ0FBQzhwRCxtQkFGSDtBQUdBLFVBQU1vQixTQUFTLEdBQ2IsS0FBSzl6RCxLQUFMLENBQVdzdEQsZUFBWCxLQUErQixJQUEvQixJQUNBb0YsbUJBREEsSUFFQSxLQUFLMXlELEtBQUwsQ0FBV3l0RCxVQUFYLEtBQTBCLEtBQUs4RixRQUFMLENBQWNiLG1CQUFkLENBSDVCOztBQUtBLFFBQUksQ0FBQyxLQUFLenlELEtBQUwsQ0FBVzB5RCx3QkFBaEIsRUFBMEM7QUFDeEMsMEJBQ0UsdUNBQUMsZ0NBQUQ7QUFDRSxlQUFPLEVBQUUsS0FBS1EseUJBRGhCO0FBRUUsaUJBQVMsRUFBQywyQkFGWjtBQUdFLHdCQUFhO0FBSGYsUUFERjtBQU9EOztBQUNELHdCQUNFO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0UsdUNBQUMsaUNBQUQ7QUFDRSxvQkFBYyxFQUNaVSxhQUFhLEdBQ1Qsa0NBRFMsR0FFVCxnQ0FKUjtBQU1FLGFBQU8sRUFBRUMsU0FOWDtBQU9FLGNBQVEsRUFBRSxLQUFLYiwyQkFQakI7QUFRRSxhQUFPLEVBQUUsS0FBS0wsc0JBUmhCO0FBU0UsaUJBQVcsRUFBRVosV0FUZjtBQVVFLGFBQU8sRUFBRSxJQVZYO0FBV0UsV0FBSyxFQUFFVSxtQkFYVDtBQVlFLHFCQUFlLEVBQUViLGVBWm5CO0FBYUUsYUFBTyxFQUFDLGlDQWJWO0FBY0UsbUJBQWEsRUFBQztBQWRoQixNQURGLENBREY7QUFvQkQ7O0FBRUQzd0QsUUFBTSxHQUFHO0FBQ1AsVUFBTTtBQUFFd3hEO0FBQUYsUUFBMEIsS0FBS3p5RCxLQUFyQztBQUNBLFVBQU00ekQsYUFBYSxHQUFHLEtBQUs3ekQsS0FBTCxDQUFXc3RELGVBQVgsS0FBK0IsRUFBckQsQ0FGTyxDQUdQOztBQUNBLFVBQU15RyxTQUFTLEdBQUcsQ0FBQyxLQUFLL3pELEtBQUwsQ0FBV3drQixJQUE5QjtBQUNBLFVBQU13dkMsUUFBUSxHQUNYLEtBQUtoMEQsS0FBTCxDQUFXd2tCLElBQVgsSUFBbUIsS0FBS3hrQixLQUFMLENBQVd3a0IsSUFBWCxDQUFnQnNYLG1CQUFwQyxJQUE0RCxFQUQ5RDtBQUVBLFVBQU1tNEIsT0FBTyxHQUNYdkIsbUJBQW1CLElBQUksS0FBS2EsUUFBTCxDQUFjYixtQkFBZCxNQUF1Q3NCLFFBRGhFLENBUE8sQ0FTUDtBQUNBOztBQUNBLFVBQU1FLFdBQVcsR0FBR0QsT0FBTyxJQUFJLENBQUMsS0FBS2owRCxLQUFMLENBQVdzdEQsZUFBM0M7QUFDQSxVQUFNNkcsV0FBVyxHQUFHanJELE1BQU0sQ0FBQ3NjLE1BQVAsQ0FBYyxFQUFkLEVBQWtCLEtBQUt4bEIsS0FBTCxDQUFXd2tCLElBQTdCLENBQXBCOztBQUNBLFFBQUksS0FBS3hrQixLQUFMLENBQVdzdEQsZUFBZixFQUFnQztBQUM5QjZHLGlCQUFXLENBQUNoNEIsVUFBWixHQUF5QixLQUFLbjhCLEtBQUwsQ0FBV3N0RCxlQUFwQztBQUNBNkcsaUJBQVcsQ0FBQ3I0QixtQkFBWixHQUFrQyxLQUFLOTdCLEtBQUwsQ0FBV3l0RCxVQUE3QztBQUNELEtBaEJNLENBaUJQOzs7QUFDQSxVQUFNMkcsUUFBUSxHQUFHRixXQUFXLEdBQ3hCLEtBQUtoQixvQkFEbUIsR0FFeEIsS0FBS0YsaUJBRlQ7QUFJQSxVQUFNcUIsdUJBQXVCLEdBQUcscUNBQWhDO0FBQ0EsVUFBTUMsd0JBQXdCLEdBQUcsc0NBQWpDO0FBQ0Esd0JBQ0U7QUFBTSxlQUFTLEVBQUMsY0FBaEI7QUFBK0IsY0FBUSxFQUFFRjtBQUF6QyxvQkFDRTtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFO0FBQ0UsZUFBUyxFQUFDLDBCQURaO0FBRUUsc0JBQ0VMLFNBQVMsR0FBR00sdUJBQUgsR0FBNkJDO0FBSDFDLE1BREYsZUFPRTtBQUFLLGVBQVMsRUFBQztBQUFmLG9CQUNFO0FBQUssZUFBUyxFQUFDO0FBQWYsb0JBQ0UsdUNBQUMsaUNBQUQ7QUFDRSxjQUFRLEVBQUUsS0FBS3pCLGFBRGpCO0FBRUUsV0FBSyxFQUFFLEtBQUs1eUQsS0FBTCxDQUFXaVQsS0FGcEI7QUFHRSxhQUFPLEVBQUMsNkJBSFY7QUFJRSxtQkFBYSxFQUFDO0FBSmhCLE1BREYsZUFPRSx1Q0FBQyxpQ0FBRDtBQUNFLGNBQVEsRUFBRSxLQUFLNC9DLFdBRGpCO0FBRUUsaUJBQVcsRUFDVCxLQUFLN3lELEtBQUwsQ0FBVzR4RCxlQUFYLElBQ0EsQ0FBQyxLQUFLdUIsV0FBTCxDQUFpQixLQUFLbnpELEtBQUwsQ0FBVzJJLEdBQTVCLENBSkw7QUFNRSxXQUFLLEVBQUUsS0FBSzNJLEtBQUwsQ0FBVzJJLEdBTnBCO0FBT0UsYUFBTyxFQUFFLEtBQUttcUQsZUFQaEI7QUFRRSxxQkFBZSxFQUNiLEtBQUs5eUQsS0FBTCxDQUFXNHhELGVBQVgsSUFDQSxDQUFDLEtBQUt1QixXQUFMLENBQWlCLEtBQUtuekQsS0FBTCxDQUFXMkksR0FBNUIsQ0FWTDtBQVlFLGFBQU8sRUFBQywyQkFaVjtBQWFFLGFBQU8sRUFBRSxJQWJYO0FBY0UsbUJBQWEsRUFBQywyQkFkaEI7QUFlRSxvQkFBYyxFQUFDO0FBZmpCLE1BUEYsRUF3QkcsS0FBS2dyRCw0QkFBTCxFQXhCSCxDQURGLGVBMkJFLHVDQUFDLHNCQUFEO0FBQ0UsVUFBSSxFQUFFTyxXQURSO0FBRUUsa0JBQVksRUFBRU4sYUFGaEI7QUFHRSxXQUFLLEVBQUUsS0FBSzV6RCxLQUFMLENBQVdpVDtBQUhwQixNQTNCRixDQVBGLENBREYsZUEwQ0U7QUFBUyxlQUFTLEVBQUM7QUFBbkIsb0JBQ0U7QUFDRSxlQUFTLEVBQUMsUUFEWjtBQUVFLFVBQUksRUFBQyxRQUZQO0FBR0UsYUFBTyxFQUFFLEtBQUsyckIsbUJBSGhCO0FBSUUsc0JBQWE7QUFKZixNQURGLEVBT0dxMUIsV0FBVyxnQkFDVjtBQUNFLGVBQVMsRUFBQyxjQURaO0FBRUUsVUFBSSxFQUFDLFFBRlA7QUFHRSxzQkFBYTtBQUhmLE1BRFUsZ0JBT1Y7QUFDRSxlQUFTLEVBQUMsTUFEWjtBQUVFLFVBQUksRUFBQyxRQUZQO0FBR0Usc0JBQ0VILFNBQVMsR0FDTCw0QkFESyxHQUVMO0FBTlIsTUFkSixDQTFDRixDQURGO0FBc0VEOztBQTlTa0Q7QUFpVHJEdEIsdUJBQVcsQ0FBQzcyQyxZQUFaLEdBQTJCO0FBQ3pCNEksTUFBSSxFQUFFLElBRG1CO0FBRXpCMVcsT0FBSyxFQUFFLENBQUM7QUFGaUIsQ0FBM0IsQyIsImZpbGUiOiJhY3Rpdml0eS1zdHJlYW0uYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgQmFzZSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Jhc2UvQmFzZVwiO1xuaW1wb3J0IHsgRGV0ZWN0VXNlclNlc3Npb25TdGFydCB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvZGV0ZWN0LXVzZXItc2Vzc2lvbi1zdGFydFwiO1xuaW1wb3J0IHsgaW5pdFN0b3JlIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9pbml0LXN0b3JlXCI7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB7IHJlZHVjZXJzIH0gZnJvbSBcImNvbW1vbi9SZWR1Y2Vycy5qc21cIjtcblxuZXhwb3J0IGNvbnN0IE5ld1RhYiA9ICh7IHN0b3JlIH0pID0+IChcbiAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XG4gICAgPEJhc2UgLz5cbiAgPC9Qcm92aWRlcj5cbik7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJXaXRob3V0U3RhdGUoKSB7XG4gIGNvbnN0IHN0b3JlID0gaW5pdFN0b3JlKHJlZHVjZXJzKTtcbiAgbmV3IERldGVjdFVzZXJTZXNzaW9uU3RhcnQoc3RvcmUpLnNlbmRFdmVudE9yQWRkTGlzdGVuZXIoKTtcblxuICAvLyBJZiB0aGlzIGRvY3VtZW50IGhhcyBhbHJlYWR5IGdvbmUgaW50byB0aGUgYmFja2dyb3VuZCBieSB0aGUgdGltZSB3ZSd2ZSByZWFjaGVkXG4gIC8vIGhlcmUsIHdlIGNhbiBkZXByaW9yaXRpemUgcmVxdWVzdGluZyB0aGUgaW5pdGlhbCBzdGF0ZSB1bnRpbCB0aGUgZXZlbnQgbG9vcFxuICAvLyBmcmVlcyB1cC4gSWYsIGhvd2V2ZXIsIHRoZSB2aXNpYmlsaXR5IGNoYW5nZXMsIHdlIHRoZW4gc2VuZCB0aGUgcmVxdWVzdC5cbiAgbGV0IGRpZFJlcXVlc3QgPSBmYWxzZTtcbiAgbGV0IHJlcXVlc3RJZGxlQ2FsbGJhY2tJZCA9IDA7XG4gIGZ1bmN0aW9uIGRvUmVxdWVzdCgpIHtcbiAgICBpZiAoIWRpZFJlcXVlc3QpIHtcbiAgICAgIGlmIChyZXF1ZXN0SWRsZUNhbGxiYWNrSWQpIHtcbiAgICAgICAgY2FuY2VsSWRsZUNhbGxiYWNrKHJlcXVlc3RJZGxlQ2FsbGJhY2tJZCk7XG4gICAgICB9XG4gICAgICBkaWRSZXF1ZXN0ID0gdHJ1ZTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKGFjLkFsc29Ub01haW4oeyB0eXBlOiBhdC5ORVdfVEFCX1NUQVRFX1JFUVVFU1QgfSkpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICByZXF1ZXN0SWRsZUNhbGxiYWNrSWQgPSByZXF1ZXN0SWRsZUNhbGxiYWNrKGRvUmVxdWVzdCk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgZG9SZXF1ZXN0LCB7IG9uY2U6IHRydWUgfSk7XG4gIH0gZWxzZSB7XG4gICAgZG9SZXF1ZXN0KCk7XG4gIH1cblxuICBSZWFjdERPTS5oeWRyYXRlKDxOZXdUYWIgc3RvcmU9e3N0b3JlfSAvPiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb290XCIpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckNhY2hlKGluaXRpYWxTdGF0ZSkge1xuICBjb25zdCBzdG9yZSA9IGluaXRTdG9yZShyZWR1Y2VycywgaW5pdGlhbFN0YXRlKTtcbiAgbmV3IERldGVjdFVzZXJTZXNzaW9uU3RhcnQoc3RvcmUpLnNlbmRFdmVudE9yQWRkTGlzdGVuZXIoKTtcblxuICBSZWFjdERPTS5oeWRyYXRlKDxOZXdUYWIgc3RvcmU9e3N0b3JlfSAvPiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb290XCIpKTtcbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cInVzZSBzdHJpY3RcIjtcblxudGhpcy5NQUlOX01FU1NBR0VfVFlQRSA9IFwiQWN0aXZpdHlTdHJlYW06TWFpblwiO1xudGhpcy5DT05URU5UX01FU1NBR0VfVFlQRSA9IFwiQWN0aXZpdHlTdHJlYW06Q29udGVudFwiO1xudGhpcy5QUkVMT0FEX01FU1NBR0VfVFlQRSA9IFwiQWN0aXZpdHlTdHJlYW06UHJlbG9hZGVkQnJvd3NlclwiO1xudGhpcy5VSV9DT0RFID0gMTtcbnRoaXMuQkFDS0dST1VORF9QUk9DRVNTID0gMjtcblxuLyoqXG4gKiBnbG9iYWxJbXBvcnRDb250ZXh0IC0gQXJlIHdlIGluIFVJIGNvZGUgKGkuZS4gcmVhY3QsIGEgZG9tKSBvciBzb21lIGtpbmQgb2YgYmFja2dyb3VuZCBwcm9jZXNzP1xuICogICAgICAgICAgICAgICAgICAgICAgIFVzZSB0aGlzIGluIGFjdGlvbiBjcmVhdG9ycyBpZiB5b3UgbmVlZCBkaWZmZXJlbnQgbG9naWNcbiAqICAgICAgICAgICAgICAgICAgICAgICBmb3IgdWkvYmFja2dyb3VuZCBwcm9jZXNzZXMuXG4gKi9cbmNvbnN0IGdsb2JhbEltcG9ydENvbnRleHQgPVxuICB0eXBlb2YgV2luZG93ID09PSBcInVuZGVmaW5lZFwiID8gQkFDS0dST1VORF9QUk9DRVNTIDogVUlfQ09ERTtcbi8vIEV4cG9ydCBmb3IgdGVzdHNcbnRoaXMuZ2xvYmFsSW1wb3J0Q29udGV4dCA9IGdsb2JhbEltcG9ydENvbnRleHQ7XG5cbi8vIENyZWF0ZSBhbiBvYmplY3QgdGhhdCBhdm9pZHMgYWNjaWRlbnRhbCBkaWZmZXJpbmcga2V5L3ZhbHVlIHBhaXJzOlxuLy8ge1xuLy8gICBJTklUOiBcIklOSVRcIixcbi8vICAgVU5JTklUOiBcIlVOSU5JVFwiXG4vLyB9XG5jb25zdCBhY3Rpb25UeXBlcyA9IHt9O1xuZm9yIChjb25zdCB0eXBlIG9mIFtcbiAgXCJBQk9VVF9TUE9OU09SRURfVE9QX1NJVEVTXCIsXG4gIFwiQURET05TX0lORk9fUkVRVUVTVFwiLFxuICBcIkFERE9OU19JTkZPX1JFU1BPTlNFXCIsXG4gIFwiQVJDSElWRV9GUk9NX1BPQ0tFVFwiLFxuICBcIkFTX1JPVVRFUl9JTklUSUFMSVpFRFwiLFxuICBcIkFTX1JPVVRFUl9QUkVGX0NIQU5HRURcIixcbiAgXCJBU19ST1VURVJfVEFSR0VUSU5HX1VQREFURVwiLFxuICBcIkFTX1JPVVRFUl9URUxFTUVUUllfVVNFUl9FVkVOVFwiLFxuICBcIkJMT0NLX1VSTFwiLFxuICBcIkJPT0tNQVJLX1VSTFwiLFxuICBcIkNMRUFSX1BSRUZcIixcbiAgXCJDT1BZX0RPV05MT0FEX0xJTktcIixcbiAgXCJERUxFVEVfQk9PS01BUktfQllfSURcIixcbiAgXCJERUxFVEVfRlJPTV9QT0NLRVRcIixcbiAgXCJERUxFVEVfSElTVE9SWV9VUkxcIixcbiAgXCJESUFMT0dfQ0FOQ0VMXCIsXG4gIFwiRElBTE9HX09QRU5cIixcbiAgXCJESVNBQkxFX1NFQVJDSFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fQ09MTEVDVElPTl9ESVNNSVNTSUJMRV9UT0dHTEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19DSEFOR0VcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19SRVNFVFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1JFU0VUX0RFRkFVTFRTXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfU0VUVVBcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19TRVRfVkFMVUVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0RFVl9FWFBJUkVfQ0FDSEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0RFVl9JRExFX0RBSUxZXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9ERVZfU1lOQ19SU1wiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fREVWX1NZU1RFTV9USUNLXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9GRUVEU19VUERBVEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0ZFRURfVVBEQVRFXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9JTVBSRVNTSU9OX1NUQVRTXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9MQVlPVVRfUkVTRVRcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0xBWU9VVF9VUERBVEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0xJTktfQkxPQ0tFRFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fTE9BREVEX0NPTlRFTlRcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1BFUlNPTkFMSVpBVElPTl9JTklUXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fTEFTVF9VUERBVEVEXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fVE9HR0xFXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9SRVRSWV9GRUVEXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19DQVBTXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19FTkRQT0lOVFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfUExBQ0VNRU5UU1wiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfVVBEQVRFXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9TUE9DX0JMT0NLRURcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1NQT0NfSU1QUkVTU0lPTlwiLFxuICBcIkRPV05MT0FEX0NIQU5HRURcIixcbiAgXCJGQUtFX0ZPQ1VTX1NFQVJDSFwiLFxuICBcIkZJTExfU0VBUkNIX1RFUk1cIixcbiAgXCJIQU5ET0ZGX1NFQVJDSF9UT19BV0VTT01FQkFSXCIsXG4gIFwiSElERV9QUklWQUNZX0lORk9cIixcbiAgXCJJTklUXCIsXG4gIFwiTkVXX1RBQl9JTklUXCIsXG4gIFwiTkVXX1RBQl9JTklUSUFMX1NUQVRFXCIsXG4gIFwiTkVXX1RBQl9MT0FEXCIsXG4gIFwiTkVXX1RBQl9SRUhZRFJBVEVEXCIsXG4gIFwiTkVXX1RBQl9TVEFURV9SRVFVRVNUXCIsXG4gIFwiTkVXX1RBQl9VTkxPQURcIixcbiAgXCJPUEVOX0RPV05MT0FEX0ZJTEVcIixcbiAgXCJPUEVOX0xJTktcIixcbiAgXCJPUEVOX05FV19XSU5ET1dcIixcbiAgXCJPUEVOX1BSSVZBVEVfV0lORE9XXCIsXG4gIFwiT1BFTl9XRUJFWFRfU0VUVElOR1NcIixcbiAgXCJQQVJUTkVSX0xJTktfQVRUUklCVVRJT05cIixcbiAgXCJQTEFDRVNfQk9PS01BUktTX1JFTU9WRURcIixcbiAgXCJQTEFDRVNfQk9PS01BUktfQURERURcIixcbiAgXCJQTEFDRVNfSElTVE9SWV9DTEVBUkVEXCIsXG4gIFwiUExBQ0VTX0xJTktTX0NIQU5HRURcIixcbiAgXCJQTEFDRVNfTElOS1NfREVMRVRFRFwiLFxuICBcIlBMQUNFU19MSU5LX0JMT0NLRURcIixcbiAgXCJQTEFDRVNfU0FWRURfVE9fUE9DS0VUXCIsXG4gIFwiUE9DS0VUX0NUQVwiLFxuICBcIlBPQ0tFVF9MSU5LX0RFTEVURURfT1JfQVJDSElWRURcIixcbiAgXCJQT0NLRVRfTE9HR0VEX0lOXCIsXG4gIFwiUE9DS0VUX1dBSVRJTkdfRk9SX1NQT0NcIixcbiAgXCJQUkVGU19JTklUSUFMX1ZBTFVFU1wiLFxuICBcIlBSRUZfQ0hBTkdFRFwiLFxuICBcIlBSRVZJRVdfUkVRVUVTVFwiLFxuICBcIlBSRVZJRVdfUkVRVUVTVF9DQU5DRUxcIixcbiAgXCJQUkVWSUVXX1JFU1BPTlNFXCIsXG4gIFwiUkVNT1ZFX0RPV05MT0FEX0ZJTEVcIixcbiAgXCJSSUNIX0lDT05fTUlTU0lOR1wiLFxuICBcIlNBVkVfU0VTU0lPTl9QRVJGX0RBVEFcIixcbiAgXCJTQVZFX1RPX1BPQ0tFVFwiLFxuICBcIlNDUkVFTlNIT1RfVVBEQVRFRFwiLFxuICBcIlNFQ1RJT05fREVSRUdJU1RFUlwiLFxuICBcIlNFQ1RJT05fRElTQUJMRVwiLFxuICBcIlNFQ1RJT05fRU5BQkxFXCIsXG4gIFwiU0VDVElPTl9NT1ZFXCIsXG4gIFwiU0VDVElPTl9PUFRJT05TX0NIQU5HRURcIixcbiAgXCJTRUNUSU9OX1JFR0lTVEVSXCIsXG4gIFwiU0VDVElPTl9VUERBVEVcIixcbiAgXCJTRUNUSU9OX1VQREFURV9DQVJEXCIsXG4gIFwiU0VUVElOR1NfQ0xPU0VcIixcbiAgXCJTRVRUSU5HU19PUEVOXCIsXG4gIFwiU0VUX1BSRUZcIixcbiAgXCJTSE9XX0RPV05MT0FEX0ZJTEVcIixcbiAgXCJTSE9XX0ZJUkVGT1hfQUNDT1VOVFNcIixcbiAgXCJTSE9XX1BSSVZBQ1lfSU5GT1wiLFxuICBcIlNIT1dfU0VBUkNIXCIsXG4gIFwiU0tJUFBFRF9TSUdOSU5cIixcbiAgXCJTTklQUEVUU19CTE9DS0xJU1RfQ0xFQVJFRFwiLFxuICBcIlNOSVBQRVRTX0JMT0NLTElTVF9VUERBVEVEXCIsXG4gIFwiU05JUFBFVFNfREFUQVwiLFxuICBcIlNOSVBQRVRTX1BSRVZJRVdfTU9ERVwiLFxuICBcIlNOSVBQRVRTX1JFU0VUXCIsXG4gIFwiU05JUFBFVF9CTE9DS0VEXCIsXG4gIFwiU1VCTUlUX0VNQUlMXCIsXG4gIFwiU1VCTUlUX1NJR05JTlwiLFxuICBcIlNZU1RFTV9USUNLXCIsXG4gIFwiVEVMRU1FVFJZX0lNUFJFU1NJT05fU1RBVFNcIixcbiAgXCJURUxFTUVUUllfVVNFUl9FVkVOVFwiLFxuICBcIlRPUF9TSVRFU19DQU5DRUxfRURJVFwiLFxuICBcIlRPUF9TSVRFU19DTE9TRV9TRUFSQ0hfU0hPUlRDVVRTX01PREFMXCIsXG4gIFwiVE9QX1NJVEVTX0VESVRcIixcbiAgXCJUT1BfU0lURVNfSU1QUkVTU0lPTl9TVEFUU1wiLFxuICBcIlRPUF9TSVRFU19JTlNFUlRcIixcbiAgXCJUT1BfU0lURVNfT1BFTl9TRUFSQ0hfU0hPUlRDVVRTX01PREFMXCIsXG4gIFwiVE9QX1NJVEVTX1BJTlwiLFxuICBcIlRPUF9TSVRFU19QUkVGU19VUERBVEVEXCIsXG4gIFwiVE9QX1NJVEVTX1VOUElOXCIsXG4gIFwiVE9QX1NJVEVTX1VQREFURURcIixcbiAgXCJUT1RBTF9CT09LTUFSS1NfUkVRVUVTVFwiLFxuICBcIlRPVEFMX0JPT0tNQVJLU19SRVNQT05TRVwiLFxuICBcIlVOSU5JVFwiLFxuICBcIlVQREFURV9QSU5ORURfU0VBUkNIX1NIT1JUQ1VUU1wiLFxuICBcIlVQREFURV9TRUFSQ0hfU0hPUlRDVVRTXCIsXG4gIFwiVVBEQVRFX1NFQ1RJT05fUFJFRlNcIixcbiAgXCJXRUJFWFRfQ0xJQ0tcIixcbiAgXCJXRUJFWFRfRElTTUlTU1wiLFxuXSkge1xuICBhY3Rpb25UeXBlc1t0eXBlXSA9IHR5cGU7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgcm91dGVkIGFjdGlvbnMgYmV0d2VlbiBjb250ZW50IGFuZCBtYWluXG4vLyBOb3QgaW50ZW5kZWQgdG8gYmUgdXNlZCBieSBjb25zdW1lcnNcbmZ1bmN0aW9uIF9Sb3V0ZU1lc3NhZ2UoYWN0aW9uLCBvcHRpb25zKSB7XG4gIGNvbnN0IG1ldGEgPSBhY3Rpb24ubWV0YSA/IHsgLi4uYWN0aW9uLm1ldGEgfSA6IHt9O1xuICBpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMuZnJvbSB8fCAhb3B0aW9ucy50bykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiUm91dGVkIE1lc3NhZ2VzIG11c3QgaGF2ZSBvcHRpb25zIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyLCBhbmQgbXVzdCBhdCBsZWFzdCBpbmNsdWRlIGEgLmZyb20gYW5kIC50byBwcm9wZXJ0eS5cIlxuICAgICk7XG4gIH1cbiAgLy8gRm9yIGVhY2ggb2YgdGhlc2UgZmllbGRzLCBpZiB0aGV5IGFyZSBwYXNzZWQgYXMgYW4gb3B0aW9uLFxuICAvLyBhZGQgdGhlbSB0byB0aGUgYWN0aW9uLiBJZiB0aGV5IGFyZSBub3QgZGVmaW5lZCwgcmVtb3ZlIHRoZW0uXG4gIFtcImZyb21cIiwgXCJ0b1wiLCBcInRvVGFyZ2V0XCIsIFwiZnJvbVRhcmdldFwiLCBcInNraXBNYWluXCIsIFwic2tpcExvY2FsXCJdLmZvckVhY2goXG4gICAgbyA9PiB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnNbb10gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgbWV0YVtvXSA9IG9wdGlvbnNbb107XG4gICAgICB9IGVsc2UgaWYgKG1ldGFbb10pIHtcbiAgICAgICAgZGVsZXRlIG1ldGFbb107XG4gICAgICB9XG4gICAgfVxuICApO1xuICByZXR1cm4geyAuLi5hY3Rpb24sIG1ldGEgfTtcbn1cblxuLyoqXG4gKiBBbHNvVG9NYWluIC0gQ3JlYXRlcyBhIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIGRpc3BhdGNoZWQgbG9jYWxseSBhbmQgYWxzbyBzZW50IHRvIHRoZSBNYWluIHByb2Nlc3MuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBhY3Rpb24gQW55IHJlZHV4IGFjdGlvbiAocmVxdWlyZWQpXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSAge2Jvb2x9ICAgc2tpcExvY2FsIFVzZWQgYnkgT25seVRvTWFpbiB0byBza2lwIHRoZSBtYWluIHJlZHVjZXJcbiAqIEBwYXJhbSAge3N0cmluZ30gZnJvbVRhcmdldCBUaGUgaWQgb2YgdGhlIGNvbnRlbnQgcG9ydCBmcm9tIHdoaWNoIHRoZSBhY3Rpb24gb3JpZ2luYXRlZC4gKG9wdGlvbmFsKVxuICogQHJldHVybiB7b2JqZWN0fSBBbiBhY3Rpb24gd2l0aCBhZGRlZCAubWV0YSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIEFsc29Ub01haW4oYWN0aW9uLCBmcm9tVGFyZ2V0LCBza2lwTG9jYWwpIHtcbiAgcmV0dXJuIF9Sb3V0ZU1lc3NhZ2UoYWN0aW9uLCB7XG4gICAgZnJvbTogQ09OVEVOVF9NRVNTQUdFX1RZUEUsXG4gICAgdG86IE1BSU5fTUVTU0FHRV9UWVBFLFxuICAgIGZyb21UYXJnZXQsXG4gICAgc2tpcExvY2FsLFxuICB9KTtcbn1cblxuLyoqXG4gKiBPbmx5VG9NYWluIC0gQ3JlYXRlcyBhIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIHNlbnQgdG8gdGhlIE1haW4gcHJvY2VzcyBhbmQgc2tpcCB0aGUgbG9jYWwgcmVkdWNlci5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFjdGlvbiBBbnkgcmVkdXggYWN0aW9uIChyZXF1aXJlZClcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtICB7c3RyaW5nfSBmcm9tVGFyZ2V0IFRoZSBpZCBvZiB0aGUgY29udGVudCBwb3J0IGZyb20gd2hpY2ggdGhlIGFjdGlvbiBvcmlnaW5hdGVkLiAob3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbiB3aXRoIGFkZGVkIC5tZXRhIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gT25seVRvTWFpbihhY3Rpb24sIGZyb21UYXJnZXQpIHtcbiAgcmV0dXJuIEFsc29Ub01haW4oYWN0aW9uLCBmcm9tVGFyZ2V0LCB0cnVlKTtcbn1cblxuLyoqXG4gKiBCcm9hZGNhc3RUb0NvbnRlbnQgLSBDcmVhdGVzIGEgbWVzc2FnZSB0aGF0IHdpbGwgYmUgZGlzcGF0Y2hlZCB0byBtYWluIGFuZCBzZW50IHRvIEFMTCBjb250ZW50IHByb2Nlc3Nlcy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFjdGlvbiBBbnkgcmVkdXggYWN0aW9uIChyZXF1aXJlZClcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uIHdpdGggYWRkZWQgLm1ldGEgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBCcm9hZGNhc3RUb0NvbnRlbnQoYWN0aW9uKSB7XG4gIHJldHVybiBfUm91dGVNZXNzYWdlKGFjdGlvbiwge1xuICAgIGZyb206IE1BSU5fTUVTU0FHRV9UWVBFLFxuICAgIHRvOiBDT05URU5UX01FU1NBR0VfVFlQRSxcbiAgfSk7XG59XG5cbi8qKlxuICogQWxzb1RvT25lQ29udGVudCAtIENyZWF0ZXMgYSBtZXNzYWdlIHRoYXQgd2lsbCBiZSB3aWxsIGJlIGRpc3BhdGNoZWQgdG8gdGhlIG1haW4gc3RvcmVcbiAqICAgICAgICAgICAgICAgICAgICBhbmQgYWxzbyBzZW50IHRvIGEgcGFydGljdWxhciBDb250ZW50IHByb2Nlc3MuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBhY3Rpb24gQW55IHJlZHV4IGFjdGlvbiAocmVxdWlyZWQpXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHRhcmdldCBUaGUgaWQgb2YgYSBjb250ZW50IHBvcnRcbiAqIEBwYXJhbSAge2Jvb2x9IHNraXBNYWluIFVzZWQgYnkgT25seVRvT25lQ29udGVudCB0byBza2lwIHRoZSBtYWluIHByb2Nlc3NcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uIHdpdGggYWRkZWQgLm1ldGEgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBBbHNvVG9PbmVDb250ZW50KGFjdGlvbiwgdGFyZ2V0LCBza2lwTWFpbikge1xuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiWW91IG11c3QgcHJvdmlkZSBhIHRhcmdldCBJRCBhcyB0aGUgc2Vjb25kIHBhcmFtZXRlciBvZiBBbHNvVG9PbmVDb250ZW50LiBJZiB5b3Ugd2FudCB0byBzZW5kIHRvIGFsbCBjb250ZW50IHByb2Nlc3NlcywgdXNlIEJyb2FkY2FzdFRvQ29udGVudFwiXG4gICAgKTtcbiAgfVxuICByZXR1cm4gX1JvdXRlTWVzc2FnZShhY3Rpb24sIHtcbiAgICBmcm9tOiBNQUlOX01FU1NBR0VfVFlQRSxcbiAgICB0bzogQ09OVEVOVF9NRVNTQUdFX1RZUEUsXG4gICAgdG9UYXJnZXQ6IHRhcmdldCxcbiAgICBza2lwTWFpbixcbiAgfSk7XG59XG5cbi8qKlxuICogT25seVRvT25lQ29udGVudCAtIENyZWF0ZXMgYSBtZXNzYWdlIHRoYXQgd2lsbCBiZSBzZW50IHRvIGEgcGFydGljdWxhciBDb250ZW50IHByb2Nlc3NcbiAqICAgICAgICAgICAgICAgICAgICBhbmQgc2tpcCB0aGUgbWFpbiByZWR1Y2VyLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gYWN0aW9uIEFueSByZWR1eCBhY3Rpb24gKHJlcXVpcmVkKVxuICogQHBhcmFtICB7c3RyaW5nfSB0YXJnZXQgVGhlIGlkIG9mIGEgY29udGVudCBwb3J0XG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbiB3aXRoIGFkZGVkIC5tZXRhIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gT25seVRvT25lQ29udGVudChhY3Rpb24sIHRhcmdldCkge1xuICByZXR1cm4gQWxzb1RvT25lQ29udGVudChhY3Rpb24sIHRhcmdldCwgdHJ1ZSk7XG59XG5cbi8qKlxuICogQWxzb1RvUHJlbG9hZGVkIC0gQ3JlYXRlcyBhIG1lc3NhZ2UgdGhhdCBkaXNwYXRjaGVkIHRvIHRoZSBtYWluIHJlZHVjZXIgYW5kIGFsc28gc2VudCB0byB0aGUgcHJlbG9hZGVkIHRhYi5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFjdGlvbiBBbnkgcmVkdXggYWN0aW9uIChyZXF1aXJlZClcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uIHdpdGggYWRkZWQgLm1ldGEgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBBbHNvVG9QcmVsb2FkZWQoYWN0aW9uKSB7XG4gIHJldHVybiBfUm91dGVNZXNzYWdlKGFjdGlvbiwge1xuICAgIGZyb206IE1BSU5fTUVTU0FHRV9UWVBFLFxuICAgIHRvOiBQUkVMT0FEX01FU1NBR0VfVFlQRSxcbiAgfSk7XG59XG5cbi8qKlxuICogVXNlckV2ZW50IC0gQSB0ZWxlbWV0cnkgcGluZyBpbmRpY2F0aW5nIGEgdXNlciBhY3Rpb24uIFRoaXMgc2hvdWxkIG9ubHlcbiAqICAgICAgICAgICAgICAgICAgIGJlIHNlbnQgZnJvbSB0aGUgVUkgZHVyaW5nIGEgdXNlciBzZXNzaW9uLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gZGF0YSBGaWVsZHMgdG8gaW5jbHVkZSBpbiB0aGUgcGluZyAoc291cmNlLCBldGMuKVxuICogQHJldHVybiB7b2JqZWN0fSBBbiBBbHNvVG9NYWluIGFjdGlvblxuICovXG5mdW5jdGlvbiBVc2VyRXZlbnQoZGF0YSkge1xuICByZXR1cm4gQWxzb1RvTWFpbih7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuVEVMRU1FVFJZX1VTRVJfRVZFTlQsXG4gICAgZGF0YSxcbiAgfSk7XG59XG5cbi8qKlxuICogQVNSb3V0ZXJVc2VyRXZlbnQgLSBBIHRlbGVtZXRyeSBwaW5nIGluZGljYXRpbmcgYSB1c2VyIGFjdGlvbiBmcm9tIEFTIHJvdXRlci4gVGhpcyBzaG91bGQgb25seVxuICogICAgICAgICAgICAgICAgICAgICBiZSBzZW50IGZyb20gdGhlIFVJIGR1cmluZyBhIHVzZXIgc2Vzc2lvbi5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGRhdGEgRmllbGRzIHRvIGluY2x1ZGUgaW4gdGhlIHBpbmcgKHNvdXJjZSwgZXRjLilcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gQWxzb1RvTWFpbiBhY3Rpb25cbiAqL1xuZnVuY3Rpb24gQVNSb3V0ZXJVc2VyRXZlbnQoZGF0YSkge1xuICByZXR1cm4gQWxzb1RvTWFpbih7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuQVNfUk9VVEVSX1RFTEVNRVRSWV9VU0VSX0VWRU5ULFxuICAgIGRhdGEsXG4gIH0pO1xufVxuXG4vKipcbiAqIEltcHJlc3Npb25TdGF0cyAtIEEgdGVsZW1ldHJ5IHBpbmcgaW5kaWNhdGluZyBhbiBpbXByZXNzaW9uIHN0YXRzLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gZGF0YSBGaWVsZHMgdG8gaW5jbHVkZSBpbiB0aGUgcGluZ1xuICogQHBhcmFtICB7aW50fSBpbXBvcnRDb250ZXh0IChGb3IgdGVzdGluZykgT3ZlcnJpZGUgdGhlIGltcG9ydCBjb250ZXh0IGZvciB0ZXN0aW5nLlxuICogI3JldHVybiB7b2JqZWN0fSBBbiBhY3Rpb24uIEZvciBVSSBjb2RlLCBhIEFsc29Ub01haW4gYWN0aW9uLlxuICovXG5mdW5jdGlvbiBJbXByZXNzaW9uU3RhdHMoZGF0YSwgaW1wb3J0Q29udGV4dCA9IGdsb2JhbEltcG9ydENvbnRleHQpIHtcbiAgY29uc3QgYWN0aW9uID0ge1xuICAgIHR5cGU6IGFjdGlvblR5cGVzLlRFTEVNRVRSWV9JTVBSRVNTSU9OX1NUQVRTLFxuICAgIGRhdGEsXG4gIH07XG4gIHJldHVybiBpbXBvcnRDb250ZXh0ID09PSBVSV9DT0RFID8gQWxzb1RvTWFpbihhY3Rpb24pIDogYWN0aW9uO1xufVxuXG4vKipcbiAqIERpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cyAtIEEgdGVsZW1ldHJ5IHBpbmcgaW5kaWNhdGluZyBhbiBpbXByZXNzaW9uIHN0YXRzIGluIERpc2NvdmVyeSBTdHJlYW0uXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBkYXRhIEZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSBwaW5nXG4gKiBAcGFyYW0gIHtpbnR9IGltcG9ydENvbnRleHQgKEZvciB0ZXN0aW5nKSBPdmVycmlkZSB0aGUgaW1wb3J0IGNvbnRleHQgZm9yIHRlc3RpbmcuXG4gKiAjcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbi4gRm9yIFVJIGNvZGUsIGEgQWxzb1RvTWFpbiBhY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIERpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cyhcbiAgZGF0YSxcbiAgaW1wb3J0Q29udGV4dCA9IGdsb2JhbEltcG9ydENvbnRleHRcbikge1xuICBjb25zdCBhY3Rpb24gPSB7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuRElTQ09WRVJZX1NUUkVBTV9JTVBSRVNTSU9OX1NUQVRTLFxuICAgIGRhdGEsXG4gIH07XG4gIHJldHVybiBpbXBvcnRDb250ZXh0ID09PSBVSV9DT0RFID8gQWxzb1RvTWFpbihhY3Rpb24pIDogYWN0aW9uO1xufVxuXG4vKipcbiAqIERpc2NvdmVyeVN0cmVhbUxvYWRlZENvbnRlbnQgLSBBIHRlbGVtZXRyeSBwaW5nIGluZGljYXRpbmcgYSBjb250ZW50IGdldHMgbG9hZGVkIGluIERpc2NvdmVyeSBTdHJlYW0uXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBkYXRhIEZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSBwaW5nXG4gKiBAcGFyYW0gIHtpbnR9IGltcG9ydENvbnRleHQgKEZvciB0ZXN0aW5nKSBPdmVycmlkZSB0aGUgaW1wb3J0IGNvbnRleHQgZm9yIHRlc3RpbmcuXG4gKiAjcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbi4gRm9yIFVJIGNvZGUsIGEgQWxzb1RvTWFpbiBhY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIERpc2NvdmVyeVN0cmVhbUxvYWRlZENvbnRlbnQoXG4gIGRhdGEsXG4gIGltcG9ydENvbnRleHQgPSBnbG9iYWxJbXBvcnRDb250ZXh0XG4pIHtcbiAgY29uc3QgYWN0aW9uID0ge1xuICAgIHR5cGU6IGFjdGlvblR5cGVzLkRJU0NPVkVSWV9TVFJFQU1fTE9BREVEX0NPTlRFTlQsXG4gICAgZGF0YSxcbiAgfTtcbiAgcmV0dXJuIGltcG9ydENvbnRleHQgPT09IFVJX0NPREUgPyBBbHNvVG9NYWluKGFjdGlvbikgOiBhY3Rpb247XG59XG5cbmZ1bmN0aW9uIFNldFByZWYobmFtZSwgdmFsdWUsIGltcG9ydENvbnRleHQgPSBnbG9iYWxJbXBvcnRDb250ZXh0KSB7XG4gIGNvbnN0IGFjdGlvbiA9IHsgdHlwZTogYWN0aW9uVHlwZXMuU0VUX1BSRUYsIGRhdGE6IHsgbmFtZSwgdmFsdWUgfSB9O1xuICByZXR1cm4gaW1wb3J0Q29udGV4dCA9PT0gVUlfQ09ERSA/IEFsc29Ub01haW4oYWN0aW9uKSA6IGFjdGlvbjtcbn1cblxuZnVuY3Rpb24gV2ViRXh0RXZlbnQodHlwZSwgZGF0YSwgaW1wb3J0Q29udGV4dCA9IGdsb2JhbEltcG9ydENvbnRleHQpIHtcbiAgaWYgKCFkYXRhIHx8ICFkYXRhLnNvdXJjZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdXZWJFeHRFdmVudCBhY3Rpb25zIHNob3VsZCBpbmNsdWRlIGEgcHJvcGVydHkgXCJzb3VyY2VcIiwgdGhlIGlkIG9mIHRoZSB3ZWJleHRlbnNpb24gdGhhdCBzaG91bGQgcmVjZWl2ZSB0aGUgZXZlbnQuJ1xuICAgICk7XG4gIH1cbiAgY29uc3QgYWN0aW9uID0geyB0eXBlLCBkYXRhIH07XG4gIHJldHVybiBpbXBvcnRDb250ZXh0ID09PSBVSV9DT0RFID8gQWxzb1RvTWFpbihhY3Rpb24pIDogYWN0aW9uO1xufVxuXG50aGlzLmFjdGlvblR5cGVzID0gYWN0aW9uVHlwZXM7XG5cbnRoaXMuYWN0aW9uQ3JlYXRvcnMgPSB7XG4gIEJyb2FkY2FzdFRvQ29udGVudCxcbiAgVXNlckV2ZW50LFxuICBBU1JvdXRlclVzZXJFdmVudCxcbiAgSW1wcmVzc2lvblN0YXRzLFxuICBBbHNvVG9PbmVDb250ZW50LFxuICBPbmx5VG9PbmVDb250ZW50LFxuICBBbHNvVG9NYWluLFxuICBPbmx5VG9NYWluLFxuICBBbHNvVG9QcmVsb2FkZWQsXG4gIFNldFByZWYsXG4gIFdlYkV4dEV2ZW50LFxuICBEaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMsXG4gIERpc2NvdmVyeVN0cmVhbUxvYWRlZENvbnRlbnQsXG59O1xuXG4vLyBUaGVzZSBhcmUgaGVscGVycyB0byB0ZXN0IGZvciBjZXJ0YWluIGtpbmRzIG9mIGFjdGlvbnNcbnRoaXMuYWN0aW9uVXRpbHMgPSB7XG4gIGlzU2VuZFRvTWFpbihhY3Rpb24pIHtcbiAgICBpZiAoIWFjdGlvbi5tZXRhKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBhY3Rpb24ubWV0YS50byA9PT0gTUFJTl9NRVNTQUdFX1RZUEUgJiZcbiAgICAgIGFjdGlvbi5tZXRhLmZyb20gPT09IENPTlRFTlRfTUVTU0FHRV9UWVBFXG4gICAgKTtcbiAgfSxcbiAgaXNCcm9hZGNhc3RUb0NvbnRlbnQoYWN0aW9uKSB7XG4gICAgaWYgKCFhY3Rpb24ubWV0YSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYWN0aW9uLm1ldGEudG8gPT09IENPTlRFTlRfTUVTU0FHRV9UWVBFICYmICFhY3Rpb24ubWV0YS50b1RhcmdldCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgaXNTZW5kVG9PbmVDb250ZW50KGFjdGlvbikge1xuICAgIGlmICghYWN0aW9uLm1ldGEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFjdGlvbi5tZXRhLnRvID09PSBDT05URU5UX01FU1NBR0VfVFlQRSAmJiBhY3Rpb24ubWV0YS50b1RhcmdldCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgaXNTZW5kVG9QcmVsb2FkZWQoYWN0aW9uKSB7XG4gICAgaWYgKCFhY3Rpb24ubWV0YSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgYWN0aW9uLm1ldGEudG8gPT09IFBSRUxPQURfTUVTU0FHRV9UWVBFICYmXG4gICAgICBhY3Rpb24ubWV0YS5mcm9tID09PSBNQUlOX01FU1NBR0VfVFlQRVxuICAgICk7XG4gIH0sXG4gIGlzRnJvbU1haW4oYWN0aW9uKSB7XG4gICAgaWYgKCFhY3Rpb24ubWV0YSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgYWN0aW9uLm1ldGEuZnJvbSA9PT0gTUFJTl9NRVNTQUdFX1RZUEUgJiZcbiAgICAgIGFjdGlvbi5tZXRhLnRvID09PSBDT05URU5UX01FU1NBR0VfVFlQRVxuICAgICk7XG4gIH0sXG4gIGdldFBvcnRJZE9mU2VuZGVyKGFjdGlvbikge1xuICAgIHJldHVybiAoYWN0aW9uLm1ldGEgJiYgYWN0aW9uLm1ldGEuZnJvbVRhcmdldCkgfHwgbnVsbDtcbiAgfSxcbiAgX1JvdXRlTWVzc2FnZSxcbn07XG5cbmNvbnN0IEVYUE9SVEVEX1NZTUJPTFMgPSBbXG4gIFwiYWN0aW9uVHlwZXNcIixcbiAgXCJhY3Rpb25DcmVhdG9yc1wiLFxuICBcImFjdGlvblV0aWxzXCIsXG4gIFwiZ2xvYmFsSW1wb3J0Q29udGV4dFwiLFxuICBcIlVJX0NPREVcIixcbiAgXCJCQUNLR1JPVU5EX1BST0NFU1NcIixcbiAgXCJNQUlOX01FU1NBR0VfVFlQRVwiLFxuICBcIkNPTlRFTlRfTUVTU0FHRV9UWVBFXCIsXG4gIFwiUFJFTE9BRF9NRVNTQUdFX1RZUEVcIixcbl07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBBU1JvdXRlckFkbWluIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQVNSb3V0ZXJBZG1pbi9BU1JvdXRlckFkbWluXCI7XG5pbXBvcnQgeyBBU1JvdXRlclVJU3VyZmFjZSB9IGZyb20gXCIuLi8uLi9hc3JvdXRlci9hc3JvdXRlci1jb250ZW50XCI7XG5pbXBvcnQgeyBDb25maXJtRGlhbG9nIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29uZmlybURpYWxvZy9Db25maXJtRGlhbG9nXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBEaXNjb3ZlcnlTdHJlYW1CYXNlIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQmFzZS9EaXNjb3ZlcnlTdHJlYW1CYXNlXCI7XG5pbXBvcnQgeyBFcnJvckJvdW5kYXJ5IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRXJyb3JCb3VuZGFyeS9FcnJvckJvdW5kYXJ5XCI7XG5pbXBvcnQgeyBDdXN0b21pemVNZW51IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ3VzdG9taXplTWVudS9DdXN0b21pemVNZW51XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTZWFyY2ggfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9TZWFyY2gvU2VhcmNoXCI7XG5pbXBvcnQgeyBTZWN0aW9ucyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL1NlY3Rpb25zL1NlY3Rpb25zXCI7XG5cbmV4cG9ydCBjb25zdCBQcmVmc0J1dHRvbiA9ICh7IG9uQ2xpY2ssIGljb24gfSkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cInByZWZzLWJ1dHRvblwiPlxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzTmFtZT17YGljb24gJHtpY29uIHx8IFwiaWNvbi1zZXR0aW5nc1wifWB9XG4gICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNldHRpbmdzLWJ1dHRvblwiXG4gICAgLz5cbiAgPC9kaXY+XG4pO1xuXG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24gd2lsbCBub3QgYmUgY29udGludW91c2x5IHRyaWdnZXJlZCB3aGVuIGNhbGxlZC4gVGhlXG4vLyBmdW5jdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBpZiBjYWxsZWQgYWdhaW4gYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy5cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQpIHtcbiAgbGV0IHRpbWVyO1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgd2FrZVVwID0gKCkgPT4ge1xuICAgICAgdGltZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICB0aW1lciA9IHNldFRpbWVvdXQod2FrZVVwLCB3YWl0KTtcbiAgICBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9O1xufVxuXG5leHBvcnQgY2xhc3MgX0Jhc2UgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG1lc3NhZ2U6IHt9LFxuICAgIH07XG4gICAgdGhpcy5ub3RpZnlDb250ZW50ID0gdGhpcy5ub3RpZnlDb250ZW50LmJpbmQodGhpcyk7XG4gIH1cblxuICBub3RpZnlDb250ZW50KHN0YXRlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnVwZGF0ZVRoZW1lKCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVXBkYXRlKCkge1xuICAgIHRoaXMudXBkYXRlVGhlbWUoKTtcbiAgfVxuXG4gIHVwZGF0ZVRoZW1lKCkge1xuICAgIGNvbnN0IGJvZHlDbGFzc05hbWUgPSBbXG4gICAgICBcImFjdGl2aXR5LXN0cmVhbVwiLFxuICAgICAgLy8gSWYgd2Ugc2tpcHBlZCB0aGUgYWJvdXQ6d2VsY29tZSBvdmVybGF5IGFuZCByZW1vdmVkIHRoZSBDU1MgY2xhc3Nlc1xuICAgICAgLy8gd2UgZG9uJ3Qgd2FudCB0byBhZGQgdGhlbSBiYWNrIHRvIHRoZSBBY3Rpdml0eSBTdHJlYW0gdmlld1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJpbmxpbmUtb25ib2FyZGluZ1wiKVxuICAgICAgICA/IFwiaW5saW5lLW9uYm9hcmRpbmdcIlxuICAgICAgICA6IFwiXCIsXG4gICAgXVxuICAgICAgLmZpbHRlcih2ID0+IHYpXG4gICAgICAuam9pbihcIiBcIik7XG4gICAgZ2xvYmFsLmRvY3VtZW50LmJvZHkuY2xhc3NOYW1lID0gYm9keUNsYXNzTmFtZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgQXBwIH0gPSBwcm9wcztcbiAgICBjb25zdCBpc0RldnRvb2xzRW5hYmxlZCA9IHByb3BzLlByZWZzLnZhbHVlc1tcImFzcm91dGVyLmRldnRvb2xzRW5hYmxlZFwiXTtcblxuICAgIGlmICghQXBwLmluaXRpYWxpemVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEVycm9yQm91bmRhcnkgY2xhc3NOYW1lPVwiYmFzZS1jb250ZW50LWZhbGxiYWNrXCI+XG4gICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICA8QmFzZUNvbnRlbnQgey4uLnRoaXMucHJvcHN9IGFkbWluQ29udGVudD17dGhpcy5zdGF0ZX0gLz5cbiAgICAgICAgICB7aXNEZXZ0b29sc0VuYWJsZWQgPyAoXG4gICAgICAgICAgICA8QVNSb3V0ZXJBZG1pbiBub3RpZnlDb250ZW50PXt0aGlzLm5vdGlmeUNvbnRlbnR9IC8+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICA8L0Vycm9yQm91bmRhcnk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmFzZUNvbnRlbnQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vcGVuUHJlZmVyZW5jZXMgPSB0aGlzLm9wZW5QcmVmZXJlbmNlcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub3BlbkN1c3RvbWl6YXRpb25NZW51ID0gdGhpcy5vcGVuQ3VzdG9taXphdGlvbk1lbnUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNsb3NlQ3VzdG9taXphdGlvbk1lbnUgPSB0aGlzLmNsb3NlQ3VzdG9taXphdGlvbk1lbnUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZU9uS2V5RG93biA9IHRoaXMuaGFuZGxlT25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbldpbmRvd1Njcm9sbCA9IGRlYm91bmNlKHRoaXMub25XaW5kb3dTY3JvbGwuYmluZCh0aGlzKSwgNSk7XG4gICAgdGhpcy5zZXRQcmVmID0gdGhpcy5zZXRQcmVmLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgZml4ZWRTZWFyY2g6IGZhbHNlLCBjdXN0b21pemVNZW51VmlzaWJsZTogZmFsc2UgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25XaW5kb3dTY3JvbGwpO1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZU9uS2V5RG93bik7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBnbG9iYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLm9uV2luZG93U2Nyb2xsKTtcbiAgICBnbG9iYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5oYW5kbGVPbktleURvd24pO1xuICB9XG5cbiAgb25XaW5kb3dTY3JvbGwoKSB7XG4gICAgY29uc3QgcHJlZnMgPSB0aGlzLnByb3BzLlByZWZzLnZhbHVlcztcbiAgICBjb25zdCBTQ1JPTExfVEhSRVNIT0xEID0gcHJlZnNbXCJsb2dvd29yZG1hcmsuYWx3YXlzVmlzaWJsZVwiXSA/IDE3OSA6IDM0O1xuICAgIGlmIChnbG9iYWwuc2Nyb2xsWSA+IFNDUk9MTF9USFJFU0hPTEQgJiYgIXRoaXMuc3RhdGUuZml4ZWRTZWFyY2gpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBmaXhlZFNlYXJjaDogdHJ1ZSB9KTtcbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5zY3JvbGxZIDw9IFNDUk9MTF9USFJFU0hPTEQgJiYgdGhpcy5zdGF0ZS5maXhlZFNlYXJjaCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZpeGVkU2VhcmNoOiBmYWxzZSB9KTtcbiAgICB9XG4gIH1cblxuICBvcGVuUHJlZmVyZW5jZXMoKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Pbmx5VG9NYWluKHsgdHlwZTogYXQuU0VUVElOR1NfT1BFTiB9KSk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Vc2VyRXZlbnQoeyBldmVudDogXCJPUEVOX05FV1RBQl9QUkVGU1wiIH0pKTtcbiAgfVxuXG4gIG9wZW5DdXN0b21pemF0aW9uTWVudSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgY3VzdG9taXplTWVudVZpc2libGU6IHRydWUgfSk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Vc2VyRXZlbnQoeyBldmVudDogXCJTSE9XX1BFUlNPTkFMSVpFXCIgfSkpO1xuICB9XG5cbiAgY2xvc2VDdXN0b21pemF0aW9uTWVudSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5jdXN0b21pemVNZW51VmlzaWJsZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGN1c3RvbWl6ZU1lbnVWaXNpYmxlOiBmYWxzZSB9KTtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuVXNlckV2ZW50KHsgZXZlbnQ6IFwiSElERV9QRVJTT05BTElaRVwiIH0pKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVPbktleURvd24oZSkge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZUN1c3RvbWl6YXRpb25NZW51KCk7XG4gICAgfVxuICB9XG5cbiAgc2V0UHJlZihwcmVmLCB2YWx1ZSkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuU2V0UHJlZihwcmVmLCB2YWx1ZSkpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBBcHAgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgaW5pdGlhbGl6ZWQgfSA9IEFwcDtcbiAgICBjb25zdCBwcmVmcyA9IHByb3BzLlByZWZzLnZhbHVlcztcblxuICAgIGNvbnN0IGlzRGlzY292ZXJ5U3RyZWFtID1cbiAgICAgIHByb3BzLkRpc2NvdmVyeVN0cmVhbS5jb25maWcgJiYgcHJvcHMuRGlzY292ZXJ5U3RyZWFtLmNvbmZpZy5lbmFibGVkO1xuICAgIGxldCBmaWx0ZXJlZFNlY3Rpb25zID0gcHJvcHMuU2VjdGlvbnMuZmlsdGVyKFxuICAgICAgc2VjdGlvbiA9PiBzZWN0aW9uLmlkICE9PSBcInRvcHN0b3JpZXNcIlxuICAgICk7XG5cbiAgICBjb25zdCBwb2NrZXRFbmFibGVkID1cbiAgICAgIHByZWZzW1wiZmVlZHMuc2VjdGlvbi50b3BzdG9yaWVzXCJdICYmIHByZWZzW1wiZmVlZHMuc3lzdGVtLnRvcHN0b3JpZXNcIl07XG4gICAgY29uc3Qgbm9TZWN0aW9uc0VuYWJsZWQgPVxuICAgICAgIXByZWZzW1wiZmVlZHMudG9wc2l0ZXNcIl0gJiZcbiAgICAgICFwb2NrZXRFbmFibGVkICYmXG4gICAgICBmaWx0ZXJlZFNlY3Rpb25zLmZpbHRlcihzZWN0aW9uID0+IHNlY3Rpb24uZW5hYmxlZCkubGVuZ3RoID09PSAwO1xuICAgIGNvbnN0IHNlYXJjaEhhbmRvZmZFbmFibGVkID0gcHJlZnNbXCJpbXByb3Zlc2VhcmNoLmhhbmRvZmZUb0F3ZXNvbWViYXJcIl07XG4gICAgY29uc3Qgc2hvd0N1c3RvbWl6YXRpb25NZW51ID0gdGhpcy5zdGF0ZS5jdXN0b21pemVNZW51VmlzaWJsZTtcbiAgICBjb25zdCBzaG93Q29sb3J3YXlDbG9zZXQgPSBwcmVmc1tcImNvbG9yd2F5LWNsb3NldC5lbmFibGVkXCJdO1xuICAgIGNvbnN0IGVuYWJsZWRTZWN0aW9ucyA9IHtcbiAgICAgIHRvcFNpdGVzRW5hYmxlZDogcHJlZnNbXCJmZWVkcy50b3BzaXRlc1wiXSxcbiAgICAgIHBvY2tldEVuYWJsZWQ6IHByZWZzW1wiZmVlZHMuc2VjdGlvbi50b3BzdG9yaWVzXCJdLFxuICAgICAgaGlnaGxpZ2h0c0VuYWJsZWQ6IHByZWZzW1wiZmVlZHMuc2VjdGlvbi5oaWdobGlnaHRzXCJdLFxuICAgICAgc2hvd1Nwb25zb3JlZFRvcFNpdGVzRW5hYmxlZDogcHJlZnMuc2hvd1Nwb25zb3JlZFRvcFNpdGVzLFxuICAgICAgc2hvd1Nwb25zb3JlZFBvY2tldEVuYWJsZWQ6IHByZWZzLnNob3dTcG9uc29yZWQsXG4gICAgICB0b3BTaXRlc1Jvd3NDb3VudDogcHJlZnMudG9wU2l0ZXNSb3dzLFxuICAgIH07XG4gICAgY29uc3QgcG9ja2V0UmVnaW9uID0gcHJlZnNbXCJmZWVkcy5zeXN0ZW0udG9wc3Rvcmllc1wiXTtcbiAgICBjb25zdCB7IG1heUhhdmVTcG9uc29yZWRUb3BTaXRlcyB9ID0gcHJlZnM7XG5cbiAgICBjb25zdCBvdXRlckNsYXNzTmFtZSA9IFtcbiAgICAgIFwib3V0ZXItd3JhcHBlclwiLFxuICAgICAgaXNEaXNjb3ZlcnlTdHJlYW0gJiYgcG9ja2V0RW5hYmxlZCAmJiBcImRzLW91dGVyLXdyYXBwZXItc2VhcmNoLWFsaWdubWVudFwiLFxuICAgICAgaXNEaXNjb3ZlcnlTdHJlYW0gJiYgXCJkcy1vdXRlci13cmFwcGVyLWJyZWFrcG9pbnQtb3ZlcnJpZGVcIixcbiAgICAgIHByZWZzLnNob3dTZWFyY2ggJiZcbiAgICAgICAgdGhpcy5zdGF0ZS5maXhlZFNlYXJjaCAmJlxuICAgICAgICAhbm9TZWN0aW9uc0VuYWJsZWQgJiZcbiAgICAgICAgXCJmaXhlZC1zZWFyY2hcIixcbiAgICAgIHByZWZzLnNob3dTZWFyY2ggJiYgbm9TZWN0aW9uc0VuYWJsZWQgJiYgXCJvbmx5LXNlYXJjaFwiLFxuICAgICAgcHJlZnNbXCJsb2dvd29yZG1hcmsuYWx3YXlzVmlzaWJsZVwiXSAmJiBcInZpc2libGUtbG9nb1wiLFxuICAgIF1cbiAgICAgIC5maWx0ZXIodiA9PiB2KVxuICAgICAgLmpvaW4oXCIgXCIpO1xuXG4gICAgY29uc3QgaGFzU25pcHBldCA9XG4gICAgICBwcmVmc1tcImZlZWRzLnNuaXBwZXRzXCJdICYmXG4gICAgICB0aGlzLnByb3BzLmFkbWluQ29udGVudCAmJlxuICAgICAgdGhpcy5wcm9wcy5hZG1pbkNvbnRlbnQubWVzc2FnZSAmJlxuICAgICAgdGhpcy5wcm9wcy5hZG1pbkNvbnRlbnQubWVzc2FnZS5pZDtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8Q3VzdG9taXplTWVudVxuICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VDdXN0b21pemF0aW9uTWVudX1cbiAgICAgICAgICBvbk9wZW49e3RoaXMub3BlbkN1c3RvbWl6YXRpb25NZW51fVxuICAgICAgICAgIG9wZW5QcmVmZXJlbmNlcz17dGhpcy5vcGVuUHJlZmVyZW5jZXN9XG4gICAgICAgICAgc2V0UHJlZj17dGhpcy5zZXRQcmVmfVxuICAgICAgICAgIGVuYWJsZWRTZWN0aW9ucz17ZW5hYmxlZFNlY3Rpb25zfVxuICAgICAgICAgIHBvY2tldFJlZ2lvbj17cG9ja2V0UmVnaW9ufVxuICAgICAgICAgIG1heUhhdmVTcG9uc29yZWRUb3BTaXRlcz17bWF5SGF2ZVNwb25zb3JlZFRvcFNpdGVzfVxuICAgICAgICAgIHNob3dpbmc9e3Nob3dDdXN0b21pemF0aW9uTWVudX1cbiAgICAgICAgICBzaG93Q29sb3J3YXlDbG9zZXQ9e3Nob3dDb2xvcndheUNsb3NldH1cbiAgICAgICAgLz5cbiAgICAgICAgey8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc3gtYTExeS9jbGljay1ldmVudHMtaGF2ZS1rZXktZXZlbnRzLCBqc3gtYTExeS9uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnMqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e291dGVyQ2xhc3NOYW1lfSBvbkNsaWNrPXt0aGlzLmNsb3NlQ3VzdG9taXphdGlvbk1lbnV9PlxuICAgICAgICAgIDxtYWluIGNsYXNzTmFtZT17aGFzU25pcHBldCA/IFwiaGFzLXNuaXBwZXRcIiA6IFwiXCJ9PlxuICAgICAgICAgICAge3ByZWZzLnNob3dTZWFyY2ggJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5vbi1jb2xsYXBzaWJsZS1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgPEVycm9yQm91bmRhcnk+XG4gICAgICAgICAgICAgICAgICA8U2VhcmNoXG4gICAgICAgICAgICAgICAgICAgIHNob3dMb2dvPXtcbiAgICAgICAgICAgICAgICAgICAgICBub1NlY3Rpb25zRW5hYmxlZCB8fCBwcmVmc1tcImxvZ293b3JkbWFyay5hbHdheXNWaXNpYmxlXCJdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaGFuZG9mZkVuYWJsZWQ9e3NlYXJjaEhhbmRvZmZFbmFibGVkfVxuICAgICAgICAgICAgICAgICAgICB7Li4ucHJvcHMuU2VhcmNofVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Vycm9yQm91bmRhcnk+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxBU1JvdXRlclVJU3VyZmFjZVxuICAgICAgICAgICAgICBhZG1pbkNvbnRlbnQ9e3RoaXMucHJvcHMuYWRtaW5Db250ZW50fVxuICAgICAgICAgICAgICBhcHBVcGRhdGVDaGFubmVsPXt0aGlzLnByb3BzLlByZWZzLnZhbHVlcy5hcHBVcGRhdGVDaGFubmVsfVxuICAgICAgICAgICAgICBmeGFFbmRwb2ludD17dGhpcy5wcm9wcy5QcmVmcy52YWx1ZXMuZnhhX2VuZHBvaW50fVxuICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGJvZHktd3JhcHBlciR7aW5pdGlhbGl6ZWQgPyBcIiBvblwiIDogXCJcIn1gfT5cbiAgICAgICAgICAgICAge2lzRGlzY292ZXJ5U3RyZWFtID8gKFxuICAgICAgICAgICAgICAgIDxFcnJvckJvdW5kYXJ5IGNsYXNzTmFtZT1cImJvcmRlcmxlc3MtZXJyb3JcIj5cbiAgICAgICAgICAgICAgICAgIDxEaXNjb3ZlcnlTdHJlYW1CYXNlIGxvY2FsZT17cHJvcHMuQXBwLmxvY2FsZX0gLz5cbiAgICAgICAgICAgICAgICA8L0Vycm9yQm91bmRhcnk+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPFNlY3Rpb25zIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxDb25maXJtRGlhbG9nIC8+XG4gICAgICAgICAgPC9tYWluPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IEJhc2UgPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIEFwcDogc3RhdGUuQXBwLFxuICBQcmVmczogc3RhdGUuUHJlZnMsXG4gIFNlY3Rpb25zOiBzdGF0ZS5TZWN0aW9ucyxcbiAgRGlzY292ZXJ5U3RyZWFtOiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0sXG4gIFNlYXJjaDogc3RhdGUuU2VhcmNoLFxufSkpKF9CYXNlKTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IEFTUm91dGVyVXRpbHMgfSBmcm9tIFwiLi4vLi4vYXNyb3V0ZXIvYXNyb3V0ZXItdXRpbHNcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNpbXBsZUhhc2hSb3V0ZXIgfSBmcm9tIFwiLi9TaW1wbGVIYXNoUm91dGVyXCI7XG5cbmNvbnN0IFJvdyA9IHByb3BzID0+IChcbiAgPHRyIGNsYXNzTmFtZT1cIm1lc3NhZ2UtaXRlbVwiIHsuLi5wcm9wc30+XG4gICAge3Byb3BzLmNoaWxkcmVufVxuICA8L3RyPlxuKTtcblxuZnVuY3Rpb24gcmVsYXRpdmVUaW1lKHRpbWVzdGFtcCkge1xuICBpZiAoIXRpbWVzdGFtcCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gdGltZXN0YW1wKSAvIDEwMDApO1xuICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIHRpbWVzdGFtcCkgLyA2MDAwMCk7XG4gIGlmIChzZWNvbmRzIDwgMikge1xuICAgIHJldHVybiBcImp1c3Qgbm93XCI7XG4gIH0gZWxzZSBpZiAoc2Vjb25kcyA8IDYwKSB7XG4gICAgcmV0dXJuIGAke3NlY29uZHN9IHNlY29uZHMgYWdvYDtcbiAgfSBlbHNlIGlmIChtaW51dGVzID09PSAxKSB7XG4gICAgcmV0dXJuIFwiMSBtaW51dGUgYWdvXCI7XG4gIH0gZWxzZSBpZiAobWludXRlcyA8IDYwMCkge1xuICAgIHJldHVybiBgJHttaW51dGVzfSBtaW51dGVzIGFnb2A7XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKHRpbWVzdGFtcCkudG9Mb2NhbGVTdHJpbmcoKTtcbn1cblxuY29uc3QgTEFZT1VUX1ZBUklBTlRTID0ge1xuICBiYXNpYzogXCJCYXNpYyBkZWZhdWx0IGxheW91dCAob24gYnkgZGVmYXVsdCBpbiBuaWdodGx5KVwiLFxuICBzdGFnaW5nX3Nwb2NzOiBcIkEgbGF5b3V0IHdpdGggYWxsIHNwb2NzIHNob3duXCIsXG4gIFwiZGV2LXRlc3QtYWxsXCI6XG4gICAgXCJBIGxpdHRsZSBiaXQgb2YgZXZlcnl0aGluZy4gR29vZCBsYXlvdXQgZm9yIHRlc3RpbmcgYWxsIGNvbXBvbmVudHNcIixcbiAgXCJkZXYtdGVzdC1mZWVkc1wiOiBcIlN0cmVzcyB0ZXN0aW5nIGZvciBzbG93IGZlZWRzXCIsXG59O1xuXG5leHBvcnQgY2xhc3MgVG9nZ2xlU3RvcnlCdXR0b24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5oYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIGhhbmRsZUNsaWNrKCkge1xuICAgIHRoaXMucHJvcHMub25DbGljayh0aGlzLnByb3BzLnN0b3J5KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT5jb2xsYXBzZS9vcGVuPC9idXR0b24+O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUb2dnbGVNZXNzYWdlSlNPTiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgdGhpcy5wcm9wcy50b2dnbGVKU09OKHRoaXMucHJvcHMubXNnSWQpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBpY29uTmFtZSA9IHRoaXMucHJvcHMuaXNDb2xsYXBzZWRcbiAgICAgID8gXCJpY29uIGljb24tYXJyb3doZWFkLWZvcndhcmQtc21hbGxcIlxuICAgICAgOiBcImljb24gaWNvbi1hcnJvd2hlYWQtZG93bi1zbWFsbFwiO1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNsZWFyQnV0dG9uXCIgb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17aWNvbk5hbWV9IC8+XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUb2dnbGVQcmVmQ2hlY2tib3ggZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnByb3BzLnByZWYsIGV2ZW50LnRhcmdldC5jaGVja2VkKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICBjaGVja2VkPXt0aGlzLnByb3BzLmNoZWNrZWR9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIC8+e1wiIFwifVxuICAgICAgICB7dGhpcy5wcm9wcy5wcmVmfXtcIiBcIn1cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBlcnNvbmFsaXphdGlvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnRvZ2dsZVBlcnNvbmFsaXphdGlvbiA9IHRoaXMudG9nZ2xlUGVyc29uYWxpemF0aW9uLmJpbmQodGhpcyk7XG4gIH1cblxuICB0b2dnbGVQZXJzb25hbGl6YXRpb24oKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5ESVNDT1ZFUllfU1RSRUFNX1BFUlNPTkFMSVpBVElPTl9UT0dHTEUsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBsYXN0VXBkYXRlZCwgaW5pdGlhbGl6ZWQgfSA9IHRoaXMucHJvcHMuc3RhdGUuUGVyc29uYWxpemF0aW9uO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDx0YWJsZT5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgICA8dGQgY29sU3Bhbj1cIjJcIj5cbiAgICAgICAgICAgICAgICA8VG9nZ2xlUHJlZkNoZWNrYm94XG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnByb3BzLnBlcnNvbmFsaXplZH1cbiAgICAgICAgICAgICAgICAgIHByZWY9XCJwZXJzb25hbGl6ZWRcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMudG9nZ2xlUGVyc29uYWxpemF0aW9ufVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5QZXJzb25hbGl6YXRpb24gTGFzdCBVcGRhdGVkPC90ZD5cbiAgICAgICAgICAgICAgPHRkPntyZWxhdGl2ZVRpbWUobGFzdFVwZGF0ZWQpIHx8IFwiKG5vIGRhdGEpXCJ9PC90ZD5cbiAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPlBlcnNvbmFsaXphdGlvbiBJbml0aWFsaXplZDwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD57aW5pdGlhbGl6ZWQgPyBcInRydWVcIiA6IFwiZmFsc2VcIn08L3RkPlxuICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGlzY292ZXJ5U3RyZWFtQWRtaW4gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5yZXN0b3JlUHJlZkRlZmF1bHRzID0gdGhpcy5yZXN0b3JlUHJlZkRlZmF1bHRzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZXRDb25maWdWYWx1ZSA9IHRoaXMuc2V0Q29uZmlnVmFsdWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmV4cGlyZUNhY2hlID0gdGhpcy5leHBpcmVDYWNoZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVmcmVzaENhY2hlID0gdGhpcy5yZWZyZXNoQ2FjaGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmlkbGVEYWlseSA9IHRoaXMuaWRsZURhaWx5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5zeXN0ZW1UaWNrID0gdGhpcy5zeXN0ZW1UaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zeW5jUmVtb3RlU2V0dGluZ3MgPSB0aGlzLnN5bmNSZW1vdGVTZXR0aW5ncy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2hhbmdlRW5kcG9pbnRWYXJpYW50ID0gdGhpcy5jaGFuZ2VFbmRwb2ludFZhcmlhbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU3RvcnlUb2dnbGUgPSB0aGlzLm9uU3RvcnlUb2dnbGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdG9nZ2xlZFN0b3JpZXM6IHt9LFxuICAgIH07XG4gIH1cblxuICBzZXRDb25maWdWYWx1ZShuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfU0VUX1ZBTFVFLFxuICAgICAgICBkYXRhOiB7IG5hbWUsIHZhbHVlIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICByZXN0b3JlUHJlZkRlZmF1bHRzKGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5ESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19SRVNFVF9ERUZBVUxUUyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJlZnJlc2hDYWNoZSgpIHtcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5ESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19DSEFOR0UsXG4gICAgICAgIGRhdGE6IGNvbmZpZyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGRpc3BhdGNoU2ltcGxlQWN0aW9uKHR5cGUpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGUsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBzeXN0ZW1UaWNrKCkge1xuICAgIHRoaXMuZGlzcGF0Y2hTaW1wbGVBY3Rpb24oYXQuRElTQ09WRVJZX1NUUkVBTV9ERVZfU1lTVEVNX1RJQ0spO1xuICB9XG5cbiAgZXhwaXJlQ2FjaGUoKSB7XG4gICAgdGhpcy5kaXNwYXRjaFNpbXBsZUFjdGlvbihhdC5ESVNDT1ZFUllfU1RSRUFNX0RFVl9FWFBJUkVfQ0FDSEUpO1xuICB9XG5cbiAgaWRsZURhaWx5KCkge1xuICAgIHRoaXMuZGlzcGF0Y2hTaW1wbGVBY3Rpb24oYXQuRElTQ09WRVJZX1NUUkVBTV9ERVZfSURMRV9EQUlMWSk7XG4gIH1cblxuICBzeW5jUmVtb3RlU2V0dGluZ3MoKSB7XG4gICAgdGhpcy5kaXNwYXRjaFNpbXBsZUFjdGlvbihhdC5ESVNDT1ZFUllfU1RSRUFNX0RFVl9TWU5DX1JTKTtcbiAgfVxuXG4gIGNoYW5nZUVuZHBvaW50VmFyaWFudChldmVudCkge1xuICAgIGNvbnN0IGVuZHBvaW50ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW0uY29uZmlnLmxheW91dF9lbmRwb2ludDtcbiAgICBpZiAoZW5kcG9pbnQpIHtcbiAgICAgIHRoaXMuc2V0Q29uZmlnVmFsdWUoXG4gICAgICAgIFwibGF5b3V0X2VuZHBvaW50XCIsXG4gICAgICAgIGVuZHBvaW50LnJlcGxhY2UoXG4gICAgICAgICAgL2xheW91dF92YXJpYW50PS4rLyxcbiAgICAgICAgICBgbGF5b3V0X3ZhcmlhbnQ9JHtldmVudC50YXJnZXQudmFsdWV9YFxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckNvbXBvbmVudCh3aWR0aCwgY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx0YWJsZT5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+VHlwZTwvdGQ+XG4gICAgICAgICAgICA8dGQ+e2NvbXBvbmVudC50eXBlfTwvdGQ+XG4gICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5XaWR0aDwvdGQ+XG4gICAgICAgICAgICA8dGQ+e3dpZHRofTwvdGQ+XG4gICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAge2NvbXBvbmVudC5mZWVkICYmIHRoaXMucmVuZGVyRmVlZChjb21wb25lbnQuZmVlZCl9XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuICAgICk7XG4gIH1cblxuICBpc0N1cnJlbnRWYXJpYW50KGlkKSB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSB0aGlzLnByb3BzLnN0YXRlLkRpc2NvdmVyeVN0cmVhbS5jb25maWcubGF5b3V0X2VuZHBvaW50O1xuICAgIGNvbnN0IGlzTWF0Y2ggPSBlbmRwb2ludCAmJiAhIWVuZHBvaW50Lm1hdGNoKGBsYXlvdXRfdmFyaWFudD0ke2lkfWApO1xuICAgIHJldHVybiBpc01hdGNoO1xuICB9XG5cbiAgcmVuZGVyRmVlZERhdGEodXJsKSB7XG4gICAgY29uc3QgeyBmZWVkcyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgY29uc3QgZmVlZCA9IGZlZWRzLmRhdGFbdXJsXS5kYXRhO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxoND5GZWVkIHVybDoge3VybH08L2g0PlxuICAgICAgICA8dGFibGU+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAge2ZlZWQucmVjb21tZW5kYXRpb25zLm1hcChzdG9yeSA9PiB0aGlzLnJlbmRlclN0b3J5RGF0YShzdG9yeSkpfVxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJGZWVkc0RhdGEoKSB7XG4gICAgY29uc3QgeyBmZWVkcyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAge09iamVjdC5rZXlzKGZlZWRzLmRhdGEpLm1hcCh1cmwgPT4gdGhpcy5yZW5kZXJGZWVkRGF0YSh1cmwpKX1cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclNwb2NzKCkge1xuICAgIGNvbnN0IHsgc3BvY3MgfSA9IHRoaXMucHJvcHMuc3RhdGUuRGlzY292ZXJ5U3RyZWFtO1xuICAgIGxldCBzcG9jc0RhdGEgPSBbXTtcbiAgICBpZiAoc3BvY3MuZGF0YSAmJiBzcG9jcy5kYXRhLnNwb2NzICYmIHNwb2NzLmRhdGEuc3BvY3MuaXRlbXMpIHtcbiAgICAgIHNwb2NzRGF0YSA9IHNwb2NzLmRhdGEuc3BvY3MuaXRlbXMgfHwgW107XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5zcG9jc19lbmRwb2ludDwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD57c3BvY3Muc3BvY3NfZW5kcG9pbnR9PC90ZD5cbiAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkRhdGEgbGFzdCBmZXRjaGVkPC90ZD5cbiAgICAgICAgICAgICAgPHRkPntyZWxhdGl2ZVRpbWUoc3BvY3MubGFzdFVwZGF0ZWQpfTwvdGQ+XG4gICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8aDQ+U3BvYyBkYXRhPC9oND5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT57c3BvY3NEYXRhLm1hcChzcG9jID0+IHRoaXMucmVuZGVyU3RvcnlEYXRhKHNwb2MpKX08L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8aDQ+U3BvYyBmcmVxdWVuY3kgY2FwczwvaDQ+XG4gICAgICAgIDx0YWJsZT5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICB7c3BvY3MuZnJlcXVlbmN5X2NhcHMubWFwKHNwb2MgPT4gdGhpcy5yZW5kZXJTdG9yeURhdGEoc3BvYykpfVxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cblxuICBvblN0b3J5VG9nZ2xlKHN0b3J5KSB7XG4gICAgY29uc3QgeyB0b2dnbGVkU3RvcmllcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHRvZ2dsZWRTdG9yaWVzOiB7XG4gICAgICAgIC4uLnRvZ2dsZWRTdG9yaWVzLFxuICAgICAgICBbc3RvcnkuaWRdOiAhdG9nZ2xlZFN0b3JpZXNbc3RvcnkuaWRdLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlclN0b3J5RGF0YShzdG9yeSkge1xuICAgIGxldCBzdG9yeURhdGEgPSBcIlwiO1xuICAgIGlmICh0aGlzLnN0YXRlLnRvZ2dsZWRTdG9yaWVzW3N0b3J5LmlkXSkge1xuICAgICAgc3RvcnlEYXRhID0gSlNPTi5zdHJpbmdpZnkoc3RvcnksIG51bGwsIDIpO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPHRyIGNsYXNzTmFtZT1cIm1lc3NhZ2UtaXRlbVwiIGtleT17c3RvcnkuaWR9PlxuICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWVzc2FnZS1pZFwiPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAge3N0b3J5LmlkfSA8YnIgLz5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPFRvZ2dsZVN0b3J5QnV0dG9uIHN0b3J5PXtzdG9yeX0gb25DbGljaz17dGhpcy5vblN0b3J5VG9nZ2xlfSAvPlxuICAgICAgICA8L3RkPlxuICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWVzc2FnZS1zdW1tYXJ5XCI+XG4gICAgICAgICAgPHByZT57c3RvcnlEYXRhfTwvcHJlPlxuICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyRmVlZChmZWVkKSB7XG4gICAgY29uc3QgeyBmZWVkcyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgaWYgKCFmZWVkLnVybCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxSb3c+XG4gICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkZlZWQgdXJsPC90ZD5cbiAgICAgICAgICA8dGQ+e2ZlZWQudXJsfTwvdGQ+XG4gICAgICAgIDwvUm93PlxuICAgICAgICA8Um93PlxuICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5EYXRhIGxhc3QgZmV0Y2hlZDwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAge3JlbGF0aXZlVGltZShcbiAgICAgICAgICAgICAgZmVlZHMuZGF0YVtmZWVkLnVybF0gPyBmZWVkcy5kYXRhW2ZlZWQudXJsXS5sYXN0VXBkYXRlZCA6IG51bGxcbiAgICAgICAgICAgICkgfHwgXCIobm8gZGF0YSlcIn1cbiAgICAgICAgICA8L3RkPlxuICAgICAgICA8L1Jvdz5cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBwcmVmVG9nZ2xlcyA9IFwiZW5hYmxlZCBoYXJkY29kZWRfbGF5b3V0IHNob3dfc3BvY3MgY29sbGFwc2libGVcIi5zcGxpdChcbiAgICAgIFwiIFwiXG4gICAgKTtcbiAgICBjb25zdCB7IGNvbmZpZywgbGFzdFVwZGF0ZWQsIGxheW91dCB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgY29uc3QgcGVyc29uYWxpemVkID0gdGhpcy5wcm9wcy5vdGhlclByZWZzW1xuICAgICAgXCJkaXNjb3ZlcnlzdHJlYW0ucGVyc29uYWxpemF0aW9uLmVuYWJsZWRcIlxuICAgIF07XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5yZXN0b3JlUHJlZkRlZmF1bHRzfT5cbiAgICAgICAgICBSZXN0b3JlIFByZWYgRGVmYXVsdHNcbiAgICAgICAgPC9idXR0b24+e1wiIFwifVxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMucmVmcmVzaENhY2hlfT5cbiAgICAgICAgICBSZWZyZXNoIENhY2hlXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnIgLz5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLmV4cGlyZUNhY2hlfT5cbiAgICAgICAgICBFeHBpcmUgQ2FjaGVcbiAgICAgICAgPC9idXR0b24+e1wiIFwifVxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuc3lzdGVtVGlja30+XG4gICAgICAgICAgVHJpZ2dlciBTeXN0ZW0gVGlja1xuICAgICAgICA8L2J1dHRvbj57XCIgXCJ9XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5pZGxlRGFpbHl9PlxuICAgICAgICAgIFRyaWdnZXIgSWRsZSBEYWlseVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJyIC8+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5zeW5jUmVtb3RlU2V0dGluZ3N9PlxuICAgICAgICAgIFN5bmMgUmVtb3RlIFNldHRpbmdzXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8dGFibGU+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAge3ByZWZUb2dnbGVzLm1hcChwcmVmID0+IChcbiAgICAgICAgICAgICAgPFJvdyBrZXk9e3ByZWZ9PlxuICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgIDxUb2dnbGVQcmVmQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y29uZmlnW3ByZWZdfVxuICAgICAgICAgICAgICAgICAgICBwcmVmPXtwcmVmfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5zZXRDb25maWdWYWx1ZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8aDM+RW5kcG9pbnQgdmFyaWFudDwvaDM+XG4gICAgICAgIDxwPlxuICAgICAgICAgIFlvdSBjYW4gYWxzbyBjaGFuZ2UgdGhpcyBtYW51YWxseSBieSBjaGFuZ2luZyB0aGlzIHByZWY6e1wiIFwifVxuICAgICAgICAgIDxjb2RlPmJyb3dzZXIubmV3dGFicGFnZS5hY3Rpdml0eS1zdHJlYW0uZGlzY292ZXJ5c3RyZWFtLmNvbmZpZzwvY29kZT5cbiAgICAgICAgPC9wPlxuICAgICAgICA8dGFibGVcbiAgICAgICAgICBzdHlsZT17XG4gICAgICAgICAgICBjb25maWcuZW5hYmxlZCAmJiAhY29uZmlnLmhhcmRjb2RlZF9sYXlvdXQgPyBudWxsIDogeyBvcGFjaXR5OiAwLjUgfVxuICAgICAgICAgIH1cbiAgICAgICAgPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIHtPYmplY3Qua2V5cyhMQVlPVVRfVkFSSUFOVFMpLm1hcChpZCA9PiAoXG4gICAgICAgICAgICAgIDxSb3cga2V5PXtpZH0+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtpZH1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5pc0N1cnJlbnRWYXJpYW50KGlkKX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuY2hhbmdlRW5kcG9pbnRWYXJpYW50fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj57aWR9PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+e0xBWU9VVF9WQVJJQU5UU1tpZF19PC90ZD5cbiAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8aDM+Q2FjaGluZyBpbmZvPC9oMz5cbiAgICAgICAgPHRhYmxlIHN0eWxlPXtjb25maWcuZW5hYmxlZCA/IG51bGwgOiB7IG9wYWNpdHk6IDAuNSB9fT5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+RGF0YSBsYXN0IGZldGNoZWQ8L3RkPlxuICAgICAgICAgICAgICA8dGQ+e3JlbGF0aXZlVGltZShsYXN0VXBkYXRlZCkgfHwgXCIobm8gZGF0YSlcIn08L3RkPlxuICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgICAgPGgzPkxheW91dDwvaDM+XG4gICAgICAgIHtsYXlvdXQubWFwKChyb3csIHJvd0luZGV4KSA9PiAoXG4gICAgICAgICAgPGRpdiBrZXk9e2Byb3ctJHtyb3dJbmRleH1gfT5cbiAgICAgICAgICAgIHtyb3cuY29tcG9uZW50cy5tYXAoKGNvbXBvbmVudCwgY29tcG9uZW50SW5kZXgpID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2Bjb21wb25lbnQtJHtjb21wb25lbnRJbmRleH1gfSBjbGFzc05hbWU9XCJkcy1jb21wb25lbnRcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJDb21wb25lbnQocm93LndpZHRoLCBjb21wb25lbnQpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgICAgPGgzPlBlcnNvbmFsaXphdGlvbjwvaDM+XG4gICAgICAgIDxQZXJzb25hbGl6YXRpb25cbiAgICAgICAgICBwZXJzb25hbGl6ZWQ9e3BlcnNvbmFsaXplZH1cbiAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICBzdGF0ZT17e1xuICAgICAgICAgICAgUGVyc29uYWxpemF0aW9uOiB0aGlzLnByb3BzLnN0YXRlLlBlcnNvbmFsaXphdGlvbixcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgICA8aDM+U3BvY3M8L2gzPlxuICAgICAgICB7dGhpcy5yZW5kZXJTcG9jcygpfVxuICAgICAgICA8aDM+RmVlZHMgRGF0YTwvaDM+XG4gICAgICAgIHt0aGlzLnJlbmRlckZlZWRzRGF0YSgpfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQVNSb3V0ZXJBZG1pbklubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuaGFuZGxlRW5hYmxlZFRvZ2dsZSA9IHRoaXMuaGFuZGxlRW5hYmxlZFRvZ2dsZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlVXNlclByZWZUb2dnbGUgPSB0aGlzLmhhbmRsZVVzZXJQcmVmVG9nZ2xlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNoYW5nZU1lc3NhZ2VGaWx0ZXIgPSB0aGlzLm9uQ2hhbmdlTWVzc2FnZUZpbHRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DaGFuZ2VNZXNzYWdlR3JvdXBzRmlsdGVyID0gdGhpcy5vbkNoYW5nZU1lc3NhZ2VHcm91cHNGaWx0ZXIuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICAgIHRoaXMudW5ibG9ja0FsbCA9IHRoaXMudW5ibG9ja0FsbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlQ2xlYXJBbGxJbXByZXNzaW9uc0J5UHJvdmlkZXIgPSB0aGlzLmhhbmRsZUNsZWFyQWxsSW1wcmVzc2lvbnNCeVByb3ZpZGVyLmJpbmQoXG4gICAgICB0aGlzXG4gICAgKTtcbiAgICB0aGlzLmhhbmRsZUV4cHJlc3Npb25FdmFsID0gdGhpcy5oYW5kbGVFeHByZXNzaW9uRXZhbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DaGFuZ2VUYXJnZXRpbmdQYXJhbWV0ZXJzID0gdGhpcy5vbkNoYW5nZVRhcmdldGluZ1BhcmFtZXRlcnMuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICAgIHRoaXMub25DaGFuZ2VBdHRyaWJ1dGlvblBhcmFtZXRlcnMgPSB0aGlzLm9uQ2hhbmdlQXR0cmlidXRpb25QYXJhbWV0ZXJzLmJpbmQoXG4gICAgICB0aGlzXG4gICAgKTtcbiAgICB0aGlzLnNldEF0dHJpYnV0aW9uID0gdGhpcy5zZXRBdHRyaWJ1dGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Db3B5VGFyZ2V0aW5nUGFyYW1zID0gdGhpcy5vbkNvcHlUYXJnZXRpbmdQYXJhbXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTmV3VGFyZ2V0aW5nUGFyYW1zID0gdGhpcy5vbk5ld1RhcmdldGluZ1BhcmFtcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlVXBkYXRlV05NZXNzYWdlcyA9IHRoaXMuaGFuZGxlVXBkYXRlV05NZXNzYWdlcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlRm9yY2VXTlAgPSB0aGlzLmhhbmRsZUZvcmNlV05QLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVDbG9zZVdOUCA9IHRoaXMuaGFuZGxlQ2xvc2VXTlAuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlc2V0UGFuZWwgPSB0aGlzLnJlc2V0UGFuZWwuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlc3RvcmVXTk1lc3NhZ2VTdGF0ZSA9IHRoaXMucmVzdG9yZVdOTWVzc2FnZVN0YXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy50b2dnbGVKU09OID0gdGhpcy50b2dnbGVKU09OLmJpbmQodGhpcyk7XG4gICAgdGhpcy50b2dnbGVBbGxNZXNzYWdlcyA9IHRoaXMudG9nZ2xlQWxsTWVzc2FnZXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlc2V0R3JvdXBzID0gdGhpcy5yZXNldEdyb3Vwcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZXNzYWdlRnJvbVBhcmVudCA9IHRoaXMub25NZXNzYWdlRnJvbVBhcmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2V0U3RhdGVGcm9tUGFyZW50ID0gdGhpcy5zZXRTdGF0ZUZyb21QYXJlbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNldFN0YXRlID0gdGhpcy5zZXRTdGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBtZXNzYWdlRmlsdGVyOiBcImFsbFwiLFxuICAgICAgbWVzc2FnZUdyb3Vwc0ZpbHRlcjogXCJhbGxcIixcbiAgICAgIFdOTWVzc2FnZXM6IFtdLFxuICAgICAgY29sbGFwc2VkTWVzc2FnZXM6IFtdLFxuICAgICAgbW9kaWZpZWRNZXNzYWdlczogW10sXG4gICAgICBldmFsdWF0aW9uU3RhdHVzOiB7fSxcbiAgICAgIHN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnM6IG51bGwsXG4gICAgICBuZXdTdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzOiBudWxsLFxuICAgICAgY29waWVkVG9DbGlwYm9hcmQ6IGZhbHNlLFxuICAgICAgYXR0cmlidXRpb25QYXJhbWV0ZXJzOiB7XG4gICAgICAgIHNvdXJjZTogXCJhZGRvbnMubW96aWxsYS5vcmdcIixcbiAgICAgICAgbWVkaXVtOiBcInJlZmVycmFsXCIsXG4gICAgICAgIGNhbXBhaWduOiBcIm5vbi1meC1idXR0b25cIixcbiAgICAgICAgY29udGVudDogYHJ0YToke2J0b2EoXCJ1QmxvY2swQHJheW1vbmRoaWxsLm5ldFwiKX1gLFxuICAgICAgICBleHBlcmltZW50OiBcInVhLW9uYm9hcmRpbmdcIixcbiAgICAgICAgdmFyaWF0aW9uOiBcImNocm9tZVwiLFxuICAgICAgICB1YTogXCJHb29nbGUgQ2hyb21lIDEyM1wiLFxuICAgICAgICBkbHRva2VuOiBcIjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMFwiLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgb25NZXNzYWdlRnJvbVBhcmVudCh7IHR5cGUsIGRhdGEgfSkge1xuICAgIC8vIFRoZXNlIG9ubHkgZXhpc3RzIGR1ZSB0byBvblByZWZDaGFuZ2UgZXZlbnRzIGluIEFTUm91dGVyXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiVXBkYXRlQWRtaW5TdGF0ZVwiOiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGVGcm9tUGFyZW50KGRhdGEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRTdGF0ZUZyb21QYXJlbnQoZGF0YSkge1xuICAgIHRoaXMuc2V0U3RhdGUoZGF0YSk7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMpIHtcbiAgICAgIGNvbnN0IHN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMgPSB7fTtcbiAgICAgIGZvciAoY29uc3QgcGFyYW0gb2YgT2JqZWN0LmtleXMoZGF0YS50YXJnZXRpbmdQYXJhbWV0ZXJzKSkge1xuICAgICAgICBzdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzW3BhcmFtXSA9IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgIGRhdGEudGFyZ2V0aW5nUGFyYW1ldGVyc1twYXJhbV0sXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHsgc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVycyB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgQVNSb3V0ZXJVdGlscy5hZGRMaXN0ZW5lcih0aGlzLm9uTWVzc2FnZUZyb21QYXJlbnQpO1xuICAgIGNvbnN0IGVuZHBvaW50ID0gQVNSb3V0ZXJVdGlscy5nZXRQcmV2aWV3RW5kcG9pbnQoKTtcbiAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IFwiQURNSU5fQ09OTkVDVF9TVEFURVwiLFxuICAgICAgZGF0YTogeyBlbmRwb2ludCB9LFxuICAgIH0pLnRoZW4odGhpcy5zZXRTdGF0ZUZyb21QYXJlbnQpO1xuICB9XG5cbiAgaGFuZGxlQmxvY2sobXNnKSB7XG4gICAgcmV0dXJuICgpID0+IEFTUm91dGVyVXRpbHMuYmxvY2tCeUlkKG1zZy5pZCk7XG4gIH1cblxuICBoYW5kbGVVbmJsb2NrKG1zZykge1xuICAgIHJldHVybiAoKSA9PiBBU1JvdXRlclV0aWxzLnVuYmxvY2tCeUlkKG1zZy5pZCk7XG4gIH1cblxuICByZXNldEpTT04obXNnKSB7XG4gICAgLy8gcmVzZXQgdGhlIGRpc3BsYXllZCBKU09OIGZvciB0aGUgZ2l2ZW4gbWVzc2FnZVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke21zZy5pZH0tdGV4dGFyZWFgKS52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KFxuICAgICAgbXNnLFxuICAgICAgbnVsbCxcbiAgICAgIDJcbiAgICApO1xuICAgIC8vIHJlbW92ZSB0aGUgbWVzc2FnZSBmcm9tIHRoZSBsaXN0IG9mIG1vZGlmaWVkIElEc1xuICAgIGxldCBpbmRleCA9IHRoaXMuc3RhdGUubW9kaWZpZWRNZXNzYWdlcy5pbmRleE9mKG1zZy5pZCk7XG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcbiAgICAgIG1vZGlmaWVkTWVzc2FnZXM6IFtcbiAgICAgICAgLi4ucHJldlN0YXRlLm1vZGlmaWVkTWVzc2FnZXMuc2xpY2UoMCwgaW5kZXgpLFxuICAgICAgICAuLi5wcmV2U3RhdGUubW9kaWZpZWRNZXNzYWdlcy5zbGljZShpbmRleCArIDEpLFxuICAgICAgXSxcbiAgICB9KSk7XG4gIH1cblxuICByZXNldEFsbEpTT04oKSB7XG4gICAgbGV0IG1lc3NhZ2VDaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG5cbiAgICBmb3IgKGNvbnN0IGNoZWNrYm94IG9mIG1lc3NhZ2VDaGVja2JveGVzKSB7XG4gICAgICBsZXQgdHJpbW1lZElkID0gY2hlY2tib3guaWQucmVwbGFjZShcIiBjaGVja2JveFwiLCBcIlwiKTtcblxuICAgICAgbGV0IG1lc3NhZ2UgPSB0aGlzLnN0YXRlLm1lc3NhZ2VzLmZpbHRlcihtc2cgPT4gbXNnLmlkID09PSB0cmltbWVkSWQpO1xuICAgICAgbGV0IG1zZ0lkID0gbWVzc2FnZVswXS5pZDtcblxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7bXNnSWR9LXRleHRhcmVhYCkudmFsdWUgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgbWVzc2FnZVswXSxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgMlxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBXTk1lc3NhZ2VzOiBbXSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0UGFuZWwoKSB7XG4gICAgdGhpcy5yZXNldEFsbEpTT04oKTtcbiAgICB0aGlzLmhhbmRsZUNsb3NlV05QKCk7XG4gIH1cblxuICBoYW5kbGVPdmVycmlkZShpZCkge1xuICAgIHJldHVybiAoKSA9PlxuICAgICAgQVNSb3V0ZXJVdGlscy5vdmVycmlkZU1lc3NhZ2UoaWQpLnRoZW4oc3RhdGUgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlRnJvbVBhcmVudChzdGF0ZSk7XG4gICAgICAgIHRoaXMucHJvcHMubm90aWZ5Q29udGVudCh7XG4gICAgICAgICAgbWVzc2FnZTogc3RhdGUubWVzc2FnZSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGhhbmRsZVVwZGF0ZVdOTWVzc2FnZXMoKSB7XG4gICAgYXdhaXQgdGhpcy5yZXN0b3JlV05NZXNzYWdlU3RhdGUoKTtcbiAgICBsZXQgbWVzc2FnZXMgPSB0aGlzLnN0YXRlLldOTWVzc2FnZXM7XG5cbiAgICBmb3IgKGNvbnN0IG1zZyBvZiBtZXNzYWdlcykge1xuICAgICAgQVNSb3V0ZXJVdGlscy5tb2RpZnlNZXNzYWdlSnNvbihKU09OLnBhcnNlKG1zZykpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUZvcmNlV05QKCkge1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2UoeyB0eXBlOiBcIkZPUkNFX1dIQVRTTkVXX1BBTkVMXCIgfSk7XG4gIH1cblxuICBoYW5kbGVDbG9zZVdOUCgpIHtcbiAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHsgdHlwZTogXCJDTE9TRV9XSEFUU05FV19QQU5FTFwiIH0pO1xuICB9XG5cbiAgZXhwaXJlQ2FjaGUoKSB7XG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7IHR5cGU6IFwiRVhQSVJFX1FVRVJZX0NBQ0hFXCIgfSk7XG4gIH1cblxuICByZXNldFByZWYoKSB7XG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7IHR5cGU6IFwiUkVTRVRfUFJPVklERVJfUFJFRlwiIH0pO1xuICB9XG5cbiAgcmVzZXRHcm91cHMoaWQsIHZhbHVlKSB7XG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIlJFU0VUX0dST1VQU19TVEFURVwiLFxuICAgIH0pLnRoZW4odGhpcy5zZXRTdGF0ZUZyb21QYXJlbnQpO1xuICB9XG5cbiAgaGFuZGxlRXhwcmVzc2lvbkV2YWwoKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHt9O1xuICAgIGZvciAoY29uc3QgcGFyYW0gb2YgT2JqZWN0LmtleXModGhpcy5zdGF0ZS5zdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzKSkge1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnN0YXRlLnN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnNbcGFyYW1dO1xuICAgICAgY29udGV4dFtwYXJhbV0gPSB2YWx1ZSA/IEpTT04ucGFyc2UodmFsdWUpIDogbnVsbDtcbiAgICB9XG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIkVWQUxVQVRFX0pFWExfRVhQUkVTU0lPTlwiLFxuICAgICAgZGF0YToge1xuICAgICAgICBleHByZXNzaW9uOiB0aGlzLnJlZnMuZXhwcmVzc2lvbklucHV0LnZhbHVlLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgfSxcbiAgICB9KS50aGVuKHRoaXMuc2V0U3RhdGVGcm9tUGFyZW50KTtcbiAgfVxuXG4gIG9uQ2hhbmdlVGFyZ2V0aW5nUGFyYW1ldGVycyhldmVudCkge1xuICAgIGNvbnN0IHsgbmFtZSB9ID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IHsgdmFsdWUgfSA9IGV2ZW50LnRhcmdldDtcblxuICAgIHRoaXMuc2V0U3RhdGUoKHsgc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVycyB9KSA9PiB7XG4gICAgICBsZXQgdGFyZ2V0aW5nUGFyYW1ldGVyc0Vycm9yID0gbnVsbDtcbiAgICAgIGNvbnN0IHVwZGF0ZWRQYXJhbWV0ZXJzID0geyAuLi5zdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzIH07XG4gICAgICB1cGRhdGVkUGFyYW1ldGVyc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBFcnJvciBwYXJzaW5nIHZhbHVlIG9mIHBhcmFtZXRlciAke25hbWV9YCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICB0YXJnZXRpbmdQYXJhbWV0ZXJzRXJyb3IgPSB7IGlkOiBuYW1lIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvcGllZFRvQ2xpcGJvYXJkOiBmYWxzZSxcbiAgICAgICAgZXZhbHVhdGlvblN0YXR1czoge30sXG4gICAgICAgIHN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnM6IHVwZGF0ZWRQYXJhbWV0ZXJzLFxuICAgICAgICB0YXJnZXRpbmdQYXJhbWV0ZXJzRXJyb3IsXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgdW5ibG9ja0FsbCgpIHtcbiAgICByZXR1cm4gQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIlVOQkxPQ0tfQUxMXCIsXG4gICAgfSkudGhlbih0aGlzLnNldFN0YXRlRnJvbVBhcmVudCk7XG4gIH1cblxuICBoYW5kbGVDbGVhckFsbEltcHJlc3Npb25zQnlQcm92aWRlcigpIHtcbiAgICBjb25zdCBwcm92aWRlcklkID0gdGhpcy5zdGF0ZS5tZXNzYWdlRmlsdGVyO1xuICAgIGlmICghcHJvdmlkZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB1c2VyUHJlZkluZm8gPSB0aGlzLnN0YXRlLnVzZXJQcmVmcztcblxuICAgIGNvbnN0IGlzVXNlckVuYWJsZWQgPVxuICAgICAgcHJvdmlkZXJJZCBpbiB1c2VyUHJlZkluZm8gPyB1c2VyUHJlZkluZm9bcHJvdmlkZXJJZF0gOiB0cnVlO1xuXG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIkRJU0FCTEVfUFJPVklERVJcIixcbiAgICAgIGRhdGE6IHByb3ZpZGVySWQsXG4gICAgfSk7XG4gICAgaWYgKCFpc1VzZXJFbmFibGVkKSB7XG4gICAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogXCJTRVRfUFJPVklERVJfVVNFUl9QUkVGXCIsXG4gICAgICAgIGRhdGE6IHsgaWQ6IHByb3ZpZGVySWQsIHZhbHVlOiB0cnVlIH0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBcIkVOQUJMRV9QUk9WSURFUlwiLFxuICAgICAgZGF0YTogcHJvdmlkZXJJZCxcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUVuYWJsZWRUb2dnbGUoZXZlbnQpIHtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuc3RhdGUucHJvdmlkZXJQcmVmcy5maW5kKFxuICAgICAgcCA9PiBwLmlkID09PSBldmVudC50YXJnZXQuZGF0YXNldC5wcm92aWRlclxuICAgICk7XG4gICAgY29uc3QgdXNlclByZWZJbmZvID0gdGhpcy5zdGF0ZS51c2VyUHJlZnM7XG5cbiAgICBjb25zdCBpc1VzZXJFbmFibGVkID1cbiAgICAgIHByb3ZpZGVyLmlkIGluIHVzZXJQcmVmSW5mbyA/IHVzZXJQcmVmSW5mb1twcm92aWRlci5pZF0gOiB0cnVlO1xuICAgIGNvbnN0IGlzU3lzdGVtRW5hYmxlZCA9IHByb3ZpZGVyLmVuYWJsZWQ7XG4gICAgY29uc3QgaXNFbmFibGluZyA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xuXG4gICAgaWYgKGlzRW5hYmxpbmcpIHtcbiAgICAgIGlmICghaXNVc2VyRW5hYmxlZCkge1xuICAgICAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICB0eXBlOiBcIlNFVF9QUk9WSURFUl9VU0VSX1BSRUZcIixcbiAgICAgICAgICBkYXRhOiB7IGlkOiBwcm92aWRlci5pZCwgdmFsdWU6IHRydWUgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzU3lzdGVtRW5hYmxlZCkge1xuICAgICAgICBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICB0eXBlOiBcIkVOQUJMRV9QUk9WSURFUlwiLFxuICAgICAgICAgIGRhdGE6IHByb3ZpZGVyLmlkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IFwiRElTQUJMRV9QUk9WSURFUlwiLFxuICAgICAgICBkYXRhOiBwcm92aWRlci5pZCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlRmlsdGVyOiBcImFsbFwiIH0pO1xuICB9XG5cbiAgaGFuZGxlVXNlclByZWZUb2dnbGUoZXZlbnQpIHtcbiAgICBjb25zdCBhY3Rpb24gPSB7XG4gICAgICB0eXBlOiBcIlNFVF9QUk9WSURFUl9VU0VSX1BSRUZcIixcbiAgICAgIGRhdGE6IHsgaWQ6IGV2ZW50LnRhcmdldC5kYXRhc2V0LnByb3ZpZGVyLCB2YWx1ZTogZXZlbnQudGFyZ2V0LmNoZWNrZWQgfSxcbiAgICB9O1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2UoYWN0aW9uKTtcbiAgICB0aGlzLnNldFN0YXRlKHsgbWVzc2FnZUZpbHRlcjogXCJhbGxcIiB9KTtcbiAgfVxuXG4gIG9uQ2hhbmdlTWVzc2FnZUZpbHRlcihldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlRmlsdGVyOiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gIH1cblxuICBvbkNoYW5nZU1lc3NhZ2VHcm91cHNGaWx0ZXIoZXZlbnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgbWVzc2FnZUdyb3Vwc0ZpbHRlcjogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xuICB9XG5cbiAgLy8gU2ltdWxhdGUgYSBjb3B5IGV2ZW50IHRoYXQgc2V0cyB0byBjbGlwYm9hcmQgYWxsIHRhcmdldGluZyBwYXJhbXRlcnMgYW5kIHZhbHVlc1xuICBvbkNvcHlUYXJnZXRpbmdQYXJhbXMoZXZlbnQpIHtcbiAgICBjb25zdCBzdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzID0ge1xuICAgICAgLi4udGhpcy5zdGF0ZS5zdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzLFxuICAgIH07XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVycykpIHtcbiAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBub3Qgc2V0IHRoZSBwYXJhbWV0ZXIgd2lsbCBiZSBsb3N0IHdoZW4gd2Ugc3RyaW5naWZ5XG4gICAgICBpZiAoc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVyc1trZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVyc1trZXldID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2V0Q2xpcGJvYXJkRGF0YSA9IGUgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5jbGlwYm9hcmREYXRhLnNldERhdGEoXG4gICAgICAgIFwidGV4dFwiLFxuICAgICAgICBKU09OLnN0cmluZ2lmeShzdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzLCBudWxsLCAyKVxuICAgICAgKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjb3B5XCIsIHNldENsaXBib2FyZERhdGEpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvcGllZFRvQ2xpcGJvYXJkOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29weVwiLCBzZXRDbGlwYm9hcmREYXRhKTtcblxuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTtcbiAgfVxuXG4gIG9uTmV3VGFyZ2V0aW5nUGFyYW1zKGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IG5ld1N0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnM6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcbiAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yU3RhdGVcIik7XG4gICAgdGhpcy5yZWZzLnRhcmdldGluZ1BhcmFtc0V2YWwuaW5uZXJUZXh0ID0gXCJcIjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdHJpbmdUYXJnZXRpbmdQYXJhbWV0ZXJzID0gSlNPTi5wYXJzZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJlcnJvclN0YXRlXCIpO1xuICAgICAgdGhpcy5yZWZzLnRhcmdldGluZ1BhcmFtc0V2YWwuaW5uZXJUZXh0ID0gZS5tZXNzYWdlO1xuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZUpTT04obXNnSWQpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5jb2xsYXBzZWRNZXNzYWdlcy5pbmNsdWRlcyhtc2dJZCkpIHtcbiAgICAgIGxldCBpbmRleCA9IHRoaXMuc3RhdGUuY29sbGFwc2VkTWVzc2FnZXMuaW5kZXhPZihtc2dJZCk7XG4gICAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiAoe1xuICAgICAgICBjb2xsYXBzZWRNZXNzYWdlczogW1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5jb2xsYXBzZWRNZXNzYWdlcy5zbGljZSgwLCBpbmRleCksXG4gICAgICAgICAgLi4ucHJldlN0YXRlLmNvbGxhcHNlZE1lc3NhZ2VzLnNsaWNlKGluZGV4ICsgMSksXG4gICAgICAgIF0sXG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XG4gICAgICAgIGNvbGxhcHNlZE1lc3NhZ2VzOiBwcmV2U3RhdGUuY29sbGFwc2VkTWVzc2FnZXMuY29uY2F0KG1zZ0lkKSxcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVDaGFuZ2UobXNnSWQpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubW9kaWZpZWRNZXNzYWdlcy5pbmNsdWRlcyhtc2dJZCkpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XG4gICAgICAgIG1vZGlmaWVkTWVzc2FnZXM6IHByZXZTdGF0ZS5tb2RpZmllZE1lc3NhZ2VzLmNvbmNhdChtc2dJZCksXG4gICAgICB9KSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyTWVzc2FnZUl0ZW0obXNnKSB7XG4gICAgY29uc3QgaXNCbG9ja2VkQnlHcm91cCA9IHRoaXMuc3RhdGUuZ3JvdXBzXG4gICAgICAuZmlsdGVyKGdyb3VwID0+IG1zZy5ncm91cHMuaW5jbHVkZXMoZ3JvdXAuaWQpKVxuICAgICAgLnNvbWUoZ3JvdXAgPT4gIWdyb3VwLmVuYWJsZWQpO1xuICAgIGNvbnN0IG1zZ1Byb3ZpZGVyID1cbiAgICAgIHRoaXMuc3RhdGUucHJvdmlkZXJzLmZpbmQocHJvdmlkZXIgPT4gcHJvdmlkZXIuaWQgPT09IG1zZy5wcm92aWRlcikgfHwge307XG4gICAgY29uc3QgaXNQcm92aWRlckV4Y2x1ZGVkID1cbiAgICAgIG1zZ1Byb3ZpZGVyLmV4Y2x1ZGUgJiYgbXNnUHJvdmlkZXIuZXhjbHVkZS5pbmNsdWRlcyhtc2cuaWQpO1xuICAgIGNvbnN0IGlzTWVzc2FnZUJsb2NrZWQgPVxuICAgICAgdGhpcy5zdGF0ZS5tZXNzYWdlQmxvY2tMaXN0LmluY2x1ZGVzKG1zZy5pZCkgfHxcbiAgICAgIHRoaXMuc3RhdGUubWVzc2FnZUJsb2NrTGlzdC5pbmNsdWRlcyhtc2cuY2FtcGFpZ24pO1xuICAgIGNvbnN0IGlzQmxvY2tlZCA9XG4gICAgICBpc01lc3NhZ2VCbG9ja2VkIHx8IGlzQmxvY2tlZEJ5R3JvdXAgfHwgaXNQcm92aWRlckV4Y2x1ZGVkO1xuICAgIGNvbnN0IGltcHJlc3Npb25zID0gdGhpcy5zdGF0ZS5tZXNzYWdlSW1wcmVzc2lvbnNbbXNnLmlkXVxuICAgICAgPyB0aGlzLnN0YXRlLm1lc3NhZ2VJbXByZXNzaW9uc1ttc2cuaWRdLmxlbmd0aFxuICAgICAgOiAwO1xuICAgIGNvbnN0IGlzQ29sbGFwc2VkID0gdGhpcy5zdGF0ZS5jb2xsYXBzZWRNZXNzYWdlcy5pbmNsdWRlcyhtc2cuaWQpO1xuICAgIGNvbnN0IGlzTW9kaWZpZWQgPSB0aGlzLnN0YXRlLm1vZGlmaWVkTWVzc2FnZXMuaW5jbHVkZXMobXNnLmlkKTtcblxuICAgIGxldCBpdGVtQ2xhc3NOYW1lID0gXCJtZXNzYWdlLWl0ZW1cIjtcbiAgICBpZiAoaXNCbG9ja2VkKSB7XG4gICAgICBpdGVtQ2xhc3NOYW1lICs9IFwiIGJsb2NrZWRcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHRyIGNsYXNzTmFtZT17aXRlbUNsYXNzTmFtZX0ga2V5PXtgJHttc2cuaWR9LSR7bXNnLnByb3ZpZGVyfWB9PlxuICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWVzc2FnZS1pZFwiPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAge21zZy5pZH0gPGJyIC8+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3RkPlxuICAgICAgICA8dGQ+XG4gICAgICAgICAgPFRvZ2dsZU1lc3NhZ2VKU09OXG4gICAgICAgICAgICBtc2dJZD17YCR7bXNnLmlkfWB9XG4gICAgICAgICAgICB0b2dnbGVKU09OPXt0aGlzLnRvZ2dsZUpTT059XG4gICAgICAgICAgICBpc0NvbGxhcHNlZD17aXNDb2xsYXBzZWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC90ZD5cbiAgICAgICAgPHRkIGNsYXNzTmFtZT1cImJ1dHRvbi1jb2x1bW5cIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BidXR0b24gJHtpc0Jsb2NrZWQgPyBcIlwiIDogXCIgcHJpbWFyeVwifWB9XG4gICAgICAgICAgICBvbkNsaWNrPXtcbiAgICAgICAgICAgICAgaXNCbG9ja2VkID8gdGhpcy5oYW5kbGVVbmJsb2NrKG1zZykgOiB0aGlzLmhhbmRsZUJsb2NrKG1zZylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aXNCbG9ja2VkID8gXCJVbmJsb2NrXCIgOiBcIkJsb2NrXCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgey8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgICAgIGlzQmxvY2tlZCA/IG51bGwgOiBpc01vZGlmaWVkID8gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidXR0b24gcmVzdG9yZVwiXG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9qc3gtbm8tYmluZFxuICAgICAgICAgICAgICBvbkNsaWNrPXtlID0+IHRoaXMucmVzZXRKU09OKG1zZyl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFJlc2V0XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidXR0b24gc2hvd1wiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlT3ZlcnJpZGUobXNnLmlkKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgU2hvd1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7aXNCbG9ja2VkID8gbnVsbCA6IChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnV0dG9uIG1vZGlmeVwiXG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9qc3gtbm8tYmluZFxuICAgICAgICAgICAgICBvbkNsaWNrPXtlID0+IHRoaXMubW9kaWZ5SnNvbihtc2cpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBNb2RpZnlcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGJyIC8+KHtpbXByZXNzaW9uc30gaW1wcmVzc2lvbnMpXG4gICAgICAgIDwvdGQ+XG4gICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtZXNzYWdlLXN1bW1hcnlcIj5cbiAgICAgICAgICB7aXNCbG9ja2VkICYmIChcbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgQmxvY2sgcmVhc29uOlxuICAgICAgICAgICAgICB7aXNCbG9ja2VkQnlHcm91cCAmJiBcIiBCbG9ja2VkIGJ5IGdyb3VwXCJ9XG4gICAgICAgICAgICAgIHtpc1Byb3ZpZGVyRXhjbHVkZWQgJiYgXCIgRXhjbHVkZWQgYnkgcHJvdmlkZXJcIn1cbiAgICAgICAgICAgICAge2lzTWVzc2FnZUJsb2NrZWQgJiYgXCIgTWVzc2FnZSBibG9ja2VkXCJ9XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHByZSBjbGFzc05hbWU9e2lzQ29sbGFwc2VkID8gXCJjb2xsYXBzZWRcIiA6IFwiZXhwYW5kZWRcIn0+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgIGlkPXtgJHttc2cuaWR9LXRleHRhcmVhYH1cbiAgICAgICAgICAgICAgICBuYW1lPXttc2cuaWR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2VuZXJhbC10ZXh0YXJlYVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzQmxvY2tlZH1cbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvanN4LW5vLWJpbmRcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLmhhbmRsZUNoYW5nZShtc2cuaWQpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge0pTT04uc3RyaW5naWZ5KG1zZywgbnVsbCwgMil9XG4gICAgICAgICAgICAgIDwvdGV4dGFyZWE+XG4gICAgICAgICAgICA8L3ByZT5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICApO1xuICB9XG5cbiAgcmVzdG9yZVdOTWVzc2FnZVN0YXRlKCkge1xuICAgIC8vIGNoZWNrIHRoZSBwYWdlIGZvciBjaGVja2VkIGJveGVzLCBhbmQgcmVzZXQgdGhlIHN0YXRlIG9mIFdOTWVzc2FnZXMgYmFzZWQgb24gdGhhdC5cbiAgICBsZXQgdGVtcFN0YXRlID0gW107XG4gICAgbGV0IG1lc3NhZ2VDaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4gICAgLy8gcHV0IHRoZSBKU09OIG9mIGFsbCB0aGUgY2hlY2tlZCBjaGVja2JveGVzIGluIHRoZSBhcnJheVxuICAgIGZvciAoY29uc3QgY2hlY2tib3ggb2YgbWVzc2FnZUNoZWNrYm94ZXMpIHtcbiAgICAgIGxldCB0cmltbWVkSWQgPSBjaGVja2JveC5pZC5yZXBsYWNlKFwiIGNoZWNrYm94XCIsIFwiXCIpO1xuICAgICAgbGV0IG1zZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RyaW1tZWRJZH0tdGV4dGFyZWFgKS52YWx1ZTtcblxuICAgICAgaWYgKGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgdGVtcFN0YXRlLnB1c2gobXNnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIFdOTWVzc2FnZXM6IHRlbXBTdGF0ZSxcbiAgICB9KTtcbiAgfVxuXG4gIG1vZGlmeUpzb24oY29udGVudCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OLnBhcnNlKFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7Y29udGVudC5pZH0tdGV4dGFyZWFgKS52YWx1ZVxuICAgICk7XG4gICAgcmV0dXJuIEFTUm91dGVyVXRpbHMubW9kaWZ5TWVzc2FnZUpzb24obWVzc2FnZSkudGhlbihzdGF0ZSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlRnJvbVBhcmVudChzdGF0ZSk7XG4gICAgICB0aGlzLnByb3BzLm5vdGlmeUNvbnRlbnQoe1xuICAgICAgICBtZXNzYWdlOiBzdGF0ZS5tZXNzYWdlLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXJXTk1lc3NhZ2VJdGVtKG1zZykge1xuICAgIGNvbnN0IGlzQmxvY2tlZCA9XG4gICAgICB0aGlzLnN0YXRlLm1lc3NhZ2VCbG9ja0xpc3QuaW5jbHVkZXMobXNnLmlkKSB8fFxuICAgICAgdGhpcy5zdGF0ZS5tZXNzYWdlQmxvY2tMaXN0LmluY2x1ZGVzKG1zZy5jYW1wYWlnbik7XG4gICAgY29uc3QgaW1wcmVzc2lvbnMgPSB0aGlzLnN0YXRlLm1lc3NhZ2VJbXByZXNzaW9uc1ttc2cuaWRdXG4gICAgICA/IHRoaXMuc3RhdGUubWVzc2FnZUltcHJlc3Npb25zW21zZy5pZF0ubGVuZ3RoXG4gICAgICA6IDA7XG5cbiAgICBjb25zdCBpc0NvbGxhcHNlZCA9IHRoaXMuc3RhdGUuY29sbGFwc2VkTWVzc2FnZXMuaW5jbHVkZXMobXNnLmlkKTtcblxuICAgIGxldCBpdGVtQ2xhc3NOYW1lID0gXCJtZXNzYWdlLWl0ZW1cIjtcbiAgICBpZiAoaXNCbG9ja2VkKSB7XG4gICAgICBpdGVtQ2xhc3NOYW1lICs9IFwiIGJsb2NrZWRcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHRyIGNsYXNzTmFtZT17aXRlbUNsYXNzTmFtZX0ga2V5PXtgJHttc2cuaWR9LSR7bXNnLnByb3ZpZGVyfWB9PlxuICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWVzc2FnZS1pZFwiPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAge21zZy5pZH0gPGJyIC8+XG4gICAgICAgICAgICA8YnIgLz4oe2ltcHJlc3Npb25zfSBpbXByZXNzaW9ucylcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvdGQ+XG4gICAgICAgIDx0ZD5cbiAgICAgICAgICA8VG9nZ2xlTWVzc2FnZUpTT05cbiAgICAgICAgICAgIG1zZ0lkPXtgJHttc2cuaWR9YH1cbiAgICAgICAgICAgIHRvZ2dsZUpTT049e3RoaXMudG9nZ2xlSlNPTn1cbiAgICAgICAgICAgIGlzQ29sbGFwc2VkPXtpc0NvbGxhcHNlZH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L3RkPlxuICAgICAgICA8dGQ+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgaWQ9e2Ake21zZy5pZH0gY2hlY2tib3hgfVxuICAgICAgICAgICAgbmFtZT17YCR7bXNnLmlkfSBjaGVja2JveGB9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC90ZD5cbiAgICAgICAgPHRkIGNsYXNzTmFtZT17YG1lc3NhZ2Utc3VtbWFyeWB9PlxuICAgICAgICAgIDxwcmUgY2xhc3NOYW1lPXtpc0NvbGxhcHNlZCA/IFwiY29sbGFwc2VkXCIgOiBcImV4cGFuZGVkXCJ9PlxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgIGlkPXtgJHttc2cuaWR9LXRleHRhcmVhYH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwid25wLXRleHRhcmVhXCJcbiAgICAgICAgICAgICAgbmFtZT17bXNnLmlkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7SlNPTi5zdHJpbmdpZnkobXNnLCBudWxsLCAyKX1cbiAgICAgICAgICAgIDwvdGV4dGFyZWE+XG4gICAgICAgICAgPC9wcmU+XG4gICAgICAgIDwvdGQ+XG4gICAgICA8L3RyPlxuICAgICk7XG4gIH1cblxuICB0b2dnbGVBbGxNZXNzYWdlcyhtZXNzYWdlc1RvU2hvdykge1xuICAgIGlmICh0aGlzLnN0YXRlLmNvbGxhcHNlZE1lc3NhZ2VzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNvbGxhcHNlZE1lc3NhZ2VzOiBbXSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG1lc3NhZ2VzVG9TaG93LCBtc2cgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiAoe1xuICAgICAgICAgIGNvbGxhcHNlZE1lc3NhZ2VzOiBwcmV2U3RhdGUuY29sbGFwc2VkTWVzc2FnZXMuY29uY2F0KG1zZy5pZCksXG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlck1lc3NhZ2VzKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5tZXNzYWdlcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2VzVG9TaG93ID1cbiAgICAgIHRoaXMuc3RhdGUubWVzc2FnZUZpbHRlciA9PT0gXCJhbGxcIlxuICAgICAgICA/IHRoaXMuc3RhdGUubWVzc2FnZXNcbiAgICAgICAgOiB0aGlzLnN0YXRlLm1lc3NhZ2VzLmZpbHRlcihcbiAgICAgICAgICAgIG1lc3NhZ2UgPT4gbWVzc2FnZS5wcm92aWRlciA9PT0gdGhpcy5zdGF0ZS5tZXNzYWdlRmlsdGVyXG4gICAgICAgICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiQVNSb3V0ZXJCdXR0b24gc2xpbVwiXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2pzeC1uby1iaW5kXG4gICAgICAgICAgb25DbGljaz17ZSA9PiB0aGlzLnRvZ2dsZUFsbE1lc3NhZ2VzKG1lc3NhZ2VzVG9TaG93KX1cbiAgICAgICAgPlxuICAgICAgICAgIENvbGxhcHNlL0V4cGFuZCBBbGxcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImhlbHBMaW5rXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbiBpY29uLXNtYWxsLXNwYWNlciBpY29uLWluZm9cIiAvPntcIiBcIn1cbiAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgIFRvIG1vZGlmeSBhIG1lc3NhZ2UsIGNoYW5nZSB0aGUgSlNPTiBhbmQgY2xpY2sgJ01vZGlmeScgdG8gc2VlIHlvdXJcbiAgICAgICAgICAgIGNoYW5nZXMuIENsaWNrICdSZXNldCcgdG8gcmVzdG9yZSB0aGUgSlNPTiB0byB0aGUgb3JpZ2luYWwuXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3A+XG4gICAgICAgIDx0YWJsZT5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICB7bWVzc2FnZXNUb1Nob3cubWFwKG1zZyA9PiB0aGlzLnJlbmRlck1lc3NhZ2VJdGVtKG1zZykpfVxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyTWVzc2FnZXNCeUdyb3VwKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5tZXNzYWdlcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2VzVG9TaG93ID1cbiAgICAgIHRoaXMuc3RhdGUubWVzc2FnZUdyb3Vwc0ZpbHRlciA9PT0gXCJhbGxcIlxuICAgICAgICA/IHRoaXMuc3RhdGUubWVzc2FnZXMuZmlsdGVyKG0gPT4gbS5ncm91cHMubGVuZ3RoKVxuICAgICAgICA6IHRoaXMuc3RhdGUubWVzc2FnZXMuZmlsdGVyKG1lc3NhZ2UgPT5cbiAgICAgICAgICAgIG1lc3NhZ2UuZ3JvdXBzLmluY2x1ZGVzKHRoaXMuc3RhdGUubWVzc2FnZUdyb3Vwc0ZpbHRlcilcbiAgICAgICAgICApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDx0YWJsZT5cbiAgICAgICAgPHRib2R5PnttZXNzYWdlc1RvU2hvdy5tYXAobXNnID0+IHRoaXMucmVuZGVyTWVzc2FnZUl0ZW0obXNnKSl9PC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcldOTWVzc2FnZXMoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLm1lc3NhZ2VzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZXNUb1Nob3cgPSB0aGlzLnN0YXRlLm1lc3NhZ2VzLmZpbHRlcihcbiAgICAgIG1lc3NhZ2UgPT4gbWVzc2FnZS5wcm92aWRlciA9PT0gXCJ3aGF0cy1uZXctcGFuZWxcIiAmJiBtZXNzYWdlLmNvbnRlbnQuYm9keVxuICAgICk7XG4gICAgcmV0dXJuIChcbiAgICAgIDx0YWJsZT5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIHttZXNzYWdlc1RvU2hvdy5tYXAobXNnID0+IHRoaXMucmVuZGVyV05NZXNzYWdlSXRlbShtc2cpKX1cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlck1lc3NhZ2VGaWx0ZXIoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnByb3ZpZGVycykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxwPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwidW5ibG9jay1hbGwgQVNSb3V0ZXJCdXR0b24gdGVzdC1vbmx5XCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnVuYmxvY2tBbGx9XG4gICAgICAgID5cbiAgICAgICAgICBVbmJsb2NrIEFsbCBTbmlwcGV0c1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgey8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmV0dGllci9wcmV0dGllciAqL31cbiAgICAgICAgU2hvdyBtZXNzYWdlcyBmcm9tIHsvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvbm8tb25jaGFuZ2UgKi99XG4gICAgICAgIDxzZWxlY3RcbiAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5tZXNzYWdlRmlsdGVyfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlTWVzc2FnZUZpbHRlcn1cbiAgICAgICAgPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhbGxcIj5hbGwgcHJvdmlkZXJzPC9vcHRpb24+XG4gICAgICAgICAge3RoaXMuc3RhdGUucHJvdmlkZXJzLm1hcChwcm92aWRlciA9PiAoXG4gICAgICAgICAgICA8b3B0aW9uIGtleT17cHJvdmlkZXIuaWR9IHZhbHVlPXtwcm92aWRlci5pZH0+XG4gICAgICAgICAgICAgIHtwcm92aWRlci5pZH1cbiAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAge3RoaXMuc3RhdGUubWVzc2FnZUZpbHRlciAhPT0gXCJhbGxcIiAmJlxuICAgICAgICAhdGhpcy5zdGF0ZS5tZXNzYWdlRmlsdGVyLmluY2x1ZGVzKFwiX2xvY2FsX3Rlc3RpbmdcIikgPyAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnV0dG9uIG1lc3NhZ2VzLXJlc2V0XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xlYXJBbGxJbXByZXNzaW9uc0J5UHJvdmlkZXJ9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgUmVzZXQgQWxsXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC9wPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJNZXNzYWdlR3JvdXBzRmlsdGVyKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5ncm91cHMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8cD5cbiAgICAgICAgU2hvdyBtZXNzYWdlcyBmcm9tIHsvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvbm8tb25jaGFuZ2UgKi99XG4gICAgICAgIDxzZWxlY3RcbiAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5tZXNzYWdlR3JvdXBzRmlsdGVyfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlTWVzc2FnZUdyb3Vwc0ZpbHRlcn1cbiAgICAgICAgPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhbGxcIj5hbGwgZ3JvdXBzPC9vcHRpb24+XG4gICAgICAgICAge3RoaXMuc3RhdGUuZ3JvdXBzLm1hcChncm91cCA9PiAoXG4gICAgICAgICAgICA8b3B0aW9uIGtleT17Z3JvdXAuaWR9IHZhbHVlPXtncm91cC5pZH0+XG4gICAgICAgICAgICAgIHtncm91cC5pZH1cbiAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgIDwvcD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyVGFibGVIZWFkKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dGhlYWQ+XG4gICAgICAgIDx0ciBjbGFzc05hbWU9XCJtZXNzYWdlLWl0ZW1cIj5cbiAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCIgLz5cbiAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+UHJvdmlkZXIgSUQ8L3RkPlxuICAgICAgICAgIDx0ZD5Tb3VyY2U8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5Db2hvcnQ8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5MYXN0IFVwZGF0ZWQ8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgPC90aGVhZD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyUHJvdmlkZXJzKCkge1xuICAgIGNvbnN0IHByb3ZpZGVyc0NvbmZpZyA9IHRoaXMuc3RhdGUucHJvdmlkZXJQcmVmcztcbiAgICBjb25zdCBwcm92aWRlckluZm8gPSB0aGlzLnN0YXRlLnByb3ZpZGVycztcbiAgICBjb25zdCB1c2VyUHJlZkluZm8gPSB0aGlzLnN0YXRlLnVzZXJQcmVmcztcblxuICAgIHJldHVybiAoXG4gICAgICA8dGFibGU+XG4gICAgICAgIHt0aGlzLnJlbmRlclRhYmxlSGVhZCgpfVxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAge3Byb3ZpZGVyc0NvbmZpZy5tYXAoKHByb3ZpZGVyLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc1Rlc3RQcm92aWRlciA9IHByb3ZpZGVyLmlkLmluY2x1ZGVzKFwiX2xvY2FsX3Rlc3RpbmdcIik7XG4gICAgICAgICAgICBjb25zdCBpbmZvID0gcHJvdmlkZXJJbmZvLmZpbmQocCA9PiBwLmlkID09PSBwcm92aWRlci5pZCkgfHwge307XG4gICAgICAgICAgICBjb25zdCBpc1VzZXJFbmFibGVkID1cbiAgICAgICAgICAgICAgcHJvdmlkZXIuaWQgaW4gdXNlclByZWZJbmZvID8gdXNlclByZWZJbmZvW3Byb3ZpZGVyLmlkXSA6IHRydWU7XG4gICAgICAgICAgICBjb25zdCBpc1N5c3RlbUVuYWJsZWQgPSBpc1Rlc3RQcm92aWRlciB8fCBwcm92aWRlci5lbmFibGVkO1xuXG4gICAgICAgICAgICBsZXQgbGFiZWwgPSBcImxvY2FsXCI7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIudHlwZSA9PT0gXCJyZW1vdGVcIikge1xuICAgICAgICAgICAgICBsYWJlbCA9IChcbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIGVuZHBvaW50IChcbiAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInByb3ZpZGVyVXJsXCJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgICAgICAgaHJlZj17aW5mby51cmx9XG4gICAgICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7aW5mby51cmx9XG4gICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm92aWRlci50eXBlID09PSBcInJlbW90ZS1zZXR0aW5nc1wiKSB7XG4gICAgICAgICAgICAgIGxhYmVsID0gYHJlbW90ZSBzZXR0aW5ncyAoJHtwcm92aWRlci5idWNrZXR9KWA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb3ZpZGVyLnR5cGUgPT09IFwicmVtb3RlLWV4cGVyaW1lbnRzXCIpIHtcbiAgICAgICAgICAgICAgbGFiZWwgPSAoXG4gICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICByZW1vdGUgc2V0dGluZ3MgKFxuICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHJvdmlkZXJVcmxcIlxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9maXJlZm94LnNldHRpbmdzLnNlcnZpY2VzLm1vemlsbGEuY29tL3YxL2J1Y2tldHMvbWFpbi9jb2xsZWN0aW9ucy9uaW1idXMtZGVza3RvcC1leHBlcmltZW50cy9yZWNvcmRzXCJcbiAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIG5pbWJ1cy1kZXNrdG9wLWV4cGVyaW1lbnRzXG4gICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcmVhc29uc0Rpc2FibGVkID0gW107XG4gICAgICAgICAgICBpZiAoIWlzU3lzdGVtRW5hYmxlZCkge1xuICAgICAgICAgICAgICByZWFzb25zRGlzYWJsZWQucHVzaChcInN5c3RlbSBwcmVmXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1VzZXJFbmFibGVkKSB7XG4gICAgICAgICAgICAgIHJlYXNvbnNEaXNhYmxlZC5wdXNoKFwidXNlciBwcmVmXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlYXNvbnNEaXNhYmxlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgbGFiZWwgPSBgZGlzYWJsZWQgdmlhICR7cmVhc29uc0Rpc2FibGVkLmpvaW4oXCIsIFwiKX1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8dHIgY2xhc3NOYW1lPVwibWVzc2FnZS1pdGVtXCIga2V5PXtpfT5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICB7aXNUZXN0UHJvdmlkZXIgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YS1wcm92aWRlcj17cHJvdmlkZXIuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17aXNVc2VyRW5hYmxlZCAmJiBpc1N5c3RlbUVuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlRW5hYmxlZFRvZ2dsZX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+e3Byb3ZpZGVyLmlkfTwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgc291cmNlTGFiZWwke1xuICAgICAgICAgICAgICAgICAgICAgIGlzVXNlckVuYWJsZWQgJiYgaXNTeXN0ZW1FbmFibGVkID8gXCJcIiA6IFwiIGlzRGlzYWJsZWRcIlxuICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPntwcm92aWRlci5jb2hvcnR9PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgd2hpdGVTcGFjZTogXCJub3dyYXBcIiB9fT5cbiAgICAgICAgICAgICAgICAgIHtpbmZvLmxhc3RVcGRhdGVkXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IERhdGUoaW5mby5sYXN0VXBkYXRlZCkudG9Mb2NhbGVTdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJUYXJnZXRpbmdQYXJhbWV0ZXJzKCkge1xuICAgIC8vIFRoZXJlIHdhcyBubyBlcnJvciBhbmQgdGhlIHJlc3VsdCBpcyB0cnV0aHlcbiAgICBjb25zdCBzdWNjZXNzID1cbiAgICAgIHRoaXMuc3RhdGUuZXZhbHVhdGlvblN0YXR1cy5zdWNjZXNzICYmXG4gICAgICAhIXRoaXMuc3RhdGUuZXZhbHVhdGlvblN0YXR1cy5yZXN1bHQ7XG4gICAgY29uc3QgcmVzdWx0ID1cbiAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUuZXZhbHVhdGlvblN0YXR1cy5yZXN1bHQsIG51bGwsIDIpIHx8XG4gICAgICBcIihFbXB0eSByZXN1bHQpXCI7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHRhYmxlPlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8aDI+RXZhbHVhdGUgSkVYTCBleHByZXNzaW9uPC9oMj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgcmVmPVwiZXhwcmVzc2lvbklucHV0XCJcbiAgICAgICAgICAgICAgICAgIHJvd3M9XCIxMFwiXG4gICAgICAgICAgICAgICAgICBjb2xzPVwiNjBcIlxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFdmFsdWF0ZSBKRVhMIGV4cHJlc3Npb25zIGFuZCBtb2NrIHBhcmFtZXRlcnMgYnkgY2hhbmdpbmcgdGhlaXIgdmFsdWVzIGJlbG93XCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgIFN0YXR1czp7XCIgXCJ9XG4gICAgICAgICAgICAgICAgPHNwYW4gcmVmPVwiZXZhbHVhdGlvblN0YXR1c1wiPlxuICAgICAgICAgICAgICAgICAge3N1Y2Nlc3MgPyBcIuKchVwiIDogXCLinYxcIn0sIFJlc3VsdDoge3Jlc3VsdH1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJBU1JvdXRlckJ1dHRvbiBzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlRXhwcmVzc2lvbkV2YWx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBFdmFsdWF0ZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIDxoMj5Nb2RpZnkgdGFyZ2V0aW5nIHBhcmFtZXRlcnM8L2gyPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIkFTUm91dGVyQnV0dG9uIHNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNvcHlUYXJnZXRpbmdQYXJhbXN9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuY29waWVkVG9DbGlwYm9hcmR9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5jb3BpZWRUb0NsaXBib2FyZFxuICAgICAgICAgICAgICAgICAgPyBcIlBhcmFtZXRlcnMgY29waWVkIVwiXG4gICAgICAgICAgICAgICAgICA6IFwiQ29weSBwYXJhbWV0ZXJzXCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIHt0aGlzLnN0YXRlLnN0cmluZ1RhcmdldGluZ1BhcmFtZXRlcnMgJiZcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVycykubWFwKFxuICAgICAgICAgICAgICAocGFyYW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuc3RhdGUuc3RyaW5nVGFyZ2V0aW5nUGFyYW1ldGVyc1twYXJhbV07XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JTdGF0ZSA9XG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnRhcmdldGluZ1BhcmFtZXRlcnNFcnJvciAmJlxuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS50YXJnZXRpbmdQYXJhbWV0ZXJzRXJyb3IuaWQgPT09IHBhcmFtO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IGVycm9yU3RhdGUgPyBcImVycm9yU3RhdGVcIiA6IFwiXCI7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXRDb21wID1cbiAgICAgICAgICAgICAgICAgICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGgpID4gMzAgPyAoXG4gICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e3BhcmFtfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgICByb3dzPVwiMTBcIlxuICAgICAgICAgICAgICAgICAgICAgIGNvbHM9XCI2MFwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VUYXJnZXRpbmdQYXJhbWV0ZXJzfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT17cGFyYW19XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlVGFyZ2V0aW5nUGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPHRyIGtleT17aX0+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD57cGFyYW19PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPntpbnB1dENvbXB9PC90ZD5cbiAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgKTtcbiAgfVxuXG4gIG9uQ2hhbmdlQXR0cmlidXRpb25QYXJhbWV0ZXJzKGV2ZW50KSB7XG4gICAgY29uc3QgeyBuYW1lLCB2YWx1ZSB9ID0gZXZlbnQudGFyZ2V0O1xuXG4gICAgdGhpcy5zZXRTdGF0ZSgoeyBhdHRyaWJ1dGlvblBhcmFtZXRlcnMgfSkgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZFBhcmFtZXRlcnMgPSB7IC4uLmF0dHJpYnV0aW9uUGFyYW1ldGVycyB9O1xuICAgICAgdXBkYXRlZFBhcmFtZXRlcnNbbmFtZV0gPSB2YWx1ZTtcblxuICAgICAgcmV0dXJuIHsgYXR0cmlidXRpb25QYXJhbWV0ZXJzOiB1cGRhdGVkUGFyYW1ldGVycyB9O1xuICAgIH0pO1xuICB9XG5cbiAgc2V0QXR0cmlidXRpb24oZSkge1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJGT1JDRV9BVFRSSUJVVElPTlwiLFxuICAgICAgZGF0YTogdGhpcy5zdGF0ZS5hdHRyaWJ1dGlvblBhcmFtZXRlcnMsXG4gICAgfSkudGhlbih0aGlzLnNldFN0YXRlRnJvbVBhcmVudCk7XG4gIH1cblxuICBfZ2V0R3JvdXBJbXByZXNzaW9uc0NvdW50KGlkLCBmcmVxdWVuY3kpIHtcbiAgICBpZiAoZnJlcXVlbmN5KSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ncm91cEltcHJlc3Npb25zW2lkXVxuICAgICAgICA/IHRoaXMuc3RhdGUuZ3JvdXBJbXByZXNzaW9uc1tpZF0ubGVuZ3RoXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJuL2FcIjtcbiAgfVxuXG4gIHJlbmRlckRpc2NvdmVyeVN0cmVhbSgpIHtcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wcy5EaXNjb3ZlcnlTdHJlYW07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCJtZXNzYWdlLWl0ZW1cIj5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkVuYWJsZWQ8L3RkPlxuICAgICAgICAgICAgICA8dGQ+e2NvbmZpZy5lbmFibGVkID8gXCJ5ZXNcIiA6IFwibm9cIn08L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCJtZXNzYWdlLWl0ZW1cIj5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkVuZHBvaW50PC90ZD5cbiAgICAgICAgICAgICAgPHRkPntjb25maWcuZW5kcG9pbnQgfHwgXCIoZW1wdHkpXCJ9PC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJBdHRyaWJ1dGlvblBhcmFtZXJzKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8aDI+IEF0dHJpYnV0aW9uIFBhcmFtZXRlcnMgPC9oMj5cbiAgICAgICAgPHA+XG4gICAgICAgICAge1wiIFwifVxuICAgICAgICAgIFRoaXMgZm9yY2VzIHRoZSBicm93c2VyIHRvIHNldCBzb21lIGF0dHJpYnV0aW9uIHBhcmFtZXRlcnMsIHVzZWZ1bCBmb3JcbiAgICAgICAgICB0ZXN0aW5nIHRoZSBSZXR1cm4gVG8gQU1PIGZlYXR1cmUuIENsaWNraW5nIG9uICdGb3JjZSBBdHRyaWJ1dGlvbicsXG4gICAgICAgICAgd2l0aCB0aGUgZGVmYXVsdCB2YWx1ZXMgaW4gZWFjaCBmaWVsZCwgd2lsbCBkZW1vIHRoZSBSZXR1cm4gVG8gQU1PXG4gICAgICAgICAgZmxvdyB3aXRoIHRoZSBhZGRvbiBjYWxsZWQgJ3VCbG9jayBPcmlnaW4nLiBJZiB5b3Ugd2lzaCB0byB0cnlcbiAgICAgICAgICBkaWZmZXJlbnQgYXR0cmlidXRpb24gcGFyYW1ldGVycywgZW50ZXIgdGhlbSBpbiB0aGUgdGV4dCBib3hlcy4gSWYgeW91XG4gICAgICAgICAgd2lzaCB0byB0cnkgYSBkaWZmZXJlbnQgYWRkb24gd2l0aCB0aGUgUmV0dXJuIFRvIEFNTyBmbG93LCBtYWtlIHN1cmVcbiAgICAgICAgICB0aGUgJ2NvbnRlbnQnIHRleHQgYm94IGhhcyBhIHN0cmluZyB0aGF0IGlzICdydGE6YmFzZTY0KGFkZG9uSUQpJywgdGhlXG4gICAgICAgICAgYmFzZTY0IHN0cmluZyBvZiB0aGUgYWRkb25JRCBwcmVmaXhlZCB3aXRoICdydGE6Jy4gVGhlIGFkZG9uIG11c3RcbiAgICAgICAgICBjdXJyZW50bHkgYmUgYSByZWNvbW1lbmRlZCBhZGRvbiBvbiBBTU8uIFRoZW4gY2xpY2sgJ0ZvcmNlXG4gICAgICAgICAgQXR0cmlidXRpb24nLiBDbGlja2luZyBvbiAnRm9yY2UgQXR0cmlidXRpb24nIHdpdGggYmxhbmsgdGV4dCBib3hlc1xuICAgICAgICAgIHJlc2V0IGF0dHJpYnV0aW9uIGRhdGEuXG4gICAgICAgIDwvcD5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPGI+IFNvdXJjZSA8L2I+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICB7XCIgXCJ9XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBuYW1lPVwic291cmNlXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImFkZG9ucy5tb3ppbGxhLm9yZ1wiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXR0cmlidXRpb25QYXJhbWV0ZXJzLnNvdXJjZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUF0dHJpYnV0aW9uUGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8Yj4gTWVkaXVtIDwvYj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIHtcIiBcIn1cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJtZWRpdW1cIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwicmVmZXJyYWxcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmF0dHJpYnV0aW9uUGFyYW1ldGVycy5tZWRpdW19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VBdHRyaWJ1dGlvblBhcmFtZXRlcnN9XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPGI+IENhbXBhaWduIDwvYj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIHtcIiBcIn1cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJjYW1wYWlnblwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJub24tZngtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hdHRyaWJ1dGlvblBhcmFtZXRlcnMuY2FtcGFpZ259XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VBdHRyaWJ1dGlvblBhcmFtZXRlcnN9XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPGI+IENvbnRlbnQgPC9iPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAge1wiIFwifVxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgbmFtZT1cImNvbnRlbnRcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgcnRhOiR7YnRvYShcInVCbG9jazBAcmF5bW9uZGhpbGwubmV0XCIpfWB9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXR0cmlidXRpb25QYXJhbWV0ZXJzLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VBdHRyaWJ1dGlvblBhcmFtZXRlcnN9XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPGI+IEV4cGVyaW1lbnQgPC9iPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAge1wiIFwifVxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgbmFtZT1cImV4cGVyaW1lbnRcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwidWEtb25ib2FyZGluZ1wiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXR0cmlidXRpb25QYXJhbWV0ZXJzLmV4cGVyaW1lbnR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VBdHRyaWJ1dGlvblBhcmFtZXRlcnN9XG4gICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgPGI+IFZhcmlhdGlvbiA8L2I+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICB7XCIgXCJ9XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBuYW1lPVwidmFyaWF0aW9uXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImNocm9tZVwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXR0cmlidXRpb25QYXJhbWV0ZXJzLnZhcmlhdGlvbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUF0dHJpYnV0aW9uUGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8Yj4gVXNlciBBZ2VudCA8L2I+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICB7XCIgXCJ9XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBuYW1lPVwidWFcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiR29vZ2xlIENocm9tZSAxMjNcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmF0dHJpYnV0aW9uUGFyYW1ldGVycy51YX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUF0dHJpYnV0aW9uUGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICA8Yj4gRG93bmxvYWQgVG9rZW4gPC9iPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAge1wiIFwifVxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgbmFtZT1cImRsdG9rZW5cIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hdHRyaWJ1dGlvblBhcmFtZXRlcnMuZGx0b2tlbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUF0dHJpYnV0aW9uUGFyYW1ldGVyc31cbiAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICB7XCIgXCJ9XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJBU1JvdXRlckJ1dHRvbiBwcmltYXJ5IGJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zZXRBdHRyaWJ1dGlvbn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtcIiBcIn1cbiAgICAgICAgICAgICAgICBGb3JjZSBBdHRyaWJ1dGlvbntcIiBcIn1cbiAgICAgICAgICAgICAgPC9idXR0b24+e1wiIFwifVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckVycm9yTWVzc2FnZSh7IGlkLCBlcnJvcnMgfSkge1xuICAgIGNvbnN0IHByb3ZpZGVySWQgPSA8dGQgcm93U3Bhbj17ZXJyb3JzLmxlbmd0aH0+e2lkfTwvdGQ+O1xuICAgIC8vIC5yZXZlcnNlKCkgc28gdGhhdCB0aGUgbGFzdCBlcnJvciAobW9zdCByZWNlbnQpIGlzIGZpcnN0XG4gICAgcmV0dXJuIGVycm9yc1xuICAgICAgLm1hcCgoeyBlcnJvciwgdGltZXN0YW1wIH0sIGNlbGxLZXkpID0+IChcbiAgICAgICAgPHRyIGtleT17Y2VsbEtleX0+XG4gICAgICAgICAge2NlbGxLZXkgPT09IGVycm9ycy5sZW5ndGggLSAxID8gcHJvdmlkZXJJZCA6IG51bGx9XG4gICAgICAgICAgPHRkPntlcnJvci5tZXNzYWdlfTwvdGQ+XG4gICAgICAgICAgPHRkPntyZWxhdGl2ZVRpbWUodGltZXN0YW1wKX08L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgKSlcbiAgICAgIC5yZXZlcnNlKCk7XG4gIH1cblxuICByZW5kZXJFcnJvcnMoKSB7XG4gICAgY29uc3QgcHJvdmlkZXJzV2l0aEVycm9ycyA9XG4gICAgICB0aGlzLnN0YXRlLnByb3ZpZGVycyAmJlxuICAgICAgdGhpcy5zdGF0ZS5wcm92aWRlcnMuZmlsdGVyKHAgPT4gcC5lcnJvcnMgJiYgcC5lcnJvcnMubGVuZ3RoKTtcblxuICAgIGlmIChwcm92aWRlcnNXaXRoRXJyb3JzICYmIHByb3ZpZGVyc1dpdGhFcnJvcnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwiZXJyb3JSZXBvcnRpbmdcIj5cbiAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgIDx0aD5Qcm92aWRlciBJRDwvdGg+XG4gICAgICAgICAgICAgIDx0aD5NZXNzYWdlPC90aD5cbiAgICAgICAgICAgICAgPHRoPlRpbWVzdGFtcDwvdGg+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgPHRib2R5Pntwcm92aWRlcnNXaXRoRXJyb3JzLm1hcCh0aGlzLnJlbmRlckVycm9yTWVzc2FnZSl9PC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIDxwPk5vIGVycm9yczwvcD47XG4gIH1cblxuICByZW5kZXJXTlBUZXN0cygpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubWVzc2FnZXMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgbWVzc2FnZXNUb1Nob3cgPSB0aGlzLnN0YXRlLm1lc3NhZ2VzLmZpbHRlcihcbiAgICAgIG1lc3NhZ2UgPT4gbWVzc2FnZS5wcm92aWRlciA9PT0gXCJ3aGF0cy1uZXctcGFuZWxcIlxuICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwiaGVscExpbmtcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tc21hbGwtc3BhY2VyIGljb24taW5mb1wiIC8+e1wiIFwifVxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgVG8gY29ycmVjdGx5IHJlbmRlciBzZWxlY3RlZCBtZXNzYWdlcywgY2xpY2sgJ09wZW4gV2hhdCdzIE5ld1xuICAgICAgICAgICAgUGFuZWwnLCBzZWxlY3QgdGhlIG1lc3NhZ2VzIHlvdSB3YW50IHRvIHNlZSwgYW5kIGNsaWNrICdSZW5kZXJcbiAgICAgICAgICAgIFNlbGVjdGVkIE1lc3NhZ2VzJy5cbiAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICBUbyBtb2RpZnkgYSBtZXNzYWdlLCBzZWxlY3QgaXQsIG1vZGlmeSB0aGUgSlNPTiBhbmQgY2xpY2sgJ1JlbmRlclxuICAgICAgICAgICAgU2VsZWN0ZWQgTWVzc2FnZXMnIGFnYWluIHRvIHNlZSB5b3VyIGNoYW5nZXMuXG4gICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgIENsaWNrICdSZXNldCBQYW5lbCcgdG8gY2xvc2UgdGhlIHBhbmVsIGFuZCByZXNldCBhbGwgSlNPTiB0byBpdHNcbiAgICAgICAgICAgIG9yaWdpbmFsIHN0YXRlLlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIkFTUm91dGVyQnV0dG9uIHByaW1hcnkgYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlRm9yY2VXTlB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgT3BlbiBXaGF0J3MgTmV3IFBhbmVsXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiQVNSb3V0ZXJCdXR0b24gc2Vjb25kYXJ5IGJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZVVwZGF0ZVdOTWVzc2FnZXN9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgUmVuZGVyIFNlbGVjdGVkIE1lc3NhZ2VzXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiQVNSb3V0ZXJCdXR0b24gc2Vjb25kYXJ5IGJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnJlc2V0UGFuZWx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgUmVzZXQgUGFuZWxcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDI+TWVzc2FnZXM8L2gyPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIkFTUm91dGVyQnV0dG9uIHNsaW0gYnV0dG9uXCJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9qc3gtbm8tYmluZFxuICAgICAgICAgICAgb25DbGljaz17ZSA9PiB0aGlzLnRvZ2dsZUFsbE1lc3NhZ2VzKG1lc3NhZ2VzVG9TaG93KX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBDb2xsYXBzZS9FeHBhbmQgQWxsXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAge3RoaXMucmVuZGVyV05NZXNzYWdlcygpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBnZXRTZWN0aW9uKCkge1xuICAgIGNvbnN0IFtzZWN0aW9uXSA9IHRoaXMucHJvcHMubG9jYXRpb24ucm91dGVzO1xuICAgIHN3aXRjaCAoc2VjdGlvbikge1xuICAgICAgY2FzZSBcInducGFuZWxcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICA8aDI+V2hhdCdzIE5ldyBQYW5lbDwvaDI+XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJXTlBUZXN0cygpfVxuICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwidGFyZ2V0aW5nXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgPGgyPlRhcmdldGluZyBVdGlsaXRpZXM8L2gyPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLmV4cGlyZUNhY2hlfT5cbiAgICAgICAgICAgICAgRXhwaXJlIENhY2hlXG4gICAgICAgICAgICA8L2J1dHRvbj57XCIgXCJ9XG4gICAgICAgICAgICAoVGhpcyBleHBpcmVzIHRoZSBjYWNoZSBpbiBBU1IgVGFyZ2V0aW5nIGZvciBib29rbWFya3MgYW5kIHRvcFxuICAgICAgICAgICAgc2l0ZXMpXG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJUYXJnZXRpbmdQYXJhbWV0ZXJzKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJBdHRyaWJ1dGlvblBhcmFtZXJzKCl9XG4gICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJncm91cHNcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICA8aDI+TWVzc2FnZSBHcm91cHM8L2gyPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnJlc2V0R3JvdXBzfT5cbiAgICAgICAgICAgICAgUmVzZXQgZ3JvdXAgaW1wcmVzc2lvbnNcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPHRhYmxlPlxuICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT1cIm1lc3NhZ2UtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgPHRkPkVuYWJsZWQ8L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkPkltcHJlc3Npb25zIGNvdW50PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZD5DdXN0b20gZnJlcXVlbmN5PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZD5Vc2VyIHByZWZlcmVuY2VzPC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZ3JvdXBzICYmXG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmdyb3Vwcy5tYXAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICB7IGlkLCBlbmFibGVkLCBmcmVxdWVuY3ksIHVzZXJQcmVmZXJlbmNlcyA9IFtdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPFJvdyBrZXk9e2lkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFRvZ2dsZVByZWZDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2VuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZj17aWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt0aGlzLl9nZXRHcm91cEltcHJlc3Npb25zQ291bnQoaWQsIGZyZXF1ZW5jeSl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57SlNPTi5zdHJpbmdpZnkoZnJlcXVlbmN5LCBudWxsLCAyKX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt1c2VyUHJlZmVyZW5jZXMuam9pbihcIiwgXCIpfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAge3RoaXMucmVuZGVyTWVzc2FnZUdyb3Vwc0ZpbHRlcigpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVyTWVzc2FnZXNCeUdyb3VwKCl9XG4gICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJkc1wiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgIDxoMj5EaXNjb3ZlcnkgU3RyZWFtPC9oMj5cbiAgICAgICAgICAgIDxEaXNjb3ZlcnlTdHJlYW1BZG1pblxuICAgICAgICAgICAgICBzdGF0ZT17e1xuICAgICAgICAgICAgICAgIERpc2NvdmVyeVN0cmVhbTogdGhpcy5wcm9wcy5EaXNjb3ZlcnlTdHJlYW0sXG4gICAgICAgICAgICAgICAgUGVyc29uYWxpemF0aW9uOiB0aGlzLnByb3BzLlBlcnNvbmFsaXphdGlvbixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb3RoZXJQcmVmcz17dGhpcy5wcm9wcy5QcmVmcy52YWx1ZXN9XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICApO1xuICAgICAgY2FzZSBcImVycm9yc1wiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgIDxoMj5BU1JvdXRlciBFcnJvcnM8L2gyPlxuICAgICAgICAgICAge3RoaXMucmVuZGVyRXJyb3JzKCl9XG4gICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgPGgyPlxuICAgICAgICAgICAgICBNZXNzYWdlIFByb3ZpZGVyc3tcIiBcIn1cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVzdG9yZSBhbGwgcHJvdmlkZXIgc2V0dGluZ3MgdGhhdCBzaGlwIHdpdGggRmlyZWZveFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnJlc2V0UHJlZn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFJlc3RvcmUgZGVmYXVsdCBwcmVmc1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5wcm92aWRlcnMgPyB0aGlzLnJlbmRlclByb3ZpZGVycygpIDogbnVsbH1cbiAgICAgICAgICAgIDxoMj5NZXNzYWdlczwvaDI+XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJNZXNzYWdlRmlsdGVyKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJNZXNzYWdlcygpfVxuICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YGFzcm91dGVyLWFkbWluICR7XG4gICAgICAgICAgdGhpcy5wcm9wcy5jb2xsYXBzZWQgPyBcImNvbGxhcHNlZFwiIDogXCJleHBhbmRlZFwiXG4gICAgICAgIH1gfVxuICAgICAgPlxuICAgICAgICA8YXNpZGUgY2xhc3NOYW1lPVwic2lkZWJhclwiPlxuICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiNkZXZ0b29sc1wiPkdlbmVyYWw8L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiI2RldnRvb2xzLXducGFuZWxcIj5XaGF0J3MgTmV3IFBhbmVsPC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiNkZXZ0b29scy10YXJnZXRpbmdcIj5UYXJnZXRpbmc8L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiI2RldnRvb2xzLWdyb3Vwc1wiPk1lc3NhZ2UgR3JvdXBzPC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiNkZXZ0b29scy1kc1wiPkRpc2NvdmVyeSBTdHJlYW08L2E+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiI2RldnRvb2xzLWVycm9yc1wiPkVycm9yczwvYT5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9hc2lkZT5cbiAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwibWFpbi1wYW5lbFwiPlxuICAgICAgICAgIDxoMT5BUyBSb3V0ZXIgQWRtaW48L2gxPlxuXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiaGVscExpbmtcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24gaWNvbi1zbWFsbC1zcGFjZXIgaWNvbi1pbmZvXCIgLz57XCIgXCJ9XG4gICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgTmVlZCBoZWxwIHVzaW5nIHRoZXNlIHRvb2xzPyBDaGVjayBvdXQgb3Vye1wiIFwifVxuICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgIHRhcmdldD1cImJsYW5rXCJcbiAgICAgICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9maXJlZm94LXNvdXJjZS1kb2NzLm1vemlsbGEub3JnL2Jyb3dzZXIvY29tcG9uZW50cy9uZXd0YWIvY29udGVudC1zcmMvYXNyb3V0ZXIvZG9jcy9pbmRleC5odG1sXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIGRvY3VtZW50YXRpb25cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvcD5cblxuICAgICAgICAgIHt0aGlzLmdldFNlY3Rpb24oKX1cbiAgICAgICAgPC9tYWluPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29sbGFwc2VUb2dnbGUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkNvbGxhcHNlVG9nZ2xlID0gdGhpcy5vbkNvbGxhcHNlVG9nZ2xlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgY29sbGFwc2VkOiBmYWxzZSB9O1xuICB9XG5cbiAgZ2V0IHJlbmRlckFkbWluKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgcmV0dXJuIChcbiAgICAgIHByb3BzLmxvY2F0aW9uLmhhc2ggJiZcbiAgICAgIChwcm9wcy5sb2NhdGlvbi5oYXNoLnN0YXJ0c1dpdGgoXCIjYXNyb3V0ZXJcIikgfHxcbiAgICAgICAgcHJvcHMubG9jYXRpb24uaGFzaC5zdGFydHNXaXRoKFwiI2RldnRvb2xzXCIpKVxuICAgICk7XG4gIH1cblxuICBvbkNvbGxhcHNlVG9nZ2xlKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSA9PiAoeyBjb2xsYXBzZWQ6ICFzdGF0ZS5jb2xsYXBzZWQgfSkpO1xuICB9XG5cbiAgc2V0Qm9keUNsYXNzKCkge1xuICAgIGlmICh0aGlzLnJlbmRlckFkbWluICYmICF0aGlzLnN0YXRlLmNvbGxhcHNlZCkge1xuICAgICAgZ2xvYmFsLmRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcIm5vLXNjcm9sbFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2xvYmFsLmRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIm5vLXNjcm9sbFwiKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNldEJvZHlDbGFzcygpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMuc2V0Qm9keUNsYXNzKCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBnbG9iYWwuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwibm8tc2Nyb2xsXCIpO1xuICAgIEFTUm91dGVyVXRpbHMucmVtb3ZlTGlzdGVuZXIodGhpcy5vbk1lc3NhZ2VGcm9tUGFyZW50KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgcmVuZGVyQWRtaW4gfSA9IHRoaXM7XG4gICAgY29uc3QgaXNDb2xsYXBzZWQgPSB0aGlzLnN0YXRlLmNvbGxhcHNlZCB8fCAhcmVuZGVyQWRtaW47XG4gICAgY29uc3QgbGFiZWwgPSBgJHtpc0NvbGxhcHNlZCA/IFwiRXhwYW5kXCIgOiBcIkNvbGxhcHNlXCJ9IGRldnRvb2xzYDtcbiAgICByZXR1cm4gKFxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9XCIjZGV2dG9vbHNcIlxuICAgICAgICAgIHRpdGxlPXtsYWJlbH1cbiAgICAgICAgICBhcmlhLWxhYmVsPXtsYWJlbH1cbiAgICAgICAgICBjbGFzc05hbWU9e2Bhc3JvdXRlci10b2dnbGUgJHtcbiAgICAgICAgICAgIGlzQ29sbGFwc2VkID8gXCJjb2xsYXBzZWRcIiA6IFwiZXhwYW5kZWRcIlxuICAgICAgICAgIH1gfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmVuZGVyQWRtaW4gPyB0aGlzLm9uQ29sbGFwc2VUb2dnbGUgOiBudWxsfVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbiBpY29uLWRldnRvb2xzXCIgLz5cbiAgICAgICAgPC9hPlxuICAgICAgICB7cmVuZGVyQWRtaW4gPyAoXG4gICAgICAgICAgPEFTUm91dGVyQWRtaW5Jbm5lciB7Li4ucHJvcHN9IGNvbGxhcHNlZD17dGhpcy5zdGF0ZS5jb2xsYXBzZWR9IC8+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IF9BU1JvdXRlckFkbWluID0gcHJvcHMgPT4gKFxuICA8U2ltcGxlSGFzaFJvdXRlcj5cbiAgICA8Q29sbGFwc2VUb2dnbGUgey4uLnByb3BzfSAvPlxuICA8L1NpbXBsZUhhc2hSb3V0ZXI+XG4pO1xuXG5leHBvcnQgY29uc3QgQVNSb3V0ZXJBZG1pbiA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgU2VjdGlvbnM6IHN0YXRlLlNlY3Rpb25zLFxuICBEaXNjb3ZlcnlTdHJlYW06IHN0YXRlLkRpc2NvdmVyeVN0cmVhbSxcbiAgUGVyc29uYWxpemF0aW9uOiBzdGF0ZS5QZXJzb25hbGl6YXRpb24sXG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbn0pKShfQVNSb3V0ZXJBZG1pbik7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBNRVNTQUdFX1RZUEVfSEFTSCBhcyBtc2cgfSBmcm9tIFwiY29tbW9uL0FjdG9yQ29uc3RhbnRzLmpzbVwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5cbmV4cG9ydCBjb25zdCBBU1JvdXRlclV0aWxzID0ge1xuICBhZGRMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgIGlmIChnbG9iYWwuQVNSb3V0ZXJBZGRQYXJlbnRMaXN0ZW5lcikge1xuICAgICAgZ2xvYmFsLkFTUm91dGVyQWRkUGFyZW50TGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICBpZiAoZ2xvYmFsLkFTUm91dGVyUmVtb3ZlUGFyZW50TGlzdGVuZXIpIHtcbiAgICAgIGdsb2JhbC5BU1JvdXRlclJlbW92ZVBhcmVudExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICB9XG4gIH0sXG4gIHNlbmRNZXNzYWdlKGFjdGlvbikge1xuICAgIGlmIChnbG9iYWwuQVNSb3V0ZXJNZXNzYWdlKSB7XG4gICAgICByZXR1cm4gZ2xvYmFsLkFTUm91dGVyTWVzc2FnZShhY3Rpb24pO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgY2FsbDpcXG4ke0pTT04uc3RyaW5naWZ5KGFjdGlvbiwgbnVsbCwgMyl9YCk7XG4gIH0sXG4gIGJsb2NrQnlJZChpZCwgb3B0aW9ucykge1xuICAgIHJldHVybiBBU1JvdXRlclV0aWxzLnNlbmRNZXNzYWdlKHtcbiAgICAgIHR5cGU6IG1zZy5CTE9DS19NRVNTQUdFX0JZX0lELFxuICAgICAgZGF0YTogeyBpZCwgLi4ub3B0aW9ucyB9LFxuICAgIH0pO1xuICB9LFxuICBtb2RpZnlNZXNzYWdlSnNvbihjb250ZW50KSB7XG4gICAgcmV0dXJuIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogbXNnLk1PRElGWV9NRVNTQUdFX0pTT04sXG4gICAgICBkYXRhOiB7IGNvbnRlbnQgfSxcbiAgICB9KTtcbiAgfSxcbiAgZXhlY3V0ZUFjdGlvbihidXR0b25fYWN0aW9uKSB7XG4gICAgcmV0dXJuIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogbXNnLlVTRVJfQUNUSU9OLFxuICAgICAgZGF0YTogYnV0dG9uX2FjdGlvbixcbiAgICB9KTtcbiAgfSxcbiAgdW5ibG9ja0J5SWQoaWQpIHtcbiAgICByZXR1cm4gQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBtc2cuVU5CTE9DS19NRVNTQUdFX0JZX0lELFxuICAgICAgZGF0YTogeyBpZCB9LFxuICAgIH0pO1xuICB9LFxuICBibG9ja0J1bmRsZShidW5kbGUpIHtcbiAgICByZXR1cm4gQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBtc2cuQkxPQ0tfQlVORExFLFxuICAgICAgZGF0YTogeyBidW5kbGUgfSxcbiAgICB9KTtcbiAgfSxcbiAgdW5ibG9ja0J1bmRsZShidW5kbGUpIHtcbiAgICByZXR1cm4gQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBtc2cuVU5CTE9DS19CVU5ETEUsXG4gICAgICBkYXRhOiB7IGJ1bmRsZSB9LFxuICAgIH0pO1xuICB9LFxuICBvdmVycmlkZU1lc3NhZ2UoaWQpIHtcbiAgICByZXR1cm4gQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBtc2cuT1ZFUlJJREVfTUVTU0FHRSxcbiAgICAgIGRhdGE6IHsgaWQgfSxcbiAgICB9KTtcbiAgfSxcbiAgc2VuZFRlbGVtZXRyeShwaW5nKSB7XG4gICAgcmV0dXJuIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2UoYWMuQVNSb3V0ZXJVc2VyRXZlbnQocGluZykpO1xuICB9LFxuICBnZXRQcmV2aWV3RW5kcG9pbnQoKSB7XG4gICAgaWYgKFxuICAgICAgZ2xvYmFsLmRvY3VtZW50ICYmXG4gICAgICBnbG9iYWwuZG9jdW1lbnQubG9jYXRpb24gJiZcbiAgICAgIGdsb2JhbC5kb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiZW5kcG9pbnRcIilcbiAgICApIHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoXG4gICAgICAgIGdsb2JhbC5kb2N1bWVudC5sb2NhdGlvbi5ocmVmLnNsaWNlKFxuICAgICAgICAgIGdsb2JhbC5kb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJlbmRwb2ludFwiKVxuICAgICAgICApXG4gICAgICApO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBuZXcgVVJMKHBhcmFtcy5nZXQoXCJlbmRwb2ludFwiKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdXJsOiBlbmRwb2ludC5ocmVmLFxuICAgICAgICAgIHNuaXBwZXRJZDogcGFyYW1zLmdldChcInNuaXBwZXRJZFwiKSxcbiAgICAgICAgICB0aGVtZTogdGhpcy5nZXRQcmV2aWV3VGhlbWUoKSxcbiAgICAgICAgICBkaXI6IHRoaXMuZ2V0UHJldmlld0RpcigpLFxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgZ2V0UHJldmlld1RoZW1lKCkge1xuICAgIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKFxuICAgICAgZ2xvYmFsLmRvY3VtZW50LmxvY2F0aW9uLmhyZWYuc2xpY2UoXG4gICAgICAgIGdsb2JhbC5kb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJ0aGVtZVwiKVxuICAgICAgKVxuICAgICkuZ2V0KFwidGhlbWVcIik7XG4gIH0sXG4gIGdldFByZXZpZXdEaXIoKSB7XG4gICAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoXG4gICAgICBnbG9iYWwuZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zbGljZShcbiAgICAgICAgZ2xvYmFsLmRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihcImRpclwiKVxuICAgICAgKVxuICAgICkuZ2V0KFwiZGlyXCIpO1xuICB9LFxufTtcbiIsIi8qIHZpbTogc2V0IHRzPTIgc3c9MiBzdHM9MiBldCB0dz04MDogKi9cbi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3QgTUVTU0FHRV9UWVBFX0xJU1QgPSBbXG4gIFwiQkxPQ0tfTUVTU0FHRV9CWV9JRFwiLFxuICBcIlVTRVJfQUNUSU9OXCIsXG4gIFwiSU1QUkVTU0lPTlwiLFxuICBcIlRSSUdHRVJcIixcbiAgXCJORVdUQUJfTUVTU0FHRV9SRVFVRVNUXCIsXG4gIC8vIFBCIGlzIFByaXZhdGUgQnJvd3NpbmdcbiAgXCJQQk5FV1RBQl9NRVNTQUdFX1JFUVVFU1RcIixcbiAgXCJET09SSEFOR0VSX1RFTEVNRVRSWVwiLFxuICBcIlRPT0xCQVJfQkFER0VfVEVMRU1FVFJZXCIsXG4gIFwiVE9PTEJBUl9QQU5FTF9URUxFTUVUUllcIixcbiAgXCJNT01FTlRTX1BBR0VfVEVMRU1FVFJZXCIsXG4gIFwiSU5GT0JBUl9URUxFTUVUUllcIixcbiAgXCJTUE9UTElHSFRfVEVMRU1FVFJZXCIsXG4gIFwiQVNfUk9VVEVSX1RFTEVNRVRSWV9VU0VSX0VWRU5UXCIsXG5cbiAgLy8gQWRtaW4gdHlwZXNcbiAgXCJBRE1JTl9DT05ORUNUX1NUQVRFXCIsXG4gIFwiVU5CTE9DS19NRVNTQUdFX0JZX0lEXCIsXG4gIFwiVU5CTE9DS19BTExcIixcbiAgXCJCTE9DS19CVU5ETEVcIixcbiAgXCJVTkJMT0NLX0JVTkRMRVwiLFxuICBcIkRJU0FCTEVfUFJPVklERVJcIixcbiAgXCJFTkFCTEVfUFJPVklERVJcIixcbiAgXCJFVkFMVUFURV9KRVhMX0VYUFJFU1NJT05cIixcbiAgXCJFWFBJUkVfUVVFUllfQ0FDSEVcIixcbiAgXCJGT1JDRV9BVFRSSUJVVElPTlwiLFxuICBcIkZPUkNFX1dIQVRTTkVXX1BBTkVMXCIsXG4gIFwiQ0xPU0VfV0hBVFNORVdfUEFORUxcIixcbiAgXCJPVkVSUklERV9NRVNTQUdFXCIsXG4gIFwiTU9ESUZZX01FU1NBR0VfSlNPTlwiLFxuICBcIlJFU0VUX1BST1ZJREVSX1BSRUZcIixcbiAgXCJTRVRfUFJPVklERVJfVVNFUl9QUkVGXCIsXG4gIFwiUkVTRVRfR1JPVVBTX1NUQVRFXCIsXG5dO1xuXG5jb25zdCBNRVNTQUdFX1RZUEVfSEFTSCA9IE1FU1NBR0VfVFlQRV9MSVNULnJlZHVjZSgoaGFzaCwgdmFsdWUpID0+IHtcbiAgaGFzaFt2YWx1ZV0gPSB2YWx1ZTtcbiAgcmV0dXJuIGhhc2g7XG59LCB7fSk7XG5cbmNvbnN0IEVYUE9SVEVEX1NZTUJPTFMgPSBbXCJNRVNTQUdFX1RZUEVfTElTVFwiLCBcIk1FU1NBR0VfVFlQRV9IQVNIXCJdO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdFJlZHV4OyIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7IiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgU2ltcGxlSGFzaFJvdXRlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uSGFzaENoYW5nZSA9IHRoaXMub25IYXNoQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgaGFzaDogZ2xvYmFsLmxvY2F0aW9uLmhhc2ggfTtcbiAgfVxuXG4gIG9uSGFzaENoYW5nZSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaGFzaDogZ2xvYmFsLmxvY2F0aW9uLmhhc2ggfSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsIHRoaXMub25IYXNoQ2hhbmdlKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGdsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLCB0aGlzLm9uSGFzaENoYW5nZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgWywgLi4ucm91dGVzXSA9IHRoaXMuc3RhdGUuaGFzaC5zcGxpdChcIi1cIik7XG4gICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudCh0aGlzLnByb3BzLmNoaWxkcmVuLCB7XG4gICAgICBsb2NhdGlvbjoge1xuICAgICAgICBoYXNoOiB0aGlzLnN0YXRlLmhhc2gsXG4gICAgICAgIHJvdXRlcyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IE1FU1NBR0VfVFlQRV9IQVNIIGFzIG1zZyB9IGZyb20gXCJjb21tb24vQWN0b3JDb25zdGFudHMuanNtXCI7XG5pbXBvcnQgeyBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IEFTUm91dGVyVXRpbHMgfSBmcm9tIFwiLi9hc3JvdXRlci11dGlsc1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVCdW5kbGVzIH0gZnJvbSBcIi4vcmljaC10ZXh0LXN0cmluZ3NcIjtcbmltcG9ydCB7IEltcHJlc3Npb25zV3JhcHBlciB9IGZyb20gXCIuL2NvbXBvbmVudHMvSW1wcmVzc2lvbnNXcmFwcGVyL0ltcHJlc3Npb25zV3JhcHBlclwiO1xuaW1wb3J0IHsgTG9jYWxpemF0aW9uUHJvdmlkZXIgfSBmcm9tIFwiZmx1ZW50LXJlYWN0XCI7XG5pbXBvcnQgeyBORVdUQUJfREFSS19USEVNRSB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHsgU25pcHBldHNUZW1wbGF0ZXMgfSBmcm9tIFwiLi90ZW1wbGF0ZXMvdGVtcGxhdGUtbWFuaWZlc3RcIjtcblxuY29uc3QgVEVNUExBVEVTX0JFTE9XX1NFQVJDSCA9IFtcInNpbXBsZV9iZWxvd19zZWFyY2hfc25pcHBldFwiXTtcblxuLy8gTm90ZTogbmV4dFByb3BzL3ByZXZQcm9wcyByZWZlciB0byBwcm9wcyBwYXNzZWQgdG8gPEltcHJlc3Npb25zV3JhcHBlciAvPiwgbm90IDxBU1JvdXRlclVJU3VyZmFjZSAvPlxuZnVuY3Rpb24gc2hvdWxkU2VuZEltcHJlc3Npb25PblVwZGF0ZShuZXh0UHJvcHMsIHByZXZQcm9wcykge1xuICByZXR1cm4gKFxuICAgIG5leHRQcm9wcy5tZXNzYWdlLmlkICYmXG4gICAgKCFwcmV2UHJvcHMubWVzc2FnZSB8fCBwcmV2UHJvcHMubWVzc2FnZS5pZCAhPT0gbmV4dFByb3BzLm1lc3NhZ2UuaWQpXG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBBU1JvdXRlclVJU3VyZmFjZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnNlbmRDbGljayA9IHRoaXMuc2VuZENsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZW5kSW1wcmVzc2lvbiA9IHRoaXMuc2VuZEltcHJlc3Npb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5ID0gdGhpcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Vc2VyQWN0aW9uID0gdGhpcy5vblVzZXJBY3Rpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLmZldGNoRmxvd1BhcmFtcyA9IHRoaXMuZmV0Y2hGbG93UGFyYW1zLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkJsb2NrU2VsZWN0ZWQgPSB0aGlzLm9uQmxvY2tTZWxlY3RlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25CbG9ja0J5SWQgPSB0aGlzLm9uQmxvY2tCeUlkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkRpc21pc3MgPSB0aGlzLm9uRGlzbWlzcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZXNzYWdlRnJvbVBhcmVudCA9IHRoaXMub25NZXNzYWdlRnJvbVBhcmVudC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHsgbWVzc2FnZToge30gfTtcbiAgICBpZiAocHJvcHMuZG9jdW1lbnQpIHtcbiAgICAgIHRoaXMuZm9vdGVyUG9ydGFsID0gcHJvcHMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgIFwiZm9vdGVyLWFzcm91dGVyLWNvbnRhaW5lclwiXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZldGNoRmxvd1BhcmFtcyhwYXJhbXMgPSB7fSkge1xuICAgIGxldCByZXN1bHQgPSB7fTtcbiAgICBjb25zdCB7IGZ4YUVuZHBvaW50IH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghZnhhRW5kcG9pbnQpIHtcbiAgICAgIGNvbnN0IGVyciA9XG4gICAgICAgIFwiVHJpZWQgdG8gZmV0Y2ggZmxvdyBwYXJhbXMgYmVmb3JlIGZ4YUVuZHBvaW50IHByZWYgd2FzIHJlYWR5XCI7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKGZ4YUVuZHBvaW50KTtcbiAgICAgIHVybE9iai5wYXRobmFtZSA9IFwibWV0cmljcy1mbG93XCI7XG4gICAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgdXJsT2JqLnNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBwYXJhbXNba2V5XSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsT2JqLnRvU3RyaW5nKCksIHsgY3JlZGVudGlhbHM6IFwib21pdFwiIH0pO1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIGNvbnN0IHsgZGV2aWNlSWQsIGZsb3dJZCwgZmxvd0JlZ2luVGltZSB9ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICByZXN1bHQgPSB7IGRldmljZUlkLCBmbG93SWQsIGZsb3dCZWdpblRpbWUgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJOb24tMjAwIHJlc3BvbnNlXCIsIHJlc3BvbnNlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5KGV4dHJhUHJvcHMgPSB7fSkge1xuICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBldmVudFR5cGUgPSBgJHttZXNzYWdlLnByb3ZpZGVyfV91c2VyX2V2ZW50YDtcbiAgICBjb25zdCBzb3VyY2UgPSBleHRyYVByb3BzLmlkO1xuICAgIGRlbGV0ZSBleHRyYVByb3BzLmlkO1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZFRlbGVtZXRyeSh7XG4gICAgICBzb3VyY2UsXG4gICAgICBtZXNzYWdlX2lkOiBtZXNzYWdlLmlkLFxuICAgICAgYWN0aW9uOiBldmVudFR5cGUsXG4gICAgICAuLi5leHRyYVByb3BzLFxuICAgIH0pO1xuICB9XG5cbiAgc2VuZEltcHJlc3Npb24oZXh0cmFQcm9wcykge1xuICAgIGlmICh0aGlzLnN0YXRlLm1lc3NhZ2UucHJvdmlkZXIgPT09IFwicHJldmlld1wiKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7IGV2ZW50OiBcIklNUFJFU1NJT05cIiwgLi4uZXh0cmFQcm9wcyB9KTtcbiAgICByZXR1cm4gQVNSb3V0ZXJVdGlscy5zZW5kTWVzc2FnZSh7XG4gICAgICB0eXBlOiBtc2cuSU1QUkVTU0lPTixcbiAgICAgIGRhdGE6IHRoaXMuc3RhdGUubWVzc2FnZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIElmIGxpbmsgaGFzIGEgYG1ldHJpY2AgZGF0YSBhdHRyaWJ1dGUgc2VuZCBpdCBhcyBwYXJ0IG9mIHRoZSBgZXZlbnRfY29udGV4dGBcbiAgLy8gdGVsZW1ldHJ5IGZpZWxkIHdoaWNoIGNhbiBoYXZlIGFyYml0cmFyeSB2YWx1ZXMuXG4gIC8vIFVzZWQgZm9yIHJvdXRlciBtZXNzYWdlcyB3aXRoIGxpbmtzIGFzIHBhcnQgb2YgdGhlIGNvbnRlbnQuXG4gIHNlbmRDbGljayhldmVudCkge1xuICAgIGNvbnN0IHsgZGF0YXNldCB9ID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IG1ldHJpYyA9IHtcbiAgICAgIGV2ZW50X2NvbnRleHQ6IGRhdGFzZXQubWV0cmljLFxuICAgICAgLy8gVXNlZCBmb3IgdGhlIGBzb3VyY2VgIG9mIHRoZSBldmVudC4gTmVlZGVkIHRvIGRpZmZlcmVudGlhdGVcbiAgICAgIC8vIGZyb20gb3RoZXIgc25pcHBldCBvciBvbmJvYXJkaW5nIGV2ZW50cyB0aGF0IG1heSBvY2N1ci5cbiAgICAgIGlkOiBcIk5FV1RBQl9GT09URVJfQkFSX0NPTlRFTlRcIixcbiAgICB9O1xuICAgIGNvbnN0IHsgZW50cnlwb2ludF9uYW1lLCBlbnRyeXBvaW50X3ZhbHVlIH0gPSBkYXRhc2V0O1xuICAgIC8vIEFzc2lnbiB0aGUgc25pcHBldCByZWZlcnJhbCBmb3IgdGhlIGFjdGlvblxuICAgIGNvbnN0IGVudHJ5cG9pbnQgPSBlbnRyeXBvaW50X25hbWVcbiAgICAgID8gbmV3IFVSTFNlYXJjaFBhcmFtcyhbW2VudHJ5cG9pbnRfbmFtZSwgZW50cnlwb2ludF92YWx1ZV1dKS50b1N0cmluZygpXG4gICAgICA6IGVudHJ5cG9pbnRfdmFsdWU7XG4gICAgY29uc3QgYWN0aW9uID0ge1xuICAgICAgdHlwZTogZGF0YXNldC5hY3Rpb24sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGFyZ3M6IGRhdGFzZXQuYXJncyxcbiAgICAgICAgLi4uKGVudHJ5cG9pbnQgJiYgeyBlbnRyeXBvaW50IH0pLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGlmIChhY3Rpb24udHlwZSkge1xuICAgICAgQVNSb3V0ZXJVdGlscy5leGVjdXRlQWN0aW9uKGFjdGlvbik7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICF0aGlzLnN0YXRlLm1lc3NhZ2UuY29udGVudC5kb19ub3RfYXV0b2Jsb2NrICYmXG4gICAgICAhZGF0YXNldC5kb19ub3RfYXV0b2Jsb2NrXG4gICAgKSB7XG4gICAgICB0aGlzLm9uQmxvY2tCeUlkKHRoaXMuc3RhdGUubWVzc2FnZS5pZCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLm1lc3NhZ2UucHJvdmlkZXIgIT09IFwicHJldmlld1wiKSB7XG4gICAgICB0aGlzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5KHsgZXZlbnQ6IFwiQ0xJQ0tfQlVUVE9OXCIsIC4uLm1ldHJpYyB9KTtcbiAgICB9XG4gIH1cblxuICBvbkJsb2NrU2VsZWN0ZWQob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLm9uQmxvY2tCeUlkKHRoaXMuc3RhdGUubWVzc2FnZS5pZCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGNhbXBhaWduOiB0aGlzLnN0YXRlLm1lc3NhZ2UuY2FtcGFpZ24sXG4gICAgfSk7XG4gIH1cblxuICBvbkJsb2NrQnlJZChpZCwgb3B0aW9ucykge1xuICAgIHJldHVybiBBU1JvdXRlclV0aWxzLmJsb2NrQnlJZChpZCwgb3B0aW9ucykudGhlbihjbGVhckFsbCA9PiB7XG4gICAgICBpZiAoY2xlYXJBbGwpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1lc3NhZ2U6IHt9IH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25EaXNtaXNzKCkge1xuICAgIHRoaXMuY2xlYXJNZXNzYWdlKHRoaXMuc3RhdGUubWVzc2FnZS5pZCk7XG4gIH1cblxuICAvLyBCbG9ja2luZyBhIHNuaXBwZXQgYnkgaWQgYmxvY2tzIHRoZSBlbnRpcmUgY2FtcGFpZ25cbiAgLy8gc28gd2hlbiBjbGVhcmluZyB3ZSB1c2UgdGhlIHR3byB2YWx1ZXMgaW50ZXJjaGFuZ2VhYmx5XG4gIGNsZWFyTWVzc2FnZShpZE9yQ2FtcGFpZ24pIHtcbiAgICBpZiAoXG4gICAgICBpZE9yQ2FtcGFpZ24gPT09IHRoaXMuc3RhdGUubWVzc2FnZS5pZCB8fFxuICAgICAgaWRPckNhbXBhaWduID09PSB0aGlzLnN0YXRlLm1lc3NhZ2UuY2FtcGFpZ25cbiAgICApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlOiB7fSB9KTtcbiAgICB9XG4gIH1cblxuICBjbGVhclByb3ZpZGVyKGlkKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUubWVzc2FnZS5wcm92aWRlciA9PT0gaWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlOiB7fSB9KTtcbiAgICB9XG4gIH1cblxuICBvbk1lc3NhZ2VGcm9tUGFyZW50KHsgdHlwZSwgZGF0YSB9KSB7XG4gICAgLy8gVGhlc2Ugb25seSBleGlzdHMgZHVlIHRvIG9uUHJlZkNoYW5nZSBldmVudHMgaW4gQVNSb3V0ZXJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJDbGVhck1lc3NhZ2VzXCI6IHtcbiAgICAgICAgZGF0YS5mb3JFYWNoKGlkID0+IHRoaXMuY2xlYXJNZXNzYWdlKGlkKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIkNsZWFyUHJvdmlkZXJzXCI6IHtcbiAgICAgICAgZGF0YS5mb3JFYWNoKGlkID0+IHRoaXMuY2xlYXJQcm92aWRlcihpZCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJFbnRlclNuaXBwZXRzUHJldmlld01vZGVcIjoge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHsgdHlwZTogYXQuU05JUFBFVFNfUFJFVklFV19NT0RFIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXF1ZXN0TWVzc2FnZShlbmRwb2ludCkge1xuICAgIEFTUm91dGVyVXRpbHMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJORVdUQUJfTUVTU0FHRV9SRVFVRVNUXCIsXG4gICAgICBkYXRhOiB7IGVuZHBvaW50IH0sXG4gICAgfSkudGhlbihzdGF0ZSA9PiB0aGlzLnNldFN0YXRlKHN0YXRlKSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBBU1JvdXRlclV0aWxzLmdldFByZXZpZXdFbmRwb2ludCgpO1xuICAgIGlmIChlbmRwb2ludCAmJiBlbmRwb2ludC50aGVtZSA9PT0gXCJkYXJrXCIpIHtcbiAgICAgIGdsb2JhbC53aW5kb3cuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IEN1c3RvbUV2ZW50KFwiTGlnaHR3ZWlnaHRUaGVtZTpTZXRcIiwge1xuICAgICAgICAgIGRldGFpbDogeyBkYXRhOiBORVdUQUJfREFSS19USEVNRSB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGVuZHBvaW50ICYmIGVuZHBvaW50LmRpciA9PT0gXCJydGxcIikge1xuICAgICAgLy9TZXQgYGRpciA9IHJ0bGAgb24gdGhlIEhUTUxcbiAgICAgIHRoaXMucHJvcHMuZG9jdW1lbnQuZGlyID0gXCJydGxcIjtcbiAgICB9XG4gICAgQVNSb3V0ZXJVdGlscy5hZGRMaXN0ZW5lcih0aGlzLm9uTWVzc2FnZUZyb21QYXJlbnQpO1xuICAgIHRoaXMucmVxdWVzdE1lc3NhZ2UoZW5kcG9pbnQpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgQVNSb3V0ZXJVdGlscy5yZW1vdmVMaXN0ZW5lcih0aGlzLm9uTWVzc2FnZUZyb21QYXJlbnQpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgaWYgKFxuICAgICAgcHJldlByb3BzLmFkbWluQ29udGVudCAmJlxuICAgICAgSlNPTi5zdHJpbmdpZnkocHJldlByb3BzLmFkbWluQ29udGVudCkgIT09XG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMucHJvcHMuYWRtaW5Db250ZW50KVxuICAgICkge1xuICAgICAgdGhpcy51cGRhdGVDb250ZW50KCk7XG4gICAgfVxuICAgIGlmIChwcmV2U3RhdGUubWVzc2FnZS5pZCAhPT0gdGhpcy5zdGF0ZS5tZXNzYWdlLmlkKSB7XG4gICAgICBjb25zdCBtYWluID0gZ2xvYmFsLndpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpblwiKTtcbiAgICAgIGlmIChtYWluKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm1lc3NhZ2UuaWQpIHtcbiAgICAgICAgICBtYWluLmNsYXNzTGlzdC5hZGQoXCJoYXMtc25pcHBldFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYWluLmNsYXNzTGlzdC5yZW1vdmUoXCJoYXMtc25pcHBldFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUNvbnRlbnQoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAuLi50aGlzLnByb3BzLmFkbWluQ29udGVudCxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGdldE1vbml0b3JVcmwoeyB1cmwsIGZsb3dSZXF1ZXN0UGFyYW1zID0ge30gfSkge1xuICAgIGNvbnN0IGZsb3dWYWx1ZXMgPSBhd2FpdCB0aGlzLmZldGNoRmxvd1BhcmFtcyhmbG93UmVxdWVzdFBhcmFtcyk7XG5cbiAgICAvLyBOb3RlIHRoYXQgZmxvd1BhcmFtcyBhcmUgYWN0dWFsbHkgYWRkZWQgZHluYW1pY2FsbHkgb24gdGhlIHBhZ2VcbiAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybCk7XG4gICAgW1wiZGV2aWNlSWRcIiwgXCJmbG93SWRcIiwgXCJmbG93QmVnaW5UaW1lXCJdLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGlmIChrZXkgaW4gZmxvd1ZhbHVlcykge1xuICAgICAgICB1cmxPYmouc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIGZsb3dWYWx1ZXNba2V5XSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdXJsT2JqLnRvU3RyaW5nKCk7XG4gIH1cblxuICBhc3luYyBvblVzZXJBY3Rpb24oYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgLy8gVGhpcyBuZWVkcyB0byBiZSBoYW5kbGVkIGxvY2FsbHkgYmVjYXVzZSBpdHNcbiAgICAgIGNhc2UgXCJFTkFCTEVfRklSRUZPWF9NT05JVE9SXCI6XG4gICAgICAgIGNvbnN0IHVybCA9IGF3YWl0IHRoaXMuZ2V0TW9uaXRvclVybChhY3Rpb24uZGF0YS5hcmdzKTtcbiAgICAgICAgQVNSb3V0ZXJVdGlscy5leGVjdXRlQWN0aW9uKHsgdHlwZTogXCJPUEVOX1VSTFwiLCBkYXRhOiB7IGFyZ3M6IHVybCB9IH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIEFTUm91dGVyVXRpbHMuZXhlY3V0ZUFjdGlvbihhY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlclNuaXBwZXRzKCkge1xuICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoIVNuaXBwZXRzVGVtcGxhdGVzW21lc3NhZ2UudGVtcGxhdGVdKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgU25pcHBldENvbXBvbmVudCA9IFNuaXBwZXRzVGVtcGxhdGVzW21lc3NhZ2UudGVtcGxhdGVdO1xuICAgIGNvbnN0IHsgY29udGVudCB9ID0gbWVzc2FnZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8SW1wcmVzc2lvbnNXcmFwcGVyXG4gICAgICAgIGlkPVwiTkVXVEFCX0ZPT1RFUl9CQVJcIlxuICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLm1lc3NhZ2V9XG4gICAgICAgIHNlbmRJbXByZXNzaW9uPXt0aGlzLnNlbmRJbXByZXNzaW9ufVxuICAgICAgICBzaG91bGRTZW5kSW1wcmVzc2lvbk9uVXBkYXRlPXtzaG91bGRTZW5kSW1wcmVzc2lvbk9uVXBkYXRlfVxuICAgICAgICAvLyBUaGlzIGhlbHBzIHdpdGggdGVzdGluZ1xuICAgICAgICBkb2N1bWVudD17dGhpcy5wcm9wcy5kb2N1bWVudH1cbiAgICAgID5cbiAgICAgICAgPExvY2FsaXphdGlvblByb3ZpZGVyIGJ1bmRsZXM9e2dlbmVyYXRlQnVuZGxlcyhjb250ZW50KX0+XG4gICAgICAgICAgPFNuaXBwZXRDb21wb25lbnRcbiAgICAgICAgICAgIHsuLi50aGlzLnN0YXRlLm1lc3NhZ2V9XG4gICAgICAgICAgICBVSVN1cmZhY2U9XCJORVdUQUJfRk9PVEVSX0JBUlwiXG4gICAgICAgICAgICBvbkJsb2NrPXt0aGlzLm9uQmxvY2tTZWxlY3RlZH1cbiAgICAgICAgICAgIG9uRGlzbWlzcz17dGhpcy5vbkRpc21pc3N9XG4gICAgICAgICAgICBvbkFjdGlvbj17dGhpcy5vblVzZXJBY3Rpb259XG4gICAgICAgICAgICBzZW5kQ2xpY2s9e3RoaXMuc2VuZENsaWNrfVxuICAgICAgICAgICAgc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnk9e3RoaXMuc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Mb2NhbGl6YXRpb25Qcm92aWRlcj5cbiAgICAgIDwvSW1wcmVzc2lvbnNXcmFwcGVyPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJQcmV2aWV3QmFubmVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLm1lc3NhZ2UucHJvdmlkZXIgIT09IFwicHJldmlld1wiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzbmlwcGV0cy1wcmV2aWV3LWJhbm5lclwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tc21hbGwtc3BhY2VyIGljb24taW5mb1wiIC8+XG4gICAgICAgIDxzcGFuPlByZXZpZXcgUHVycG9zZXMgT25seTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBtZXNzYWdlIH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmICghbWVzc2FnZS5pZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNob3VsZFJlbmRlckJlbG93U2VhcmNoID0gVEVNUExBVEVTX0JFTE9XX1NFQVJDSC5pbmNsdWRlcyhcbiAgICAgIG1lc3NhZ2UudGVtcGxhdGVcbiAgICApO1xuXG4gICAgcmV0dXJuIHNob3VsZFJlbmRlckJlbG93U2VhcmNoID8gKFxuICAgICAgLy8gUmVuZGVyIHNwZWNpYWwgYmVsb3cgc2VhcmNoIHNuaXBwZXRzIGluIHBsYWNlO1xuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZWxvdy1zZWFyY2gtc25pcHBldC13cmFwcGVyXCI+XG4gICAgICAgIHt0aGlzLnJlbmRlclNuaXBwZXRzKCl9XG4gICAgICA8L2Rpdj5cbiAgICApIDogKFxuICAgICAgLy8gRm9yIHJlZ3VsYXIgc25pcHBldHMgZXRjLiB3ZSBzaG91bGQgcmVuZGVyIGV2ZXJ5dGhpbmcgaW4gb3VyIGZvb3RlclxuICAgICAgLy8gY29udGFpbmVyLlxuICAgICAgUmVhY3RET00uY3JlYXRlUG9ydGFsKFxuICAgICAgICA8PlxuICAgICAgICAgIHt0aGlzLnJlbmRlclByZXZpZXdCYW5uZXIoKX1cbiAgICAgICAgICB7dGhpcy5yZW5kZXJTbmlwcGV0cygpfVxuICAgICAgICA8Lz4sXG4gICAgICAgIHRoaXMuZm9vdGVyUG9ydGFsXG4gICAgICApXG4gICAgKTtcbiAgfVxufVxuXG5BU1JvdXRlclVJU3VyZmFjZS5kZWZhdWx0UHJvcHMgPSB7IGRvY3VtZW50OiBnbG9iYWwuZG9jdW1lbnQgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNvbnN0IFZJU0lCTEUgPSBcInZpc2libGVcIjtcbmV4cG9ydCBjb25zdCBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuXG4vKipcbiAqIENvbXBvbmVudCB3cmFwcGVyIHVzZWQgdG8gc2VuZCB0ZWxlbWV0cnkgcGluZ3Mgb24gZXZlcnkgaW1wcmVzc2lvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEltcHJlc3Npb25zV3JhcHBlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAvLyBUaGlzIHNlbmRzIGFuIGV2ZW50IHdoZW4gYSB1c2VyIHNlZXMgYSBzZXQgb2YgbmV3IGNvbnRlbnQuIElmIGNvbnRlbnRcbiAgLy8gY2hhbmdlcyB3aGlsZSB0aGUgcGFnZSBpcyBoaWRkZW4gKGkuZS4gcHJlbG9hZGVkIG9yIG9uIGEgaGlkZGVuIHRhYiksXG4gIC8vIG9ubHkgc2VuZCB0aGUgZXZlbnQgaWYgdGhlIHBhZ2UgYmVjb21lcyB2aXNpYmxlIGFnYWluLlxuICBzZW5kSW1wcmVzc2lvbk9yQWRkTGlzdGVuZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICB0aGlzLnByb3BzLnNlbmRJbXByZXNzaW9uKHsgaWQ6IHRoaXMucHJvcHMuaWQgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIHNob3VsZCBvbmx5IGV2ZXIgc2VuZCB0aGUgbGF0ZXN0IGltcHJlc3Npb24gc3RhdHMgcGluZywgc28gcmVtb3ZlIGFueVxuICAgICAgLy8gb2xkZXIgbGlzdGVuZXJzLlxuICAgICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgICB0aGlzLnByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gdGhlIHBhZ2UgYmVjb21lcyB2aXNpYmxlLCBzZW5kIHRoZSBpbXByZXNzaW9uIHN0YXRzIHBpbmcgaWYgdGhlIHNlY3Rpb24gaXNuJ3QgY29sbGFwc2VkLlxuICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLnNlbmRJbXByZXNzaW9uKHsgaWQ6IHRoaXMucHJvcHMuaWQgfSk7XG4gICAgICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zZW5kT25Nb3VudCkge1xuICAgICAgdGhpcy5zZW5kSW1wcmVzc2lvbk9yQWRkTGlzdGVuZXIoKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2hvdWxkU2VuZEltcHJlc3Npb25PblVwZGF0ZSh0aGlzLnByb3BzLCBwcmV2UHJvcHMpKSB7XG4gICAgICB0aGlzLnNlbmRJbXByZXNzaW9uT3JBZGRMaXN0ZW5lcigpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgfVxufVxuXG5JbXByZXNzaW9uc1dyYXBwZXIuZGVmYXVsdFByb3BzID0ge1xuICBkb2N1bWVudDogZ2xvYmFsLmRvY3VtZW50LFxuICBzZW5kT25Nb3VudDogdHJ1ZSxcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFByb3BUeXBlczsiLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5leHBvcnQgY29uc3QgSVNfTkVXVEFCID1cbiAgZ2xvYmFsLmRvY3VtZW50ICYmIGdsb2JhbC5kb2N1bWVudC5kb2N1bWVudFVSSSA9PT0gXCJhYm91dDpuZXd0YWJcIjtcbmV4cG9ydCBjb25zdCBORVdUQUJfREFSS19USEVNRSA9IHtcbiAgbnRwX2JhY2tncm91bmQ6IHtcbiAgICByOiA0MixcbiAgICBnOiA0MixcbiAgICBiOiA0NixcbiAgICBhOiAxLFxuICB9LFxuICBudHBfY2FyZF9iYWNrZ3JvdW5kOiB7XG4gICAgcjogNjYsXG4gICAgZzogNjUsXG4gICAgYjogNzcsXG4gICAgYTogMSxcbiAgfSxcbiAgbnRwX3RleHQ6IHtcbiAgICByOiAyNDksXG4gICAgZzogMjQ5LFxuICAgIGI6IDI1MCxcbiAgICBhOiAxLFxuICB9LFxuICBzaWRlYmFyOiB7XG4gICAgcjogNTYsXG4gICAgZzogNTYsXG4gICAgYjogNjEsXG4gICAgYTogMSxcbiAgfSxcbiAgc2lkZWJhcl90ZXh0OiB7XG4gICAgcjogMjQ5LFxuICAgIGc6IDI0OSxcbiAgICBiOiAyNTAsXG4gICAgYTogMSxcbiAgfSxcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NOyIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuLyoqXG4gKiBDb25maXJtRGlhbG9nIGNvbXBvbmVudC5cbiAqIE9uZSBwcmltYXJ5IGFjdGlvbiBidXR0b24sIG9uZSBjYW5jZWwgYnV0dG9uLlxuICpcbiAqIENvbnRlbnQgZGlzcGxheWVkIGlzIGNvbnRyb2xsZWQgYnkgYGRhdGFgIHByb3AgdGhlIGNvbXBvbmVudCByZWNlaXZlcy5cbiAqIEV4YW1wbGU6XG4gKiBkYXRhOiB7XG4gKiAgIC8vIEFueSBzb3J0IG9mIGRhdGEgbmVlZGVkIHRvIGJlIHBhc3NlZCBhcm91bmQgYnkgYWN0aW9ucy5cbiAqICAgcGF5bG9hZDogc2l0ZS51cmwsXG4gKiAgIC8vIFByaW1hcnkgYnV0dG9uIEFsc29Ub01haW4gYWN0aW9uLlxuICogICBhY3Rpb246IFwiREVMRVRFX0hJU1RPUllfVVJMXCIsXG4gKiAgIC8vIFByaW1hcnkgYnV0dG9uIFVTZXJFdmVudCBhY3Rpb24uXG4gKiAgIHVzZXJFdmVudDogXCJERUxFVEVcIixcbiAqICAgLy8gQXJyYXkgb2YgbG9jYWxlIGlkcyB0byBkaXNwbGF5LlxuICogICBtZXNzYWdlX2JvZHk6IFtcImNvbmZpcm1faGlzdG9yeV9kZWxldGVfcDFcIiwgXCJjb25maXJtX2hpc3RvcnlfZGVsZXRlX25vdGljZV9wMlwiXSxcbiAqICAgLy8gVGV4dCBmb3IgcHJpbWFyeSBidXR0b24uXG4gKiAgIGNvbmZpcm1fYnV0dG9uX3N0cmluZ19pZDogXCJtZW51X2FjdGlvbl9kZWxldGVcIlxuICogfSxcbiAqL1xuZXhwb3J0IGNsYXNzIF9Db25maXJtRGlhbG9nIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuX2hhbmRsZUNhbmNlbEJ0biA9IHRoaXMuX2hhbmRsZUNhbmNlbEJ0bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUNvbmZpcm1CdG4gPSB0aGlzLl9oYW5kbGVDb25maXJtQnRuLmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlQ2FuY2VsQnRuKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25UeXBlcy5ESUFMT0dfQ0FOQ0VMIH0pO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICBldmVudDogYWN0aW9uVHlwZXMuRElBTE9HX0NBTkNFTCxcbiAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLmRhdGEuZXZlbnRTb3VyY2UsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBfaGFuZGxlQ29uZmlybUJ0bigpIHtcbiAgICB0aGlzLnByb3BzLmRhdGEub25Db25maXJtLmZvckVhY2godGhpcy5wcm9wcy5kaXNwYXRjaCk7XG4gIH1cblxuICBfcmVuZGVyTW9kYWxNZXNzYWdlKCkge1xuICAgIGNvbnN0IG1lc3NhZ2VfYm9keSA9IHRoaXMucHJvcHMuZGF0YS5ib2R5X3N0cmluZ19pZDtcblxuICAgIGlmICghbWVzc2FnZV9ib2R5KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW4+XG4gICAgICAgIHttZXNzYWdlX2JvZHkubWFwKG1zZyA9PiAoXG4gICAgICAgICAgPHAga2V5PXttc2d9IGRhdGEtbDEwbi1pZD17bXNnfSAvPlxuICAgICAgICApKX1cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy52aXNpYmxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb25maXJtYXRpb24tZGlhbG9nXCI+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJtb2RhbC1vdmVybGF5XCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLl9oYW5kbGVDYW5jZWxCdG59XG4gICAgICAgICAgcm9sZT1cInByZXNlbnRhdGlvblwiXG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWxcIj5cbiAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJtb2RhbC1tZXNzYWdlXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5kYXRhLmljb24gJiYgKFxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGljb24gaWNvbi1zcGFjZXIgaWNvbi0ke3RoaXMucHJvcHMuZGF0YS5pY29ufWB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge3RoaXMuX3JlbmRlck1vZGFsTWVzc2FnZSgpfVxuICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJhY3Rpb25zXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuX2hhbmRsZUNhbmNlbEJ0bn1cbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXt0aGlzLnByb3BzLmRhdGEuY2FuY2VsX2J1dHRvbl9zdHJpbmdfaWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkb25lXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5faGFuZGxlQ29uZmlybUJ0bn1cbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXt0aGlzLnByb3BzLmRhdGEuY29uZmlybV9idXR0b25fc3RyaW5nX2lkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgQ29uZmlybURpYWxvZyA9IGNvbm5lY3Qoc3RhdGUgPT4gc3RhdGUuRGlhbG9nKShfQ29uZmlybURpYWxvZyk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBDYXJkR3JpZCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvQ2FyZEdyaWQvQ2FyZEdyaWRcIjtcbmltcG9ydCB7IENvbGxlY3Rpb25DYXJkR3JpZCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvQ29sbGVjdGlvbkNhcmRHcmlkL0NvbGxlY3Rpb25DYXJkR3JpZFwiO1xuaW1wb3J0IHsgQ29sbGFwc2libGVTZWN0aW9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29sbGFwc2libGVTZWN0aW9uL0NvbGxhcHNpYmxlU2VjdGlvblwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgRFNNZXNzYWdlIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU01lc3NhZ2UvRFNNZXNzYWdlXCI7XG5pbXBvcnQgeyBEU1ByaXZhY3lNb2RhbCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNQcml2YWN5TW9kYWwvRFNQcml2YWN5TW9kYWxcIjtcbmltcG9ydCB7IERTU2lnbnVwIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU1NpZ251cC9EU1NpZ251cFwiO1xuaW1wb3J0IHsgRFNUZXh0UHJvbW8gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTVGV4dFByb21vL0RTVGV4dFByb21vXCI7XG5pbXBvcnQgeyBIaWdobGlnaHRzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9IaWdobGlnaHRzL0hpZ2hsaWdodHNcIjtcbmltcG9ydCB7IEhvcml6b250YWxSdWxlIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9Ib3Jpem9udGFsUnVsZS9Ib3Jpem9udGFsUnVsZVwiO1xuaW1wb3J0IHsgTmF2aWdhdGlvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvTmF2aWdhdGlvbi9OYXZpZ2F0aW9uXCI7XG5pbXBvcnQgeyBQcml2YWN5TGluayB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvUHJpdmFjeUxpbmsvUHJpdmFjeUxpbmtcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNlY3Rpb25UaXRsZSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvU2VjdGlvblRpdGxlL1NlY3Rpb25UaXRsZVwiO1xuaW1wb3J0IHsgc2VsZWN0TGF5b3V0UmVuZGVyIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9zZWxlY3RMYXlvdXRSZW5kZXJcIjtcbmltcG9ydCB7IFRvcFNpdGVzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlc1wiO1xuXG5jb25zdCBBTExPV0VEX0NTU19VUkxfUFJFRklYRVMgPSBbXG4gIFwiY2hyb21lOi8vXCIsXG4gIFwicmVzb3VyY2U6Ly9cIixcbiAgXCJodHRwczovL2ltZy1nZXRwb2NrZXQuY2RuLm1vemlsbGEubmV0L1wiLFxuXTtcbmNvbnN0IERVTU1ZX0NTU19TRUxFQ1RPUiA9IFwiRFVNTVkjQ1NTLlNFTEVDVE9SXCI7XG5cbi8qKlxuICogVmFsaWRhdGUgYSBDU1MgZGVjbGFyYXRpb24uIFRoZSB2YWx1ZXMgYXJlIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZCBieSBDU1NPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQWxsb3dlZENTUyhwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgLy8gQnVnIDE0NTQ4MjM6IElOVEVSTkFMIHByb3BlcnRpZXMsIGUuZy4sIC1tb3otY29udGV4dC1wcm9wZXJ0aWVzLCBhcmVcbiAgLy8gZXhwb3NlZCBidXQgdGhlaXIgdmFsdWVzIGFyZW4ndCByZXN1bHRpbmcgaW4gZ2V0dGluZyBub3RoaW5nLiBGb3J0dW5hdGVseSxcbiAgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCB2YWxpZGF0aW5nIHRoZSB2YWx1ZXMgb2YgdGhlIGN1cnJlbnQgc2V0IG9mIHByb3BlcnRpZXMuXG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgYWxsIHVybHMgYXJlIG9mIHRoZSBhbGxvd2VkIHByb3RvY29scy9wcmVmaXhlc1xuICBjb25zdCB1cmxzID0gdmFsdWUubWF0Y2goL3VybFxcKFwiW15cIl0rXCJcXCkvZyk7XG4gIHJldHVybiAoXG4gICAgIXVybHMgfHxcbiAgICB1cmxzLmV2ZXJ5KHVybCA9PlxuICAgICAgQUxMT1dFRF9DU1NfVVJMX1BSRUZJWEVTLnNvbWUocHJlZml4ID0+IHVybC5zbGljZSg1KS5zdGFydHNXaXRoKHByZWZpeCkpXG4gICAgKVxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgX0Rpc2NvdmVyeVN0cmVhbUJhc2UgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vblN0eWxlTW91bnQgPSB0aGlzLm9uU3R5bGVNb3VudC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25TdHlsZU1vdW50KHN0eWxlKSB7XG4gICAgLy8gVW5tb3VudGluZyBzdHlsZSBnZXRzIHJpZCBvZiBvbGQgc3R5bGVzLCBzbyBub3RoaW5nIGVsc2UgdG8gZG9cbiAgICBpZiAoIXN0eWxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBzaGVldCB9ID0gc3R5bGU7XG4gICAgY29uc3Qgc3R5bGVzID0gSlNPTi5wYXJzZShzdHlsZS5kYXRhc2V0LnN0eWxlcyk7XG4gICAgc3R5bGVzLmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgIHJvdy5mb3JFYWNoKChjb21wb25lbnQsIGNvbXBvbmVudEluZGV4KSA9PiB7XG4gICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gd2l0aG91dCBvcHRpb25hbCBzdHlsZXMgb3ZlcnJpZGVzXG4gICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmVudHJpZXMoY29tcG9uZW50KS5mb3JFYWNoKChbc2VsZWN0b3JzLCBkZWNsYXJhdGlvbnNdKSA9PiB7XG4gICAgICAgICAgLy8gU3RhcnQgd2l0aCBhIGR1bW15IHJ1bGUgdG8gdmFsaWRhdGUgZGVjbGFyYXRpb25zIGFuZCBzZWxlY3RvcnNcbiAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKGAke0RVTU1ZX0NTU19TRUxFQ1RPUn0ge31gKTtcbiAgICAgICAgICBjb25zdCBbcnVsZV0gPSBzaGVldC5jc3NSdWxlcztcblxuICAgICAgICAgIC8vIFZhbGlkYXRlIGRlY2xhcmF0aW9ucyBhbmQgcmVtb3ZlIGFueSBvZmZlbmRlcnMuIENTU09NIHNpbGVudGx5XG4gICAgICAgICAgLy8gZGlzY2FyZHMgaW52YWxpZCBlbnRyaWVzLCBzbyBoZXJlIHdlIGFwcGx5IGV4dHJhIHJlc3RyaWN0aW9ucy5cbiAgICAgICAgICBydWxlLnN0eWxlID0gZGVjbGFyYXRpb25zO1xuICAgICAgICAgIFsuLi5ydWxlLnN0eWxlXS5mb3JFYWNoKHByb3BlcnR5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcnVsZS5zdHlsZVtwcm9wZXJ0eV07XG4gICAgICAgICAgICBpZiAoIWlzQWxsb3dlZENTUyhwcm9wZXJ0eSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEJhZCBDU1MgZGVjbGFyYXRpb24gJHtwcm9wZXJ0eX06ICR7dmFsdWV9YCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICBydWxlLnN0eWxlLnJlbW92ZVByb3BlcnR5KHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIFNldCB0aGUgYWN0dWFsIGRlc2lyZWQgc2VsZWN0b3JzIHNjb3BlZCB0byB0aGUgY29tcG9uZW50XG4gICAgICAgICAgY29uc3QgcHJlZml4ID0gYC5kcy1sYXlvdXQgPiAuZHMtY29sdW1uOm50aC1jaGlsZCgke3Jvd0luZGV4ICtcbiAgICAgICAgICAgIDF9KSAuZHMtY29sdW1uLWdyaWQgPiA6bnRoLWNoaWxkKCR7Y29tcG9uZW50SW5kZXggKyAxfSlgO1xuICAgICAgICAgIC8vIE5COiBTcGxpdHRpbmcgb24gXCIsXCIgZG9lc24ndCB3b3JrIHdpdGggc3RyaW5ncyB3aXRoIGNvbW1hcywgYnV0XG4gICAgICAgICAgLy8gd2UncmUgb2theSB3aXRoIG5vdCBzdXBwb3J0aW5nIHRob3NlIHNlbGVjdG9yc1xuICAgICAgICAgIHJ1bGUuc2VsZWN0b3JUZXh0ID0gc2VsZWN0b3JzXG4gICAgICAgICAgICAuc3BsaXQoXCIsXCIpXG4gICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICBzZWxlY3RvciA9PlxuICAgICAgICAgICAgICAgIHByZWZpeCArXG4gICAgICAgICAgICAgICAgLy8gQXNzdW1lIDpwc2V1ZG8tY2xhc3NlcyBhcmUgZm9yIGNvbXBvbmVudCBpbnN0ZWFkIG9mIGRlc2NlbmRhbnRcbiAgICAgICAgICAgICAgICAoc2VsZWN0b3JbMF0gPT09IFwiOlwiID8gXCJcIiA6IFwiIFwiKSArXG4gICAgICAgICAgICAgICAgc2VsZWN0b3JcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5qb2luKFwiLFwiKTtcblxuICAgICAgICAgIC8vIENTU09NIHNpbGVudGx5IGlnbm9yZXMgYmFkIHNlbGVjdG9ycywgc28gd2UnbGwgYmUgbm9pc3kgaW5zdGVhZFxuICAgICAgICAgIGlmIChydWxlLnNlbGVjdG9yVGV4dCA9PT0gRFVNTVlfQ1NTX1NFTEVDVE9SKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBCYWQgQ1NTIHNlbGVjdG9yICR7c2VsZWN0b3JzfWApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXJDb21wb25lbnQoY29tcG9uZW50LCBlbWJlZFdpZHRoKSB7XG4gICAgY29uc3QgRU5HQUdFTUVOVF9MQUJFTF9FTkFCTEVEID0gdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXNbXG4gICAgICBgZGlzY292ZXJ5c3RyZWFtLmVuZ2FnZW1lbnRMYWJlbEVuYWJsZWRgXG4gICAgXTtcblxuICAgIHN3aXRjaCAoY29tcG9uZW50LnR5cGUpIHtcbiAgICAgIGNhc2UgXCJIaWdobGlnaHRzXCI6XG4gICAgICAgIHJldHVybiA8SGlnaGxpZ2h0cyAvPjtcbiAgICAgIGNhc2UgXCJUb3BTaXRlc1wiOlxuICAgICAgICBsZXQgcHJvbW9BbGlnbm1lbnQ7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjb21wb25lbnQuc3BvY3MgJiZcbiAgICAgICAgICBjb21wb25lbnQuc3BvY3MucG9zaXRpb25zICYmXG4gICAgICAgICAgY29tcG9uZW50LnNwb2NzLnBvc2l0aW9ucy5sZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgcHJvbW9BbGlnbm1lbnQgPVxuICAgICAgICAgICAgY29tcG9uZW50LnNwb2NzLnBvc2l0aW9uc1swXS5pbmRleCA9PT0gMCA/IFwibGVmdFwiIDogXCJyaWdodFwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFRvcFNpdGVzXG4gICAgICAgICAgICBoZWFkZXI9e2NvbXBvbmVudC5oZWFkZXJ9XG4gICAgICAgICAgICBkYXRhPXtjb21wb25lbnQuZGF0YX1cbiAgICAgICAgICAgIHByb21vQWxpZ25tZW50PXtwcm9tb0FsaWdubWVudH1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSBcIlRleHRQcm9tb1wiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxEU1RleHRQcm9tb1xuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICB0eXBlPXtjb21wb25lbnQudHlwZX1cbiAgICAgICAgICAgIGRhdGE9e2NvbXBvbmVudC5kYXRhfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiU2lnbnVwXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPERTU2lnbnVwXG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIHR5cGU9e2NvbXBvbmVudC50eXBlfVxuICAgICAgICAgICAgZGF0YT17Y29tcG9uZW50LmRhdGF9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJNZXNzYWdlXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPERTTWVzc2FnZVxuICAgICAgICAgICAgdGl0bGU9e2NvbXBvbmVudC5oZWFkZXIgJiYgY29tcG9uZW50LmhlYWRlci50aXRsZX1cbiAgICAgICAgICAgIHN1YnRpdGxlPXtjb21wb25lbnQuaGVhZGVyICYmIGNvbXBvbmVudC5oZWFkZXIuc3VidGl0bGV9XG4gICAgICAgICAgICBsaW5rX3RleHQ9e2NvbXBvbmVudC5oZWFkZXIgJiYgY29tcG9uZW50LmhlYWRlci5saW5rX3RleHR9XG4gICAgICAgICAgICBsaW5rX3VybD17Y29tcG9uZW50LmhlYWRlciAmJiBjb21wb25lbnQuaGVhZGVyLmxpbmtfdXJsfVxuICAgICAgICAgICAgaWNvbj17Y29tcG9uZW50LmhlYWRlciAmJiBjb21wb25lbnQuaGVhZGVyLmljb259XG4gICAgICAgICAgICBlc3NlbnRpYWxSZWFkc0hlYWRlcj17Y29tcG9uZW50LmVzc2VudGlhbFJlYWRzSGVhZGVyfVxuICAgICAgICAgICAgZWRpdG9yc1BpY2tzSGVhZGVyPXtjb21wb25lbnQuZWRpdG9yc1BpY2tzSGVhZGVyfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiU2VjdGlvblRpdGxlXCI6XG4gICAgICAgIHJldHVybiA8U2VjdGlvblRpdGxlIGhlYWRlcj17Y29tcG9uZW50LmhlYWRlcn0gLz47XG4gICAgICBjYXNlIFwiTmF2aWdhdGlvblwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxOYXZpZ2F0aW9uXG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIGxpbmtzPXtjb21wb25lbnQucHJvcGVydGllcy5saW5rc31cbiAgICAgICAgICAgIGV4dHJhTGlua3M9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmV4dHJhTGlua3N9XG4gICAgICAgICAgICBhbGlnbm1lbnQ9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmFsaWdubWVudH1cbiAgICAgICAgICAgIGRpc3BsYXlfdmFyaWFudD17Y29tcG9uZW50LnByb3BlcnRpZXMuZGlzcGxheV92YXJpYW50fVxuICAgICAgICAgICAgZXhwbG9yZV90b3BpY3M9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmV4cGxvcmVfdG9waWNzfVxuICAgICAgICAgICAgaGVhZGVyPXtjb21wb25lbnQuaGVhZGVyfVxuICAgICAgICAgICAgbG9jYWxlPXt0aGlzLnByb3BzLkFwcC5sb2NhbGV9XG4gICAgICAgICAgICBuZXdGb290ZXJTZWN0aW9uPXtjb21wb25lbnQubmV3Rm9vdGVyU2VjdGlvbn1cbiAgICAgICAgICAgIHByaXZhY3lOb3RpY2VVUkw9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLnByaXZhY3lOb3RpY2VVUkx9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJDb2xsZWN0aW9uQ2FyZEdyaWRcIjpcbiAgICAgICAgY29uc3QgeyBEaXNjb3ZlcnlTdHJlYW0gfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPENvbGxlY3Rpb25DYXJkR3JpZFxuICAgICAgICAgICAgZGF0YT17Y29tcG9uZW50LmRhdGF9XG4gICAgICAgICAgICBmZWVkPXtjb21wb25lbnQuZmVlZH1cbiAgICAgICAgICAgIHNwb2NzPXtEaXNjb3ZlcnlTdHJlYW0uc3BvY3N9XG4gICAgICAgICAgICBwbGFjZW1lbnQ9e2NvbXBvbmVudC5wbGFjZW1lbnR9XG4gICAgICAgICAgICBib3JkZXI9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmJvcmRlcn1cbiAgICAgICAgICAgIHR5cGU9e2NvbXBvbmVudC50eXBlfVxuICAgICAgICAgICAgaXRlbXM9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLml0ZW1zfVxuICAgICAgICAgICAgY3RhX3ZhcmlhbnQ9e2NvbXBvbmVudC5jdGFfdmFyaWFudH1cbiAgICAgICAgICAgIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHM9e0VOR0FHRU1FTlRfTEFCRUxfRU5BQkxFRH1cbiAgICAgICAgICAgIGRpc21pc3NpYmxlPXt0aGlzLnByb3BzLkRpc2NvdmVyeVN0cmVhbS5pc0NvbGxlY3Rpb25EaXNtaXNzaWJsZX1cbiAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiQ2FyZEdyaWRcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Q2FyZEdyaWRcbiAgICAgICAgICAgIGVuYWJsZV92aWRlb19wbGF5aGVhZHM9e1xuICAgICAgICAgICAgICAhIWNvbXBvbmVudC5wcm9wZXJ0aWVzLmVuYWJsZV92aWRlb19wbGF5aGVhZHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpdGxlPXtjb21wb25lbnQuaGVhZGVyICYmIGNvbXBvbmVudC5oZWFkZXIudGl0bGV9XG4gICAgICAgICAgICBkaXNwbGF5X3ZhcmlhbnQ9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmRpc3BsYXlfdmFyaWFudH1cbiAgICAgICAgICAgIGRhdGE9e2NvbXBvbmVudC5kYXRhfVxuICAgICAgICAgICAgZmVlZD17Y29tcG9uZW50LmZlZWR9XG4gICAgICAgICAgICBib3JkZXI9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmJvcmRlcn1cbiAgICAgICAgICAgIHR5cGU9e2NvbXBvbmVudC50eXBlfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICBpdGVtcz17Y29tcG9uZW50LnByb3BlcnRpZXMuaXRlbXN9XG4gICAgICAgICAgICBoaWRlQ2FyZEJhY2tncm91bmQ9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmhpZGVDYXJkQmFja2dyb3VuZH1cbiAgICAgICAgICAgIGZvdXJDYXJkTGF5b3V0PXtjb21wb25lbnQucHJvcGVydGllcy5mb3VyQ2FyZExheW91dH1cbiAgICAgICAgICAgIGhpZGVEZXNjcmlwdGlvbnM9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmhpZGVEZXNjcmlwdGlvbnN9XG4gICAgICAgICAgICBjb21wYWN0R3JpZD17Y29tcG9uZW50LnByb3BlcnRpZXMuY29tcGFjdEdyaWR9XG4gICAgICAgICAgICBjb21wYWN0SW1hZ2VzPXtjb21wb25lbnQucHJvcGVydGllcy5jb21wYWN0SW1hZ2VzfVxuICAgICAgICAgICAgaW1hZ2VHcmFkaWVudD17Y29tcG9uZW50LnByb3BlcnRpZXMuaW1hZ2VHcmFkaWVudH1cbiAgICAgICAgICAgIG5ld1Nwb25zb3JlZExhYmVsPXtjb21wb25lbnQucHJvcGVydGllcy5uZXdTcG9uc29yZWRMYWJlbH1cbiAgICAgICAgICAgIHRpdGxlTGluZXM9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLnRpdGxlTGluZXN9XG4gICAgICAgICAgICBkZXNjTGluZXM9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmRlc2NMaW5lc31cbiAgICAgICAgICAgIGVzc2VudGlhbFJlYWRzSGVhZGVyPXtjb21wb25lbnQucHJvcGVydGllcy5lc3NlbnRpYWxSZWFkc0hlYWRlcn1cbiAgICAgICAgICAgIGVkaXRvcnNQaWNrc0hlYWRlcj17Y29tcG9uZW50LnByb3BlcnRpZXMuZWRpdG9yc1BpY2tzSGVhZGVyfVxuICAgICAgICAgICAgcmVhZFRpbWU9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLnJlYWRUaW1lfVxuICAgICAgICAgICAgbG9hZE1vcmU9e2NvbXBvbmVudC5sb2FkTW9yZX1cbiAgICAgICAgICAgIGxhc3RDYXJkTWVzc2FnZUVuYWJsZWQ9e2NvbXBvbmVudC5sYXN0Q2FyZE1lc3NhZ2VFbmFibGVkfVxuICAgICAgICAgICAgc2F2ZVRvUG9ja2V0Q2FyZD17Y29tcG9uZW50LnNhdmVUb1BvY2tldENhcmR9XG4gICAgICAgICAgICBjdGFfdmFyaWFudD17Y29tcG9uZW50LmN0YV92YXJpYW50fVxuICAgICAgICAgICAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscz17RU5HQUdFTUVOVF9MQUJFTF9FTkFCTEVEfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiSG9yaXpvbnRhbFJ1bGVcIjpcbiAgICAgICAgcmV0dXJuIDxIb3Jpem9udGFsUnVsZSAvPjtcbiAgICAgIGNhc2UgXCJQcml2YWN5TGlua1wiOlxuICAgICAgICByZXR1cm4gPFByaXZhY3lMaW5rIHByb3BlcnRpZXM9e2NvbXBvbmVudC5wcm9wZXJ0aWVzfSAvPjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiA8ZGl2Pntjb21wb25lbnQudHlwZX08L2Rpdj47XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyU3R5bGVzKHN0eWxlcykge1xuICAgIC8vIFVzZSBqc29uIHN0cmluZyBhcyBib3RoIHRoZSBrZXkgYW5kIHN0eWxlcyB0byByZW5kZXIgc28gUmVhY3Qga25vd3Mgd2hlblxuICAgIC8vIHRvIHVubW91bnQgYW5kIG1vdW50IGEgbmV3IGluc3RhbmNlIGZvciBuZXcgc3R5bGVzLlxuICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShzdHlsZXMpO1xuICAgIHJldHVybiA8c3R5bGUga2V5PXtqc29ufSBkYXRhLXN0eWxlcz17anNvbn0gcmVmPXt0aGlzLm9uU3R5bGVNb3VudH0gLz47XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBsb2NhbGUgfSA9IHRoaXMucHJvcHM7XG4gICAgLy8gU2VsZWN0IGxheW91dCByZW5kZXIgZGF0YSBieSBhZGRpbmcgc3BvY3MgYW5kIHBvc2l0aW9uIHRvIHJlY29tbWVuZGF0aW9uc1xuICAgIGNvbnN0IHsgbGF5b3V0UmVuZGVyIH0gPSBzZWxlY3RMYXlvdXRSZW5kZXIoe1xuICAgICAgc3RhdGU6IHRoaXMucHJvcHMuRGlzY292ZXJ5U3RyZWFtLFxuICAgICAgcHJlZnM6IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzLFxuICAgICAgbG9jYWxlLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgY29uZmlnIH0gPSB0aGlzLnByb3BzLkRpc2NvdmVyeVN0cmVhbTtcblxuICAgIC8vIEFsbG93IHJlbmRlcmluZyB3aXRob3V0IGV4dHJhY3Rpbmcgc3BlY2lhbCBjb21wb25lbnRzXG4gICAgaWYgKCFjb25maWcuY29sbGFwc2libGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlckxheW91dChsYXlvdXRSZW5kZXIpO1xuICAgIH1cblxuICAgIC8vIEZpbmQgdGhlIGZpcnN0IGNvbXBvbmVudCBvZiBhIHR5cGUgYW5kIHJlbW92ZSBpdCBmcm9tIGxheW91dFxuICAgIGNvbnN0IGV4dHJhY3RDb21wb25lbnQgPSB0eXBlID0+IHtcbiAgICAgIGZvciAoY29uc3QgW3Jvd0luZGV4LCByb3ddIG9mIE9iamVjdC5lbnRyaWVzKGxheW91dFJlbmRlcikpIHtcbiAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGNvbXBvbmVudF0gb2YgT2JqZWN0LmVudHJpZXMocm93LmNvbXBvbmVudHMpKSB7XG4gICAgICAgICAgaWYgKGNvbXBvbmVudC50eXBlID09PSB0eXBlKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHJvdyBpZiBpdCB3YXMgdGhlIG9ubHkgY29tcG9uZW50IG9yIHRoZSBzaW5nbGUgaXRlbVxuICAgICAgICAgICAgaWYgKHJvdy5jb21wb25lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICBsYXlvdXRSZW5kZXIuc3BsaWNlKHJvd0luZGV4LCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJvdy5jb21wb25lbnRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIC8vIEdldCBcInRvcHN0b3JpZXNcIiBTZWN0aW9uIHN0YXRlIGZvciBkZWZhdWx0IHZhbHVlc1xuICAgIGNvbnN0IHRvcFN0b3JpZXMgPSB0aGlzLnByb3BzLlNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBcInRvcHN0b3JpZXNcIik7XG5cbiAgICBpZiAoIXRvcFN0b3JpZXMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgVG9wU2l0ZXMgdG8gcmVuZGVyIGJlZm9yZSB0aGUgcmVzdCBhbmQgTWVzc2FnZSB0byB1c2UgZm9yIGhlYWRlclxuICAgIGNvbnN0IHRvcFNpdGVzID0gZXh0cmFjdENvbXBvbmVudChcIlRvcFNpdGVzXCIpO1xuICAgIGNvbnN0IHNwb25zb3JlZENvbGxlY3Rpb24gPSBleHRyYWN0Q29tcG9uZW50KFwiQ29sbGVjdGlvbkNhcmRHcmlkXCIpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBleHRyYWN0Q29tcG9uZW50KFwiTWVzc2FnZVwiKSB8fCB7XG4gICAgICBoZWFkZXI6IHtcbiAgICAgICAgbGlua190ZXh0OiB0b3BTdG9yaWVzLmxlYXJuTW9yZS5saW5rLm1lc3NhZ2UsXG4gICAgICAgIGxpbmtfdXJsOiB0b3BTdG9yaWVzLmxlYXJuTW9yZS5saW5rLmhyZWYsXG4gICAgICAgIHRpdGxlOiB0b3BTdG9yaWVzLnRpdGxlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3QgcHJpdmFjeUxpbmtDb21wb25lbnQgPSBleHRyYWN0Q29tcG9uZW50KFwiUHJpdmFjeUxpbmtcIik7XG4gICAgbGV0IGxlYXJuTW9yZSA9IHtcbiAgICAgIGxpbms6IHtcbiAgICAgICAgaHJlZjogbWVzc2FnZS5oZWFkZXIubGlua191cmwsXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UuaGVhZGVyLmxpbmtfdGV4dCxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBsZXQgc2VjdGlvblRpdGxlID0gbWVzc2FnZS5oZWFkZXIudGl0bGU7XG4gICAgbGV0IHN1YlRpdGxlID0gXCJcIjtcblxuICAgIC8vIElmIHdlJ3JlIGluIG9uZSBvZiB0aGVzZSBleHBlcmltZW50cywgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgbWVzc2FnZS5cbiAgICAvLyBGb3Igbm93IHRoaXMgaXMgRW5nbGlzaCBvbmx5LlxuICAgIGlmIChtZXNzYWdlLmVzc2VudGlhbFJlYWRzSGVhZGVyIHx8IG1lc3NhZ2UuZWRpdG9yc1BpY2tzSGVhZGVyKSB7XG4gICAgICBsZWFybk1vcmUgPSBudWxsO1xuICAgICAgc3ViVGl0bGUgPSBcIlJlY29tbWVuZGVkIEJ5IFBvY2tldFwiO1xuICAgICAgaWYgKG1lc3NhZ2UuZXNzZW50aWFsUmVhZHNIZWFkZXIpIHtcbiAgICAgICAgc2VjdGlvblRpdGxlID0gXCJUb2RheeKAmXMgRXNzZW50aWFsIFJlYWRzXCI7XG4gICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuZWRpdG9yc1BpY2tzSGVhZGVyKSB7XG4gICAgICAgIHNlY3Rpb25UaXRsZSA9IFwiRWRpdG9y4oCZcyBQaWNrc1wiO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbmRlciBhIERTLXN0eWxlIFRvcFNpdGVzIHRoZW4gdGhlIHJlc3QgaWYgYW55IGluIGEgY29sbGFwc2libGUgc2VjdGlvblxuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIHt0aGlzLnByb3BzLkRpc2NvdmVyeVN0cmVhbS5pc1ByaXZhY3lJbmZvTW9kYWxWaXNpYmxlICYmIChcbiAgICAgICAgICA8RFNQcml2YWN5TW9kYWwgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9IC8+XG4gICAgICAgICl9XG4gICAgICAgIHt0b3BTaXRlcyAmJlxuICAgICAgICAgIHRoaXMucmVuZGVyTGF5b3V0KFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgd2lkdGg6IDEyLFxuICAgICAgICAgICAgICBjb21wb25lbnRzOiBbdG9wU2l0ZXNdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdKX1cbiAgICAgICAge3Nwb25zb3JlZENvbGxlY3Rpb24gJiZcbiAgICAgICAgICB0aGlzLnJlbmRlckxheW91dChbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMixcbiAgICAgICAgICAgICAgY29tcG9uZW50czogW3Nwb25zb3JlZENvbGxlY3Rpb25dLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdKX1cbiAgICAgICAgeyEhbGF5b3V0UmVuZGVyLmxlbmd0aCAmJiAoXG4gICAgICAgICAgPENvbGxhcHNpYmxlU2VjdGlvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZHMtbGF5b3V0XCJcbiAgICAgICAgICAgIGNvbGxhcHNlZD17dG9wU3Rvcmllcy5wcmVmLmNvbGxhcHNlZH1cbiAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgaWQ9e3RvcFN0b3JpZXMuaWR9XG4gICAgICAgICAgICBpc0ZpeGVkPXt0cnVlfVxuICAgICAgICAgICAgbGVhcm5Nb3JlPXtsZWFybk1vcmV9XG4gICAgICAgICAgICBwcml2YWN5Tm90aWNlVVJMPXt0b3BTdG9yaWVzLnByaXZhY3lOb3RpY2VVUkx9XG4gICAgICAgICAgICBzaG93UHJlZk5hbWU9e3RvcFN0b3JpZXMucHJlZi5mZWVkfVxuICAgICAgICAgICAgdGl0bGU9e3NlY3Rpb25UaXRsZX1cbiAgICAgICAgICAgIHN1YlRpdGxlPXtzdWJUaXRsZX1cbiAgICAgICAgICAgIGV2ZW50U291cmNlPVwiQ0FSREdSSURcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckxheW91dChsYXlvdXRSZW5kZXIpfVxuICAgICAgICAgIDwvQ29sbGFwc2libGVTZWN0aW9uPlxuICAgICAgICApfVxuICAgICAgICB7dGhpcy5yZW5kZXJMYXlvdXQoW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMixcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFt7IHR5cGU6IFwiSGlnaGxpZ2h0c1wiIH1dLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0pfVxuICAgICAgICB7cHJpdmFjeUxpbmtDb21wb25lbnQgJiZcbiAgICAgICAgICB0aGlzLnJlbmRlckxheW91dChbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMixcbiAgICAgICAgICAgICAgY29tcG9uZW50czogW3ByaXZhY3lMaW5rQ29tcG9uZW50XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSl9XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJMYXlvdXQobGF5b3V0UmVuZGVyKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGlzY292ZXJ5LXN0cmVhbSBkcy1sYXlvdXRcIj5cbiAgICAgICAge2xheW91dFJlbmRlci5tYXAoKHJvdywgcm93SW5kZXgpID0+IChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBrZXk9e2Byb3ctJHtyb3dJbmRleH1gfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgZHMtY29sdW1uIGRzLWNvbHVtbi0ke3Jvdy53aWR0aH1gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtY29sdW1uLWdyaWRcIj5cbiAgICAgICAgICAgICAge3Jvdy5jb21wb25lbnRzLm1hcCgoY29tcG9uZW50LCBjb21wb25lbnRJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3R5bGVzW3Jvd0luZGV4XSA9IFtcbiAgICAgICAgICAgICAgICAgIC4uLihzdHlsZXNbcm93SW5kZXhdIHx8IFtdKSxcbiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5zdHlsZXMsXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2Bjb21wb25lbnQtJHtjb21wb25lbnRJbmRleH1gfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgcm93LndpZHRoKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuICAgICAgICB7dGhpcy5yZW5kZXJTdHlsZXMoc3R5bGVzKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IERpc2NvdmVyeVN0cmVhbUJhc2UgPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIERpc2NvdmVyeVN0cmVhbTogc3RhdGUuRGlzY292ZXJ5U3RyZWFtLFxuICBQcmVmczogc3RhdGUuUHJlZnMsXG4gIFNlY3Rpb25zOiBzdGF0ZS5TZWN0aW9ucyxcbiAgZG9jdW1lbnQ6IGdsb2JhbC5kb2N1bWVudCxcbiAgQXBwOiBzdGF0ZS5BcHAsXG59KSkoX0Rpc2NvdmVyeVN0cmVhbUJhc2UpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgRFNJbWFnZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMub25PcHRpbWl6ZWRJbWFnZUVycm9yID0gdGhpcy5vbk9wdGltaXplZEltYWdlRXJyb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTm9uT3B0aW1pemVkSW1hZ2VFcnJvciA9IHRoaXMub25Ob25PcHRpbWl6ZWRJbWFnZUVycm9yLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkxvYWQgPSB0aGlzLm9uTG9hZC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIG9wdGltaXplZEltYWdlRmFpbGVkOiBmYWxzZSxcbiAgICAgIHVzZVRyYW5zaXRpb246IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBvbklkbGVDYWxsYmFjaygpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB1c2VUcmFuc2l0aW9uOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmVmb3JtYXRJbWFnZVVSTCh1cmwsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAvLyBDaGFuZ2UgdGhlIGltYWdlIFVSTCB0byByZXF1ZXN0IGEgc2l6ZSB0YWlsb3JlZCBmb3IgdGhlIHBhcmVudCBjb250YWluZXIgd2lkdGhcbiAgICAvLyBBbHNvOiBmb3JjZSBKUEVHLCBxdWFsaXR5IDYwLCBubyB1cHNjYWxpbmcsIG5vIEVYSUYgZGF0YVxuICAgIC8vIFVzZXMgVGh1bWJvcjogaHR0cHM6Ly90aHVtYm9yLnJlYWR0aGVkb2NzLmlvL2VuL2xhdGVzdC91c2FnZS5odG1sXG4gICAgcmV0dXJuIGBodHRwczovL2ltZy1nZXRwb2NrZXQuY2RuLm1vemlsbGEubmV0LyR7d2lkdGh9eCR7aGVpZ2h0fS9maWx0ZXJzOmZvcm1hdChqcGVnKTpxdWFsaXR5KDYwKTpub191cHNjYWxlKCk6c3RyaXBfZXhpZigpLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgdXJsXG4gICAgKX1gO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5pZGxlQ2FsbGJhY2tJZCA9IHRoaXMucHJvcHMud2luZG93T2JqLnJlcXVlc3RJZGxlQ2FsbGJhY2soXG4gICAgICB0aGlzLm9uSWRsZUNhbGxiYWNrLmJpbmQodGhpcylcbiAgICApO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuaWRsZUNhbGxiYWNrSWQpIHtcbiAgICAgIHRoaXMucHJvcHMud2luZG93T2JqLmNhbmNlbElkbGVDYWxsYmFjayh0aGlzLmlkbGVDYWxsYmFja0lkKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IGNsYXNzTmFtZXMgPSBgZHMtaW1hZ2VcbiAgICAgICR7dGhpcy5wcm9wcy5leHRyYUNsYXNzTmFtZXMgPyBgICR7dGhpcy5wcm9wcy5leHRyYUNsYXNzTmFtZXN9YCA6IGBgfVxuICAgICAgJHt0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUudXNlVHJhbnNpdGlvbiA/IGAgdXNlLXRyYW5zaXRpb25gIDogYGB9XG4gICAgICAke3RoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5pc0xvYWRlZCA/IGAgbG9hZGVkYCA6IGBgfVxuICAgIGA7XG5cbiAgICBsZXQgaW1nO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5wcm9wcy5vcHRpbWl6ZSAmJlxuICAgICAgICB0aGlzLnByb3BzLnJhd1NvdXJjZSAmJlxuICAgICAgICAhdGhpcy5zdGF0ZS5vcHRpbWl6ZWRJbWFnZUZhaWxlZFxuICAgICAgKSB7XG4gICAgICAgIGxldCBiYXNlU291cmNlID0gdGhpcy5wcm9wcy5yYXdTb3VyY2U7XG5cbiAgICAgICAgbGV0IHNpemVSdWxlcyA9IFtdO1xuICAgICAgICBsZXQgc3JjU2V0UnVsZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBydWxlIG9mIHRoaXMucHJvcHMuc2l6ZXMpIHtcbiAgICAgICAgICBsZXQgeyBtZWRpYU1hdGNoZXIsIHdpZHRoLCBoZWlnaHQgfSA9IHJ1bGU7XG4gICAgICAgICAgbGV0IHNpemVSdWxlID0gYCR7bWVkaWFNYXRjaGVyfSAke3dpZHRofXB4YDtcbiAgICAgICAgICBzaXplUnVsZXMucHVzaChzaXplUnVsZSk7XG4gICAgICAgICAgbGV0IHNyY1NldFJ1bGUgPSBgJHt0aGlzLnJlZm9ybWF0SW1hZ2VVUkwoXG4gICAgICAgICAgICBiYXNlU291cmNlLFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHRcbiAgICAgICAgICApfSAke3dpZHRofXdgO1xuICAgICAgICAgIGxldCBzcmNTZXRSdWxlMnggPSBgJHt0aGlzLnJlZm9ybWF0SW1hZ2VVUkwoXG4gICAgICAgICAgICBiYXNlU291cmNlLFxuICAgICAgICAgICAgd2lkdGggKiAyLFxuICAgICAgICAgICAgaGVpZ2h0ICogMlxuICAgICAgICAgICl9ICR7d2lkdGggKiAyfXdgO1xuICAgICAgICAgIHNyY1NldFJ1bGVzLnB1c2goc3JjU2V0UnVsZSk7XG4gICAgICAgICAgc3JjU2V0UnVsZXMucHVzaChzcmNTZXRSdWxlMngpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2l6ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gV2UgaGF2ZSB0byBzdXBwbHkgYSBmYWxsYmFjayBpbiB0aGUgdmVyeSB1bmxpa2VseSBldmVudCB0aGF0IG5vbmUgb2ZcbiAgICAgICAgICAvLyB0aGUgbWVkaWEgcXVlcmllcyBtYXRjaC4gVGhlIHNtYWxsZXN0IGRpbWVuc2lvbiB3YXMgY2hvc2VuIGFyYml0cmFyaWx5LlxuICAgICAgICAgIHNpemVSdWxlcy5wdXNoKFxuICAgICAgICAgICAgYCR7dGhpcy5wcm9wcy5zaXplc1t0aGlzLnByb3BzLnNpemVzLmxlbmd0aCAtIDFdLndpZHRofXB4YFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpbWcgPSAoXG4gICAgICAgICAgPGltZ1xuICAgICAgICAgICAgbG9hZGluZz1cImxhenlcIlxuICAgICAgICAgICAgYWx0PXt0aGlzLnByb3BzLmFsdF90ZXh0fVxuICAgICAgICAgICAgY3Jvc3NPcmlnaW49XCJhbm9ueW1vdXNcIlxuICAgICAgICAgICAgb25Mb2FkPXt0aGlzLm9uTG9hZH1cbiAgICAgICAgICAgIG9uRXJyb3I9e3RoaXMub25PcHRpbWl6ZWRJbWFnZUVycm9yfVxuICAgICAgICAgICAgc2l6ZXM9e3NpemVSdWxlcy5qb2luKFwiLFwiKX1cbiAgICAgICAgICAgIHNyYz17YmFzZVNvdXJjZX1cbiAgICAgICAgICAgIHNyY1NldD17c3JjU2V0UnVsZXMuam9pbihcIixcIil9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuc3RhdGUubm9uT3B0aW1pemVkSW1hZ2VGYWlsZWQpIHtcbiAgICAgICAgaW1nID0gKFxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIGxvYWRpbmc9XCJsYXp5XCJcbiAgICAgICAgICAgIGFsdD17dGhpcy5wcm9wcy5hbHRfdGV4dH1cbiAgICAgICAgICAgIGNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCJcbiAgICAgICAgICAgIG9uTG9hZD17dGhpcy5vbkxvYWR9XG4gICAgICAgICAgICBvbkVycm9yPXt0aGlzLm9uTm9uT3B0aW1pemVkSW1hZ2VFcnJvcn1cbiAgICAgICAgICAgIHNyYz17dGhpcy5wcm9wcy5zb3VyY2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgaW1nIGVsZW1lbnQgaWYgYm90aCBzb3VyY2VzIGZhaWwuIFJlbmRlciBhIHBsYWNlaG9sZGVyIGluc3RlYWQuXG4gICAgICAgIGltZyA9IDxkaXYgY2xhc3NOYW1lPVwiYnJva2VuLWltYWdlXCIgLz47XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIDxwaWN0dXJlIGNsYXNzTmFtZT17Y2xhc3NOYW1lc30+e2ltZ308L3BpY3R1cmU+O1xuICB9XG5cbiAgb25PcHRpbWl6ZWRJbWFnZUVycm9yKCkge1xuICAgIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGEgcmUtcmVuZGVyIGFuZCB0aGUgdW5vcHRpbWl6ZWQgNDUwcHggaW1hZ2Ugd2lsbCBiZSB1c2VkIGFzIGEgZmFsbGJhY2tcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG9wdGltaXplZEltYWdlRmFpbGVkOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgb25Ob25PcHRpbWl6ZWRJbWFnZUVycm9yKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbm9uT3B0aW1pemVkSW1hZ2VGYWlsZWQ6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICBvbkxvYWQoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICB9KTtcbiAgfVxufVxuXG5EU0ltYWdlLmRlZmF1bHRQcm9wcyA9IHtcbiAgc291cmNlOiBudWxsLCAvLyBUaGUgY3VycmVudCBzb3VyY2Ugc3R5bGUgZnJvbSBQb2NrZXQgQVBJIChhbHdheXMgNDUwcHgpXG4gIHJhd1NvdXJjZTogbnVsbCwgLy8gVW5hZHVsdGVyYXRlZCBpbWFnZSBVUkwgdG8gZmlsdGVyIHRocm91Z2ggVGh1bWJvclxuICBleHRyYUNsYXNzTmFtZXM6IG51bGwsIC8vIEFkZGl0aW9uYWwgY2xhc3NuYW1lcyB0byBhcHBlbmQgdG8gY29tcG9uZW50XG4gIG9wdGltaXplOiB0cnVlLCAvLyBNZWFzdXJlIHBhcmVudCBjb250YWluZXIgdG8gcmVxdWVzdCBleGFjdCBzaXplc1xuICBhbHRfdGV4dDogbnVsbCxcbiAgd2luZG93T2JqOiB3aW5kb3csIC8vIEFkZGVkIHRvIHN1cHBvcnQgdW5pdCB0ZXN0c1xuICBzaXplczogW10sXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBDb250ZXh0TWVudSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51XCI7XG5pbXBvcnQgeyBMaW5rTWVudU9wdGlvbnMgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL2xpbmstbWVudS1vcHRpb25zXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmNvbnN0IERFRkFVTFRfU0lURV9NRU5VX09QVElPTlMgPSBbXG4gIFwiQ2hlY2tQaW5Ub3BTaXRlXCIsXG4gIFwiRWRpdFRvcFNpdGVcIixcbiAgXCJTZXBhcmF0b3JcIixcbiAgXCJPcGVuSW5OZXdXaW5kb3dcIixcbiAgXCJPcGVuSW5Qcml2YXRlV2luZG93XCIsXG4gIFwiU2VwYXJhdG9yXCIsXG4gIFwiQmxvY2tVcmxcIixcbl07XG5cbmV4cG9ydCBjbGFzcyBfTGlua01lbnUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgZ2V0T3B0aW9ucygpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHtcbiAgICAgIHNpdGUsXG4gICAgICBpbmRleCxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGlzUHJpdmF0ZUJyb3dzaW5nRW5hYmxlZCxcbiAgICAgIHNpdGVJbmZvLFxuICAgICAgcGxhdGZvcm0sXG4gICAgfSA9IHByb3BzO1xuXG4gICAgLy8gSGFuZGxlIHNwZWNpYWwgY2FzZSBvZiBkZWZhdWx0IHNpdGVcbiAgICBjb25zdCBwcm9wT3B0aW9ucyA9XG4gICAgICBzaXRlLmlzRGVmYXVsdCAmJiAhc2l0ZS5zZWFyY2hUb3BTaXRlICYmICFzaXRlLnNwb25zb3JlZF9wb3NpdGlvblxuICAgICAgICA/IERFRkFVTFRfU0lURV9NRU5VX09QVElPTlNcbiAgICAgICAgOiBwcm9wcy5vcHRpb25zO1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHByb3BPcHRpb25zXG4gICAgICAubWFwKG8gPT5cbiAgICAgICAgTGlua01lbnVPcHRpb25zW29dKFxuICAgICAgICAgIHNpdGUsXG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgc291cmNlLFxuICAgICAgICAgIGlzUHJpdmF0ZUJyb3dzaW5nRW5hYmxlZCxcbiAgICAgICAgICBzaXRlSW5mbyxcbiAgICAgICAgICBwbGF0Zm9ybVxuICAgICAgICApXG4gICAgICApXG4gICAgICAubWFwKG9wdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IHsgYWN0aW9uLCBpbXByZXNzaW9uLCBpZCwgdHlwZSwgdXNlckV2ZW50IH0gPSBvcHRpb247XG4gICAgICAgIGlmICghdHlwZSAmJiBpZCkge1xuICAgICAgICAgIG9wdGlvbi5vbkNsaWNrID0gKGV2ZW50ID0ge30pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgY3RybEtleSwgbWV0YUtleSwgc2hpZnRLZXksIGJ1dHRvbiB9ID0gZXZlbnQ7XG4gICAgICAgICAgICAvLyBPbmx5IHNlbmQgYWxvbmcgZXZlbnQgaW5mbyBpZiB0aGVyZSdzIHNvbWV0aGluZyBub24tZGVmYXVsdCB0byBzZW5kXG4gICAgICAgICAgICBpZiAoY3RybEtleSB8fCBtZXRhS2V5IHx8IHNoaWZ0S2V5IHx8IGJ1dHRvbiA9PT0gMSkge1xuICAgICAgICAgICAgICBhY3Rpb24uZGF0YSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgZXZlbnQ6IHsgY3RybEtleSwgbWV0YUtleSwgc2hpZnRLZXksIGJ1dHRvbiB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWN0aW9uLmRhdGFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb3BzLmRpc3BhdGNoKGFjdGlvbik7XG4gICAgICAgICAgICBpZiAodXNlckV2ZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IHVzZXJFdmVudERhdGEgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50OiB1c2VyRXZlbnQsXG4gICAgICAgICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IGluZGV4LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2l0ZUluZm9cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcHJvcHMuZGlzcGF0Y2goYWMuVXNlckV2ZW50KHVzZXJFdmVudERhdGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbXByZXNzaW9uICYmIHByb3BzLnNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHMpIHtcbiAgICAgICAgICAgICAgcHJvcHMuZGlzcGF0Y2goaW1wcmVzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0aW9uO1xuICAgICAgfSk7XG5cbiAgICAvLyBUaGlzIGlzIGZvciBhY2Nlc3NpYmlsaXR5IHRvIHN1cHBvcnQgbWFraW5nIGVhY2ggaXRlbSB0YWJiYWJsZS5cbiAgICAvLyBXZSB3YW50IHRvIGtub3cgd2hpY2ggaXRlbSBpcyB0aGUgZmlyc3QgYW5kIHdoaWNoIGl0ZW1cbiAgICAvLyBpcyB0aGUgbGFzdCwgc28gd2UgY2FuIGNsb3NlIHRoZSBjb250ZXh0IG1lbnUgYWNjb3JkaW5nbHkuXG4gICAgb3B0aW9uc1swXS5maXJzdCA9IHRydWU7XG4gICAgb3B0aW9uc1tvcHRpb25zLmxlbmd0aCAtIDFdLmxhc3QgPSB0cnVlO1xuICAgIHJldHVybiBvcHRpb25zO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Q29udGV4dE1lbnVcbiAgICAgICAgb25VcGRhdGU9e3RoaXMucHJvcHMub25VcGRhdGV9XG4gICAgICAgIG9uU2hvdz17dGhpcy5wcm9wcy5vblNob3d9XG4gICAgICAgIG9wdGlvbnM9e3RoaXMuZ2V0T3B0aW9ucygpfVxuICAgICAgICBrZXlib2FyZEFjY2Vzcz17dGhpcy5wcm9wcy5rZXlib2FyZEFjY2Vzc31cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBnZXRTdGF0ZSA9IHN0YXRlID0+ICh7XG4gIGlzUHJpdmF0ZUJyb3dzaW5nRW5hYmxlZDogc3RhdGUuUHJlZnMudmFsdWVzLmlzUHJpdmF0ZUJyb3dzaW5nRW5hYmxlZCxcbiAgcGxhdGZvcm06IHN0YXRlLlByZWZzLnZhbHVlcy5wbGF0Zm9ybSxcbn0pO1xuZXhwb3J0IGNvbnN0IExpbmtNZW51ID0gY29ubmVjdChnZXRTdGF0ZSkoX0xpbmtNZW51KTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcblxuZXhwb3J0IGNsYXNzIENvbnRleHRNZW51IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuaGlkZUNvbnRleHQgPSB0aGlzLmhpZGVDb250ZXh0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblNob3cgPSB0aGlzLm9uU2hvdy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaGlkZUNvbnRleHQoKSB7XG4gICAgdGhpcy5wcm9wcy5vblVwZGF0ZShmYWxzZSk7XG4gIH1cblxuICBvblNob3coKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25TaG93KSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2hvdygpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMub25TaG93KCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGlkZUNvbnRleHQpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgZ2xvYmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhpZGVDb250ZXh0KTtcbiAgfVxuXG4gIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAvLyBFYXQgYWxsIGNsaWNrcyBvbiB0aGUgY29udGV4dCBtZW51IHNvIHRoZXkgZG9uJ3QgYnViYmxlIHVwIHRvIHdpbmRvdy5cbiAgICAvLyBUaGlzIHByZXZlbnRzIHRoZSBjb250ZXh0IG1lbnUgZnJvbSBjbG9zaW5nIHdoZW4gY2xpY2tpbmcgZGlzYWJsZWQgaXRlbXNcbiAgICAvLyBvciB0aGUgc2VwYXJhdG9ycy5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvLyBEaXNhYmxpbmcgZm9jdXMgb24gdGhlIG1lbnUgc3BhbiBhbGxvd3MgdGhlIGZpcnN0IHRhYiB0byBmb2N1cyBvbiB0aGUgZmlyc3QgbWVudSBpdGVtIGluc3RlYWQgb2YgdGhlIHdyYXBwZXIuXG4gICAgcmV0dXJuIChcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc3gtYTExeS9pbnRlcmFjdGl2ZS1zdXBwb3J0cy1mb2N1c1xuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY29udGV4dC1tZW51XCI+XG4gICAgICAgIDx1bFxuICAgICAgICAgIHJvbGU9XCJtZW51XCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgb25LZXlEb3duPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiY29udGV4dC1tZW51LWxpc3RcIlxuICAgICAgICA+XG4gICAgICAgICAge3RoaXMucHJvcHMub3B0aW9ucy5tYXAoKG9wdGlvbiwgaSkgPT5cbiAgICAgICAgICAgIG9wdGlvbi50eXBlID09PSBcInNlcGFyYXRvclwiID8gKFxuICAgICAgICAgICAgICA8bGkga2V5PXtpfSBjbGFzc05hbWU9XCJzZXBhcmF0b3JcIiByb2xlPVwic2VwYXJhdG9yXCIgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIG9wdGlvbi50eXBlICE9PSBcImVtcHR5XCIgJiYgKFxuICAgICAgICAgICAgICAgIDxDb250ZXh0TWVudUl0ZW1cbiAgICAgICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgICAgIG9wdGlvbj17b3B0aW9ufVxuICAgICAgICAgICAgICAgICAgaGlkZUNvbnRleHQ9e3RoaXMuaGlkZUNvbnRleHR9XG4gICAgICAgICAgICAgICAgICBrZXlib2FyZEFjY2Vzcz17dGhpcy5wcm9wcy5rZXlib2FyZEFjY2Vzc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBfQ29udGV4dE1lbnVJdGVtIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25LZXlEb3duID0gdGhpcy5vbktleURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uS2V5VXAgPSB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKTtcbiAgICB0aGlzLmZvY3VzRmlyc3QgPSB0aGlzLmZvY3VzRmlyc3QuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uQ2xpY2soZXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLmhpZGVDb250ZXh0KCk7XG4gICAgdGhpcy5wcm9wcy5vcHRpb24ub25DbGljayhldmVudCk7XG4gIH1cblxuICAvLyBGb2N1cyB0aGUgZmlyc3QgbWVudSBpdGVtIGlmIHRoZSBtZW51IHdhcyBhY2Nlc3NlZCB2aWEgdGhlIGtleWJvYXJkLlxuICBmb2N1c0ZpcnN0KGJ1dHRvbikge1xuICAgIGlmICh0aGlzLnByb3BzLmtleWJvYXJkQWNjZXNzICYmIGJ1dHRvbikge1xuICAgICAgYnV0dG9uLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVGhpcyBzZWxlY3RzIHRoZSBjb3JyZWN0IG5vZGUgYmFzZWQgb24gdGhlIGtleSBwcmVzc2VkXG4gIGZvY3VzU2libGluZyh0YXJnZXQsIGtleSkge1xuICAgIGNvbnN0IHBhcmVudCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgIGNvbnN0IGNsb3Nlc3RTaWJsaW5nU2VsZWN0b3IgPVxuICAgICAga2V5ID09PSBcIkFycm93VXBcIiA/IFwicHJldmlvdXNTaWJsaW5nXCIgOiBcIm5leHRTaWJsaW5nXCI7XG4gICAgaWYgKCFwYXJlbnRbY2xvc2VzdFNpYmxpbmdTZWxlY3Rvcl0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHBhcmVudFtjbG9zZXN0U2libGluZ1NlbGVjdG9yXS5maXJzdEVsZW1lbnRDaGlsZCkge1xuICAgICAgcGFyZW50W2Nsb3Nlc3RTaWJsaW5nU2VsZWN0b3JdLmZpcnN0RWxlbWVudENoaWxkLmZvY3VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmVudFtjbG9zZXN0U2libGluZ1NlbGVjdG9yXVtcbiAgICAgICAgY2xvc2VzdFNpYmxpbmdTZWxlY3RvclxuICAgICAgXS5maXJzdEVsZW1lbnRDaGlsZC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIG9uS2V5RG93bihldmVudCkge1xuICAgIGNvbnN0IHsgb3B0aW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICBjYXNlIFwiVGFiXCI6XG4gICAgICAgIC8vIHRhYiBnb2VzIGRvd24gaW4gY29udGV4dCBtZW51LCBzaGlmdCArIHRhYiBnb2VzIHVwIGluIGNvbnRleHQgbWVudVxuICAgICAgICAvLyBpZiB3ZSdyZSBvbiB0aGUgbGFzdCBpdGVtLCBvbmUgbW9yZSB0YWIgd2lsbCBjbG9zZSB0aGUgY29udGV4dCBtZW51XG4gICAgICAgIC8vIHNpbWlsYXJseSwgaWYgd2UncmUgb24gdGhlIGZpcnN0IGl0ZW0sIG9uZSBtb3JlIHNoaWZ0ICsgdGFiIHdpbGwgY2xvc2UgaXRcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChldmVudC5zaGlmdEtleSAmJiBvcHRpb24uZmlyc3QpIHx8XG4gICAgICAgICAgKCFldmVudC5zaGlmdEtleSAmJiBvcHRpb24ubGFzdClcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5oaWRlQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkFycm93VXBcIjpcbiAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5mb2N1c1NpYmxpbmcoZXZlbnQudGFyZ2V0LCBldmVudC5rZXkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJFbnRlclwiOlxuICAgICAgY2FzZSBcIiBcIjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5wcm9wcy5oaWRlQ29udGV4dCgpO1xuICAgICAgICBvcHRpb24ub25DbGljaygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJFc2NhcGVcIjpcbiAgICAgICAgdGhpcy5wcm9wcy5oaWRlQ29udGV4dCgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBQcmV2ZW50cyB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiBzcGFjZWJhclxuICAvLyBzY3JvbGxpbmcgdGhlIHBhZ2UgJiBhdXRvLXRyaWdnZXJpbmcgYnV0dG9ucy5cbiAgb25LZXlVcChldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG9wdGlvbiB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIHJvbGU9XCJwcmVzZW50YXRpb25cIiBjbGFzc05hbWU9XCJjb250ZXh0LW1lbnUtaXRlbVwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPXtvcHRpb24uZGlzYWJsZWQgPyBcImRpc2FibGVkXCIgOiBcIlwifVxuICAgICAgICAgIHJvbGU9XCJtZW51aXRlbVwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5vbktleURvd259XG4gICAgICAgICAgb25LZXlVcD17dGhpcy5vbktleVVwfVxuICAgICAgICAgIHJlZj17b3B0aW9uLmZpcnN0ID8gdGhpcy5mb2N1c0ZpcnN0IDogbnVsbH1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGRhdGEtbDEwbi1pZD17b3B0aW9uLnN0cmluZ19pZCB8fCBvcHRpb24uaWR9IC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBDb250ZXh0TWVudUl0ZW0gPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbn0pKShfQ29udGV4dE1lbnVJdGVtKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcblxuY29uc3QgX09wZW5JblByaXZhdGVXaW5kb3cgPSBzaXRlID0+ICh7XG4gIGlkOiBcIm5ld3RhYi1tZW51LW9wZW4tbmV3LXByaXZhdGUtd2luZG93XCIsXG4gIGljb246IFwibmV3LXdpbmRvdy1wcml2YXRlXCIsXG4gIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgdHlwZTogYXQuT1BFTl9QUklWQVRFX1dJTkRPVyxcbiAgICBkYXRhOiB7IHVybDogc2l0ZS51cmwsIHJlZmVycmVyOiBzaXRlLnJlZmVycmVyIH0sXG4gIH0pLFxuICB1c2VyRXZlbnQ6IFwiT1BFTl9QUklWQVRFX1dJTkRPV1wiLFxufSk7XG5cbi8qKlxuICogTGlzdCBvZiBmdW5jdGlvbnMgdGhhdCByZXR1cm4gaXRlbXMgdGhhdCBjYW4gYmUgaW5jbHVkZWQgYXMgbWVudSBvcHRpb25zIGluIGFcbiAqIExpbmtNZW51LiBBbGwgZnVuY3Rpb25zIHRha2UgdGhlIHNpdGUgYXMgdGhlIGZpcnN0IHBhcmFtZXRlciwgYW5kIG9wdGlvbmFsbHlcbiAqIHRoZSBpbmRleCBvZiB0aGUgc2l0ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IExpbmtNZW51T3B0aW9ucyA9IHtcbiAgU2VwYXJhdG9yOiAoKSA9PiAoeyB0eXBlOiBcInNlcGFyYXRvclwiIH0pLFxuICBFbXB0eUl0ZW06ICgpID0+ICh7IHR5cGU6IFwiZW1wdHlcIiB9KSxcbiAgU2hvd1ByaXZhY3lJbmZvOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtc2hvdy1wcml2YWN5LWluZm9cIixcbiAgICBpY29uOiBcImluZm9cIixcbiAgICBhY3Rpb246IHtcbiAgICAgIHR5cGU6IGF0LlNIT1dfUFJJVkFDWV9JTkZPLFxuICAgIH0sXG4gICAgdXNlckV2ZW50OiBcIlNIT1dfUFJJVkFDWV9JTkZPXCIsXG4gIH0pLFxuICBBYm91dFNwb25zb3JlZDogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LXNob3ctcHJpdmFjeS1pbmZvXCIsXG4gICAgaWNvbjogXCJpbmZvXCIsXG4gICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LkFCT1VUX1NQT05TT1JFRF9UT1BfU0lURVMsXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIlRPUFNJVEVfU1BPTlNPUl9JTkZPXCIsXG4gIH0pLFxuICBSZW1vdmVCb29rbWFyazogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LXJlbW92ZS1ib29rbWFya1wiLFxuICAgIGljb246IFwiYm9va21hcmstYWRkZWRcIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuREVMRVRFX0JPT0tNQVJLX0JZX0lELFxuICAgICAgZGF0YTogc2l0ZS5ib29rbWFya0d1aWQsXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIkJPT0tNQVJLX0RFTEVURVwiLFxuICB9KSxcbiAgQWRkQm9va21hcms6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1ib29rbWFya1wiLFxuICAgIGljb246IFwiYm9va21hcmstaG9sbG93XCIsXG4gICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LkJPT0tNQVJLX1VSTCxcbiAgICAgIGRhdGE6IHsgdXJsOiBzaXRlLnVybCwgdGl0bGU6IHNpdGUudGl0bGUsIHR5cGU6IHNpdGUudHlwZSB9LFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJCT09LTUFSS19BRERcIixcbiAgfSksXG4gIE9wZW5Jbk5ld1dpbmRvdzogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LW9wZW4tbmV3LXdpbmRvd1wiLFxuICAgIGljb246IFwibmV3LXdpbmRvd1wiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5PUEVOX05FV19XSU5ET1csXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHJlZmVycmVyOiBzaXRlLnJlZmVycmVyLFxuICAgICAgICB0eXBlZEJvbnVzOiBzaXRlLnR5cGVkQm9udXMsXG4gICAgICAgIHVybDogc2l0ZS51cmwsXG4gICAgICB9LFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJPUEVOX05FV19XSU5ET1dcIixcbiAgfSksXG4gIC8vIFRoaXMgYmxvY2tzIHRoZSB1cmwgZm9yIHJlZ3VsYXIgc3RvcmllcyxcbiAgLy8gYnV0IGFsc28gc2VuZHMgYSBtZXNzYWdlIHRvIERpc2NvdmVyeVN0cmVhbSB3aXRoIGZsaWdodF9pZC5cbiAgLy8gSWYgRGlzY292ZXJ5U3RyZWFtIHNlZXMgdGhpcyBtZXNzYWdlIGZvciBhIGZsaWdodF9pZFxuICAvLyBpdCBhbHNvIGJsb2NrcyBpdCBvbiB0aGUgZmxpZ2h0X2lkLlxuICBCbG9ja1VybDogKHNpdGUsIGluZGV4LCBldmVudFNvdXJjZSkgPT4ge1xuICAgIHJldHVybiBMaW5rTWVudU9wdGlvbnMuQmxvY2tVcmxzKFtzaXRlXSwgaW5kZXgsIGV2ZW50U291cmNlKTtcbiAgfSxcbiAgLy8gU2FtZSBhcyBCbG9ja1VybCwgY2VwdCBjYW4gd29yayBvbiBhbiBhcnJheSBvZiBzaXRlcy5cbiAgQmxvY2tVcmxzOiAodGlsZXMsIHBvcywgZXZlbnRTb3VyY2UpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtZGlzbWlzc1wiLFxuICAgIGljb246IFwiZGlzbWlzc1wiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5CTE9DS19VUkwsXG4gICAgICBkYXRhOiB0aWxlcy5tYXAoc2l0ZSA9PiAoe1xuICAgICAgICB1cmw6IHNpdGUub3JpZ2luYWxfdXJsIHx8IHNpdGUub3Blbl91cmwgfHwgc2l0ZS51cmwsXG4gICAgICAgIC8vIHBvY2tldF9pZCBpcyBvbmx5IGZvciBwb2NrZXQgc3RvcmllcyBiZWluZyBpbiBoaWdobGlnaHRzLCBhbmQgdGhlbiBkaXNtaXNzZWQuXG4gICAgICAgIHBvY2tldF9pZDogc2l0ZS5wb2NrZXRfaWQsXG4gICAgICAgIC8vIHVzZWQgYnkgUGxhY2VzRmVlZCBhbmQgVG9wU2l0ZXNGZWVkIGZvciBzcG9uc29yZWQgdG9wIHNpdGVzIGJsb2NraW5nLlxuICAgICAgICBpc1Nwb25zb3JlZFRvcFNpdGU6IHNpdGUuc3BvbnNvcmVkX3Bvc2l0aW9uLFxuICAgICAgICAuLi4oc2l0ZS5mbGlnaHRfaWQgPyB7IGZsaWdodF9pZDogc2l0ZS5mbGlnaHRfaWQgfSA6IHt9KSxcbiAgICAgIH0pKSxcbiAgICB9KSxcbiAgICBpbXByZXNzaW9uOiBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgc291cmNlOiBldmVudFNvdXJjZSxcbiAgICAgIGJsb2NrOiAwLFxuICAgICAgdGlsZXM6IHRpbGVzLm1hcCgoc2l0ZSwgaW5kZXgpID0+ICh7XG4gICAgICAgIGlkOiBzaXRlLmd1aWQsXG4gICAgICAgIHBvczogcG9zICsgaW5kZXgsXG4gICAgICAgIC4uLihzaXRlLnNoaW0gJiYgc2l0ZS5zaGltLmRlbGV0ZSA/IHsgc2hpbTogc2l0ZS5zaGltLmRlbGV0ZSB9IDoge30pLFxuICAgICAgfSkpLFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJCTE9DS1wiLFxuICB9KSxcblxuICAvLyBUaGlzIGlzIGFuIG9wdGlvbiBmb3Igd2ViIGV4dGVudGlvbnMgd2hpY2ggd2lsbCByZXN1bHQgaW4gcmVtb3ZlIGl0ZW1zIGZyb21cbiAgLy8gbWVtb3J5IGFuZCBub3RpZnkgdGhlIHdlYiBleHRlbmlvbiwgcmF0aGVyIHRoYW4gdXNpbmcgdGhlIGJ1aWx0LWluIGJsb2NrIGxpc3QuXG4gIFdlYkV4dERpc21pc3M6IChzaXRlLCBpbmRleCwgZXZlbnRTb3VyY2UpID0+ICh7XG4gICAgaWQ6IFwibWVudV9hY3Rpb25fd2ViZXh0X2Rpc21pc3NcIixcbiAgICBzdHJpbmdfaWQ6IFwibmV3dGFiLW1lbnUtZGlzbWlzc1wiLFxuICAgIGljb246IFwiZGlzbWlzc1wiLFxuICAgIGFjdGlvbjogYWMuV2ViRXh0RXZlbnQoYXQuV0VCRVhUX0RJU01JU1MsIHtcbiAgICAgIHNvdXJjZTogZXZlbnRTb3VyY2UsXG4gICAgICB1cmw6IHNpdGUudXJsLFxuICAgICAgYWN0aW9uX3Bvc2l0aW9uOiBpbmRleCxcbiAgICB9KSxcbiAgfSksXG4gIERlbGV0ZVVybDogKHNpdGUsIGluZGV4LCBldmVudFNvdXJjZSwgaXNFbmFibGVkLCBzaXRlSW5mbykgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1kZWxldGUtaGlzdG9yeVwiLFxuICAgIGljb246IFwiZGVsZXRlXCIsXG4gICAgYWN0aW9uOiB7XG4gICAgICB0eXBlOiBhdC5ESUFMT0dfT1BFTixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgb25Db25maXJtOiBbXG4gICAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5ERUxFVEVfSElTVE9SWV9VUkwsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHVybDogc2l0ZS51cmwsXG4gICAgICAgICAgICAgIHBvY2tldF9pZDogc2l0ZS5wb2NrZXRfaWQsXG4gICAgICAgICAgICAgIGZvcmNlQmxvY2s6IHNpdGUuYm9va21hcmtHdWlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBhYy5Vc2VyRXZlbnQoXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICB7IGV2ZW50OiBcIkRFTEVURVwiLCBzb3VyY2U6IGV2ZW50U291cmNlLCBhY3Rpb25fcG9zaXRpb246IGluZGV4IH0sXG4gICAgICAgICAgICAgIHNpdGVJbmZvXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgXSxcbiAgICAgICAgZXZlbnRTb3VyY2UsXG4gICAgICAgIGJvZHlfc3RyaW5nX2lkOiBbXG4gICAgICAgICAgXCJuZXd0YWItY29uZmlybS1kZWxldGUtaGlzdG9yeS1wMVwiLFxuICAgICAgICAgIFwibmV3dGFiLWNvbmZpcm0tZGVsZXRlLWhpc3RvcnktcDJcIixcbiAgICAgICAgXSxcbiAgICAgICAgY29uZmlybV9idXR0b25fc3RyaW5nX2lkOiBcIm5ld3RhYi10b3BzaXRlcy1kZWxldGUtaGlzdG9yeS1idXR0b25cIixcbiAgICAgICAgY2FuY2VsX2J1dHRvbl9zdHJpbmdfaWQ6IFwibmV3dGFiLXRvcHNpdGVzLWNhbmNlbC1idXR0b25cIixcbiAgICAgICAgaWNvbjogXCJtb2RhbC1kZWxldGVcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICB1c2VyRXZlbnQ6IFwiRElBTE9HX09QRU5cIixcbiAgfSksXG4gIFNob3dGaWxlOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtc2hvdy1maWxlXCIsXG4gICAgaWNvbjogXCJzZWFyY2hcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuU0hPV19ET1dOTE9BRF9GSUxFLFxuICAgICAgZGF0YTogeyB1cmw6IHNpdGUudXJsIH0sXG4gICAgfSksXG4gIH0pLFxuICBPcGVuRmlsZTogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LW9wZW4tZmlsZVwiLFxuICAgIGljb246IFwib3Blbi1maWxlXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0Lk9QRU5fRE9XTkxPQURfRklMRSxcbiAgICAgIGRhdGE6IHsgdXJsOiBzaXRlLnVybCB9LFxuICAgIH0pLFxuICB9KSxcbiAgQ29weURvd25sb2FkTGluazogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LWNvcHktZG93bmxvYWQtbGlua1wiLFxuICAgIGljb246IFwiY29weVwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5DT1BZX0RPV05MT0FEX0xJTkssXG4gICAgICBkYXRhOiB7IHVybDogc2l0ZS51cmwgfSxcbiAgICB9KSxcbiAgfSksXG4gIEdvVG9Eb3dubG9hZFBhZ2U6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1nby10by1kb3dubG9hZC1wYWdlXCIsXG4gICAgaWNvbjogXCJkb3dubG9hZFwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5PUEVOX0xJTkssXG4gICAgICBkYXRhOiB7IHVybDogc2l0ZS5yZWZlcnJlciB9LFxuICAgIH0pLFxuICAgIGRpc2FibGVkOiAhc2l0ZS5yZWZlcnJlcixcbiAgfSksXG4gIFJlbW92ZURvd25sb2FkOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtcmVtb3ZlLWRvd25sb2FkXCIsXG4gICAgaWNvbjogXCJkZWxldGVcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuUkVNT1ZFX0RPV05MT0FEX0ZJTEUsXG4gICAgICBkYXRhOiB7IHVybDogc2l0ZS51cmwgfSxcbiAgICB9KSxcbiAgfSksXG4gIFBpblRvcFNpdGU6IChzaXRlLCBpbmRleCkgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1waW5cIixcbiAgICBpY29uOiBcInBpblwiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5UT1BfU0lURVNfUElOLFxuICAgICAgZGF0YToge1xuICAgICAgICBzaXRlLFxuICAgICAgICBpbmRleCxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIlBJTlwiLFxuICB9KSxcbiAgVW5waW5Ub3BTaXRlOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtdW5waW5cIixcbiAgICBpY29uOiBcInVucGluXCIsXG4gICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19VTlBJTixcbiAgICAgIGRhdGE6IHsgc2l0ZTogeyB1cmw6IHNpdGUudXJsIH0gfSxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiVU5QSU5cIixcbiAgfSksXG4gIFNhdmVUb1BvY2tldDogKHNpdGUsIGluZGV4LCBldmVudFNvdXJjZSA9IFwiQ0FSREdSSURcIikgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1zYXZlLXRvLXBvY2tldFwiLFxuICAgIGljb246IFwicG9ja2V0LXNhdmVcIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuU0FWRV9UT19QT0NLRVQsXG4gICAgICBkYXRhOiB7IHNpdGU6IHsgdXJsOiBzaXRlLnVybCwgdGl0bGU6IHNpdGUudGl0bGUgfSB9LFxuICAgIH0pLFxuICAgIGltcHJlc3Npb246IGFjLkltcHJlc3Npb25TdGF0cyh7XG4gICAgICBzb3VyY2U6IGV2ZW50U291cmNlLFxuICAgICAgcG9ja2V0OiAwLFxuICAgICAgdGlsZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBzaXRlLmd1aWQsXG4gICAgICAgICAgcG9zOiBpbmRleCxcbiAgICAgICAgICAuLi4oc2l0ZS5zaGltICYmIHNpdGUuc2hpbS5zYXZlID8geyBzaGltOiBzaXRlLnNoaW0uc2F2ZSB9IDoge30pLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiU0FWRV9UT19QT0NLRVRcIixcbiAgfSksXG4gIERlbGV0ZUZyb21Qb2NrZXQ6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1kZWxldGUtcG9ja2V0XCIsXG4gICAgaWNvbjogXCJwb2NrZXQtZGVsZXRlXCIsXG4gICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LkRFTEVURV9GUk9NX1BPQ0tFVCxcbiAgICAgIGRhdGE6IHsgcG9ja2V0X2lkOiBzaXRlLnBvY2tldF9pZCB9LFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJERUxFVEVfRlJPTV9QT0NLRVRcIixcbiAgfSksXG4gIEFyY2hpdmVGcm9tUG9ja2V0OiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtYXJjaGl2ZS1wb2NrZXRcIixcbiAgICBpY29uOiBcInBvY2tldC1hcmNoaXZlXCIsXG4gICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LkFSQ0hJVkVfRlJPTV9QT0NLRVQsXG4gICAgICBkYXRhOiB7IHBvY2tldF9pZDogc2l0ZS5wb2NrZXRfaWQgfSxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiQVJDSElWRV9GUk9NX1BPQ0tFVFwiLFxuICB9KSxcbiAgRWRpdFRvcFNpdGU6IChzaXRlLCBpbmRleCkgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1lZGl0LXRvcHNpdGVzXCIsXG4gICAgaWNvbjogXCJlZGl0XCIsXG4gICAgYWN0aW9uOiB7XG4gICAgICB0eXBlOiBhdC5UT1BfU0lURVNfRURJVCxcbiAgICAgIGRhdGE6IHsgaW5kZXggfSxcbiAgICB9LFxuICB9KSxcbiAgQ2hlY2tCb29rbWFyazogc2l0ZSA9PlxuICAgIHNpdGUuYm9va21hcmtHdWlkXG4gICAgICA/IExpbmtNZW51T3B0aW9ucy5SZW1vdmVCb29rbWFyayhzaXRlKVxuICAgICAgOiBMaW5rTWVudU9wdGlvbnMuQWRkQm9va21hcmsoc2l0ZSksXG4gIENoZWNrUGluVG9wU2l0ZTogKHNpdGUsIGluZGV4KSA9PlxuICAgIHNpdGUuaXNQaW5uZWRcbiAgICAgID8gTGlua01lbnVPcHRpb25zLlVucGluVG9wU2l0ZShzaXRlKVxuICAgICAgOiBMaW5rTWVudU9wdGlvbnMuUGluVG9wU2l0ZShzaXRlLCBpbmRleCksXG4gIENoZWNrU2F2ZWRUb1BvY2tldDogKHNpdGUsIGluZGV4LCBzb3VyY2UpID0+XG4gICAgc2l0ZS5wb2NrZXRfaWRcbiAgICAgID8gTGlua01lbnVPcHRpb25zLkRlbGV0ZUZyb21Qb2NrZXQoc2l0ZSlcbiAgICAgIDogTGlua01lbnVPcHRpb25zLlNhdmVUb1BvY2tldChzaXRlLCBpbmRleCwgc291cmNlKSxcbiAgQ2hlY2tCb29rbWFya09yQXJjaGl2ZTogc2l0ZSA9PlxuICAgIHNpdGUucG9ja2V0X2lkXG4gICAgICA/IExpbmtNZW51T3B0aW9ucy5BcmNoaXZlRnJvbVBvY2tldChzaXRlKVxuICAgICAgOiBMaW5rTWVudU9wdGlvbnMuQ2hlY2tCb29rbWFyayhzaXRlKSxcbiAgQ2hlY2tBcmNoaXZlRnJvbVBvY2tldDogc2l0ZSA9PlxuICAgIHNpdGUucG9ja2V0X2lkXG4gICAgICA/IExpbmtNZW51T3B0aW9ucy5BcmNoaXZlRnJvbVBvY2tldChzaXRlKVxuICAgICAgOiBMaW5rTWVudU9wdGlvbnMuRW1wdHlJdGVtKCksXG4gIENoZWNrRGVsZXRlRnJvbVBvY2tldDogc2l0ZSA9PlxuICAgIHNpdGUucG9ja2V0X2lkXG4gICAgICA/IExpbmtNZW51T3B0aW9ucy5EZWxldGVGcm9tUG9ja2V0KHNpdGUpXG4gICAgICA6IExpbmtNZW51T3B0aW9ucy5FbXB0eUl0ZW0oKSxcbiAgT3BlbkluUHJpdmF0ZVdpbmRvdzogKHNpdGUsIGluZGV4LCBldmVudFNvdXJjZSwgaXNFbmFibGVkKSA9PlxuICAgIGlzRW5hYmxlZCA/IF9PcGVuSW5Qcml2YXRlV2luZG93KHNpdGUpIDogTGlua01lbnVPcHRpb25zLkVtcHR5SXRlbSgpLFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIENvbnRleHRNZW51QnV0dG9uIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzaG93Q29udGV4dE1lbnU6IGZhbHNlLFxuICAgICAgY29udGV4dE1lbnVLZXlib2FyZDogZmFsc2UsXG4gICAgfTtcbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uS2V5RG93biA9IHRoaXMub25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblVwZGF0ZSA9IHRoaXMub25VcGRhdGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW5Db250ZXh0TWVudShpc0tleUJvYXJkLCBldmVudCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uVXBkYXRlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlKHRydWUpO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dDb250ZXh0TWVudTogdHJ1ZSxcbiAgICAgIGNvbnRleHRNZW51S2V5Ym9hcmQ6IGlzS2V5Qm9hcmQsXG4gICAgfSk7XG4gIH1cblxuICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLm9wZW5Db250ZXh0TWVudShmYWxzZSwgZXZlbnQpO1xuICB9XG5cbiAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiIHx8IGV2ZW50LmtleSA9PT0gXCIgXCIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLm9wZW5Db250ZXh0TWVudSh0cnVlLCBldmVudCk7XG4gICAgfVxuICB9XG5cbiAgb25VcGRhdGUoc2hvd0NvbnRleHRNZW51KSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25VcGRhdGUpIHtcbiAgICAgIHRoaXMucHJvcHMub25VcGRhdGUoc2hvd0NvbnRleHRNZW51KTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dDb250ZXh0TWVudSB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHRvb2x0aXBBcmdzLCB0b29sdGlwLCBjaGlsZHJlbiwgcmVmRnVuY3Rpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBzaG93Q29udGV4dE1lbnUsIGNvbnRleHRNZW51S2V5Ym9hcmQgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD17dG9vbHRpcH1cbiAgICAgICAgICBkYXRhLWwxMG4tYXJncz17dG9vbHRpcEFyZ3MgPyBKU09OLnN0cmluZ2lmeSh0b29sdGlwQXJncykgOiBudWxsfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImNvbnRleHQtbWVudS1idXR0b24gaWNvblwiXG4gICAgICAgICAgb25LZXlEb3duPXt0aGlzLm9uS2V5RG93bn1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgcmVmPXtyZWZGdW5jdGlvbn1cbiAgICAgICAgLz5cbiAgICAgICAge3Nob3dDb250ZXh0TWVudVxuICAgICAgICAgID8gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7XG4gICAgICAgICAgICAgIGtleWJvYXJkQWNjZXNzOiBjb250ZXh0TWVudUtleWJvYXJkLFxuICAgICAgICAgICAgICBvblVwZGF0ZTogdGhpcy5vblVwZGF0ZSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBudWxsfVxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmNvbnN0IFZJU0lCTEUgPSBcInZpc2libGVcIjtcbmNvbnN0IFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5UID0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCI7XG5cbi8vIFBlciBhbmFseXRpY2FsIHJlcXVpcmVtZW50LCB3ZSBzZXQgdGhlIG1pbmltYWwgaW50ZXJzZWN0aW9uIHJhdGlvIHRvXG4vLyAwLjUsIGFuZCBhbiBpbXByZXNzaW9uIGlzIGlkZW50aWZpZWQgd2hlbiB0aGUgd3JhcHBlZCBpdGVtIGhhcyBhdCBsZWFzdFxuLy8gNTAlIHZpc2liaWxpdHkuXG4vL1xuLy8gVGhpcyBjb25zdGFudCBpcyBleHBvcnRlZCBmb3IgdW5pdCB0ZXN0XG5leHBvcnQgY29uc3QgSU5URVJTRUNUSU9OX1JBVElPID0gMC41O1xuXG4vKipcbiAqIEltcHJlc3Npb24gd3JhcHBlciBmb3IgRGlzY292ZXJ5IFN0cmVhbSByZWxhdGVkIFJlYWN0IGNvbXBvbmVudHMuXG4gKlxuICogSXQgbWFrc2VzIHVzZSBvZiB0aGUgSW50ZXJzZWN0aW9uIE9ic2VydmVyIEFQSSB0byBkZXRlY3QgdGhlIHZpc2liaWxpdHksXG4gKiBhbmQgcmVsaWVzIG9uIHBhZ2UgdmlzaWJpbGl0eSB0byBlbnN1cmUgdGhlIGltcHJlc3Npb24gaXMgcmVwb3J0ZWRcbiAqIG9ubHkgd2hlbiB0aGUgY29tcG9uZW50IGlzIHZpc2libGUgb24gdGhlIHBhZ2UuXG4gKlxuICogTm90ZTpcbiAqICAgKiBUaGlzIHdyYXBwZXIgdXNlZCB0byBiZSB1c2VkIGVpdGhlciBhdCB0aGUgaW5kaXZpZHVhbCBjYXJkIGxldmVsLFxuICogICAgIG9yIGJ5IHRoZSBjYXJkIGNvbnRhaW5lciBjb21wb25lbnRzLlxuICogICAgIEl0IGlzIG5vdyBvbmx5IHVzZWQgZm9yIGluZGl2aWR1YWwgY2FyZCBsZXZlbC5cbiAqICAgKiBFYWNoIGltcHJlc3Npb24gd2lsbCBiZSBzZW50IG9ubHkgb25jZSBhcyBzb29uIGFzIHRoZSBkZXNpcmVkXG4gKiAgICAgdmlzaWJpbGl0eSBpcyBkZXRlY3RlZFxuICogICAqIEJhdGNoaW5nIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQsIGhlbmNlIGl0IG1pZ2h0IHNlbmQgbXVsdGlwbGVcbiAqICAgICBpbXByZXNzaW9uIHBpbmdzIHNlcGFyYXRlbHlcbiAqL1xuZXhwb3J0IGNsYXNzIEltcHJlc3Npb25TdGF0cyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAvLyBUaGlzIGNoZWNrcyBpZiB0aGUgZ2l2ZW4gY2FyZHMgYXJlIHRoZSBzYW1lIGFzIHRob3NlIGluIHRoZSBsYXN0IGltcHJlc3Npb24gcGluZy5cbiAgLy8gSWYgc28sIGl0IHNob3VsZCBub3Qgc2VuZCB0aGUgc2FtZSBpbXByZXNzaW9uIHBpbmcgYWdhaW4uXG4gIF9uZWVkc0ltcHJlc3Npb25TdGF0cyhjYXJkcykge1xuICAgIGlmIChcbiAgICAgICF0aGlzLmltcHJlc3Npb25DYXJkR3VpZHMgfHxcbiAgICAgIHRoaXMuaW1wcmVzc2lvbkNhcmRHdWlkcy5sZW5ndGggIT09IGNhcmRzLmxlbmd0aFxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJkcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNhcmRzW2ldLmlkICE9PSB0aGlzLmltcHJlc3Npb25DYXJkR3VpZHNbaV0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgX2Rpc3BhdGNoSW1wcmVzc2lvblN0YXRzKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgY2FyZHMgPSBwcm9wcy5yb3dzO1xuXG4gICAgaWYgKHRoaXMucHJvcHMuZmxpZ2h0SWQpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LkRJU0NPVkVSWV9TVFJFQU1fU1BPQ19JTVBSRVNTSU9OLFxuICAgICAgICAgIGRhdGE6IHsgZmxpZ2h0SWQ6IHRoaXMucHJvcHMuZmxpZ2h0SWQgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX25lZWRzSW1wcmVzc2lvblN0YXRzKGNhcmRzKSkge1xuICAgICAgcHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cyh7XG4gICAgICAgICAgc291cmNlOiBwcm9wcy5zb3VyY2UudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICB0aWxlczogY2FyZHMubWFwKGxpbmsgPT4gKHtcbiAgICAgICAgICAgIGlkOiBsaW5rLmlkLFxuICAgICAgICAgICAgcG9zOiBsaW5rLnBvcyxcbiAgICAgICAgICAgIC4uLihsaW5rLnNoaW0gPyB7IHNoaW06IGxpbmsuc2hpbSB9IDoge30pLFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICB0aGlzLmltcHJlc3Npb25DYXJkR3VpZHMgPSBjYXJkcy5tYXAobGluayA9PiBsaW5rLmlkKTtcbiAgICB9XG4gIH1cblxuICAvLyBUaGlzIGNoZWNrcyBpZiB0aGUgZ2l2ZW4gY2FyZHMgYXJlIHRoZSBzYW1lIGFzIHRob3NlIGluIHRoZSBsYXN0IGxvYWRlZCBjb250ZW50IHBpbmcuXG4gIC8vIElmIHNvLCBpdCBzaG91bGQgbm90IHNlbmQgdGhlIHNhbWUgbG9hZGVkIGNvbnRlbnQgcGluZyBhZ2Fpbi5cbiAgX25lZWRzTG9hZGVkQ29udGVudChjYXJkcykge1xuICAgIGlmIChcbiAgICAgICF0aGlzLmxvYWRlZENvbnRlbnRHdWlkcyB8fFxuICAgICAgdGhpcy5sb2FkZWRDb250ZW50R3VpZHMubGVuZ3RoICE9PSBjYXJkcy5sZW5ndGhcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FyZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjYXJkc1tpXS5pZCAhPT0gdGhpcy5sb2FkZWRDb250ZW50R3VpZHNbaV0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgX2Rpc3BhdGNoTG9hZGVkQ29udGVudCgpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IGNhcmRzID0gcHJvcHMucm93cztcblxuICAgIGlmICh0aGlzLl9uZWVkc0xvYWRlZENvbnRlbnQoY2FyZHMpKSB7XG4gICAgICBwcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtTG9hZGVkQ29udGVudCh7XG4gICAgICAgICAgc291cmNlOiBwcm9wcy5zb3VyY2UudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICB0aWxlczogY2FyZHMubWFwKGxpbmsgPT4gKHsgaWQ6IGxpbmsuaWQsIHBvczogbGluay5wb3MgfSkpLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHRoaXMubG9hZGVkQ29udGVudEd1aWRzID0gY2FyZHMubWFwKGxpbmsgPT4gbGluay5pZCk7XG4gICAgfVxuICB9XG5cbiAgc2V0SW1wcmVzc2lvbk9ic2VydmVyT3JBZGRMaXN0ZW5lcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuXG4gICAgaWYgKCFwcm9wcy5kaXNwYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgIC8vIFNlbmQgdGhlIGxvYWRlZCBjb250ZW50IHBpbmcgb25jZSB0aGUgcGFnZSBpcyB2aXNpYmxlLlxuICAgICAgdGhpcy5fZGlzcGF0Y2hMb2FkZWRDb250ZW50KCk7XG4gICAgICB0aGlzLnNldEltcHJlc3Npb25PYnNlcnZlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSBzaG91bGQgb25seSBldmVyIHNlbmQgdGhlIGxhdGVzdCBpbXByZXNzaW9uIHN0YXRzIHBpbmcsIHNvIHJlbW92ZSBhbnlcbiAgICAgIC8vIG9sZGVyIGxpc3RlbmVycy5cbiAgICAgIGlmICh0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpIHtcbiAgICAgICAgcHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBpZiAocHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICAgICAgLy8gU2VuZCB0aGUgbG9hZGVkIGNvbnRlbnQgcGluZyBvbmNlIHRoZSBwYWdlIGlzIHZpc2libGUuXG4gICAgICAgICAgdGhpcy5fZGlzcGF0Y2hMb2FkZWRDb250ZW50KCk7XG4gICAgICAgICAgdGhpcy5zZXRJbXByZXNzaW9uT2JzZXJ2ZXIoKTtcbiAgICAgICAgICBwcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcHJvcHMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IGFuIGltcHJlc3Npb24gb2JzZXJ2ZXIgZm9yIHRoZSB3cmFwcGVkIGNvbXBvbmVudC4gSXQgbWFrZXMgdXNlIG9mXG4gICAqIHRoZSBJbnRlcnNlY3Rpb24gT2JzZXJ2ZXIgQVBJIHRvIGRldGVjdCBpZiB0aGUgd3JhcHBlZCBjb21wb25lbnQgaXNcbiAgICogdmlzaWJsZSB3aXRoIGEgZGVzaXJlZCByYXRpbywgYW5kIG9ubHkgc2VuZHMgaW1wcmVzc2lvbiBpZiB0aGF0J3MgdGhlIGNhc2UuXG4gICAqXG4gICAqIFNlZSBtb3JlIGRldGFpbHMgYWJvdXQgSW50ZXJzZWN0aW9uIE9ic2VydmVyIEFQSSBhdDpcbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ludGVyc2VjdGlvbl9PYnNlcnZlcl9BUElcbiAgICovXG4gIHNldEltcHJlc3Npb25PYnNlcnZlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuXG4gICAgaWYgKCFwcm9wcy5yb3dzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2hhbmRsZUludGVyc2VjdCA9IGVudHJpZXMgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBlbnRyaWVzLnNvbWUoXG4gICAgICAgICAgZW50cnkgPT5cbiAgICAgICAgICAgIGVudHJ5LmlzSW50ZXJzZWN0aW5nICYmXG4gICAgICAgICAgICBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+PSBJTlRFUlNFQ1RJT05fUkFUSU9cbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoSW1wcmVzc2lvblN0YXRzKCk7XG4gICAgICAgIHRoaXMuaW1wcmVzc2lvbk9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnJlZnMuaW1wcmVzc2lvbik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7IHRocmVzaG9sZDogSU5URVJTRUNUSU9OX1JBVElPIH07XG4gICAgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIgPSBuZXcgcHJvcHMuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICB0aGlzLl9oYW5kbGVJbnRlcnNlY3QsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgICB0aGlzLmltcHJlc3Npb25PYnNlcnZlci5vYnNlcnZlKHRoaXMucmVmcy5pbXByZXNzaW9uKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJvd3MubGVuZ3RoKSB7XG4gICAgICB0aGlzLnNldEltcHJlc3Npb25PYnNlcnZlck9yQWRkTGlzdGVuZXIoKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5faGFuZGxlSW50ZXJzZWN0ICYmIHRoaXMuaW1wcmVzc2lvbk9ic2VydmVyKSB7XG4gICAgICB0aGlzLmltcHJlc3Npb25PYnNlcnZlci51bm9ic2VydmUodGhpcy5yZWZzLmltcHJlc3Npb24pO1xuICAgIH1cbiAgICBpZiAodGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHJlZj17XCJpbXByZXNzaW9uXCJ9IGNsYXNzTmFtZT1cImltcHJlc3Npb24tb2JzZXJ2ZXJcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbkltcHJlc3Npb25TdGF0cy5kZWZhdWx0UHJvcHMgPSB7XG4gIEludGVyc2VjdGlvbk9ic2VydmVyOiBnbG9iYWwuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsXG4gIGRvY3VtZW50OiBnbG9iYWwuZG9jdW1lbnQsXG4gIHJvd3M6IFtdLFxuICBzb3VyY2U6IFwiXCIsXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgU2FmZUFuY2hvciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAvLyBVc2UgZGlzcGF0Y2ggaW5zdGVhZCBvZiBub3JtYWwgbGluayBjbGljayBiZWhhdmlvciB0byBpbmNsdWRlIHJlZmVycmVyXG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2gpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCB7IGFsdEtleSwgYnV0dG9uLCBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSB9ID0gZXZlbnQ7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5PUEVOX0xJTkssXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgZXZlbnQ6IHsgYWx0S2V5LCBidXR0b24sIGN0cmxLZXksIG1ldGFLZXksIHNoaWZ0S2V5IH0sXG4gICAgICAgICAgICByZWZlcnJlcjogXCJodHRwczovL2dldHBvY2tldC5jb20vcmVjb21tZW5kYXRpb25zXCIsXG4gICAgICAgICAgICAvLyBVc2UgdGhlIGFuY2hvcidzIHVybCwgd2hpY2ggY291bGQgaGF2ZSBiZWVuIGNsZWFuZWQgdXBcbiAgICAgICAgICAgIHVybDogZXZlbnQuY3VycmVudFRhcmdldC5ocmVmLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFByb3BhZ2F0ZSBldmVudCBpZiB0aGVyZSdzIGEgaGFuZGxlclxuICAgIGlmICh0aGlzLnByb3BzLm9uTGlua0NsaWNrKSB7XG4gICAgICB0aGlzLnByb3BzLm9uTGlua0NsaWNrKGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBzYWZlVVJJKHVybCkge1xuICAgIGxldCBwcm90b2NvbCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIHByb3RvY29sID0gbmV3IFVSTCh1cmwpLnByb3RvY29sO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cblxuICAgIGNvbnN0IGlzQWxsb3dlZCA9IFtcImh0dHA6XCIsIFwiaHR0cHM6XCJdLmluY2x1ZGVzKHByb3RvY29sKTtcbiAgICBpZiAoIWlzQWxsb3dlZCkge1xuICAgICAgY29uc29sZS53YXJuKGAke3VybH0gaXMgbm90IGFsbG93ZWQgZm9yIGFuY2hvciB0YXJnZXRzLmApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdXJsLCBjbGFzc05hbWUgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhIGhyZWY9e3RoaXMuc2FmZVVSSSh1cmwpfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2E+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuZXhwb3J0IGNvbnN0IGNhcmRDb250ZXh0VHlwZXMgPSB7XG4gIGhpc3Rvcnk6IHtcbiAgICBmbHVlbnRJRDogXCJuZXd0YWItbGFiZWwtdmlzaXRlZFwiLFxuICAgIGljb246IFwiaGlzdG9yeS1pdGVtXCIsXG4gIH0sXG4gIHJlbW92ZWRCb29rbWFyazoge1xuICAgIGZsdWVudElEOiBcIm5ld3RhYi1sYWJlbC1yZW1vdmVkLWJvb2ttYXJrXCIsXG4gICAgaWNvbjogXCJib29rbWFyay1yZW1vdmVkXCIsXG4gIH0sXG4gIGJvb2ttYXJrOiB7XG4gICAgZmx1ZW50SUQ6IFwibmV3dGFiLWxhYmVsLWJvb2ttYXJrZWRcIixcbiAgICBpY29uOiBcImJvb2ttYXJrLWFkZGVkXCIsXG4gIH0sXG4gIHRyZW5kaW5nOiB7XG4gICAgZmx1ZW50SUQ6IFwibmV3dGFiLWxhYmVsLXJlY29tbWVuZGVkXCIsXG4gICAgaWNvbjogXCJ0cmVuZGluZ1wiLFxuICB9LFxuICBwb2NrZXQ6IHtcbiAgICBmbHVlbnRJRDogXCJuZXd0YWItbGFiZWwtc2F2ZWRcIixcbiAgICBpY29uOiBcInBvY2tldFwiLFxuICB9LFxuICBkb3dubG9hZDoge1xuICAgIGZsdWVudElEOiBcIm5ld3RhYi1sYWJlbC1kb3dubG9hZFwiLFxuICAgIGljb246IFwiZG93bmxvYWRcIixcbiAgfSxcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0VHJhbnNpdGlvbkdyb3VwOyIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuLyoqXG4gKiBTZXQgdGV4dCBvbiBhIGNoaWxkIGVsZW1lbnQvY29tcG9uZW50IGRlcGVuZGluZyBvbiBpZiB0aGUgbWVzc2FnZSBpcyBhbHJlYWR5XG4gKiB0cmFuc2xhdGVkIHBsYWluIHRleHQgb3IgYSBmbHVlbnQgaWQgd2l0aCBvcHRpb25hbCBhcmdzLlxuICovXG5leHBvcnQgY2xhc3MgRmx1ZW50T3JUZXh0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvLyBFbnN1cmUgd2UgaGF2ZSBhIHNpbmdsZSBjaGlsZCB0byBhdHRhY2ggYXR0cmlidXRlc1xuICAgIGNvbnN0IHsgY2hpbGRyZW4sIG1lc3NhZ2UgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbiA/IFJlYWN0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pIDogPHNwYW4gLz47XG5cbiAgICAvLyBGb3IgYSBzdHJpbmcgbWVzc2FnZSwganVzdCB1c2UgaXQgYXMgdGhlIGNoaWxkJ3MgdGV4dFxuICAgIGxldCBncmFuZENoaWxkcmVuID0gbWVzc2FnZTtcbiAgICBsZXQgZXh0cmFQcm9wcztcblxuICAgIC8vIENvbnZlcnQgYSBtZXNzYWdlIG9iamVjdCB0byBzZXQgZGVzaXJlZCBmbHVlbnQtZG9tIGF0dHJpYnV0ZXNcbiAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IGFyZ3MgPSBtZXNzYWdlLmFyZ3MgfHwgbWVzc2FnZS52YWx1ZXM7XG4gICAgICBleHRyYVByb3BzID0ge1xuICAgICAgICBcImRhdGEtbDEwbi1hcmdzXCI6IGFyZ3MgJiYgSlNPTi5zdHJpbmdpZnkoYXJncyksXG4gICAgICAgIFwiZGF0YS1sMTBuLWlkXCI6IG1lc3NhZ2UuaWQgfHwgbWVzc2FnZS5zdHJpbmdfaWQsXG4gICAgICB9O1xuXG4gICAgICAvLyBVc2Ugb3JpZ2luYWwgY2hpbGRyZW4gcG90ZW50aWFsbHkgd2l0aCBkYXRhLWwxMG4tbmFtZSBhdHRyaWJ1dGVzXG4gICAgICBncmFuZENoaWxkcmVuID0gY2hpbGQucHJvcHMuY2hpbGRyZW47XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBtZXNzYWdlIHRvIHRoZSBjaGlsZCB2aWEgZmx1ZW50IGF0dHJpYnV0ZXMgb3IgdGV4dCBub2RlXG4gICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgZXh0cmFQcm9wcywgZ3JhbmRDaGlsZHJlbik7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgQ2FyZEdyaWQgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0NhcmRHcmlkL0NhcmRHcmlkXCI7XG5pbXBvcnQgeyBEU0Rpc21pc3MgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTRGlzbWlzcy9EU0Rpc21pc3NcIjtcbmltcG9ydCB7IExpbmtNZW51T3B0aW9ucyB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvbGluay1tZW51LW9wdGlvbnNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIENvbGxlY3Rpb25DYXJkR3JpZCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uRGlzbWlzc0NsaWNrID0gdGhpcy5vbkRpc21pc3NDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBkaXNtaXNzZWQ6IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBvbkRpc21pc3NDbGljaygpIHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2ggJiYgZGF0YSAmJiBkYXRhLnNwb2NzICYmIGRhdGEuc3BvY3MubGVuZ3RoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGlzbWlzc2VkOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICBjb25zdCBwb3MgPSAwO1xuICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5wcm9wcy50eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICAvLyBHcmFiIHRoZSBhdmFpbGFibGUgaXRlbXMgaW4gdGhlIGFycmF5IHRvIGRpc21pc3MuXG4gICAgICAvLyBUaGlzIGZpcmVzIGEgcGluZyBmb3IgYWxsIGl0ZW1zIGF2YWlsYWJsZSwgZXZlbiBpZiBiZWxvdyB0aGUgZm9sZC5cbiAgICAgIGNvbnN0IHNwb2NzRGF0YSA9IGRhdGEuc3BvY3MubWFwKGl0ZW0gPT4gKHtcbiAgICAgICAgdXJsOiBpdGVtLnVybCxcbiAgICAgICAgZ3VpZDogaXRlbS5pZCxcbiAgICAgICAgc2hpbTogaXRlbS5zaGltLFxuICAgICAgICBmbGlnaHRfaWQ6IGl0ZW0uZmxpZ2h0SWQsXG4gICAgICB9KSk7XG5cbiAgICAgIGNvbnN0IGJsb2NrVXJsT3B0aW9uID0gTGlua01lbnVPcHRpb25zLkJsb2NrVXJscyhzcG9jc0RhdGEsIHBvcywgc291cmNlKTtcbiAgICAgIGNvbnN0IHsgYWN0aW9uLCBpbXByZXNzaW9uLCB1c2VyRXZlbnQgfSA9IGJsb2NrVXJsT3B0aW9uO1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhY3Rpb24pO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICAgIGV2ZW50OiB1c2VyRXZlbnQsXG4gICAgICAgICAgc291cmNlLFxuICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogcG9zLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIGlmIChpbXByZXNzaW9uKSB7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goaW1wcmVzc2lvbik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZGF0YSwgZGlzbWlzc2libGUgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKFxuICAgICAgdGhpcy5zdGF0ZS5kaXNtaXNzZWQgfHxcbiAgICAgICFkYXRhIHx8XG4gICAgICAhZGF0YS5zcG9jcyB8fFxuICAgICAgIWRhdGEuc3BvY3NbMF0gfHxcbiAgICAgIC8vIFdlIG9ubHkgZGlzcGxheSBjb21wbGV0ZSBjb2xsZWN0aW9ucy5cbiAgICAgIGRhdGEuc3BvY3MubGVuZ3RoIDwgM1xuICAgICkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgc3BvY3MsIHBsYWNlbWVudCwgZmVlZCB9ID0gdGhpcy5wcm9wcztcbiAgICAvLyBzcG9jcy5kYXRhIGlzIHNwb2NzIHN0YXRlIGRhdGEsIGFuZCBub3QgYW4gYXJyYXkgb2Ygc3BvY3MuXG4gICAgY29uc3QgeyB0aXRsZSwgY29udGV4dCwgc3BvbnNvcmVkX2J5X292ZXJyaWRlLCBzcG9uc29yIH0gPVxuICAgICAgc3BvY3MuZGF0YVtwbGFjZW1lbnQubmFtZV0gfHwge307XG4gICAgLy8gSnVzdCBpbiBjYXNlIG9mIGJhZCBkYXRhLCBkb24ndCBkaXNwbGF5IGEgYnJva2VuIGNvbGxlY3Rpb24uXG4gICAgaWYgKCF0aXRsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgbGV0IHNwb25zb3JlZEJ5TWVzc2FnZSA9IFwiXCI7XG5cbiAgICAvLyBJZiBvdmVycmlkZSBpcyBub3QgZmFsc2Ugb3IgYW4gZW1wdHkgc3RyaW5nLlxuICAgIGlmIChzcG9uc29yZWRfYnlfb3ZlcnJpZGUgfHwgc3BvbnNvcmVkX2J5X292ZXJyaWRlID09PSBcIlwiKSB7XG4gICAgICAvLyBXZSBzcGVjaWZpY2FsbHkgd2FudCB0byBkaXNwbGF5IG5vdGhpbmcgaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgIC8vIFNvIHRoZSBzZXJ2ZXIgY2FuIHR1cm4gb2ZmIHRoZSBsYWJlbC5cbiAgICAgIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCB0aGUgdXNlIGNhc2VzIHdoZXJlIHRoZSBzcG9uc29yZWQgY29udGV4dCBpcyBkaXNwbGF5ZWQgZWxzZXdoZXJlLlxuICAgICAgc3BvbnNvcmVkQnlNZXNzYWdlID0gc3BvbnNvcmVkX2J5X292ZXJyaWRlO1xuICAgIH0gZWxzZSBpZiAoc3BvbnNvcikge1xuICAgICAgc3BvbnNvcmVkQnlNZXNzYWdlID0ge1xuICAgICAgICBpZDogYG5ld3RhYi1sYWJlbC1zcG9uc29yZWQtYnlgLFxuICAgICAgICB2YWx1ZXM6IHsgc3BvbnNvciB9LFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGNvbnRleHQpIHtcbiAgICAgIHNwb25zb3JlZEJ5TWVzc2FnZSA9IGNvbnRleHQ7XG4gICAgfVxuXG4gICAgLy8gR2VuZXJhbGx5IGEgY2FyZCBncmlkIGRpc3BsYXlzIHJlY3Mgd2l0aCBzcG9jcyBhbHJlYWR5IGluamVjdGVkLlxuICAgIC8vIE5vcm1hbGx5IGl0IGRvZXNuJ3QgY2FyZSB3aGljaCByZWMgaXMgYSBzcG9jIGFuZCB3aGljaCBpc24ndCxcbiAgICAvLyBpdCBqdXN0IGRpc3BsYXlzIGNvbnRlbnQgaW4gYSBncmlkLlxuICAgIC8vIEZvciBjb2xsZWN0aW9ucywgd2UncmUgb25seSBkaXNwbGF5aW5nIGEgbGlzdCBvZiBzcG9jcy5cbiAgICAvLyBXZSBkb24ndCBuZWVkIHRvIHRlbGwgdGhlIGNhcmQgZ3JpZCB0aGF0IG91ciBsaXN0IG9mIGNhcmRzIGFyZSBzcG9jcyxcbiAgICAvLyBpdCBzaG91bGRuJ3QgbmVlZCB0byBjYXJlLiBTbyB3ZSBqdXN0IHBhc3Mgb3VyIHNwb2NzIGFsb25nIGFzIHJlY3MuXG4gICAgLy8gVGhpbmsgb2YgaXQgYXMgaW5qZWN0aW5nIGFsbCByZWMgcG9zaXRpb25zIHdpdGggc3BvY3MuXG4gICAgLy8gQ29uc2lkZXIgbWF5YmUgbWFraW5nIHJlY29tbWVuZGF0aW9ucyBpbiBDYXJkR3JpZCB1c2UgYSBtb3JlIGdlbmVyaWMgbmFtZS5cbiAgICBjb25zdCByZWNzRGF0YSA9IHtcbiAgICAgIHJlY29tbWVuZGF0aW9uczogZGF0YS5zcG9jcyxcbiAgICB9O1xuXG4gICAgLy8gQWxsIGNhcmRzIGluc2lkZSBvZiBhIGNvbGxlY3Rpb24gY2FyZCBncmlkIGhhdmUgYSBzbGlnaHRseSBkaWZmZXJlbnQgdHlwZS5cbiAgICAvLyBGb3IgdGhlIGNhc2Ugb2YgaW50ZXJhY3Rpb25zIHRvIHRoZSBjYXJkIGdyaWQsIHdlIHVzZSB0aGUgdHlwZSBcIkNPTExFQ1RJT05DQVJER1JJRFwiLlxuICAgIC8vIEV4YW1wbGUsIHlvdSBkaXNtaXNzIHRoZSB3aG9sZSBjb2xsZWN0aW9uLCB3ZSB1c2UgdGhlIHR5cGUgXCJDT0xMRUNUSU9OQ0FSREdSSURcIi5cbiAgICAvLyBGb3IgaW50ZXJhY3Rpb25zIGluc2lkZSB0aGUgY2FyZCBncmlkLCBleGFtcGxlLCB5b3UgZGlzbWlzcyBhIHNpbmdsZSBjYXJkIGluIHRoZSBjb2xsZWN0aW9uLFxuICAgIC8vIHdlIHVzZSB0aGUgdHlwZSBcIkNPTExFQ1RJT05DQVJER1JJRF9DQVJEXCIuXG4gICAgY29uc3QgdHlwZSA9IGAke3RoaXMucHJvcHMudHlwZX1fY2FyZGA7XG5cbiAgICBjb25zdCBjb2xsZWN0aW9uR3JpZCA9IChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtY29sbGVjdGlvbi1jYXJkLWdyaWRcIj5cbiAgICAgICAgPENhcmRHcmlkXG4gICAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICAgIGNvbnRleHQ9e3Nwb25zb3JlZEJ5TWVzc2FnZX1cbiAgICAgICAgICBkYXRhPXtyZWNzRGF0YX1cbiAgICAgICAgICBmZWVkPXtmZWVkfVxuICAgICAgICAgIGJvcmRlcj17dGhpcy5wcm9wcy5ib3JkZXJ9XG4gICAgICAgICAgdHlwZT17dHlwZX1cbiAgICAgICAgICBpc19jb2xsZWN0aW9uPXt0cnVlfVxuICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgIGl0ZW1zPXt0aGlzLnByb3BzLml0ZW1zfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcblxuICAgIGlmIChkaXNtaXNzaWJsZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPERTRGlzbWlzc1xuICAgICAgICAgIG9uRGlzbWlzc0NsaWNrPXt0aGlzLm9uRGlzbWlzc0NsaWNrfVxuICAgICAgICAgIGV4dHJhQ2xhc3Nlcz17YGRzLWRpc21pc3MtZHMtY29sbGVjdGlvbmB9XG4gICAgICAgID5cbiAgICAgICAgICB7Y29sbGVjdGlvbkdyaWR9XG4gICAgICAgIDwvRFNEaXNtaXNzPlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbGxlY3Rpb25HcmlkO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBEU0Rpc21pc3MgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkRpc21pc3NDbGljayA9IHRoaXMub25EaXNtaXNzQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uSG92ZXIgPSB0aGlzLm9uSG92ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9mZkhvdmVyID0gdGhpcy5vZmZIb3Zlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBob3ZlcmluZzogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIG9uRGlzbWlzc0NsaWNrKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uRGlzbWlzc0NsaWNrKSB7XG4gICAgICB0aGlzLnByb3BzLm9uRGlzbWlzc0NsaWNrKCk7XG4gICAgfVxuICB9XG5cbiAgb25Ib3ZlcigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGhvdmVyaW5nOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgb2ZmSG92ZXIoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBob3ZlcmluZzogZmFsc2UsXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9IGBkcy1kaXNtaXNzXG4gICAgICAke3RoaXMuc3RhdGUuaG92ZXJpbmcgPyBgIGhvdmVyaW5nYCA6IGBgfVxuICAgICAgJHt0aGlzLnByb3BzLmV4dHJhQ2xhc3NlcyA/IGAgJHt0aGlzLnByb3BzLmV4dHJhQ2xhc3Nlc31gIDogYGB9YDtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJkcy1kaXNtaXNzLWJ1dHRvblwiXG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWRpc21pc3MtYnV0dG9uLXRvb2x0aXBcIlxuICAgICAgICAgIG9uSG92ZXI9e3RoaXMub25Ib3Zlcn1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uRGlzbWlzc0NsaWNrfVxuICAgICAgICAgIG9uTW91c2VFbnRlcj17dGhpcy5vbkhvdmVyfVxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17dGhpcy5vZmZIb3Zlcn1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24gaWNvbi1kaXNtaXNzXCIgLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBFcnJvckJvdW5kYXJ5IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRXJyb3JCb3VuZGFyeS9FcnJvckJvdW5kYXJ5XCI7XG5pbXBvcnQgeyBGbHVlbnRPclRleHQgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9GbHVlbnRPclRleHQvRmx1ZW50T3JUZXh0XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5cbi8qKlxuICogQSBzZWN0aW9uIHRoYXQgY2FuIGNvbGxhcHNlLiBBcyBvZiBidWcgMTcxMDkzNywgaXQgY2FuIG5vIGxvbmdlciBjb2xsYXBzZS5cbiAqIFNlZSBidWcgMTcyNzM2NSBmb3IgZm9sbG93LXVwIHdvcmsgdG8gc2ltcGxpZnkgdGhpcyBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBfQ29sbGFwc2libGVTZWN0aW9uIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25Cb2R5TW91bnQgPSB0aGlzLm9uQm9keU1vdW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1lbnVCdXR0b25Nb3VzZUVudGVyID0gdGhpcy5vbk1lbnVCdXR0b25Nb3VzZUVudGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1lbnVCdXR0b25Nb3VzZUxlYXZlID0gdGhpcy5vbk1lbnVCdXR0b25Nb3VzZUxlYXZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1lbnVVcGRhdGUgPSB0aGlzLm9uTWVudVVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBtZW51QnV0dG9uSG92ZXI6IGZhbHNlLFxuICAgICAgc2hvd0NvbnRleHRNZW51OiBmYWxzZSxcbiAgICB9O1xuICAgIHRoaXMuc2V0Q29udGV4dE1lbnVCdXR0b25SZWYgPSB0aGlzLnNldENvbnRleHRNZW51QnV0dG9uUmVmLmJpbmQodGhpcyk7XG4gIH1cblxuICBzZXRDb250ZXh0TWVudUJ1dHRvblJlZihlbGVtZW50KSB7XG4gICAgdGhpcy5jb250ZXh0TWVudUJ1dHRvblJlZiA9IGVsZW1lbnQ7XG4gIH1cblxuICBvbkJvZHlNb3VudChub2RlKSB7XG4gICAgdGhpcy5zZWN0aW9uQm9keSA9IG5vZGU7XG4gIH1cblxuICBvbk1lbnVCdXR0b25Nb3VzZUVudGVyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBtZW51QnV0dG9uSG92ZXI6IHRydWUgfSk7XG4gIH1cblxuICBvbk1lbnVCdXR0b25Nb3VzZUxlYXZlKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBtZW51QnV0dG9uSG92ZXI6IGZhbHNlIH0pO1xuICB9XG5cbiAgb25NZW51VXBkYXRlKHNob3dDb250ZXh0TWVudSkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93Q29udGV4dE1lbnUgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaXNBbmltYXRpbmcsXG4gICAgICBtYXhIZWlnaHQsXG4gICAgICBtZW51QnV0dG9uSG92ZXIsXG4gICAgICBzaG93Q29udGV4dE1lbnUsXG4gICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgeyBpZCwgY29sbGFwc2VkLCBsZWFybk1vcmUsIHRpdGxlLCBzdWJUaXRsZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBhY3RpdmUgPSBtZW51QnV0dG9uSG92ZXIgfHwgc2hvd0NvbnRleHRNZW51O1xuICAgIGxldCBib2R5U3R5bGU7XG4gICAgaWYgKGlzQW5pbWF0aW5nICYmICFjb2xsYXBzZWQpIHtcbiAgICAgIGJvZHlTdHlsZSA9IHsgbWF4SGVpZ2h0IH07XG4gICAgfSBlbHNlIGlmICghaXNBbmltYXRpbmcgJiYgY29sbGFwc2VkKSB7XG4gICAgICBib2R5U3R5bGUgPSB7IGRpc3BsYXk6IFwibm9uZVwiIH07XG4gICAgfVxuICAgIGxldCB0aXRsZVN0eWxlO1xuICAgIGlmICh0aGlzLnByb3BzLmhpZGVUaXRsZSkge1xuICAgICAgdGl0bGVTdHlsZSA9IHsgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiB9O1xuICAgIH1cbiAgICBjb25zdCBoYXNTdWJ0aXRsZUNsYXNzTmFtZSA9IHN1YlRpdGxlID8gYGhhcy1zdWJ0aXRsZWAgOiBgYDtcbiAgICByZXR1cm4gKFxuICAgICAgPHNlY3Rpb25cbiAgICAgICAgY2xhc3NOYW1lPXtgY29sbGFwc2libGUtc2VjdGlvbiAke3RoaXMucHJvcHMuY2xhc3NOYW1lfSR7XG4gICAgICAgICAgYWN0aXZlID8gXCIgYWN0aXZlXCIgOiBcIlwiXG4gICAgICAgIH1gfVxuICAgICAgICAvLyBOb3RlOiBkYXRhLXNlY3Rpb24taWQgaXMgdXNlZCBmb3Igd2ViIGV4dGVuc2lvbiBhcGkgdGVzdHMgaW4gbW96aWxsYSBjZW50cmFsXG4gICAgICAgIGRhdGEtc2VjdGlvbi1pZD17aWR9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi10b3AtYmFyXCI+XG4gICAgICAgICAgPGgzXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BzZWN0aW9uLXRpdGxlLWNvbnRhaW5lciAke2hhc1N1YnRpdGxlQ2xhc3NOYW1lfWB9XG4gICAgICAgICAgICBzdHlsZT17dGl0bGVTdHlsZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlXCI+XG4gICAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17dGl0bGV9IC8+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJsZWFybi1tb3JlLWxpbmstd3JhcHBlclwiPlxuICAgICAgICAgICAgICB7bGVhcm5Nb3JlICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJsZWFybi1tb3JlLWxpbmtcIj5cbiAgICAgICAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17bGVhcm5Nb3JlLmxpbmsubWVzc2FnZX0+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2xlYXJuTW9yZS5saW5rLmhyZWZ9IC8+XG4gICAgICAgICAgICAgICAgICA8L0ZsdWVudE9yVGV4dD5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICB7c3ViVGl0bGUgJiYgKFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzZWN0aW9uLXN1Yi10aXRsZVwiPlxuICAgICAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17c3ViVGl0bGV9IC8+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxFcnJvckJvdW5kYXJ5IGNsYXNzTmFtZT1cInNlY3Rpb24tYm9keS1mYWxsYmFja1wiPlxuICAgICAgICAgIDxkaXYgcmVmPXt0aGlzLm9uQm9keU1vdW50fSBzdHlsZT17Ym9keVN0eWxlfT5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0Vycm9yQm91bmRhcnk+XG4gICAgICA8L3NlY3Rpb24+XG4gICAgKTtcbiAgfVxufVxuXG5fQ29sbGFwc2libGVTZWN0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgZG9jdW1lbnQ6IGdsb2JhbC5kb2N1bWVudCB8fCB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcjogKCkgPT4ge30sXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogKCkgPT4ge30sXG4gICAgdmlzaWJpbGl0eVN0YXRlOiBcImhpZGRlblwiLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IENvbGxhcHNpYmxlU2VjdGlvbiA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxufSkpKF9Db2xsYXBzaWJsZVNlY3Rpb24pO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgQTExeUxpbmtCdXR0b24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9BMTF5TGlua0J1dHRvbi9BMTF5TGlua0J1dHRvblwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgRXJyb3JCb3VuZGFyeUZhbGxiYWNrIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMud2luZG93T2JqID0gdGhpcy5wcm9wcy53aW5kb3dPYmogfHwgd2luZG93O1xuICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpbmNlIHdlIG9ubHkgZ2V0IGhlcmUgaWYgcGFydCBvZiB0aGUgcGFnZSBoYXMgY3Jhc2hlZCwgZG8gYVxuICAgKiBmb3JjZWQgcmVsb2FkIHRvIGdpdmUgdXMgdGhlIGJlc3QgY2hhbmNlIGF0IHJlY292ZXJpbmcuXG4gICAqL1xuICBvbkNsaWNrKCkge1xuICAgIHRoaXMud2luZG93T2JqLmxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBkZWZhdWx0Q2xhc3MgPSBcImFzLWVycm9yLWZhbGxiYWNrXCI7XG4gICAgbGV0IGNsYXNzTmFtZTtcbiAgICBpZiAoXCJjbGFzc05hbWVcIiBpbiB0aGlzLnByb3BzKSB7XG4gICAgICBjbGFzc05hbWUgPSBgJHt0aGlzLnByb3BzLmNsYXNzTmFtZX0gJHtkZWZhdWx0Q2xhc3N9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xhc3NOYW1lID0gZGVmYXVsdENsYXNzO1xuICAgIH1cblxuICAgIC8vIFwiQTExeUxpbmtCdXR0b25cIiB0byBmb3JjZSBub3JtYWwgbGluayBzdHlsaW5nIHN0dWZmIChlZyBjdXJzb3Igb24gaG92ZXIpXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8ZGl2IGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1lcnJvci1mYWxsYmFjay1pbmZvXCIgLz5cbiAgICAgICAgPHNwYW4+XG4gICAgICAgICAgPEExMXlMaW5rQnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyZWxvYWQtYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1lcnJvci1mYWxsYmFjay1yZWZyZXNoLWxpbmtcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbkVycm9yQm91bmRhcnlGYWxsYmFjay5kZWZhdWx0UHJvcHMgPSB7IGNsYXNzTmFtZTogXCJhcy1lcnJvci1mYWxsYmFja1wiIH07XG5cbmV4cG9ydCBjbGFzcyBFcnJvckJvdW5kYXJ5IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7IGhhc0Vycm9yOiBmYWxzZSB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IsIGluZm8pIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaGFzRXJyb3I6IHRydWUgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmhhc0Vycm9yKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICB9XG5cbiAgICByZXR1cm4gPHRoaXMucHJvcHMuRmFsbGJhY2tDb21wb25lbnQgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0gLz47XG4gIH1cbn1cblxuRXJyb3JCb3VuZGFyeS5kZWZhdWx0UHJvcHMgPSB7IEZhbGxiYWNrQ29tcG9uZW50OiBFcnJvckJvdW5kYXJ5RmFsbGJhY2sgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEExMXlMaW5rQnV0dG9uKHByb3BzKSB7XG4gIC8vIGZ1bmN0aW9uIGZvciBtZXJnaW5nIGNsYXNzZXMsIGlmIG5lY2Vzc2FyeVxuICBsZXQgY2xhc3NOYW1lID0gXCJhMTF5LWxpbmstYnV0dG9uXCI7XG4gIGlmIChwcm9wcy5jbGFzc05hbWUpIHtcbiAgICBjbGFzc05hbWUgKz0gYCAke3Byb3BzLmNsYXNzTmFtZX1gO1xuICB9XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgey4uLnByb3BzfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgPC9idXR0b24+XG4gICk7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTYWZlQW5jaG9yIH0gZnJvbSBcIi4uL1NhZmVBbmNob3IvU2FmZUFuY2hvclwiO1xuaW1wb3J0IHsgRmx1ZW50T3JUZXh0IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dFwiO1xuXG5leHBvcnQgY2xhc3MgRFNNZXNzYWdlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1tZXNzYWdlXCI+XG4gICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwidGl0bGVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5pY29uICYmIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2x5cGhcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHt0aGlzLnByb3BzLmljb259KWAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7dGhpcy5wcm9wcy50aXRsZSAmJiAoXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aXRsZS10ZXh0XCI+XG4gICAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17dGhpcy5wcm9wcy50aXRsZX0gLz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHt0aGlzLnByb3BzLmxpbmtfdGV4dCAmJiB0aGlzLnByb3BzLmxpbmtfdXJsICYmIChcbiAgICAgICAgICAgIDxTYWZlQW5jaG9yIGNsYXNzTmFtZT1cImxpbmtcIiB1cmw9e3RoaXMucHJvcHMubGlua191cmx9PlxuICAgICAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e3RoaXMucHJvcHMubGlua190ZXh0fSAvPlxuICAgICAgICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvaGVhZGVyPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgTW9kYWxPdmVybGF5V3JhcHBlciB9IGZyb20gXCJjb250ZW50LXNyYy9hc3JvdXRlci9jb21wb25lbnRzL01vZGFsT3ZlcmxheS9Nb2RhbE92ZXJsYXlcIjtcblxuZXhwb3J0IGNsYXNzIERTUHJpdmFjeU1vZGFsIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuY2xvc2VNb2RhbCA9IHRoaXMuY2xvc2VNb2RhbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25MZWFybkxpbmtDbGljayA9IHRoaXMub25MZWFybkxpbmtDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NYW5hZ2VMaW5rQ2xpY2sgPSB0aGlzLm9uTWFuYWdlTGlua0NsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkxlYXJuTGlua0NsaWNrKGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgIGV2ZW50OiBcIkNMSUNLX1BSSVZBQ1lfSU5GT1wiLFxuICAgICAgICBzb3VyY2U6IFwiRFNfUFJJVkFDWV9NT0RBTFwiLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgb25NYW5hZ2VMaW5rQ2xpY2soZXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLk9ubHlUb01haW4oeyB0eXBlOiBhdC5TRVRUSU5HU19PUEVOIH0pKTtcbiAgfVxuXG4gIGNsb3NlTW9kYWwoKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7XG4gICAgICB0eXBlOiBgSElERV9QUklWQUNZX0lORk9gLFxuICAgICAgZGF0YToge30sXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbE92ZXJsYXlXcmFwcGVyXG4gICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VNb2RhbH1cbiAgICAgICAgaW5uZXJDbGFzc05hbWU9XCJkcy1wcml2YWN5LW1vZGFsXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcml2YWN5LW5vdGljZVwiPlxuICAgICAgICAgIDxoMyBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcHJpdmFjeS1tb2RhbC1oZWFkZXJcIiAvPlxuICAgICAgICAgIDxwIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wcml2YWN5LW1vZGFsLXBhcmFncmFwaC0yXCIgLz5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibW9kYWwtbGluayBtb2RhbC1saW5rLXByaXZhY3lcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXByaXZhY3ktbW9kYWwtbGlua1wiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uTGVhcm5MaW5rQ2xpY2t9XG4gICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9oZWxwLmdldHBvY2tldC5jb20vYXJ0aWNsZS8xMTQyLWZpcmVmb3gtbmV3LXRhYi1yZWNvbW1lbmRhdGlvbnMtZmFxXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1vZGFsLWxpbmsgbW9kYWwtbGluay1tYW5hZ2VcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXByaXZhY3ktbW9kYWwtYnV0dG9uLW1hbmFnZVwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uTWFuYWdlTGlua0NsaWNrfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJhY3Rpb25zXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZG9uZVwiXG4gICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VNb2RhbH1cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wcml2YWN5LW1vZGFsLWJ1dHRvbi1kb25lXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgICA8L01vZGFsT3ZlcmxheVdyYXBwZXI+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgTW9kYWxPdmVybGF5V3JhcHBlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uS2V5RG93biA9IHRoaXMub25LZXlEb3duLmJpbmQodGhpcyk7XG4gIH1cblxuICAvLyBUaGUgaW50ZW5kZWQgYmVoYXZpb3VyIGlzIHRvIGxpc3RlbiBmb3IgYW4gZXNjYXBlIGtleVxuICAvLyBidXQgbm90IGZvciBhIGNsaWNrOyBzZWUgQnVnIDE1ODIyNDJcbiAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5wcm9wcy5vbkNsb3NlKGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5wcm9wcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uS2V5RG93bik7XG4gICAgdGhpcy5wcm9wcy5kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJtb2RhbC1vcGVuXCIpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5wcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uS2V5RG93bik7XG4gICAgdGhpcy5wcm9wcy5kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbC1vcGVuXCIpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgbGV0IGNsYXNzTmFtZSA9IHByb3BzLnVuc3R5bGVkID8gXCJcIiA6IFwibW9kYWxPdmVybGF5SW5uZXIgYWN0aXZlXCI7XG4gICAgaWYgKHByb3BzLmlubmVyQ2xhc3NOYW1lKSB7XG4gICAgICBjbGFzc05hbWUgKz0gYCAke3Byb3BzLmlubmVyQ2xhc3NOYW1lfWA7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cIm1vZGFsT3ZlcmxheU91dGVyIGFjdGl2ZVwiXG4gICAgICAgIG9uS2V5RG93bj17dGhpcy5vbktleURvd259XG4gICAgICAgIHJvbGU9XCJwcmVzZW50YXRpb25cIlxuICAgICAgPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PXtwcm9wcy5oZWFkZXJJZH1cbiAgICAgICAgICBpZD17cHJvcHMuaWR9XG4gICAgICAgICAgcm9sZT1cImRpYWxvZ1wiXG4gICAgICAgID5cbiAgICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5Nb2RhbE92ZXJsYXlXcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHsgZG9jdW1lbnQ6IGdsb2JhbC5kb2N1bWVudCB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBMaW5rTWVudSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0xpbmtNZW51L0xpbmtNZW51XCI7XG5pbXBvcnQgeyBDb250ZXh0TWVudUJ1dHRvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51QnV0dG9uXCI7XG5pbXBvcnQgeyBJbXByZXNzaW9uU3RhdHMgfSBmcm9tIFwiLi4vLi4vRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzL0ltcHJlc3Npb25TdGF0c1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2FmZUFuY2hvciB9IGZyb20gXCIuLi9TYWZlQW5jaG9yL1NhZmVBbmNob3JcIjtcblxuZXhwb3J0IGNsYXNzIERTU2lnbnVwIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgbGFzdEl0ZW06IGZhbHNlLFxuICAgIH07XG4gICAgdGhpcy5vbk1lbnVCdXR0b25VcGRhdGUgPSB0aGlzLm9uTWVudUJ1dHRvblVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25MaW5rQ2xpY2sgPSB0aGlzLm9uTGlua0NsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1lbnVTaG93ID0gdGhpcy5vbk1lbnVTaG93LmJpbmQodGhpcyk7XG4gIH1cblxuICBvbk1lbnVCdXR0b25VcGRhdGUoc2hvd0NvbnRleHRNZW51KSB7XG4gICAgaWYgKCFzaG93Q29udGV4dE1lbnUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgICBsYXN0SXRlbTogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBuZXh0QW5pbWF0aW9uRnJhbWUoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT5cbiAgICAgIHRoaXMucHJvcHMud2luZG93T2JqLnJlcXVlc3RBbmltYXRpb25GcmFtZShyZXNvbHZlKVxuICAgICk7XG4gIH1cblxuICBhc3luYyBvbk1lbnVTaG93KCkge1xuICAgIGxldCB7IGxhc3RJdGVtIH0gPSB0aGlzLnN0YXRlO1xuICAgIC8vIFdhaXQgZm9yIG5leHQgZnJhbWUgYmVmb3JlIGNvbXB1dGluZyBzY3JvbGxNYXhYIHRvIGFsbG93IGZsdWVudCBtZW51IHN0cmluZ3MgdG8gYmUgdmlzaWJsZVxuICAgIGF3YWl0IHRoaXMubmV4dEFuaW1hdGlvbkZyYW1lKCk7XG4gICAgaWYgKHRoaXMucHJvcHMud2luZG93T2JqLnNjcm9sbE1heFggPiAwKSB7XG4gICAgICBsYXN0SXRlbSA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgbGFzdEl0ZW0sXG4gICAgfSk7XG4gIH1cblxuICBvbkxpbmtDbGljaygpIHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2ggJiYgZGF0YSAmJiBkYXRhLnNwb2NzICYmIGRhdGEuc3BvY3MubGVuZ3RoKSB7XG4gICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnByb3BzLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgIC8vIEdyYWIgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGFycmF5IGFzIHdlIG9ubHkgaGF2ZSAxIHNwb2MgcG9zaXRpb24uXG4gICAgICBjb25zdCBbc3BvY10gPSBkYXRhLnNwb2NzO1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgICBldmVudDogXCJDTElDS1wiLFxuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IDAsXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBjbGljazogMCxcbiAgICAgICAgICB0aWxlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogc3BvYy5pZCxcbiAgICAgICAgICAgICAgcG9zOiAwLFxuICAgICAgICAgICAgICAuLi4oc3BvYy5zaGltICYmIHNwb2Muc2hpbS5jbGlja1xuICAgICAgICAgICAgICAgID8geyBzaGltOiBzcG9jLnNoaW0uY2xpY2sgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkYXRhLCBkaXNwYXRjaCwgdHlwZSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIWRhdGEgfHwgIWRhdGEuc3BvY3MgfHwgIWRhdGEuc3BvY3NbMF0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBHcmFiIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBhcnJheSBhcyB3ZSBvbmx5IGhhdmUgMSBzcG9jIHBvc2l0aW9uLlxuICAgIGNvbnN0IFtzcG9jXSA9IGRhdGEuc3BvY3M7XG4gICAgY29uc3QgeyB0aXRsZSwgdXJsLCBleGNlcnB0LCBmbGlnaHRfaWQsIGlkLCBzaGltIH0gPSBzcG9jO1xuXG4gICAgY29uc3QgU0lHTlVQX0NPTlRFWFRfTUVOVV9PUFRJT05TID0gW1xuICAgICAgXCJPcGVuSW5OZXdXaW5kb3dcIixcbiAgICAgIFwiT3BlbkluUHJpdmF0ZVdpbmRvd1wiLFxuICAgICAgXCJTZXBhcmF0b3JcIixcbiAgICAgIFwiQmxvY2tVcmxcIixcbiAgICAgIC4uLihmbGlnaHRfaWQgPyBbXCJTaG93UHJpdmFjeUluZm9cIl0gOiBbXSksXG4gICAgXTtcblxuICAgIGNvbnN0IG91dGVyQ2xhc3NOYW1lID0gW1xuICAgICAgXCJkcy1zaWdudXBcIixcbiAgICAgIHRoaXMuc3RhdGUuYWN0aXZlICYmIFwiYWN0aXZlXCIsXG4gICAgICB0aGlzLnN0YXRlLmxhc3RJdGVtICYmIFwibGFzdC1pdGVtXCIsXG4gICAgXVxuICAgICAgLmZpbHRlcih2ID0+IHYpXG4gICAgICAuam9pbihcIiBcIik7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e291dGVyQ2xhc3NOYW1lfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1zaWdudXAtY29udGVudFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24gaWNvbi1zbWFsbC1zcGFjZXIgaWNvbi1tYWlsXCI+PC9zcGFuPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAge3RpdGxlfXtcIiBcIn1cbiAgICAgICAgICAgIDxTYWZlQW5jaG9yXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRzLWNoZXZyb24tbGlua1wiXG4gICAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgICAgb25MaW5rQ2xpY2s9e3RoaXMub25MaW5rQ2xpY2t9XG4gICAgICAgICAgICAgIHVybD17dXJsfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7ZXhjZXJwdH1cbiAgICAgICAgICAgIDwvU2FmZUFuY2hvcj5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPEltcHJlc3Npb25TdGF0c1xuICAgICAgICAgICAgZmxpZ2h0SWQ9e2ZsaWdodF9pZH1cbiAgICAgICAgICAgIHJvd3M9e1tcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHBvczogMCxcbiAgICAgICAgICAgICAgICBzaGltOiBzaGltICYmIHNoaW0uaW1wcmVzc2lvbixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF19XG4gICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICBzb3VyY2U9e3R5cGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxDb250ZXh0TWVudUJ1dHRvblxuICAgICAgICAgIHRvb2x0aXA9e1wibmV3dGFiLW1lbnUtY29udGVudC10b29sdGlwXCJ9XG4gICAgICAgICAgdG9vbHRpcEFyZ3M9e3sgdGl0bGUgfX1cbiAgICAgICAgICBvblVwZGF0ZT17dGhpcy5vbk1lbnVCdXR0b25VcGRhdGV9XG4gICAgICAgID5cbiAgICAgICAgICA8TGlua01lbnVcbiAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgIGluZGV4PXswfVxuICAgICAgICAgICAgc291cmNlPXt0eXBlLnRvVXBwZXJDYXNlKCl9XG4gICAgICAgICAgICBvblNob3c9e3RoaXMub25NZW51U2hvd31cbiAgICAgICAgICAgIG9wdGlvbnM9e1NJR05VUF9DT05URVhUX01FTlVfT1BUSU9OU31cbiAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e3RydWV9XG4gICAgICAgICAgICBzaXRlPXt7XG4gICAgICAgICAgICAgIHJlZmVycmVyOiBcImh0dHBzOi8vZ2V0cG9ja2V0LmNvbS9yZWNvbW1lbmRhdGlvbnNcIixcbiAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgZ3VpZDogaWQsXG4gICAgICAgICAgICAgIHNoaW0sXG4gICAgICAgICAgICAgIGZsaWdodF9pZCxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Db250ZXh0TWVudUJ1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuRFNTaWdudXAuZGVmYXVsdFByb3BzID0ge1xuICB3aW5kb3dPYmo6IHdpbmRvdywgLy8gQWRkZWQgdG8gc3VwcG9ydCB1bml0IHRlc3RzXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBEU0Rpc21pc3MgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTRGlzbWlzcy9EU0Rpc21pc3NcIjtcbmltcG9ydCB7IERTSW1hZ2UgfSBmcm9tIFwiLi4vRFNJbWFnZS9EU0ltYWdlLmpzeFwiO1xuaW1wb3J0IHsgSW1wcmVzc2lvblN0YXRzIH0gZnJvbSBcIi4uLy4uL0Rpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cy9JbXByZXNzaW9uU3RhdHNcIjtcbmltcG9ydCB7IExpbmtNZW51T3B0aW9ucyB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvbGluay1tZW51LW9wdGlvbnNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5cbmV4cG9ydCBjbGFzcyBEU1RleHRQcm9tbyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uTGlua0NsaWNrID0gdGhpcy5vbkxpbmtDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25EaXNtaXNzQ2xpY2sgPSB0aGlzLm9uRGlzbWlzc0NsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkxpbmtDbGljaygpIHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2ggJiYgZGF0YSAmJiBkYXRhLnNwb2NzICYmIGRhdGEuc3BvY3MubGVuZ3RoKSB7XG4gICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnByb3BzLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgIC8vIEdyYWIgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGFycmF5IGFzIHdlIG9ubHkgaGF2ZSAxIHNwb2MgcG9zaXRpb24uXG4gICAgICBjb25zdCBbc3BvY10gPSBkYXRhLnNwb2NzO1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgICBldmVudDogXCJDTElDS1wiLFxuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IDAsXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBjbGljazogMCxcbiAgICAgICAgICB0aWxlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogc3BvYy5pZCxcbiAgICAgICAgICAgICAgcG9zOiAwLFxuICAgICAgICAgICAgICAuLi4oc3BvYy5zaGltICYmIHNwb2Muc2hpbS5jbGlja1xuICAgICAgICAgICAgICAgID8geyBzaGltOiBzcG9jLnNoaW0uY2xpY2sgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBvbkRpc21pc3NDbGljaygpIHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2ggJiYgZGF0YSAmJiBkYXRhLnNwb2NzICYmIGRhdGEuc3BvY3MubGVuZ3RoKSB7XG4gICAgICBjb25zdCBpbmRleCA9IDA7XG4gICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnByb3BzLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgIC8vIEdyYWIgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGFycmF5IGFzIHdlIG9ubHkgaGF2ZSAxIHNwb2MgcG9zaXRpb24uXG4gICAgICBjb25zdCBbc3BvY10gPSBkYXRhLnNwb2NzO1xuICAgICAgY29uc3Qgc3BvY0RhdGEgPSB7XG4gICAgICAgIHVybDogc3BvYy51cmwsXG4gICAgICAgIGd1aWQ6IHNwb2MuaWQsXG4gICAgICAgIHNoaW06IHNwb2Muc2hpbSxcbiAgICAgIH07XG4gICAgICBjb25zdCBibG9ja1VybE9wdGlvbiA9IExpbmtNZW51T3B0aW9ucy5CbG9ja1VybChzcG9jRGF0YSwgaW5kZXgsIHNvdXJjZSk7XG5cbiAgICAgIGNvbnN0IHsgYWN0aW9uLCBpbXByZXNzaW9uLCB1c2VyRXZlbnQgfSA9IGJsb2NrVXJsT3B0aW9uO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjdGlvbik7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICAgIGV2ZW50OiB1c2VyRXZlbnQsXG4gICAgICAgICAgc291cmNlLFxuICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogaW5kZXgsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgaWYgKGltcHJlc3Npb24pIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChpbXByZXNzaW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghZGF0YSB8fCAhZGF0YS5zcG9jcyB8fCAhZGF0YS5zcG9jc1swXSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIEdyYWIgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGFycmF5IGFzIHdlIG9ubHkgaGF2ZSAxIHNwb2MgcG9zaXRpb24uXG4gICAgY29uc3QgW3Nwb2NdID0gZGF0YS5zcG9jcztcbiAgICBjb25zdCB7XG4gICAgICBpbWFnZV9zcmMsXG4gICAgICByYXdfaW1hZ2Vfc3JjLFxuICAgICAgYWx0X3RleHQsXG4gICAgICB0aXRsZSxcbiAgICAgIHVybCxcbiAgICAgIGNvbnRleHQsXG4gICAgICBjdGEsXG4gICAgICBmbGlnaHRfaWQsXG4gICAgICBpZCxcbiAgICAgIHNoaW0sXG4gICAgfSA9IHNwb2M7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPERTRGlzbWlzc1xuICAgICAgICBvbkRpc21pc3NDbGljaz17dGhpcy5vbkRpc21pc3NDbGlja31cbiAgICAgICAgZXh0cmFDbGFzc2VzPXtgZHMtZGlzbWlzcy1kcy10ZXh0LXByb21vYH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy10ZXh0LXByb21vXCI+XG4gICAgICAgICAgPERTSW1hZ2VcbiAgICAgICAgICAgIGFsdF90ZXh0PXthbHRfdGV4dH1cbiAgICAgICAgICAgIHNvdXJjZT17aW1hZ2Vfc3JjfVxuICAgICAgICAgICAgcmF3U291cmNlPXtyYXdfaW1hZ2Vfc3JjfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0XCI+XG4gICAgICAgICAgICA8aDM+XG4gICAgICAgICAgICAgIHtgJHt0aXRsZX1cXHUyMDAzYH1cbiAgICAgICAgICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcy1jaGV2cm9uLWxpbmtcIlxuICAgICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICAgIG9uTGlua0NsaWNrPXt0aGlzLm9uTGlua0NsaWNrfVxuICAgICAgICAgICAgICAgIHVybD17dXJsfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2N0YX1cbiAgICAgICAgICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInN1YnRpdGxlXCI+e2NvbnRleHR9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxJbXByZXNzaW9uU3RhdHNcbiAgICAgICAgICAgIGZsaWdodElkPXtmbGlnaHRfaWR9XG4gICAgICAgICAgICByb3dzPXtbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBwb3M6IDAsXG4gICAgICAgICAgICAgICAgc2hpbTogc2hpbSAmJiBzaGltLmltcHJlc3Npb24sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICBzb3VyY2U9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvRFNEaXNtaXNzPlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNlY3Rpb25JbnRsIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvU2VjdGlvbnMvU2VjdGlvbnNcIjtcblxuZXhwb3J0IGNsYXNzIF9IaWdobGlnaHRzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzZWN0aW9uID0gdGhpcy5wcm9wcy5TZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gXCJoaWdobGlnaHRzXCIpO1xuICAgIGlmICghc2VjdGlvbiB8fCAhc2VjdGlvbi5lbmFibGVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1oaWdobGlnaHRzIHNlY3Rpb25zLWxpc3RcIj5cbiAgICAgICAgPFNlY3Rpb25JbnRsIHsuLi5zZWN0aW9ufSBpc0ZpeGVkPXt0cnVlfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgSGlnaGxpZ2h0cyA9IGNvbm5lY3Qoc3RhdGUgPT4gKHsgU2VjdGlvbnM6IHN0YXRlLlNlY3Rpb25zIH0pKShcbiAgX0hpZ2hsaWdodHNcbik7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBDYXJkLCBQbGFjZWhvbGRlckNhcmQgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9DYXJkL0NhcmRcIjtcbmltcG9ydCB7IENvbGxhcHNpYmxlU2VjdGlvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbGxhcHNpYmxlU2VjdGlvbi9Db2xsYXBzaWJsZVNlY3Rpb25cIjtcbmltcG9ydCB7IENvbXBvbmVudFBlcmZUaW1lciB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbXBvbmVudFBlcmZUaW1lci9Db21wb25lbnRQZXJmVGltZXJcIjtcbmltcG9ydCB7IEZsdWVudE9yVGV4dCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0ZsdWVudE9yVGV4dC9GbHVlbnRPclRleHRcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IE1vcmVSZWNvbW1lbmRhdGlvbnMgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Nb3JlUmVjb21tZW5kYXRpb25zL01vcmVSZWNvbW1lbmRhdGlvbnNcIjtcbmltcG9ydCB7IFBvY2tldExvZ2dlZEluQ3RhIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvUG9ja2V0TG9nZ2VkSW5DdGEvUG9ja2V0TG9nZ2VkSW5DdGFcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRvcGljcyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL1RvcGljcy9Ub3BpY3NcIjtcbmltcG9ydCB7IFRvcFNpdGVzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZXNcIjtcblxuY29uc3QgVklTSUJMRSA9IFwidmlzaWJsZVwiO1xuY29uc3QgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQgPSBcInZpc2liaWxpdHljaGFuZ2VcIjtcbmNvbnN0IENBUkRTX1BFUl9ST1dfREVGQVVMVCA9IDM7XG5jb25zdCBDQVJEU19QRVJfUk9XX0NPTVBBQ1RfV0lERSA9IDQ7XG5cbmV4cG9ydCBjbGFzcyBTZWN0aW9uIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGdldCBudW1Sb3dzKCkge1xuICAgIGNvbnN0IHsgcm93c1ByZWYsIG1heFJvd3MsIFByZWZzIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiByb3dzUHJlZiA/IFByZWZzLnZhbHVlc1tyb3dzUHJlZl0gOiBtYXhSb3dzO1xuICB9XG5cbiAgX2Rpc3BhdGNoSW1wcmVzc2lvblN0YXRzKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgbGV0IGNhcmRzUGVyUm93ID0gQ0FSRFNfUEVSX1JPV19ERUZBVUxUO1xuICAgIGlmIChcbiAgICAgIHByb3BzLmNvbXBhY3RDYXJkcyAmJlxuICAgICAgZ2xvYmFsLm1hdGNoTWVkaWEoYChtaW4td2lkdGg6IDEwNzJweClgKS5tYXRjaGVzXG4gICAgKSB7XG4gICAgICAvLyBJZiB0aGUgc2VjdGlvbiBoYXMgY29tcGFjdCBjYXJkcyBhbmQgdGhlIHZpZXdwb3J0IGlzIHdpZGUgZW5vdWdoLCB3ZSBzaG93XG4gICAgICAvLyA0IGNvbHVtbnMgaW5zdGVhZCBvZiAzLlxuICAgICAgLy8gJGJyZWFrLXBvaW50LXdpZGVzdCA9IDEwNzJweCAoZnJvbSBfdmFyaWFibGVzLnNjc3MpXG4gICAgICBjYXJkc1BlclJvdyA9IENBUkRTX1BFUl9ST1dfQ09NUEFDVF9XSURFO1xuICAgIH1cbiAgICBjb25zdCBtYXhDYXJkcyA9IGNhcmRzUGVyUm93ICogdGhpcy5udW1Sb3dzO1xuICAgIGNvbnN0IGNhcmRzID0gcHJvcHMucm93cy5zbGljZSgwLCBtYXhDYXJkcyk7XG5cbiAgICBpZiAodGhpcy5uZWVkc0ltcHJlc3Npb25TdGF0cyhjYXJkcykpIHtcbiAgICAgIHByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgIHNvdXJjZTogcHJvcHMuZXZlbnRTb3VyY2UsXG4gICAgICAgICAgdGlsZXM6IGNhcmRzLm1hcChsaW5rID0+ICh7IGlkOiBsaW5rLmd1aWQgfSkpLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHRoaXMuaW1wcmVzc2lvbkNhcmRHdWlkcyA9IGNhcmRzLm1hcChsaW5rID0+IGxpbmsuZ3VpZCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVGhpcyBzZW5kcyBhbiBldmVudCB3aGVuIGEgdXNlciBzZWVzIGEgc2V0IG9mIG5ldyBjb250ZW50LiBJZiBjb250ZW50XG4gIC8vIGNoYW5nZXMgd2hpbGUgdGhlIHBhZ2UgaXMgaGlkZGVuIChpLmUuIHByZWxvYWRlZCBvciBvbiBhIGhpZGRlbiB0YWIpLFxuICAvLyBvbmx5IHNlbmQgdGhlIGV2ZW50IGlmIHRoZSBwYWdlIGJlY29tZXMgdmlzaWJsZSBhZ2Fpbi5cbiAgc2VuZEltcHJlc3Npb25TdGF0c09yQWRkTGlzdGVuZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIGlmICghcHJvcHMuc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cyB8fCAhcHJvcHMuZGlzcGF0Y2gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICB0aGlzLl9kaXNwYXRjaEltcHJlc3Npb25TdGF0cygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSBzaG91bGQgb25seSBldmVyIHNlbmQgdGhlIGxhdGVzdCBpbXByZXNzaW9uIHN0YXRzIHBpbmcsIHNvIHJlbW92ZSBhbnlcbiAgICAgIC8vIG9sZGVyIGxpc3RlbmVycy5cbiAgICAgIGlmICh0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpIHtcbiAgICAgICAgcHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2hlbiB0aGUgcGFnZSBiZWNvbWVzIHZpc2libGUsIHNlbmQgdGhlIGltcHJlc3Npb24gc3RhdHMgcGluZyBpZiB0aGUgc2VjdGlvbiBpc24ndCBjb2xsYXBzZWQuXG4gICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgICAgICBpZiAoIXRoaXMucHJvcHMucHJlZi5jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoSW1wcmVzc2lvblN0YXRzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwcm9wcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLnNlbmROZXdUYWJSZWh5ZHJhdGVkKHRoaXMucHJvcHMuaW5pdGlhbGl6ZWQpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm93cy5sZW5ndGggJiYgIXRoaXMucHJvcHMucHJlZi5jb2xsYXBzZWQpIHtcbiAgICAgIHRoaXMuc2VuZEltcHJlc3Npb25TdGF0c09yQWRkTGlzdGVuZXIoKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCBpc0NvbGxhcHNlZCA9IHByb3BzLnByZWYuY29sbGFwc2VkO1xuICAgIGNvbnN0IHdhc0NvbGxhcHNlZCA9IHByZXZQcm9wcy5wcmVmLmNvbGxhcHNlZDtcbiAgICBpZiAoXG4gICAgICAvLyBEb24ndCBzZW5kIGltcHJlc3Npb24gc3RhdHMgZm9yIHRoZSBlbXB0eSBzdGF0ZVxuICAgICAgcHJvcHMucm93cy5sZW5ndGggJiZcbiAgICAgIC8vIFdlIG9ubHkgd2FudCB0byBzZW5kIGltcHJlc3Npb24gc3RhdHMgaWYgdGhlIGNvbnRlbnQgb2YgdGhlIGNhcmRzIGhhcyBjaGFuZ2VkXG4gICAgICAvLyBhbmQgdGhlIHNlY3Rpb24gaXMgbm90IGNvbGxhcHNlZC4uLlxuICAgICAgKChwcm9wcy5yb3dzICE9PSBwcmV2UHJvcHMucm93cyAmJiAhaXNDb2xsYXBzZWQpIHx8XG4gICAgICAgIC8vIG9yIGlmIHdlIGFyZSBleHBhbmRpbmcgYSBzZWN0aW9uIHRoYXQgd2FzIGNvbGxhcHNlZC5cbiAgICAgICAgKHdhc0NvbGxhcHNlZCAmJiAhaXNDb2xsYXBzZWQpKVxuICAgICkge1xuICAgICAgdGhpcy5zZW5kSW1wcmVzc2lvblN0YXRzT3JBZGRMaXN0ZW5lcigpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgdGhpcy5zZW5kTmV3VGFiUmVoeWRyYXRlZChuZXh0UHJvcHMuaW5pdGlhbGl6ZWQpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG5lZWRzSW1wcmVzc2lvblN0YXRzKGNhcmRzKSB7XG4gICAgaWYgKFxuICAgICAgIXRoaXMuaW1wcmVzc2lvbkNhcmRHdWlkcyB8fFxuICAgICAgdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzLmxlbmd0aCAhPT0gY2FyZHMubGVuZ3RoXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY2FyZHNbaV0uZ3VpZCAhPT0gdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzW2ldKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFRoZSBORVdfVEFCX1JFSFlEUkFURUQgZXZlbnQgaXMgdXNlZCB0byBpbmZvcm0gZmVlZHMgdGhhdCB0aGVpclxuICAvLyBkYXRhIGhhcyBiZWVuIGNvbnN1bWVkIGUuZy4gZm9yIGNvdW50aW5nIHRoZSBudW1iZXIgb2YgdGFicyB0aGF0XG4gIC8vIGhhdmUgcmVuZGVyZWQgdGhhdCBkYXRhLlxuICBzZW5kTmV3VGFiUmVoeWRyYXRlZChpbml0aWFsaXplZCkge1xuICAgIGlmIChpbml0aWFsaXplZCAmJiAhdGhpcy5yZW5kZXJOb3RpZmllZCkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7IHR5cGU6IGF0Lk5FV19UQUJfUkVIWURSQVRFRCwgZGF0YToge30gfSlcbiAgICAgICk7XG4gICAgICB0aGlzLnJlbmRlck5vdGlmaWVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBldmVudFNvdXJjZSxcbiAgICAgIHRpdGxlLFxuICAgICAgcm93cyxcbiAgICAgIFBvY2tldCxcbiAgICAgIHRvcGljcyxcbiAgICAgIGVtcHR5U3RhdGUsXG4gICAgICBkaXNwYXRjaCxcbiAgICAgIGNvbXBhY3RDYXJkcyxcbiAgICAgIHJlYWRfbW9yZV9lbmRwb2ludCxcbiAgICAgIGNvbnRleHRNZW51T3B0aW9ucyxcbiAgICAgIGluaXRpYWxpemVkLFxuICAgICAgbGVhcm5Nb3JlLFxuICAgICAgcHJlZixcbiAgICAgIHByaXZhY3lOb3RpY2VVUkwsXG4gICAgICBpc0ZpcnN0LFxuICAgICAgaXNMYXN0LFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3Qgd2FpdGluZ0ZvclNwb2MgPVxuICAgICAgaWQgPT09IFwidG9wc3Rvcmllc1wiICYmIHRoaXMucHJvcHMuUG9ja2V0LndhaXRpbmdGb3JTcG9jO1xuICAgIGNvbnN0IG1heENhcmRzUGVyUm93ID0gY29tcGFjdENhcmRzXG4gICAgICA/IENBUkRTX1BFUl9ST1dfQ09NUEFDVF9XSURFXG4gICAgICA6IENBUkRTX1BFUl9ST1dfREVGQVVMVDtcbiAgICBjb25zdCB7IG51bVJvd3MgfSA9IHRoaXM7XG4gICAgY29uc3QgbWF4Q2FyZHMgPSBtYXhDYXJkc1BlclJvdyAqIG51bVJvd3M7XG4gICAgY29uc3QgbWF4Q2FyZHNPbk5hcnJvdyA9IENBUkRTX1BFUl9ST1dfREVGQVVMVCAqIG51bVJvd3M7XG5cbiAgICBjb25zdCB7IHBvY2tldEN0YSwgaXNVc2VyTG9nZ2VkSW4gfSA9IFBvY2tldCB8fCB7fTtcbiAgICBjb25zdCB7IHVzZUN0YSB9ID0gcG9ja2V0Q3RhIHx8IHt9O1xuXG4gICAgLy8gRG9uJ3QgZGlzcGxheSBhbnl0aGluZyB1bnRpbCB3ZSBoYXZlIGEgZGVmaW5pdHZlIHJlc3VsdCBmcm9tIFBvY2tldCxcbiAgICAvLyB0byBhdm9pZCBhIGZsYXNoIG9mIGxvZ2dlZCBvdXQgc3RhdGUgd2hpbGUgd2UgcmVuZGVyLlxuICAgIGNvbnN0IGlzUG9ja2V0TG9nZ2VkSW5EZWZpbmVkID1cbiAgICAgIGlzVXNlckxvZ2dlZEluID09PSB0cnVlIHx8IGlzVXNlckxvZ2dlZEluID09PSBmYWxzZTtcblxuICAgIGNvbnN0IGhhc1RvcGljcyA9IHRvcGljcyAmJiAhIXRvcGljcy5sZW5ndGg7XG5cbiAgICBjb25zdCBzaG91bGRTaG93UG9ja2V0Q3RhID1cbiAgICAgIGlkID09PSBcInRvcHN0b3JpZXNcIiAmJiB1c2VDdGEgJiYgaXNVc2VyTG9nZ2VkSW4gPT09IGZhbHNlO1xuXG4gICAgLy8gU2hvdyB0b3BpY3Mgb25seSBmb3IgdG9wIHN0b3JpZXMgYW5kIGlmIGl0IGhhcyBsb2FkZWQgd2l0aCB0b3BpY3MuXG4gICAgLy8gVGhlIGNsYXNzcyAudG9wLXN0b3JpZXMtYm90dG9tLWNvbnRhaW5lciBlbnN1cmVzIGNvbnRlbnQgZG9lc24ndCBzaGlmdCBhcyB0aGluZ3MgbG9hZC5cbiAgICBjb25zdCBzaG91bGRTaG93VG9waWNzID1cbiAgICAgIGlkID09PSBcInRvcHN0b3JpZXNcIiAmJlxuICAgICAgaGFzVG9waWNzICYmXG4gICAgICAoKHVzZUN0YSAmJiBpc1VzZXJMb2dnZWRJbiA9PT0gdHJ1ZSkgfHxcbiAgICAgICAgKCF1c2VDdGEgJiYgaXNQb2NrZXRMb2dnZWRJbkRlZmluZWQpKTtcblxuICAgIC8vIFdlIHVzZSB0b3BpY3MgdG8gZGV0ZXJtaW5lIGxhbmd1YWdlIHN1cHBvcnQgZm9yIHJlYWQgbW9yZS5cbiAgICBjb25zdCBzaG91bGRTaG93UmVhZE1vcmUgPSByZWFkX21vcmVfZW5kcG9pbnQgJiYgaGFzVG9waWNzO1xuXG4gICAgY29uc3QgcmVhbFJvd3MgPSByb3dzLnNsaWNlKDAsIG1heENhcmRzKTtcblxuICAgIC8vIFRoZSBlbXB0eSBzdGF0ZSBzaG91bGQgb25seSBiZSBzaG93biBhZnRlciB3ZSBoYXZlIGluaXRpYWxpemVkIGFuZCB0aGVyZSBpcyBubyBjb250ZW50LlxuICAgIC8vIE90aGVyd2lzZSwgd2Ugc2hvdWxkIHNob3cgcGxhY2Vob2xkZXJzLlxuICAgIGNvbnN0IHNob3VsZFNob3dFbXB0eVN0YXRlID0gaW5pdGlhbGl6ZWQgJiYgIXJvd3MubGVuZ3RoO1xuXG4gICAgY29uc3QgY2FyZHMgPSBbXTtcbiAgICBpZiAoIXNob3VsZFNob3dFbXB0eVN0YXRlKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heENhcmRzOyBpKyspIHtcbiAgICAgICAgY29uc3QgbGluayA9IHJlYWxSb3dzW2ldO1xuICAgICAgICAvLyBPbiBuYXJyb3cgdmlld3BvcnRzLCB3ZSBvbmx5IHNob3cgMyBjYXJkcyBwZXIgcm93LiBXZSdsbCBtYXJrIHRoZSByZXN0IGFzXG4gICAgICAgIC8vIC5oaWRlLWZvci1uYXJyb3cgdG8gaGlkZSBpbiBDU1MgdmlhIEBtZWRpYSBxdWVyeS5cbiAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gaSA+PSBtYXhDYXJkc09uTmFycm93ID8gXCJoaWRlLWZvci1uYXJyb3dcIiA6IFwiXCI7XG4gICAgICAgIGxldCB1c2VQbGFjZWhvbGRlciA9ICFsaW5rO1xuICAgICAgICAvLyBJZiB3ZSBhcmUgaW4gdGhlIHRoaXJkIGNhcmQgYW5kIHdhaXRpbmcgZm9yIHNwb2MsXG4gICAgICAgIC8vIHVzZSB0aGUgcGxhY2Vob2xkZXIuXG4gICAgICAgIGlmICghdXNlUGxhY2Vob2xkZXIgJiYgaSA9PT0gMiAmJiB3YWl0aW5nRm9yU3BvYykge1xuICAgICAgICAgIHVzZVBsYWNlaG9sZGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXJkcy5wdXNoKFxuICAgICAgICAgICF1c2VQbGFjZWhvbGRlciA/IChcbiAgICAgICAgICAgIDxDYXJkXG4gICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgaW5kZXg9e2l9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIGxpbms9e2xpbmt9XG4gICAgICAgICAgICAgIGNvbnRleHRNZW51T3B0aW9ucz17Y29udGV4dE1lbnVPcHRpb25zfVxuICAgICAgICAgICAgICBldmVudFNvdXJjZT17ZXZlbnRTb3VyY2V9XG4gICAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e3RoaXMucHJvcHMuc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0c31cbiAgICAgICAgICAgICAgaXNXZWJFeHRlbnNpb249e3RoaXMucHJvcHMuaXNXZWJFeHRlbnNpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8UGxhY2Vob2xkZXJDYXJkIGtleT17aX0gY2xhc3NOYW1lPXtjbGFzc05hbWV9IC8+XG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNlY3Rpb25DbGFzc05hbWUgPSBbXG4gICAgICBcInNlY3Rpb25cIixcbiAgICAgIGNvbXBhY3RDYXJkcyA/IFwiY29tcGFjdC1jYXJkc1wiIDogXCJub3JtYWwtY2FyZHNcIixcbiAgICBdLmpvaW4oXCIgXCIpO1xuXG4gICAgLy8gPFNlY3Rpb24+IDwtLSBSZWFjdCBjb21wb25lbnRcbiAgICAvLyA8c2VjdGlvbj4gPC0tIEhUTUw1IGVsZW1lbnRcbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBvbmVudFBlcmZUaW1lciB7Li4udGhpcy5wcm9wc30+XG4gICAgICAgIDxDb2xsYXBzaWJsZVNlY3Rpb25cbiAgICAgICAgICBjbGFzc05hbWU9e3NlY3Rpb25DbGFzc05hbWV9XG4gICAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICAgIGlkPXtpZH1cbiAgICAgICAgICBldmVudFNvdXJjZT17ZXZlbnRTb3VyY2V9XG4gICAgICAgICAgY29sbGFwc2VkPXt0aGlzLnByb3BzLnByZWYuY29sbGFwc2VkfVxuICAgICAgICAgIHNob3dQcmVmTmFtZT17KHByZWYgJiYgcHJlZi5mZWVkKSB8fCBpZH1cbiAgICAgICAgICBwcml2YWN5Tm90aWNlVVJMPXtwcml2YWN5Tm90aWNlVVJMfVxuICAgICAgICAgIFByZWZzPXt0aGlzLnByb3BzLlByZWZzfVxuICAgICAgICAgIGlzRml4ZWQ9e3RoaXMucHJvcHMuaXNGaXhlZH1cbiAgICAgICAgICBpc0ZpcnN0PXtpc0ZpcnN0fVxuICAgICAgICAgIGlzTGFzdD17aXNMYXN0fVxuICAgICAgICAgIGxlYXJuTW9yZT17bGVhcm5Nb3JlfVxuICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgIGlzV2ViRXh0ZW5zaW9uPXt0aGlzLnByb3BzLmlzV2ViRXh0ZW5zaW9ufVxuICAgICAgICA+XG4gICAgICAgICAgeyFzaG91bGRTaG93RW1wdHlTdGF0ZSAmJiAoXG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic2VjdGlvbi1saXN0XCIgc3R5bGU9e3sgcGFkZGluZzogMCB9fT5cbiAgICAgICAgICAgICAge2NhcmRzfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtzaG91bGRTaG93RW1wdHlTdGF0ZSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tZW1wdHktc3RhdGVcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbXB0eS1zdGF0ZVwiPlxuICAgICAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17ZW1wdHlTdGF0ZS5tZXNzYWdlfT5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImVtcHR5LXN0YXRlLW1lc3NhZ2VcIiAvPlxuICAgICAgICAgICAgICAgIDwvRmx1ZW50T3JUZXh0PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge2lkID09PSBcInRvcHN0b3JpZXNcIiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcC1zdG9yaWVzLWJvdHRvbS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAge3Nob3VsZFNob3dUb3BpY3MgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid3JhcHBlci10b3BpY3NcIj5cbiAgICAgICAgICAgICAgICAgIDxUb3BpY3MgdG9waWNzPXt0aGlzLnByb3BzLnRvcGljc30gLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICB7c2hvdWxkU2hvd1BvY2tldEN0YSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwcGVyLWN0YVwiPlxuICAgICAgICAgICAgICAgICAgPFBvY2tldExvZ2dlZEluQ3RhIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwcGVyLW1vcmUtcmVjb21tZW5kYXRpb25zXCI+XG4gICAgICAgICAgICAgICAge3Nob3VsZFNob3dSZWFkTW9yZSAmJiAoXG4gICAgICAgICAgICAgICAgICA8TW9yZVJlY29tbWVuZGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICByZWFkX21vcmVfZW5kcG9pbnQ9e3JlYWRfbW9yZV9lbmRwb2ludH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L0NvbGxhcHNpYmxlU2VjdGlvbj5cbiAgICAgIDwvQ29tcG9uZW50UGVyZlRpbWVyPlxuICAgICk7XG4gIH1cbn1cblxuU2VjdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGRvY3VtZW50OiBnbG9iYWwuZG9jdW1lbnQsXG4gIHJvd3M6IFtdLFxuICBlbXB0eVN0YXRlOiB7fSxcbiAgcHJlZjoge30sXG4gIHRpdGxlOiBcIlwiLFxufTtcblxuZXhwb3J0IGNvbnN0IFNlY3Rpb25JbnRsID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBQcmVmczogc3RhdGUuUHJlZnMsXG4gIFBvY2tldDogc3RhdGUuUG9ja2V0LFxufSkpKFNlY3Rpb24pO1xuXG5leHBvcnQgY2xhc3MgX1NlY3Rpb25zIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlclNlY3Rpb25zKCkge1xuICAgIGNvbnN0IHNlY3Rpb25zID0gW107XG4gICAgY29uc3QgZW5hYmxlZFNlY3Rpb25zID0gdGhpcy5wcm9wcy5TZWN0aW9ucy5maWx0ZXIoXG4gICAgICBzZWN0aW9uID0+IHNlY3Rpb24uZW5hYmxlZFxuICAgICk7XG4gICAgY29uc3Qge1xuICAgICAgc2VjdGlvbk9yZGVyLFxuICAgICAgXCJmZWVkcy50b3BzaXRlc1wiOiBzaG93VG9wU2l0ZXMsXG4gICAgfSA9IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzO1xuICAgIC8vIEVuYWJsZWQgc2VjdGlvbnMgZG9lc24ndCBpbmNsdWRlIFRvcCBTaXRlcywgc28gd2UgYWRkIGl0IGlmIGVuYWJsZWQuXG4gICAgY29uc3QgZXhwZWN0ZWRDb3VudCA9IGVuYWJsZWRTZWN0aW9ucy5sZW5ndGggKyB+fnNob3dUb3BTaXRlcztcblxuICAgIGZvciAoY29uc3Qgc2VjdGlvbklkIG9mIHNlY3Rpb25PcmRlci5zcGxpdChcIixcIikpIHtcbiAgICAgIGNvbnN0IGNvbW1vblByb3BzID0ge1xuICAgICAgICBrZXk6IHNlY3Rpb25JZCxcbiAgICAgICAgaXNGaXJzdDogc2VjdGlvbnMubGVuZ3RoID09PSAwLFxuICAgICAgICBpc0xhc3Q6IHNlY3Rpb25zLmxlbmd0aCA9PT0gZXhwZWN0ZWRDb3VudCAtIDEsXG4gICAgICB9O1xuICAgICAgaWYgKHNlY3Rpb25JZCA9PT0gXCJ0b3BzaXRlc1wiICYmIHNob3dUb3BTaXRlcykge1xuICAgICAgICBzZWN0aW9ucy5wdXNoKDxUb3BTaXRlcyB7Li4uY29tbW9uUHJvcHN9IC8+KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBlbmFibGVkU2VjdGlvbnMuZmluZChzID0+IHMuaWQgPT09IHNlY3Rpb25JZCk7XG4gICAgICAgIGlmIChzZWN0aW9uKSB7XG4gICAgICAgICAgc2VjdGlvbnMucHVzaCg8U2VjdGlvbkludGwgey4uLnNlY3Rpb259IHsuLi5jb21tb25Qcm9wc30gLz4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZWN0aW9ucztcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9ucy1saXN0XCI+e3RoaXMucmVuZGVyU2VjdGlvbnMoKX08L2Rpdj47XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFNlY3Rpb25zID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBTZWN0aW9uczogc3RhdGUuU2VjdGlvbnMsXG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbn0pKShfU2VjdGlvbnMpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgY2FyZENvbnRleHRUeXBlcyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBDb250ZXh0TWVudUJ1dHRvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51QnV0dG9uXCI7XG5pbXBvcnQgeyBMaW5rTWVudSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0xpbmtNZW51L0xpbmtNZW51XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTY3JlZW5zaG90VXRpbHMgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL3NjcmVlbnNob3QtdXRpbHNcIjtcblxuLy8gS2VlcCB0cmFjayBvZiBwZW5kaW5nIGltYWdlIGxvYWRzIHRvIG9ubHkgcmVxdWVzdCBvbmNlXG5jb25zdCBnSW1hZ2VMb2FkaW5nID0gbmV3IE1hcCgpO1xuXG4vKipcbiAqIENhcmQgY29tcG9uZW50LlxuICogQ2FyZHMgYXJlIGZvdW5kIHdpdGhpbiBhIFNlY3Rpb24gY29tcG9uZW50IGFuZCBjb250YWluIGluZm9ybWF0aW9uIGFib3V0IGEgbGluayBzdWNoXG4gKiBhcyBwcmV2aWV3IGltYWdlLCBwYWdlIHRpdGxlLCBwYWdlIGRlc2NyaXB0aW9uLCBhbmQgc29tZSBjb250ZXh0IGFib3V0IGlmIHRoZSBwYWdlXG4gKiB3YXMgdmlzaXRlZCwgYm9va21hcmtlZCwgdHJlbmRpbmcgZXRjLi4uXG4gKiBFYWNoIFNlY3Rpb24gY2FuIG1ha2UgYW4gdW5vcmRlcmVkIGxpc3Qgb2YgQ2FyZHMgd2hpY2ggd2lsbCBjcmVhdGUgb25lIGluc3RhbmUgb2ZcbiAqIHRoaXMgY2xhc3MuIEVhY2ggY2FyZCB3aWxsIHRoZW4gZ2V0IGEgY29udGV4dCBtZW51IHdoaWNoIHJlZmxlY3RzIHRoZSBhY3Rpb25zIHRoYXRcbiAqIGNhbiBiZSBkb25lIG9uIHRoaXMgQ2FyZC5cbiAqL1xuZXhwb3J0IGNsYXNzIF9DYXJkIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhY3RpdmVDYXJkOiBudWxsLFxuICAgICAgaW1hZ2VMb2FkZWQ6IGZhbHNlLFxuICAgICAgY2FyZEltYWdlOiBudWxsLFxuICAgIH07XG4gICAgdGhpcy5vbk1lbnVCdXR0b25VcGRhdGUgPSB0aGlzLm9uTWVudUJ1dHRvblVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25MaW5rQ2xpY2sgPSB0aGlzLm9uTGlua0NsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIHRvIGNvbmRpdGlvbmFsbHkgbG9hZCBhbiBpbWFnZSBhbmQgdXBkYXRlIHN0YXRlIHdoZW4gaXQgbG9hZHMuXG4gICAqL1xuICBhc3luYyBtYXliZUxvYWRJbWFnZSgpIHtcbiAgICAvLyBObyBuZWVkIHRvIGxvYWQgaWYgaXQncyBhbHJlYWR5IGxvYWRlZCBvciBubyBpbWFnZVxuICAgIGNvbnN0IHsgY2FyZEltYWdlIH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmICghY2FyZEltYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW1hZ2VVcmwgPSBjYXJkSW1hZ2UudXJsO1xuICAgIGlmICghdGhpcy5zdGF0ZS5pbWFnZUxvYWRlZCkge1xuICAgICAgLy8gSW5pdGlhbGl6ZSBhIHByb21pc2UgdG8gc2hhcmUgYSBsb2FkIGFjcm9zcyBtdWx0aXBsZSBjYXJkIHVwZGF0ZXNcbiAgICAgIGlmICghZ0ltYWdlTG9hZGluZy5oYXMoaW1hZ2VVcmwpKSB7XG4gICAgICAgIGNvbnN0IGxvYWRlclByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgbG9hZGVyID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgbG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIHJlc29sdmUpO1xuICAgICAgICAgIGxvYWRlci5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgcmVqZWN0KTtcbiAgICAgICAgICBsb2FkZXIuc3JjID0gaW1hZ2VVcmw7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNhdmUgYW5kIHJlbW92ZSB0aGUgcHJvbWlzZSBvbmx5IHdoaWxlIGl0J3MgcGVuZGluZ1xuICAgICAgICBnSW1hZ2VMb2FkaW5nLnNldChpbWFnZVVybCwgbG9hZGVyUHJvbWlzZSk7XG4gICAgICAgIGxvYWRlclByb21pc2VcbiAgICAgICAgICAuY2F0Y2goZXggPT4gZXgpXG4gICAgICAgICAgLnRoZW4oKCkgPT4gZ0ltYWdlTG9hZGluZy5kZWxldGUoaW1hZ2VVcmwpKVxuICAgICAgICAgIC5jYXRjaCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBXYWl0IGZvciB0aGUgaW1hZ2Ugd2hldGhlciBqdXN0IHN0YXJ0ZWQgbG9hZGluZyBvciByZXVzZWQgcHJvbWlzZVxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZ0ltYWdlTG9hZGluZy5nZXQoaW1hZ2VVcmwpO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmYWlsZWQgaW1hZ2Ugd2l0aG91dCBjaGFuZ2luZyBzdGF0ZVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIE9ubHkgdXBkYXRlIHN0YXRlIGlmIHdlJ3JlIHN0aWxsIHdhaXRpbmcgdG8gbG9hZCB0aGUgb3JpZ2luYWwgaW1hZ2VcbiAgICAgIGlmIChcbiAgICAgICAgU2NyZWVuc2hvdFV0aWxzLmlzUmVtb3RlSW1hZ2VMb2NhbChcbiAgICAgICAgICB0aGlzLnN0YXRlLmNhcmRJbWFnZSxcbiAgICAgICAgICB0aGlzLnByb3BzLmxpbmsuaW1hZ2VcbiAgICAgICAgKSAmJlxuICAgICAgICAhdGhpcy5zdGF0ZS5pbWFnZUxvYWRlZFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbWFnZUxvYWRlZDogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIHRvIG9idGFpbiB0aGUgbmV4dCBzdGF0ZSBiYXNlZCBvbiBuZXh0UHJvcHMgYW5kIHByZXZTdGF0ZS5cbiAgICpcbiAgICogTk9URTogUmVuYW1lIHRoaXMgbWV0aG9kIHRvIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyB3aGVuIHdlIHVwZGF0ZSBSZWFjdFxuICAgKiAgICAgICB0byA+PSAxNi4zLiBXZSB3aWxsIG5lZWQgdG8gdXBkYXRlIHRlc3RzIGFzIHdlbGwuIFdlIGNhbm5vdCByZW5hbWUgdGhpc1xuICAgKiAgICAgICBtZXRob2QgdG8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIG5vdyBiZWNhdXNlIHRoZXJlIGlzIGEgbWlzbWF0Y2ggaW5cbiAgICogICAgICAgdGhlIFJlYWN0IHZlcnNpb24gdGhhdCB3ZSBhcmUgdXNpbmcgZm9yIGJvdGggdGVzdGluZyBhbmQgcHJvZHVjdGlvbi5cbiAgICogICAgICAgKGkuZS4gcmVhY3QtdGVzdC1yZW5kZXIgPT4gXCIxNi4zLjJcIiwgcmVhY3QgPT4gXCIxNi4yLjBcIikuXG4gICAqXG4gICAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYWlyYm5iL2VuenltZS9ibG9iL21hc3Rlci9wYWNrYWdlcy9lbnp5bWUtYWRhcHRlci1yZWFjdC0xNi9wYWNrYWdlLmpzb24jTDQzLlxuICAgKi9cbiAgc3RhdGljIGdldE5leHRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIGNvbnN0IHsgaW1hZ2UgfSA9IG5leHRQcm9wcy5saW5rO1xuICAgIGNvbnN0IGltYWdlSW5TdGF0ZSA9IFNjcmVlbnNob3RVdGlscy5pc1JlbW90ZUltYWdlTG9jYWwoXG4gICAgICBwcmV2U3RhdGUuY2FyZEltYWdlLFxuICAgICAgaW1hZ2VcbiAgICApO1xuICAgIGxldCBuZXh0U3RhdGUgPSBudWxsO1xuXG4gICAgLy8gSW1hZ2UgaXMgdXBkYXRpbmcuXG4gICAgaWYgKCFpbWFnZUluU3RhdGUgJiYgbmV4dFByb3BzLmxpbmspIHtcbiAgICAgIG5leHRTdGF0ZSA9IHsgaW1hZ2VMb2FkZWQ6IGZhbHNlIH07XG4gICAgfVxuXG4gICAgaWYgKGltYWdlSW5TdGF0ZSkge1xuICAgICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgICB9XG5cbiAgICAvLyBTaW5jZSBpbWFnZSB3YXMgdXBkYXRlZCwgYXR0ZW1wdCB0byByZXZva2Ugb2xkIGltYWdlIGJsb2IgVVJMLCBpZiBpdCBleGlzdHMuXG4gICAgU2NyZWVuc2hvdFV0aWxzLm1heWJlUmV2b2tlQmxvYk9iamVjdFVSTChwcmV2U3RhdGUuY2FyZEltYWdlKTtcblxuICAgIG5leHRTdGF0ZSA9IG5leHRTdGF0ZSB8fCB7fTtcbiAgICBuZXh0U3RhdGUuY2FyZEltYWdlID0gU2NyZWVuc2hvdFV0aWxzLmNyZWF0ZUxvY2FsSW1hZ2VPYmplY3QoaW1hZ2UpO1xuXG4gICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgfVxuXG4gIG9uTWVudUJ1dHRvblVwZGF0ZShpc09wZW4pIHtcbiAgICBpZiAoaXNPcGVuKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlQ2FyZDogdGhpcy5wcm9wcy5pbmRleCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGl2ZUNhcmQ6IG51bGwgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlcG9ydCB0byB0ZWxlbWV0cnkgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaXRlbS5cbiAgICovXG4gIF9nZXRUZWxlbWV0cnlJbmZvKCkge1xuICAgIC8vIEZpbHRlciBvdXQgXCJoaXN0b3J5XCIgdHlwZSBmb3IgYmVpbmcgdGhlIGRlZmF1bHRcbiAgICBpZiAodGhpcy5wcm9wcy5saW5rLnR5cGUgIT09IFwiaGlzdG9yeVwiKSB7XG4gICAgICByZXR1cm4geyB2YWx1ZTogeyBjYXJkX3R5cGU6IHRoaXMucHJvcHMubGluay50eXBlIH0gfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIG9uTGlua0NsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB7IGFsdEtleSwgYnV0dG9uLCBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSB9ID0gZXZlbnQ7XG4gICAgaWYgKHRoaXMucHJvcHMubGluay50eXBlID09PSBcImRvd25sb2FkXCIpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0Lk9QRU5fRE9XTkxPQURfRklMRSxcbiAgICAgICAgICBkYXRhOiBPYmplY3QuYXNzaWduKHRoaXMucHJvcHMubGluaywge1xuICAgICAgICAgICAgZXZlbnQ6IHsgYnV0dG9uLCBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgICAgIGRhdGE6IE9iamVjdC5hc3NpZ24odGhpcy5wcm9wcy5saW5rLCB7XG4gICAgICAgICAgICBldmVudDogeyBhbHRLZXksIGJ1dHRvbiwgY3RybEtleSwgbWV0YUtleSwgc2hpZnRLZXkgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmlzV2ViRXh0ZW5zaW9uKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5XZWJFeHRFdmVudChhdC5XRUJFWFRfQ0xJQ0ssIHtcbiAgICAgICAgICBzb3VyY2U6IHRoaXMucHJvcHMuZXZlbnRTb3VyY2UsXG4gICAgICAgICAgdXJsOiB0aGlzLnByb3BzLmxpbmsudXJsLFxuICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogdGhpcy5wcm9wcy5pbmRleCxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLlVzZXJFdmVudChcbiAgICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBldmVudDogXCJDTElDS1wiLFxuICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMucHJvcHMuZXZlbnRTb3VyY2UsXG4gICAgICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogdGhpcy5wcm9wcy5pbmRleCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGlzLl9nZXRUZWxlbWV0cnlJbmZvKClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLnNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHMpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLmV2ZW50U291cmNlLFxuICAgICAgICAgICAgY2xpY2s6IDAsXG4gICAgICAgICAgICB0aWxlczogW3sgaWQ6IHRoaXMucHJvcHMubGluay5ndWlkLCBwb3M6IHRoaXMucHJvcHMuaW5kZXggfV0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLm1heWJlTG9hZEltYWdlKCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5tYXliZUxvYWRJbWFnZSgpO1xuICB9XG5cbiAgLy8gTk9URTogUmVtb3ZlIHRoaXMgZnVuY3Rpb24gd2hlbiB3ZSB1cGRhdGUgUmVhY3QgdG8gPj0gMTYuMyBzaW5jZSBSZWFjdCB3aWxsXG4gIC8vICAgICAgIGNhbGwgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIGF1dG9tYXRpY2FsbHkuIFdlIHdpbGwgYWxzbyBuZWVkIHRvXG4gIC8vICAgICAgIHJlbmFtZSBnZXROZXh0U3RhdGVGcm9tUHJvcHMgdG8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLlxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gX0NhcmQuZ2V0TmV4dFN0YXRlRnJvbVByb3BzKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUpO1xuICAgIGlmIChuZXh0U3RhdGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcbiAgICB9XG4gIH1cblxuICAvLyBOT1RFOiBSZW1vdmUgdGhpcyBmdW5jdGlvbiB3aGVuIHdlIHVwZGF0ZSBSZWFjdCB0byA+PSAxNi4zIHNpbmNlIFJlYWN0IHdpbGxcbiAgLy8gICAgICAgY2FsbCBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgYXV0b21hdGljYWxseS4gV2Ugd2lsbCBhbHNvIG5lZWQgdG9cbiAgLy8gICAgICAgcmVuYW1lIGdldE5leHRTdGF0ZUZyb21Qcm9wcyB0byBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gX0NhcmQuZ2V0TmV4dFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgdGhpcy5zdGF0ZSk7XG4gICAgaWYgKG5leHRTdGF0ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZShuZXh0U3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIFNjcmVlbnNob3RVdGlscy5tYXliZVJldm9rZUJsb2JPYmplY3RVUkwodGhpcy5zdGF0ZS5jYXJkSW1hZ2UpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGluZGV4LFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgbGluayxcbiAgICAgIGRpc3BhdGNoLFxuICAgICAgY29udGV4dE1lbnVPcHRpb25zLFxuICAgICAgZXZlbnRTb3VyY2UsXG4gICAgICBzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgdGl0bGUgPSBsaW5rLnRpdGxlIHx8IGxpbmsuaG9zdG5hbWU7XG4gICAgY29uc3QgaXNDb250ZXh0TWVudU9wZW4gPSB0aGlzLnN0YXRlLmFjdGl2ZUNhcmQgPT09IGluZGV4O1xuICAgIC8vIERpc3BsYXkgXCJub3dcIiBhcyBcInRyZW5kaW5nXCIgdW50aWwgd2UgaGF2ZSBuZXcgc3RyaW5ncyAjMzQwMlxuICAgIGNvbnN0IHsgaWNvbiwgZmx1ZW50SUQgfSA9XG4gICAgICBjYXJkQ29udGV4dFR5cGVzW2xpbmsudHlwZSA9PT0gXCJub3dcIiA/IFwidHJlbmRpbmdcIiA6IGxpbmsudHlwZV0gfHwge307XG4gICAgY29uc3QgaGFzSW1hZ2UgPSB0aGlzLnN0YXRlLmNhcmRJbWFnZSB8fCBsaW5rLmhhc0ltYWdlO1xuICAgIGNvbnN0IGltYWdlU3R5bGUgPSB7XG4gICAgICBiYWNrZ3JvdW5kSW1hZ2U6IHRoaXMuc3RhdGUuY2FyZEltYWdlXG4gICAgICAgID8gYHVybCgke3RoaXMuc3RhdGUuY2FyZEltYWdlLnVybH0pYFxuICAgICAgICA6IFwibm9uZVwiLFxuICAgIH07XG4gICAgY29uc3Qgb3V0ZXJDbGFzc05hbWUgPSBbXG4gICAgICBcImNhcmQtb3V0ZXJcIixcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGlzQ29udGV4dE1lbnVPcGVuICYmIFwiYWN0aXZlXCIsXG4gICAgICBwcm9wcy5wbGFjZWhvbGRlciAmJiBcInBsYWNlaG9sZGVyXCIsXG4gICAgXVxuICAgICAgLmZpbHRlcih2ID0+IHYpXG4gICAgICAuam9pbihcIiBcIik7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT17b3V0ZXJDbGFzc05hbWV9PlxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9e2xpbmsudHlwZSA9PT0gXCJwb2NrZXRcIiA/IGxpbmsub3Blbl91cmwgOiBsaW5rLnVybH1cbiAgICAgICAgICBvbkNsaWNrPXshcHJvcHMucGxhY2Vob2xkZXIgPyB0aGlzLm9uTGlua0NsaWNrIDogdW5kZWZpbmVkfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtcHJldmlldy1pbWFnZS1vdXRlclwiPlxuICAgICAgICAgICAgICB7aGFzSW1hZ2UgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGNhcmQtcHJldmlldy1pbWFnZSR7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW1hZ2VMb2FkZWQgPyBcIiBsb2FkZWRcIiA6IFwiXCJcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e2ltYWdlU3R5bGV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWRldGFpbHNcIj5cbiAgICAgICAgICAgICAge2xpbmsudHlwZSA9PT0gXCJkb3dubG9hZFwiICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYXJkLWhvc3QtbmFtZSBhbHRlcm5hdGVcIlxuICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLW1lbnUtb3Blbi1maWxlXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7bGluay5ob3N0bmFtZSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWhvc3QtbmFtZVwiPlxuICAgICAgICAgICAgICAgICAge2xpbmsuaG9zdG5hbWUuc2xpY2UoMCwgMTAwKX1cbiAgICAgICAgICAgICAgICAgIHtsaW5rLnR5cGUgPT09IFwiZG93bmxvYWRcIiAmJiBgICBcXHUyMDE0ICR7bGluay5kZXNjcmlwdGlvbn1gfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtbXG4gICAgICAgICAgICAgICAgICBcImNhcmQtdGV4dFwiLFxuICAgICAgICAgICAgICAgICAgaWNvbiA/IFwiXCIgOiBcIm5vLWNvbnRleHRcIixcbiAgICAgICAgICAgICAgICAgIGxpbmsuZGVzY3JpcHRpb24gPyBcIlwiIDogXCJuby1kZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgICAgICAgbGluay5ob3N0bmFtZSA/IFwiXCIgOiBcIm5vLWhvc3QtbmFtZVwiLFxuICAgICAgICAgICAgICAgIF0uam9pbihcIiBcIil9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiIGRpcj1cImF1dG9cIj5cbiAgICAgICAgICAgICAgICAgIHtsaW5rLnRpdGxlfVxuICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FyZC1kZXNjcmlwdGlvblwiIGRpcj1cImF1dG9cIj5cbiAgICAgICAgICAgICAgICAgIHtsaW5rLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1jb250ZXh0XCI+XG4gICAgICAgICAgICAgICAge2ljb24gJiYgIWxpbmsuY29udGV4dCAmJiAoXG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGNhcmQtY29udGV4dC1pY29uIGljb24gaWNvbi0ke2ljb259YH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bGluay5pY29uICYmIGxpbmsuY29udGV4dCAmJiAoXG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhcmQtY29udGV4dC1pY29uIGljb25cIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJyR7bGluay5pY29ufScpYCB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtmbHVlbnRJRCAmJiAhbGluay5jb250ZXh0ICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1jb250ZXh0LWxhYmVsXCIgZGF0YS1sMTBuLWlkPXtmbHVlbnRJRH0gLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtsaW5rLmNvbnRleHQgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWNvbnRleHQtbGFiZWxcIj57bGluay5jb250ZXh0fTwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvYT5cbiAgICAgICAgeyFwcm9wcy5wbGFjZWhvbGRlciAmJiAoXG4gICAgICAgICAgPENvbnRleHRNZW51QnV0dG9uXG4gICAgICAgICAgICB0b29sdGlwPVwibmV3dGFiLW1lbnUtY29udGVudC10b29sdGlwXCJcbiAgICAgICAgICAgIHRvb2x0aXBBcmdzPXt7IHRpdGxlIH19XG4gICAgICAgICAgICBvblVwZGF0ZT17dGhpcy5vbk1lbnVCdXR0b25VcGRhdGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPExpbmtNZW51XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgICBzb3VyY2U9e2V2ZW50U291cmNlfVxuICAgICAgICAgICAgICBvcHRpb25zPXtsaW5rLmNvbnRleHRNZW51T3B0aW9ucyB8fCBjb250ZXh0TWVudU9wdGlvbnN9XG4gICAgICAgICAgICAgIHNpdGU9e2xpbmt9XG4gICAgICAgICAgICAgIHNpdGVJbmZvPXt0aGlzLl9nZXRUZWxlbWV0cnlJbmZvKCl9XG4gICAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e3Nob3VsZFNlbmRJbXByZXNzaW9uU3RhdHN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvQ29udGV4dE1lbnVCdXR0b24+XG4gICAgICAgICl9XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cbl9DYXJkLmRlZmF1bHRQcm9wcyA9IHsgbGluazoge30gfTtcbmV4cG9ydCBjb25zdCBDYXJkID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBwbGF0Zm9ybTogc3RhdGUuUHJlZnMudmFsdWVzLnBsYXRmb3JtLFxufSkpKF9DYXJkKTtcbmV4cG9ydCBjb25zdCBQbGFjZWhvbGRlckNhcmQgPSBwcm9wcyA9PiAoXG4gIDxDYXJkIHBsYWNlaG9sZGVyPXt0cnVlfSBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gLz5cbik7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG4vKipcbiAqIExpc3Qgb2YgaGVscGVyIGZ1bmN0aW9ucyBmb3Igc2NyZWVuc2hvdC1iYXNlZCBpbWFnZXMuXG4gKlxuICogVGhlcmUgYXJlIHR3byBraW5kcyBvZiBpbWFnZXM6XG4gKiAxLiBSZW1vdGUgSW1hZ2U6IFRoaXMgaXMgdGhlIGltYWdlIGZyb20gdGhlIG1haW4gcHJvY2VzcyBhbmQgaXQgcmVmZXJzIHRvXG4gKiAgICB0aGUgaW1hZ2UgaW4gdGhlIFJlYWN0IHByb3BzLiBUaGlzIGNhbiBlaXRoZXIgYmUgYW4gb2JqZWN0IHdpdGggdGhlIGBkYXRhYFxuICogICAgYW5kIGBwYXRoYCBwcm9wZXJ0aWVzLCBpZiBpdCBpcyBhIGJsb2IsIG9yIGEgc3RyaW5nLCBpZiBpdCBpcyBhIG5vcm1hbCBpbWFnZS5cbiAqIDIuIExvY2FsIEltYWdlOiBUaGlzIGlzIHRoZSBpbWFnZSBvYmplY3QgaW4gdGhlIGNvbnRlbnQgcHJvY2VzcyBhbmQgaXQgcmVmZXJzXG4gKiAgICB0byB0aGUgaW1hZ2UgKm9iamVjdCogaW4gdGhlIFJlYWN0IGNvbXBvbmVudCdzIHN0YXRlLiBBbGwgbG9jYWwgaW1hZ2VcbiAqICAgIG9iamVjdHMgaGF2ZSB0aGUgYHVybGAgcHJvcGVydHksIGFuZCBhbiBhZGRpdGlvbmFsIHByb3BlcnR5IGBwYXRoYCwgaWYgdGhleVxuICogICAgYXJlIGJsb2JzLlxuICovXG5leHBvcnQgY29uc3QgU2NyZWVuc2hvdFV0aWxzID0ge1xuICBpc0Jsb2IoaXNMb2NhbCwgaW1hZ2UpIHtcbiAgICByZXR1cm4gISEoXG4gICAgICBpbWFnZSAmJlxuICAgICAgaW1hZ2UucGF0aCAmJlxuICAgICAgKCghaXNMb2NhbCAmJiBpbWFnZS5kYXRhKSB8fCAoaXNMb2NhbCAmJiBpbWFnZS51cmwpKVxuICAgICk7XG4gIH0sXG5cbiAgLy8gVGhpcyBzaG91bGQgYWx3YXlzIGJlIGNhbGxlZCB3aXRoIGEgcmVtb3RlIGltYWdlIGFuZCBub3QgYSBsb2NhbCBpbWFnZS5cbiAgY3JlYXRlTG9jYWxJbWFnZU9iamVjdChyZW1vdGVJbWFnZSkge1xuICAgIGlmICghcmVtb3RlSW1hZ2UpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0Jsb2IoZmFsc2UsIHJlbW90ZUltYWdlKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXJsOiBnbG9iYWwuVVJMLmNyZWF0ZU9iamVjdFVSTChyZW1vdGVJbWFnZS5kYXRhKSxcbiAgICAgICAgcGF0aDogcmVtb3RlSW1hZ2UucGF0aCxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7IHVybDogcmVtb3RlSW1hZ2UgfTtcbiAgfSxcblxuICAvLyBSZXZva2VzIHRoZSBvYmplY3QgVVJMIG9mIHRoZSBpbWFnZSBpZiB0aGUgbG9jYWwgaW1hZ2UgaXMgYSBibG9iLlxuICAvLyBUaGlzIHNob3VsZCBhbHdheXMgYmUgY2FsbGVkIHdpdGggYSBsb2NhbCBpbWFnZSBhbmQgbm90IGEgcmVtb3RlIGltYWdlLlxuICBtYXliZVJldm9rZUJsb2JPYmplY3RVUkwobG9jYWxJbWFnZSkge1xuICAgIGlmICh0aGlzLmlzQmxvYih0cnVlLCBsb2NhbEltYWdlKSkge1xuICAgICAgZ2xvYmFsLlVSTC5yZXZva2VPYmplY3RVUkwobG9jYWxJbWFnZS51cmwpO1xuICAgIH1cbiAgfSxcblxuICAvLyBDaGVja3MgaWYgcmVtb3RlSW1hZ2UgYW5kIGxvY2FsSW1hZ2UgYXJlIHRoZSBzYW1lLlxuICBpc1JlbW90ZUltYWdlTG9jYWwobG9jYWxJbWFnZSwgcmVtb3RlSW1hZ2UpIHtcbiAgICAvLyBCb3RoIHJlbW90ZUltYWdlIGFuZCBsb2NhbEltYWdlIGFyZSBwcmVzZW50LlxuICAgIGlmIChyZW1vdGVJbWFnZSAmJiBsb2NhbEltYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0Jsb2IoZmFsc2UsIHJlbW90ZUltYWdlKVxuICAgICAgICA/IGxvY2FsSW1hZ2UucGF0aCA9PT0gcmVtb3RlSW1hZ2UucGF0aFxuICAgICAgICA6IGxvY2FsSW1hZ2UudXJsID09PSByZW1vdGVJbWFnZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIHdpbGwgb25seSBoYW5kbGUgdGhlIHJlbWFpbmluZyB0aHJlZSBwb3NzaWJsZSBvdXRjb21lcy5cbiAgICAvLyAoaS5lLiBldmVyeXRoaW5nIGV4Y2VwdCB3aGVuIGJvdGggaW1hZ2UgYW5kIGxvY2FsSW1hZ2UgYXJlIHByZXNlbnQpXG4gICAgcmV0dXJuICFyZW1vdGVJbWFnZSAmJiAhbG9jYWxJbWFnZTtcbiAgfSxcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBwZXJmU2VydmljZSBhcyBwZXJmU3ZjIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9wZXJmLXNlcnZpY2VcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuLy8gQ3VycmVudGx5IHJlY29yZCBvbmx5IGEgZml4ZWQgc2V0IG9mIHNlY3Rpb25zLiBUaGlzIHdpbGwgcHJldmVudCBkYXRhXG4vLyBmcm9tIGN1c3RvbSBzZWN0aW9ucyBmcm9tIHNob3dpbmcgdXAgb3IgZnJvbSB0b3BzdG9yaWVzLlxuY29uc3QgUkVDT1JERURfU0VDVElPTlMgPSBbXCJoaWdobGlnaHRzXCIsIFwidG9wc2l0ZXNcIl07XG5cbmV4cG9ydCBjbGFzcyBDb21wb25lbnRQZXJmVGltZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICAvLyBKdXN0IGZvciB0ZXN0IGRlcGVuZGVuY3kgaW5qZWN0aW9uOlxuICAgIHRoaXMucGVyZlN2YyA9IHRoaXMucHJvcHMucGVyZlN2YyB8fCBwZXJmU3ZjO1xuXG4gICAgdGhpcy5fc2VuZEJhZFN0YXRlRXZlbnQgPSB0aGlzLl9zZW5kQmFkU3RhdGVFdmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3NlbmRQYWludGVkRXZlbnQgPSB0aGlzLl9zZW5kUGFpbnRlZEV2ZW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmVwb3J0TWlzc2luZ0RhdGEgPSBmYWxzZTtcbiAgICB0aGlzLl90aW1lc3RhbXBIYW5kbGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVjb3JkZWRGaXJzdFJlbmRlciA9IGZhbHNlO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKCFSRUNPUkRFRF9TRUNUSU9OUy5pbmNsdWRlcyh0aGlzLnByb3BzLmlkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX21heWJlU2VuZFBhaW50ZWRFdmVudCgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGlmICghUkVDT1JERURfU0VDVElPTlMuaW5jbHVkZXModGhpcy5wcm9wcy5pZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9tYXliZVNlbmRQYWludGVkRXZlbnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIHRoZSBnaXZlbiBjYWxsYmFjayBhZnRlciB0aGUgdXBjb21pbmcgZnJhbWUgcGFpbnRzLlxuICAgKlxuICAgKiBAbm90ZSBCb3RoIHNldFRpbWVvdXQgYW5kIHJlcXVlc3RBbmltYXRpb25GcmFtZSBhcmUgdGhyb3R0bGVkIHdoZW4gdGhlIHBhZ2VcbiAgICogaXMgaGlkZGVuLCBzbyB0aGlzIGNhbGxiYWNrIG1heSBnZXQgY2FsbGVkIHVwIHRvIGEgc2Vjb25kIG9yIHNvIGFmdGVyIHRoZVxuICAgKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgXCJwYWludFwiIGZvciBoaWRkZW4gdGFicy5cbiAgICpcbiAgICogTmV3dGFicyBoaWRkZW4gd2hpbGUgbG9hZGluZyB3aWxsIHByZXN1bWFibHkgYmUgZmFpcmx5IHJhcmUgKG90aGVyIHRoYW5cbiAgICogcHJlbG9hZGVkIHRhYnMsIHdoaWNoIHdlIHdpbGwgYmUgZmlsdGVyaW5nIG91dCBvbiB0aGUgc2VydmVyIHNpZGUpLCBzbyBzdWNoXG4gICAqIGNhc2VzIHNob3VsZCBnZXQgbG9zdCBpbiB0aGUgbm9pc2UuXG4gICAqXG4gICAqIElmIHdlIGRlY2lkZSB0aGF0IGl0J3MgaW1wb3J0YW50IHRvIGZpbmQgb3V0IHdoZW4gc29tZXRoaW5nIHRoYXQncyBoaWRkZW5cbiAgICogaGFzIFwicGFpbnRlZFwiLCBob3dldmVyLCBhbm90aGVyIG9wdGlvbiBpcyB0byBwb3N0IGEgbWVzc2FnZSB0byB0aGlzIHdpbmRvdy5cbiAgICogVGhhdCBzaG91bGQgaGFwcGVuIGV2ZW4gZmFzdGVyIHRoYW4gc2V0VGltZW91dCwgYW5kLCBhdCBsZWFzdCBhcyBvZiB0aGlzXG4gICAqIHdyaXRpbmcsIGl0J3Mgbm90IHRocm90dGxlZCBpbiBoaWRkZW4gd2luZG93cyBpbiBGaXJlZm94LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKlxuICAgKiBAcmV0dXJucyB2b2lkXG4gICAqL1xuICBfYWZ0ZXJGcmFtZVBhaW50KGNhbGxiYWNrKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHNldFRpbWVvdXQoY2FsbGJhY2ssIDApKTtcbiAgfVxuXG4gIF9tYXliZVNlbmRCYWRTdGF0ZUV2ZW50KCkge1xuICAgIC8vIEZvbGxvdyB1cCBidWdzOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL2FjdGl2aXR5LXN0cmVhbS9pc3N1ZXMvMzY5MVxuICAgIGlmICghdGhpcy5wcm9wcy5pbml0aWFsaXplZCkge1xuICAgICAgLy8gUmVtZW1iZXIgdG8gcmVwb3J0IGJhY2sgd2hlbiBkYXRhIGlzIGF2YWlsYWJsZS5cbiAgICAgIHRoaXMuX3JlcG9ydE1pc3NpbmdEYXRhID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX3JlcG9ydE1pc3NpbmdEYXRhKSB7XG4gICAgICB0aGlzLl9yZXBvcnRNaXNzaW5nRGF0YSA9IGZhbHNlO1xuICAgICAgLy8gUmVwb3J0IGhvdyBsb25nIGl0IHRvb2sgZm9yIGNvbXBvbmVudCB0byBiZWNvbWUgaW5pdGlhbGl6ZWQuXG4gICAgICB0aGlzLl9zZW5kQmFkU3RhdGVFdmVudCgpO1xuICAgIH1cbiAgfVxuXG4gIF9tYXliZVNlbmRQYWludGVkRXZlbnQoKSB7XG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBoYW5kbGVkIGEgdGltZXN0YW1wLCBkb24ndCBkbyBpdCBhZ2Fpbi5cbiAgICBpZiAodGhpcy5fdGltZXN0YW1wSGFuZGxlZCB8fCAhdGhpcy5wcm9wcy5pbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEFuZCBpZiB3ZSBoYXZlbid0LCB3ZSdyZSBkb2luZyBzbyBub3csIHNvIHJlbWVtYmVyIHRoYXQuIEV2ZW4gaWZcbiAgICAvLyBzb21ldGhpbmcgZ29lcyB3cm9uZyBpbiB0aGUgY2FsbGJhY2ssIHdlIGNhbid0IHRyeSBhZ2FpbiwgYXMgd2UnZCBiZVxuICAgIC8vIHNlbmRpbmcgYmFjayB0aGUgd3JvbmcgZGF0YSwgYW5kIHdlIGhhdmUgdG8gZG8gaXQgaGVyZSwgc28gdGhhdCBvdGhlclxuICAgIC8vIGNhbGxzIHRvIHRoaXMgbWV0aG9kIHdoaWxlIHdhaXRpbmcgZm9yIHRoZSBuZXh0IGZyYW1lIHdvbid0IGFsc28gdHJ5IHRvXG4gICAgLy8gaGFuZGxlIGl0LlxuICAgIHRoaXMuX3RpbWVzdGFtcEhhbmRsZWQgPSB0cnVlO1xuICAgIHRoaXMuX2FmdGVyRnJhbWVQYWludCh0aGlzLl9zZW5kUGFpbnRlZEV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgYnkgY2FsbCB0byByZW5kZXIuIE9ubHkgZmlyc3QgY2FsbCBnb2VzIHRocm91Z2ggZHVlIHRvXG4gICAqIGBfcmVjb3JkZWRGaXJzdFJlbmRlcmAuXG4gICAqL1xuICBfZW5zdXJlRmlyc3RSZW5kZXJUc1JlY29yZGVkKCkge1xuICAgIC8vIFVzZWQgYXMgdDAgZm9yIHJlY29yZGluZyBob3cgbG9uZyBjb21wb25lbnQgdG9vayB0byBpbml0aWFsaXplLlxuICAgIGlmICghdGhpcy5fcmVjb3JkZWRGaXJzdFJlbmRlcikge1xuICAgICAgdGhpcy5fcmVjb3JkZWRGaXJzdFJlbmRlciA9IHRydWU7XG4gICAgICAvLyB0b3BzaXRlc19maXJzdF9yZW5kZXJfdHMsIGhpZ2hsaWdodHNfZmlyc3RfcmVuZGVyX3RzLlxuICAgICAgY29uc3Qga2V5ID0gYCR7dGhpcy5wcm9wcy5pZH1fZmlyc3RfcmVuZGVyX3RzYDtcbiAgICAgIHRoaXMucGVyZlN2Yy5tYXJrKGtleSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYFNBVkVfU0VTU0lPTl9QRVJGX0RBVEFgIHdpdGggdGltZXN0YW1wIGluIG1zXG4gICAqIG9mIGhvdyBtdWNoIGxvbmdlciB0aGUgZGF0YSB0b29rIHRvIGJlIHJlYWR5IGZvciBkaXNwbGF5IHRoYW4gaXQgd291bGRcbiAgICogaGF2ZSBiZWVuIHRoZSBpZGVhbCBjYXNlLlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9waW5nLWNlbnRyZS9pc3N1ZXMvOThcbiAgICovXG4gIF9zZW5kQmFkU3RhdGVFdmVudCgpIHtcbiAgICAvLyBoaWdobGlnaHRzX2RhdGFfcmVhZHlfdHMsIHRvcHNpdGVzX2RhdGFfcmVhZHlfdHMuXG4gICAgY29uc3QgZGF0YVJlYWR5S2V5ID0gYCR7dGhpcy5wcm9wcy5pZH1fZGF0YV9yZWFkeV90c2A7XG4gICAgdGhpcy5wZXJmU3ZjLm1hcmsoZGF0YVJlYWR5S2V5KTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBmaXJzdFJlbmRlcktleSA9IGAke3RoaXMucHJvcHMuaWR9X2ZpcnN0X3JlbmRlcl90c2A7XG4gICAgICAvLyB2YWx1ZSBoYXMgdG8gYmUgSW50MzIuXG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KFxuICAgICAgICB0aGlzLnBlcmZTdmMuZ2V0TW9zdFJlY2VudEFic01hcmtTdGFydEJ5TmFtZShkYXRhUmVhZHlLZXkpIC1cbiAgICAgICAgICB0aGlzLnBlcmZTdmMuZ2V0TW9zdFJlY2VudEFic01hcmtTdGFydEJ5TmFtZShmaXJzdFJlbmRlcktleSksXG4gICAgICAgIDEwXG4gICAgICApO1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuU0FWRV9TRVNTSU9OX1BFUkZfREFUQSxcbiAgICAgICAgICAvLyBoaWdobGlnaHRzX2RhdGFfbGF0ZV9ieV9tcywgdG9wc2l0ZXNfZGF0YV9sYXRlX2J5X21zLlxuICAgICAgICAgIGRhdGE6IHsgW2Ake3RoaXMucHJvcHMuaWR9X2RhdGFfbGF0ZV9ieV9tc2BdOiB2YWx1ZSB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgLy8gSWYgdGhpcyBmYWlsZWQsIGl0J3MgbGlrZWx5IGJlY2F1c2UgdGhlIGBwcml2YWN5LnJlc2lzdEZpbmdlcnByaW50aW5nYFxuICAgICAgLy8gcHJlZiBpcyB0cnVlLlxuICAgIH1cbiAgfVxuXG4gIF9zZW5kUGFpbnRlZEV2ZW50KCkge1xuICAgIC8vIFJlY29yZCBmaXJzdF9wYWludGVkIGV2ZW50IGJ1dCBvbmx5IHNlbmQgaWYgdG9wc2l0ZXMuXG4gICAgaWYgKHRoaXMucHJvcHMuaWQgIT09IFwidG9wc2l0ZXNcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHRvcHNpdGVzX2ZpcnN0X3BhaW50ZWRfdHMuXG4gICAgY29uc3Qga2V5ID0gYCR7dGhpcy5wcm9wcy5pZH1fZmlyc3RfcGFpbnRlZF90c2A7XG4gICAgdGhpcy5wZXJmU3ZjLm1hcmsoa2V5KTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICBkYXRhW2tleV0gPSB0aGlzLnBlcmZTdmMuZ2V0TW9zdFJlY2VudEFic01hcmtTdGFydEJ5TmFtZShrZXkpO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5TQVZFX1NFU1NJT05fUEVSRl9EQVRBLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAvLyBJZiB0aGlzIGZhaWxlZCwgaXQncyBsaWtlbHkgYmVjYXVzZSB0aGUgYHByaXZhY3kucmVzaXN0RmluZ2VycHJpbnRpbmdgXG4gICAgICAvLyBwcmVmIGlzIHRydWUuICBXZSBzaG91bGQgYXQgbGVhc3Qgbm90IGJsb3cgdXAsIGFuZCBzaG91bGQgY29udGludWVcbiAgICAgIC8vIHRvIHNldCB0aGlzLl90aW1lc3RhbXBIYW5kbGVkIHRvIGF2b2lkIGdvaW5nIHRocm91Z2ggdGhpcyBhZ2Fpbi5cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKFJFQ09SREVEX1NFQ1RJT05TLmluY2x1ZGVzKHRoaXMucHJvcHMuaWQpKSB7XG4gICAgICB0aGlzLl9lbnN1cmVGaXJzdFJlbmRlclRzUmVjb3JkZWQoKTtcbiAgICAgIHRoaXMuX21heWJlU2VuZEJhZFN0YXRlRXZlbnQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cblwidXNlIHN0cmljdFwiO1xuXG5sZXQgdXNhYmxlUGVyZk9iaiA9IHdpbmRvdy5wZXJmb3JtYW5jZTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9QZXJmU2VydmljZShvcHRpb25zKSB7XG4gIC8vIEZvciB0ZXN0aW5nLCBzbyB0aGF0IHdlIGNhbiB1c2UgYSBmYWtlIFdpbmRvdy5wZXJmb3JtYW5jZSBvYmplY3Qgd2l0aFxuICAvLyBrbm93biBzdGF0ZS5cbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5wZXJmb3JtYW5jZU9iaikge1xuICAgIHRoaXMuX3BlcmYgPSBvcHRpb25zLnBlcmZvcm1hbmNlT2JqO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX3BlcmYgPSB1c2FibGVQZXJmT2JqO1xuICB9XG59XG5cbl9QZXJmU2VydmljZS5wcm90b3R5cGUgPSB7XG4gIC8qKlxuICAgKiBDYWxscyB0aGUgdW5kZXJseWluZyBtYXJrKCkgbWV0aG9kIG9uIHRoZSBhcHByb3ByaWF0ZSBXaW5kb3cucGVyZm9ybWFuY2VcbiAgICogb2JqZWN0IHRvIGFkZCBhIG1hcmsgd2l0aCB0aGUgZ2l2ZW4gbmFtZSB0byB0aGUgYXBwcm9wcmlhdGUgcGVyZm9ybWFuY2VcbiAgICogdGltZWxpbmUuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gbmFtZSAgdGhlIG5hbWUgdG8gZ2l2ZSB0aGUgY3VycmVudCBtYXJrXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBtYXJrOiBmdW5jdGlvbiBtYXJrKHN0cikge1xuICAgIHRoaXMuX3BlcmYubWFyayhzdHIpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYWxscyB0aGUgdW5kZXJseWluZyBnZXRFbnRyaWVzQnlOYW1lIG9uIHRoZSBhcHByb3ByaWF0ZSBXaW5kb3cucGVyZm9ybWFuY2VcbiAgICogb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlIGVnIFwibWFya1wiXG4gICAqIEByZXR1cm4ge0FycmF5fSAgICAgICBQZXJmb3JtYW5jZSogb2JqZWN0c1xuICAgKi9cbiAgZ2V0RW50cmllc0J5TmFtZTogZnVuY3Rpb24gZ2V0RW50cmllc0J5TmFtZShuYW1lLCB0eXBlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BlcmYuZ2V0RW50cmllc0J5TmFtZShuYW1lLCB0eXBlKTtcbiAgfSxcblxuICAvKipcbiAgICogVGhlIHRpbWVPcmlnaW4gcHJvcGVydHkgZnJvbSB0aGUgYXBwcm9wcmlhdGUgcGVyZm9ybWFuY2Ugb2JqZWN0LlxuICAgKiBVc2VkIHRvIGVuc3VyZSB0aGF0IHRpbWVzdGFtcHMgZnJvbSB0aGUgYWRkLW9uIGNvZGUgYW5kIHRoZSBjb250ZW50IGNvZGVcbiAgICogYXJlIGNvbXBhcmFibGUuXG4gICAqXG4gICAqIEBub3RlIElmIHRoaXMgaXMgY2FsbGVkIGZyb20gYSBjb250ZXh0IHdpdGhvdXQgYSB3aW5kb3dcbiAgICogKGVnIGEgSlNNIGluIGNocm9tZSksIGl0IHdpbGwgcmV0dXJuIHRoZSB0aW1lT3JpZ2luIG9mIHRoZSBYVUwgaGlkZGVuXG4gICAqIHdpbmRvdywgd2hpY2ggYXBwZWFycyB0byBiZSB0aGUgZmlyc3QgY3JlYXRlZCB3aW5kb3cgKGFuZCB0aHVzXG4gICAqIHRpbWVPcmlnaW4pIGluIHRoZSBicm93c2VyLiAgTm90ZSBhbHNvLCBob3dldmVyLCB0aGVyZSBpcyBhbHNvIGEgcHJpdmF0ZVxuICAgKiBoaWRkZW4gd2luZG93LCBwcmVzdW1hYmx5IGZvciBwcml2YXRlIGJyb3dzaW5nLCB3aGljaCBhcHBlYXJzIHRvIGJlXG4gICAqIGNyZWF0ZWQgZHluYW1pY2FsbHkgbGF0ZXIuICBFeGFjdGx5IGhvdy93aGVuIHRoYXQgc2hvd3MgdXAgbmVlZHMgdG8gYmVcbiAgICogaW52ZXN0aWdhdGVkLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEEgZG91YmxlIG9mIG1pbGxpc2Vjb25kcyB3aXRoIGEgcHJlY2lzaW9uIG9mIDAuNXVzLlxuICAgKi9cbiAgZ2V0IHRpbWVPcmlnaW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BlcmYudGltZU9yaWdpbjtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgXCJhYnNvbHV0ZVwiIHZlcnNpb24gb2YgcGVyZm9ybWFuY2Uubm93KCksIGkuZS4gb25lIHRoYXRcbiAgICogc2hvdWxkIChbYnVnIDE0MDE0MDZdKGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE0MDE0MDYpXG4gICAqIGJlIGNvbXBhcmFibGUgYWNyb3NzIGJvdGggY2hyb21lIGFuZCBjb250ZW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuICBhYnNOb3c6IGZ1bmN0aW9uIGFic05vdygpIHtcbiAgICByZXR1cm4gdGhpcy50aW1lT3JpZ2luICsgdGhpcy5fcGVyZi5ub3coKTtcbiAgfSxcblxuICAvKipcbiAgICogVGhpcyByZXR1cm5zIHRoZSBhYnNvbHV0ZSBzdGFydFRpbWUgZnJvbSB0aGUgbW9zdCByZWNlbnQgcGVyZm9ybWFuY2UubWFyaygpXG4gICAqIHdpdGggdGhlIGdpdmVuIG5hbWUuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gbmFtZSAgdGhlIG5hbWUgdG8gbG9va3VwIHRoZSBzdGFydCB0aW1lIGZvclxuICAgKlxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICAgIHRoZSByZXR1cm5lZCBzdGFydCB0aW1lLCBhcyBhIERPTUhpZ2hSZXNUaW1lU3RhbXBcbiAgICpcbiAgICogQHRocm93cyB7RXJyb3J9ICAgICAgICBcIk5vIE1hcmtzIHdpdGggdGhlIG5hbWUgLi4uXCIgaWYgbm9uZSBhcmUgYXZhaWxhYmxlXG4gICAqXG4gICAqIEBub3RlIEFsd2F5cyBzdXJyb3VuZCBjYWxscyB0byB0aGlzIGJ5IHRyeS9jYXRjaC4gIE90aGVyd2lzZSB5b3VyIGNvZGVcbiAgICogbWF5IGZhaWwgd2hlbiB0aGUgYHByaXZhY3kucmVzaXN0RmluZ2VycHJpbnRpbmdgIHByZWYgaXMgdHJ1ZS4gIFdoZW5cbiAgICogdGhpcyBwcmVmIGlzIHNldCwgYWxsIGF0dGVtcHRzIHRvIGdldCBtYXJrcyB3aWxsIGxpa2VseSBmYWlsLCB3aGljaCB3aWxsXG4gICAqIGNhdXNlIHRoaXMgbWV0aG9kIHRvIHRocm93LlxuICAgKlxuICAgKiBTZWUgW2J1ZyAxMzY5MzAzXShodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzY5MzAzKVxuICAgKiBmb3IgbW9yZSBpbmZvLlxuICAgKi9cbiAgZ2V0TW9zdFJlY2VudEFic01hcmtTdGFydEJ5TmFtZShuYW1lKSB7XG4gICAgbGV0IGVudHJpZXMgPSB0aGlzLmdldEVudHJpZXNCeU5hbWUobmFtZSwgXCJtYXJrXCIpO1xuXG4gICAgaWYgKCFlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBtYXJrcyB3aXRoIHRoZSBuYW1lICR7bmFtZX1gKTtcbiAgICB9XG5cbiAgICBsZXQgbW9zdFJlY2VudEVudHJ5ID0gZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiB0aGlzLl9wZXJmLnRpbWVPcmlnaW4gKyBtb3N0UmVjZW50RW50cnkuc3RhcnRUaW1lO1xuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IHBlcmZTZXJ2aWNlID0gbmV3IF9QZXJmU2VydmljZSgpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgTW9yZVJlY29tbWVuZGF0aW9ucyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyByZWFkX21vcmVfZW5kcG9pbnQgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHJlYWRfbW9yZV9lbmRwb2ludCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGFcbiAgICAgICAgICBjbGFzc05hbWU9XCJtb3JlLXJlY29tbWVuZGF0aW9uc1wiXG4gICAgICAgICAgaHJlZj17cmVhZF9tb3JlX2VuZHBvaW50fVxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtbW9yZS1yZWNvbW1lbmRhdGlvbnNcIlxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIF9Qb2NrZXRMb2dnZWRJbkN0YSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb2NrZXRDdGEgfSA9IHRoaXMucHJvcHMuUG9ja2V0O1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJwb2NrZXQtbG9nZ2VkLWluLWN0YVwiPlxuICAgICAgICA8YVxuICAgICAgICAgIGNsYXNzTmFtZT1cInBvY2tldC1jdGEtYnV0dG9uXCJcbiAgICAgICAgICBocmVmPXtwb2NrZXRDdGEuY3RhVXJsID8gcG9ja2V0Q3RhLmN0YVVybCA6IFwiaHR0cHM6Ly9nZXRwb2NrZXQuY29tL1wifVxuICAgICAgICA+XG4gICAgICAgICAge3BvY2tldEN0YS5jdGFCdXR0b24gPyAoXG4gICAgICAgICAgICBwb2NrZXRDdGEuY3RhQnV0dG9uXG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxzcGFuIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtY3RhLWJ1dHRvblwiIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9hPlxuXG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj17cG9ja2V0Q3RhLmN0YVVybCA/IHBvY2tldEN0YS5jdGFVcmwgOiBcImh0dHBzOi8vZ2V0cG9ja2V0LmNvbS9cIn1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImN0YS10ZXh0XCI+XG4gICAgICAgICAgICB7cG9ja2V0Q3RhLmN0YVRleHQgPyAoXG4gICAgICAgICAgICAgIHBvY2tldEN0YS5jdGFUZXh0XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8c3BhbiBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcG9ja2V0LWN0YS10ZXh0XCIgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2E+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgUG9ja2V0TG9nZ2VkSW5DdGEgPSBjb25uZWN0KHN0YXRlID0+ICh7IFBvY2tldDogc3RhdGUuUG9ja2V0IH0pKShcbiAgX1BvY2tldExvZ2dlZEluQ3RhXG4pO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgVG9waWMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdXJsLCBuYW1lIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxhIGtleT17bmFtZX0gaHJlZj17dXJsfT5cbiAgICAgICAgICB7bmFtZX1cbiAgICAgICAgPC9hPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUb3BpY3MgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdG9waWNzIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0b3BpY3NcIj5cbiAgICAgICAgPHNwYW4gZGF0YS1sMTBuLWlkPVwibmV3dGFiLXBvY2tldC1yZWFkLW1vcmVcIiAvPlxuICAgICAgICA8dWw+XG4gICAgICAgICAge3RvcGljcyAmJlxuICAgICAgICAgICAgdG9waWNzLm1hcCh0ID0+IDxUb3BpYyBrZXk9e3QubmFtZX0gdXJsPXt0LnVybH0gbmFtZT17dC5uYW1lfSAvPil9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgTUlOX1JJQ0hfRkFWSUNPTl9TSVpFLCBUT1BfU0lURVNfU09VUkNFIH0gZnJvbSBcIi4vVG9wU2l0ZXNDb25zdGFudHNcIjtcbmltcG9ydCB7IENvbGxhcHNpYmxlU2VjdGlvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbGxhcHNpYmxlU2VjdGlvbi9Db2xsYXBzaWJsZVNlY3Rpb25cIjtcbmltcG9ydCB7IENvbXBvbmVudFBlcmZUaW1lciB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbXBvbmVudFBlcmZUaW1lci9Db21wb25lbnRQZXJmVGltZXJcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IE1vZGFsT3ZlcmxheVdyYXBwZXIgfSBmcm9tIFwiLi4vLi4vYXNyb3V0ZXIvY29tcG9uZW50cy9Nb2RhbE92ZXJsYXkvTW9kYWxPdmVybGF5XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTZWFyY2hTaG9ydGN1dHNGb3JtIH0gZnJvbSBcIi4vU2VhcmNoU2hvcnRjdXRzRm9ybVwiO1xuaW1wb3J0IHsgVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XIH0gZnJvbSBcImNvbW1vbi9SZWR1Y2Vycy5qc21cIjtcbmltcG9ydCB7IFRvcFNpdGVGb3JtIH0gZnJvbSBcIi4vVG9wU2l0ZUZvcm1cIjtcbmltcG9ydCB7IFRvcFNpdGVMaXN0IH0gZnJvbSBcIi4vVG9wU2l0ZVwiO1xuXG5mdW5jdGlvbiB0b3BTaXRlSWNvblR5cGUobGluaykge1xuICBpZiAobGluay5jdXN0b21TY3JlZW5zaG90VVJMKSB7XG4gICAgcmV0dXJuIFwiY3VzdG9tX3NjcmVlbnNob3RcIjtcbiAgfVxuICBpZiAobGluay50aXBweVRvcEljb24gfHwgbGluay5mYXZpY29uUmVmID09PSBcInRpcHB5dG9wXCIpIHtcbiAgICByZXR1cm4gXCJ0aXBweXRvcFwiO1xuICB9XG4gIGlmIChsaW5rLmZhdmljb25TaXplID49IE1JTl9SSUNIX0ZBVklDT05fU0laRSkge1xuICAgIHJldHVybiBcInJpY2hfaWNvblwiO1xuICB9XG4gIGlmIChsaW5rLnNjcmVlbnNob3QpIHtcbiAgICByZXR1cm4gXCJzY3JlZW5zaG90XCI7XG4gIH1cbiAgcmV0dXJuIFwibm9faW1hZ2VcIjtcbn1cblxuLyoqXG4gKiBJdGVyYXRlcyB0aHJvdWdoIFRvcFNpdGVzIGFuZCBjb3VudHMgdHlwZXMgb2YgaW1hZ2VzLlxuICogQHBhcmFtIGFjYyBBY2N1bXVsYXRvciBmb3IgcmVkdWNlci5cbiAqIEBwYXJhbSB0b3BzaXRlIEVudHJ5IGluIFRvcFNpdGVzLlxuICovXG5mdW5jdGlvbiBjb3VudFRvcFNpdGVzSWNvbnNUeXBlcyh0b3BTaXRlcykge1xuICBjb25zdCBjb3VudFRvcFNpdGVzVHlwZXMgPSAoYWNjLCBsaW5rKSA9PiB7XG4gICAgYWNjW3RvcFNpdGVJY29uVHlwZShsaW5rKV0rKztcbiAgICByZXR1cm4gYWNjO1xuICB9O1xuXG4gIHJldHVybiB0b3BTaXRlcy5yZWR1Y2UoY291bnRUb3BTaXRlc1R5cGVzLCB7XG4gICAgY3VzdG9tX3NjcmVlbnNob3Q6IDAsXG4gICAgc2NyZWVuc2hvdDogMCxcbiAgICB0aXBweXRvcDogMCxcbiAgICByaWNoX2ljb246IDAsXG4gICAgbm9faW1hZ2U6IDAsXG4gIH0pO1xufVxuXG5leHBvcnQgY2xhc3MgX1RvcFNpdGVzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25FZGl0Rm9ybUNsb3NlID0gdGhpcy5vbkVkaXRGb3JtQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU2VhcmNoU2hvcnRjdXRzRm9ybUNsb3NlID0gdGhpcy5vblNlYXJjaFNob3J0Y3V0c0Zvcm1DbG9zZS5iaW5kKFxuICAgICAgdGhpc1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2ggc2Vzc2lvbiBzdGF0aXN0aWNzIGFib3V0IHRoZSBxdWFsaXR5IG9mIFRvcFNpdGVzIGljb25zIGFuZCBwaW5uZWQgY291bnQuXG4gICAqL1xuICBfZGlzcGF0Y2hUb3BTaXRlc1N0YXRzKCkge1xuICAgIGNvbnN0IHRvcFNpdGVzID0gdGhpcy5fZ2V0VmlzaWJsZVRvcFNpdGVzKCkuZmlsdGVyKFxuICAgICAgdG9wU2l0ZSA9PiB0b3BTaXRlICE9PSBudWxsICYmIHRvcFNpdGUgIT09IHVuZGVmaW5lZFxuICAgICk7XG4gICAgY29uc3QgdG9wU2l0ZXNJY29uc1N0YXRzID0gY291bnRUb3BTaXRlc0ljb25zVHlwZXModG9wU2l0ZXMpO1xuICAgIGNvbnN0IHRvcFNpdGVzUGlubmVkID0gdG9wU2l0ZXMuZmlsdGVyKHNpdGUgPT4gISFzaXRlLmlzUGlubmVkKS5sZW5ndGg7XG4gICAgY29uc3Qgc2VhcmNoU2hvcnRjdXRzID0gdG9wU2l0ZXMuZmlsdGVyKHNpdGUgPT4gISFzaXRlLnNlYXJjaFRvcFNpdGUpXG4gICAgICAubGVuZ3RoO1xuICAgIC8vIERpc3BhdGNoIHRlbGVtZXRyeSBldmVudCB3aXRoIHRoZSBjb3VudCBvZiBUb3BTaXRlcyBpbWFnZXMgdHlwZXMuXG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5TQVZFX1NFU1NJT05fUEVSRl9EQVRBLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdG9wc2l0ZXNfaWNvbl9zdGF0czogdG9wU2l0ZXNJY29uc1N0YXRzLFxuICAgICAgICAgIHRvcHNpdGVzX3Bpbm5lZDogdG9wU2l0ZXNQaW5uZWQsXG4gICAgICAgICAgdG9wc2l0ZXNfc2VhcmNoX3Nob3J0Y3V0czogc2VhcmNoU2hvcnRjdXRzLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgVG9wU2l0ZXMgdGhhdCBhcmUgdmlzaWJsZSBiYXNlZCBvbiBwcmVmcyBhbmQgd2luZG93IHdpZHRoLlxuICAgKi9cbiAgX2dldFZpc2libGVUb3BTaXRlcygpIHtcbiAgICAvLyBXZSBoaWRlIDIgc2l0ZXMgcGVyIHJvdyB3aGVuIG5vdCBpbiB0aGUgd2lkZSBsYXlvdXQuXG4gICAgbGV0IHNpdGVzUGVyUm93ID0gVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XO1xuICAgIC8vICRicmVhay1wb2ludC13aWRlc3QgPSAxMDcycHggKGZyb20gX3ZhcmlhYmxlcy5zY3NzKVxuICAgIGlmICghZ2xvYmFsLm1hdGNoTWVkaWEoYChtaW4td2lkdGg6IDEwNzJweClgKS5tYXRjaGVzKSB7XG4gICAgICBzaXRlc1BlclJvdyAtPSAyO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wcm9wcy5Ub3BTaXRlcy5yb3dzLnNsaWNlKFxuICAgICAgMCxcbiAgICAgIHRoaXMucHJvcHMuVG9wU2l0ZXNSb3dzICogc2l0ZXNQZXJSb3dcbiAgICApO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMuX2Rpc3BhdGNoVG9wU2l0ZXNTdGF0cygpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5fZGlzcGF0Y2hUb3BTaXRlc1N0YXRzKCk7XG4gIH1cblxuICBvbkVkaXRGb3JtQ2xvc2UoKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgIHNvdXJjZTogVE9QX1NJVEVTX1NPVVJDRSxcbiAgICAgICAgZXZlbnQ6IFwiVE9QX1NJVEVTX0VESVRfQ0xPU0VcIixcbiAgICAgIH0pXG4gICAgKTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHsgdHlwZTogYXQuVE9QX1NJVEVTX0NBTkNFTF9FRElUIH0pO1xuICB9XG5cbiAgb25TZWFyY2hTaG9ydGN1dHNGb3JtQ2xvc2UoKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgIHNvdXJjZTogVE9QX1NJVEVTX1NPVVJDRSxcbiAgICAgICAgZXZlbnQ6IFwiU0VBUkNIX0VESVRfQ0xPU0VcIixcbiAgICAgIH0pXG4gICAgKTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHsgdHlwZTogYXQuVE9QX1NJVEVTX0NMT1NFX1NFQVJDSF9TSE9SVENVVFNfTU9EQUwgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCB7IGVkaXRGb3JtLCBzaG93U2VhcmNoU2hvcnRjdXRzRm9ybSB9ID0gcHJvcHMuVG9wU2l0ZXM7XG4gICAgY29uc3QgZXh0cmFNZW51T3B0aW9ucyA9IFtcIkFkZFRvcFNpdGVcIl07XG4gICAgY29uc3QgY29sb3JzID0gcHJvcHMuUHJlZnMudmFsdWVzW1wibmV3TmV3dGFiRXhwZXJpZW5jZS5jb2xvcnNcIl07XG5cbiAgICBpZiAocHJvcHMuUHJlZnMudmFsdWVzW1wiaW1wcm92ZXNlYXJjaC50b3BTaXRlU2VhcmNoU2hvcnRjdXRzXCJdKSB7XG4gICAgICBleHRyYU1lbnVPcHRpb25zLnB1c2goXCJBZGRTZWFyY2hTaG9ydGN1dFwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBvbmVudFBlcmZUaW1lclxuICAgICAgICBpZD1cInRvcHNpdGVzXCJcbiAgICAgICAgaW5pdGlhbGl6ZWQ9e3Byb3BzLlRvcFNpdGVzLmluaXRpYWxpemVkfVxuICAgICAgICBkaXNwYXRjaD17cHJvcHMuZGlzcGF0Y2h9XG4gICAgICA+XG4gICAgICAgIDxDb2xsYXBzaWJsZVNlY3Rpb25cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0b3Atc2l0ZXNcIlxuICAgICAgICAgIGlkPVwidG9wc2l0ZXNcIlxuICAgICAgICAgIHRpdGxlPXtwcm9wcy50aXRsZSB8fCB7IGlkOiBcIm5ld3RhYi1zZWN0aW9uLWhlYWRlci10b3BzaXRlc1wiIH19XG4gICAgICAgICAgaGlkZVRpdGxlPXt0cnVlfVxuICAgICAgICAgIGV4dHJhTWVudU9wdGlvbnM9e2V4dHJhTWVudU9wdGlvbnN9XG4gICAgICAgICAgc2hvd1ByZWZOYW1lPVwiZmVlZHMudG9wc2l0ZXNcIlxuICAgICAgICAgIGV2ZW50U291cmNlPXtUT1BfU0lURVNfU09VUkNFfVxuICAgICAgICAgIGNvbGxhcHNlZD17ZmFsc2V9XG4gICAgICAgICAgaXNGaXhlZD17cHJvcHMuaXNGaXhlZH1cbiAgICAgICAgICBpc0ZpcnN0PXtwcm9wcy5pc0ZpcnN0fVxuICAgICAgICAgIGlzTGFzdD17cHJvcHMuaXNMYXN0fVxuICAgICAgICAgIGRpc3BhdGNoPXtwcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgPlxuICAgICAgICAgIDxUb3BTaXRlTGlzdFxuICAgICAgICAgICAgVG9wU2l0ZXM9e3Byb3BzLlRvcFNpdGVzfVxuICAgICAgICAgICAgVG9wU2l0ZXNSb3dzPXtwcm9wcy5Ub3BTaXRlc1Jvd3N9XG4gICAgICAgICAgICBkaXNwYXRjaD17cHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICB0b3BTaXRlSWNvblR5cGU9e3RvcFNpdGVJY29uVHlwZX1cbiAgICAgICAgICAgIGNvbG9ycz17Y29sb3JzfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0LXRvcHNpdGVzLXdyYXBwZXJcIj5cbiAgICAgICAgICAgIHtlZGl0Rm9ybSAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdC10b3BzaXRlc1wiPlxuICAgICAgICAgICAgICAgIDxNb2RhbE92ZXJsYXlXcmFwcGVyXG4gICAgICAgICAgICAgICAgICB1bnN0eWxlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMub25FZGl0Rm9ybUNsb3NlfVxuICAgICAgICAgICAgICAgICAgaW5uZXJDbGFzc05hbWU9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFRvcFNpdGVGb3JtXG4gICAgICAgICAgICAgICAgICAgIHNpdGU9e3Byb3BzLlRvcFNpdGVzLnJvd3NbZWRpdEZvcm0uaW5kZXhdfVxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLm9uRWRpdEZvcm1DbG9zZX1cbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgICAgICAgIHsuLi5lZGl0Rm9ybX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Nb2RhbE92ZXJsYXlXcmFwcGVyPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7c2hvd1NlYXJjaFNob3J0Y3V0c0Zvcm0gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXQtc2VhcmNoLXNob3J0Y3V0c1wiPlxuICAgICAgICAgICAgICAgIDxNb2RhbE92ZXJsYXlXcmFwcGVyXG4gICAgICAgICAgICAgICAgICB1bnN0eWxlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMub25TZWFyY2hTaG9ydGN1dHNGb3JtQ2xvc2V9XG4gICAgICAgICAgICAgICAgICBpbm5lckNsYXNzTmFtZT1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8U2VhcmNoU2hvcnRjdXRzRm9ybVxuICAgICAgICAgICAgICAgICAgICBUb3BTaXRlcz17cHJvcHMuVG9wU2l0ZXN9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMub25TZWFyY2hTaG9ydGN1dHNGb3JtQ2xvc2V9XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L01vZGFsT3ZlcmxheVdyYXBwZXI+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9Db2xsYXBzaWJsZVNlY3Rpb24+XG4gICAgICA8L0NvbXBvbmVudFBlcmZUaW1lcj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBUb3BTaXRlcyA9IGNvbm5lY3QoKHN0YXRlLCBwcm9wcykgPT4gKHtcbiAgLy8gRm9yIFNQT0MgRXhwZXJpbWVudCBvbmx5LCB0YWtlIFRvcFNpdGVzIGZyb20gRGlzY292ZXJ5U3RyZWFtIFRvcFNpdGVzIHRoYXQgdGFrZXMgaW4gU1BPQyBEYXRhXG4gIFRvcFNpdGVzOiBwcm9wcy5Ub3BTaXRlc1dpdGhTcG9jIHx8IHN0YXRlLlRvcFNpdGVzLFxuICBQcmVmczogc3RhdGUuUHJlZnMsXG4gIFRvcFNpdGVzUm93czogc3RhdGUuUHJlZnMudmFsdWVzLnRvcFNpdGVzUm93cyxcbn0pKShfVG9wU2l0ZXMpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuZXhwb3J0IGNvbnN0IFRPUF9TSVRFU19TT1VSQ0UgPSBcIlRPUF9TSVRFU1wiO1xuZXhwb3J0IGNvbnN0IFRPUF9TSVRFU19DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgXCJDaGVja1BpblRvcFNpdGVcIixcbiAgXCJFZGl0VG9wU2l0ZVwiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIk9wZW5Jbk5ld1dpbmRvd1wiLFxuICBcIk9wZW5JblByaXZhdGVXaW5kb3dcIixcbiAgXCJTZXBhcmF0b3JcIixcbiAgXCJCbG9ja1VybFwiLFxuICBcIkRlbGV0ZVVybFwiLFxuXTtcbmV4cG9ydCBjb25zdCBUT1BfU0lURVNfU1BPQ19DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgXCJQaW5Ub3BTaXRlXCIsXG4gIFwiU2VwYXJhdG9yXCIsXG4gIFwiT3BlbkluTmV3V2luZG93XCIsXG4gIFwiT3BlbkluUHJpdmF0ZVdpbmRvd1wiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIkJsb2NrVXJsXCIsXG4gIFwiU2hvd1ByaXZhY3lJbmZvXCIsXG5dO1xuZXhwb3J0IGNvbnN0IFRPUF9TSVRFU19TUE9OU09SRURfUE9TSVRJT05fQ09OVEVYVF9NRU5VX09QVElPTlMgPSBbXG4gIFwiT3BlbkluTmV3V2luZG93XCIsXG4gIFwiT3BlbkluUHJpdmF0ZVdpbmRvd1wiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIkJsb2NrVXJsXCIsXG4gIFwiQWJvdXRTcG9uc29yZWRcIixcbl07XG4vLyB0aGUgc3BlY2lhbCB0b3Agc2l0ZSBmb3Igc2VhcmNoIHNob3J0Y3V0IGV4cGVyaW1lbnQgY2FuIG9ubHkgaGF2ZSB0aGUgb3B0aW9uIHRvIHVucGluICh3aGljaCByZW1vdmVzKSB0aGUgdG9wc2l0ZVxuZXhwb3J0IGNvbnN0IFRPUF9TSVRFU19TRUFSQ0hfU0hPUlRDVVRTX0NPTlRFWFRfTUVOVV9PUFRJT05TID0gW1xuICBcIkNoZWNrUGluVG9wU2l0ZVwiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIkJsb2NrVXJsXCIsXG5dO1xuLy8gbWluaW11bSBzaXplIG5lY2Vzc2FyeSB0byBzaG93IGEgcmljaCBpY29uIGluc3RlYWQgb2YgYSBzY3JlZW5zaG90XG5leHBvcnQgY29uc3QgTUlOX1JJQ0hfRkFWSUNPTl9TSVpFID0gOTY7XG4vLyBtaW5pbXVtIHNpemUgbmVjZXNzYXJ5IHRvIHNob3cgYW55IGljb25cbmV4cG9ydCBjb25zdCBNSU5fU01BTExfRkFWSUNPTl9TSVpFID0gMTY7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUT1BfU0lURVNfU09VUkNFIH0gZnJvbSBcIi4vVG9wU2l0ZXNDb25zdGFudHNcIjtcblxuZXhwb3J0IGNsYXNzIFNlbGVjdGFibGVTZWFyY2hTaG9ydGN1dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBzaG9ydGN1dCwgc2VsZWN0ZWQgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaW1hZ2VTdHlsZSA9IHsgYmFja2dyb3VuZEltYWdlOiBgdXJsKFwiJHtzaG9ydGN1dC50aXBweVRvcEljb259XCIpYCB9O1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcC1zaXRlLW91dGVyIHNlYXJjaC1zaG9ydGN1dFwiPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgIGlkPXtzaG9ydGN1dC5rZXl3b3JkfVxuICAgICAgICAgIG5hbWU9e3Nob3J0Y3V0LmtleXdvcmR9XG4gICAgICAgICAgY2hlY2tlZD17c2VsZWN0ZWR9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMucHJvcHMub25DaGFuZ2V9XG4gICAgICAgIC8+XG4gICAgICAgIDxsYWJlbCBodG1sRm9yPXtzaG9ydGN1dC5rZXl3b3JkfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcC1zaXRlLWlubmVyXCI+XG4gICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aWxlXCI+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidG9wLXNpdGUtaWNvbiByaWNoLWljb25cIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e2ltYWdlU3R5bGV9XG4gICAgICAgICAgICAgICAgICBkYXRhLWZhbGxiYWNrPVwiQFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcC1zaXRlLWljb24gc2VhcmNoLXRvcHNpdGVcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGRpcj1cImF1dG9cIj57c2hvcnRjdXQua2V5d29yZH08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2VhcmNoU2hvcnRjdXRzRm9ybSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNhbmNlbEJ1dHRvbkNsaWNrID0gdGhpcy5vbkNhbmNlbEJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblNhdmVCdXR0b25DbGljayA9IHRoaXMub25TYXZlQnV0dG9uQ2xpY2suYmluZCh0aGlzKTtcblxuICAgIC8vIGNsb25lIHRoZSBzaG9ydGN1dHMgYW5kIGFkZCB0aGVtIHRvIHRoZSBzdGF0ZSBzbyB3ZSBjYW4gYWRkIGlzU2VsZWN0ZWQgcHJvcGVydHlcbiAgICBjb25zdCBzaG9ydGN1dHMgPSBbXTtcbiAgICBjb25zdCB7IHJvd3MsIHNlYXJjaFNob3J0Y3V0cyB9ID0gcHJvcHMuVG9wU2l0ZXM7XG4gICAgc2VhcmNoU2hvcnRjdXRzLmZvckVhY2goc2hvcnRjdXQgPT4ge1xuICAgICAgc2hvcnRjdXRzLnB1c2goe1xuICAgICAgICAuLi5zaG9ydGN1dCxcbiAgICAgICAgaXNTZWxlY3RlZDogISFyb3dzLmZpbmQoXG4gICAgICAgICAgcm93ID0+XG4gICAgICAgICAgICByb3cgJiZcbiAgICAgICAgICAgIHJvdy5pc1Bpbm5lZCAmJlxuICAgICAgICAgICAgcm93LnNlYXJjaFRvcFNpdGUgJiZcbiAgICAgICAgICAgIHJvdy5sYWJlbCA9PT0gc2hvcnRjdXQua2V5d29yZFxuICAgICAgICApLFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgc2hvcnRjdXRzIH07XG4gIH1cblxuICBoYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCB7IHRhcmdldCB9ID0gZXZlbnQ7XG4gICAgY29uc3QgeyBuYW1lLCBjaGVja2VkIH0gPSB0YXJnZXQ7XG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4ge1xuICAgICAgY29uc3Qgc2hvcnRjdXRzID0gcHJldlN0YXRlLnNob3J0Y3V0cy5zbGljZSgpO1xuICAgICAgbGV0IHNob3J0Y3V0ID0gc2hvcnRjdXRzLmZpbmQoKHsga2V5d29yZCB9KSA9PiBrZXl3b3JkID09PSBuYW1lKTtcbiAgICAgIHNob3J0Y3V0LmlzU2VsZWN0ZWQgPSBjaGVja2VkO1xuICAgICAgcmV0dXJuIHsgc2hvcnRjdXRzIH07XG4gICAgfSk7XG4gIH1cblxuICBvbkNhbmNlbEJ1dHRvbkNsaWNrKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgfVxuXG4gIG9uU2F2ZUJ1dHRvbkNsaWNrKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcblxuICAgIC8vIENoZWNrIGlmIHRoZXJlIHdlcmUgYW55IGNoYW5nZXMgYW5kIGFjdCBhY2NvcmRpbmdseVxuICAgIGNvbnN0IHsgcm93cyB9ID0gdGhpcy5wcm9wcy5Ub3BTaXRlcztcbiAgICBjb25zdCBwaW5RdWV1ZSA9IFtdO1xuICAgIGNvbnN0IHVucGluUXVldWUgPSBbXTtcbiAgICB0aGlzLnN0YXRlLnNob3J0Y3V0cy5mb3JFYWNoKHNob3J0Y3V0ID0+IHtcbiAgICAgIGNvbnN0IGFscmVhZHlQaW5uZWQgPSByb3dzLmZpbmQoXG4gICAgICAgIHJvdyA9PlxuICAgICAgICAgIHJvdyAmJlxuICAgICAgICAgIHJvdy5pc1Bpbm5lZCAmJlxuICAgICAgICAgIHJvdy5zZWFyY2hUb3BTaXRlICYmXG4gICAgICAgICAgcm93LmxhYmVsID09PSBzaG9ydGN1dC5rZXl3b3JkXG4gICAgICApO1xuICAgICAgaWYgKHNob3J0Y3V0LmlzU2VsZWN0ZWQgJiYgIWFscmVhZHlQaW5uZWQpIHtcbiAgICAgICAgcGluUXVldWUucHVzaCh0aGlzLl9zZWFyY2hUb3BTaXRlKHNob3J0Y3V0KSk7XG4gICAgICB9IGVsc2UgaWYgKCFzaG9ydGN1dC5pc1NlbGVjdGVkICYmIGFscmVhZHlQaW5uZWQpIHtcbiAgICAgICAgdW5waW5RdWV1ZS5wdXNoKHtcbiAgICAgICAgICB1cmw6IGFscmVhZHlQaW5uZWQudXJsLFxuICAgICAgICAgIHNlYXJjaFZlbmRvcjogc2hvcnRjdXQuc2hvcnRVUkwsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gVGVsbCB0aGUgZmVlZCB0byBkbyB0aGUgd29yay5cbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LlVQREFURV9QSU5ORURfU0VBUkNIX1NIT1JUQ1VUUyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGFkZGVkU2hvcnRjdXRzOiBwaW5RdWV1ZSxcbiAgICAgICAgICBkZWxldGVkU2hvcnRjdXRzOiB1bnBpblF1ZXVlLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuXG4gICAgLy8gU2VuZCB0aGUgVGVsZW1ldHJ5IHBpbmdzLlxuICAgIHBpblF1ZXVlLmZvckVhY2goc2hvcnRjdXQgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgICAgZXZlbnQ6IFwiU0VBUkNIX0VESVRfQUREXCIsXG4gICAgICAgICAgdmFsdWU6IHsgc2VhcmNoX3ZlbmRvcjogc2hvcnRjdXQuc2VhcmNoVmVuZG9yIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuICAgIHVucGluUXVldWUuZm9yRWFjaChzaG9ydGN1dCA9PiB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICAgIHNvdXJjZTogVE9QX1NJVEVTX1NPVVJDRSxcbiAgICAgICAgICBldmVudDogXCJTRUFSQ0hfRURJVF9ERUxFVEVcIixcbiAgICAgICAgICB2YWx1ZTogeyBzZWFyY2hfdmVuZG9yOiBzaG9ydGN1dC5zZWFyY2hWZW5kb3IgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgfVxuXG4gIF9zZWFyY2hUb3BTaXRlKHNob3J0Y3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVybDogc2hvcnRjdXQudXJsLFxuICAgICAgc2VhcmNoVG9wU2l0ZTogdHJ1ZSxcbiAgICAgIGxhYmVsOiBzaG9ydGN1dC5rZXl3b3JkLFxuICAgICAgc2VhcmNoVmVuZG9yOiBzaG9ydGN1dC5zaG9ydFVSTCxcbiAgICB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBjbGFzc05hbWU9XCJ0b3BzaXRlLWZvcm1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2gtc2hvcnRjdXRzLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxoM1xuICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZSBncmV5LXRpdGxlXCJcbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi10b3BzaXRlcy1hZGQtc2VhcmNoLWVuZ2luZS1oZWFkZXJcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLnNob3J0Y3V0cy5tYXAoc2hvcnRjdXQgPT4gKFxuICAgICAgICAgICAgICA8U2VsZWN0YWJsZVNlYXJjaFNob3J0Y3V0XG4gICAgICAgICAgICAgICAga2V5PXtzaG9ydGN1dC5rZXl3b3JkfVxuICAgICAgICAgICAgICAgIHNob3J0Y3V0PXtzaG9ydGN1dH1cbiAgICAgICAgICAgICAgICBzZWxlY3RlZD17c2hvcnRjdXQuaXNTZWxlY3RlZH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImFjdGlvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjYW5jZWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2FuY2VsQnV0dG9uQ2xpY2t9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9wc2l0ZXMtY2FuY2VsLWJ1dHRvblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJkb25lXCJcbiAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblNhdmVCdXR0b25DbGlja31cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi10b3BzaXRlcy1zYXZlLWJ1dHRvblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7XG4gIE1JTl9SSUNIX0ZBVklDT05fU0laRSxcbiAgTUlOX1NNQUxMX0ZBVklDT05fU0laRSxcbiAgVE9QX1NJVEVTX0NPTlRFWFRfTUVOVV9PUFRJT05TLFxuICBUT1BfU0lURVNfU1BPQ19DT05URVhUX01FTlVfT1BUSU9OUyxcbiAgVE9QX1NJVEVTX1NQT05TT1JFRF9QT1NJVElPTl9DT05URVhUX01FTlVfT1BUSU9OUyxcbiAgVE9QX1NJVEVTX1NFQVJDSF9TSE9SVENVVFNfQ09OVEVYVF9NRU5VX09QVElPTlMsXG4gIFRPUF9TSVRFU19TT1VSQ0UsXG59IGZyb20gXCIuL1RvcFNpdGVzQ29uc3RhbnRzXCI7XG5pbXBvcnQgeyBMaW5rTWVudSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0xpbmtNZW51L0xpbmtNZW51XCI7XG5pbXBvcnQgeyBJbXByZXNzaW9uU3RhdHMgfSBmcm9tIFwiLi4vRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzL0ltcHJlc3Npb25TdGF0c1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2NyZWVuc2hvdFV0aWxzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9zY3JlZW5zaG90LXV0aWxzXCI7XG5pbXBvcnQgeyBUT1BfU0lURVNfTUFYX1NJVEVTX1BFUl9ST1cgfSBmcm9tIFwiY29tbW9uL1JlZHVjZXJzLmpzbVwiO1xuaW1wb3J0IHsgQ29udGV4dE1lbnVCdXR0b24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudUJ1dHRvblwiO1xuaW1wb3J0IHsgVG9wU2l0ZUltcHJlc3Npb25XcmFwcGVyIH0gZnJvbSBcIi4vVG9wU2l0ZUltcHJlc3Npb25XcmFwcGVyXCI7XG5jb25zdCBTUE9DX1RZUEUgPSBcIlNQT0NcIjtcbmNvbnN0IE5FV1RBQl9TT1VSQ0UgPSBcIm5ld3RhYlwiO1xuXG5leHBvcnQgY2xhc3MgVG9wU2l0ZUxpbmsgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgc2NyZWVuc2hvdEltYWdlOiBudWxsIH07XG4gICAgdGhpcy5vbkRyYWdFdmVudCA9IHRoaXMub25EcmFnRXZlbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uS2V5UHJlc3MgPSB0aGlzLm9uS2V5UHJlc3MuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qXG4gICAqIEhlbHBlciB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgZHJvcCB6b25lIHNob3VsZCBhbGxvdyBhIGRyb3AuIFdlIG9ubHkgYWxsb3dcbiAgICogZHJvcHBpbmcgdG9wIHNpdGVzIGZvciBub3cuIFdlIGRvbid0IGFsbG93IGRyb3BwaW5nIG9uIHNwb25zb3JlZCB0b3Agc2l0ZXNcbiAgICogYXMgdGhlaXIgcG9zaXRpb24gaXMgZml4ZWQuXG4gICAqL1xuICBfYWxsb3dEcm9wKGUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgKHRoaXMuZHJhZ2dlZCB8fCAhdGhpcy5wcm9wcy5saW5rLnNwb25zb3JlZF9wb3NpdGlvbikgJiZcbiAgICAgIGUuZGF0YVRyYW5zZmVyLnR5cGVzLmluY2x1ZGVzKFwidGV4dC90b3BzaXRlLWluZGV4XCIpXG4gICAgKTtcbiAgfVxuXG4gIG9uRHJhZ0V2ZW50KGV2ZW50KSB7XG4gICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICBjYXNlIFwiY2xpY2tcIjpcbiAgICAgICAgLy8gU3RvcCBhbnkgbGluayBjbGlja3MgaWYgd2Ugc3RhcnRlZCBhbnkgZHJhZ2dpbmdcbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dlZCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZHJhZ3N0YXJ0XCI6XG4gICAgICAgIGV2ZW50LnRhcmdldC5ibHVyKCk7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmxpbmsuc3BvbnNvcmVkX3Bvc2l0aW9uKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYWdnZWQgPSB0cnVlO1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IFwibW92ZVwiO1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvdG9wc2l0ZS1pbmRleFwiLCB0aGlzLnByb3BzLmluZGV4KTtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkRyYWdFdmVudChcbiAgICAgICAgICBldmVudCxcbiAgICAgICAgICB0aGlzLnByb3BzLmluZGV4LFxuICAgICAgICAgIHRoaXMucHJvcHMubGluayxcbiAgICAgICAgICB0aGlzLnByb3BzLnRpdGxlXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRyYWdlbmRcIjpcbiAgICAgICAgdGhpcy5wcm9wcy5vbkRyYWdFdmVudChldmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRyYWdlbnRlclwiOlxuICAgICAgY2FzZSBcImRyYWdvdmVyXCI6XG4gICAgICBjYXNlIFwiZHJvcFwiOlxuICAgICAgICBpZiAodGhpcy5fYWxsb3dEcm9wKGV2ZW50KSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5wcm9wcy5vbkRyYWdFdmVudChldmVudCwgdGhpcy5wcm9wcy5pbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibW91c2Vkb3duXCI6XG4gICAgICAgIC8vIEJsb2NrIHRoZSBzY3JvbGwgd2hlZWwgZnJvbSBhcHBlYXJpbmcgZm9yIG1pZGRsZSBjbGlja3Mgb24gc2VhcmNoIHRvcCBzaXRlc1xuICAgICAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAxICYmIHRoaXMucHJvcHMubGluay5zZWFyY2hUb3BTaXRlKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXNldCBhdCB0aGUgZmlyc3QgbW91c2UgZXZlbnQgb2YgYSBwb3RlbnRpYWwgZHJhZ1xuICAgICAgICB0aGlzLmRyYWdnZWQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byBvYnRhaW4gdGhlIG5leHQgc3RhdGUgYmFzZWQgb24gbmV4dFByb3BzIGFuZCBwcmV2U3RhdGUuXG4gICAqXG4gICAqIE5PVEU6IFJlbmFtZSB0aGlzIG1ldGhvZCB0byBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgd2hlbiB3ZSB1cGRhdGUgUmVhY3RcbiAgICogICAgICAgdG8gPj0gMTYuMy4gV2Ugd2lsbCBuZWVkIHRvIHVwZGF0ZSB0ZXN0cyBhcyB3ZWxsLiBXZSBjYW5ub3QgcmVuYW1lIHRoaXNcbiAgICogICAgICAgbWV0aG9kIHRvIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyBub3cgYmVjYXVzZSB0aGVyZSBpcyBhIG1pc21hdGNoIGluXG4gICAqICAgICAgIHRoZSBSZWFjdCB2ZXJzaW9uIHRoYXQgd2UgYXJlIHVzaW5nIGZvciBib3RoIHRlc3RpbmcgYW5kIHByb2R1Y3Rpb24uXG4gICAqICAgICAgIChpLmUuIHJlYWN0LXRlc3QtcmVuZGVyID0+IFwiMTYuMy4yXCIsIHJlYWN0ID0+IFwiMTYuMi4wXCIpLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FpcmJuYi9lbnp5bWUvYmxvYi9tYXN0ZXIvcGFja2FnZXMvZW56eW1lLWFkYXB0ZXItcmVhY3QtMTYvcGFja2FnZS5qc29uI0w0My5cbiAgICovXG4gIHN0YXRpYyBnZXROZXh0U3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICBjb25zdCB7IHNjcmVlbnNob3QgfSA9IG5leHRQcm9wcy5saW5rO1xuICAgIGNvbnN0IGltYWdlSW5TdGF0ZSA9IFNjcmVlbnNob3RVdGlscy5pc1JlbW90ZUltYWdlTG9jYWwoXG4gICAgICBwcmV2U3RhdGUuc2NyZWVuc2hvdEltYWdlLFxuICAgICAgc2NyZWVuc2hvdFxuICAgICk7XG4gICAgaWYgKGltYWdlSW5TdGF0ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2luY2UgaW1hZ2Ugd2FzIHVwZGF0ZWQsIGF0dGVtcHQgdG8gcmV2b2tlIG9sZCBpbWFnZSBibG9iIFVSTCwgaWYgaXQgZXhpc3RzLlxuICAgIFNjcmVlbnNob3RVdGlscy5tYXliZVJldm9rZUJsb2JPYmplY3RVUkwocHJldlN0YXRlLnNjcmVlbnNob3RJbWFnZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc2NyZWVuc2hvdEltYWdlOiBTY3JlZW5zaG90VXRpbHMuY3JlYXRlTG9jYWxJbWFnZU9iamVjdChzY3JlZW5zaG90KSxcbiAgICB9O1xuICB9XG5cbiAgLy8gTk9URTogUmVtb3ZlIHRoaXMgZnVuY3Rpb24gd2hlbiB3ZSB1cGRhdGUgUmVhY3QgdG8gPj0gMTYuMyBzaW5jZSBSZWFjdCB3aWxsXG4gIC8vICAgICAgIGNhbGwgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIGF1dG9tYXRpY2FsbHkuIFdlIHdpbGwgYWxzbyBuZWVkIHRvXG4gIC8vICAgICAgIHJlbmFtZSBnZXROZXh0U3RhdGVGcm9tUHJvcHMgdG8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLlxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gVG9wU2l0ZUxpbmsuZ2V0TmV4dFN0YXRlRnJvbVByb3BzKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUpO1xuICAgIGlmIChuZXh0U3RhdGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcbiAgICB9XG4gIH1cblxuICAvLyBOT1RFOiBSZW1vdmUgdGhpcyBmdW5jdGlvbiB3aGVuIHdlIHVwZGF0ZSBSZWFjdCB0byA+PSAxNi4zIHNpbmNlIFJlYWN0IHdpbGxcbiAgLy8gICAgICAgY2FsbCBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgYXV0b21hdGljYWxseS4gV2Ugd2lsbCBhbHNvIG5lZWQgdG9cbiAgLy8gICAgICAgcmVuYW1lIGdldE5leHRTdGF0ZUZyb21Qcm9wcyB0byBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gVG9wU2l0ZUxpbmsuZ2V0TmV4dFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgdGhpcy5zdGF0ZSk7XG4gICAgaWYgKG5leHRTdGF0ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZShuZXh0U3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIFNjcmVlbnNob3RVdGlscy5tYXliZVJldm9rZUJsb2JPYmplY3RVUkwodGhpcy5zdGF0ZS5zY3JlZW5zaG90SW1hZ2UpO1xuICB9XG5cbiAgb25LZXlQcmVzcyhldmVudCkge1xuICAgIC8vIElmIHdlIGhhdmUgdGFiYmVkIHRvIGEgc2VhcmNoIHNob3J0Y3V0IHRvcCBzaXRlLCBhbmQgd2UgY2xpY2sgJ2VudGVyJyxcbiAgICAvLyB3ZSBzaG91bGQgZXhlY3V0ZSB0aGUgb25DbGljayBmdW5jdGlvbi4gVGhpcyBuZWVkcyB0byBiZSBhZGRlZCBiZWNhdXNlXG4gICAgLy8gc2VhcmNoIHRvcCBzaXRlcyBhcmUgYW5jaG9yIHRhZ3Mgd2l0aG91dCBhbiBocmVmLiBTZWUgYnVnIDE0ODMxMzVcbiAgICBpZiAodGhpcy5wcm9wcy5saW5rLnNlYXJjaFRvcFNpdGUgJiYgZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgIHRoaXMucHJvcHMub25DbGljayhldmVudCk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogVGFrZXMgdGhlIHVybCBhcyBhIHN0cmluZywgcnVucyBpdCB0aHJvdWdoIGEgc2ltcGxlIChub24tc2VjdXJlKSBoYXNoIHR1cm5pbmcgaXQgaW50byBhIHJhbmRvbSBudW1iZXJcbiAgICogQXBwbHkgdGhhdCByYW5kb20gbnVtYmVyIHRvIHRoZSBjb2xvciBhcnJheS4gVGhlIHNhbWUgdXJsIHdpbGwgYWx3YXlzIGdlbmVyYXRlIHRoZSBzYW1lIGNvbG9yLlxuICAgKi9cbiAgZ2VuZXJhdGVDb2xvcigpIHtcbiAgICBsZXQgeyB0aXRsZSwgY29sb3JzIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghY29sb3JzKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG5cbiAgICBsZXQgY29sb3JBcnJheSA9IGNvbG9ycy5zcGxpdChcIixcIik7XG5cbiAgICBjb25zdCBoYXNoU3RyID0gc3RyID0+IHtcbiAgICAgIGxldCBoYXNoID0gMDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjaGFyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBoYXNoICs9IGNoYXJDb2RlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfTtcblxuICAgIGxldCBoYXNoID0gaGFzaFN0cih0aXRsZSk7XG4gICAgbGV0IGluZGV4ID0gaGFzaCAlIGNvbG9yQXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiBjb2xvckFycmF5W2luZGV4XTtcbiAgfVxuXG4gIGNhbGN1bGF0ZVN0eWxlKCkge1xuICAgIGNvbnN0IHsgZGVmYXVsdFN0eWxlLCBsaW5rIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgeyB0aXBweVRvcEljb24sIGZhdmljb25TaXplIH0gPSBsaW5rO1xuICAgIGxldCBpbWFnZUNsYXNzTmFtZTtcbiAgICBsZXQgaW1hZ2VTdHlsZTtcbiAgICBsZXQgc2hvd1NtYWxsRmF2aWNvbiA9IGZhbHNlO1xuICAgIGxldCBzbWFsbEZhdmljb25TdHlsZTtcbiAgICBsZXQgaGFzU2NyZWVuc2hvdEltYWdlID1cbiAgICAgIHRoaXMuc3RhdGUuc2NyZWVuc2hvdEltYWdlICYmIHRoaXMuc3RhdGUuc2NyZWVuc2hvdEltYWdlLnVybDtcbiAgICBsZXQgc2VsZWN0ZWRDb2xvcjtcblxuICAgIGlmIChkZWZhdWx0U3R5bGUpIHtcbiAgICAgIC8vIGZvcmNlIG5vIHN0eWxlcyAobGV0dGVyIGZhbGxiYWNrKSBldmVuIGlmIHRoZSBsaW5rIGhhcyBpbWFnZXJ5XG4gICAgICBzZWxlY3RlZENvbG9yID0gdGhpcy5nZW5lcmF0ZUNvbG9yKCk7XG4gICAgfSBlbHNlIGlmIChsaW5rLnNlYXJjaFRvcFNpdGUpIHtcbiAgICAgIGltYWdlQ2xhc3NOYW1lID0gXCJ0b3Atc2l0ZS1pY29uIHJpY2gtaWNvblwiO1xuICAgICAgaW1hZ2VTdHlsZSA9IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBsaW5rLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7dGlwcHlUb3BJY29ufSlgLFxuICAgICAgfTtcbiAgICAgIHNtYWxsRmF2aWNvblN0eWxlID0geyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHt0aXBweVRvcEljb259KWAgfTtcbiAgICB9IGVsc2UgaWYgKGxpbmsuY3VzdG9tU2NyZWVuc2hvdFVSTCkge1xuICAgICAgLy8gYXNzdW1lIGhpZ2ggcXVhbGl0eSBjdXN0b20gc2NyZWVuc2hvdCBhbmQgdXNlIHJpY2ggaWNvbiBzdHlsZXMgYW5kIGNsYXNzIG5hbWVzXG5cbiAgICAgIC8vIFRvcFNpdGUgc3BvYyBleHBlcmltZW50IG9ubHlcbiAgICAgIGNvbnN0IHNwb2NJbWdVUkwgPVxuICAgICAgICBsaW5rLnR5cGUgPT09IFNQT0NfVFlQRSA/IGxpbmsuY3VzdG9tU2NyZWVuc2hvdFVSTCA6IFwiXCI7XG5cbiAgICAgIGltYWdlQ2xhc3NOYW1lID0gXCJ0b3Atc2l0ZS1pY29uIHJpY2gtaWNvblwiO1xuICAgICAgaW1hZ2VTdHlsZSA9IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBsaW5rLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBoYXNTY3JlZW5zaG90SW1hZ2VcbiAgICAgICAgICA/IGB1cmwoJHt0aGlzLnN0YXRlLnNjcmVlbnNob3RJbWFnZS51cmx9KWBcbiAgICAgICAgICA6IGB1cmwoJHtzcG9jSW1nVVJMfSlgLFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHRpcHB5VG9wSWNvbiB8fCBmYXZpY29uU2l6ZSA+PSBNSU5fUklDSF9GQVZJQ09OX1NJWkUpIHtcbiAgICAgIC8vIHN0eWxlcyBhbmQgY2xhc3MgbmFtZXMgZm9yIHRvcCBzaXRlcyB3aXRoIHJpY2ggaWNvbnNcbiAgICAgIGltYWdlQ2xhc3NOYW1lID0gXCJ0b3Atc2l0ZS1pY29uIHJpY2gtaWNvblwiO1xuICAgICAgaW1hZ2VTdHlsZSA9IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBsaW5rLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7dGlwcHlUb3BJY29uIHx8IGxpbmsuZmF2aWNvbn0pYCxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChmYXZpY29uU2l6ZSA+PSBNSU5fU01BTExfRkFWSUNPTl9TSVpFKSB7XG4gICAgICBzaG93U21hbGxGYXZpY29uID0gdHJ1ZTtcbiAgICAgIHNtYWxsRmF2aWNvblN0eWxlID0geyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHtsaW5rLmZhdmljb259KWAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0ZWRDb2xvciA9IHRoaXMuZ2VuZXJhdGVDb2xvcigpO1xuICAgICAgaW1hZ2VDbGFzc05hbWUgPSBcIlwiO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzaG93U21hbGxGYXZpY29uLFxuICAgICAgc21hbGxGYXZpY29uU3R5bGUsXG4gICAgICBpbWFnZVN0eWxlLFxuICAgICAgaW1hZ2VDbGFzc05hbWUsXG4gICAgICBzZWxlY3RlZENvbG9yLFxuICAgIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2hpbGRyZW4sXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBpc0RyYWdnYWJsZSxcbiAgICAgIGxpbmssXG4gICAgICBvbkNsaWNrLFxuICAgICAgdGl0bGUsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgdG9wU2l0ZU91dGVyQ2xhc3NOYW1lID0gYHRvcC1zaXRlLW91dGVyJHtcbiAgICAgIGNsYXNzTmFtZSA/IGAgJHtjbGFzc05hbWV9YCA6IFwiXCJcbiAgICB9JHtsaW5rLmlzRHJhZ2dlZCA/IFwiIGRyYWdnZWRcIiA6IFwiXCJ9JHtcbiAgICAgIGxpbmsuc2VhcmNoVG9wU2l0ZSA/IFwiIHNlYXJjaC1zaG9ydGN1dFwiIDogXCJcIlxuICAgIH1gO1xuICAgIGNvbnN0IFtsZXR0ZXJGYWxsYmFja10gPSB0aXRsZTtcbiAgICBjb25zdCB7XG4gICAgICBzaG93U21hbGxGYXZpY29uLFxuICAgICAgc21hbGxGYXZpY29uU3R5bGUsXG4gICAgICBpbWFnZVN0eWxlLFxuICAgICAgaW1hZ2VDbGFzc05hbWUsXG4gICAgICBzZWxlY3RlZENvbG9yLFxuICAgIH0gPSB0aGlzLmNhbGN1bGF0ZVN0eWxlKCk7XG5cbiAgICBsZXQgZHJhZ2dhYmxlUHJvcHMgPSB7fTtcbiAgICBpZiAoaXNEcmFnZ2FibGUpIHtcbiAgICAgIGRyYWdnYWJsZVByb3BzID0ge1xuICAgICAgICBvbkNsaWNrOiB0aGlzLm9uRHJhZ0V2ZW50LFxuICAgICAgICBvbkRyYWdFbmQ6IHRoaXMub25EcmFnRXZlbnQsXG4gICAgICAgIG9uRHJhZ1N0YXJ0OiB0aGlzLm9uRHJhZ0V2ZW50LFxuICAgICAgICBvbk1vdXNlRG93bjogdGhpcy5vbkRyYWdFdmVudCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaVxuICAgICAgICBjbGFzc05hbWU9e3RvcFNpdGVPdXRlckNsYXNzTmFtZX1cbiAgICAgICAgb25Ecm9wPXt0aGlzLm9uRHJhZ0V2ZW50fVxuICAgICAgICBvbkRyYWdPdmVyPXt0aGlzLm9uRHJhZ0V2ZW50fVxuICAgICAgICBvbkRyYWdFbnRlcj17dGhpcy5vbkRyYWdFdmVudH1cbiAgICAgICAgb25EcmFnTGVhdmU9e3RoaXMub25EcmFnRXZlbnR9XG4gICAgICAgIHsuLi5kcmFnZ2FibGVQcm9wc31cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3Atc2l0ZS1pbm5lclwiPlxuICAgICAgICAgIHsvKiBXZSBkb24ndCB5ZXQgc3VwcG9ydCBhbiBhY2Nlc3NpYmxlIGRyYWctYW5kLWRyb3AgaW1wbGVtZW50YXRpb24sIHNlZSBCdWcgMTU1MjAwNSAqL31cbiAgICAgICAgICB7LyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L2FuY2hvci1pcy12YWxpZCAqL31cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidG9wLXNpdGUtYnV0dG9uXCJcbiAgICAgICAgICAgIGhyZWY9e2xpbmsuc2VhcmNoVG9wU2l0ZSA/IHVuZGVmaW5lZCA6IGxpbmsudXJsfVxuICAgICAgICAgICAgdGFiSW5kZXg9XCIwXCJcbiAgICAgICAgICAgIG9uS2V5UHJlc3M9e3RoaXMub25LZXlQcmVzc31cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICAgICAgICBkcmFnZ2FibGU9e3RydWV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aWxlXCIgYXJpYS1oaWRkZW49e3RydWV9PlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ29sb3JcbiAgICAgICAgICAgICAgICAgICAgPyBcImljb24td3JhcHBlciBsZXR0ZXItZmFsbGJhY2tcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiaWNvbi13cmFwcGVyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF0YS1mYWxsYmFjaz17bGV0dGVyRmFsbGJhY2t9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3NlbGVjdGVkQ29sb3IgPyB7IGJhY2tncm91bmRDb2xvcjogc2VsZWN0ZWRDb2xvciB9IDoge319XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17aW1hZ2VDbGFzc05hbWV9IHN0eWxlPXtpbWFnZVN0eWxlfSAvPlxuICAgICAgICAgICAgICAgIHtzaG93U21hbGxGYXZpY29uICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidG9wLXNpdGUtaWNvbiBkZWZhdWx0LWljb25cIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWZhbGxiYWNrPXtzbWFsbEZhdmljb25TdHlsZSA/IFwiXCIgOiBsZXR0ZXJGYWxsYmFja31cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3NtYWxsRmF2aWNvblN0eWxlfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge2xpbmsuc2VhcmNoVG9wU2l0ZSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3Atc2l0ZS1pY29uIHNlYXJjaC10b3BzaXRlXCIgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2B0aXRsZSR7bGluay5pc1Bpbm5lZCA/IFwiIGhhcy1pY29uIHBpbm5lZFwiIDogXCJcIn0ke1xuICAgICAgICAgICAgICAgIGxpbmsudHlwZSA9PT0gU1BPQ19UWVBFIHx8IGxpbmsuc2hvd19zcG9uc29yZWRfbGFiZWxcbiAgICAgICAgICAgICAgICAgID8gXCIgc3BvbnNvcmVkXCJcbiAgICAgICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gZGlyPVwiYXV0b1wiPlxuICAgICAgICAgICAgICAgIHtsaW5rLmlzUGlubmVkICYmIDxkaXYgY2xhc3NOYW1lPVwiaWNvbiBpY29uLXBpbi1zbWFsbFwiIC8+fVxuICAgICAgICAgICAgICAgIHt0aXRsZSB8fCA8YnIgLz59XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNwb25zb3JlZC1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9wc2l0ZS1zcG9uc29yZWRcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAge2xpbmsudHlwZSA9PT0gU1BPQ19UWVBFID8gKFxuICAgICAgICAgICAgPEltcHJlc3Npb25TdGF0c1xuICAgICAgICAgICAgICBmbGlnaHRJZD17bGluay5mbGlnaHRJZH1cbiAgICAgICAgICAgICAgcm93cz17W1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGlkOiBsaW5rLmlkLFxuICAgICAgICAgICAgICAgICAgcG9zOiBsaW5rLnBvcyxcbiAgICAgICAgICAgICAgICAgIHNoaW06IGxpbmsuc2hpbSAmJiBsaW5rLnNoaW0uaW1wcmVzc2lvbixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgc291cmNlPXtUT1BfU0lURVNfU09VUkNFfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICB7LyogU2V0IHVwIGFuIGltcHJlc3Npb24gd3JhcHBlciBmb3IgdGhlIHNwb25zb3JlZCBUb3BTaXRlICovfVxuICAgICAgICAgIHtsaW5rLnNwb25zb3JlZF9wb3NpdGlvbiA/IChcbiAgICAgICAgICAgIDxUb3BTaXRlSW1wcmVzc2lvbldyYXBwZXJcbiAgICAgICAgICAgICAgdGlsZT17e1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLnByb3BzLmluZGV4ICsgMSxcbiAgICAgICAgICAgICAgICB0aWxlX2lkOiBsaW5rLnNwb25zb3JlZF90aWxlX2lkIHx8IC0xLFxuICAgICAgICAgICAgICAgIHJlcG9ydGluZ191cmw6IGxpbmsuc3BvbnNvcmVkX2ltcHJlc3Npb25fdXJsLFxuICAgICAgICAgICAgICAgIGFkdmVydGlzZXI6IHRpdGxlLnRvTG9jYWxlTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgc291cmNlOiBORVdUQUJfU09VUkNFLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5Ub3BTaXRlTGluay5kZWZhdWx0UHJvcHMgPSB7XG4gIHRpdGxlOiBcIlwiLFxuICBsaW5rOiB7fSxcbiAgaXNEcmFnZ2FibGU6IHRydWUsXG59O1xuXG5leHBvcnQgY2xhc3MgVG9wU2l0ZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBzaG93Q29udGV4dE1lbnU6IGZhbHNlIH07XG4gICAgdGhpcy5vbkxpbmtDbGljayA9IHRoaXMub25MaW5rQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTWVudVVwZGF0ZSA9IHRoaXMub25NZW51VXBkYXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogUmVwb3J0IHRvIHRlbGVtZXRyeSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBpdGVtLlxuICAgKi9cbiAgX2dldFRlbGVtZXRyeUluZm8oKSB7XG4gICAgY29uc3QgdmFsdWUgPSB7IGljb25fdHlwZTogdGhpcy5wcm9wcy5saW5rLmljb25UeXBlIH07XG4gICAgLy8gRmlsdGVyIG91dCBcIm5vdF9waW5uZWRcIiB0eXBlIGZvciBiZWluZyB0aGUgZGVmYXVsdFxuICAgIGlmICh0aGlzLnByb3BzLmxpbmsuaXNQaW5uZWQpIHtcbiAgICAgIHZhbHVlLmNhcmRfdHlwZSA9IFwicGlubmVkXCI7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmxpbmsuc2VhcmNoVG9wU2l0ZSkge1xuICAgICAgLy8gU2V0IHRoZSBjYXJkX3R5cGUgYXMgXCJzZWFyY2hcIiByZWdhcmRsZXNzIG9mIGl0cyBwaW5uaW5nIHN0YXR1c1xuICAgICAgdmFsdWUuY2FyZF90eXBlID0gXCJzZWFyY2hcIjtcbiAgICAgIHZhbHVlLnNlYXJjaF92ZW5kb3IgPSB0aGlzLnByb3BzLmxpbmsuaG9zdG5hbWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMubGluay50eXBlID09PSBTUE9DX1RZUEUgfHxcbiAgICAgIHRoaXMucHJvcHMubGluay5zcG9uc29yZWRfcG9zaXRpb25cbiAgICApIHtcbiAgICAgIHZhbHVlLmNhcmRfdHlwZSA9IFwic3BvY1wiO1xuICAgIH1cbiAgICByZXR1cm4geyB2YWx1ZSB9O1xuICB9XG5cbiAgdXNlckV2ZW50KGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlVzZXJFdmVudChcbiAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7XG4gICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgIHNvdXJjZTogVE9QX1NJVEVTX1NPVVJDRSxcbiAgICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogdGhpcy5wcm9wcy5pbmRleCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRoaXMuX2dldFRlbGVtZXRyeUluZm8oKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIG9uTGlua0NsaWNrKGV2ZW50KSB7XG4gICAgdGhpcy51c2VyRXZlbnQoXCJDTElDS1wiKTtcblxuICAgIC8vIFNwZWNpYWxseSBoYW5kbGUgYSB0b3Agc2l0ZSBsaW5rIGNsaWNrIGZvciBcInR5cGVkXCIgZnJlY2VuY3kgYm9udXMgYXNcbiAgICAvLyBzcGVjaWZpZWQgYXMgYSBwcm9wZXJ0eSBvbiB0aGUgbGluay5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHsgYWx0S2V5LCBidXR0b24sIGN0cmxLZXksIG1ldGFLZXksIHNoaWZ0S2V5IH0gPSBldmVudDtcbiAgICBpZiAoIXRoaXMucHJvcHMubGluay5zZWFyY2hUb3BTaXRlKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5PUEVOX0xJTkssXG4gICAgICAgICAgZGF0YTogT2JqZWN0LmFzc2lnbih0aGlzLnByb3BzLmxpbmssIHtcbiAgICAgICAgICAgIGV2ZW50OiB7IGFsdEtleSwgYnV0dG9uLCBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgLy8gRmlyZSBvZmYgYSBzcG9jIHNwZWNpZmljIGltcHJlc3Npb24uXG4gICAgICBpZiAodGhpcy5wcm9wcy5saW5rLnR5cGUgPT09IFNQT0NfVFlQRSkge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLkltcHJlc3Npb25TdGF0cyh7XG4gICAgICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgICAgICBjbGljazogMCxcbiAgICAgICAgICAgIHRpbGVzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5wcm9wcy5saW5rLmlkLFxuICAgICAgICAgICAgICAgIHBvczogdGhpcy5wcm9wcy5saW5rLnBvcyxcbiAgICAgICAgICAgICAgICBzaGltOiB0aGlzLnByb3BzLmxpbmsuc2hpbSAmJiB0aGlzLnByb3BzLmxpbmsuc2hpbS5jbGljayxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnByb3BzLmxpbmsuc2VuZEF0dHJpYnV0aW9uUmVxdWVzdCkge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuUEFSVE5FUl9MSU5LX0FUVFJJQlVUSU9OLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICB0YXJnZXRVUkw6IHRoaXMucHJvcHMubGluay51cmwsXG4gICAgICAgICAgICAgIHNvdXJjZTogXCJuZXd0YWJcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnByb3BzLmxpbmsuc3BvbnNvcmVkX3Bvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5wcm9wcy5saW5rLmxhYmVsIHx8IHRoaXMucHJvcHMubGluay5ob3N0bmFtZTtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19JTVBSRVNTSU9OX1NUQVRTLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICB0eXBlOiBcImNsaWNrXCIsXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLnByb3BzLmluZGV4ICsgMSxcbiAgICAgICAgICAgICAgdGlsZV9pZDogdGhpcy5wcm9wcy5saW5rLnNwb25zb3JlZF90aWxlX2lkIHx8IC0xLFxuICAgICAgICAgICAgICByZXBvcnRpbmdfdXJsOiB0aGlzLnByb3BzLmxpbmsuc3BvbnNvcmVkX2NsaWNrX3VybCxcbiAgICAgICAgICAgICAgYWR2ZXJ0aXNlcjogdGl0bGUudG9Mb2NhbGVMb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgc291cmNlOiBORVdUQUJfU09VUkNFLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5GSUxMX1NFQVJDSF9URVJNLFxuICAgICAgICAgIGRhdGE6IHsgbGFiZWw6IHRoaXMucHJvcHMubGluay5sYWJlbCB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBvbk1lbnVVcGRhdGUoaXNPcGVuKSB7XG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgdGhpcy5wcm9wcy5vbkFjdGl2YXRlKHRoaXMucHJvcHMuaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByb3BzLm9uQWN0aXZhdGUoKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCB7IGxpbmsgfSA9IHByb3BzO1xuICAgIGNvbnN0IGlzQ29udGV4dE1lbnVPcGVuID0gcHJvcHMuYWN0aXZlSW5kZXggPT09IHByb3BzLmluZGV4O1xuICAgIGNvbnN0IHRpdGxlID0gbGluay5sYWJlbCB8fCBsaW5rLmhvc3RuYW1lO1xuICAgIGxldCBtZW51T3B0aW9ucztcbiAgICBpZiAobGluay5zcG9uc29yZWRfcG9zaXRpb24pIHtcbiAgICAgIG1lbnVPcHRpb25zID0gVE9QX1NJVEVTX1NQT05TT1JFRF9QT1NJVElPTl9DT05URVhUX01FTlVfT1BUSU9OUztcbiAgICB9IGVsc2UgaWYgKGxpbmsuc2VhcmNoVG9wU2l0ZSkge1xuICAgICAgbWVudU9wdGlvbnMgPSBUT1BfU0lURVNfU0VBUkNIX1NIT1JUQ1VUU19DT05URVhUX01FTlVfT1BUSU9OUztcbiAgICB9IGVsc2UgaWYgKGxpbmsudHlwZSA9PT0gU1BPQ19UWVBFKSB7XG4gICAgICBtZW51T3B0aW9ucyA9IFRPUF9TSVRFU19TUE9DX0NPTlRFWFRfTUVOVV9PUFRJT05TO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZW51T3B0aW9ucyA9IFRPUF9TSVRFU19DT05URVhUX01FTlVfT1BUSU9OUztcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFRvcFNpdGVMaW5rXG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkxpbmtDbGlja31cbiAgICAgICAgb25EcmFnRXZlbnQ9e3RoaXMucHJvcHMub25EcmFnRXZlbnR9XG4gICAgICAgIGNsYXNzTmFtZT17YCR7cHJvcHMuY2xhc3NOYW1lIHx8IFwiXCJ9JHtcbiAgICAgICAgICBpc0NvbnRleHRNZW51T3BlbiA/IFwiIGFjdGl2ZVwiIDogXCJcIlxuICAgICAgICB9YH1cbiAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxDb250ZXh0TWVudUJ1dHRvblxuICAgICAgICAgICAgdG9vbHRpcD1cIm5ld3RhYi1tZW51LWNvbnRlbnQtdG9vbHRpcFwiXG4gICAgICAgICAgICB0b29sdGlwQXJncz17eyB0aXRsZSB9fVxuICAgICAgICAgICAgb25VcGRhdGU9e3RoaXMub25NZW51VXBkYXRlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxMaW5rTWVudVxuICAgICAgICAgICAgICBkaXNwYXRjaD17cHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIGluZGV4PXtwcm9wcy5pbmRleH1cbiAgICAgICAgICAgICAgb25VcGRhdGU9e3RoaXMub25NZW51VXBkYXRlfVxuICAgICAgICAgICAgICBvcHRpb25zPXttZW51T3B0aW9uc31cbiAgICAgICAgICAgICAgc2l0ZT17bGlua31cbiAgICAgICAgICAgICAgc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cz17bGluay50eXBlID09PSBTUE9DX1RZUEV9XG4gICAgICAgICAgICAgIHNpdGVJbmZvPXt0aGlzLl9nZXRUZWxlbWV0cnlJbmZvKCl9XG4gICAgICAgICAgICAgIHNvdXJjZT17VE9QX1NJVEVTX1NPVVJDRX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Db250ZXh0TWVudUJ1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1RvcFNpdGVMaW5rPlxuICAgICk7XG4gIH1cbn1cblRvcFNpdGUuZGVmYXVsdFByb3BzID0ge1xuICBsaW5rOiB7fSxcbiAgb25BY3RpdmF0ZSgpIHt9LFxufTtcblxuZXhwb3J0IGNsYXNzIFRvcFNpdGVQbGFjZWhvbGRlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uRWRpdEJ1dHRvbkNsaWNrID0gdGhpcy5vbkVkaXRCdXR0b25DbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25FZGl0QnV0dG9uQ2xpY2soKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7XG4gICAgICB0eXBlOiBhdC5UT1BfU0lURVNfRURJVCxcbiAgICAgIGRhdGE6IHsgaW5kZXg6IHRoaXMucHJvcHMuaW5kZXggfSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRvcFNpdGVMaW5rXG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBjbGFzc05hbWU9e2BwbGFjZWhvbGRlciAke3RoaXMucHJvcHMuY2xhc3NOYW1lIHx8IFwiXCJ9YH1cbiAgICAgICAgaXNEcmFnZ2FibGU9e2ZhbHNlfVxuICAgICAgPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImNvbnRleHQtbWVudS1idXR0b24gZWRpdC1idXR0b24gaWNvblwiXG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLW1lbnUtdG9wc2l0ZXMtcGxhY2Vob2xkZXItdG9vbHRpcFwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkVkaXRCdXR0b25DbGlja31cbiAgICAgICAgLz5cbiAgICAgIDwvVG9wU2l0ZUxpbms+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG9wU2l0ZUxpc3QgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgc3RhdGljIGdldCBERUZBVUxUX1NUQVRFKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhY3RpdmVJbmRleDogbnVsbCxcbiAgICAgIGRyYWdnZWRJbmRleDogbnVsbCxcbiAgICAgIGRyYWdnZWRTaXRlOiBudWxsLFxuICAgICAgZHJhZ2dlZFRpdGxlOiBudWxsLFxuICAgICAgdG9wU2l0ZXNQcmV2aWV3OiBudWxsLFxuICAgIH07XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0gVG9wU2l0ZUxpc3QuREVGQVVMVF9TVEFURTtcbiAgICB0aGlzLm9uRHJhZ0V2ZW50ID0gdGhpcy5vbkRyYWdFdmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25BY3RpdmF0ZSA9IHRoaXMub25BY3RpdmF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZSkge1xuICAgICAgY29uc3QgcHJldlRvcFNpdGVzID0gdGhpcy5wcm9wcy5Ub3BTaXRlcyAmJiB0aGlzLnByb3BzLlRvcFNpdGVzLnJvd3M7XG4gICAgICBjb25zdCBuZXdUb3BTaXRlcyA9IG5leHRQcm9wcy5Ub3BTaXRlcyAmJiBuZXh0UHJvcHMuVG9wU2l0ZXMucm93cztcbiAgICAgIGlmIChcbiAgICAgICAgcHJldlRvcFNpdGVzICYmXG4gICAgICAgIHByZXZUb3BTaXRlc1t0aGlzLnN0YXRlLmRyYWdnZWRJbmRleF0gJiZcbiAgICAgICAgcHJldlRvcFNpdGVzW3RoaXMuc3RhdGUuZHJhZ2dlZEluZGV4XS51cmwgPT09XG4gICAgICAgICAgdGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZS51cmwgJiZcbiAgICAgICAgKCFuZXdUb3BTaXRlc1t0aGlzLnN0YXRlLmRyYWdnZWRJbmRleF0gfHxcbiAgICAgICAgICBuZXdUb3BTaXRlc1t0aGlzLnN0YXRlLmRyYWdnZWRJbmRleF0udXJsICE9PVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZS51cmwpXG4gICAgICApIHtcbiAgICAgICAgLy8gV2UgZ290IHRoZSBuZXcgb3JkZXIgZnJvbSB0aGUgcmVkdXggc3RvcmUgdmlhIHByb3BzLiBXZSBjYW4gY2xlYXIgc3RhdGUgbm93LlxuICAgICAgICB0aGlzLnNldFN0YXRlKFRvcFNpdGVMaXN0LkRFRkFVTFRfU1RBVEUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHVzZXJFdmVudChldmVudCwgaW5kZXgpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIHNvdXJjZTogVE9QX1NJVEVTX1NPVVJDRSxcbiAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiBpbmRleCxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIG9uRHJhZ0V2ZW50KGV2ZW50LCBpbmRleCwgbGluaywgdGl0bGUpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgIGNhc2UgXCJkcmFnc3RhcnRcIjpcbiAgICAgICAgdGhpcy5kcm9wcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGRyYWdnZWRJbmRleDogaW5kZXgsXG4gICAgICAgICAgZHJhZ2dlZFNpdGU6IGxpbmssXG4gICAgICAgICAgZHJhZ2dlZFRpdGxlOiB0aXRsZSxcbiAgICAgICAgICBhY3RpdmVJbmRleDogbnVsbCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXNlckV2ZW50KFwiRFJBR1wiLCBpbmRleCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRyYWdlbmRcIjpcbiAgICAgICAgaWYgKCF0aGlzLmRyb3BwZWQpIHtcbiAgICAgICAgICAvLyBJZiB0aGVyZSB3YXMgbm8gZHJvcCBldmVudCwgcmVzZXQgdGhlIHN0YXRlIHRvIHRoZSBkZWZhdWx0LlxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoVG9wU2l0ZUxpc3QuREVGQVVMVF9TVEFURSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZHJhZ2VudGVyXCI6XG4gICAgICAgIGlmIChpbmRleCA9PT0gdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXgpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdG9wU2l0ZXNQcmV2aWV3OiBudWxsIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgdG9wU2l0ZXNQcmV2aWV3OiB0aGlzLl9tYWtlVG9wU2l0ZXNQcmV2aWV3KGluZGV4KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkcm9wXCI6XG4gICAgICAgIGlmIChpbmRleCAhPT0gdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXgpIHtcbiAgICAgICAgICB0aGlzLmRyb3BwZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgICAgdHlwZTogYXQuVE9QX1NJVEVTX0lOU0VSVCxcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHNpdGU6IHtcbiAgICAgICAgICAgICAgICAgIHVybDogdGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZS51cmwsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5zdGF0ZS5kcmFnZ2VkVGl0bGUsXG4gICAgICAgICAgICAgICAgICBjdXN0b21TY3JlZW5zaG90VVJMOiB0aGlzLnN0YXRlLmRyYWdnZWRTaXRlXG4gICAgICAgICAgICAgICAgICAgIC5jdXN0b21TY3JlZW5zaG90VVJMLFxuICAgICAgICAgICAgICAgICAgLy8gT25seSBpZiB0aGUgc2VhcmNoIHRvcHNpdGVzIGV4cGVyaW1lbnQgaXMgZW5hYmxlZFxuICAgICAgICAgICAgICAgICAgLi4uKHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUuc2VhcmNoVG9wU2l0ZSAmJiB7XG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaFRvcFNpdGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgIGRyYWdnZWRGcm9tSW5kZXg6IHRoaXMuc3RhdGUuZHJhZ2dlZEluZGV4LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMudXNlckV2ZW50KFwiRFJPUFwiLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgX2dldFRvcFNpdGVzKCkge1xuICAgIC8vIE1ha2UgYSBjb3B5IG9mIHRoZSBzaXRlcyB0byB0cnVuY2F0ZSBvciBleHRlbmQgdG8gZGVzaXJlZCBsZW5ndGhcbiAgICBsZXQgdG9wU2l0ZXMgPSB0aGlzLnByb3BzLlRvcFNpdGVzLnJvd3Muc2xpY2UoKTtcbiAgICB0b3BTaXRlcy5sZW5ndGggPSB0aGlzLnByb3BzLlRvcFNpdGVzUm93cyAqIFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVztcbiAgICByZXR1cm4gdG9wU2l0ZXM7XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhIHByZXZpZXcgb2YgdGhlIHRvcHNpdGVzIHRoYXQgd2lsbCBiZSB0aGUgcmVzdWx0IG9mIGRyb3BwaW5nIHRoZSBjdXJyZW50bHlcbiAgICogZHJhZ2dlZCBzaXRlIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAqL1xuICBfbWFrZVRvcFNpdGVzUHJldmlldyhpbmRleCkge1xuICAgIGNvbnN0IHRvcFNpdGVzID0gdGhpcy5fZ2V0VG9wU2l0ZXMoKTtcbiAgICB0b3BTaXRlc1t0aGlzLnN0YXRlLmRyYWdnZWRJbmRleF0gPSBudWxsO1xuICAgIGNvbnN0IHByZXZpZXcgPSB0b3BTaXRlcy5tYXAoc2l0ZSA9PlxuICAgICAgc2l0ZSAmJiAoc2l0ZS5pc1Bpbm5lZCB8fCBzaXRlLnNwb25zb3JlZF9wb3NpdGlvbikgPyBzaXRlIDogbnVsbFxuICAgICk7XG4gICAgY29uc3QgdW5waW5uZWQgPSB0b3BTaXRlcy5maWx0ZXIoXG4gICAgICBzaXRlID0+IHNpdGUgJiYgIXNpdGUuaXNQaW5uZWQgJiYgIXNpdGUuc3BvbnNvcmVkX3Bvc2l0aW9uXG4gICAgKTtcbiAgICBjb25zdCBzaXRlVG9JbnNlcnQgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmRyYWdnZWRTaXRlLCB7XG4gICAgICBpc1Bpbm5lZDogdHJ1ZSxcbiAgICAgIGlzRHJhZ2dlZDogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGlmICghcHJldmlld1tpbmRleF0pIHtcbiAgICAgIHByZXZpZXdbaW5kZXhdID0gc2l0ZVRvSW5zZXJ0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGaW5kIHRoZSBob2xlIHRvIHNoaWZ0IHRoZSBwaW5uZWQgc2l0ZShzKSB0b3dhcmRzLiBXZSBzaGlmdCB0b3dhcmRzIHRoZVxuICAgICAgLy8gaG9sZSBsZWZ0IGJ5IHRoZSBzaXRlIGJlaW5nIGRyYWdnZWQuXG4gICAgICBsZXQgaG9sZUluZGV4ID0gaW5kZXg7XG4gICAgICBjb25zdCBpbmRleFN0ZXAgPSBpbmRleCA+IHRoaXMuc3RhdGUuZHJhZ2dlZEluZGV4ID8gLTEgOiAxO1xuICAgICAgd2hpbGUgKHByZXZpZXdbaG9sZUluZGV4XSkge1xuICAgICAgICBob2xlSW5kZXggKz0gaW5kZXhTdGVwO1xuICAgICAgfVxuXG4gICAgICAvLyBTaGlmdCB0b3dhcmRzIHRoZSBob2xlLlxuICAgICAgY29uc3Qgc2hpZnRpbmdTdGVwID0gaW5kZXggPiB0aGlzLnN0YXRlLmRyYWdnZWRJbmRleCA/IDEgOiAtMTtcbiAgICAgIHdoaWxlIChcbiAgICAgICAgaW5kZXggPiB0aGlzLnN0YXRlLmRyYWdnZWRJbmRleCA/IGhvbGVJbmRleCA8IGluZGV4IDogaG9sZUluZGV4ID4gaW5kZXhcbiAgICAgICkge1xuICAgICAgICBsZXQgbmV4dEluZGV4ID0gaG9sZUluZGV4ICsgc2hpZnRpbmdTdGVwO1xuICAgICAgICB3aGlsZSAocHJldmlld1tuZXh0SW5kZXhdICYmIHByZXZpZXdbbmV4dEluZGV4XS5zcG9uc29yZWRfcG9zaXRpb24pIHtcbiAgICAgICAgICBuZXh0SW5kZXggKz0gc2hpZnRpbmdTdGVwO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpZXdbaG9sZUluZGV4XSA9IHByZXZpZXdbbmV4dEluZGV4XTtcbiAgICAgICAgaG9sZUluZGV4ID0gbmV4dEluZGV4O1xuICAgICAgfVxuICAgICAgcHJldmlld1tpbmRleF0gPSBzaXRlVG9JbnNlcnQ7XG4gICAgfVxuXG4gICAgLy8gRmlsbCBpbiB0aGUgcmVtYWluaW5nIGhvbGVzIHdpdGggdW5waW5uZWQgc2l0ZXMuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXByZXZpZXdbaV0pIHtcbiAgICAgICAgcHJldmlld1tpXSA9IHVucGlubmVkLnNoaWZ0KCkgfHwgbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcHJldmlldztcbiAgfVxuXG4gIG9uQWN0aXZhdGUoaW5kZXgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlSW5kZXg6IGluZGV4IH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgdG9wU2l0ZXMgPSB0aGlzLnN0YXRlLnRvcFNpdGVzUHJldmlldyB8fCB0aGlzLl9nZXRUb3BTaXRlcygpO1xuICAgIGNvbnN0IHRvcFNpdGVzVUkgPSBbXTtcbiAgICBjb25zdCBjb21tb25Qcm9wcyA9IHtcbiAgICAgIG9uRHJhZ0V2ZW50OiB0aGlzLm9uRHJhZ0V2ZW50LFxuICAgICAgZGlzcGF0Y2g6IHByb3BzLmRpc3BhdGNoLFxuICAgIH07XG4gICAgLy8gV2UgYXNzaWduIGEga2V5IHRvIGVhY2ggcGxhY2Vob2xkZXIgc2xvdC4gV2UgbmVlZCBpdCB0byBiZSBpbmRlcGVuZGVudFxuICAgIC8vIG9mIHRoZSBzbG90IGluZGV4IChpIGJlbG93KSBzbyB0aGF0IHRoZSBrZXlzIHVzZWQgc3RheSB0aGUgc2FtZSBkdXJpbmdcbiAgICAvLyBkcmFnIGFuZCBkcm9wIHJlb3JkZXJpbmcgYW5kIHRoZSB1bmRlcmx5aW5nIERPTSBub2RlcyBhcmUgcmV1c2VkLlxuICAgIC8vIFRoaXMgbW9zdGx5IChvbmx5PykgYWZmZWN0cyBsaW51eCBzbyBiZSBzdXJlIHRvIHRlc3Qgb24gbGludXggYmVmb3JlIGNoYW5naW5nLlxuICAgIGxldCBob2xlSW5kZXggPSAwO1xuXG4gICAgLy8gT24gbmFycm93IHZpZXdwb3J0cywgd2Ugb25seSBzaG93IDYgc2l0ZXMgcGVyIHJvdy4gV2UnbGwgbWFyayB0aGUgcmVzdCBhc1xuICAgIC8vIC5oaWRlLWZvci1uYXJyb3cgdG8gaGlkZSBpbiBDU1MgdmlhIEBtZWRpYSBxdWVyeS5cbiAgICBjb25zdCBtYXhOYXJyb3dWaXNpYmxlSW5kZXggPSBwcm9wcy5Ub3BTaXRlc1Jvd3MgKiA2O1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0b3BTaXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IGxpbmsgPVxuICAgICAgICB0b3BTaXRlc1tpXSAmJlxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCB0b3BTaXRlc1tpXSwge1xuICAgICAgICAgIGljb25UeXBlOiB0aGlzLnByb3BzLnRvcFNpdGVJY29uVHlwZSh0b3BTaXRlc1tpXSksXG4gICAgICAgIH0pO1xuICAgICAgY29uc3Qgc2xvdFByb3BzID0ge1xuICAgICAgICBrZXk6IGxpbmsgPyBsaW5rLnVybCA6IGhvbGVJbmRleCsrLFxuICAgICAgICBpbmRleDogaSxcbiAgICAgIH07XG4gICAgICBpZiAoaSA+PSBtYXhOYXJyb3dWaXNpYmxlSW5kZXgpIHtcbiAgICAgICAgc2xvdFByb3BzLmNsYXNzTmFtZSA9IFwiaGlkZS1mb3ItbmFycm93XCI7XG4gICAgICB9XG4gICAgICB0b3BTaXRlc1VJLnB1c2goXG4gICAgICAgICFsaW5rID8gKFxuICAgICAgICAgIDxUb3BTaXRlUGxhY2Vob2xkZXIgey4uLnNsb3RQcm9wc30gey4uLmNvbW1vblByb3BzfSAvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxUb3BTaXRlXG4gICAgICAgICAgICBsaW5rPXtsaW5rfVxuICAgICAgICAgICAgYWN0aXZlSW5kZXg9e3RoaXMuc3RhdGUuYWN0aXZlSW5kZXh9XG4gICAgICAgICAgICBvbkFjdGl2YXRlPXt0aGlzLm9uQWN0aXZhdGV9XG4gICAgICAgICAgICB7Li4uc2xvdFByb3BzfVxuICAgICAgICAgICAgey4uLmNvbW1vblByb3BzfVxuICAgICAgICAgICAgY29sb3JzPXtwcm9wcy5jb2xvcnN9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bFxuICAgICAgICBjbGFzc05hbWU9e2B0b3Atc2l0ZXMtbGlzdCR7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZSA/IFwiIGRuZC1hY3RpdmVcIiA6IFwiXCJcbiAgICAgICAgfWB9XG4gICAgICA+XG4gICAgICAgIHt0b3BTaXRlc1VJfVxuICAgICAgPC91bD5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmNvbnN0IFZJU0lCTEUgPSBcInZpc2libGVcIjtcbmNvbnN0IFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5UID0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCI7XG5cbi8vIFBlciBhbmFseXRpY2FsIHJlcXVpcmVtZW50LCB3ZSBzZXQgdGhlIG1pbmltYWwgaW50ZXJzZWN0aW9uIHJhdGlvIHRvXG4vLyAwLjUsIGFuZCBhbiBpbXByZXNzaW9uIGlzIGlkZW50aWZpZWQgd2hlbiB0aGUgd3JhcHBlZCBpdGVtIGhhcyBhdCBsZWFzdFxuLy8gNTAlIHZpc2liaWxpdHkuXG4vL1xuLy8gVGhpcyBjb25zdGFudCBpcyBleHBvcnRlZCBmb3IgdW5pdCB0ZXN0XG5leHBvcnQgY29uc3QgSU5URVJTRUNUSU9OX1JBVElPID0gMC41O1xuXG4vKipcbiAqIEltcHJlc3Npb24gd3JhcHBlciBmb3IgYSBUb3BTaXRlIHRpbGUuXG4gKlxuICogSXQgbWFrc2VzIHVzZSBvZiB0aGUgSW50ZXJzZWN0aW9uIE9ic2VydmVyIEFQSSB0byBkZXRlY3QgdGhlIHZpc2liaWxpdHksXG4gKiBhbmQgcmVsaWVzIG9uIHBhZ2UgdmlzaWJpbGl0eSB0byBlbnN1cmUgdGhlIGltcHJlc3Npb24gaXMgcmVwb3J0ZWRcbiAqIG9ubHkgd2hlbiB0aGUgY29tcG9uZW50IGlzIHZpc2libGUgb24gdGhlIHBhZ2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBUb3BTaXRlSW1wcmVzc2lvbldyYXBwZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgX2Rpc3BhdGNoSW1wcmVzc2lvblN0YXRzKCkge1xuICAgIGNvbnN0IHsgdGlsZSB9ID0gdGhpcy5wcm9wcztcblxuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuVE9QX1NJVEVTX0lNUFJFU1NJT05fU1RBVFMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0eXBlOiBcImltcHJlc3Npb25cIixcbiAgICAgICAgICAuLi50aWxlLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgc2V0SW1wcmVzc2lvbk9ic2VydmVyT3JBZGRMaXN0ZW5lcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuXG4gICAgaWYgKCFwcm9wcy5kaXNwYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgIHRoaXMuc2V0SW1wcmVzc2lvbk9ic2VydmVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIHNob3VsZCBvbmx5IGV2ZXIgc2VuZCB0aGUgbGF0ZXN0IGltcHJlc3Npb24gc3RhdHMgcGluZywgc28gcmVtb3ZlIGFueVxuICAgICAgLy8gb2xkZXIgbGlzdGVuZXJzLlxuICAgICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgICBwcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgICAgICB0aGlzLnNldEltcHJlc3Npb25PYnNlcnZlcigpO1xuICAgICAgICAgIHByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwcm9wcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYW4gaW1wcmVzc2lvbiBvYnNlcnZlciBmb3IgdGhlIHdyYXBwZWQgY29tcG9uZW50LiBJdCBtYWtlcyB1c2Ugb2ZcbiAgICogdGhlIEludGVyc2VjdGlvbiBPYnNlcnZlciBBUEkgdG8gZGV0ZWN0IGlmIHRoZSB3cmFwcGVkIGNvbXBvbmVudCBpc1xuICAgKiB2aXNpYmxlIHdpdGggYSBkZXNpcmVkIHJhdGlvLCBhbmQgb25seSBzZW5kcyBpbXByZXNzaW9uIGlmIHRoYXQncyB0aGUgY2FzZS5cbiAgICpcbiAgICogU2VlIG1vcmUgZGV0YWlscyBhYm91dCBJbnRlcnNlY3Rpb24gT2JzZXJ2ZXIgQVBJIGF0OlxuICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSW50ZXJzZWN0aW9uX09ic2VydmVyX0FQSVxuICAgKi9cbiAgc2V0SW1wcmVzc2lvbk9ic2VydmVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG5cbiAgICBpZiAoIXByb3BzLnRpbGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9oYW5kbGVJbnRlcnNlY3QgPSBlbnRyaWVzID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZW50cmllcy5zb21lKFxuICAgICAgICAgIGVudHJ5ID0+XG4gICAgICAgICAgICBlbnRyeS5pc0ludGVyc2VjdGluZyAmJlxuICAgICAgICAgICAgZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPj0gSU5URVJTRUNUSU9OX1JBVElPXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICB0aGlzLl9kaXNwYXRjaEltcHJlc3Npb25TdGF0cygpO1xuICAgICAgICB0aGlzLmltcHJlc3Npb25PYnNlcnZlci51bm9ic2VydmUodGhpcy5yZWZzLnRvcHNpdGVfaW1wcmVzc2lvbl93cmFwcGVyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgdGhyZXNob2xkOiBJTlRFUlNFQ1RJT05fUkFUSU8gfTtcbiAgICB0aGlzLmltcHJlc3Npb25PYnNlcnZlciA9IG5ldyBwcm9wcy5JbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIHRoaXMuX2hhbmRsZUludGVyc2VjdCxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuICAgIHRoaXMuaW1wcmVzc2lvbk9ic2VydmVyLm9ic2VydmUodGhpcy5yZWZzLnRvcHNpdGVfaW1wcmVzc2lvbl93cmFwcGVyKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRpbGUpIHtcbiAgICAgIHRoaXMuc2V0SW1wcmVzc2lvbk9ic2VydmVyT3JBZGRMaXN0ZW5lcigpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9oYW5kbGVJbnRlcnNlY3QgJiYgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMuaW1wcmVzc2lvbk9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnJlZnMudG9wc2l0ZV9pbXByZXNzaW9uX3dyYXBwZXIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHJlZj17XCJ0b3BzaXRlX2ltcHJlc3Npb25fd3JhcHBlclwifVxuICAgICAgICBjbGFzc05hbWU9XCJ0b3BzaXRlLWltcHJlc3Npb24tb2JzZXJ2ZXJcIlxuICAgICAgPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuVG9wU2l0ZUltcHJlc3Npb25XcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgSW50ZXJzZWN0aW9uT2JzZXJ2ZXI6IGdsb2JhbC5JbnRlcnNlY3Rpb25PYnNlcnZlcixcbiAgZG9jdW1lbnQ6IGdsb2JhbC5kb2N1bWVudCxcbiAgdGlsZTogbnVsbCxcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBIb3Jpem9udGFsUnVsZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxociBjbGFzc05hbWU9XCJkcy1oclwiIC8+O1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5pbXBvcnQgeyBGbHVlbnRPclRleHQgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9GbHVlbnRPclRleHQvRmx1ZW50T3JUZXh0XCI7XG5cbmV4cG9ydCBjbGFzcyBUb3BpYyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMub25MaW5rQ2xpY2sgPSB0aGlzLm9uTGlua0NsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkxpbmtDbGljayhldmVudCkge1xuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICAgIGV2ZW50OiBcIkNMSUNLXCIsXG4gICAgICAgICAgc291cmNlOiBcIlBPUFVMQVJfVE9QSUNTXCIsXG4gICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiAwLFxuICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICB0b3BpYzogZXZlbnQudGFyZ2V0LnRleHQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKGAgYCwgYC1gKSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB1cmwsIG5hbWUgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTYWZlQW5jaG9yXG4gICAgICAgIG9uTGlua0NsaWNrPXt0aGlzLm9uTGlua0NsaWNrfVxuICAgICAgICBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfVxuICAgICAgICB1cmw9e3VybH1cbiAgICAgID5cbiAgICAgICAge25hbWV9XG4gICAgICA8L1NhZmVBbmNob3I+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTmF2aWdhdGlvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgbGV0IGxpbmtzID0gdGhpcy5wcm9wcy5saW5rcyB8fCBbXTtcbiAgICBjb25zdCBhbGlnbm1lbnQgPSB0aGlzLnByb3BzLmFsaWdubWVudCB8fCBcImNlbnRlcmVkXCI7XG4gICAgY29uc3QgaGVhZGVyID0gdGhpcy5wcm9wcy5oZWFkZXIgfHwge307XG4gICAgY29uc3QgZW5nbGlzaCA9IHRoaXMucHJvcHMubG9jYWxlLnN0YXJ0c1dpdGgoXCJlbi1cIik7XG4gICAgY29uc3QgcHJpdmFjeU5vdGljZSA9IHRoaXMucHJvcHMucHJpdmFjeU5vdGljZVVSTCB8fCB7fTtcbiAgICBjb25zdCB7IG5ld0Zvb3RlclNlY3Rpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgY2xhc3NOYW1lID0gYGRzLW5hdmlnYXRpb24gZHMtbmF2aWdhdGlvbi0ke2FsaWdubWVudH0gJHtcbiAgICAgIG5ld0Zvb3RlclNlY3Rpb24gPyBgZHMtbmF2aWdhdGlvbi1uZXctdG9waWNzYCA6IGBgXG4gICAgfWA7XG4gICAgbGV0IHsgdGl0bGUgfSA9IGhlYWRlcjtcbiAgICBpZiAobmV3Rm9vdGVyU2VjdGlvbikge1xuICAgICAgdGl0bGUgPSB7IGlkOiBcIm5ld3RhYi1wb2NrZXQtbmV3LXRvcGljcy10aXRsZVwiIH07XG4gICAgICBpZiAodGhpcy5wcm9wcy5leHRyYUxpbmtzKSB7XG4gICAgICAgIGxpbmtzID0gW1xuICAgICAgICAgIC4uLmxpbmtzLnNsaWNlKDAsIGxpbmtzLmxlbmd0aCAtIDEpLFxuICAgICAgICAgIC4uLnRoaXMucHJvcHMuZXh0cmFMaW5rcyxcbiAgICAgICAgICBsaW5rc1tsaW5rcy5sZW5ndGggLSAxXSxcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIHt0aXRsZSAmJiBlbmdsaXNoID8gKFxuICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17dGl0bGV9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZHMtbmF2aWdhdGlvbi1oZWFkZXJcIiAvPlxuICAgICAgICAgIDwvRmx1ZW50T3JUZXh0PlxuICAgICAgICApIDogbnVsbH1cblxuICAgICAgICB7ZW5nbGlzaCA/IChcbiAgICAgICAgICA8dWw+XG4gICAgICAgICAgICB7bGlua3MgJiZcbiAgICAgICAgICAgICAgbGlua3MubWFwKHQgPT4gKFxuICAgICAgICAgICAgICAgIDxsaSBrZXk9e3QubmFtZX0+XG4gICAgICAgICAgICAgICAgICA8VG9waWNcbiAgICAgICAgICAgICAgICAgICAgdXJsPXt0LnVybH1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT17dC5uYW1lfVxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAgeyFuZXdGb290ZXJTZWN0aW9uID8gKFxuICAgICAgICAgIDxTYWZlQW5jaG9yIGNsYXNzTmFtZT1cImRzLW5hdmlnYXRpb24tcHJpdmFjeVwiIHVybD17cHJpdmFjeU5vdGljZS51cmx9PlxuICAgICAgICAgICAgPEZsdWVudE9yVGV4dCBtZXNzYWdlPXtwcml2YWN5Tm90aWNlLnRpdGxlfSAvPlxuICAgICAgICAgIDwvU2FmZUFuY2hvcj5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAge25ld0Zvb3RlclNlY3Rpb24gPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1uYXZpZ2F0aW9uLWZhbWlseVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbiBmaXJlZm94LWxvZ29cIiAvPlxuICAgICAgICAgICAgPHNwYW4+fDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24gcG9ja2V0LWxvZ29cIiAvPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZHMtbmF2aWdhdGlvbi1mYW1pbHktbWVzc2FnZVwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtcG9ja2V0LWZpcmVmb3gtZmFtaWx5XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2FmZUFuY2hvciB9IGZyb20gXCIuLi9TYWZlQW5jaG9yL1NhZmVBbmNob3JcIjtcbmltcG9ydCB7IEZsdWVudE9yVGV4dCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0ZsdWVudE9yVGV4dC9GbHVlbnRPclRleHRcIjtcblxuZXhwb3J0IGNsYXNzIFByaXZhY3lMaW5rIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BlcnRpZXMgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtcHJpdmFjeS1saW5rXCI+XG4gICAgICAgIDxTYWZlQW5jaG9yIHVybD17cHJvcGVydGllcy51cmx9PlxuICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17cHJvcGVydGllcy50aXRsZX0gLz5cbiAgICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgU2VjdGlvblRpdGxlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBoZWFkZXI6IHsgdGl0bGUsIHN1YnRpdGxlIH0sXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtc2VjdGlvbi10aXRsZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+e3RpdGxlfTwvZGl2PlxuICAgICAgICB7c3VidGl0bGUgPyA8ZGl2IGNsYXNzTmFtZT1cInN1YnRpdGxlXCI+e3N1YnRpdGxlfTwvZGl2PiA6IG51bGx9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5leHBvcnQgY29uc3Qgc2VsZWN0TGF5b3V0UmVuZGVyID0gKHsgc3RhdGUgPSB7fSwgcHJlZnMgPSB7fSwgbG9jYWxlID0gXCJcIiB9KSA9PiB7XG4gIGNvbnN0IHsgbGF5b3V0LCBmZWVkcywgc3BvY3MgfSA9IHN0YXRlO1xuICBsZXQgc3BvY0luZGV4UGxhY2VtZW50TWFwID0ge307XG5cbiAgLyogVGhpcyBmdW5jdGlvbiBmaWxscyBzcG9jIHBvc2l0aW9ucyBvbiBhIHBlciBwbGFjZW1lbnQgYmFzaXMgd2l0aCBhdmFpbGFibGUgc3BvY3MuXG4gICAqIEl0IGRvZXMgdGhpcyBieSBsb29waW5nIHRocm91Z2ggZWFjaCBwb3NpdGlvbiBmb3IgYSBwbGFjZW1lbnQgYW5kIHJlcGxhY2luZyBhIHJlYyB3aXRoIGEgc3BvYy5cbiAgICogSWYgaXQgcnVucyBvdXQgb2Ygc3BvY3Mgb3IgcG9zaXRpb25zLCBpdCBzdG9wcy5cbiAgICogSWYgaXQgc2VlcyB0aGUgc2FtZSBwbGFjZW1lbnQgYWdhaW4sIGl0IHJlbWVtYmVycyB0aGUgcHJldmlvdXMgc3BvYyBpbmRleCwgYW5kIGNvbnRpbnVlcy5cbiAgICogSWYgaXQgc2VlcyBhIGJsb2NrZWQgc3BvYywgaXQgc2tpcHMgdGhhdCBwb3NpdGlvbiBsZWF2aW5nIGluIGEgcmVndWxhciBzdG9yeS5cbiAgICovXG4gIGZ1bmN0aW9uIGZpbGxTcG9jUG9zaXRpb25zRm9yUGxhY2VtZW50KFxuICAgIGRhdGEsXG4gICAgc3BvY3NDb25maWcsXG4gICAgc3BvY3NEYXRhLFxuICAgIHBsYWNlbWVudE5hbWVcbiAgKSB7XG4gICAgaWYgKFxuICAgICAgIXNwb2NJbmRleFBsYWNlbWVudE1hcFtwbGFjZW1lbnROYW1lXSAmJlxuICAgICAgc3BvY0luZGV4UGxhY2VtZW50TWFwW3BsYWNlbWVudE5hbWVdICE9PSAwXG4gICAgKSB7XG4gICAgICBzcG9jSW5kZXhQbGFjZW1lbnRNYXBbcGxhY2VtZW50TmFtZV0gPSAwO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHRzID0gWy4uLmRhdGFdO1xuICAgIGZvciAobGV0IHBvc2l0aW9uIG9mIHNwb2NzQ29uZmlnLnBvc2l0aW9ucykge1xuICAgICAgY29uc3Qgc3BvYyA9IHNwb2NzRGF0YVtzcG9jSW5kZXhQbGFjZW1lbnRNYXBbcGxhY2VtZW50TmFtZV1dO1xuICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIHNwb2NzIGxlZnQsIHdlIGNhbiBzdG9wIGZpbGxpbmcgcG9zaXRpb25zLlxuICAgICAgaWYgKCFzcG9jKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAvLyBBIHBsYWNlbWVudCBjb3VsZCBiZSB1c2VkIGluIHR3byBzZWN0aW9ucy5cbiAgICAgIC8vIEluIHRoZXNlIGNhc2VzLCB3ZSB3YW50IHRvIG1haW50YWluIHRoZSBpbmRleCBvZiB0aGUgcHJldmlvdXMgc2VjdGlvbi5cbiAgICAgIC8vIElmIHdlIGRpZG4ndCBkbyB0aGlzLCBpdCBtaWdodCBkdXBsaWNhdGUgc3BvY3MuXG4gICAgICBzcG9jSW5kZXhQbGFjZW1lbnRNYXBbcGxhY2VtZW50TmFtZV0rKztcblxuICAgICAgLy8gQSBzcG9jIHRoYXQncyBibG9ja2VkIGlzIHJlbW92ZWQgZnJvbSB0aGUgc291cmNlIGZvciBzdWJzZXF1ZW50IG5ld3RhYiBsb2Fkcy5cbiAgICAgIC8vIElmIHdlIGhhdmUgYSBzcG9jIGluIHRoZSBzb3VyY2UgdGhhdCdzIGJsb2NrZWQsIGl0IG1lYW5zIGl0IHdhcyAqanVzdCogYmxvY2tlZCxcbiAgICAgIC8vIGFuZCBpbiB0aGlzIGNhc2UsIHdlIHNraXAgdGhpcyBwb3NpdGlvbiwgYW5kIHNob3cgYSByZWd1bGFyIHNwb2MgaW5zdGVhZC5cbiAgICAgIGlmICghc3BvY3MuYmxvY2tlZC5pbmNsdWRlcyhzcG9jLnVybCkpIHtcbiAgICAgICAgcmVzdWx0cy5zcGxpY2UocG9zaXRpb24uaW5kZXgsIDAsIHNwb2MpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgY29uc3QgcG9zaXRpb25zID0ge307XG4gIGNvbnN0IERTX0NPTVBPTkVOVFMgPSBbXG4gICAgXCJNZXNzYWdlXCIsXG4gICAgXCJUZXh0UHJvbW9cIixcbiAgICBcIlNlY3Rpb25UaXRsZVwiLFxuICAgIFwiU2lnbnVwXCIsXG4gICAgXCJOYXZpZ2F0aW9uXCIsXG4gICAgXCJDYXJkR3JpZFwiLFxuICAgIFwiQ29sbGVjdGlvbkNhcmRHcmlkXCIsXG4gICAgXCJIb3Jpem9udGFsUnVsZVwiLFxuICAgIFwiUHJpdmFjeUxpbmtcIixcbiAgXTtcblxuICBjb25zdCBmaWx0ZXJBcnJheSA9IFtdO1xuXG4gIGlmICghcHJlZnNbXCJmZWVkcy50b3BzaXRlc1wiXSkge1xuICAgIGZpbHRlckFycmF5LnB1c2goXCJUb3BTaXRlc1wiKTtcbiAgfVxuXG4gIGNvbnN0IHBvY2tldEVuYWJsZWQgPVxuICAgIHByZWZzW1wiZmVlZHMuc2VjdGlvbi50b3BzdG9yaWVzXCJdICYmIHByZWZzW1wiZmVlZHMuc3lzdGVtLnRvcHN0b3JpZXNcIl07XG4gIGlmICghcG9ja2V0RW5hYmxlZCkge1xuICAgIGZpbHRlckFycmF5LnB1c2goLi4uRFNfQ09NUE9ORU5UUyk7XG4gIH1cblxuICBjb25zdCBwbGFjZWhvbGRlckNvbXBvbmVudCA9IGNvbXBvbmVudCA9PiB7XG4gICAgaWYgKCFjb21wb25lbnQuZmVlZCkge1xuICAgICAgLy8gVE9ETyB3ZSBub3cgbmVlZCBhIHBsYWNlaG9sZGVyIGZvciB0b3BzaXRlcyBhbmQgdGV4dFByb21vLlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY29tcG9uZW50LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc3BvY3M6IFtdLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIHJlY29tbWVuZGF0aW9uczogW10sXG4gICAgfTtcblxuICAgIGxldCBpdGVtcyA9IDA7XG4gICAgaWYgKGNvbXBvbmVudC5wcm9wZXJ0aWVzICYmIGNvbXBvbmVudC5wcm9wZXJ0aWVzLml0ZW1zKSB7XG4gICAgICBpdGVtcyA9IGNvbXBvbmVudC5wcm9wZXJ0aWVzLml0ZW1zO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zOyBpKyspIHtcbiAgICAgIGRhdGEucmVjb21tZW5kYXRpb25zLnB1c2goeyBwbGFjZWhvbGRlcjogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4geyAuLi5jb21wb25lbnQsIGRhdGEgfTtcbiAgfTtcblxuICAvLyBUT0RPIHVwZGF0ZSBkZXZ0b29scyB0byBzaG93IHBsYWNlbWVudHNcbiAgY29uc3QgaGFuZGxlU3BvY3MgPSAoZGF0YSwgY29tcG9uZW50KSA9PiB7XG4gICAgbGV0IHJlc3VsdCA9IFsuLi5kYXRhXTtcbiAgICAvLyBEbyB3ZSBldmVyIGV4cGVjdCB0byBwb3NzaWJseSBoYXZlIGEgc3BvYy5cbiAgICBpZiAoXG4gICAgICBjb21wb25lbnQuc3BvY3MgJiZcbiAgICAgIGNvbXBvbmVudC5zcG9jcy5wb3NpdGlvbnMgJiZcbiAgICAgIGNvbXBvbmVudC5zcG9jcy5wb3NpdGlvbnMubGVuZ3RoXG4gICAgKSB7XG4gICAgICBjb25zdCBwbGFjZW1lbnQgPSBjb21wb25lbnQucGxhY2VtZW50IHx8IHt9O1xuICAgICAgY29uc3QgcGxhY2VtZW50TmFtZSA9IHBsYWNlbWVudC5uYW1lIHx8IFwic3BvY3NcIjtcbiAgICAgIGNvbnN0IHNwb2NzRGF0YSA9IHNwb2NzLmRhdGFbcGxhY2VtZW50TmFtZV07XG4gICAgICAvLyBXZSBleHBlY3QgYSBzcG9jLCBzcG9jcyBhcmUgbG9hZGVkLCBhbmQgdGhlIHNlcnZlciByZXR1cm5lZCBzcG9jcy5cbiAgICAgIGlmIChcbiAgICAgICAgc3BvY3MubG9hZGVkICYmXG4gICAgICAgIHNwb2NzRGF0YSAmJlxuICAgICAgICBzcG9jc0RhdGEuaXRlbXMgJiZcbiAgICAgICAgc3BvY3NEYXRhLml0ZW1zLmxlbmd0aFxuICAgICAgKSB7XG4gICAgICAgIHJlc3VsdCA9IGZpbGxTcG9jUG9zaXRpb25zRm9yUGxhY2VtZW50KFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICBjb21wb25lbnQuc3BvY3MsXG4gICAgICAgICAgc3BvY3NEYXRhLml0ZW1zLFxuICAgICAgICAgIHBsYWNlbWVudE5hbWVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDb21wb25lbnQgPSBjb21wb25lbnQgPT4ge1xuICAgIGlmIChcbiAgICAgIGNvbXBvbmVudC5zcG9jcyAmJlxuICAgICAgY29tcG9uZW50LnNwb2NzLnBvc2l0aW9ucyAmJlxuICAgICAgY29tcG9uZW50LnNwb2NzLnBvc2l0aW9ucy5sZW5ndGhcbiAgICApIHtcbiAgICAgIGNvbnN0IHBsYWNlbWVudCA9IGNvbXBvbmVudC5wbGFjZW1lbnQgfHwge307XG4gICAgICBjb25zdCBwbGFjZW1lbnROYW1lID0gcGxhY2VtZW50Lm5hbWUgfHwgXCJzcG9jc1wiO1xuICAgICAgY29uc3Qgc3BvY3NEYXRhID0gc3BvY3MuZGF0YVtwbGFjZW1lbnROYW1lXTtcbiAgICAgIGlmIChcbiAgICAgICAgc3BvY3MubG9hZGVkICYmXG4gICAgICAgIHNwb2NzRGF0YSAmJlxuICAgICAgICBzcG9jc0RhdGEuaXRlbXMgJiZcbiAgICAgICAgc3BvY3NEYXRhLml0ZW1zLmxlbmd0aFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uY29tcG9uZW50LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHNwb2NzOiBzcG9jc0RhdGEuaXRlbXNcbiAgICAgICAgICAgICAgLmZpbHRlcihzcG9jID0+IHNwb2MgJiYgIXNwb2NzLmJsb2NrZWQuaW5jbHVkZXMoc3BvYy51cmwpKVxuICAgICAgICAgICAgICAubWFwKChzcG9jLCBpbmRleCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5zcG9jLFxuICAgICAgICAgICAgICAgIHBvczogaW5kZXgsXG4gICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgLi4uY29tcG9uZW50LFxuICAgICAgZGF0YToge1xuICAgICAgICBzcG9jczogW10sXG4gICAgICB9LFxuICAgIH07XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ29tcG9uZW50V2l0aEZlZWQgPSBjb21wb25lbnQgPT4ge1xuICAgIHBvc2l0aW9uc1tjb21wb25lbnQudHlwZV0gPSBwb3NpdGlvbnNbY29tcG9uZW50LnR5cGVdIHx8IDA7XG4gICAgbGV0IGRhdGEgPSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnM6IFtdLFxuICAgIH07XG5cbiAgICBjb25zdCBmZWVkID0gZmVlZHMuZGF0YVtjb21wb25lbnQuZmVlZC51cmxdO1xuICAgIGlmIChmZWVkICYmIGZlZWQuZGF0YSkge1xuICAgICAgZGF0YSA9IHtcbiAgICAgICAgLi4uZmVlZC5kYXRhLFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFsuLi4oZmVlZC5kYXRhLnJlY29tbWVuZGF0aW9ucyB8fCBbXSldLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoY29tcG9uZW50ICYmIGNvbXBvbmVudC5wcm9wZXJ0aWVzICYmIGNvbXBvbmVudC5wcm9wZXJ0aWVzLm9mZnNldCkge1xuICAgICAgZGF0YSA9IHtcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgcmVjb21tZW5kYXRpb25zOiBkYXRhLnJlY29tbWVuZGF0aW9ucy5zbGljZShcbiAgICAgICAgICBjb21wb25lbnQucHJvcGVydGllcy5vZmZzZXRcbiAgICAgICAgKSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZGF0YSA9IHtcbiAgICAgIC4uLmRhdGEsXG4gICAgICByZWNvbW1lbmRhdGlvbnM6IGhhbmRsZVNwb2NzKGRhdGEucmVjb21tZW5kYXRpb25zLCBjb21wb25lbnQpLFxuICAgIH07XG5cbiAgICBsZXQgaXRlbXMgPSAwO1xuICAgIGlmIChjb21wb25lbnQucHJvcGVydGllcyAmJiBjb21wb25lbnQucHJvcGVydGllcy5pdGVtcykge1xuICAgICAgaXRlbXMgPSBNYXRoLm1pbihjb21wb25lbnQucHJvcGVydGllcy5pdGVtcywgZGF0YS5yZWNvbW1lbmRhdGlvbnMubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvLyBsb29wIHRocm91Z2ggYSBjb21wb25lbnQgaXRlbXNcbiAgICAvLyBTdG9yZSB0aGUgaXRlbXMgcG9zaXRpb24gc2VxdWVudGlhbGx5IGZvciBtdWx0aXBsZSBjb21wb25lbnRzIG9mIHRoZSBzYW1lIHR5cGUuXG4gICAgLy8gRXhhbXBsZTogQSBzZWNvbmQgY2FyZCBncmlkIHN0YXJ0cyBwb3Mgb2Zmc2V0IGZyb20gdGhlIGxhc3QgY2FyZCBncmlkLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXM7IGkrKykge1xuICAgICAgZGF0YS5yZWNvbW1lbmRhdGlvbnNbaV0gPSB7XG4gICAgICAgIC4uLmRhdGEucmVjb21tZW5kYXRpb25zW2ldLFxuICAgICAgICBwb3M6IHBvc2l0aW9uc1tjb21wb25lbnQudHlwZV0rKyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgLi4uY29tcG9uZW50LCBkYXRhIH07XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyTGF5b3V0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHJlbmRlcmVkTGF5b3V0QXJyYXkgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJvdyBvZiBsYXlvdXQuZmlsdGVyKFxuICAgICAgciA9PiByLmNvbXBvbmVudHMuZmlsdGVyKGMgPT4gIWZpbHRlckFycmF5LmluY2x1ZGVzKGMudHlwZSkpLmxlbmd0aFxuICAgICkpIHtcbiAgICAgIGxldCBjb21wb25lbnRzID0gW107XG4gICAgICByZW5kZXJlZExheW91dEFycmF5LnB1c2goe1xuICAgICAgICAuLi5yb3csXG4gICAgICAgIGNvbXBvbmVudHMsXG4gICAgICB9KTtcbiAgICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIHJvdy5jb21wb25lbnRzLmZpbHRlcihcbiAgICAgICAgYyA9PiAhZmlsdGVyQXJyYXkuaW5jbHVkZXMoYy50eXBlKVxuICAgICAgKSkge1xuICAgICAgICBjb25zdCBzcG9jc0NvbmZpZyA9IGNvbXBvbmVudC5zcG9jcztcbiAgICAgICAgaWYgKHNwb2NzQ29uZmlnIHx8IGNvbXBvbmVudC5mZWVkKSB7XG4gICAgICAgICAgLy8gVE9ETyBtYWtlIHN1cmUgdGhpcyBzdGlsbCB3b3JrcyBmb3IgZGlmZmVyZW50IGxvYWRpbmcgY2FzZXMuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKGNvbXBvbmVudC5mZWVkICYmICFmZWVkcy5kYXRhW2NvbXBvbmVudC5mZWVkLnVybF0pIHx8XG4gICAgICAgICAgICAoc3BvY3NDb25maWcgJiZcbiAgICAgICAgICAgICAgc3BvY3NDb25maWcucG9zaXRpb25zICYmXG4gICAgICAgICAgICAgIHNwb2NzQ29uZmlnLnBvc2l0aW9ucy5sZW5ndGggJiZcbiAgICAgICAgICAgICAgIXNwb2NzLmxvYWRlZClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucHVzaChwbGFjZWhvbGRlckNvbXBvbmVudChjb21wb25lbnQpKTtcbiAgICAgICAgICAgIHJldHVybiByZW5kZXJlZExheW91dEFycmF5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29tcG9uZW50LmZlZWQpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucHVzaChoYW5kbGVDb21wb25lbnRXaXRoRmVlZChjb21wb25lbnQpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKGhhbmRsZUNvbXBvbmVudChjb21wb25lbnQpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlcmVkTGF5b3V0QXJyYXk7XG4gIH07XG5cbiAgY29uc3QgbGF5b3V0UmVuZGVyID0gcmVuZGVyTGF5b3V0KCk7XG5cbiAgcmV0dXJuIHsgbGF5b3V0UmVuZGVyIH07XG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgVG9wU2l0ZXMgYXMgT2xkVG9wU2l0ZXMgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlc1wiO1xuaW1wb3J0IHsgVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XIH0gZnJvbSBcImNvbW1vbi9SZWR1Y2Vycy5qc21cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIF9Ub3BTaXRlcyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAvLyBGaW5kIGEgU1BPQyB0aGF0IGRvZXNuJ3QgYWxyZWFkeSBleGlzdCBpbiBVc2VyJ3MgVG9wU2l0ZXNcbiAgZ2V0Rmlyc3RBdmFpbGFibGVTcG9jKHRvcFNpdGVzLCBkYXRhKSB7XG4gICAgY29uc3QgeyBzcG9jcyB9ID0gZGF0YTtcbiAgICBpZiAoIXNwb2NzIHx8IHNwb2NzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgdXNlclRvcFNpdGVzID0gbmV3IFNldChcbiAgICAgIHRvcFNpdGVzLm1hcCh0b3BTaXRlID0+IHRvcFNpdGUgJiYgdG9wU2l0ZS51cmwpXG4gICAgKTtcblxuICAgIC8vIFdlIFwiY2xlYW4gdXJsc1wiIHdpdGggaHR0cCBpbiBUb3BTaXRlRm9ybS5qc3hcbiAgICAvLyBTcG9jIGRvbWFpbnMgYXJlIGluIHRoZSBmb3JtYXQgJ3Nwb25zb3JuYW1lLmNvbSdcbiAgICByZXR1cm4gc3BvY3MuZmluZChcbiAgICAgIHNwb2MgPT5cbiAgICAgICAgIXVzZXJUb3BTaXRlcy5oYXMoc3BvYy51cmwpICYmXG4gICAgICAgICF1c2VyVG9wU2l0ZXMuaGFzKGBodHRwOi8vJHtzcG9jLmRvbWFpbn1gKSAmJlxuICAgICAgICAhdXNlclRvcFNpdGVzLmhhcyhgaHR0cHM6Ly8ke3Nwb2MuZG9tYWlufWApICYmXG4gICAgICAgICF1c2VyVG9wU2l0ZXMuaGFzKGBodHRwOi8vd3d3LiR7c3BvYy5kb21haW59YCkgJiZcbiAgICAgICAgIXVzZXJUb3BTaXRlcy5oYXMoYGh0dHBzOi8vd3d3LiR7c3BvYy5kb21haW59YClcbiAgICApO1xuICB9XG5cbiAgLy8gRmluZCB0aGUgZmlyc3QgZW1wdHkgb3IgdW5waW5uZWQgaW5kZXggd2UgY2FuIHBsYWNlIHRoZSBTUE9DIGluLlxuICAvLyBSZXR1cm4gLTEgaWYgbm8gYXZhaWxhYmxlIGluZGV4IGFuZCB3ZSBzaG91bGQgcHVzaCBpdCBhdCB0aGUgZW5kLlxuICBnZXRGaXJzdEF2YWlsYWJsZUluZGV4KHRvcFNpdGVzLCBwcm9tb0FsaWdubWVudCkge1xuICAgIGlmIChwcm9tb0FsaWdubWVudCA9PT0gXCJsZWZ0XCIpIHtcbiAgICAgIHJldHVybiB0b3BTaXRlcy5maW5kSW5kZXgodG9wU2l0ZSA9PiAhdG9wU2l0ZSB8fCAhdG9wU2l0ZS5pc1Bpbm5lZCk7XG4gICAgfVxuXG4gICAgLy8gVGhlIHJvdyBpc24ndCBmdWxsIHNvIHdlIGNhbiBwdXNoIGl0IHRvIHRoZSBlbmQgb2YgdGhlIHJvdy5cbiAgICBpZiAodG9wU2l0ZXMubGVuZ3RoIDwgVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHJvdyBpcyBmdWxsLCB3ZSBjYW4gY2hlY2sgdGhlIHJvdyBmaXJzdCBmb3IgdW5waW5uZWQgdG9wc2l0ZXMgdG8gcmVwbGFjZS5cbiAgICAvLyBFbHNlIHdlIGNhbiBjaGVjayBhZnRlciB0aGUgcm93LiBUaGlzIGJlaGF2aW9yIGlzIGhvdyB1bnBpbm5lZCB0b3BzaXRlcyBtb3ZlIHdoaWxlIGRyYWcgYW5kIGRyb3AuXG4gICAgbGV0IGVuZE9mUm93ID0gVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XIC0gMTtcbiAgICBmb3IgKGxldCBpID0gZW5kT2ZSb3c7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBpZiAoIXRvcFNpdGVzW2ldIHx8ICF0b3BTaXRlc1tpXS5pc1Bpbm5lZCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gZW5kT2ZSb3cgKyAxOyBpIDwgdG9wU2l0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdG9wU2l0ZXNbaV0gfHwgIXRvcFNpdGVzW2ldLmlzUGlubmVkKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIGluc2VydFNwb2NDb250ZW50KFRvcFNpdGVzLCBkYXRhLCBwcm9tb0FsaWdubWVudCkge1xuICAgIGlmIChcbiAgICAgICFUb3BTaXRlcy5yb3dzIHx8XG4gICAgICBUb3BTaXRlcy5yb3dzLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgIWRhdGEuc3BvY3MgfHxcbiAgICAgIGRhdGEuc3BvY3MubGVuZ3RoID09PSAwXG4gICAgKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBsZXQgdG9wU2l0ZXMgPSBbLi4uVG9wU2l0ZXMucm93c107XG4gICAgY29uc3QgdG9wU2l0ZVNwb2MgPSB0aGlzLmdldEZpcnN0QXZhaWxhYmxlU3BvYyh0b3BTaXRlcywgZGF0YSk7XG5cbiAgICBpZiAoIXRvcFNpdGVTcG9jKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBsaW5rID0ge1xuICAgICAgY3VzdG9tU2NyZWVuc2hvdFVSTDogdG9wU2l0ZVNwb2MuaW1hZ2Vfc3JjLFxuICAgICAgdHlwZTogXCJTUE9DXCIsXG4gICAgICBsYWJlbDogdG9wU2l0ZVNwb2Muc3BvbnNvcixcbiAgICAgIHRpdGxlOiB0b3BTaXRlU3BvYy5zcG9uc29yLFxuICAgICAgdXJsOiB0b3BTaXRlU3BvYy51cmwsXG4gICAgICBmbGlnaHRJZDogdG9wU2l0ZVNwb2MuZmxpZ2h0X2lkLFxuICAgICAgaWQ6IHRvcFNpdGVTcG9jLmlkLFxuICAgICAgZ3VpZDogdG9wU2l0ZVNwb2MuaWQsXG4gICAgICBzaGltOiB0b3BTaXRlU3BvYy5zaGltLFxuICAgICAgLy8gRm9yIG5vdyB3ZSBhcmUgYXNzdW1pbmcgcG9zaXRpb24gYmFzZWQgb24gaW50ZW5kZWQgcG9zaXRpb24uXG4gICAgICAvLyBBY3R1YWwgcG9zaXRpb24gY2FuIHNoaWZ0IGJhc2VkIG9uIG90aGVyIGNvbnRlbnQuXG4gICAgICAvLyBXZSBhbHNvIGhhcmQgY29kZSBsZWZ0IGFuZCByaWdodCB0byBiZSAwIGFuZCA3LlxuICAgICAgLy8gV2Ugc2VuZCB0aGUgaW50ZW5kZWQgcG9zdGlvbiBpbiB0aGUgcGluZy5cbiAgICAgIHBvczogcHJvbW9BbGlnbm1lbnQgPT09IFwibGVmdFwiID8gMCA6IDcsXG4gICAgfTtcblxuICAgIGNvbnN0IGZpcnN0QXZhaWxhYmxlSW5kZXggPSB0aGlzLmdldEZpcnN0QXZhaWxhYmxlSW5kZXgoXG4gICAgICB0b3BTaXRlcyxcbiAgICAgIHByb21vQWxpZ25tZW50XG4gICAgKTtcblxuICAgIGlmIChmaXJzdEF2YWlsYWJsZUluZGV4ID09PSAtMSkge1xuICAgICAgdG9wU2l0ZXMucHVzaChsaW5rKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm9ybWFsIGluc2VydGlvbiB3aWxsIG5vdCB3b3JrIHNpbmNlIHBpbm5lZCB0b3BzaXRlcyBhcmUgaW4gdGhlaXIgY29ycmVjdCBpbmRleCBhbHJlYWR5XG4gICAgICAvLyBTaW1pbGFyIGxvZ2ljIGlzIGRvbmUgdG8gaGFuZGxlIGRyYWcgYW5kIGRyb3Agd2l0aCBwaW5uZWQgdG9wc2l0ZXMgaW4gVG9wU2l0ZS5qc3hcblxuICAgICAgbGV0IHNoaWZ0ZWRUb3BTaXRlID0gdG9wU2l0ZXNbZmlyc3RBdmFpbGFibGVJbmRleF07XG4gICAgICBsZXQgaW5kZXggPSBmaXJzdEF2YWlsYWJsZUluZGV4ICsgMTtcblxuICAgICAgLy8gU2hpZnQgdW5waW5uZWQgdG9wc2l0ZXMgdG8gdGhlIHJpZ2h0IGJ5IGZpbmRpbmcgdGhlIG5leHQgdW5waW5uZWQgdG9wc2l0ZSB0byByZXBsYWNlXG4gICAgICB3aGlsZSAoc2hpZnRlZFRvcFNpdGUpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB0b3BTaXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICB0b3BTaXRlcy5wdXNoKHNoaWZ0ZWRUb3BTaXRlKTtcbiAgICAgICAgICBzaGlmdGVkVG9wU2l0ZSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAodG9wU2l0ZXNbaW5kZXhdICYmIHRvcFNpdGVzW2luZGV4XS5pc1Bpbm5lZCkge1xuICAgICAgICAgIGluZGV4ICs9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbmV4dFRvcFNpdGUgPSB0b3BTaXRlc1tpbmRleF07XG4gICAgICAgICAgdG9wU2l0ZXNbaW5kZXhdID0gc2hpZnRlZFRvcFNpdGU7XG4gICAgICAgICAgc2hpZnRlZFRvcFNpdGUgPSBuZXh0VG9wU2l0ZTtcbiAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRvcFNpdGVzW2ZpcnN0QXZhaWxhYmxlSW5kZXhdID0gbGluaztcbiAgICB9XG5cbiAgICByZXR1cm4geyAuLi5Ub3BTaXRlcywgcm93czogdG9wU2l0ZXMgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGhlYWRlciA9IHt9LCBkYXRhLCBwcm9tb0FsaWdubWVudCwgVG9wU2l0ZXMgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBUb3BTaXRlc1dpdGhTcG9jID1cbiAgICAgIFRvcFNpdGVzICYmIGRhdGEgJiYgcHJvbW9BbGlnbm1lbnRcbiAgICAgICAgPyB0aGlzLmluc2VydFNwb2NDb250ZW50KFRvcFNpdGVzLCBkYXRhLCBwcm9tb0FsaWdubWVudClcbiAgICAgICAgOiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtgZHMtdG9wLXNpdGVzICR7VG9wU2l0ZXNXaXRoU3BvYyA/IFwidG9wLXNpdGVzLXNwb2NcIiA6IFwiXCJ9YH1cbiAgICAgID5cbiAgICAgICAgPE9sZFRvcFNpdGVzXG4gICAgICAgICAgaXNGaXhlZD17dHJ1ZX1cbiAgICAgICAgICB0aXRsZT17aGVhZGVyLnRpdGxlfVxuICAgICAgICAgIFRvcFNpdGVzV2l0aFNwb2M9e1RvcFNpdGVzV2l0aFNwb2N9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBUb3BTaXRlcyA9IGNvbm5lY3Qoc3RhdGUgPT4gKHsgVG9wU2l0ZXM6IHN0YXRlLlRvcFNpdGVzIH0pKShcbiAgX1RvcFNpdGVzXG4pO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuLyogZ2xvYmFscyBDb250ZW50U2VhcmNoVUlDb250cm9sbGVyLCBDb250ZW50U2VhcmNoSGFuZG9mZlVJQ29udHJvbGxlciAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IElTX05FV1RBQiB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBfU2VhcmNoIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25TZWFyY2hDbGljayA9IHRoaXMub25TZWFyY2hDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TZWFyY2hIYW5kb2ZmQ2xpY2sgPSB0aGlzLm9uU2VhcmNoSGFuZG9mZkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblNlYXJjaEhhbmRvZmZQYXN0ZSA9IHRoaXMub25TZWFyY2hIYW5kb2ZmUGFzdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU2VhcmNoSGFuZG9mZkRyb3AgPSB0aGlzLm9uU2VhcmNoSGFuZG9mZkRyb3AuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uSW5wdXRNb3VudCA9IHRoaXMub25JbnB1dE1vdW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbklucHV0TW91bnRIYW5kb2ZmID0gdGhpcy5vbklucHV0TW91bnRIYW5kb2ZmLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblNlYXJjaEhhbmRvZmZCdXR0b25Nb3VudCA9IHRoaXMub25TZWFyY2hIYW5kb2ZmQnV0dG9uTW91bnQuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICB9XG5cbiAgaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAvLyBBbHNvIHRyYWNrIHNlYXJjaCBldmVudHMgd2l0aCBvdXIgb3duIHRlbGVtZXRyeVxuICAgIGlmIChldmVudC5kZXRhaWwudHlwZSA9PT0gXCJTZWFyY2hcIikge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Vc2VyRXZlbnQoeyBldmVudDogXCJTRUFSQ0hcIiB9KSk7XG4gICAgfVxuICB9XG5cbiAgb25TZWFyY2hDbGljayhldmVudCkge1xuICAgIHdpbmRvdy5nQ29udGVudFNlYXJjaENvbnRyb2xsZXIuc2VhcmNoKGV2ZW50KTtcbiAgfVxuXG4gIGRvU2VhcmNoSGFuZG9mZih0ZXh0KSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oeyB0eXBlOiBhdC5IQU5ET0ZGX1NFQVJDSF9UT19BV0VTT01FQkFSLCBkYXRhOiB7IHRleHQgfSB9KVxuICAgICk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7IHR5cGU6IGF0LkZBS0VfRk9DVVNfU0VBUkNIIH0pO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuVXNlckV2ZW50KHsgZXZlbnQ6IFwiU0VBUkNIX0hBTkRPRkZcIiB9KSk7XG4gICAgaWYgKHRleHQpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyB0eXBlOiBhdC5ESVNBQkxFX1NFQVJDSCB9KTtcbiAgICB9XG4gIH1cblxuICBvblNlYXJjaEhhbmRvZmZDbGljayhldmVudCkge1xuICAgIC8vIFdoZW4gc2VhcmNoIGhhbmQtb2ZmIGlzIGVuYWJsZWQsIHdlIHJlbmRlciBhIGJpZyBidXR0b24gdGhhdCBpcyBzdHlsZWQgdG9cbiAgICAvLyBsb29rIGxpa2UgYSBzZWFyY2ggdGV4dGJveC4gSWYgdGhlIGJ1dHRvbiBpcyBjbGlja2VkLCB3ZSBzdHlsZVxuICAgIC8vIHRoZSBidXR0b24gYXMgaWYgaXQgd2FzIGEgZm9jdXNlZCBzZWFyY2ggYm94IGFuZCBzaG93IGEgZmFrZSBjdXJzb3IgYnV0XG4gICAgLy8gcmVhbGx5IGZvY3VzIHRoZSBhd2Vzb21lYmFyIHdpdGhvdXQgdGhlIGZvY3VzIHN0eWxlcyAoXCJoaWRkZW4gZm9jdXNcIikuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmRvU2VhcmNoSGFuZG9mZigpO1xuICB9XG5cbiAgb25TZWFyY2hIYW5kb2ZmUGFzdGUoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuZG9TZWFyY2hIYW5kb2ZmKGV2ZW50LmNsaXBib2FyZERhdGEuZ2V0RGF0YShcIlRleHRcIikpO1xuICB9XG5cbiAgb25TZWFyY2hIYW5kb2ZmRHJvcChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgbGV0IHRleHQgPSBldmVudC5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcInRleHRcIik7XG4gICAgaWYgKHRleHQpIHtcbiAgICAgIHRoaXMuZG9TZWFyY2hIYW5kb2ZmKHRleHQpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGRlbGV0ZSB3aW5kb3cuZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyO1xuICB9XG5cbiAgb25JbnB1dE1vdW50KGlucHV0KSB7XG4gICAgaWYgKGlucHV0KSB7XG4gICAgICAvLyBUaGUgXCJoZWFsdGhSZXBvcnRLZXlcIiBhbmQgbmVlZHMgdG8gYmUgXCJuZXd0YWJcIiBvciBcImFib3V0aG9tZVwiIHNvIHRoYXRcbiAgICAgIC8vIEJyb3dzZXJVc2FnZVRlbGVtZXRyeS5qc20ga25vd3MgdG8gaGFuZGxlIGV2ZW50cyB3aXRoIHRoaXMgbmFtZSwgYW5kXG4gICAgICAvLyBjYW4gYWRkIHRoZSBhcHByb3ByaWF0ZSB0ZWxlbWV0cnkgcHJvYmVzIGZvciBzZWFyY2guIFdpdGhvdXQgdGhlIGNvcnJlY3RcbiAgICAgIC8vIG5hbWUsIGNlcnRhaW4gdGVzdHMgbGlrZSBicm93c2VyX1VzYWdlVGVsZW1ldHJ5X2NvbnRlbnQuanMgd2lsbCBmYWlsXG4gICAgICAvLyAoU2VlIGdpdGh1YiB0aWNrZXQgIzIzNDggZm9yIG1vcmUgZGV0YWlscylcbiAgICAgIGNvbnN0IGhlYWx0aFJlcG9ydEtleSA9IElTX05FV1RBQiA/IFwibmV3dGFiXCIgOiBcImFib3V0aG9tZVwiO1xuXG4gICAgICAvLyBUaGUgXCJzZWFyY2hTb3VyY2VcIiBuZWVkcyB0byBiZSBcIm5ld3RhYlwiIG9yIFwiaG9tZXBhZ2VcIiBhbmQgaXMgc2VudCB3aXRoXG4gICAgICAvLyB0aGUgc2VhcmNoIGRhdGEgYW5kIGFjdHMgYXMgY29udGV4dCBmb3IgdGhlIHNlYXJjaCByZXF1ZXN0IChTZWVcbiAgICAgIC8vIG5zSVNlYXJjaEVuZ2luZS5nZXRTdWJtaXNzaW9uKS4gSXQgaXMgbmVjZXNzYXJ5IHNvIHRoYXQgc2VhcmNoIGVuZ2luZVxuICAgICAgLy8gcGx1Z2lucyBjYW4gY29ycmVjdGx5IGF0cmlidXRlIHJlZmVycmFscy4gKFNlZSBnaXRodWIgdGlja2V0ICMzMzIxIGZvclxuICAgICAgLy8gbW9yZSBkZXRhaWxzKVxuICAgICAgY29uc3Qgc2VhcmNoU291cmNlID0gSVNfTkVXVEFCID8gXCJuZXd0YWJcIiA6IFwiaG9tZXBhZ2VcIjtcblxuICAgICAgLy8gZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyIG5lZWRzIHRvIGV4aXN0IGFzIGEgZ2xvYmFsIHNvIHRoYXQgdGVzdHMgZm9yXG4gICAgICAvLyB0aGUgZXhpc3RpbmcgYWJvdXQ6aG9tZSBjYW4gZmluZCBpdDsgYW5kIHNvIGl0IGFsbG93cyB0aGVzZSB0ZXN0cyB0byBwYXNzLlxuICAgICAgLy8gSW4gdGhlIGZ1dHVyZSwgd2hlbiBhY3Rpdml0eSBzdHJlYW0gaXMgZGVmYXVsdCBhYm91dDpob21lLCB0aGlzIGNhbiBiZSByZW5hbWVkXG4gICAgICB3aW5kb3cuZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyID0gbmV3IENvbnRlbnRTZWFyY2hVSUNvbnRyb2xsZXIoXG4gICAgICAgIGlucHV0LFxuICAgICAgICBpbnB1dC5wYXJlbnROb2RlLFxuICAgICAgICBoZWFsdGhSZXBvcnRLZXksXG4gICAgICAgIHNlYXJjaFNvdXJjZVxuICAgICAgKTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJDb250ZW50U2VhcmNoQ2xpZW50XCIsIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyID0gbnVsbDtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJDb250ZW50U2VhcmNoQ2xpZW50XCIsIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIG9uSW5wdXRNb3VudEhhbmRvZmYoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQpIHtcbiAgICAgIC8vIFRoZSBoYW5kb2ZmIFVJIGNvbnRyb2xsZXIgaGVscHMgdXMgc2V0IHRoZSBzZWFyY2ggaWNvbiBhbmQgcmVhY3RzIHRvXG4gICAgICAvLyBjaGFuZ2VzIHRvIGRlZmF1bHQgZW5naW5lIHRvIGtlZXAgZXZlcnl0aGluZyBpbiBzeW5jLlxuICAgICAgdGhpcy5faGFuZG9mZlNlYXJjaENvbnRyb2xsZXIgPSBuZXcgQ29udGVudFNlYXJjaEhhbmRvZmZVSUNvbnRyb2xsZXIoKTtcbiAgICB9XG4gIH1cblxuICBnZXREZWZhdWx0RW5naW5lTmFtZSgpIHtcbiAgICAvLyBfaGFuZG9mZlNlYXJjaENvbnRyb2xsZXIgd2lsbCBtYW5hZ2UgZW5naW5lIG5hbWVzIG9uY2UgaXQgaXMgaW5pdGlhbGl6ZWQuXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1widXJsYmFyLnBsYWNlaG9sZGVyTmFtZVwiXTtcbiAgfVxuXG4gIGdldEhhbmRvZmZJbnB1dEwxMG5BdHRyaWJ1dGVzKCkge1xuICAgIGxldCBkZWZhdWx0RW5naW5lTmFtZSA9IHRoaXMuZ2V0RGVmYXVsdEVuZ2luZU5hbWUoKTtcbiAgICByZXR1cm4gZGVmYXVsdEVuZ2luZU5hbWVcbiAgICAgID8ge1xuICAgICAgICAgIFwiZGF0YS1sMTBuLWlkXCI6IFwibmV3dGFiLXNlYXJjaC1ib3gtaGFuZG9mZi1pbnB1dFwiLFxuICAgICAgICAgIFwiZGF0YS1sMTBuLWFyZ3NcIjogYHtcImVuZ2luZVwiOiBcIiR7ZGVmYXVsdEVuZ2luZU5hbWV9XCJ9YCxcbiAgICAgICAgfVxuICAgICAgOiB7XG4gICAgICAgICAgXCJkYXRhLWwxMG4taWRcIjogXCJuZXd0YWItc2VhcmNoLWJveC1oYW5kb2ZmLWlucHV0LW5vLWVuZ2luZVwiLFxuICAgICAgICB9O1xuICB9XG5cbiAgZ2V0SGFuZG9mZlRleHRMMTBuQXR0cmlidXRlcygpIHtcbiAgICBsZXQgZGVmYXVsdEVuZ2luZU5hbWUgPSB0aGlzLmdldERlZmF1bHRFbmdpbmVOYW1lKCk7XG4gICAgcmV0dXJuIGRlZmF1bHRFbmdpbmVOYW1lXG4gICAgICA/IHtcbiAgICAgICAgICBcImRhdGEtbDEwbi1pZFwiOiBcIm5ld3RhYi1zZWFyY2gtYm94LWhhbmRvZmYtdGV4dFwiLFxuICAgICAgICAgIFwiZGF0YS1sMTBuLWFyZ3NcIjogYHtcImVuZ2luZVwiOiBcIiR7ZGVmYXVsdEVuZ2luZU5hbWV9XCJ9YCxcbiAgICAgICAgfVxuICAgICAgOiB7XG4gICAgICAgICAgXCJkYXRhLWwxMG4taWRcIjogXCJuZXd0YWItc2VhcmNoLWJveC1oYW5kb2ZmLXRleHQtbm8tZW5naW5lXCIsXG4gICAgICAgIH07XG4gIH1cblxuICBvblNlYXJjaEhhbmRvZmZCdXR0b25Nb3VudChidXR0b24pIHtcbiAgICAvLyBLZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBidXR0b24gZm9yIHVzZSBkdXJpbmcgXCJwYXN0ZVwiIGV2ZW50IGhhbmRsaW5nLlxuICAgIHRoaXMuX3NlYXJjaEhhbmRvZmZCdXR0b24gPSBidXR0b247XG4gIH1cblxuICAvKlxuICAgKiBEbyBub3QgY2hhbmdlIHRoZSBJRCBvbiB0aGUgaW5wdXQgZmllbGQsIGFzIGxlZ2FjeSBuZXd0YWIgY29kZVxuICAgKiBzcGVjaWZpY2FsbHkgbG9va3MgZm9yIHRoZSBpZCAnbmV3dGFiLXNlYXJjaC10ZXh0JyBvbiBpbnB1dCBmaWVsZHNcbiAgICogaW4gb3JkZXIgdG8gZXhlY3V0ZSBzZWFyY2hlcyBpbiB2YXJpb3VzIHRlc3RzXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgd3JhcHBlckNsYXNzTmFtZSA9IFtcbiAgICAgIFwic2VhcmNoLXdyYXBwZXJcIixcbiAgICAgIHRoaXMucHJvcHMuZGlzYWJsZSAmJiBcInNlYXJjaC1kaXNhYmxlZFwiLFxuICAgICAgdGhpcy5wcm9wcy5mYWtlRm9jdXMgJiYgXCJmYWtlLWZvY3VzXCIsXG4gICAgXVxuICAgICAgLmZpbHRlcih2ID0+IHYpXG4gICAgICAuam9pbihcIiBcIik7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3dyYXBwZXJDbGFzc05hbWV9PlxuICAgICAgICB7dGhpcy5wcm9wcy5zaG93TG9nbyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dvLWFuZC13b3JkbWFya1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dvXCIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid29yZG1hcmtcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICB7IXRoaXMucHJvcHMuaGFuZG9mZkVuYWJsZWQgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLWlubmVyLXdyYXBwZXJcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBpZD1cIm5ld3RhYi1zZWFyY2gtdGV4dFwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWFyY2gtYm94LWlucHV0XCJcbiAgICAgICAgICAgICAgbWF4TGVuZ3RoPVwiMjU2XCJcbiAgICAgICAgICAgICAgcmVmPXt0aGlzLm9uSW5wdXRNb3VudH1cbiAgICAgICAgICAgICAgdHlwZT1cInNlYXJjaFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBpZD1cInNlYXJjaFN1Ym1pdFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlYXJjaC1idXR0b25cIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VhcmNoLWJveC1zZWFyY2gtYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblNlYXJjaENsaWNrfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAge3RoaXMucHJvcHMuaGFuZG9mZkVuYWJsZWQgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLWlubmVyLXdyYXBwZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VhcmNoLWhhbmRvZmYtYnV0dG9uXCJcbiAgICAgICAgICAgICAgey4uLnRoaXMuZ2V0SGFuZG9mZklucHV0TDEwbkF0dHJpYnV0ZXMoKX1cbiAgICAgICAgICAgICAgcmVmPXt0aGlzLm9uU2VhcmNoSGFuZG9mZkJ1dHRvbk1vdW50fVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uU2VhcmNoSGFuZG9mZkNsaWNrfVxuICAgICAgICAgICAgICB0YWJJbmRleD1cIi0xXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZha2UtdGV4dGJveFwiXG4gICAgICAgICAgICAgICAgey4uLnRoaXMuZ2V0SGFuZG9mZlRleHRMMTBuQXR0cmlidXRlcygpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwic2VhcmNoXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmYWtlLWVkaXRhYmxlXCJcbiAgICAgICAgICAgICAgICB0YWJJbmRleD1cIi0xXCJcbiAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICAgIG9uRHJvcD17dGhpcy5vblNlYXJjaEhhbmRvZmZEcm9wfVxuICAgICAgICAgICAgICAgIG9uUGFzdGU9e3RoaXMub25TZWFyY2hIYW5kb2ZmUGFzdGV9XG4gICAgICAgICAgICAgICAgcmVmPXt0aGlzLm9uSW5wdXRNb3VudEhhbmRvZmZ9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmFrZS1jYXJldFwiIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFNlYXJjaCA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxufSkpKF9TZWFyY2gpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IHsgcGVyZlNlcnZpY2UgYXMgcGVyZlN2YyB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvcGVyZi1zZXJ2aWNlXCI7XG5cbmNvbnN0IFZJU0lCTEUgPSBcInZpc2libGVcIjtcbmNvbnN0IFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5UID0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCI7XG5cbmV4cG9ydCBjbGFzcyBEZXRlY3RVc2VyU2Vzc2lvblN0YXJ0IHtcbiAgY29uc3RydWN0b3Ioc3RvcmUsIG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuX3N0b3JlID0gc3RvcmU7XG4gICAgLy8gT3ZlcnJpZGVzIGZvciB0ZXN0aW5nXG4gICAgdGhpcy5kb2N1bWVudCA9IG9wdGlvbnMuZG9jdW1lbnQgfHwgZ2xvYmFsLmRvY3VtZW50O1xuICAgIHRoaXMuX3BlcmZTZXJ2aWNlID0gb3B0aW9ucy5wZXJmU2VydmljZSB8fCBwZXJmU3ZjO1xuICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSA9IHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIHNlbmRFdmVudE9yQWRkTGlzdGVuZXIgLSBOb3RpZnkgaW1tZWRpYXRlbHkgaWYgdGhlIHBhZ2UgaXMgYWxyZWFkeSB2aXNpYmxlLFxuICAgKiAgICAgICAgICAgICAgICAgICAgb3IgZWxzZSBzZXQgdXAgYSBsaXN0ZW5lciBmb3Igd2hlbiB2aXNpYmlsaXR5IGNoYW5nZXMuXG4gICAqICAgICAgICAgICAgICAgICAgICBUaGlzIGlzIG5lZWRlZCBmb3IgYWNjdXJhdGUgc2Vzc2lvbiB0cmFja2luZyBmb3IgdGVsZW1ldHJ5LFxuICAgKiAgICAgICAgICAgICAgICAgICAgYmVjYXVzZSB0YWJzIGFyZSBwcmUtbG9hZGVkLlxuICAgKi9cbiAgc2VuZEV2ZW50T3JBZGRMaXN0ZW5lcigpIHtcbiAgICBpZiAodGhpcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgIC8vIElmIHRoZSBkb2N1bWVudCBpcyBhbHJlYWR5IHZpc2libGUsIHRvIHRoZSB1c2VyLCBzZW5kIGEgbm90aWZpY2F0aW9uXG4gICAgICAvLyBpbW1lZGlhdGVseSB0aGF0IGEgc2Vzc2lvbiBoYXMgc3RhcnRlZC5cbiAgICAgIHRoaXMuX3NlbmRFdmVudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB0aGUgZG9jdW1lbnQgaXMgbm90IHZpc2libGUsIGxpc3RlbiBmb3Igd2hlbiBpdCBkb2VzIGJlY29tZSB2aXNpYmxlLlxuICAgICAgdGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBfc2VuZEV2ZW50IC0gU2VuZHMgYSBtZXNzYWdlIHRvIHRoZSBtYWluIHByb2Nlc3MgdG8gaW5kaWNhdGUgdGhlIGN1cnJlbnRcbiAgICogICAgICAgICAgICAgIHRhYiBpcyBub3cgdmlzaWJsZSB0byB0aGUgdXNlciwgaW5jbHVkZXMgdGhlXG4gICAqICAgICAgICAgICAgICB2aXNpYmlsaXR5X2V2ZW50X3JjdmRfdHMgdGltZSBpbiBtcyBmcm9tIHRoZSBVTklYIGVwb2NoLlxuICAgKi9cbiAgX3NlbmRFdmVudCgpIHtcbiAgICB0aGlzLl9wZXJmU2VydmljZS5tYXJrKFwidmlzaWJpbGl0eV9ldmVudF9yY3ZkX3RzXCIpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGxldCB2aXNpYmlsaXR5X2V2ZW50X3JjdmRfdHMgPSB0aGlzLl9wZXJmU2VydmljZS5nZXRNb3N0UmVjZW50QWJzTWFya1N0YXJ0QnlOYW1lKFxuICAgICAgICBcInZpc2liaWxpdHlfZXZlbnRfcmN2ZF90c1wiXG4gICAgICApO1xuXG4gICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuU0FWRV9TRVNTSU9OX1BFUkZfREFUQSxcbiAgICAgICAgICBkYXRhOiB7IHZpc2liaWxpdHlfZXZlbnRfcmN2ZF90cyB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgLy8gSWYgdGhpcyBmYWlsZWQsIGl0J3MgbGlrZWx5IGJlY2F1c2UgdGhlIGBwcml2YWN5LnJlc2lzdEZpbmdlcnByaW50aW5nYFxuICAgICAgLy8gcHJlZiBpcyB0cnVlLiAgV2Ugc2hvdWxkIGF0IGxlYXN0IG5vdCBibG93IHVwLlxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBfb25WaXNpYmlsaXR5Q2hhbmdlIC0gSWYgdGhlIHZpc2liaWxpdHkgaGFzIGNoYW5nZWQgdG8gdmlzaWJsZSwgc2VuZHMgYSBub3RpZmljYXRpb25cbiAgICogICAgICAgICAgICAgICAgICAgICAgYW5kIHJlbW92ZXMgdGhlIGV2ZW50IGxpc3RlbmVyLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciB0YWIuXG4gICAqL1xuICBfb25WaXNpYmlsaXR5Q2hhbmdlKCkge1xuICAgIGlmICh0aGlzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgdGhpcy5fc2VuZEV2ZW50KCk7XG4gICAgICB0aGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG4vKiBlc2xpbnQtZW52IG1vemlsbGEvZnJhbWUtc2NyaXB0ICovXG5cbmltcG9ydCB7XG4gIGFjdGlvbkNyZWF0b3JzIGFzIGFjLFxuICBhY3Rpb25UeXBlcyBhcyBhdCxcbiAgYWN0aW9uVXRpbHMgYXMgYXUsXG59IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IGFwcGx5TWlkZGxld2FyZSwgY29tYmluZVJlZHVjZXJzLCBjcmVhdGVTdG9yZSB9IGZyb20gXCJyZWR1eFwiO1xuXG5leHBvcnQgY29uc3QgTUVSR0VfU1RPUkVfQUNUSU9OID0gXCJORVdfVEFCX0lOSVRJQUxfU1RBVEVcIjtcbmV4cG9ydCBjb25zdCBPVVRHT0lOR19NRVNTQUdFX05BTUUgPSBcIkFjdGl2aXR5U3RyZWFtOkNvbnRlbnRUb01haW5cIjtcbmV4cG9ydCBjb25zdCBJTkNPTUlOR19NRVNTQUdFX05BTUUgPSBcIkFjdGl2aXR5U3RyZWFtOk1haW5Ub0NvbnRlbnRcIjtcbmV4cG9ydCBjb25zdCBFQVJMWV9RVUVVRURfQUNUSU9OUyA9IFthdC5TQVZFX1NFU1NJT05fUEVSRl9EQVRBXTtcblxuLyoqXG4gKiBBIGhpZ2hlci1vcmRlciBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgcmVkdWNlciB0aGF0LCBvbiBNRVJHRV9TVE9SRSBhY3Rpb24sXG4gKiB3aWxsIHJldHVybiB0aGUgYWN0aW9uLmRhdGEgb2JqZWN0IG1lcmdlZCBpbnRvIHRoZSBwcmV2aW91cyBzdGF0ZS5cbiAqXG4gKiBGb3IgYWxsIG90aGVyIGFjdGlvbnMsIGl0IG1lcmVseSBjYWxscyBtYWluUmVkdWNlci5cbiAqXG4gKiBCZWNhdXNlIHdlIHdhbnQgdGhpcyB0byBtZXJnZSB0aGUgZW50aXJlIHN0YXRlIG9iamVjdCwgaXQncyB3cml0dGVuIGFzIGFcbiAqIGhpZ2hlciBvcmRlciBmdW5jdGlvbiB3aGljaCB0YWtlcyB0aGUgbWFpbiByZWR1Y2VyIChpdHNlbGYgb2Z0ZW4gYSBjYWxsIHRvXG4gKiBjb21iaW5lUmVkdWNlcnMpIGFzIGEgcGFyYW1ldGVyLlxuICpcbiAqIEBwYXJhbSAge2Z1bmN0aW9ufSBtYWluUmVkdWNlciByZWR1Y2VyIHRvIGNhbGwgaWYgYWN0aW9uICE9IE1FUkdFX1NUT1JFX0FDVElPTlxuICogQHJldHVybiB7ZnVuY3Rpb259ICAgICAgICAgICAgIGEgcmVkdWNlciB0aGF0LCBvbiBNRVJHRV9TVE9SRV9BQ1RJT04gYWN0aW9uLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbGwgcmV0dXJuIHRoZSBhY3Rpb24uZGF0YSBvYmplY3QgbWVyZ2VkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50byB0aGUgcHJldmlvdXMgc3RhdGUsIGFuZCB0aGUgcmVzdWx0XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgY2FsbGluZyBtYWluUmVkdWNlciBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlU3RhdGVSZWR1Y2VyKG1haW5SZWR1Y2VyKSB7XG4gIHJldHVybiAocHJldlN0YXRlLCBhY3Rpb24pID0+IHtcbiAgICBpZiAoYWN0aW9uLnR5cGUgPT09IE1FUkdFX1NUT1JFX0FDVElPTikge1xuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCAuLi5hY3Rpb24uZGF0YSB9O1xuICAgIH1cblxuICAgIHJldHVybiBtYWluUmVkdWNlcihwcmV2U3RhdGUsIGFjdGlvbik7XG4gIH07XG59XG5cbi8qKlxuICogbWVzc2FnZU1pZGRsZXdhcmUgLSBNaWRkbGV3YXJlIHRoYXQgbG9va3MgZm9yIFNlbnRUb01haW4gdHlwZSBhY3Rpb25zLCBhbmQgc2VuZHMgdGhlbSBpZiBuZWNlc3NhcnlcbiAqL1xuY29uc3QgbWVzc2FnZU1pZGRsZXdhcmUgPSBzdG9yZSA9PiBuZXh0ID0+IGFjdGlvbiA9PiB7XG4gIGNvbnN0IHNraXBMb2NhbCA9IGFjdGlvbi5tZXRhICYmIGFjdGlvbi5tZXRhLnNraXBMb2NhbDtcbiAgaWYgKGF1LmlzU2VuZFRvTWFpbihhY3Rpb24pKSB7XG4gICAgUlBNU2VuZEFzeW5jTWVzc2FnZShPVVRHT0lOR19NRVNTQUdFX05BTUUsIGFjdGlvbik7XG4gIH1cbiAgaWYgKCFza2lwTG9jYWwpIHtcbiAgICBuZXh0KGFjdGlvbik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCByZWh5ZHJhdGlvbk1pZGRsZXdhcmUgPSAoeyBnZXRTdGF0ZSB9KSA9PiB7XG4gIC8vIE5COiBUaGUgcGFyYW1ldGVyIGhlcmUgaXMgTWlkZGxld2FyZUFQSSB3aGljaCBsb29rcyBsaWtlIGEgU3RvcmUgYW5kIHNoYXJlc1xuICAvLyB0aGUgc2FtZSBnZXRTdGF0ZSwgc28gYXR0YWNoZWQgcHJvcGVydGllcyBhcmUgYWNjZXNzaWJsZSBmcm9tIHRoZSBzdG9yZS5cbiAgZ2V0U3RhdGUuZGlkUmVoeWRyYXRlID0gZmFsc2U7XG4gIGdldFN0YXRlLmRpZFJlcXVlc3RJbml0aWFsU3RhdGUgPSBmYWxzZTtcbiAgcmV0dXJuIG5leHQgPT4gYWN0aW9uID0+IHtcbiAgICBpZiAoZ2V0U3RhdGUuZGlkUmVoeWRyYXRlIHx8IHdpbmRvdy5fX0ZST01fU1RBUlRVUF9DQUNIRV9fKSB7XG4gICAgICAvLyBTdGFydHVwIG1lc3NhZ2VzIGNhbiBiZSBzYWZlbHkgaWdub3JlZCBieSB0aGUgYWJvdXQ6aG9tZSBkb2N1bWVudFxuICAgICAgLy8gc3RvcmVkIGluIHRoZSBzdGFydHVwIGNhY2hlLlxuICAgICAgaWYgKFxuICAgICAgICB3aW5kb3cuX19GUk9NX1NUQVJUVVBfQ0FDSEVfXyAmJlxuICAgICAgICBhY3Rpb24ubWV0YSAmJlxuICAgICAgICBhY3Rpb24ubWV0YS5pc1N0YXJ0dXBcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgfVxuXG4gICAgY29uc3QgaXNNZXJnZVN0b3JlQWN0aW9uID0gYWN0aW9uLnR5cGUgPT09IE1FUkdFX1NUT1JFX0FDVElPTjtcbiAgICBjb25zdCBpc1JlaHlkcmF0aW9uUmVxdWVzdCA9IGFjdGlvbi50eXBlID09PSBhdC5ORVdfVEFCX1NUQVRFX1JFUVVFU1Q7XG5cbiAgICBpZiAoaXNSZWh5ZHJhdGlvblJlcXVlc3QpIHtcbiAgICAgIGdldFN0YXRlLmRpZFJlcXVlc3RJbml0aWFsU3RhdGUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoaXNNZXJnZVN0b3JlQWN0aW9uKSB7XG4gICAgICBnZXRTdGF0ZS5kaWRSZWh5ZHJhdGUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICB9XG5cbiAgICAvLyBJZiBpbml0IGhhcHBlbmVkIGFmdGVyIG91ciByZXF1ZXN0IHdhcyBtYWRlLCB3ZSBuZWVkIHRvIHJlLXJlcXVlc3RcbiAgICBpZiAoZ2V0U3RhdGUuZGlkUmVxdWVzdEluaXRpYWxTdGF0ZSAmJiBhY3Rpb24udHlwZSA9PT0gYXQuSU5JVCkge1xuICAgICAgcmV0dXJuIG5leHQoYWMuQWxzb1RvTWFpbih7IHR5cGU6IGF0Lk5FV19UQUJfU1RBVEVfUkVRVUVTVCB9KSk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgYXUuaXNCcm9hZGNhc3RUb0NvbnRlbnQoYWN0aW9uKSB8fFxuICAgICAgYXUuaXNTZW5kVG9PbmVDb250ZW50KGFjdGlvbikgfHxcbiAgICAgIGF1LmlzU2VuZFRvUHJlbG9hZGVkKGFjdGlvbilcbiAgICApIHtcbiAgICAgIC8vIE5vdGUgdGhhdCBhY3Rpb25zIHJlY2VpdmVkIGJlZm9yZSBkaWRSZWh5ZHJhdGUgd2lsbCBub3QgYmUgZGlzcGF0Y2hlZFxuICAgICAgLy8gYmVjYXVzZSB0aGlzIGNvdWxkIG5lZ2F0aXZlbHkgYWZmZWN0IHByZWxvYWRpbmcgYW5kIHRoZSB0aGUgc3RhdGVcbiAgICAgIC8vIHdpbGwgYmUgcmVwbGFjZWQgYnkgcmVoeWRyYXRpb24gYW55d2F5LlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgfTtcbn07XG5cbi8qKlxuICogVGhpcyBtaWRkbGV3YXJlIHF1ZXVlcyB1cCBhbGwgdGhlIEVBUkxZX1FVRVVFRF9BQ1RJT05TIHVudGlsIGl0IHJlY2VpdmVzXG4gKiB0aGUgZmlyc3QgYWN0aW9uIGZyb20gbWFpbi4gVGhpcyBpcyB1c2VmdWwgZm9yIHRob3NlIGFjdGlvbnMgZm9yIG1haW4gd2hpY2hcbiAqIHJlcXVpcmUgaGlnaGVyIHJlbGlhYmlsaXR5LCBpLmUuIHRoZSBhY3Rpb24gd2lsbCBub3QgYmUgbG9zdCBpbiB0aGUgY2FzZVxuICogdGhhdCBpdCBnZXRzIHNlbnQgYmVmb3JlIHRoZSBtYWluIGlzIHJlYWR5IHRvIHJlY2VpdmUgaXQuIENvbnZlcnNlbHksIGFueVxuICogYWN0aW9ucyBhbGxvd2VkIGVhcmx5IGFyZSBhY2NlcHRlZCB0byBiZSBpZ25vcmFibGUgb3IgcmUtc2VuZGFibGUuXG4gKi9cbmV4cG9ydCBjb25zdCBxdWV1ZUVhcmx5TWVzc2FnZU1pZGRsZXdhcmUgPSAoeyBnZXRTdGF0ZSB9KSA9PiB7XG4gIC8vIE5COiBUaGUgcGFyYW1ldGVyIGhlcmUgaXMgTWlkZGxld2FyZUFQSSB3aGljaCBsb29rcyBsaWtlIGEgU3RvcmUgYW5kIHNoYXJlc1xuICAvLyB0aGUgc2FtZSBnZXRTdGF0ZSwgc28gYXR0YWNoZWQgcHJvcGVydGllcyBhcmUgYWNjZXNzaWJsZSBmcm9tIHRoZSBzdG9yZS5cbiAgZ2V0U3RhdGUuZWFybHlBY3Rpb25RdWV1ZSA9IFtdO1xuICBnZXRTdGF0ZS5yZWNlaXZlZEZyb21NYWluID0gZmFsc2U7XG4gIHJldHVybiBuZXh0ID0+IGFjdGlvbiA9PiB7XG4gICAgaWYgKGdldFN0YXRlLnJlY2VpdmVkRnJvbU1haW4pIHtcbiAgICAgIG5leHQoYWN0aW9uKTtcbiAgICB9IGVsc2UgaWYgKGF1LmlzRnJvbU1haW4oYWN0aW9uKSkge1xuICAgICAgbmV4dChhY3Rpb24pO1xuICAgICAgZ2V0U3RhdGUucmVjZWl2ZWRGcm9tTWFpbiA9IHRydWU7XG4gICAgICAvLyBTZW5kaW5nIG91dCBhbGwgdGhlIGVhcmx5IGFjdGlvbnMgYXMgbWFpbiBpcyByZWFkeSBub3dcbiAgICAgIGdldFN0YXRlLmVhcmx5QWN0aW9uUXVldWUuZm9yRWFjaChuZXh0KTtcbiAgICAgIGdldFN0YXRlLmVhcmx5QWN0aW9uUXVldWUubGVuZ3RoID0gMDtcbiAgICB9IGVsc2UgaWYgKEVBUkxZX1FVRVVFRF9BQ1RJT05TLmluY2x1ZGVzKGFjdGlvbi50eXBlKSkge1xuICAgICAgZ2V0U3RhdGUuZWFybHlBY3Rpb25RdWV1ZS5wdXNoKGFjdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIExldCBhbnkgb3RoZXIgdHlwZSBvZiBhY3Rpb24gZ28gdGhyb3VnaFxuICAgICAgbmV4dChhY3Rpb24pO1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogaW5pdFN0b3JlIC0gQ3JlYXRlIGEgc3RvcmUgYW5kIGxpc3RlbiBmb3IgaW5jb21pbmcgYWN0aW9uc1xuICpcbiAqIEBwYXJhbSAge29iamVjdH0gcmVkdWNlcnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgUmVkdXggcmVkdWNlcnNcbiAqIEBwYXJhbSAge29iamVjdH0gaW50aWFsU3RhdGUgKG9wdGlvbmFsKSBUaGUgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgc3RvcmUsIGlmIGRlc2lyZWRcbiAqIEByZXR1cm4ge29iamVjdH0gICAgICAgICAgQSByZWR1eCBzdG9yZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFN0b3JlKHJlZHVjZXJzLCBpbml0aWFsU3RhdGUpIHtcbiAgY29uc3Qgc3RvcmUgPSBjcmVhdGVTdG9yZShcbiAgICBtZXJnZVN0YXRlUmVkdWNlcihjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpKSxcbiAgICBpbml0aWFsU3RhdGUsXG4gICAgZ2xvYmFsLlJQTUFkZE1lc3NhZ2VMaXN0ZW5lciAmJlxuICAgICAgYXBwbHlNaWRkbGV3YXJlKFxuICAgICAgICBxdWV1ZUVhcmx5TWVzc2FnZU1pZGRsZXdhcmUsXG4gICAgICAgIHJlaHlkcmF0aW9uTWlkZGxld2FyZSxcbiAgICAgICAgbWVzc2FnZU1pZGRsZXdhcmVcbiAgICAgIClcbiAgKTtcblxuICBpZiAoZ2xvYmFsLlJQTUFkZE1lc3NhZ2VMaXN0ZW5lcikge1xuICAgIGdsb2JhbC5SUE1BZGRNZXNzYWdlTGlzdGVuZXIoSU5DT01JTkdfTUVTU0FHRV9OQU1FLCBtc2cgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gobXNnLmRhdGEpO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkNvbnRlbnQgbXNnOlwiLCBtc2csIFwiRGlzcGF0Y2ggZXJyb3I6IFwiLCBleCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICBkdW1wKFxuICAgICAgICAgIGBDb250ZW50IG1zZzogJHtKU09OLnN0cmluZ2lmeShtc2cpfVxcbkRpc3BhdGNoIGVycm9yOiAke2V4fVxcbiR7XG4gICAgICAgICAgICBleC5zdGFja1xuICAgICAgICAgIH1gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc3RvcmU7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFJlZHV4OyIsIi8qXG4gKiBTeW5jaHJvbm91c2x5IG1hcCBhbiBpZGVudGlmaWVyIG9yIGFuIGFycmF5IG9mIGlkZW50aWZpZXJzIHRvIHRoZSBiZXN0XG4gKiBgRmx1ZW50QnVuZGxlYCBpbnN0YW5jZShzKS5cbiAqXG4gKiBAcGFyYW0ge0l0ZXJhYmxlfSBpdGVyYWJsZVxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gaWRzXG4gKiBAcmV0dXJucyB7Rmx1ZW50QnVuZGxlfEFycmF5PEZsdWVudEJ1bmRsZT59XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1hcEJ1bmRsZVN5bmMoaXRlcmFibGUsIGlkcykge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoaWRzKSkge1xuICAgIHJldHVybiBnZXRCdW5kbGVGb3JJZChpdGVyYWJsZSwgaWRzKTtcbiAgfVxuXG4gIHJldHVybiBpZHMubWFwKFxuICAgIGlkID0+IGdldEJ1bmRsZUZvcklkKGl0ZXJhYmxlLCBpZClcbiAgKTtcbn1cblxuLypcbiAqIEZpbmQgdGhlIGJlc3QgYEZsdWVudEJ1bmRsZWAgd2l0aCB0aGUgdHJhbnNsYXRpb24gZm9yIGBpZGAuXG4gKi9cbmZ1bmN0aW9uIGdldEJ1bmRsZUZvcklkKGl0ZXJhYmxlLCBpZCkge1xuICBmb3IgKGNvbnN0IGJ1bmRsZSBvZiBpdGVyYWJsZSkge1xuICAgIGlmIChidW5kbGUuaGFzTWVzc2FnZShpZCkpIHtcbiAgICAgIHJldHVybiBidW5kbGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4iLCIvKlxuICogQXN5bmNocm9ub3VzbHkgbWFwIGFuIGlkZW50aWZpZXIgb3IgYW4gYXJyYXkgb2YgaWRlbnRpZmllcnMgdG8gdGhlIGJlc3RcbiAqIGBGbHVlbnRCdW5kbGVgIGluc3RhbmNlKHMpLlxuICpcbiAqIEBwYXJhbSB7QXN5bmNJdGVyYWJsZX0gaXRlcmFibGVcbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IGlkc1xuICogQHJldHVybnMge1Byb21pc2U8Rmx1ZW50QnVuZGxlfEFycmF5PEZsdWVudEJ1bmRsZT4+fVxuICovXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBtYXBCdW5kbGVBc3luYyhpdGVyYWJsZSwgaWRzKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShpZHMpKSB7XG4gICAgZm9yIGF3YWl0IChjb25zdCBidW5kbGUgb2YgaXRlcmFibGUpIHtcbiAgICAgIGlmIChidW5kbGUuaGFzTWVzc2FnZShpZHMpKSB7XG4gICAgICAgIHJldHVybiBidW5kbGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGV0IHJlbWFpbmluZ0NvdW50ID0gaWRzLmxlbmd0aDtcbiAgY29uc3QgZm91bmRCdW5kbGVzID0gbmV3IEFycmF5KHJlbWFpbmluZ0NvdW50KS5maWxsKG51bGwpO1xuXG4gIGZvciBhd2FpdCAoY29uc3QgYnVuZGxlIG9mIGl0ZXJhYmxlKSB7XG4gICAgZm9yIChjb25zdCBbaW5kZXgsIGlkXSBvZiBpZHMuZW50cmllcygpKSB7XG4gICAgICBpZiAoIWZvdW5kQnVuZGxlc1tpbmRleF0gJiYgYnVuZGxlLmhhc01lc3NhZ2UoaWQpKSB7XG4gICAgICAgIGZvdW5kQnVuZGxlc1tpbmRleF0gPSBidW5kbGU7XG4gICAgICAgIHJlbWFpbmluZ0NvdW50LS07XG4gICAgICB9XG5cbiAgICAgIC8vIFJldHVybiBlYXJseSB3aGVuIGFsbCBpZHMgaGF2ZSBiZWVuIG1hcHBlZCB0byBjb250ZXh0cy5cbiAgICAgIGlmIChyZW1haW5pbmdDb3VudCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZm91bmRCdW5kbGVzO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmb3VuZEJ1bmRsZXM7XG59XG4iLCIvKlxuICogQG1vZHVsZSBmbHVlbnQtc2VxdWVuY2VcbiAqIEBvdmVydmlldyBNYW5hZ2Ugb3JkZXJlZCBzZXF1ZW5jZXMgb2YgRmx1ZW50QnVuZGxlcy5cbiAqL1xuXG5leHBvcnQge2RlZmF1bHQgYXMgbWFwQnVuZGxlU3luY30gZnJvbSBcIi4vbWFwX3N5bmNcIjtcbmV4cG9ydCB7ZGVmYXVsdCBhcyBtYXBCdW5kbGVBc3luY30gZnJvbSBcIi4vbWFwX2FzeW5jXCI7XG4iLCIvKlxuICogQmFzZSBDYWNoZWRJdGVyYWJsZSBjbGFzcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FjaGVkSXRlcmFibGUgZXh0ZW5kcyBBcnJheSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgYENhY2hlZEl0ZXJhYmxlYCBpbnN0YW5jZSBmcm9tIGFuIGl0ZXJhYmxlIG9yLCBpZiBhbm90aGVyXG4gICAgICogaW5zdGFuY2Ugb2YgYENhY2hlZEl0ZXJhYmxlYCBpcyBwYXNzZWQsIHJldHVybiBpdCB3aXRob3V0IGFueVxuICAgICAqIG1vZGlmaWNhdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0l0ZXJhYmxlfSBpdGVyYWJsZVxuICAgICAqIEByZXR1cm5zIHtDYWNoZWRJdGVyYWJsZX1cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShpdGVyYWJsZSkge1xuICAgICAgICBpZiAoaXRlcmFibGUgaW5zdGFuY2VvZiB0aGlzKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IHRoaXMoaXRlcmFibGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCBDYWNoZWRJdGVyYWJsZSBmcm9tIFwiLi9jYWNoZWRfaXRlcmFibGUubWpzXCI7XG5cbi8qXG4gKiBDYWNoZWRTeW5jSXRlcmFibGUgY2FjaGVzIHRoZSBlbGVtZW50cyB5aWVsZGVkIGJ5IGFuIGl0ZXJhYmxlLlxuICpcbiAqIEl0IGNhbiBiZSB1c2VkIHRvIGl0ZXJhdGUgb3ZlciBhbiBpdGVyYWJsZSBtYW55IHRpbWVzIHdpdGhvdXQgZGVwbGV0aW5nIHRoZVxuICogaXRlcmFibGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhY2hlZFN5bmNJdGVyYWJsZSBleHRlbmRzIENhY2hlZEl0ZXJhYmxlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gYENhY2hlZFN5bmNJdGVyYWJsZWAgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0l0ZXJhYmxlfSBpdGVyYWJsZVxuICAgICAqIEByZXR1cm5zIHtDYWNoZWRTeW5jSXRlcmFibGV9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaXRlcmFibGUpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyYWJsZSkpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlcmF0b3IgPSBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBpbXBsZW1lbnQgdGhlIGl0ZXJhdGlvbiBwcm90b2NvbC5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgY29uc3QgY2FjaGVkID0gdGhpcztcbiAgICAgICAgbGV0IGN1ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZC5sZW5ndGggPD0gY3VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlZC5wdXNoKGNhY2hlZC5pdGVyYXRvci5uZXh0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkW2N1cisrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBhbGxvd3MgdXNlciB0byBjb25zdW1lIHRoZSBuZXh0IGVsZW1lbnQgZnJvbSB0aGUgaXRlcmF0b3JcbiAgICAgKiBpbnRvIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudCAtIG51bWJlciBvZiBlbGVtZW50cyB0byBjb25zdW1lXG4gICAgICovXG4gICAgdG91Y2hOZXh0KGNvdW50ID0gMSkge1xuICAgICAgICBsZXQgaWR4ID0gMDtcbiAgICAgICAgd2hpbGUgKGlkeCsrIDwgY291bnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzW3RoaXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAobGFzdCAmJiBsYXN0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHVzaCh0aGlzLml0ZXJhdG9yLm5leHQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV0dXJuIHRoZSBsYXN0IGNhY2hlZCB7dmFsdWUsIGRvbmV9IG9iamVjdCB0byBhbGxvdyB0aGUgY2FsbGluZ1xuICAgICAgICAvLyBjb2RlIHRvIGRlY2lkZSBpZiBpdCBuZWVkcyB0byBjYWxsIHRvdWNoTmV4dCBhZ2Fpbi5cbiAgICAgICAgcmV0dXJuIHRoaXNbdGhpcy5sZW5ndGggLSAxXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ2FjaGVkSXRlcmFibGUgZnJvbSBcIi4vY2FjaGVkX2l0ZXJhYmxlLm1qc1wiO1xuXG4vKlxuICogQ2FjaGVkQXN5bmNJdGVyYWJsZSBjYWNoZXMgdGhlIGVsZW1lbnRzIHlpZWxkZWQgYnkgYW4gYXN5bmMgaXRlcmFibGUuXG4gKlxuICogSXQgY2FuIGJlIHVzZWQgdG8gaXRlcmF0ZSBvdmVyIGFuIGl0ZXJhYmxlIG1hbnkgdGltZXMgd2l0aG91dCBkZXBsZXRpbmcgdGhlXG4gKiBpdGVyYWJsZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FjaGVkQXN5bmNJdGVyYWJsZSBleHRlbmRzIENhY2hlZEl0ZXJhYmxlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gYENhY2hlZEFzeW5jSXRlcmFibGVgIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtJdGVyYWJsZX0gaXRlcmFibGVcbiAgICAgKiBAcmV0dXJucyB7Q2FjaGVkQXN5bmNJdGVyYWJsZX1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpdGVyYWJsZSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIGlmIChTeW1ib2wuYXN5bmNJdGVyYXRvciBpbiBPYmplY3QoaXRlcmFibGUpKSB7XG4gICAgICAgICAgICB0aGlzLml0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyYWJsZSkpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlcmF0b3IgPSBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBpbXBsZW1lbnQgdGhlIGl0ZXJhdGlvbiBwcm90b2NvbC5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTeW5jaHJvbm91cyBpdGVyYXRvciBvdmVyIHRoZSBjYWNoZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBSZXR1cm4gYSBnZW5lcmF0b3Igb2JqZWN0IGltcGxlbWVudGluZyB0aGUgaXRlcmF0b3IgcHJvdG9jb2wgb3ZlciB0aGVcbiAgICAgKiBjYWNoZWQgZWxlbWVudHMgb2YgdGhlIG9yaWdpbmFsIChhc3luYyBvciBzeW5jKSBpdGVyYWJsZS5cbiAgICAgKi9cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgY29uc3QgY2FjaGVkID0gdGhpcztcbiAgICAgICAgbGV0IGN1ciA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZC5sZW5ndGggPT09IGN1cikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWV9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkW2N1cisrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3luY2hyb25vdXMgaXRlcmF0b3IgY2FjaGluZyB0aGUgeWllbGRlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEVsZW1lbnRzIHlpZWxkZWQgYnkgdGhlIG9yaWdpbmFsIGl0ZXJhYmxlIHdpbGwgYmUgY2FjaGVkIGFuZCBhdmFpbGFibGVcbiAgICAgKiBzeW5jaHJvbm91c2x5LiBSZXR1cm5zIGFuIGFzeW5jIGdlbmVyYXRvciBvYmplY3QgaW1wbGVtZW50aW5nIHRoZVxuICAgICAqIGl0ZXJhdG9yIHByb3RvY29sIG92ZXIgdGhlIGVsZW1lbnRzIG9mIHRoZSBvcmlnaW5hbCAoYXN5bmMgb3Igc3luYylcbiAgICAgKiBpdGVyYWJsZS5cbiAgICAgKi9cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICBjb25zdCBjYWNoZWQgPSB0aGlzO1xuICAgICAgICBsZXQgY3VyID0gMDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXN5bmMgbmV4dCgpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkLmxlbmd0aCA8PSBjdXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVkLnB1c2goYXdhaXQgY2FjaGVkLml0ZXJhdG9yLm5leHQoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWRbY3VyKytdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGFsbG93cyB1c2VyIHRvIGNvbnN1bWUgdGhlIG5leHQgZWxlbWVudCBmcm9tIHRoZSBpdGVyYXRvclxuICAgICAqIGludG8gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvdW50IC0gbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGNvbnN1bWVcbiAgICAgKi9cbiAgICBhc3luYyB0b3VjaE5leHQoY291bnQgPSAxKSB7XG4gICAgICAgIGxldCBpZHggPSAwO1xuICAgICAgICB3aGlsZSAoaWR4KysgPCBjb3VudCkge1xuICAgICAgICAgICAgY29uc3QgbGFzdCA9IHRoaXNbdGhpcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChsYXN0ICYmIGxhc3QuZG9uZSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wdXNoKGF3YWl0IHRoaXMuaXRlcmF0b3IubmV4dCgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm4gdGhlIGxhc3QgY2FjaGVkIHt2YWx1ZSwgZG9uZX0gb2JqZWN0IHRvIGFsbG93IHRoZSBjYWxsaW5nXG4gICAgICAgIC8vIGNvZGUgdG8gZGVjaWRlIGlmIGl0IG5lZWRzIHRvIGNhbGwgdG91Y2hOZXh0IGFnYWluLlxuICAgICAgICByZXR1cm4gdGhpc1t0aGlzLmxlbmd0aCAtIDFdO1xuICAgIH1cbn1cbiIsImV4cG9ydCB7ZGVmYXVsdCBhcyBDYWNoZWRTeW5jSXRlcmFibGV9IGZyb20gXCIuL2NhY2hlZF9zeW5jX2l0ZXJhYmxlLm1qc1wiO1xuZXhwb3J0IHtkZWZhdWx0IGFzIENhY2hlZEFzeW5jSXRlcmFibGV9IGZyb20gXCIuL2NhY2hlZF9hc3luY19pdGVyYWJsZS5tanNcIjtcbiIsImltcG9ydCB7IG1hcEJ1bmRsZVN5bmMgfSBmcm9tIFwiZmx1ZW50LXNlcXVlbmNlXCI7XG5pbXBvcnQgeyBDYWNoZWRTeW5jSXRlcmFibGUgfSBmcm9tIFwiY2FjaGVkLWl0ZXJhYmxlXCI7XG5cbi8qXG4gKiBgUmVhY3RMb2NhbGl6YXRpb25gIGhhbmRsZXMgdHJhbnNsYXRpb24gZm9ybWF0dGluZyBhbmQgZmFsbGJhY2suXG4gKlxuICogVGhlIGN1cnJlbnQgbmVnb3RpYXRlZCBmYWxsYmFjayBjaGFpbiBvZiBsYW5ndWFnZXMgaXMgc3RvcmVkIGluIHRoZVxuICogYFJlYWN0TG9jYWxpemF0aW9uYCBpbnN0YW5jZSBpbiBmb3JtIG9mIGFuIGl0ZXJhYmxlIG9mIGBGbHVlbnRCdW5kbGVgXG4gKiBpbnN0YW5jZXMuICBUaGlzIGl0ZXJhYmxlIGlzIHVzZWQgdG8gZmluZCB0aGUgYmVzdCBleGlzdGluZyB0cmFuc2xhdGlvbiBmb3JcbiAqIGEgZ2l2ZW4gaWRlbnRpZmllci5cbiAqXG4gKiBgTG9jYWxpemVkYCBjb21wb25lbnRzIG11c3Qgc3Vic2NyaWJlIHRvIHRoZSBjaGFuZ2VzIG9mIHRoZVxuICogYFJlYWN0TG9jYWxpemF0aW9uYCdzIGZhbGxiYWNrIGNoYWluLiAgV2hlbiB0aGUgZmFsbGJhY2sgY2hhaW4gY2hhbmdlcyAodGhlXG4gKiBgYnVuZGxlc2AgaXRlcmFibGUgaXMgc2V0IGFuZXcpLCBhbGwgc3Vic2NyaWJlZCBjb21wb250ZW50IG11c3QgcmVsb2NhbGl6ZS5cbiAqXG4gKiBUaGUgYFJlYWN0TG9jYWxpemF0aW9uYCBjbGFzcyBpbnN0YW5jZXMgYXJlIGV4cG9zZWQgdG8gYExvY2FsaXplZGAgZWxlbWVudHNcbiAqIHZpYSB0aGUgYExvY2FsaXphdGlvblByb3ZpZGVyYCBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlYWN0TG9jYWxpemF0aW9uIHtcbiAgY29uc3RydWN0b3IoYnVuZGxlcykge1xuICAgIHRoaXMuYnVuZGxlcyA9IENhY2hlZFN5bmNJdGVyYWJsZS5mcm9tKGJ1bmRsZXMpO1xuICAgIHRoaXMuc3VicyA9IG5ldyBTZXQoKTtcbiAgfVxuXG4gIC8qXG4gICAqIFN1YnNjcmliZSBhIGBMb2NhbGl6ZWRgIGNvbXBvbmVudCB0byBjaGFuZ2VzIG9mIGBidW5kbGVzYC5cbiAgICovXG4gIHN1YnNjcmliZShjb21wKSB7XG4gICAgdGhpcy5zdWJzLmFkZChjb21wKTtcbiAgfVxuXG4gIC8qXG4gICAqIFVuc3Vic2NyaWJlIGEgYExvY2FsaXplZGAgY29tcG9uZW50IGZyb20gYGJ1bmRsZXNgIGNoYW5nZXMuXG4gICAqL1xuICB1bnN1YnNjcmliZShjb21wKSB7XG4gICAgdGhpcy5zdWJzLmRlbGV0ZShjb21wKTtcbiAgfVxuXG4gIC8qXG4gICAqIFNldCBhIG5ldyBgYnVuZGxlc2AgaXRlcmFibGUgYW5kIHRyaWdnZXIgdGhlIHJldHJhbnNsYXRpb24uXG4gICAqL1xuICBzZXRCdW5kbGVzKGJ1bmRsZXMpIHtcbiAgICB0aGlzLmJ1bmRsZXMgPSBDYWNoZWRTeW5jSXRlcmFibGUuZnJvbShidW5kbGVzKTtcblxuICAgIC8vIFVwZGF0ZSBhbGwgc3Vic2NyaWJlZCBMb2NhbGl6ZWQgY29tcG9uZW50cy5cbiAgICB0aGlzLnN1YnMuZm9yRWFjaChjb21wID0+IGNvbXAucmVsb2NhbGl6ZSgpKTtcbiAgfVxuXG4gIGdldEJ1bmRsZShpZCkge1xuICAgIHJldHVybiBtYXBCdW5kbGVTeW5jKHRoaXMuYnVuZGxlcywgaWQpO1xuICB9XG5cbiAgLypcbiAgICogRmluZCBhIHRyYW5zbGF0aW9uIGJ5IGBpZGAgYW5kIGZvcm1hdCBpdCB0byBhIHN0cmluZyB1c2luZyBgYXJnc2AuXG4gICAqL1xuICBnZXRTdHJpbmcoaWQsIGFyZ3MsIGZhbGxiYWNrKSB7XG4gICAgY29uc3QgYnVuZGxlID0gdGhpcy5nZXRCdW5kbGUoaWQpO1xuXG4gICAgaWYgKGJ1bmRsZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbGxiYWNrIHx8IGlkO1xuICAgIH1cblxuICAgIGNvbnN0IG1zZyA9IGJ1bmRsZS5nZXRNZXNzYWdlKGlkKTtcbiAgICByZXR1cm4gYnVuZGxlLmZvcm1hdChtc2csIGFyZ3MpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1JlYWN0TG9jYWxpemF0aW9uKHByb3BzLCBwcm9wTmFtZSkge1xuICBjb25zdCBwcm9wID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gIGlmIChwcm9wIGluc3RhbmNlb2YgUmVhY3RMb2NhbGl6YXRpb24pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBuZXcgRXJyb3IoXG4gICAgYFRoZSAke3Byb3BOYW1lfSBjb250ZXh0IGZpZWxkIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVhY3RMb2NhbGl6YXRpb24uYFxuICApO1xufVxuIiwiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbmxldCBjYWNoZWRQYXJzZU1hcmt1cDtcblxuLy8gV2UgdXNlIGEgZnVuY3Rpb24gY3JlYXRvciB0byBtYWtlIHRoZSByZWZlcmVuY2UgdG8gYGRvY3VtZW50YCBsYXp5LiBBdCB0aGVcbi8vIHNhbWUgdGltZSwgaXQncyBlYWdlciBlbm91Z2ggdG8gdGhyb3cgaW4gPExvY2FsaXphdGlvblByb3ZpZGVyPiBhcyBzb29uIGFzXG4vLyBpdCdzIGZpcnN0IG1vdW50ZWQgd2hpY2ggcmVkdWNlcyB0aGUgcmlzayBvZiB0aGlzIGVycm9yIG1ha2luZyBpdCB0byB0aGVcbi8vIHJ1bnRpbWUgd2l0aG91dCBkZXZlbG9wZXJzIG5vdGljaW5nIGl0IGluIGRldmVsb3BtZW50LlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlUGFyc2VNYXJrdXAoKSB7XG4gIGlmICh0eXBlb2YoZG9jdW1lbnQpID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgLy8gV2UgY2FuJ3QgdXNlIDx0ZW1wbGF0ZT4gdG8gc2FuaXRpemUgdHJhbnNsYXRpb25zLlxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiYGRvY3VtZW50YCBpcyB1bmRlZmluZWQuIFdpdGhvdXQgaXQsIHRyYW5zbGF0aW9ucyBjYW5ub3QgXCIgK1xuICAgICAgXCJiZSBzYWZlbHkgc2FuaXRpemVkLiBDb25zdWx0IHRoZSBkb2N1bWVudGF0aW9uIGF0IFwiICtcbiAgICAgIFwiaHR0cHM6Ly9naXRodWIuY29tL3Byb2plY3RmbHVlbnQvZmx1ZW50LmpzL3dpa2kvUmVhY3QtT3ZlcmxheXMuXCJcbiAgICApO1xuICB9XG5cbiAgaWYgKCFjYWNoZWRQYXJzZU1hcmt1cCkge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuICAgIGNhY2hlZFBhcnNlTWFya3VwID0gZnVuY3Rpb24gcGFyc2VNYXJrdXAoc3RyKSB7XG4gICAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBzdHI7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbSh0ZW1wbGF0ZS5jb250ZW50LmNoaWxkTm9kZXMpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gY2FjaGVkUGFyc2VNYXJrdXA7XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIENoaWxkcmVuIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XG5pbXBvcnQgUmVhY3RMb2NhbGl6YXRpb24sIHsgaXNSZWFjdExvY2FsaXphdGlvbn0gZnJvbSBcIi4vbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgY3JlYXRlUGFyc2VNYXJrdXAgZnJvbSBcIi4vbWFya3VwXCI7XG5cbi8qXG4gKiBUaGUgUHJvdmlkZXIgY29tcG9uZW50IGZvciB0aGUgYFJlYWN0TG9jYWxpemF0aW9uYCBjbGFzcy5cbiAqXG4gKiBFeHBvc2VzIGEgYFJlYWN0TG9jYWxpemF0aW9uYCBpbnN0YW5jZSB0byBhbGwgZGVzY2VuZGFudHMgdmlhIFJlYWN0J3NcbiAqIGNvbnRleHQgZmVhdHVyZS4gIEl0IG1ha2VzIHRyYW5zbGF0aW9ucyBhdmFpbGFibGUgdG8gYWxsIGxvY2FsaXphYmxlXG4gKiBlbGVtZW50cyBpbiB0aGUgZGVzY2VuZGFudCdzIHJlbmRlciB0cmVlIHdpdGhvdXQgdGhlIG5lZWQgdG8gcGFzcyB0aGVtXG4gKiBleHBsaWNpdGx5LlxuICpcbiAqICAgICA8TG9jYWxpemF0aW9uUHJvdmlkZXIgYnVuZGxlcz174oCmfT5cbiAqICAgICAgICAg4oCmXG4gKiAgICAgPC9Mb2NhbGl6YXRpb25Qcm92aWRlcj5cbiAqXG4gKiBUaGUgYExvY2FsaXphdGlvblByb3ZpZGVyYCBjb21wb25lbnQgdGFrZXMgb25lIHByb3A6IGBidW5kbGVzYC4gIEl0IHNob3VsZFxuICogYmUgYW4gaXRlcmFibGUgb2YgYEZsdWVudEJ1bmRsZWAgaW5zdGFuY2VzIGluIG9yZGVyIG9mIHRoZSB1c2VyJ3NcbiAqIHByZWZlcnJlZCBsYW5ndWFnZXMuICBUaGUgYEZsdWVudEJ1bmRsZWAgaW5zdGFuY2VzIHdpbGwgYmUgdXNlZCBieVxuICogYFJlYWN0TG9jYWxpemF0aW9uYCB0byBmb3JtYXQgdHJhbnNsYXRpb25zLiAgSWYgYSB0cmFuc2xhdGlvbiBpcyBtaXNzaW5nIGluXG4gKiBvbmUgaW5zdGFuY2UsIGBSZWFjdExvY2FsaXphdGlvbmAgd2lsbCBmYWxsIGJhY2sgdG8gdGhlIG5leHQgb25lLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhbGl6YXRpb25Qcm92aWRlciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIGNvbnN0IHtidW5kbGVzLCBwYXJzZU1hcmt1cH0gPSBwcm9wcztcblxuICAgIGlmIChidW5kbGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkxvY2FsaXphdGlvblByb3ZpZGVyIG11c3QgcmVjZWl2ZSB0aGUgYnVuZGxlcyBwcm9wLlwiKTtcbiAgICB9XG5cbiAgICBpZiAoIWJ1bmRsZXNbU3ltYm9sLml0ZXJhdG9yXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGJ1bmRsZXMgcHJvcCBtdXN0IGJlIGFuIGl0ZXJhYmxlLlwiKTtcbiAgICB9XG5cbiAgICB0aGlzLmwxMG4gPSBuZXcgUmVhY3RMb2NhbGl6YXRpb24oYnVuZGxlcyk7XG4gICAgdGhpcy5wYXJzZU1hcmt1cCA9IHBhcnNlTWFya3VwIHx8IGNyZWF0ZVBhcnNlTWFya3VwKCk7XG4gIH1cblxuICBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGwxMG46IHRoaXMubDEwbixcbiAgICAgIHBhcnNlTWFya3VwOiB0aGlzLnBhcnNlTWFya3VwLFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHQpIHtcbiAgICBjb25zdCB7IGJ1bmRsZXMgfSA9IG5leHQ7XG5cbiAgICBpZiAoYnVuZGxlcyAhPT0gdGhpcy5wcm9wcy5idW5kbGVzKSB7XG4gICAgICB0aGlzLmwxMG4uc2V0QnVuZGxlcyhidW5kbGVzKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIENoaWxkcmVuLm9ubHkodGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gIH1cbn1cblxuTG9jYWxpemF0aW9uUHJvdmlkZXIuY2hpbGRDb250ZXh0VHlwZXMgPSB7XG4gIGwxMG46IGlzUmVhY3RMb2NhbGl6YXRpb24sXG4gIHBhcnNlTWFya3VwOiBQcm9wVHlwZXMuZnVuYyxcbn07XG5cbkxvY2FsaXphdGlvblByb3ZpZGVyLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5lbGVtZW50LmlzUmVxdWlyZWQsXG4gIGJ1bmRsZXM6IGlzSXRlcmFibGUsXG4gIHBhcnNlTWFya3VwOiBQcm9wVHlwZXMuZnVuYyxcbn07XG5cbmZ1bmN0aW9uIGlzSXRlcmFibGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gIGNvbnN0IHByb3AgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QocHJvcCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBuZXcgRXJyb3IoXG4gICAgYFRoZSAke3Byb3BOYW1lfSBwcm9wIHN1cHBsaWVkIHRvICR7Y29tcG9uZW50TmFtZX0gbXVzdCBiZSBhbiBpdGVyYWJsZS5gXG4gICk7XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHsgaXNSZWFjdExvY2FsaXphdGlvbiB9IGZyb20gXCIuL2xvY2FsaXphdGlvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB3aXRoTG9jYWxpemF0aW9uKElubmVyKSB7XG4gIGNsYXNzIFdpdGhMb2NhbGl6YXRpb24gZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgY29uc3QgeyBsMTBuIH0gPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgIGlmIChsMTBuKSB7XG4gICAgICAgIGwxMG4uc3Vic2NyaWJlKHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgY29uc3QgeyBsMTBuIH0gPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgIGlmIChsMTBuKSB7XG4gICAgICAgIGwxMG4udW5zdWJzY3JpYmUodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBSZXJlbmRlciB0aGlzIGNvbXBvbmVudCBpbiBhIG5ldyBsYW5ndWFnZS5cbiAgICAgKi9cbiAgICByZWxvY2FsaXplKCkge1xuICAgICAgLy8gV2hlbiB0aGUgYFJlYWN0TG9jYWxpemF0aW9uYCdzIGZhbGxiYWNrIGNoYWluIGNoYW5nZXMsIHVwZGF0ZSB0aGVcbiAgICAgIC8vIGNvbXBvbmVudC5cbiAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIEZpbmQgYSB0cmFuc2xhdGlvbiBieSBgaWRgIGFuZCBmb3JtYXQgaXQgdG8gYSBzdHJpbmcgdXNpbmcgYGFyZ3NgLlxuICAgICAqL1xuICAgIGdldFN0cmluZyhpZCwgYXJncywgZmFsbGJhY2spIHtcbiAgICAgIGNvbnN0IHsgbDEwbiB9ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICBpZiAoIWwxMG4pIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrIHx8IGlkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbDEwbi5nZXRTdHJpbmcoaWQsIGFyZ3MsIGZhbGxiYWNrKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChcbiAgICAgICAgSW5uZXIsXG4gICAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgLy8gZ2V0U3RyaW5nIG5lZWRzIHRvIGJlIHJlLWJvdW5kIG9uIHVwZGF0ZXMgdG8gdHJpZ2dlciBhIHJlLXJlbmRlclxuICAgICAgICAgIHsgZ2V0U3RyaW5nOiAoLi4uYXJncykgPT4gdGhpcy5nZXRTdHJpbmcoLi4uYXJncykgfSxcbiAgICAgICAgICB0aGlzLnByb3BzXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgV2l0aExvY2FsaXphdGlvbi5kaXNwbGF5TmFtZSA9IGBXaXRoTG9jYWxpemF0aW9uKCR7ZGlzcGxheU5hbWUoSW5uZXIpfSlgO1xuXG4gIFdpdGhMb2NhbGl6YXRpb24uY29udGV4dFR5cGVzID0ge1xuICAgIGwxMG46IGlzUmVhY3RMb2NhbGl6YXRpb25cbiAgfTtcblxuICByZXR1cm4gV2l0aExvY2FsaXphdGlvbjtcbn1cblxuZnVuY3Rpb24gZGlzcGxheU5hbWUoY29tcG9uZW50KSB7XG4gIHJldHVybiBjb21wb25lbnQuZGlzcGxheU5hbWUgfHwgY29tcG9uZW50Lm5hbWUgfHwgXCJDb21wb25lbnRcIjtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhpcyBkaXJlY3RvcnkuXG4gKi9cblxuLy8gRm9yIEhUTUwsIGNlcnRhaW4gdGFncyBzaG91bGQgb21pdCB0aGVpciBjbG9zZSB0YWcuIFdlIGtlZXAgYSB3aGl0ZWxpc3QgZm9yXG4vLyB0aG9zZSBzcGVjaWFsLWNhc2UgdGFncy5cblxudmFyIG9taXR0ZWRDbG9zZVRhZ3MgPSB7XG4gIGFyZWE6IHRydWUsXG4gIGJhc2U6IHRydWUsXG4gIGJyOiB0cnVlLFxuICBjb2w6IHRydWUsXG4gIGVtYmVkOiB0cnVlLFxuICBocjogdHJ1ZSxcbiAgaW1nOiB0cnVlLFxuICBpbnB1dDogdHJ1ZSxcbiAga2V5Z2VuOiB0cnVlLFxuICBsaW5rOiB0cnVlLFxuICBtZXRhOiB0cnVlLFxuICBwYXJhbTogdHJ1ZSxcbiAgc291cmNlOiB0cnVlLFxuICB0cmFjazogdHJ1ZSxcbiAgd2JyOiB0cnVlLFxuICAvLyBOT1RFOiBtZW51aXRlbSdzIGNsb3NlIHRhZyBzaG91bGQgYmUgb21pdHRlZCwgYnV0IHRoYXQgY2F1c2VzIHByb2JsZW1zLlxufTtcblxuZXhwb3J0IGRlZmF1bHQgb21pdHRlZENsb3NlVGFncztcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhpcyBkaXJlY3RvcnkuXG4gKi9cblxuaW1wb3J0IG9taXR0ZWRDbG9zZVRhZ3MgZnJvbSAnLi9vbWl0dGVkQ2xvc2VUYWdzJztcblxuLy8gRm9yIEhUTUwsIGNlcnRhaW4gdGFncyBjYW5ub3QgaGF2ZSBjaGlsZHJlbi4gVGhpcyBoYXMgdGhlIHNhbWUgcHVycG9zZSBhc1xuLy8gYG9taXR0ZWRDbG9zZVRhZ3NgIGV4Y2VwdCB0aGF0IGBtZW51aXRlbWAgc2hvdWxkIHN0aWxsIGhhdmUgaXRzIGNsb3NpbmcgdGFnLlxuXG52YXIgdm9pZEVsZW1lbnRUYWdzID0ge1xuICBtZW51aXRlbTogdHJ1ZSxcbiAgLi4ub21pdHRlZENsb3NlVGFncyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHZvaWRFbGVtZW50VGFncztcbiIsImltcG9ydCB7IGlzVmFsaWRFbGVtZW50LCBjbG9uZUVsZW1lbnQsIENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiO1xuaW1wb3J0IHsgaXNSZWFjdExvY2FsaXphdGlvbiB9IGZyb20gXCIuL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IFZPSURfRUxFTUVOVFMgZnJvbSBcIi4uL3ZlbmRvci92b2lkRWxlbWVudFRhZ3NcIjtcblxuLy8gTWF0Y2ggdGhlIG9wZW5pbmcgYW5nbGUgYnJhY2tldCAoPCkgaW4gSFRNTCB0YWdzLCBhbmQgSFRNTCBlbnRpdGllcyBsaWtlXG4vLyAmYW1wOywgJiMwMDM4OywgJiN4MDAyNjsuXG5jb25zdCByZU1hcmt1cCA9IC88fCYjP1xcdys7LztcblxuLypcbiAqIFByZXBhcmUgcHJvcHMgcGFzc2VkIHRvIGBMb2NhbGl6ZWRgIGZvciBmb3JtYXR0aW5nLlxuICovXG5mdW5jdGlvbiB0b0FyZ3VtZW50cyhwcm9wcykge1xuICBjb25zdCBhcmdzID0ge307XG4gIGNvbnN0IGVsZW1zID0ge307XG5cbiAgZm9yIChjb25zdCBbcHJvcG5hbWUsIHByb3B2YWxdIG9mIE9iamVjdC5lbnRyaWVzKHByb3BzKSkge1xuICAgIGlmIChwcm9wbmFtZS5zdGFydHNXaXRoKFwiJFwiKSkge1xuICAgICAgY29uc3QgbmFtZSA9IHByb3BuYW1lLnN1YnN0cigxKTtcbiAgICAgIGFyZ3NbbmFtZV0gPSBwcm9wdmFsO1xuICAgIH0gZWxzZSBpZiAoaXNWYWxpZEVsZW1lbnQocHJvcHZhbCkpIHtcbiAgICAgIC8vIFdlJ2xsIHRyeSB0byBtYXRjaCBsb2NhbE5hbWVzIG9mIGVsZW1lbnRzIGZvdW5kIGluIHRoZSB0cmFuc2xhdGlvbiB3aXRoXG4gICAgICAvLyBuYW1lcyBvZiBlbGVtZW50cyBwYXNzZWQgYXMgcHJvcHMuIGxvY2FsTmFtZXMgYXJlIGFsd2F5cyBsb3dlcmNhc2UuXG4gICAgICBjb25zdCBuYW1lID0gcHJvcG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGVsZW1zW25hbWVdID0gcHJvcHZhbDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gW2FyZ3MsIGVsZW1zXTtcbn1cblxuLypcbiAqIFRoZSBgTG9jYWxpemVkYCBjbGFzcyByZW5kZXJzIGl0cyBjaGlsZCB3aXRoIHRyYW5zbGF0ZWQgcHJvcHMgYW5kIGNoaWxkcmVuLlxuICpcbiAqICAgICA8TG9jYWxpemVkIGlkPVwiaGVsbG8td29ybGRcIj5cbiAqICAgICAgICAgPHA+eydIZWxsbywgd29ybGQhJ308L3A+XG4gKiAgICAgPC9Mb2NhbGl6ZWQ+XG4gKlxuICogVGhlIGBpZGAgcHJvcCBzaG91bGQgYmUgdGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSB0cmFuc2xhdGlvbi4gIEFueVxuICogYXR0cmlidXRlcyBmb3VuZCBpbiB0aGUgdHJhbnNsYXRpb24gd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSB3cmFwcGVkIGVsZW1lbnQuXG4gKlxuICogQXJndW1lbnRzIHRvIHRoZSB0cmFuc2xhdGlvbiBjYW4gYmUgcGFzc2VkIGFzIGAkYC1wcmVmaXhlZCBwcm9wcyBvblxuICogYExvY2FsaXplZGAuXG4gKlxuICogICAgIDxMb2NhbGl6ZWQgaWQ9XCJoZWxsby13b3JsZFwiICR1c2VybmFtZT17bmFtZX0+XG4gKiAgICAgICAgIDxwPnsnSGVsbG8sIHsgJHVzZXJuYW1lIH0hJ308L3A+XG4gKiAgICAgPC9Mb2NhbGl6ZWQ+XG4gKlxuICogIEl0J3MgcmVjb21tZW5kZWQgdGhhdCB0aGUgY29udGVudHMgb2YgdGhlIHdyYXBwZWQgY29tcG9uZW50IGJlIGEgc3RyaW5nXG4gKiAgZXhwcmVzc2lvbi4gIFRoZSBzdHJpbmcgd2lsbCBiZSB1c2VkIGFzIHRoZSB1bHRpbWF0ZSBmYWxsYmFjayBpZiBub1xuICogIHRyYW5zbGF0aW9uIGlzIGF2YWlsYWJsZS4gIEl0IGFsc28gbWFrZXMgaXQgZWFzeSB0byBncmVwIGZvciBzdHJpbmdzIGluIHRoZVxuICogIHNvdXJjZSBjb2RlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhbGl6ZWQgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCB7IGwxMG4gfSA9IHRoaXMuY29udGV4dDtcblxuICAgIGlmIChsMTBuKSB7XG4gICAgICBsMTBuLnN1YnNjcmliZSh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBjb25zdCB7IGwxMG4gfSA9IHRoaXMuY29udGV4dDtcblxuICAgIGlmIChsMTBuKSB7XG4gICAgICBsMTBuLnVuc3Vic2NyaWJlKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqIFJlcmVuZGVyIHRoaXMgY29tcG9uZW50IGluIGEgbmV3IGxhbmd1YWdlLlxuICAgKi9cbiAgcmVsb2NhbGl6ZSgpIHtcbiAgICAvLyBXaGVuIHRoZSBgUmVhY3RMb2NhbGl6YXRpb25gJ3MgZmFsbGJhY2sgY2hhaW4gY2hhbmdlcywgdXBkYXRlIHRoZVxuICAgIC8vIGNvbXBvbmVudC5cbiAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBsMTBuLCBwYXJzZU1hcmt1cCB9ID0gdGhpcy5jb250ZXh0O1xuICAgIGNvbnN0IHsgaWQsIGF0dHJzLCBjaGlsZHJlbjogZWxlbSA9IG51bGwgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAvLyBWYWxpZGF0ZSB0aGF0IHRoZSBjaGlsZCBlbGVtZW50IGlzbid0IGFuIGFycmF5XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIjxMb2NhbGl6ZWQvPiBleHBlY3RlZCB0byByZWNlaXZlIGEgc2luZ2xlIFwiICtcbiAgICAgICAgXCJSZWFjdCBub2RlIGNoaWxkXCIpO1xuICAgIH1cblxuICAgIGlmICghbDEwbikge1xuICAgICAgLy8gVXNlIHRoZSB3cmFwcGVkIGNvbXBvbmVudCBhcyBmYWxsYmFjay5cbiAgICAgIHJldHVybiBlbGVtO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1bmRsZSA9IGwxMG4uZ2V0QnVuZGxlKGlkKTtcblxuICAgIGlmIChidW5kbGUgPT09IG51bGwpIHtcbiAgICAgIC8vIFVzZSB0aGUgd3JhcHBlZCBjb21wb25lbnQgYXMgZmFsbGJhY2suXG4gICAgICByZXR1cm4gZWxlbTtcbiAgICB9XG5cbiAgICBjb25zdCBtc2cgPSBidW5kbGUuZ2V0TWVzc2FnZShpZCk7XG4gICAgY29uc3QgW2FyZ3MsIGVsZW1zXSA9IHRvQXJndW1lbnRzKHRoaXMucHJvcHMpO1xuICAgIGNvbnN0IG1lc3NhZ2VWYWx1ZSA9IGJ1bmRsZS5mb3JtYXQobXNnLCBhcmdzKTtcblxuICAgIC8vIENoZWNrIGlmIHRoZSBmYWxsYmFjayBpcyBhIHZhbGlkIGVsZW1lbnQgLS0gaWYgbm90IHRoZW4gaXQncyBub3RcbiAgICAvLyBtYXJrdXAgKGUuZy4gbm90aGluZyBvciBhIGZhbGxiYWNrIHN0cmluZykgc28ganVzdCB1c2UgdGhlXG4gICAgLy8gZm9ybWF0dGVkIG1lc3NhZ2UgdmFsdWVcbiAgICBpZiAoIWlzVmFsaWRFbGVtZW50KGVsZW0pKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZVZhbHVlO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWZhdWx0IGlzIHRvIGZvcmJpZCBhbGwgbWVzc2FnZSBhdHRyaWJ1dGVzLiBJZiB0aGUgYXR0cnMgcHJvcCBleGlzdHNcbiAgICAvLyBvbiB0aGUgTG9jYWxpemVkIGluc3RhbmNlLCBvbmx5IHNldCBtZXNzYWdlIGF0dHJpYnV0ZXMgd2hpY2ggaGF2ZSBiZWVuXG4gICAgLy8gZXhwbGljaXRseSBhbGxvd2VkIGJ5IHRoZSBkZXZlbG9wZXIuXG4gICAgaWYgKGF0dHJzICYmIG1zZy5hdHRycykge1xuICAgICAgdmFyIGxvY2FsaXplZFByb3BzID0ge307XG4gICAgICBmb3IgKGNvbnN0IFtuYW1lLCBhbGxvd2VkXSBvZiBPYmplY3QuZW50cmllcyhhdHRycykpIHtcbiAgICAgICAgaWYgKGFsbG93ZWQgJiYgbXNnLmF0dHJzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgbG9jYWxpemVkUHJvcHNbbmFtZV0gPSBidW5kbGUuZm9ybWF0KG1zZy5hdHRyc1tuYW1lXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgd3JhcHBlZCBjb21wb25lbnQgaXMgYSBrbm93biB2b2lkIGVsZW1lbnQsIGV4cGxpY2l0bHkgZGlzbWlzcyB0aGVcbiAgICAvLyBtZXNzYWdlIHZhbHVlIGFuZCBkbyBub3QgcGFzcyBpdCB0byBjbG9uZUVsZW1lbnQgaW4gb3JkZXIgdG8gYXZvaWQgdGhlXG4gICAgLy8gXCJ2b2lkIGVsZW1lbnQgdGFncyBtdXN0IG5laXRoZXIgaGF2ZSBgY2hpbGRyZW5gIG5vciB1c2VcbiAgICAvLyBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgXCIgZXJyb3IuXG4gICAgaWYgKGVsZW0udHlwZSBpbiBWT0lEX0VMRU1FTlRTKSB7XG4gICAgICByZXR1cm4gY2xvbmVFbGVtZW50KGVsZW0sIGxvY2FsaXplZFByb3BzKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgbWVzc2FnZSBoYXMgYSBudWxsIHZhbHVlLCB3ZSdyZSBvbmx5IGludGVyZXN0ZWQgaW4gaXRzIGF0dHJpYnV0ZXMuXG4gICAgLy8gRG8gbm90IHBhc3MgdGhlIG51bGwgdmFsdWUgdG8gY2xvbmVFbGVtZW50IGFzIGl0IHdvdWxkIG51a2UgYWxsIGNoaWxkcmVuXG4gICAgLy8gb2YgdGhlIHdyYXBwZWQgY29tcG9uZW50LlxuICAgIGlmIChtZXNzYWdlVmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBjbG9uZUVsZW1lbnQoZWxlbSwgbG9jYWxpemVkUHJvcHMpO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBtZXNzYWdlIHZhbHVlIGRvZXNuJ3QgY29udGFpbiBhbnkgbWFya3VwIG5vciBhbnkgSFRNTCBlbnRpdGllcyxcbiAgICAvLyBpbnNlcnQgaXQgYXMgdGhlIG9ubHkgY2hpbGQgb2YgdGhlIHdyYXBwZWQgY29tcG9uZW50LlxuICAgIGlmICghcmVNYXJrdXAudGVzdChtZXNzYWdlVmFsdWUpKSB7XG4gICAgICByZXR1cm4gY2xvbmVFbGVtZW50KGVsZW0sIGxvY2FsaXplZFByb3BzLCBtZXNzYWdlVmFsdWUpO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBtZXNzYWdlIGNvbnRhaW5zIG1hcmt1cCwgcGFyc2UgaXQgYW5kIHRyeSB0byBtYXRjaCB0aGUgY2hpbGRyZW5cbiAgICAvLyBmb3VuZCBpbiB0aGUgdHJhbnNsYXRpb24gd2l0aCB0aGUgcHJvcHMgcGFzc2VkIHRvIHRoaXMgTG9jYWxpemVkLlxuICAgIGNvbnN0IHRyYW5zbGF0aW9uTm9kZXMgPSBwYXJzZU1hcmt1cChtZXNzYWdlVmFsdWUpO1xuICAgIGNvbnN0IHRyYW5zbGF0ZWRDaGlsZHJlbiA9IHRyYW5zbGF0aW9uTm9kZXMubWFwKGNoaWxkTm9kZSA9PiB7XG4gICAgICBpZiAoY2hpbGROb2RlLm5vZGVUeXBlID09PSBjaGlsZE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgIHJldHVybiBjaGlsZE5vZGUudGV4dENvbnRlbnQ7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBjaGlsZCBpcyBub3QgZXhwZWN0ZWQganVzdCB0YWtlIGl0cyB0ZXh0Q29udGVudC5cbiAgICAgIGlmICghZWxlbXMuaGFzT3duUHJvcGVydHkoY2hpbGROb2RlLmxvY2FsTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkTm9kZS50ZXh0Q29udGVudDtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc291cmNlQ2hpbGQgPSBlbGVtc1tjaGlsZE5vZGUubG9jYWxOYW1lXTtcblxuICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgcGFzc2VkIGFzIGEgcHJvcCB0byA8TG9jYWxpemVkPiBpcyBhIGtub3duIHZvaWQgZWxlbWVudCxcbiAgICAgIC8vIGV4cGxpY2l0bHkgZGlzbWlzcyBhbnkgdGV4dENvbnRlbnQgd2hpY2ggbWlnaHQgaGF2ZSBhY2NpZGVudGFsbHkgYmVlblxuICAgICAgLy8gZGVmaW5lZCBpbiB0aGUgdHJhbnNsYXRpb24gdG8gcHJldmVudCB0aGUgXCJ2b2lkIGVsZW1lbnQgdGFncyBtdXN0IG5vdFxuICAgICAgLy8gaGF2ZSBjaGlsZHJlblwiIGVycm9yLlxuICAgICAgaWYgKHNvdXJjZUNoaWxkLnR5cGUgaW4gVk9JRF9FTEVNRU5UUykge1xuICAgICAgICByZXR1cm4gc291cmNlQ2hpbGQ7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE8gUHJvdGVjdCBjb250ZW50cyBvZiBlbGVtZW50cyB3cmFwcGVkIGluIDxMb2NhbGl6ZWQ+XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcHJvamVjdGZsdWVudC9mbHVlbnQuanMvaXNzdWVzLzE4NFxuICAgICAgLy8gVE9ETyAgQ29udHJvbCBsb2NhbGl6YWJsZSBhdHRyaWJ1dGVzIG9uIGVsZW1lbnRzIHBhc3NlZCBhcyBwcm9wc1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Byb2plY3RmbHVlbnQvZmx1ZW50LmpzL2lzc3Vlcy8xODVcbiAgICAgIHJldHVybiBjbG9uZUVsZW1lbnQoc291cmNlQ2hpbGQsIG51bGwsIGNoaWxkTm9kZS50ZXh0Q29udGVudCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY2xvbmVFbGVtZW50KGVsZW0sIGxvY2FsaXplZFByb3BzLCAuLi50cmFuc2xhdGVkQ2hpbGRyZW4pO1xuICB9XG59XG5cbkxvY2FsaXplZC5jb250ZXh0VHlwZXMgPSB7XG4gIGwxMG46IGlzUmVhY3RMb2NhbGl6YXRpb24sXG4gIHBhcnNlTWFya3VwOiBQcm9wVHlwZXMuZnVuYyxcbn07XG5cbkxvY2FsaXplZC5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZVxufTtcbiIsIi8qXG4gKiBAbW9kdWxlIGZsdWVudC1yZWFjdFxuICogQG92ZXJ2aWV3XG4gKlxuXG4gKiBgZmx1ZW50LXJlYWN0YCBwcm92aWRlcyBSZWFjdCBiaW5kaW5ncyBmb3IgRmx1ZW50LiAgSXQgdGFrZXMgYWR2YW50YWdlIG9mXG4gKiBSZWFjdCdzIENvbXBvbmVudHMgc3lzdGVtIGFuZCB0aGUgdmlydHVhbCBET00uICBUcmFuc2xhdGlvbnMgYXJlIGV4cG9zZWQgdG9cbiAqIGNvbXBvbmVudHMgdmlhIHRoZSBwcm92aWRlciBwYXR0ZXJuLlxuICpcbiAqICAgICA8TG9jYWxpemF0aW9uUHJvdmlkZXIgYnVuZGxlcz174oCmfT5cbiAqICAgICAgICAgPExvY2FsaXplZCBpZD1cImhlbGxvLXdvcmxkXCI+XG4gKiAgICAgICAgICAgICA8cD57J0hlbGxvLCB3b3JsZCEnfTwvcD5cbiAqICAgICAgICAgPC9Mb2NhbGl6ZWQ+XG4gKiAgICAgPC9Mb2NhbGl6YXRpb25Qcm92aWRlcj5cbiAqXG4gKiBDb25zdWx0IHRoZSBkb2N1bWVudGF0aW9uIG9mIHRoZSBgTG9jYWxpemF0aW9uUHJvdmlkZXJgIGFuZCB0aGUgYExvY2FsaXplZGBcbiAqIGNvbXBvbmVudHMgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cblxuZXhwb3J0IHsgZGVmYXVsdCBhcyBMb2NhbGl6YXRpb25Qcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVyXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHdpdGhMb2NhbGl6YXRpb24gfSBmcm9tIFwiLi93aXRoX2xvY2FsaXphdGlvblwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMb2NhbGl6ZWQgfSBmcm9tIFwiLi9sb2NhbGl6ZWRcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUmVhY3RMb2NhbGl6YXRpb24sIGlzUmVhY3RMb2NhbGl6YXRpb24gfVxuICBmcm9tIFwiLi9sb2NhbGl6YXRpb25cIjtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuY29uc3QgQUxMT1dFRF9TVFlMRV9UQUdTID0gW1wiY29sb3JcIiwgXCJiYWNrZ3JvdW5kQ29sb3JcIl07XG5cbmV4cG9ydCBjb25zdCBCdXR0b24gPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHN0eWxlID0ge307XG5cbiAgLy8gQWRkIGFsbG93ZWQgc3R5bGUgdGFncyBmcm9tIHByb3BzLCBlLmcuIHByb3BzLmNvbG9yIGJlY29tZXMgc3R5bGU9e2NvbG9yOiBwcm9wcy5jb2xvcn1cbiAgZm9yIChjb25zdCB0YWcgb2YgQUxMT1dFRF9TVFlMRV9UQUdTKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wc1t0YWddICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBzdHlsZVt0YWddID0gcHJvcHNbdGFnXTtcbiAgICB9XG4gIH1cbiAgLy8gcmVtb3ZlIGJvcmRlciBpZiBiZyBpcyBzZXQgdG8gc29tZXRoaW5nIGN1c3RvbVxuICBpZiAoc3R5bGUuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgc3R5bGUuYm9yZGVyID0gXCIwXCI7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZSB8fCBcIkFTUm91dGVyQnV0dG9uIHNlY29uZGFyeVwifVxuICAgICAgc3R5bGU9e3N0eWxlfVxuICAgID5cbiAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG4vLyBsaWZ0ZWQgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9raXR6ZS8yM2Q4MmJiOWViMGJhYWJmZDAzYTZhNzIwYjFkNjM3ZlxuY29uc3QgQ29uZGl0aW9uYWxXcmFwcGVyID0gKHsgY29uZGl0aW9uLCB3cmFwLCBjaGlsZHJlbiB9KSA9PlxuICBjb25kaXRpb24gJiYgd3JhcCA/IHdyYXAoY2hpbGRyZW4pIDogY2hpbGRyZW47XG5cbmV4cG9ydCBkZWZhdWx0IENvbmRpdGlvbmFsV3JhcHBlcjtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzYWZlVVJJKHVybCkge1xuICBpZiAoIXVybCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IHsgcHJvdG9jb2wgfSA9IG5ldyBVUkwodXJsKTtcbiAgY29uc3QgaXNBbGxvd2VkID0gW1xuICAgIFwiaHR0cDpcIixcbiAgICBcImh0dHBzOlwiLFxuICAgIFwiZGF0YTpcIixcbiAgICBcInJlc291cmNlOlwiLFxuICAgIFwiY2hyb21lOlwiLFxuICBdLmluY2x1ZGVzKHByb3RvY29sKTtcbiAgaWYgKCFpc0FsbG93ZWQpIHtcbiAgICBjb25zb2xlLndhcm4oYFRoZSBwcm90b2NvbCAke3Byb3RvY29sfSBpcyBub3QgYWxsb3dlZCBmb3IgdGVtcGxhdGUgVVJMcy5gKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gIH1cbiAgcmV0dXJuIGlzQWxsb3dlZCA/IHVybCA6IFwiXCI7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBMb2NhbGl6ZWQgfSBmcm9tIFwiZmx1ZW50LXJlYWN0XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBSSUNIX1RFWFRfS0VZUyB9IGZyb20gXCIuLi8uLi9yaWNoLXRleHQtc3RyaW5nc1wiO1xuaW1wb3J0IHsgc2FmZVVSSSB9IGZyb20gXCIuLi8uLi90ZW1wbGF0ZS11dGlsc1wiO1xuXG4vLyBFbGVtZW50cyBhbGxvd2VkIGluIHNuaXBwZXQgY29udGVudFxuY29uc3QgQUxMT1dFRF9UQUdTID0ge1xuICBiOiA8YiAvPixcbiAgaTogPGkgLz4sXG4gIHU6IDx1IC8+LFxuICBzdHJvbmc6IDxzdHJvbmcgLz4sXG4gIGVtOiA8ZW0gLz4sXG4gIGJyOiA8YnIgLz4sXG59O1xuXG4vKipcbiAqIFRyYW5zZm9ybSBhbiBvYmplY3QgKHRhZyBuYW1lOiB7dXJsfSkgaW50byAodGFnIG5hbWU6IGFuY2hvcikgd2hlcmUgdGhlIHVybFxuICogaXMgdXNlZCBhcyBocmVmLCBpbiBvcmRlciB0byByZW5kZXIgbGlua3MgaW5zaWRlIGEgRmx1ZW50LkxvY2FsaXplZCBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0TGlua3MoXG4gIGxpbmtzLFxuICBzZW5kQ2xpY2ssXG4gIGRvTm90QXV0b0Jsb2NrLFxuICBvcGVuTmV3V2luZG93ID0gZmFsc2Vcbikge1xuICBpZiAobGlua3MpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobGlua3MpLnJlZHVjZSgoYWNjLCBsaW5rVGFnKSA9PiB7XG4gICAgICBjb25zdCB7IGFjdGlvbiB9ID0gbGlua3NbbGlua1RhZ107XG4gICAgICAvLyBTZXR0aW5nIHRoZSB2YWx1ZSB0byBmYWxzZSB3aWxsIG5vdCBpbmNsdWRlIHRoZSBhdHRyaWJ1dGUgaW4gdGhlIGFuY2hvclxuICAgICAgY29uc3QgdXJsID0gYWN0aW9uID8gZmFsc2UgOiBzYWZlVVJJKGxpbmtzW2xpbmtUYWddLnVybCk7XG5cbiAgICAgIGFjY1tsaW5rVGFnXSA9IChcbiAgICAgICAgLy8gZXNsaW50IHdhcyBnZXR0aW5nIGEgZmFsc2UgcG9zaXRpdmUgY2F1c2VkIGJ5IHRoZSBkeW5hbWljIGluamVjdGlvblxuICAgICAgICAvLyBvZiBjb250ZW50LlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvYW5jaG9yLWhhcy1jb250ZW50XG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj17dXJsfVxuICAgICAgICAgIHRhcmdldD17b3Blbk5ld1dpbmRvdyA/IFwiX2JsYW5rXCIgOiBcIlwifVxuICAgICAgICAgIGRhdGEtbWV0cmljPXtsaW5rc1tsaW5rVGFnXS5tZXRyaWN9XG4gICAgICAgICAgZGF0YS1hY3Rpb249e2FjdGlvbn1cbiAgICAgICAgICBkYXRhLWFyZ3M9e2xpbmtzW2xpbmtUYWddLmFyZ3N9XG4gICAgICAgICAgZGF0YS1kb19ub3RfYXV0b2Jsb2NrPXtkb05vdEF1dG9CbG9ja31cbiAgICAgICAgICBkYXRhLWVudHJ5cG9pbnRfbmFtZT17bGlua3NbbGlua1RhZ10uZW50cnlwb2ludF9uYW1lfVxuICAgICAgICAgIGRhdGEtZW50cnlwb2ludF92YWx1ZT17bGlua3NbbGlua1RhZ10uZW50cnlwb2ludF92YWx1ZX1cbiAgICAgICAgICByZWw9XCJub3JlZmVycmVyXCJcbiAgICAgICAgICBvbkNsaWNrPXtzZW5kQ2xpY2t9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBNZXNzYWdlIHdyYXBwZXIgdXNlZCB0byBzYW5pdGl6ZSBtYXJrdXAgYW5kIHJlbmRlciBIVE1MLlxuICovXG5leHBvcnQgZnVuY3Rpb24gUmljaFRleHQocHJvcHMpIHtcbiAgaWYgKCFSSUNIX1RFWFRfS0VZUy5pbmNsdWRlcyhwcm9wcy5sb2NhbGl6YXRpb25faWQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEFTUm91dGVyOiAke3Byb3BzLmxvY2FsaXphdGlvbl9pZH0gaXMgbm90IGEgdmFsaWQgcmljaCB0ZXh0IHByb3BlcnR5LiBJZiB5b3Ugd2FudCBpdCB0byBiZSBwcm9jZXNzZWQsIHlvdSBuZWVkIHRvIGFkZCBpdCB0byBhc3JvdXRlci9yaWNoLXRleHQtc3RyaW5ncy5qc2BcbiAgICApO1xuICB9XG4gIHJldHVybiAoXG4gICAgPExvY2FsaXplZFxuICAgICAgaWQ9e3Byb3BzLmxvY2FsaXphdGlvbl9pZH1cbiAgICAgIHsuLi5BTExPV0VEX1RBR1N9XG4gICAgICB7Li4ucHJvcHMuY3VzdG9tRWxlbWVudHN9XG4gICAgICB7Li4uY29udmVydExpbmtzKFxuICAgICAgICBwcm9wcy5saW5rcyxcbiAgICAgICAgcHJvcHMuc2VuZENsaWNrLFxuICAgICAgICBwcm9wcy5kb05vdEF1dG9CbG9jayxcbiAgICAgICAgcHJvcHMub3Blbk5ld1dpbmRvd1xuICAgICAgKX1cbiAgICA+XG4gICAgICA8c3Bhbj57cHJvcHMudGV4dH08L3NwYW4+XG4gICAgPC9Mb2NhbGl6ZWQ+XG4gICk7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBTbmlwcGV0QmFzZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQmxvY2tDbGlja2VkID0gdGhpcy5vbkJsb2NrQ2xpY2tlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25EaXNtaXNzQ2xpY2tlZCA9IHRoaXMub25EaXNtaXNzQ2xpY2tlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2V0QmxvY2tCdXR0b25SZWYgPSB0aGlzLnNldEJsb2NrQnV0dG9uUmVmLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkJsb2NrQnV0dG9uTW91c2VFbnRlciA9IHRoaXMub25CbG9ja0J1dHRvbk1vdXNlRW50ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQmxvY2tCdXR0b25Nb3VzZUxlYXZlID0gdGhpcy5vbkJsb2NrQnV0dG9uTW91c2VMZWF2ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7IGJsb2NrQnV0dG9uSG92ZXI6IGZhbHNlIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5ibG9ja0J1dHRvblJlZikge1xuICAgICAgdGhpcy5ibG9ja0J1dHRvblJlZi5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcIm1vdXNlZW50ZXJcIixcbiAgICAgICAgdGhpcy5vbkJsb2NrQnV0dG9uTW91c2VFbnRlclxuICAgICAgKTtcbiAgICAgIHRoaXMuYmxvY2tCdXR0b25SZWYuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJtb3VzZWxlYXZlXCIsXG4gICAgICAgIHRoaXMub25CbG9ja0J1dHRvbk1vdXNlTGVhdmVcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuYmxvY2tCdXR0b25SZWYpIHtcbiAgICAgIHRoaXMuYmxvY2tCdXR0b25SZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJtb3VzZWVudGVyXCIsXG4gICAgICAgIHRoaXMub25CbG9ja0J1dHRvbk1vdXNlRW50ZXJcbiAgICAgICk7XG4gICAgICB0aGlzLmJsb2NrQnV0dG9uUmVmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwibW91c2VsZWF2ZVwiLFxuICAgICAgICB0aGlzLm9uQmxvY2tCdXR0b25Nb3VzZUxlYXZlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHNldEJsb2NrQnV0dG9uUmVmKGVsZW1lbnQpIHtcbiAgICB0aGlzLmJsb2NrQnV0dG9uUmVmID0gZWxlbWVudDtcbiAgfVxuXG4gIG9uQmxvY2tCdXR0b25Nb3VzZUVudGVyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBibG9ja0J1dHRvbkhvdmVyOiB0cnVlIH0pO1xuICB9XG5cbiAgb25CbG9ja0J1dHRvbk1vdXNlTGVhdmUoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGJsb2NrQnV0dG9uSG92ZXI6IGZhbHNlIH0pO1xuICB9XG5cbiAgb25CbG9ja0NsaWNrZWQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvdmlkZXIgIT09IFwicHJldmlld1wiKSB7XG4gICAgICB0aGlzLnByb3BzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5KHtcbiAgICAgICAgZXZlbnQ6IFwiQkxPQ0tcIixcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuVUlTdXJmYWNlLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vbkJsb2NrKCk7XG4gIH1cblxuICBvbkRpc21pc3NDbGlja2VkKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb3ZpZGVyICE9PSBcInByZXZpZXdcIikge1xuICAgICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICAgIGV2ZW50OiBcIkRJU01JU1NcIixcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuVUlTdXJmYWNlLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vbkRpc21pc3MoKTtcbiAgfVxuXG4gIHJlbmRlckRpc21pc3NCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZm9vdGVyRGlzbWlzcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvb3Rlci1jb250ZW50XCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIkFTUm91dGVyQnV0dG9uIHNlY29uZGFyeVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25EaXNtaXNzQ2xpY2tlZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuY29udGVudC5zY2VuZTJfZGlzbWlzc19idXR0b25fdGV4dH1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgbGFiZWwgPSB0aGlzLnByb3BzLmNvbnRlbnQuYmxvY2tfYnV0dG9uX3RleHQgfHwgXCJSZW1vdmUgdGhpc1wiO1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJsb2NrQnV0dG9uXCJcbiAgICAgICAgdGl0bGU9e2xhYmVsfVxuICAgICAgICBhcmlhLWxhYmVsPXtsYWJlbH1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkJsb2NrQ2xpY2tlZH1cbiAgICAgICAgcmVmPXt0aGlzLnNldEJsb2NrQnV0dG9uUmVmfVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBibG9ja0J1dHRvbkhvdmVyIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgY29udGFpbmVyQ2xhc3NOYW1lID0gYFNuaXBwZXRCYXNlQ29udGFpbmVyJHtcbiAgICAgIHByb3BzLmNsYXNzTmFtZSA/IGAgJHtwcm9wcy5jbGFzc05hbWV9YCA6IFwiXCJcbiAgICB9JHtibG9ja0J1dHRvbkhvdmVyID8gXCIgYWN0aXZlXCIgOiBcIlwifWA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NvbnRhaW5lckNsYXNzTmFtZX0gc3R5bGU9e3RoaXMucHJvcHMudGV4dFN0eWxlfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbm5lcldyYXBwZXJcIj57cHJvcHMuY2hpbGRyZW59PC9kaXY+XG4gICAgICAgIHt0aGlzLnJlbmRlckRpc21pc3NCdXR0b24oKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0J1dHRvbi9CdXR0b25cIjtcbmltcG9ydCBDb25kaXRpb25hbFdyYXBwZXIgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvQ29uZGl0aW9uYWxXcmFwcGVyL0NvbmRpdGlvbmFsV3JhcHBlclwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgUmljaFRleHQgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9SaWNoVGV4dC9SaWNoVGV4dFwiO1xuaW1wb3J0IHsgc2FmZVVSSSB9IGZyb20gXCIuLi8uLi90ZW1wbGF0ZS11dGlsc1wiO1xuaW1wb3J0IHsgU25pcHBldEJhc2UgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9TbmlwcGV0QmFzZS9TbmlwcGV0QmFzZVwiO1xuXG5jb25zdCBERUZBVUxUX0lDT05fUEFUSCA9IFwiY2hyb21lOi8vYnJhbmRpbmcvY29udGVudC9pY29uNjQucG5nXCI7XG4vLyBBbHQgdGV4dCBwbGFjZWhvbGRlciBpbiBjYXNlIHRoZSBwcm9wIGZyb20gdGhlIHNlcnZlciBpc24ndCBhdmFpbGFibGVcbmNvbnN0IElDT05fQUxUX1RFWFQgPSBcIlwiO1xuXG5leHBvcnQgY2xhc3MgU2ltcGxlU25pcHBldCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQnV0dG9uQ2xpY2sgPSB0aGlzLm9uQnV0dG9uQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uQnV0dG9uQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvdmlkZXIgIT09IFwicHJldmlld1wiKSB7XG4gICAgICB0aGlzLnByb3BzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5KHtcbiAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tfQlVUVE9OXCIsXG4gICAgICAgIGlkOiB0aGlzLnByb3BzLlVJU3VyZmFjZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBidXR0b25fdXJsLFxuICAgICAgYnV0dG9uX2VudHJ5cG9pbnRfdmFsdWUsXG4gICAgICBidXR0b25fZW50cnlwb2ludF9uYW1lLFxuICAgIH0gPSB0aGlzLnByb3BzLmNvbnRlbnQ7XG4gICAgLy8gSWYgYnV0dG9uX3VybCBpcyBkZWZpbmVkIGhhbmRsZSBpdCBhcyBPUEVOX1VSTCBhY3Rpb25cbiAgICBjb25zdCB0eXBlID0gdGhpcy5wcm9wcy5jb250ZW50LmJ1dHRvbl9hY3Rpb24gfHwgKGJ1dHRvbl91cmwgJiYgXCJPUEVOX1VSTFwiKTtcbiAgICAvLyBBc3NpZ24gdGhlIHNuaXBwZXQgcmVmZXJyYWwgZm9yIHRoZSBhY3Rpb25cbiAgICBjb25zdCBlbnRyeXBvaW50ID0gYnV0dG9uX2VudHJ5cG9pbnRfbmFtZVxuICAgICAgPyBuZXcgVVJMU2VhcmNoUGFyYW1zKFtcbiAgICAgICAgICBbYnV0dG9uX2VudHJ5cG9pbnRfbmFtZSwgYnV0dG9uX2VudHJ5cG9pbnRfdmFsdWVdLFxuICAgICAgICBdKS50b1N0cmluZygpXG4gICAgICA6IGJ1dHRvbl9lbnRyeXBvaW50X3ZhbHVlO1xuICAgIHRoaXMucHJvcHMub25BY3Rpb24oe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYXJnczogdGhpcy5wcm9wcy5jb250ZW50LmJ1dHRvbl9hY3Rpb25fYXJncyB8fCBidXR0b25fdXJsLFxuICAgICAgICAuLi4oZW50cnlwb2ludCAmJiB7IGVudHJ5cG9pbnQgfSksXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGlmICghdGhpcy5wcm9wcy5jb250ZW50LmRvX25vdF9hdXRvYmxvY2spIHtcbiAgICAgIHRoaXMucHJvcHMub25CbG9jaygpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG91bGRSZW5kZXJCdXR0b24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMucHJvcHMuY29udGVudC5idXR0b25fYWN0aW9uIHx8XG4gICAgICB0aGlzLnByb3BzLm9uQnV0dG9uQ2xpY2sgfHxcbiAgICAgIHRoaXMucHJvcHMuY29udGVudC5idXR0b25fdXJsXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclRpdGxlKCkge1xuICAgIGNvbnN0IHsgdGl0bGUgfSA9IHRoaXMucHJvcHMuY29udGVudDtcbiAgICByZXR1cm4gdGl0bGUgPyAoXG4gICAgICA8aDNcbiAgICAgICAgY2xhc3NOYW1lPXtgdGl0bGUgJHt0aGlzLl9zaG91bGRSZW5kZXJCdXR0b24oKSA/IFwidGl0bGUtaW5saW5lXCIgOiBcIlwifWB9XG4gICAgICA+XG4gICAgICAgIHt0aGlzLnJlbmRlclRpdGxlSWNvbigpfSB7dGl0bGV9XG4gICAgICA8L2gzPlxuICAgICkgOiBudWxsO1xuICB9XG5cbiAgcmVuZGVyVGl0bGVJY29uKCkge1xuICAgIGNvbnN0IHRpdGxlSWNvbkxpZ2h0ID0gc2FmZVVSSSh0aGlzLnByb3BzLmNvbnRlbnQudGl0bGVfaWNvbik7XG4gICAgY29uc3QgdGl0bGVJY29uRGFyayA9IHNhZmVVUkkoXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnQudGl0bGVfaWNvbl9kYXJrX3RoZW1lIHx8IHRoaXMucHJvcHMuY29udGVudC50aXRsZV9pY29uXG4gICAgKTtcbiAgICBpZiAoIXRpdGxlSWNvbkxpZ2h0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICA8c3BhblxuICAgICAgICAgIGNsYXNzTmFtZT1cInRpdGxlSWNvbiBpY29uLWxpZ2h0LXRoZW1lXCJcbiAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoXCIke3RpdGxlSWNvbkxpZ2h0fVwiKWAgfX1cbiAgICAgICAgLz5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0aXRsZUljb24gaWNvbi1kYXJrLXRoZW1lXCJcbiAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoXCIke3RpdGxlSWNvbkRhcmt9XCIpYCB9fVxuICAgICAgICAvPlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyQnV0dG9uKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgaWYgKCF0aGlzLl9zaG91bGRSZW5kZXJCdXR0b24oKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxCdXR0b25cbiAgICAgICAgb25DbGljaz17cHJvcHMub25CdXR0b25DbGljayB8fCB0aGlzLm9uQnV0dG9uQ2xpY2t9XG4gICAgICAgIGNvbG9yPXtwcm9wcy5jb250ZW50LmJ1dHRvbl9jb2xvcn1cbiAgICAgICAgYmFja2dyb3VuZENvbG9yPXtwcm9wcy5jb250ZW50LmJ1dHRvbl9iYWNrZ3JvdW5kX2NvbG9yfVxuICAgICAgPlxuICAgICAgICB7cHJvcHMuY29udGVudC5idXR0b25fbGFiZWx9XG4gICAgICA8L0J1dHRvbj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyVGV4dCgpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIHJldHVybiAoXG4gICAgICA8UmljaFRleHRcbiAgICAgICAgdGV4dD17cHJvcHMuY29udGVudC50ZXh0fVxuICAgICAgICBjdXN0b21FbGVtZW50cz17dGhpcy5wcm9wcy5jdXN0b21FbGVtZW50c31cbiAgICAgICAgbG9jYWxpemF0aW9uX2lkPVwidGV4dFwiXG4gICAgICAgIGxpbmtzPXtwcm9wcy5jb250ZW50LmxpbmtzfVxuICAgICAgICBzZW5kQ2xpY2s9e3Byb3BzLnNlbmRDbGlja31cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHdyYXBTZWN0aW9uSGVhZGVyKHVybCkge1xuICAgIHJldHVybiBmdW5jdGlvbihjaGlsZHJlbikge1xuICAgICAgcmV0dXJuIDxhIGhyZWY9e3VybH0+e2NoaWxkcmVufTwvYT47XG4gICAgfTtcbiAgfVxuXG4gIHdyYXBTbmlwcGV0Q29udGVudChjaGlsZHJlbikge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImlubmVyQ29udGVudFdyYXBwZXJcIj57Y2hpbGRyZW59PC9kaXY+O1xuICB9XG5cbiAgcmVuZGVyU2VjdGlvbkhlYWRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuXG4gICAgLy8gYW4gaWNvbiBhbmQgdGV4dCBtdXN0IGJlIHNwZWNpZmllZCB0byByZW5kZXIgdGhlIHNlY3Rpb24gaGVhZGVyXG4gICAgaWYgKHByb3BzLmNvbnRlbnQuc2VjdGlvbl90aXRsZV9pY29uICYmIHByb3BzLmNvbnRlbnQuc2VjdGlvbl90aXRsZV90ZXh0KSB7XG4gICAgICBjb25zdCBzZWN0aW9uVGl0bGVJY29uTGlnaHQgPSBzYWZlVVJJKHByb3BzLmNvbnRlbnQuc2VjdGlvbl90aXRsZV9pY29uKTtcbiAgICAgIGNvbnN0IHNlY3Rpb25UaXRsZUljb25EYXJrID0gc2FmZVVSSShcbiAgICAgICAgcHJvcHMuY29udGVudC5zZWN0aW9uX3RpdGxlX2ljb25fZGFya190aGVtZSB8fFxuICAgICAgICAgIHByb3BzLmNvbnRlbnQuc2VjdGlvbl90aXRsZV9pY29uXG4gICAgICApO1xuICAgICAgY29uc3Qgc2VjdGlvblRpdGxlVVJMID0gcHJvcHMuY29udGVudC5zZWN0aW9uX3RpdGxlX3VybDtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLWhlYWRlclwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlXCI+XG4gICAgICAgICAgICA8Q29uZGl0aW9uYWxXcmFwcGVyXG4gICAgICAgICAgICAgIGNvbmRpdGlvbj17c2VjdGlvblRpdGxlVVJMfVxuICAgICAgICAgICAgICB3cmFwPXt0aGlzLndyYXBTZWN0aW9uSGVhZGVyKHNlY3Rpb25UaXRsZVVSTCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbiBpY29uLXNtYWxsLXNwYWNlciBpY29uLWxpZ2h0LXRoZW1lXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoXCIke3NlY3Rpb25UaXRsZUljb25MaWdodH1cIilgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbiBpY29uLXNtYWxsLXNwYWNlciBpY29uLWRhcmstdGhlbWVcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogYHVybChcIiR7c2VjdGlvblRpdGxlSWNvbkRhcmt9XCIpYCB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlLXRleHRcIj5cbiAgICAgICAgICAgICAgICB7cHJvcHMuY29udGVudC5zZWN0aW9uX3RpdGxlX3RleHR9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvQ29uZGl0aW9uYWxXcmFwcGVyPlxuICAgICAgICAgIDwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHNlY3Rpb25IZWFkZXIgPSB0aGlzLnJlbmRlclNlY3Rpb25IZWFkZXIoKTtcbiAgICBsZXQgY2xhc3NOYW1lID0gXCJTaW1wbGVTbmlwcGV0XCI7XG5cbiAgICBpZiAocHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgICBjbGFzc05hbWUgKz0gYCAke3Byb3BzLmNsYXNzTmFtZX1gO1xuICAgIH1cbiAgICBpZiAocHJvcHMuY29udGVudC50YWxsKSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgdGFsbFwiO1xuICAgIH1cbiAgICBpZiAoc2VjdGlvbkhlYWRlcikge1xuICAgICAgY2xhc3NOYW1lICs9IFwiIGhhcy1zZWN0aW9uLWhlYWRlclwiO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNuaXBwZXQtaG92ZXItd3JhcHBlclwiPlxuICAgICAgICA8U25pcHBldEJhc2VcbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgdGV4dFN0eWxlPXt0aGlzLnByb3BzLnRleHRTdHlsZX1cbiAgICAgICAgPlxuICAgICAgICAgIHtzZWN0aW9uSGVhZGVyfVxuICAgICAgICAgIDxDb25kaXRpb25hbFdyYXBwZXJcbiAgICAgICAgICAgIGNvbmRpdGlvbj17c2VjdGlvbkhlYWRlcn1cbiAgICAgICAgICAgIHdyYXA9e3RoaXMud3JhcFNuaXBwZXRDb250ZW50fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPXtzYWZlVVJJKHByb3BzLmNvbnRlbnQuaWNvbikgfHwgREVGQVVMVF9JQ09OX1BBVEh9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImljb24gaWNvbi1saWdodC10aGVtZVwiXG4gICAgICAgICAgICAgIGFsdD17cHJvcHMuY29udGVudC5pY29uX2FsdF90ZXh0IHx8IElDT05fQUxUX1RFWFR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICBzcmM9e1xuICAgICAgICAgICAgICAgIHNhZmVVUkkocHJvcHMuY29udGVudC5pY29uX2RhcmtfdGhlbWUgfHwgcHJvcHMuY29udGVudC5pY29uKSB8fFxuICAgICAgICAgICAgICAgIERFRkFVTFRfSUNPTl9QQVRIXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbiBpY29uLWRhcmstdGhlbWVcIlxuICAgICAgICAgICAgICBhbHQ9e3Byb3BzLmNvbnRlbnQuaWNvbl9hbHRfdGV4dCB8fCBJQ09OX0FMVF9URVhUfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIHt0aGlzLnJlbmRlclRpdGxlKCl9IDxwIGNsYXNzTmFtZT1cImJvZHlcIj57dGhpcy5yZW5kZXJUZXh0KCl9PC9wPlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5leHRyYUNvbnRlbnR9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHs8ZGl2Pnt0aGlzLnJlbmRlckJ1dHRvbigpfTwvZGl2Pn1cbiAgICAgICAgICA8L0NvbmRpdGlvbmFsV3JhcHBlcj5cbiAgICAgICAgPC9TbmlwcGV0QmFzZT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNpbXBsZVNuaXBwZXQgfSBmcm9tIFwiLi4vU2ltcGxlU25pcHBldC9TaW1wbGVTbmlwcGV0XCI7XG5cbmNsYXNzIEVPWVNuaXBwZXRCYXNlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuaGFuZGxlU3VibWl0ID0gdGhpcy5oYW5kbGVTdWJtaXQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBzZXRGcmVxdWVuY3lWYWx1ZSAtIGBmcmVxdWVuY3lgIGZvcm0gcGFyYW1ldGVyIHZhbHVlIHNob3VsZCBiZSBgbW9udGhseWBcbiAgICogICAgICAgICAgICAgICAgICAgICBpZiBgbW9udGhseS1jaGVja2JveGAgaXMgc2VsZWN0ZWQgb3IgYHNpbmdsZWAgb3RoZXJ3aXNlXG4gICAqL1xuICBzZXRGcmVxdWVuY3lWYWx1ZSgpIHtcbiAgICBjb25zdCBmcmVxdWVuY3lDaGVja2JveCA9IHRoaXMucmVmcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjbW9udGhseS1jaGVja2JveFwiKTtcbiAgICBpZiAoZnJlcXVlbmN5Q2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgdGhpcy5yZWZzLmZvcm0ucXVlcnlTZWxlY3RvcihcIltuYW1lPSdmcmVxdWVuY3knXVwiKS52YWx1ZSA9IFwibW9udGhseVwiO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5wcm9wcy5zZW5kQ2xpY2soZXZlbnQpO1xuICAgIHRoaXMuc2V0RnJlcXVlbmN5VmFsdWUoKTtcbiAgICBpZiAoIXRoaXMucHJvcHMuY29udGVudC5kb19ub3RfYXV0b2Jsb2NrKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQmxvY2soKTtcbiAgICB9XG4gICAgdGhpcy5yZWZzLmZvcm0uc3VibWl0KCk7XG4gIH1cblxuICByZW5kZXJEb25hdGlvbnMoKSB7XG4gICAgY29uc3QgZmllbGROYW1lcyA9IFtcImZpcnN0XCIsIFwic2Vjb25kXCIsIFwidGhpcmRcIiwgXCJmb3VydGhcIl07XG4gICAgY29uc3QgbnVtYmVyRm9ybWF0ID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50LmxvY2FsZSB8fCBuYXZpZ2F0b3IubGFuZ3VhZ2UsXG4gICAgICB7XG4gICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgIGN1cnJlbmN5OiB0aGlzLnByb3BzLmNvbnRlbnQuY3VycmVuY3lfY29kZSxcbiAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAwLFxuICAgICAgfVxuICAgICk7XG4gICAgLy8gRGVmYXVsdCB0byBgc2Vjb25kYCBidXR0b25cbiAgICBjb25zdCB7IHNlbGVjdGVkX2J1dHRvbiB9ID0gdGhpcy5wcm9wcy5jb250ZW50O1xuICAgIGNvbnN0IGJ0blN0eWxlID0ge1xuICAgICAgY29sb3I6IHRoaXMucHJvcHMuY29udGVudC5idXR0b25fY29sb3IsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMucHJvcHMuY29udGVudC5idXR0b25fYmFja2dyb3VuZF9jb2xvcixcbiAgICB9O1xuICAgIGNvbnN0IGRvbmF0aW9uVVJMUGFyYW1zID0gW107XG4gICAgY29uc3QgcGFyYW1zU3RhcnRJbmRleCA9IHRoaXMucHJvcHMuY29udGVudC5kb25hdGlvbl9mb3JtX3VybC5pbmRleE9mKFwiP1wiKTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIG5ldyBVUkxTZWFyY2hQYXJhbXMoXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnQuZG9uYXRpb25fZm9ybV91cmwuc2xpY2UocGFyYW1zU3RhcnRJbmRleClcbiAgICApLmVudHJpZXMoKSkge1xuICAgICAgZG9uYXRpb25VUkxQYXJhbXMucHVzaChlbnRyeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtXG4gICAgICAgIGNsYXNzTmFtZT1cIkVPWVNuaXBwZXRGb3JtXCJcbiAgICAgICAgYWN0aW9uPXt0aGlzLnByb3BzLmNvbnRlbnQuZG9uYXRpb25fZm9ybV91cmx9XG4gICAgICAgIG1ldGhvZD17dGhpcy5wcm9wcy5mb3JtX21ldGhvZH1cbiAgICAgICAgb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fVxuICAgICAgICBkYXRhLW1ldHJpYz1cIkVPWVNuaXBwZXRGb3JtXCJcbiAgICAgICAgcmVmPVwiZm9ybVwiXG4gICAgICA+XG4gICAgICAgIHtkb25hdGlvblVSTFBhcmFtcy5tYXAoKFtrZXksIHZhbHVlXSwgaWR4KSA9PiAoXG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPXtrZXl9IHZhbHVlPXt2YWx1ZX0ga2V5PXtpZHh9IC8+XG4gICAgICAgICkpfVxuICAgICAgICB7ZmllbGROYW1lcy5tYXAoKGZpZWxkLCBpZHgpID0+IHtcbiAgICAgICAgICBjb25zdCBidXR0b25fbmFtZSA9IGBkb25hdGlvbl9hbW91bnRfJHtmaWVsZH1gO1xuICAgICAgICAgIGNvbnN0IGFtb3VudCA9IHRoaXMucHJvcHMuY29udGVudFtidXR0b25fbmFtZV07XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudCBrZXk9e2lkeH0+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgbmFtZT1cImFtb3VudFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2Ftb3VudH1cbiAgICAgICAgICAgICAgICBpZD17ZmllbGR9XG4gICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2J1dHRvbl9uYW1lID09PSBzZWxlY3RlZF9idXR0b259XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXtmaWVsZH0gY2xhc3NOYW1lPVwiZG9uYXRpb24tYW1vdW50XCI+XG4gICAgICAgICAgICAgICAge251bWJlckZvcm1hdC5mb3JtYXQoYW1vdW50KX1cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb250aGx5LWNoZWNrYm94LWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxpbnB1dCBpZD1cIm1vbnRobHktY2hlY2tib3hcIiB0eXBlPVwiY2hlY2tib3hcIiAvPlxuICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwibW9udGhseS1jaGVja2JveFwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY29udGVudC5tb250aGx5X2NoZWNrYm94X2xhYmVsX3RleHR9XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiZnJlcXVlbmN5XCIgdmFsdWU9XCJzaW5nbGVcIiAvPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwiaGlkZGVuXCJcbiAgICAgICAgICBuYW1lPVwiY3VycmVuY3lcIlxuICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLmNvbnRlbnQuY3VycmVuY3lfY29kZX1cbiAgICAgICAgLz5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cImhpZGRlblwiXG4gICAgICAgICAgbmFtZT1cInByZXNldHNcIlxuICAgICAgICAgIHZhbHVlPXtmaWVsZE5hbWVzLm1hcChcbiAgICAgICAgICAgIGZpZWxkID0+IHRoaXMucHJvcHMuY29udGVudFtgZG9uYXRpb25fYW1vdW50XyR7ZmllbGR9YF1cbiAgICAgICAgICApfVxuICAgICAgICAvPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgc3R5bGU9e2J0blN0eWxlfVxuICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cIkFTUm91dGVyQnV0dG9uIHByaW1hcnkgZG9uYXRpb24tZm9ybS11cmxcIlxuICAgICAgICA+XG4gICAgICAgICAge3RoaXMucHJvcHMuY29udGVudC5idXR0b25fbGFiZWx9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgdGV4dFN0eWxlID0ge1xuICAgICAgY29sb3I6IHRoaXMucHJvcHMuY29udGVudC50ZXh0X2NvbG9yLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnByb3BzLmNvbnRlbnQuYmFja2dyb3VuZF9jb2xvcixcbiAgICB9O1xuICAgIGNvbnN0IGN1c3RvbUVsZW1lbnQgPSAoXG4gICAgICA8ZW0gc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiB0aGlzLnByb3BzLmNvbnRlbnQuaGlnaGxpZ2h0X2NvbG9yIH19IC8+XG4gICAgKTtcbiAgICByZXR1cm4gKFxuICAgICAgPFNpbXBsZVNuaXBwZXRcbiAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jb250ZW50LnRlc3R9XG4gICAgICAgIGN1c3RvbUVsZW1lbnRzPXt7IGVtOiBjdXN0b21FbGVtZW50IH19XG4gICAgICAgIHRleHRTdHlsZT17dGV4dFN0eWxlfVxuICAgICAgICBleHRyYUNvbnRlbnQ9e3RoaXMucmVuZGVyRG9uYXRpb25zKCl9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IEVPWVNuaXBwZXQgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IGV4dGVuZGVkQ29udGVudCA9IHtcbiAgICBtb250aGx5X2NoZWNrYm94X2xhYmVsX3RleHQ6IFwiTWFrZSBteSBkb25hdGlvbiBtb250aGx5XCIsXG4gICAgbG9jYWxlOiBcImVuLVVTXCIsXG4gICAgY3VycmVuY3lfY29kZTogXCJ1c2RcIixcbiAgICBzZWxlY3RlZF9idXR0b246IFwiZG9uYXRpb25fYW1vdW50X3NlY29uZFwiLFxuICAgIC4uLnByb3BzLmNvbnRlbnQsXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8RU9ZU25pcHBldEJhc2Ugey4uLnByb3BzfSBjb250ZW50PXtleHRlbmRlZENvbnRlbnR9IGZvcm1fbWV0aG9kPVwiR0VUXCIgLz5cbiAgKTtcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9CdXR0b24vQnV0dG9uXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBSaWNoVGV4dCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1JpY2hUZXh0L1JpY2hUZXh0XCI7XG5pbXBvcnQgeyBzYWZlVVJJIH0gZnJvbSBcIi4uLy4uL3RlbXBsYXRlLXV0aWxzXCI7XG5pbXBvcnQgeyBTaW1wbGVTbmlwcGV0IH0gZnJvbSBcIi4uL1NpbXBsZVNuaXBwZXQvU2ltcGxlU25pcHBldFwiO1xuaW1wb3J0IHsgU25pcHBldEJhc2UgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9TbmlwcGV0QmFzZS9TbmlwcGV0QmFzZVwiO1xuaW1wb3J0IENvbmRpdGlvbmFsV3JhcHBlciBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9Db25kaXRpb25hbFdyYXBwZXIvQ29uZGl0aW9uYWxXcmFwcGVyXCI7XG5cbi8vIEFsdCB0ZXh0IHBsYWNlaG9sZGVyIGluIGNhc2UgdGhlIHByb3AgZnJvbSB0aGUgc2VydmVyIGlzbid0IGF2YWlsYWJsZVxuY29uc3QgSUNPTl9BTFRfVEVYVCA9IFwiXCI7XG5cbmV4cG9ydCBjbGFzcyBTdWJtaXRGb3JtU25pcHBldCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmV4cGFuZFNuaXBwZXQgPSB0aGlzLmV4cGFuZFNuaXBwZXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZVN1Ym1pdCA9IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVTdWJtaXRBdHRlbXB0ID0gdGhpcy5oYW5kbGVTdWJtaXRBdHRlbXB0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbklucHV0Q2hhbmdlID0gdGhpcy5vbklucHV0Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIHN1Ym1pdEF0dGVtcHRlZDogZmFsc2UsXG4gICAgICBzaWdudXBTdWJtaXR0ZWQ6IGZhbHNlLFxuICAgICAgc2lnbnVwU3VjY2VzczogZmFsc2UsXG4gICAgICBkaXNhYmxlRm9ybTogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdEF0dGVtcHQoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnN1Ym1pdEF0dGVtcHRlZCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN1Ym1pdEF0dGVtcHRlZDogdHJ1ZSB9KTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBoYW5kbGVTdWJtaXQoZXZlbnQpIHtcbiAgICBsZXQganNvbjtcblxuICAgIGlmICh0aGlzLnN0YXRlLmRpc2FibGVGb3JtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnNldFN0YXRlKHsgZGlzYWJsZUZvcm06IHRydWUgfSk7XG4gICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICBldmVudDogXCJDTElDS19CVVRUT05cIixcbiAgICAgIGV2ZW50X2NvbnRleHQ6IFwiY29udmVyc2lvbi1zdWJzY3JpYmUtYWN0aXZhdGlvblwiLFxuICAgICAgaWQ6IFwiTkVXVEFCX0ZPT1RFUl9CQVJfQ09OVEVOVFwiLFxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMucHJvcHMuZm9ybV9tZXRob2QudG9VcHBlckNhc2UoKSA9PT0gXCJHRVRcIikge1xuICAgICAgdGhpcy5wcm9wcy5vbkJsb2NrKHsgcHJldmVudERpc21pc3M6IHRydWUgfSk7XG4gICAgICB0aGlzLnJlZnMuZm9ybS5zdWJtaXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IHVybCwgZm9ybURhdGEgfSA9IHRoaXMucHJvcHMucHJvY2Vzc0Zvcm1EYXRhXG4gICAgICA/IHRoaXMucHJvcHMucHJvY2Vzc0Zvcm1EYXRhKHRoaXMucmVmcy5tYWluSW5wdXQsIHRoaXMucHJvcHMpXG4gICAgICA6IHsgdXJsOiB0aGlzLnJlZnMuZm9ybS5hY3Rpb24sIGZvcm1EYXRhOiBuZXcgRm9ybURhdGEodGhpcy5yZWZzLmZvcm0pIH07XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgZmV0Y2hSZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCB7XG4gICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBjcmVkZW50aWFsczogXCJvbWl0XCIsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZmV0Y2hSZXF1ZXN0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBmZXRjaC1vcHRpb25zL25vLWZldGNoLWNyZWRlbnRpYWxzXG4gICAgICBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuXG4gICAgaWYgKGpzb24gJiYganNvbi5zdGF0dXMgPT09IFwib2tcIikge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNpZ251cFN1Y2Nlc3M6IHRydWUsIHNpZ251cFN1Ym1pdHRlZDogdHJ1ZSB9KTtcbiAgICAgIGlmICghdGhpcy5wcm9wcy5jb250ZW50LmRvX25vdF9hdXRvYmxvY2spIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkJsb2NrKHsgcHJldmVudERpc21pc3M6IHRydWUgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLnByb3BzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5KHtcbiAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tfQlVUVE9OXCIsXG4gICAgICAgIGV2ZW50X2NvbnRleHQ6IFwic3Vic2NyaWJlLXN1Y2Nlc3NcIixcbiAgICAgICAgaWQ6IFwiTkVXVEFCX0ZPT1RFUl9CQVJfQ09OVEVOVFwiLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIlRoZXJlIHdhcyBhIHByb2JsZW0gc3VibWl0dGluZyB0aGUgZm9ybVwiLFxuICAgICAgICBqc29uIHx8IFwiW05vIEpTT04gcmVzcG9uc2VdXCJcbiAgICAgICk7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgc2lnbnVwU3VjY2VzczogZmFsc2UsIHNpZ251cFN1Ym1pdHRlZDogdHJ1ZSB9KTtcbiAgICAgIHRoaXMucHJvcHMuc2VuZFVzZXJBY3Rpb25UZWxlbWV0cnkoe1xuICAgICAgICBldmVudDogXCJDTElDS19CVVRUT05cIixcbiAgICAgICAgZXZlbnRfY29udGV4dDogXCJzdWJzY3JpYmUtZXJyb3JcIixcbiAgICAgICAgaWQ6IFwiTkVXVEFCX0ZPT1RFUl9CQVJfQ09OVEVOVFwiLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGRpc2FibGVGb3JtOiBmYWxzZSB9KTtcbiAgfVxuXG4gIGV4cGFuZFNuaXBwZXQoKSB7XG4gICAgdGhpcy5wcm9wcy5zZW5kVXNlckFjdGlvblRlbGVtZXRyeSh7XG4gICAgICBldmVudDogXCJDTElDS19CVVRUT05cIixcbiAgICAgIGV2ZW50X2NvbnRleHQ6IFwic2NlbmUxLWJ1dHRvbi1sZWFybi1tb3JlXCIsXG4gICAgICBpZDogdGhpcy5wcm9wcy5VSVN1cmZhY2UsXG4gICAgfSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGV4cGFuZGVkOiB0cnVlLFxuICAgICAgc2lnbnVwU3VjY2VzczogZmFsc2UsXG4gICAgICBzaWdudXBTdWJtaXR0ZWQ6IGZhbHNlLFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVySGlkZGVuRm9ybUlucHV0cygpIHtcbiAgICBjb25zdCB7IGhpZGRlbl9pbnB1dHMgfSA9IHRoaXMucHJvcHMuY29udGVudDtcblxuICAgIGlmICghaGlkZGVuX2lucHV0cykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGhpZGRlbl9pbnB1dHMpLm1hcCgoa2V5LCBpZHgpID0+IChcbiAgICAgIDxpbnB1dCBrZXk9e2lkeH0gdHlwZT1cImhpZGRlblwiIG5hbWU9e2tleX0gdmFsdWU9e2hpZGRlbl9pbnB1dHNba2V5XX0gLz5cbiAgICApKTtcbiAgfVxuXG4gIHJlbmRlckRpc2NsYWltZXIoKSB7XG4gICAgY29uc3QgeyBjb250ZW50IH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghY29udGVudC5zY2VuZTJfZGlzY2xhaW1lcl9odG1sKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImRpc2NsYWltZXJUZXh0XCI+XG4gICAgICAgIDxSaWNoVGV4dFxuICAgICAgICAgIHRleHQ9e2NvbnRlbnQuc2NlbmUyX2Rpc2NsYWltZXJfaHRtbH1cbiAgICAgICAgICBsb2NhbGl6YXRpb25faWQ9XCJkaXNjbGFpbWVyX2h0bWxcIlxuICAgICAgICAgIGxpbmtzPXtjb250ZW50LmxpbmtzfVxuICAgICAgICAgIGRvTm90QXV0b0Jsb2NrPXt0cnVlfVxuICAgICAgICAgIG9wZW5OZXdXaW5kb3c9e3RydWV9XG4gICAgICAgICAgc2VuZENsaWNrPXt0aGlzLnByb3BzLnNlbmRDbGlja31cbiAgICAgICAgLz5cbiAgICAgIDwvcD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyRm9ybVByaXZhY3lOb3RpY2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50IH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghY29udGVudC5zY2VuZTJfcHJpdmFjeV9odG1sKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cInByaXZhY3lOb3RpY2VcIj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICBpZD1cImlkX3ByaXZhY3lcIlxuICAgICAgICAgIG5hbWU9XCJwcml2YWN5XCJcbiAgICAgICAgICByZXF1aXJlZD1cInJlcXVpcmVkXCJcbiAgICAgICAgLz5cbiAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJpZF9wcml2YWN5XCI+XG4gICAgICAgICAgPFJpY2hUZXh0XG4gICAgICAgICAgICB0ZXh0PXtjb250ZW50LnNjZW5lMl9wcml2YWN5X2h0bWx9XG4gICAgICAgICAgICBsb2NhbGl6YXRpb25faWQ9XCJwcml2YWN5X2h0bWxcIlxuICAgICAgICAgICAgbGlua3M9e2NvbnRlbnQubGlua3N9XG4gICAgICAgICAgICBkb05vdEF1dG9CbG9jaz17dHJ1ZX1cbiAgICAgICAgICAgIG9wZW5OZXdXaW5kb3c9e3RydWV9XG4gICAgICAgICAgICBzZW5kQ2xpY2s9e3RoaXMucHJvcHMuc2VuZENsaWNrfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvbGFiZWw+XG4gICAgICA8L3A+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclNpZ251cFN1Ym1pdHRlZCgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnQgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaXNTdWNjZXNzID0gdGhpcy5zdGF0ZS5zaWdudXBTdWNjZXNzO1xuICAgIGNvbnN0IHN1Y2Nlc3NUaXRsZSA9IGlzU3VjY2VzcyAmJiBjb250ZW50LnN1Y2Nlc3NfdGl0bGU7XG4gICAgY29uc3QgYm9keVRleHQgPSBpc1N1Y2Nlc3NcbiAgICAgID8geyBzdWNjZXNzX3RleHQ6IGNvbnRlbnQuc3VjY2Vzc190ZXh0IH1cbiAgICAgIDogeyBlcnJvcl90ZXh0OiBjb250ZW50LmVycm9yX3RleHQgfTtcbiAgICBjb25zdCByZXRyeUJ1dHRvblRleHQgPSBjb250ZW50LnJldHJ5X2J1dHRvbl9sYWJlbDtcbiAgICByZXR1cm4gKFxuICAgICAgPFNuaXBwZXRCYXNlIHsuLi50aGlzLnByb3BzfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdWJtaXNzaW9uU3RhdHVzXCI+XG4gICAgICAgICAge3N1Y2Nlc3NUaXRsZSA/IChcbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJzdWJtaXRTdGF0dXNUaXRsZVwiPntzdWNjZXNzVGl0bGV9PC9oMj5cbiAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIDxSaWNoVGV4dFxuICAgICAgICAgICAgICB7Li4uYm9keVRleHR9XG4gICAgICAgICAgICAgIGxvY2FsaXphdGlvbl9pZD17aXNTdWNjZXNzID8gXCJzdWNjZXNzX3RleHRcIiA6IFwiZXJyb3JfdGV4dFwifVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHtpc1N1Y2Nlc3MgPyBudWxsIDogKFxuICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuZXhwYW5kU25pcHBldH0+e3JldHJ5QnV0dG9uVGV4dH08L0J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvU25pcHBldEJhc2U+XG4gICAgKTtcbiAgfVxuXG4gIG9uSW5wdXRDaGFuZ2UoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudmFsaWRhdGVJbnB1dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBoYXNFcnJvciA9IHRoaXMucHJvcHMudmFsaWRhdGVJbnB1dChcbiAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgIHRoaXMucHJvcHMuY29udGVudFxuICAgICk7XG4gICAgZXZlbnQudGFyZ2V0LnNldEN1c3RvbVZhbGlkaXR5KGhhc0Vycm9yKTtcbiAgfVxuXG4gIHdyYXBTZWN0aW9uSGVhZGVyKHVybCkge1xuICAgIHJldHVybiBmdW5jdGlvbihjaGlsZHJlbikge1xuICAgICAgcmV0dXJuIDxhIGhyZWY9e3VybH0+e2NoaWxkcmVufTwvYT47XG4gICAgfTtcbiAgfVxuXG4gIHJlbmRlcklucHV0KCkge1xuICAgIGNvbnN0IHBsYWNob2xkZXIgPVxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50LnNjZW5lMl9lbWFpbF9wbGFjZWhvbGRlcl90ZXh0IHx8XG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnQuc2NlbmUyX2lucHV0X3BsYWNlaG9sZGVyO1xuICAgIHJldHVybiAoXG4gICAgICA8aW5wdXRcbiAgICAgICAgcmVmPVwibWFpbklucHV0XCJcbiAgICAgICAgdHlwZT17dGhpcy5wcm9wcy5pbnB1dFR5cGUgfHwgXCJlbWFpbFwifVxuICAgICAgICBjbGFzc05hbWU9e2BtYWluSW5wdXQke3RoaXMuc3RhdGUuc3VibWl0QXR0ZW1wdGVkID8gXCJcIiA6IFwiIGNsZWFuXCJ9YH1cbiAgICAgICAgbmFtZT1cImVtYWlsXCJcbiAgICAgICAgcmVxdWlyZWQ9e3RydWV9XG4gICAgICAgIHBsYWNlaG9sZGVyPXtwbGFjaG9sZGVyfVxuICAgICAgICBvbkNoYW5nZT17dGhpcy5wcm9wcy52YWxpZGF0ZUlucHV0ID8gdGhpcy5vbklucHV0Q2hhbmdlIDogbnVsbH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckZvcm0oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtXG4gICAgICAgIGFjdGlvbj17dGhpcy5wcm9wcy5mb3JtX2FjdGlvbn1cbiAgICAgICAgbWV0aG9kPXt0aGlzLnByb3BzLmZvcm1fbWV0aG9kfVxuICAgICAgICBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9XG4gICAgICAgIHJlZj1cImZvcm1cIlxuICAgICAgPlxuICAgICAgICB7dGhpcy5yZW5kZXJIaWRkZW5Gb3JtSW5wdXRzKCl9XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAge3RoaXMucmVuZGVySW5wdXQoKX1cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIkFTUm91dGVyQnV0dG9uIHByaW1hcnlcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVTdWJtaXRBdHRlbXB0fVxuICAgICAgICAgICAgcmVmPVwiZm9ybVN1Ym1pdEJ0blwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY29udGVudC5zY2VuZTJfYnV0dG9uX2xhYmVsfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3RoaXMucmVuZGVyRm9ybVByaXZhY3lOb3RpY2UoKSB8fCB0aGlzLnJlbmRlckRpc2NsYWltZXIoKX1cbiAgICAgIDwvZm9ybT5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyU2NlbmUySWNvbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnQgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFjb250ZW50LnNjZW5lMl9pY29uKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY2VuZTJJY29uXCI+XG4gICAgICAgIDxpbWdcbiAgICAgICAgICBzcmM9e3NhZmVVUkkoY29udGVudC5zY2VuZTJfaWNvbil9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbi1saWdodC10aGVtZVwiXG4gICAgICAgICAgYWx0PXtjb250ZW50LnNjZW5lMl9pY29uX2FsdF90ZXh0IHx8IElDT05fQUxUX1RFWFR9XG4gICAgICAgIC8+XG4gICAgICAgIDxpbWdcbiAgICAgICAgICBzcmM9e3NhZmVVUkkoY29udGVudC5zY2VuZTJfaWNvbl9kYXJrX3RoZW1lIHx8IGNvbnRlbnQuc2NlbmUyX2ljb24pfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImljb24tZGFyay10aGVtZVwiXG4gICAgICAgICAgYWx0PXtjb250ZW50LnNjZW5lMl9pY29uX2FsdF90ZXh0IHx8IElDT05fQUxUX1RFWFR9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyU2lnbnVwVmlldygpIHtcbiAgICBjb25zdCB7IGNvbnRlbnQgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgY29udGFpbmVyQ2xhc3MgPSBgU3VibWl0Rm9ybVNuaXBwZXQgJHt0aGlzLnByb3BzLmNsYXNzTmFtZX1gO1xuICAgIHJldHVybiAoXG4gICAgICA8U25pcHBldEJhc2VcbiAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIGNsYXNzTmFtZT17Y29udGFpbmVyQ2xhc3N9XG4gICAgICAgIGZvb3RlckRpc21pc3M9e3RydWV9XG4gICAgICA+XG4gICAgICAgIHt0aGlzLnJlbmRlclNjZW5lMkljb24oKX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlXCI+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICB7Y29udGVudC5zY2VuZTJfdGl0bGUgJiYgKFxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwic2NlbmUyVGl0bGVcIj57Y29udGVudC5zY2VuZTJfdGl0bGV9PC9oMz5cbiAgICAgICAgICAgICl9e1wiIFwifVxuICAgICAgICAgICAge2NvbnRlbnQuc2NlbmUyX3RleHQgJiYgKFxuICAgICAgICAgICAgICA8UmljaFRleHRcbiAgICAgICAgICAgICAgICBzY2VuZTJfdGV4dD17Y29udGVudC5zY2VuZTJfdGV4dH1cbiAgICAgICAgICAgICAgICBsb2NhbGl6YXRpb25faWQ9XCJzY2VuZTJfdGV4dFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt0aGlzLnJlbmRlckZvcm0oKX1cbiAgICAgIDwvU25pcHBldEJhc2U+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclNlY3Rpb25IZWFkZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIC8vIGFuIGljb24gYW5kIHRleHQgbXVzdCBiZSBzcGVjaWZpZWQgdG8gcmVuZGVyIHRoZSBzZWN0aW9uIGhlYWRlclxuICAgIGlmIChwcm9wcy5jb250ZW50LnNlY3Rpb25fdGl0bGVfaWNvbiAmJiBwcm9wcy5jb250ZW50LnNlY3Rpb25fdGl0bGVfdGV4dCkge1xuICAgICAgY29uc3Qgc2VjdGlvblRpdGxlSWNvbkxpZ2h0ID0gc2FmZVVSSShwcm9wcy5jb250ZW50LnNlY3Rpb25fdGl0bGVfaWNvbik7XG4gICAgICBjb25zdCBzZWN0aW9uVGl0bGVJY29uRGFyayA9IHNhZmVVUkkoXG4gICAgICAgIHByb3BzLmNvbnRlbnQuc2VjdGlvbl90aXRsZV9pY29uX2RhcmtfdGhlbWUgfHxcbiAgICAgICAgICBwcm9wcy5jb250ZW50LnNlY3Rpb25fdGl0bGVfaWNvblxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNlY3Rpb25UaXRsZVVSTCA9IHByb3BzLmNvbnRlbnQuc2VjdGlvbl90aXRsZV91cmw7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi1oZWFkZXJcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZVwiPlxuICAgICAgICAgICAgPENvbmRpdGlvbmFsV3JhcHBlclxuICAgICAgICAgICAgICB3cmFwPXt0aGlzLndyYXBTZWN0aW9uSGVhZGVyKHNlY3Rpb25UaXRsZVVSTCl9XG4gICAgICAgICAgICAgIGNvbmRpdGlvbj17c2VjdGlvblRpdGxlVVJMfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImljb24gaWNvbi1zbWFsbC1zcGFjZXIgaWNvbi1saWdodC10aGVtZVwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBgdXJsKFwiJHtzZWN0aW9uVGl0bGVJY29uTGlnaHR9XCIpYCB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImljb24gaWNvbi1zbWFsbC1zcGFjZXIgaWNvbi1kYXJrLXRoZW1lXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoXCIke3NlY3Rpb25UaXRsZUljb25EYXJrfVwiKWAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZS10ZXh0XCI+XG4gICAgICAgICAgICAgICAge3Byb3BzLmNvbnRlbnQuc2VjdGlvbl90aXRsZV90ZXh0fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L0NvbmRpdGlvbmFsV3JhcHBlcj5cbiAgICAgICAgICA8L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZW5kZXJTaWdudXBWaWV3QWx0KCkge1xuICAgIGNvbnN0IHsgY29udGVudCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBjb250YWluZXJDbGFzcyA9IGBTdWJtaXRGb3JtU25pcHBldCAke3RoaXMucHJvcHMuY2xhc3NOYW1lfSBzY2VuZTJBbHRgO1xuICAgIHJldHVybiAoXG4gICAgICA8U25pcHBldEJhc2VcbiAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIGNsYXNzTmFtZT17Y29udGFpbmVyQ2xhc3N9XG4gICAgICAgIC8vIERvbid0IHNob3cgYm90dG9tIGRpc21pc3MgYnV0dG9uXG4gICAgICAgIGZvb3RlckRpc21pc3M9e2ZhbHNlfVxuICAgICAgPlxuICAgICAgICB7dGhpcy5yZW5kZXJTZWN0aW9uSGVhZGVyKCl9XG4gICAgICAgIHt0aGlzLnJlbmRlclNjZW5lMkljb24oKX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlXCI+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICB7Y29udGVudC5zY2VuZTJfdGV4dCAmJiAoXG4gICAgICAgICAgICAgIDxSaWNoVGV4dFxuICAgICAgICAgICAgICAgIHNjZW5lMl90ZXh0PXtjb250ZW50LnNjZW5lMl90ZXh0fVxuICAgICAgICAgICAgICAgIGxvY2FsaXphdGlvbl9pZD1cInNjZW5lMl90ZXh0XCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIHt0aGlzLnJlbmRlckZvcm0oKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1NuaXBwZXRCYXNlPlxuICAgICk7XG4gIH1cblxuICBnZXRGaXJzdFNjZW5lQ29udGVudCgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5wcm9wcy5jb250ZW50KVxuICAgICAgLmZpbHRlcihrZXkgPT4ga2V5LmluY2x1ZGVzKFwic2NlbmUxXCIpKVxuICAgICAgLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgYWNjW2tleS5zdWJzdHIoNyldID0gdGhpcy5wcm9wcy5jb250ZW50W2tleV07XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LCB7fSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY29udGVudCA9IHsgLi4udGhpcy5wcm9wcy5jb250ZW50LCAuLi50aGlzLmdldEZpcnN0U2NlbmVDb250ZW50KCkgfTtcblxuICAgIGlmICh0aGlzLnN0YXRlLnNpZ251cFN1Ym1pdHRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyU2lnbnVwU3VibWl0dGVkKCk7XG4gICAgfVxuICAgIC8vIFJlbmRlciBvbmx5IHNjZW5lIDIgKHNpZ251cCB2aWV3KS4gTXVzdCBjaGVjayBiZWZvcmUgYHJlbmRlclNpZ251cFZpZXdgXG4gICAgLy8gdG8gY2F0Y2ggdGhlIEZhaWx1cmUvVHJ5IGFnYWluIHNjZW5hcmlvIHdoZXJlIHdlIHdhbnQgdG8gcmV0dXJuIGFuZCByZW5kZXJcbiAgICAvLyB0aGUgc2NlbmUgYWdhaW4uXG4gICAgaWYgKHRoaXMucHJvcHMuZXhwYW5kZWRBbHQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlclNpZ251cFZpZXdBbHQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUuZXhwYW5kZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlclNpZ251cFZpZXcoKTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxTaW1wbGVTbmlwcGV0XG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBjb250ZW50PXtjb250ZW50fVxuICAgICAgICBvbkJ1dHRvbkNsaWNrPXt0aGlzLmV4cGFuZFNuaXBwZXR9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFN1Ym1pdEZvcm1TbmlwcGV0IH0gZnJvbSBcIi4uL1N1Ym1pdEZvcm1TbmlwcGV0L1N1Ym1pdEZvcm1TbmlwcGV0LmpzeFwiO1xuXG5leHBvcnQgY29uc3QgRlhBU2lnbnVwU25pcHBldCA9IHByb3BzID0+IHtcbiAgY29uc3QgdXNlckFnZW50ID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZpcmVmb3hcXC8oWzAtOV0rKVxcLi8pO1xuICBjb25zdCBmaXJlZm94X3ZlcnNpb24gPSB1c2VyQWdlbnQgPyBwYXJzZUludCh1c2VyQWdlbnRbMV0sIDEwKSA6IDA7XG4gIGNvbnN0IGV4dGVuZGVkQ29udGVudCA9IHtcbiAgICBzY2VuZTFfYnV0dG9uX2xhYmVsOiBcIkxlYXJuIG1vcmVcIixcbiAgICByZXRyeV9idXR0b25fbGFiZWw6IFwiVHJ5IGFnYWluXCIsXG4gICAgc2NlbmUyX2VtYWlsX3BsYWNlaG9sZGVyX3RleHQ6IFwiWW91ciBlbWFpbCBoZXJlXCIsXG4gICAgc2NlbmUyX2J1dHRvbl9sYWJlbDogXCJTaWduIG1lIHVwXCIsXG4gICAgc2NlbmUyX2Rpc21pc3NfYnV0dG9uX3RleHQ6IFwiRGlzbWlzc1wiLFxuICAgIC4uLnByb3BzLmNvbnRlbnQsXG4gICAgaGlkZGVuX2lucHV0czoge1xuICAgICAgYWN0aW9uOiBcImVtYWlsXCIsXG4gICAgICBjb250ZXh0OiBcImZ4X2Rlc2t0b3BfdjNcIixcbiAgICAgIGVudHJ5cG9pbnQ6IFwic25pcHBldHNcIixcbiAgICAgIHV0bV9zb3VyY2U6IFwic25pcHBldFwiLFxuICAgICAgdXRtX2NvbnRlbnQ6IGZpcmVmb3hfdmVyc2lvbixcbiAgICAgIHV0bV9jYW1wYWlnbjogcHJvcHMuY29udGVudC51dG1fY2FtcGFpZ24sXG4gICAgICB1dG1fdGVybTogcHJvcHMuY29udGVudC51dG1fdGVybSxcbiAgICAgIC4uLnByb3BzLmNvbnRlbnQuaGlkZGVuX2lucHV0cyxcbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFN1Ym1pdEZvcm1TbmlwcGV0XG4gICAgICB7Li4ucHJvcHN9XG4gICAgICBjb250ZW50PXtleHRlbmRlZENvbnRlbnR9XG4gICAgICBmb3JtX2FjdGlvbj17XCJodHRwczovL2FjY291bnRzLmZpcmVmb3guY29tL1wifVxuICAgICAgZm9ybV9tZXRob2Q9XCJHRVRcIlxuICAgIC8+XG4gICk7XG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU3VibWl0Rm9ybVNuaXBwZXQgfSBmcm9tIFwiLi4vU3VibWl0Rm9ybVNuaXBwZXQvU3VibWl0Rm9ybVNuaXBwZXQuanN4XCI7XG5cbmV4cG9ydCBjb25zdCBOZXdzbGV0dGVyU25pcHBldCA9IHByb3BzID0+IHtcbiAgY29uc3QgZXh0ZW5kZWRDb250ZW50ID0ge1xuICAgIHNjZW5lMV9idXR0b25fbGFiZWw6IFwiTGVhcm4gbW9yZVwiLFxuICAgIHJldHJ5X2J1dHRvbl9sYWJlbDogXCJUcnkgYWdhaW5cIixcbiAgICBzY2VuZTJfZW1haWxfcGxhY2Vob2xkZXJfdGV4dDogXCJZb3VyIGVtYWlsIGhlcmVcIixcbiAgICBzY2VuZTJfYnV0dG9uX2xhYmVsOiBcIlNpZ24gbWUgdXBcIixcbiAgICBzY2VuZTJfZGlzbWlzc19idXR0b25fdGV4dDogXCJEaXNtaXNzXCIsXG4gICAgc2NlbmUyX25ld3NsZXR0ZXI6IFwibW96aWxsYS1mb3VuZGF0aW9uXCIsXG4gICAgLi4ucHJvcHMuY29udGVudCxcbiAgICBoaWRkZW5faW5wdXRzOiB7XG4gICAgICBuZXdzbGV0dGVyczogcHJvcHMuY29udGVudC5zY2VuZTJfbmV3c2xldHRlciB8fCBcIm1vemlsbGEtZm91bmRhdGlvblwiLFxuICAgICAgZm10OiBcIkhcIixcbiAgICAgIGxhbmc6IHByb3BzLmNvbnRlbnQubG9jYWxlIHx8IFwiZW4tVVNcIixcbiAgICAgIHNvdXJjZV91cmw6IGBodHRwczovL3NuaXBwZXRzLm1vemlsbGEuY29tL3Nob3cvJHtwcm9wcy5pZH1gLFxuICAgICAgLi4ucHJvcHMuY29udGVudC5oaWRkZW5faW5wdXRzLFxuICAgIH0sXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8U3VibWl0Rm9ybVNuaXBwZXRcbiAgICAgIHsuLi5wcm9wc31cbiAgICAgIGNvbnRlbnQ9e2V4dGVuZGVkQ29udGVudH1cbiAgICAgIGZvcm1fYWN0aW9uPXtcImh0dHBzOi8vYmFza2V0Lm1vemlsbGEub3JnL3N1YnNjcmliZS5qc29uXCJ9XG4gICAgICBmb3JtX21ldGhvZD1cIlBPU1RcIlxuICAgIC8+XG4gICk7XG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBnaXZlbiBzdHJpbmcgaXMgYW4gZW1haWwgb3IgcGhvbmUgbnVtYmVyIG9yIG5laXRoZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWwgVGhlIHVzZXIgaW5wdXRcbiAqIEBwYXJhbSB7QVNSTWVzc2FnZUNvbnRlbnR9IGNvbnRlbnQgLmNvbnRlbnQgcHJvcGVydHkgb24gQVNSIG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtcImVtYWlsXCJ8XCJwaG9uZVwifFwiXCJ9IFRoZSB0eXBlIG9mIHRoZSBpbnB1dFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbWFpbE9yUGhvbmVOdW1iZXIodmFsLCBjb250ZW50KSB7XG4gIGNvbnN0IHsgbG9jYWxlIH0gPSBjb250ZW50O1xuICAvLyBodHRwOi8vZW1haWxyZWdleC5jb20vXG4gIGNvbnN0IGVtYWlsX3JlID0gL14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiAgY29uc3QgY2hlY2tfZW1haWwgPSBlbWFpbF9yZS50ZXN0KHZhbCk7XG4gIGxldCBjaGVja19waG9uZTsgLy8gZGVwZW5kcyBvbiBsb2NhbGVcbiAgc3dpdGNoIChsb2NhbGUpIHtcbiAgICBjYXNlIFwiZW4tVVNcIjpcbiAgICBjYXNlIFwiZW4tQ0FcIjpcbiAgICAgIC8vIGFsbG93IDEwLTExIGRpZ2l0cyBpbiBjYXNlIHVzZXIgd2FudHMgdG8gZW50ZXIgY291bnRyeSBjb2RlXG4gICAgICBjaGVja19waG9uZSA9IHZhbC5sZW5ndGggPj0gMTAgJiYgdmFsLmxlbmd0aCA8PSAxMSAmJiAhaXNOYU4odmFsKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJkZVwiOlxuICAgICAgLy8gYWxsb3cgYmV0d2VlbiAyIGFuZCAxMiBkaWdpdHMgZm9yIGdlcm1hbiBwaG9uZSBudW1iZXJzXG4gICAgICBjaGVja19waG9uZSA9IHZhbC5sZW5ndGggPj0gMiAmJiB2YWwubGVuZ3RoIDw9IDEyICYmICFpc05hTih2YWwpO1xuICAgICAgYnJlYWs7XG4gICAgLy8gdGhpcyBjYXNlIHNob3VsZCBuZXZlciBiZSBoaXQsIGJ1dCBnb29kIHRvIGhhdmUgYSBmYWxsYmFjayBqdXN0IGluIGNhc2VcbiAgICBkZWZhdWx0OlxuICAgICAgY2hlY2tfcGhvbmUgPSAhaXNOYU4odmFsKTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIGlmIChjaGVja19lbWFpbCkge1xuICAgIHJldHVybiBcImVtYWlsXCI7XG4gIH0gZWxzZSBpZiAoY2hlY2tfcGhvbmUpIHtcbiAgICByZXR1cm4gXCJwaG9uZVwiO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgaXNFbWFpbE9yUGhvbmVOdW1iZXIgfSBmcm9tIFwiLi9pc0VtYWlsT3JQaG9uZU51bWJlclwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU3VibWl0Rm9ybVNuaXBwZXQgfSBmcm9tIFwiLi4vU3VibWl0Rm9ybVNuaXBwZXQvU3VibWl0Rm9ybVNuaXBwZXQuanN4XCI7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlSW5wdXQodmFsdWUsIGNvbnRlbnQpIHtcbiAgY29uc3QgdHlwZSA9IGlzRW1haWxPclBob25lTnVtYmVyKHZhbHVlLCBjb250ZW50KTtcbiAgcmV0dXJuIHR5cGUgPyBcIlwiIDogXCJNdXN0IGJlIGFuIGVtYWlsIG9yIGEgcGhvbmUgbnVtYmVyLlwiO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzRm9ybURhdGEoaW5wdXQsIG1lc3NhZ2UpIHtcbiAgY29uc3QgeyBjb250ZW50IH0gPSBtZXNzYWdlO1xuICBjb25zdCB0eXBlID0gY29udGVudC5pbmNsdWRlX3Ntc1xuICAgID8gaXNFbWFpbE9yUGhvbmVOdW1iZXIoaW5wdXQudmFsdWUsIGNvbnRlbnQpXG4gICAgOiBcImVtYWlsXCI7XG4gIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gIGxldCB1cmw7XG4gIGlmICh0eXBlID09PSBcInBob25lXCIpIHtcbiAgICB1cmwgPSBcImh0dHBzOi8vYmFza2V0Lm1vemlsbGEub3JnL25ld3Mvc3Vic2NyaWJlX3Ntcy9cIjtcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJtb2JpbGVfbnVtYmVyXCIsIGlucHV0LnZhbHVlKTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJtc2dfbmFtZVwiLCBjb250ZW50Lm1lc3NhZ2VfaWRfc21zKTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJjb3VudHJ5XCIsIGNvbnRlbnQuY291bnRyeSk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJlbWFpbFwiKSB7XG4gICAgdXJsID0gXCJodHRwczovL2Jhc2tldC5tb3ppbGxhLm9yZy9uZXdzL3N1YnNjcmliZS9cIjtcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJlbWFpbFwiLCBpbnB1dC52YWx1ZSk7XG4gICAgZm9ybURhdGEuYXBwZW5kKFwibmV3c2xldHRlcnNcIiwgY29udGVudC5tZXNzYWdlX2lkX2VtYWlsKTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoXG4gICAgICBcInNvdXJjZV91cmxcIixcbiAgICAgIGVuY29kZVVSSUNvbXBvbmVudChgaHR0cHM6Ly9zbmlwcGV0cy5tb3ppbGxhLmNvbS9zaG93LyR7bWVzc2FnZS5pZH1gKVxuICAgICk7XG4gIH1cbiAgZm9ybURhdGEuYXBwZW5kKFwibGFuZ1wiLCBjb250ZW50LmxvY2FsZSk7XG4gIHJldHVybiB7IGZvcm1EYXRhLCB1cmwgfTtcbn1cblxuZnVuY3Rpb24gYWRkRGVmYXVsdFZhbHVlcyhwcm9wcykge1xuICByZXR1cm4ge1xuICAgIC4uLnByb3BzLFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgIHNjZW5lMV9idXR0b25fbGFiZWw6IFwiTGVhcm4gbW9yZVwiLFxuICAgICAgcmV0cnlfYnV0dG9uX2xhYmVsOiBcIlRyeSBhZ2FpblwiLFxuICAgICAgc2NlbmUyX2Rpc21pc3NfYnV0dG9uX3RleHQ6IFwiRGlzbWlzc1wiLFxuICAgICAgc2NlbmUyX2J1dHRvbl9sYWJlbDogXCJTZW5kXCIsXG4gICAgICBzY2VuZTJfaW5wdXRfcGxhY2Vob2xkZXI6IFwiWW91ciBlbWFpbCBoZXJlXCIsXG4gICAgICBsb2NhbGU6IFwiZW4tVVNcIixcbiAgICAgIGNvdW50cnk6IFwidXNcIixcbiAgICAgIG1lc3NhZ2VfaWRfZW1haWw6IFwiXCIsXG4gICAgICBpbmNsdWRlX3NtczogZmFsc2UsXG4gICAgICAuLi5wcm9wcy5jb250ZW50LFxuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBTZW5kVG9EZXZpY2VTbmlwcGV0ID0gcHJvcHMgPT4ge1xuICBjb25zdCBwcm9wc1dpdGhEZWZhdWx0cyA9IGFkZERlZmF1bHRWYWx1ZXMocHJvcHMpO1xuXG4gIHJldHVybiAoXG4gICAgPFN1Ym1pdEZvcm1TbmlwcGV0XG4gICAgICB7Li4ucHJvcHNXaXRoRGVmYXVsdHN9XG4gICAgICBmb3JtX21ldGhvZD1cIlBPU1RcIlxuICAgICAgY2xhc3NOYW1lPVwic2VuZF90b19kZXZpY2Vfc25pcHBldFwiXG4gICAgICBpbnB1dFR5cGU9e3Byb3BzV2l0aERlZmF1bHRzLmNvbnRlbnQuaW5jbHVkZV9zbXMgPyBcInRleHRcIiA6IFwiZW1haWxcIn1cbiAgICAgIHZhbGlkYXRlSW5wdXQ9e1xuICAgICAgICBwcm9wc1dpdGhEZWZhdWx0cy5jb250ZW50LmluY2x1ZGVfc21zID8gdmFsaWRhdGVJbnB1dCA6IG51bGxcbiAgICAgIH1cbiAgICAgIHByb2Nlc3NGb3JtRGF0YT17cHJvY2Vzc0Zvcm1EYXRhfVxuICAgIC8+XG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgU2VuZFRvRGV2aWNlU2NlbmUyU25pcHBldCA9IHByb3BzID0+IHtcbiAgcmV0dXJuIDxTZW5kVG9EZXZpY2VTbmlwcGV0IGV4cGFuZGVkQWx0PXt0cnVlfSB7Li4ucHJvcHN9IC8+O1xufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0J1dHRvbi9CdXR0b25cIjtcbmltcG9ydCB7IFJpY2hUZXh0IH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvUmljaFRleHQvUmljaFRleHRcIjtcbmltcG9ydCB7IHNhZmVVUkkgfSBmcm9tIFwiLi4vLi4vdGVtcGxhdGUtdXRpbHNcIjtcbmltcG9ydCB7IFNuaXBwZXRCYXNlIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvU25pcHBldEJhc2UvU25pcHBldEJhc2VcIjtcblxuY29uc3QgREVGQVVMVF9JQ09OX1BBVEggPSBcImNocm9tZTovL2JyYW5kaW5nL2NvbnRlbnQvaWNvbjY0LnBuZ1wiO1xuLy8gQWx0IHRleHQgcGxhY2Vob2xkZXIgaW4gY2FzZSB0aGUgcHJvcCBmcm9tIHRoZSBzZXJ2ZXIgaXNuJ3QgYXZhaWxhYmxlXG5jb25zdCBJQ09OX0FMVF9URVhUID0gXCJcIjtcblxuZXhwb3J0IGNsYXNzIFNpbXBsZUJlbG93U2VhcmNoU25pcHBldCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQnV0dG9uQ2xpY2sgPSB0aGlzLm9uQnV0dG9uQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIHJlbmRlclRleHQoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICByZXR1cm4gcHJvcHMuY29udGVudC50ZXh0ID8gKFxuICAgICAgPFJpY2hUZXh0XG4gICAgICAgIHRleHQ9e3Byb3BzLmNvbnRlbnQudGV4dH1cbiAgICAgICAgY3VzdG9tRWxlbWVudHM9e3RoaXMucHJvcHMuY3VzdG9tRWxlbWVudHN9XG4gICAgICAgIGxvY2FsaXphdGlvbl9pZD1cInRleHRcIlxuICAgICAgICBsaW5rcz17cHJvcHMuY29udGVudC5saW5rc31cbiAgICAgICAgc2VuZENsaWNrPXtwcm9wcy5zZW5kQ2xpY2t9XG4gICAgICAvPlxuICAgICkgOiBudWxsO1xuICB9XG5cbiAgcmVuZGVyVGl0bGUoKSB7XG4gICAgY29uc3QgeyB0aXRsZSB9ID0gdGhpcy5wcm9wcy5jb250ZW50O1xuICAgIHJldHVybiB0aXRsZSA/IChcbiAgICAgIDxoMyBjbGFzc05hbWU9e1widGl0bGUgdGl0bGUtaW5saW5lXCJ9PlxuICAgICAgICB7dGl0bGV9XG4gICAgICAgIDxiciAvPlxuICAgICAgPC9oMz5cbiAgICApIDogbnVsbDtcbiAgfVxuXG4gIGFzeW5jIG9uQnV0dG9uQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvdmlkZXIgIT09IFwicHJldmlld1wiKSB7XG4gICAgICB0aGlzLnByb3BzLnNlbmRVc2VyQWN0aW9uVGVsZW1ldHJ5KHtcbiAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tfQlVUVE9OXCIsXG4gICAgICAgIGlkOiB0aGlzLnByb3BzLlVJU3VyZmFjZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1dHRvbl91cmwgfSA9IHRoaXMucHJvcHMuY29udGVudDtcbiAgICAvLyBJZiBidXR0b25fdXJsIGlzIGRlZmluZWQgaGFuZGxlIGl0IGFzIE9QRU5fVVJMIGFjdGlvblxuICAgIGNvbnN0IHR5cGUgPSB0aGlzLnByb3BzLmNvbnRlbnQuYnV0dG9uX2FjdGlvbiB8fCAoYnV0dG9uX3VybCAmJiBcIk9QRU5fVVJMXCIpO1xuICAgIGF3YWl0IHRoaXMucHJvcHMub25BY3Rpb24oe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGE6IHsgYXJnczogdGhpcy5wcm9wcy5jb250ZW50LmJ1dHRvbl9hY3Rpb25fYXJncyB8fCBidXR0b25fdXJsIH0sXG4gICAgfSk7XG4gICAgaWYgKCF0aGlzLnByb3BzLmNvbnRlbnQuZG9fbm90X2F1dG9ibG9jaykge1xuICAgICAgdGhpcy5wcm9wcy5vbkJsb2NrKCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3VsZFJlbmRlckJ1dHRvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50LmJ1dHRvbl9hY3Rpb24gfHxcbiAgICAgIHRoaXMucHJvcHMub25CdXR0b25DbGljayB8fFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50LmJ1dHRvbl91cmxcbiAgICApO1xuICB9XG5cbiAgcmVuZGVyQnV0dG9uKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgaWYgKCF0aGlzLl9zaG91bGRSZW5kZXJCdXR0b24oKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxCdXR0b25cbiAgICAgICAgb25DbGljaz17cHJvcHMub25CdXR0b25DbGljayB8fCB0aGlzLm9uQnV0dG9uQ2xpY2t9XG4gICAgICAgIGNvbG9yPXtwcm9wcy5jb250ZW50LmJ1dHRvbl9jb2xvcn1cbiAgICAgICAgYmFja2dyb3VuZENvbG9yPXtwcm9wcy5jb250ZW50LmJ1dHRvbl9iYWNrZ3JvdW5kX2NvbG9yfVxuICAgICAgPlxuICAgICAgICB7cHJvcHMuY29udGVudC5idXR0b25fbGFiZWx9XG4gICAgICA8L0J1dHRvbj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgbGV0IGNsYXNzTmFtZSA9IFwiU2ltcGxlQmVsb3dTZWFyY2hTbmlwcGV0XCI7XG4gICAgbGV0IGNvbnRhaW5lck5hbWUgPSBcImJlbG93LXNlYXJjaC1zbmlwcGV0XCI7XG5cbiAgICBpZiAocHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgICBjbGFzc05hbWUgKz0gYCAke3Byb3BzLmNsYXNzTmFtZX1gO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc2hvdWxkUmVuZGVyQnV0dG9uKCkpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcIiB3aXRoQnV0dG9uXCI7XG4gICAgICBjb250YWluZXJOYW1lICs9IFwiIHdpdGhCdXR0b25cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NvbnRhaW5lck5hbWV9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNuaXBwZXQtaG92ZXItd3JhcHBlclwiPlxuICAgICAgICAgIDxTbmlwcGV0QmFzZVxuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgICB0ZXh0U3R5bGU9e3RoaXMucHJvcHMudGV4dFN0eWxlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPXtzYWZlVVJJKHByb3BzLmNvbnRlbnQuaWNvbikgfHwgREVGQVVMVF9JQ09OX1BBVEh9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImljb24gaWNvbi1saWdodC10aGVtZVwiXG4gICAgICAgICAgICAgIGFsdD17cHJvcHMuY29udGVudC5pY29uX2FsdF90ZXh0IHx8IElDT05fQUxUX1RFWFR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICBzcmM9e1xuICAgICAgICAgICAgICAgIHNhZmVVUkkocHJvcHMuY29udGVudC5pY29uX2RhcmtfdGhlbWUgfHwgcHJvcHMuY29udGVudC5pY29uKSB8fFxuICAgICAgICAgICAgICAgIERFRkFVTFRfSUNPTl9QQVRIXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbiBpY29uLWRhcmstdGhlbWVcIlxuICAgICAgICAgICAgICBhbHQ9e3Byb3BzLmNvbnRlbnQuaWNvbl9hbHRfdGV4dCB8fCBJQ09OX0FMVF9URVhUfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dENvbnRhaW5lclwiPlxuICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJUaXRsZSgpfVxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJib2R5XCI+e3RoaXMucmVuZGVyVGV4dCgpfTwvcD5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuZXh0cmFDb250ZW50fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7PGRpdiBjbGFzc05hbWU9XCJidXR0b25Db250YWluZXJcIj57dGhpcy5yZW5kZXJCdXR0b24oKX08L2Rpdj59XG4gICAgICAgICAgPC9TbmlwcGV0QmFzZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBFT1lTbmlwcGV0IH0gZnJvbSBcIi4vRU9ZU25pcHBldC9FT1lTbmlwcGV0XCI7XG5pbXBvcnQgeyBGWEFTaWdudXBTbmlwcGV0IH0gZnJvbSBcIi4vRlhBU2lnbnVwU25pcHBldC9GWEFTaWdudXBTbmlwcGV0XCI7XG5pbXBvcnQgeyBOZXdzbGV0dGVyU25pcHBldCB9IGZyb20gXCIuL05ld3NsZXR0ZXJTbmlwcGV0L05ld3NsZXR0ZXJTbmlwcGV0XCI7XG5pbXBvcnQge1xuICBTZW5kVG9EZXZpY2VTbmlwcGV0LFxuICBTZW5kVG9EZXZpY2VTY2VuZTJTbmlwcGV0LFxufSBmcm9tIFwiLi9TZW5kVG9EZXZpY2VTbmlwcGV0L1NlbmRUb0RldmljZVNuaXBwZXRcIjtcbmltcG9ydCB7IFNpbXBsZUJlbG93U2VhcmNoU25pcHBldCB9IGZyb20gXCIuL1NpbXBsZUJlbG93U2VhcmNoU25pcHBldC9TaW1wbGVCZWxvd1NlYXJjaFNuaXBwZXRcIjtcbmltcG9ydCB7IFNpbXBsZVNuaXBwZXQgfSBmcm9tIFwiLi9TaW1wbGVTbmlwcGV0L1NpbXBsZVNuaXBwZXRcIjtcblxuLy8gS2V5IG5hbWVzIG1hdGNoaW5nIHNjaGVtYSBuYW1lIG9mIHRlbXBsYXRlc1xuZXhwb3J0IGNvbnN0IFNuaXBwZXRzVGVtcGxhdGVzID0ge1xuICBzaW1wbGVfc25pcHBldDogU2ltcGxlU25pcHBldCxcbiAgbmV3c2xldHRlcl9zbmlwcGV0OiBOZXdzbGV0dGVyU25pcHBldCxcbiAgZnhhX3NpZ251cF9zbmlwcGV0OiBGWEFTaWdudXBTbmlwcGV0LFxuICBzZW5kX3RvX2RldmljZV9zbmlwcGV0OiBTZW5kVG9EZXZpY2VTbmlwcGV0LFxuICBzZW5kX3RvX2RldmljZV9zY2VuZTJfc25pcHBldDogU2VuZFRvRGV2aWNlU2NlbmUyU25pcHBldCxcbiAgZW95X3NuaXBwZXQ6IEVPWVNuaXBwZXQsXG4gIHNpbXBsZV9iZWxvd19zZWFyY2hfc25pcHBldDogU2ltcGxlQmVsb3dTZWFyY2hTbmlwcGV0LFxufTtcbiIsIi8qIGdsb2JhbCBJbnRsICovXG5cbi8qKlxuICogVGhlIGBGbHVlbnRUeXBlYCBjbGFzcyBpcyB0aGUgYmFzZSBvZiBGbHVlbnQncyB0eXBlIHN5c3RlbS5cbiAqXG4gKiBGbHVlbnQgdHlwZXMgd3JhcCBKYXZhU2NyaXB0IHZhbHVlcyBhbmQgc3RvcmUgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvclxuICogdGhlbSwgd2hpY2ggY2FuIHRoZW4gYmUgdXNlZCBpbiB0aGUgYHRvU3RyaW5nYCBtZXRob2QgdG9nZXRoZXIgd2l0aCBhIHByb3BlclxuICogYEludGxgIGZvcm1hdHRlci5cbiAqL1xuZXhwb3J0IGNsYXNzIEZsdWVudFR5cGUge1xuICAvKipcbiAgICogQ3JlYXRlIGFuIGBGbHVlbnRUeXBlYCBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtICAge0FueX0gICAgdmFsdWUgLSBKYXZhU2NyaXB0IHZhbHVlIHRvIHdyYXAuXG4gICAqIEBwYXJhbSAgIHtPYmplY3R9IG9wdHMgIC0gQ29uZmlndXJhdGlvbi5cbiAgICogQHJldHVybnMge0ZsdWVudFR5cGV9XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSwgb3B0cykge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVud3JhcCB0aGUgcmF3IHZhbHVlIHN0b3JlZCBieSB0aGlzIGBGbHVlbnRUeXBlYC5cbiAgICpcbiAgICogQHJldHVybnMge0FueX1cbiAgICovXG4gIHZhbHVlT2YoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0IHRoaXMgaW5zdGFuY2Ugb2YgYEZsdWVudFR5cGVgIHRvIGEgc3RyaW5nLlxuICAgKlxuICAgKiBGb3JtYXR0ZWQgdmFsdWVzIGFyZSBzdWl0YWJsZSBmb3IgdXNlIG91dHNpZGUgb2YgdGhlIGBGbHVlbnRCdW5kbGVgLlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gdXNlIGBJbnRsYCBmb3JtYXR0ZXJzIG1lbW9pemVkIGJ5IHRoZSBgRmx1ZW50QnVuZGxlYFxuICAgKiBpbnN0YW5jZSBwYXNzZWQgYXMgYW4gYXJndW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSAgIHtGbHVlbnRCdW5kbGV9IFtidW5kbGVdXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdWJjbGFzc2VzIG9mIEZsdWVudFR5cGUgbXVzdCBpbXBsZW1lbnQgdG9TdHJpbmcuXCIpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGbHVlbnROb25lIGV4dGVuZHMgRmx1ZW50VHlwZSB7XG4gIHZhbHVlT2YoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYHske3RoaXMudmFsdWUgfHwgXCI/Pz9cIn19YDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmx1ZW50TnVtYmVyIGV4dGVuZHMgRmx1ZW50VHlwZSB7XG4gIGNvbnN0cnVjdG9yKHZhbHVlLCBvcHRzKSB7XG4gICAgc3VwZXIocGFyc2VGbG9hdCh2YWx1ZSksIG9wdHMpO1xuICB9XG5cbiAgdG9TdHJpbmcoYnVuZGxlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG5mID0gYnVuZGxlLl9tZW1vaXplSW50bE9iamVjdChcbiAgICAgICAgSW50bC5OdW1iZXJGb3JtYXQsIHRoaXMub3B0c1xuICAgICAgKTtcbiAgICAgIHJldHVybiBuZi5mb3JtYXQodGhpcy52YWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gWFhYIFJlcG9ydCB0aGUgZXJyb3IuXG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZsdWVudERhdGVUaW1lIGV4dGVuZHMgRmx1ZW50VHlwZSB7XG4gIGNvbnN0cnVjdG9yKHZhbHVlLCBvcHRzKSB7XG4gICAgc3VwZXIobmV3IERhdGUodmFsdWUpLCBvcHRzKTtcbiAgfVxuXG4gIHRvU3RyaW5nKGJ1bmRsZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkdGYgPSBidW5kbGUuX21lbW9pemVJbnRsT2JqZWN0KFxuICAgICAgICBJbnRsLkRhdGVUaW1lRm9ybWF0LCB0aGlzLm9wdHNcbiAgICAgICk7XG4gICAgICByZXR1cm4gZHRmLmZvcm1hdCh0aGlzLnZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBYWFggUmVwb3J0IHRoZSBlcnJvci5cbiAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBAb3ZlcnZpZXdcbiAqXG4gKiBUaGUgRlRMIHJlc29sdmVyIHNoaXBzIHdpdGggYSBudW1iZXIgb2YgZnVuY3Rpb25zIGJ1aWx0LWluLlxuICpcbiAqIEVhY2ggZnVuY3Rpb24gdGFrZSB0d28gYXJndW1lbnRzOlxuICogICAtIGFyZ3MgLSBhbiBhcnJheSBvZiBwb3NpdGlvbmFsIGFyZ3NcbiAqICAgLSBvcHRzIC0gYW4gb2JqZWN0IG9mIGtleS12YWx1ZSBhcmdzXG4gKlxuICogQXJndW1lbnRzIHRvIGZ1bmN0aW9ucyBhcmUgZ3VhcmFudGVlZCB0byBhbHJlYWR5IGJlIGluc3RhbmNlcyBvZlxuICogYEZsdWVudFR5cGVgLiAgRnVuY3Rpb25zIG11c3QgcmV0dXJuIGBGbHVlbnRUeXBlYCBvYmplY3RzIGFzIHdlbGwuXG4gKi9cblxuaW1wb3J0IHsgRmx1ZW50Tm9uZSwgRmx1ZW50TnVtYmVyLCBGbHVlbnREYXRlVGltZSB9IGZyb20gXCIuL3R5cGVzLmpzXCI7XG5cbmZ1bmN0aW9uIG1lcmdlKGFyZ29wdHMsIG9wdHMpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGFyZ29wdHMsIHZhbHVlcyhvcHRzKSk7XG59XG5cbmZ1bmN0aW9uIHZhbHVlcyhvcHRzKSB7XG4gIGNvbnN0IHVud3JhcHBlZCA9IHt9O1xuICBmb3IgKGNvbnN0IFtuYW1lLCBvcHRdIG9mIE9iamVjdC5lbnRyaWVzKG9wdHMpKSB7XG4gICAgdW53cmFwcGVkW25hbWVdID0gb3B0LnZhbHVlT2YoKTtcbiAgfVxuICByZXR1cm4gdW53cmFwcGVkO1xufVxuXG5leHBvcnRcbmZ1bmN0aW9uIE5VTUJFUihbYXJnXSwgb3B0cykge1xuICBpZiAoYXJnIGluc3RhbmNlb2YgRmx1ZW50Tm9uZSkge1xuICAgIHJldHVybiBhcmc7XG4gIH1cbiAgaWYgKGFyZyBpbnN0YW5jZW9mIEZsdWVudE51bWJlcikge1xuICAgIHJldHVybiBuZXcgRmx1ZW50TnVtYmVyKGFyZy52YWx1ZU9mKCksIG1lcmdlKGFyZy5vcHRzLCBvcHRzKSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBGbHVlbnROb25lKFwiTlVNQkVSKClcIik7XG59XG5cbmV4cG9ydFxuZnVuY3Rpb24gREFURVRJTUUoW2FyZ10sIG9wdHMpIHtcbiAgaWYgKGFyZyBpbnN0YW5jZW9mIEZsdWVudE5vbmUpIHtcbiAgICByZXR1cm4gYXJnO1xuICB9XG4gIGlmIChhcmcgaW5zdGFuY2VvZiBGbHVlbnREYXRlVGltZSkge1xuICAgIHJldHVybiBuZXcgRmx1ZW50RGF0ZVRpbWUoYXJnLnZhbHVlT2YoKSwgbWVyZ2UoYXJnLm9wdHMsIG9wdHMpKTtcbiAgfVxuICByZXR1cm4gbmV3IEZsdWVudE5vbmUoXCJEQVRFVElNRSgpXCIpO1xufVxuIiwiLyogZ2xvYmFsIEludGwgKi9cblxuLyoqXG4gKiBAb3ZlcnZpZXdcbiAqXG4gKiBUaGUgcm9sZSBvZiB0aGUgRmx1ZW50IHJlc29sdmVyIGlzIHRvIGZvcm1hdCBhIHRyYW5zbGF0aW9uIG9iamVjdCB0byBhblxuICogaW5zdGFuY2Ugb2YgYEZsdWVudFR5cGVgIG9yIGFuIGFycmF5IG9mIGluc3RhbmNlcy5cbiAqXG4gKiBUcmFuc2xhdGlvbnMgY2FuIGNvbnRhaW4gcmVmZXJlbmNlcyB0byBvdGhlciBtZXNzYWdlcyBvciB2YXJpYWJsZXMsXG4gKiBjb25kaXRpb25hbCBsb2dpYyBpbiBmb3JtIG9mIHNlbGVjdCBleHByZXNzaW9ucywgdHJhaXRzIHdoaWNoIGRlc2NyaWJlIHRoZWlyXG4gKiBncmFtbWF0aWNhbCBmZWF0dXJlcywgYW5kIGNhbiB1c2UgRmx1ZW50IGJ1aWx0aW5zIHdoaWNoIG1ha2UgdXNlIG9mIHRoZVxuICogYEludGxgIGZvcm1hdHRlcnMgdG8gZm9ybWF0IG51bWJlcnMsIGRhdGVzLCBsaXN0cyBhbmQgbW9yZSBpbnRvIHRoZVxuICogYnVuZGxlJ3MgbGFuZ3VhZ2UuIFNlZSB0aGUgZG9jdW1lbnRhdGlvbiBvZiB0aGUgRmx1ZW50IHN5bnRheCBmb3IgbW9yZVxuICogaW5mb3JtYXRpb24uXG4gKlxuICogSW4gY2FzZSBvZiBlcnJvcnMgdGhlIHJlc29sdmVyIHdpbGwgdHJ5IHRvIHNhbHZhZ2UgYXMgbXVjaCBvZiB0aGVcbiAqIHRyYW5zbGF0aW9uIGFzIHBvc3NpYmxlLiAgSW4gcmFyZSBzaXR1YXRpb25zIHdoZXJlIHRoZSByZXNvbHZlciBkaWRuJ3Qga25vd1xuICogaG93IHRvIHJlY292ZXIgZnJvbSBhbiBlcnJvciBpdCB3aWxsIHJldHVybiBhbiBpbnN0YW5jZSBvZiBgRmx1ZW50Tm9uZWAuXG4gKlxuICogQWxsIGV4cHJlc3Npb25zIHJlc29sdmUgdG8gYW4gaW5zdGFuY2Ugb2YgYEZsdWVudFR5cGVgLiBUaGUgY2FsbGVyIHNob3VsZFxuICogdXNlIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCB0byBjb252ZXJ0IHRoZSBpbnN0YW5jZSB0byBhIG5hdGl2ZSB2YWx1ZS5cbiAqXG4gKiBBbGwgZnVuY3Rpb25zIGluIHRoaXMgZmlsZSBwYXNzIGFyb3VuZCBhIHNwZWNpYWwgb2JqZWN0IGNhbGxlZCBgc2NvcGVgLlxuICogVGhpcyBvYmplY3Qgc3RvcmVzIGEgc2V0IG9mIGVsZW1lbnRzIHVzZWQgYnkgYWxsIHJlc29sdmUgZnVuY3Rpb25zOlxuICpcbiAqICAqIHtGbHVlbnRCdW5kbGV9IGJ1bmRsZVxuICogICAgICBidW5kbGUgZm9yIHdoaWNoIHRoZSBnaXZlbiByZXNvbHV0aW9uIGlzIGhhcHBlbmluZ1xuICogICoge09iamVjdH0gYXJnc1xuICogICAgICBsaXN0IG9mIGRldmVsb3BlciBwcm92aWRlZCBhcmd1bWVudHMgdGhhdCBjYW4gYmUgdXNlZFxuICogICoge0FycmF5fSBlcnJvcnNcbiAqICAgICAgbGlzdCBvZiBlcnJvcnMgY29sbGVjdGVkIHdoaWxlIHJlc29sdmluZ1xuICogICoge1dlYWtTZXR9IGRpcnR5XG4gKiAgICAgIFNldCBvZiBwYXR0ZXJucyBhbHJlYWR5IGVuY291bnRlcmVkIGR1cmluZyB0aGlzIHJlc29sdXRpb24uXG4gKiAgICAgIFRoaXMgaXMgdXNlZCB0byBwcmV2ZW50IGN5Y2xpYyByZXNvbHV0aW9ucy5cbiAqL1xuXG5cbmltcG9ydCB7IEZsdWVudFR5cGUsIEZsdWVudE5vbmUsIEZsdWVudE51bWJlciwgRmx1ZW50RGF0ZVRpbWUgfVxuICBmcm9tIFwiLi90eXBlcy5qc1wiO1xuaW1wb3J0ICogYXMgYnVpbHRpbnMgZnJvbSBcIi4vYnVpbHRpbnMuanNcIjtcblxuLy8gUHJldmVudCBleHBhbnNpb24gb2YgdG9vIGxvbmcgcGxhY2VhYmxlcy5cbmNvbnN0IE1BWF9QTEFDRUFCTEVfTEVOR1RIID0gMjUwMDtcblxuLy8gVW5pY29kZSBiaWRpIGlzb2xhdGlvbiBjaGFyYWN0ZXJzLlxuY29uc3QgRlNJID0gXCJcXHUyMDY4XCI7XG5jb25zdCBQREkgPSBcIlxcdTIwNjlcIjtcblxuXG4vLyBIZWxwZXI6IG1hdGNoIGEgdmFyaWFudCBrZXkgdG8gdGhlIGdpdmVuIHNlbGVjdG9yLlxuZnVuY3Rpb24gbWF0Y2goYnVuZGxlLCBzZWxlY3Rvciwga2V5KSB7XG4gIGlmIChrZXkgPT09IHNlbGVjdG9yKSB7XG4gICAgLy8gQm90aCBhcmUgc3RyaW5ncy5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIFhYWCBDb25zaWRlciBjb21wYXJpbmcgb3B0aW9ucyB0b28sIGUuZy4gbWluaW11bUZyYWN0aW9uRGlnaXRzLlxuICBpZiAoa2V5IGluc3RhbmNlb2YgRmx1ZW50TnVtYmVyXG4gICAgJiYgc2VsZWN0b3IgaW5zdGFuY2VvZiBGbHVlbnROdW1iZXJcbiAgICAmJiBrZXkudmFsdWUgPT09IHNlbGVjdG9yLnZhbHVlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoc2VsZWN0b3IgaW5zdGFuY2VvZiBGbHVlbnROdW1iZXIgJiYgdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGxldCBjYXRlZ29yeSA9IGJ1bmRsZVxuICAgICAgLl9tZW1vaXplSW50bE9iamVjdChJbnRsLlBsdXJhbFJ1bGVzLCBzZWxlY3Rvci5vcHRzKVxuICAgICAgLnNlbGVjdChzZWxlY3Rvci52YWx1ZSk7XG4gICAgaWYgKGtleSA9PT0gY2F0ZWdvcnkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gSGVscGVyOiByZXNvbHZlIHRoZSBkZWZhdWx0IHZhcmlhbnQgZnJvbSBhIGxpc3Qgb2YgdmFyaWFudHMuXG5mdW5jdGlvbiBnZXREZWZhdWx0KHNjb3BlLCB2YXJpYW50cywgc3Rhcikge1xuICBpZiAodmFyaWFudHNbc3Rhcl0pIHtcbiAgICByZXR1cm4gVHlwZShzY29wZSwgdmFyaWFudHNbc3Rhcl0pO1xuICB9XG5cbiAgc2NvcGUuZXJyb3JzLnB1c2gobmV3IFJhbmdlRXJyb3IoXCJObyBkZWZhdWx0XCIpKTtcbiAgcmV0dXJuIG5ldyBGbHVlbnROb25lKCk7XG59XG5cbi8vIEhlbHBlcjogcmVzb2x2ZSBhcmd1bWVudHMgdG8gYSBjYWxsIGV4cHJlc3Npb24uXG5mdW5jdGlvbiBnZXRBcmd1bWVudHMoc2NvcGUsIGFyZ3MpIHtcbiAgY29uc3QgcG9zaXRpb25hbCA9IFtdO1xuICBjb25zdCBuYW1lZCA9IHt9O1xuXG4gIGZvciAoY29uc3QgYXJnIG9mIGFyZ3MpIHtcbiAgICBpZiAoYXJnLnR5cGUgPT09IFwibmFyZ1wiKSB7XG4gICAgICBuYW1lZFthcmcubmFtZV0gPSBUeXBlKHNjb3BlLCBhcmcudmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb3NpdGlvbmFsLnB1c2goVHlwZShzY29wZSwgYXJnKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFtwb3NpdGlvbmFsLCBuYW1lZF07XG59XG5cbi8vIFJlc29sdmUgYW4gZXhwcmVzc2lvbiB0byBhIEZsdWVudCB0eXBlLlxuZnVuY3Rpb24gVHlwZShzY29wZSwgZXhwcikge1xuICAvLyBBIGZhc3QtcGF0aCBmb3Igc3RyaW5ncyB3aGljaCBhcmUgdGhlIG1vc3QgY29tbW9uIGNhc2UuIFNpbmNlIHRoZXlcbiAgLy8gbmF0aXZlbHkgaGF2ZSB0aGUgYHRvU3RyaW5nYCBtZXRob2QgdGhleSBjYW4gYmUgdXNlZCBhcyBpZiB0aGV5IHdlcmVcbiAgLy8gYSBGbHVlbnRUeXBlIGluc3RhbmNlIHdpdGhvdXQgaW5jdXJyaW5nIHRoZSBjb3N0IG9mIGNyZWF0aW5nIG9uZS5cbiAgaWYgKHR5cGVvZiBleHByID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHNjb3BlLmJ1bmRsZS5fdHJhbnNmb3JtKGV4cHIpO1xuICB9XG5cbiAgLy8gQSBmYXN0LXBhdGggZm9yIGBGbHVlbnROb25lYCB3aGljaCBkb2Vzbid0IHJlcXVpcmUgYW55IGFkZGl0aW9uYWwgbG9naWMuXG4gIGlmIChleHByIGluc3RhbmNlb2YgRmx1ZW50Tm9uZSkge1xuICAgIHJldHVybiBleHByO1xuICB9XG5cbiAgLy8gVGhlIFJ1bnRpbWUgQVNUIChFbnRyaWVzKSBlbmNvZGVzIHBhdHRlcm5zIChjb21wbGV4IHN0cmluZ3Mgd2l0aFxuICAvLyBwbGFjZWFibGVzKSBhcyBBcnJheXMuXG4gIGlmIChBcnJheS5pc0FycmF5KGV4cHIpKSB7XG4gICAgcmV0dXJuIFBhdHRlcm4oc2NvcGUsIGV4cHIpO1xuICB9XG5cbiAgc3dpdGNoIChleHByLnR5cGUpIHtcbiAgICBjYXNlIFwic3RyXCI6XG4gICAgICByZXR1cm4gZXhwci52YWx1ZTtcbiAgICBjYXNlIFwibnVtXCI6XG4gICAgICByZXR1cm4gbmV3IEZsdWVudE51bWJlcihleHByLnZhbHVlLCB7XG4gICAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogZXhwci5wcmVjaXNpb24sXG4gICAgICB9KTtcbiAgICBjYXNlIFwidmFyXCI6XG4gICAgICByZXR1cm4gVmFyaWFibGVSZWZlcmVuY2Uoc2NvcGUsIGV4cHIpO1xuICAgIGNhc2UgXCJtZXNnXCI6XG4gICAgICByZXR1cm4gTWVzc2FnZVJlZmVyZW5jZShzY29wZSwgZXhwcik7XG4gICAgY2FzZSBcInRlcm1cIjpcbiAgICAgIHJldHVybiBUZXJtUmVmZXJlbmNlKHNjb3BlLCBleHByKTtcbiAgICBjYXNlIFwiZnVuY1wiOlxuICAgICAgcmV0dXJuIEZ1bmN0aW9uUmVmZXJlbmNlKHNjb3BlLCBleHByKTtcbiAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICByZXR1cm4gU2VsZWN0RXhwcmVzc2lvbihzY29wZSwgZXhwcik7XG4gICAgY2FzZSB1bmRlZmluZWQ6IHtcbiAgICAgIC8vIElmIGl0J3MgYSBub2RlIHdpdGggYSB2YWx1ZSwgcmVzb2x2ZSB0aGUgdmFsdWUuXG4gICAgICBpZiAoZXhwci52YWx1ZSAhPT0gbnVsbCAmJiBleHByLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFR5cGUoc2NvcGUsIGV4cHIudmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBzY29wZS5lcnJvcnMucHVzaChuZXcgUmFuZ2VFcnJvcihcIk5vIHZhbHVlXCIpKTtcbiAgICAgIHJldHVybiBuZXcgRmx1ZW50Tm9uZSgpO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG5ldyBGbHVlbnROb25lKCk7XG4gIH1cbn1cblxuLy8gUmVzb2x2ZSBhIHJlZmVyZW5jZSB0byBhIHZhcmlhYmxlLlxuZnVuY3Rpb24gVmFyaWFibGVSZWZlcmVuY2Uoc2NvcGUsIHtuYW1lfSkge1xuICBpZiAoIXNjb3BlLmFyZ3MgfHwgIXNjb3BlLmFyZ3MuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICBpZiAoc2NvcGUuaW5zaWRlVGVybVJlZmVyZW5jZSA9PT0gZmFsc2UpIHtcbiAgICAgIHNjb3BlLmVycm9ycy5wdXNoKG5ldyBSZWZlcmVuY2VFcnJvcihgVW5rbm93biB2YXJpYWJsZTogJHtuYW1lfWApKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGbHVlbnROb25lKGAkJHtuYW1lfWApO1xuICB9XG5cbiAgY29uc3QgYXJnID0gc2NvcGUuYXJnc1tuYW1lXTtcblxuICAvLyBSZXR1cm4gZWFybHkgaWYgdGhlIGFyZ3VtZW50IGFscmVhZHkgaXMgYW4gaW5zdGFuY2Ugb2YgRmx1ZW50VHlwZS5cbiAgaWYgKGFyZyBpbnN0YW5jZW9mIEZsdWVudFR5cGUpIHtcbiAgICByZXR1cm4gYXJnO1xuICB9XG5cbiAgLy8gQ29udmVydCB0aGUgYXJndW1lbnQgdG8gYSBGbHVlbnQgdHlwZS5cbiAgc3dpdGNoICh0eXBlb2YgYXJnKSB7XG4gICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgcmV0dXJuIGFyZztcbiAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICByZXR1cm4gbmV3IEZsdWVudE51bWJlcihhcmcpO1xuICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmx1ZW50RGF0ZVRpbWUoYXJnKTtcbiAgICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgc2NvcGUuZXJyb3JzLnB1c2goXG4gICAgICAgIG5ldyBUeXBlRXJyb3IoYFVuc3VwcG9ydGVkIHZhcmlhYmxlIHR5cGU6ICR7bmFtZX0sICR7dHlwZW9mIGFyZ31gKVxuICAgICAgKTtcbiAgICAgIHJldHVybiBuZXcgRmx1ZW50Tm9uZShgJCR7bmFtZX1gKTtcbiAgfVxufVxuXG4vLyBSZXNvbHZlIGEgcmVmZXJlbmNlIHRvIGFub3RoZXIgbWVzc2FnZS5cbmZ1bmN0aW9uIE1lc3NhZ2VSZWZlcmVuY2Uoc2NvcGUsIHtuYW1lLCBhdHRyfSkge1xuICBjb25zdCBtZXNzYWdlID0gc2NvcGUuYnVuZGxlLl9tZXNzYWdlcy5nZXQobmFtZSk7XG4gIGlmICghbWVzc2FnZSkge1xuICAgIGNvbnN0IGVyciA9IG5ldyBSZWZlcmVuY2VFcnJvcihgVW5rbm93biBtZXNzYWdlOiAke25hbWV9YCk7XG4gICAgc2NvcGUuZXJyb3JzLnB1c2goZXJyKTtcbiAgICByZXR1cm4gbmV3IEZsdWVudE5vbmUobmFtZSk7XG4gIH1cblxuICBpZiAoYXR0cikge1xuICAgIGNvbnN0IGF0dHJpYnV0ZSA9IG1lc3NhZ2UuYXR0cnMgJiYgbWVzc2FnZS5hdHRyc1thdHRyXTtcbiAgICBpZiAoYXR0cmlidXRlKSB7XG4gICAgICByZXR1cm4gVHlwZShzY29wZSwgYXR0cmlidXRlKTtcbiAgICB9XG4gICAgc2NvcGUuZXJyb3JzLnB1c2gobmV3IFJlZmVyZW5jZUVycm9yKGBVbmtub3duIGF0dHJpYnV0ZTogJHthdHRyfWApKTtcbiAgICByZXR1cm4gbmV3IEZsdWVudE5vbmUoYCR7bmFtZX0uJHthdHRyfWApO1xuICB9XG5cbiAgcmV0dXJuIFR5cGUoc2NvcGUsIG1lc3NhZ2UpO1xufVxuXG4vLyBSZXNvbHZlIGEgY2FsbCB0byBhIFRlcm0gd2l0aCBrZXktdmFsdWUgYXJndW1lbnRzLlxuZnVuY3Rpb24gVGVybVJlZmVyZW5jZShzY29wZSwge25hbWUsIGF0dHIsIGFyZ3N9KSB7XG4gIGNvbnN0IGlkID0gYC0ke25hbWV9YDtcbiAgY29uc3QgdGVybSA9IHNjb3BlLmJ1bmRsZS5fdGVybXMuZ2V0KGlkKTtcbiAgaWYgKCF0ZXJtKSB7XG4gICAgY29uc3QgZXJyID0gbmV3IFJlZmVyZW5jZUVycm9yKGBVbmtub3duIHRlcm06ICR7aWR9YCk7XG4gICAgc2NvcGUuZXJyb3JzLnB1c2goZXJyKTtcbiAgICByZXR1cm4gbmV3IEZsdWVudE5vbmUoaWQpO1xuICB9XG5cbiAgLy8gRXZlcnkgVGVybVJlZmVyZW5jZSBoYXMgaXRzIG93biBhcmdzLlxuICBjb25zdCBbLCBrZXlhcmdzXSA9IGdldEFyZ3VtZW50cyhzY29wZSwgYXJncyk7XG4gIGNvbnN0IGxvY2FsID0gey4uLnNjb3BlLCBhcmdzOiBrZXlhcmdzLCBpbnNpZGVUZXJtUmVmZXJlbmNlOiB0cnVlfTtcblxuICBpZiAoYXR0cikge1xuICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHRlcm0uYXR0cnMgJiYgdGVybS5hdHRyc1thdHRyXTtcbiAgICBpZiAoYXR0cmlidXRlKSB7XG4gICAgICByZXR1cm4gVHlwZShsb2NhbCwgYXR0cmlidXRlKTtcbiAgICB9XG4gICAgc2NvcGUuZXJyb3JzLnB1c2gobmV3IFJlZmVyZW5jZUVycm9yKGBVbmtub3duIGF0dHJpYnV0ZTogJHthdHRyfWApKTtcbiAgICByZXR1cm4gbmV3IEZsdWVudE5vbmUoYCR7aWR9LiR7YXR0cn1gKTtcbiAgfVxuXG4gIHJldHVybiBUeXBlKGxvY2FsLCB0ZXJtKTtcbn1cblxuLy8gUmVzb2x2ZSBhIGNhbGwgdG8gYSBGdW5jdGlvbiB3aXRoIHBvc2l0aW9uYWwgYW5kIGtleS12YWx1ZSBhcmd1bWVudHMuXG5mdW5jdGlvbiBGdW5jdGlvblJlZmVyZW5jZShzY29wZSwge25hbWUsIGFyZ3N9KSB7XG4gIC8vIFNvbWUgZnVuY3Rpb25zIGFyZSBidWlsdC1pbi4gT3RoZXJzIG1heSBiZSBwcm92aWRlZCBieSB0aGUgcnVudGltZSB2aWFcbiAgLy8gdGhlIGBGbHVlbnRCdW5kbGVgIGNvbnN0cnVjdG9yLlxuICBjb25zdCBmdW5jID0gc2NvcGUuYnVuZGxlLl9mdW5jdGlvbnNbbmFtZV0gfHwgYnVpbHRpbnNbbmFtZV07XG4gIGlmICghZnVuYykge1xuICAgIHNjb3BlLmVycm9ycy5wdXNoKG5ldyBSZWZlcmVuY2VFcnJvcihgVW5rbm93biBmdW5jdGlvbjogJHtuYW1lfSgpYCkpO1xuICAgIHJldHVybiBuZXcgRmx1ZW50Tm9uZShgJHtuYW1lfSgpYCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xuICAgIHNjb3BlLmVycm9ycy5wdXNoKG5ldyBUeXBlRXJyb3IoYEZ1bmN0aW9uICR7bmFtZX0oKSBpcyBub3QgY2FsbGFibGVgKSk7XG4gICAgcmV0dXJuIG5ldyBGbHVlbnROb25lKGAke25hbWV9KClgKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIGZ1bmMoLi4uZ2V0QXJndW1lbnRzKHNjb3BlLCBhcmdzKSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBYWFggUmVwb3J0IGVycm9ycy5cbiAgICByZXR1cm4gbmV3IEZsdWVudE5vbmUoYCR7bmFtZX0oKWApO1xuICB9XG59XG5cbi8vIFJlc29sdmUgYSBzZWxlY3QgZXhwcmVzc2lvbiB0byB0aGUgbWVtYmVyIG9iamVjdC5cbmZ1bmN0aW9uIFNlbGVjdEV4cHJlc3Npb24oc2NvcGUsIHtzZWxlY3RvciwgdmFyaWFudHMsIHN0YXJ9KSB7XG4gIGxldCBzZWwgPSBUeXBlKHNjb3BlLCBzZWxlY3Rvcik7XG4gIGlmIChzZWwgaW5zdGFuY2VvZiBGbHVlbnROb25lKSB7XG4gICAgY29uc3QgdmFyaWFudCA9IGdldERlZmF1bHQoc2NvcGUsIHZhcmlhbnRzLCBzdGFyKTtcbiAgICByZXR1cm4gVHlwZShzY29wZSwgdmFyaWFudCk7XG4gIH1cblxuICAvLyBNYXRjaCB0aGUgc2VsZWN0b3IgYWdhaW5zdCBrZXlzIG9mIGVhY2ggdmFyaWFudCwgaW4gb3JkZXIuXG4gIGZvciAoY29uc3QgdmFyaWFudCBvZiB2YXJpYW50cykge1xuICAgIGNvbnN0IGtleSA9IFR5cGUoc2NvcGUsIHZhcmlhbnQua2V5KTtcbiAgICBpZiAobWF0Y2goc2NvcGUuYnVuZGxlLCBzZWwsIGtleSkpIHtcbiAgICAgIHJldHVybiBUeXBlKHNjb3BlLCB2YXJpYW50KTtcbiAgICB9XG4gIH1cblxuICBjb25zdCB2YXJpYW50ID0gZ2V0RGVmYXVsdChzY29wZSwgdmFyaWFudHMsIHN0YXIpO1xuICByZXR1cm4gVHlwZShzY29wZSwgdmFyaWFudCk7XG59XG5cbi8vIFJlc29sdmUgYSBwYXR0ZXJuIChhIGNvbXBsZXggc3RyaW5nIHdpdGggcGxhY2VhYmxlcykuXG5mdW5jdGlvbiBQYXR0ZXJuKHNjb3BlLCBwdG4pIHtcbiAgaWYgKHNjb3BlLmRpcnR5LmhhcyhwdG4pKSB7XG4gICAgc2NvcGUuZXJyb3JzLnB1c2gobmV3IFJhbmdlRXJyb3IoXCJDeWNsaWMgcmVmZXJlbmNlXCIpKTtcbiAgICByZXR1cm4gbmV3IEZsdWVudE5vbmUoKTtcbiAgfVxuXG4gIC8vIFRhZyB0aGUgcGF0dGVybiBhcyBkaXJ0eSBmb3IgdGhlIHB1cnBvc2Ugb2YgdGhlIGN1cnJlbnQgcmVzb2x1dGlvbi5cbiAgc2NvcGUuZGlydHkuYWRkKHB0bik7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gIC8vIFdyYXAgaW50ZXJwb2xhdGlvbnMgd2l0aCBEaXJlY3Rpb25hbCBJc29sYXRlIEZvcm1hdHRpbmcgY2hhcmFjdGVyc1xuICAvLyBvbmx5IHdoZW4gdGhlIHBhdHRlcm4gaGFzIG1vcmUgdGhhbiBvbmUgZWxlbWVudC5cbiAgY29uc3QgdXNlSXNvbGF0aW5nID0gc2NvcGUuYnVuZGxlLl91c2VJc29sYXRpbmcgJiYgcHRuLmxlbmd0aCA+IDE7XG5cbiAgZm9yIChjb25zdCBlbGVtIG9mIHB0bikge1xuICAgIGlmICh0eXBlb2YgZWxlbSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmVzdWx0LnB1c2goc2NvcGUuYnVuZGxlLl90cmFuc2Zvcm0oZWxlbSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgY29uc3QgcGFydCA9IFR5cGUoc2NvcGUsIGVsZW0pLnRvU3RyaW5nKHNjb3BlLmJ1bmRsZSk7XG5cbiAgICBpZiAodXNlSXNvbGF0aW5nKSB7XG4gICAgICByZXN1bHQucHVzaChGU0kpO1xuICAgIH1cblxuICAgIGlmIChwYXJ0Lmxlbmd0aCA+IE1BWF9QTEFDRUFCTEVfTEVOR1RIKSB7XG4gICAgICBzY29wZS5lcnJvcnMucHVzaChcbiAgICAgICAgbmV3IFJhbmdlRXJyb3IoXG4gICAgICAgICAgXCJUb28gbWFueSBjaGFyYWN0ZXJzIGluIHBsYWNlYWJsZSBcIiArXG4gICAgICAgICAgYCgke3BhcnQubGVuZ3RofSwgbWF4IGFsbG93ZWQgaXMgJHtNQVhfUExBQ0VBQkxFX0xFTkdUSH0pYFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgcmVzdWx0LnB1c2gocGFydC5zbGljZShNQVhfUExBQ0VBQkxFX0xFTkdUSCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucHVzaChwYXJ0KTtcbiAgICB9XG5cbiAgICBpZiAodXNlSXNvbGF0aW5nKSB7XG4gICAgICByZXN1bHQucHVzaChQREkpO1xuICAgIH1cbiAgfVxuXG4gIHNjb3BlLmRpcnR5LmRlbGV0ZShwdG4pO1xuICByZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XG59XG5cbi8qKlxuICogRm9ybWF0IGEgdHJhbnNsYXRpb24gaW50byBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gICB7Rmx1ZW50QnVuZGxlfSBidW5kbGVcbiAqICAgIEEgRmx1ZW50QnVuZGxlIGluc3RhbmNlIHdoaWNoIHdpbGwgYmUgdXNlZCB0byByZXNvbHZlIHRoZVxuICogICAgY29udGV4dHVhbCBpbmZvcm1hdGlvbiBvZiB0aGUgbWVzc2FnZS5cbiAqIEBwYXJhbSAgIHtPYmplY3R9ICAgICAgICAgYXJnc1xuICogICAgTGlzdCBvZiBhcmd1bWVudHMgcHJvdmlkZWQgYnkgdGhlIGRldmVsb3BlciB3aGljaCBjYW4gYmUgYWNjZXNzZWRcbiAqICAgIGZyb20gdGhlIG1lc3NhZ2UuXG4gKiBAcGFyYW0gICB7T2JqZWN0fSAgICAgICAgIG1lc3NhZ2VcbiAqICAgIEFuIG9iamVjdCB3aXRoIHRoZSBNZXNzYWdlIHRvIGJlIHJlc29sdmVkLlxuICogQHBhcmFtICAge0FycmF5fSAgICAgICAgICBlcnJvcnNcbiAqICAgIEFuIGVycm9yIGFycmF5IHRoYXQgYW55IGVuY291bnRlcmVkIGVycm9ycyB3aWxsIGJlIGFwcGVuZGVkIHRvLlxuICogQHJldHVybnMge0ZsdWVudFR5cGV9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlc29sdmUoYnVuZGxlLCBhcmdzLCBtZXNzYWdlLCBlcnJvcnMgPSBbXSkge1xuICBjb25zdCBzY29wZSA9IHtcbiAgICBidW5kbGUsIGFyZ3MsIGVycm9ycywgZGlydHk6IG5ldyBXZWFrU2V0KCksXG4gICAgLy8gVGVybVJlZmVyZW5jZXMgYXJlIHJlc29sdmVkIGluIGEgbmV3IHNjb3BlLlxuICAgIGluc2lkZVRlcm1SZWZlcmVuY2U6IGZhbHNlLFxuICB9O1xuICByZXR1cm4gVHlwZShzY29wZSwgbWVzc2FnZSkudG9TdHJpbmcoYnVuZGxlKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsdWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige31cbiIsImltcG9ydCBGbHVlbnRFcnJvciBmcm9tIFwiLi9lcnJvci5qc1wiO1xuXG4vLyBUaGlzIHJlZ2V4IGlzIHVzZWQgdG8gaXRlcmF0ZSB0aHJvdWdoIHRoZSBiZWdpbm5pbmdzIG9mIG1lc3NhZ2VzIGFuZCB0ZXJtcy5cbi8vIFdpdGggdGhlIC9tIGZsYWcsIHRoZSBeIG1hdGNoZXMgYXQgdGhlIGJlZ2lubmluZyBvZiBldmVyeSBsaW5lLlxuY29uc3QgUkVfTUVTU0FHRV9TVEFSVCA9IC9eKC0/W2EtekEtWl1bXFx3LV0qKSAqPSAqL21nO1xuXG4vLyBCb3RoIEF0dHJpYnV0ZXMgYW5kIFZhcmlhbnRzIGFyZSBwYXJzZWQgaW4gd2hpbGUgbG9vcHMuIFRoZXNlIHJlZ2V4ZXMgYXJlXG4vLyB1c2VkIHRvIGJyZWFrIG91dCBvZiB0aGVtLlxuY29uc3QgUkVfQVRUUklCVVRFX1NUQVJUID0gL1xcLihbYS16QS1aXVtcXHctXSopICo9ICoveTtcbmNvbnN0IFJFX1ZBUklBTlRfU1RBUlQgPSAvXFwqP1xcWy95O1xuXG5jb25zdCBSRV9OVU1CRVJfTElURVJBTCA9IC8oLT9bMC05XSsoPzpcXC4oWzAtOV0rKSk/KS95O1xuY29uc3QgUkVfSURFTlRJRklFUiA9IC8oW2EtekEtWl1bXFx3LV0qKS95O1xuY29uc3QgUkVfUkVGRVJFTkNFID0gLyhbJC1dKT8oW2EtekEtWl1bXFx3LV0qKSg/OlxcLihbYS16QS1aXVtcXHctXSopKT8veTtcbmNvbnN0IFJFX0ZVTkNUSU9OX05BTUUgPSAvXltBLVpdW0EtWjAtOV8tXSokLztcblxuLy8gQSBcInJ1blwiIGlzIGEgc2VxdWVuY2Ugb2YgdGV4dCBvciBzdHJpbmcgbGl0ZXJhbCBjaGFyYWN0ZXJzIHdoaWNoIGRvbid0XG4vLyByZXF1aXJlIGFueSBzcGVjaWFsIGhhbmRsaW5nLiBGb3IgVGV4dEVsZW1lbnRzIHN1Y2ggc3BlY2lhbCBjaGFyYWN0ZXJzIGFyZToge1xuLy8gKHN0YXJ0cyBhIHBsYWNlYWJsZSksIGFuZCBsaW5lIGJyZWFrcyB3aGljaCByZXF1aXJlIGFkZGl0aW9uYWwgbG9naWMgdG8gY2hlY2tcbi8vIGlmIHRoZSBuZXh0IGxpbmUgaXMgaW5kZW50ZWQuIEZvciBTdHJpbmdMaXRlcmFscyB0aGV5IGFyZTogXFwgKHN0YXJ0cyBhblxuLy8gZXNjYXBlIHNlcXVlbmNlKSwgXCIgKGVuZHMgdGhlIGxpdGVyYWwpLCBhbmQgbGluZSBicmVha3Mgd2hpY2ggYXJlIG5vdCBhbGxvd2VkXG4vLyBpbiBTdHJpbmdMaXRlcmFscy4gTm90ZSB0aGF0IHN0cmluZyBydW5zIG1heSBiZSBlbXB0eTsgdGV4dCBydW5zIG1heSBub3QuXG5jb25zdCBSRV9URVhUX1JVTiA9IC8oW157fVxcblxccl0rKS95O1xuY29uc3QgUkVfU1RSSU5HX1JVTiA9IC8oW15cXFxcXCJcXG5cXHJdKikveTtcblxuLy8gRXNjYXBlIHNlcXVlbmNlcy5cbmNvbnN0IFJFX1NUUklOR19FU0NBUEUgPSAvXFxcXChbXFxcXFwiXSkveTtcbmNvbnN0IFJFX1VOSUNPREVfRVNDQVBFID0gL1xcXFx1KFthLWZBLUYwLTldezR9KXxcXFxcVShbYS1mQS1GMC05XXs2fSkveTtcblxuLy8gVXNlZCBmb3IgdHJpbW1pbmcgVGV4dEVsZW1lbnRzIGFuZCBpbmRlbnRzLlxuY29uc3QgUkVfTEVBRElOR19ORVdMSU5FUyA9IC9eXFxuKy87XG5jb25zdCBSRV9UUkFJTElOR19TUEFDRVMgPSAvICskLztcbi8vIFVzZWQgaW4gbWFrZUluZGVudCB0byBzdHJpcCBzcGFjZXMgZnJvbSBibGFuayBsaW5lcyBhbmQgbm9ybWFsaXplIENSTEYgdG8gTEYuXG5jb25zdCBSRV9CTEFOS19MSU5FUyA9IC8gKlxccj9cXG4vZztcbi8vIFVzZWQgaW4gbWFrZUluZGVudCB0byBtZWFzdXJlIHRoZSBpbmRlbnRhdGlvbi5cbmNvbnN0IFJFX0lOREVOVCA9IC8oICopJC87XG5cbi8vIENvbW1vbiB0b2tlbnMuXG5jb25zdCBUT0tFTl9CUkFDRV9PUEVOID0gL3tcXHMqL3k7XG5jb25zdCBUT0tFTl9CUkFDRV9DTE9TRSA9IC9cXHMqfS95O1xuY29uc3QgVE9LRU5fQlJBQ0tFVF9PUEVOID0gL1xcW1xccyoveTtcbmNvbnN0IFRPS0VOX0JSQUNLRVRfQ0xPU0UgPSAvXFxzKl0gKi95O1xuY29uc3QgVE9LRU5fUEFSRU5fT1BFTiA9IC9cXHMqXFwoXFxzKi95O1xuY29uc3QgVE9LRU5fQVJST1cgPSAvXFxzKi0+XFxzKi95O1xuY29uc3QgVE9LRU5fQ09MT04gPSAvXFxzKjpcXHMqL3k7XG4vLyBOb3RlIHRoZSBvcHRpb25hbCBjb21tYS4gQXMgYSBkZXZpYXRpb24gZnJvbSB0aGUgRmx1ZW50IEVCTkYsIHRoZSBwYXJzZXJcbi8vIGRvZXNuJ3QgZW5mb3JjZSBjb21tYXMgYmV0d2VlbiBjYWxsIGFyZ3VtZW50cy5cbmNvbnN0IFRPS0VOX0NPTU1BID0gL1xccyosP1xccyoveTtcbmNvbnN0IFRPS0VOX0JMQU5LID0gL1xccysveTtcblxuLy8gTWF4aW11bSBudW1iZXIgb2YgcGxhY2VhYmxlcyBpbiBhIHNpbmdsZSBQYXR0ZXJuIHRvIHByb3RlY3QgYWdhaW5zdCBRdWFkcmF0aWNcbi8vIEJsb3d1cCBhdHRhY2tzLiBTZWUgaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbWFnYXppbmUvZWUzMzU3MTMuYXNweC5cbmNvbnN0IE1BWF9QTEFDRUFCTEVTID0gMTAwO1xuXG4vKipcbiAqIEZsdWVudCBSZXNvdXJjZSBpcyBhIHN0cnVjdHVyZSBzdG9yaW5nIGEgbWFwIG9mIHBhcnNlZCBsb2NhbGl6YXRpb24gZW50cmllcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmx1ZW50UmVzb3VyY2UgZXh0ZW5kcyBNYXAge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEZsdWVudFJlc291cmNlIGZyb20gRmx1ZW50IGNvZGUuXG4gICAqL1xuICBzdGF0aWMgZnJvbVN0cmluZyhzb3VyY2UpIHtcbiAgICBSRV9NRVNTQUdFX1NUQVJULmxhc3RJbmRleCA9IDA7XG5cbiAgICBsZXQgcmVzb3VyY2UgPSBuZXcgdGhpcygpO1xuICAgIGxldCBjdXJzb3IgPSAwO1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBiZWdpbm5pbmdzIG9mIG1lc3NhZ2VzIGFuZCB0ZXJtcyB0byBlZmZpY2llbnRseSBza2lwXG4gICAgLy8gY29tbWVudHMgYW5kIHJlY292ZXIgZnJvbSBlcnJvcnMuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGxldCBuZXh0ID0gUkVfTUVTU0FHRV9TVEFSVC5leGVjKHNvdXJjZSk7XG4gICAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY3Vyc29yID0gUkVfTUVTU0FHRV9TVEFSVC5sYXN0SW5kZXg7XG4gICAgICB0cnkge1xuICAgICAgICByZXNvdXJjZS5zZXQobmV4dFsxXSwgcGFyc2VNZXNzYWdlKCkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBGbHVlbnRFcnJvcikge1xuICAgICAgICAgIC8vIERvbid0IHJlcG9ydCBhbnkgRmx1ZW50IHN5bnRheCBlcnJvcnMuIFNraXAgZGlyZWN0bHkgdG8gdGhlXG4gICAgICAgICAgLy8gYmVnaW5uaW5nIG9mIHRoZSBuZXh0IG1lc3NhZ2Ugb3IgdGVybS5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc291cmNlO1xuXG4gICAgLy8gVGhlIHBhcnNlciBpbXBsZW1lbnRhdGlvbiBpcyBpbmxpbmVkIGJlbG93IGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxuXG4gICAgLy8gVGhlIHBhcnNlciBmb2N1c2VzIG9uIG1pbmltaXppbmcgdGhlIG51bWJlciBvZiBmYWxzZSBuZWdhdGl2ZXMgYXQgdGhlXG4gICAgLy8gZXhwZW5zZSBvZiBpbmNyZWFzaW5nIHRoZSByaXNrIG9mIGZhbHNlIHBvc2l0aXZlcy4gSW4gb3RoZXIgd29yZHMsIGl0XG4gICAgLy8gYWltcyBhdCBwYXJzaW5nIHZhbGlkIEZsdWVudCBtZXNzYWdlcyB3aXRoIGEgc3VjY2VzcyByYXRlIG9mIDEwMCUsIGJ1dCBpdFxuICAgIC8vIG1heSBhbHNvIHBhcnNlIGEgZmV3IGludmFsaWQgbWVzc2FnZXMgd2hpY2ggdGhlIHJlZmVyZW5jZSBwYXJzZXIgd291bGRcbiAgICAvLyByZWplY3QuIFRoZSBwYXJzZXIgZG9lc24ndCBwZXJmb3JtIGFueSB2YWxpZGF0aW9uIGFuZCBtYXkgcHJvZHVjZSBlbnRyaWVzXG4gICAgLy8gd2hpY2ggd291bGRuJ3QgbWFrZSBzZW5zZSBpbiB0aGUgcmVhbCB3b3JsZC4gRm9yIGJlc3QgcmVzdWx0cyB1c2VycyBhcmVcbiAgICAvLyBhZHZpc2VkIHRvIHZhbGlkYXRlIHRyYW5zbGF0aW9ucyB3aXRoIHRoZSBmbHVlbnQtc3ludGF4IHBhcnNlclxuICAgIC8vIHByZS1ydW50aW1lLlxuXG4gICAgLy8gVGhlIHBhcnNlciBtYWtlcyBhbiBleHRlbnNpdmUgdXNlIG9mIHN0aWNreSByZWdleGVzIHdoaWNoIGNhbiBiZSBhbmNob3JlZFxuICAgIC8vIHRvIGFueSBvZmZzZXQgb2YgdGhlIHNvdXJjZSBzdHJpbmcgd2l0aG91dCBzbGljaW5nIGl0LiBFcnJvcnMgYXJlIHRocm93blxuICAgIC8vIHRvIGJhaWwgb3V0IG9mIHBhcnNpbmcgb2YgaWxsLWZvcm1lZCBtZXNzYWdlcy5cblxuICAgIGZ1bmN0aW9uIHRlc3QocmUpIHtcbiAgICAgIHJlLmxhc3RJbmRleCA9IGN1cnNvcjtcbiAgICAgIHJldHVybiByZS50ZXN0KHNvdXJjZSk7XG4gICAgfVxuXG4gICAgLy8gQWR2YW5jZSB0aGUgY3Vyc29yIGJ5IHRoZSBjaGFyIGlmIGl0IG1hdGNoZXMuIE1heSBiZSB1c2VkIGFzIGEgcHJlZGljYXRlXG4gICAgLy8gKHdhcyB0aGUgbWF0Y2ggZm91bmQ/KSBvciwgaWYgZXJyb3JDbGFzcyBpcyBwYXNzZWQsIGFzIGFuIGFzc2VydGlvbi5cbiAgICBmdW5jdGlvbiBjb25zdW1lQ2hhcihjaGFyLCBlcnJvckNsYXNzKSB7XG4gICAgICBpZiAoc291cmNlW2N1cnNvcl0gPT09IGNoYXIpIHtcbiAgICAgICAgY3Vyc29yKys7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGVycm9yQ2xhc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yQ2xhc3MoYEV4cGVjdGVkICR7Y2hhcn1gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBBZHZhbmNlIHRoZSBjdXJzb3IgYnkgdGhlIHRva2VuIGlmIGl0IG1hdGNoZXMuIE1heSBiZSB1c2VkIGFzIGEgcHJlZGljYXRlXG4gICAgLy8gKHdhcyB0aGUgbWF0Y2ggZm91bmQ/KSBvciwgaWYgZXJyb3JDbGFzcyBpcyBwYXNzZWQsIGFzIGFuIGFzc2VydGlvbi5cbiAgICBmdW5jdGlvbiBjb25zdW1lVG9rZW4ocmUsIGVycm9yQ2xhc3MpIHtcbiAgICAgIGlmICh0ZXN0KHJlKSkge1xuICAgICAgICBjdXJzb3IgPSByZS5sYXN0SW5kZXg7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGVycm9yQ2xhc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yQ2xhc3MoYEV4cGVjdGVkICR7cmUudG9TdHJpbmcoKX1gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBFeGVjdXRlIGEgcmVnZXgsIGFkdmFuY2UgdGhlIGN1cnNvciwgYW5kIHJldHVybiBhbGwgY2FwdHVyZSBncm91cHMuXG4gICAgZnVuY3Rpb24gbWF0Y2gocmUpIHtcbiAgICAgIHJlLmxhc3RJbmRleCA9IGN1cnNvcjtcbiAgICAgIGxldCByZXN1bHQgPSByZS5leGVjKHNvdXJjZSk7XG4gICAgICBpZiAocmVzdWx0ID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBGbHVlbnRFcnJvcihgRXhwZWN0ZWQgJHtyZS50b1N0cmluZygpfWApO1xuICAgICAgfVxuICAgICAgY3Vyc29yID0gcmUubGFzdEluZGV4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBFeGVjdXRlIGEgcmVnZXgsIGFkdmFuY2UgdGhlIGN1cnNvciwgYW5kIHJldHVybiB0aGUgY2FwdHVyZSBncm91cC5cbiAgICBmdW5jdGlvbiBtYXRjaDEocmUpIHtcbiAgICAgIHJldHVybiBtYXRjaChyZSlbMV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VNZXNzYWdlKCkge1xuICAgICAgbGV0IHZhbHVlID0gcGFyc2VQYXR0ZXJuKCk7XG4gICAgICBsZXQgYXR0cnMgPSBwYXJzZUF0dHJpYnV0ZXMoKTtcblxuICAgICAgaWYgKGF0dHJzID09PSBudWxsKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBGbHVlbnRFcnJvcihcIkV4cGVjdGVkIG1lc3NhZ2UgdmFsdWUgb3IgYXR0cmlidXRlc1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7dmFsdWUsIGF0dHJzfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUF0dHJpYnV0ZXMoKSB7XG4gICAgICBsZXQgYXR0cnMgPSB7fTtcblxuICAgICAgd2hpbGUgKHRlc3QoUkVfQVRUUklCVVRFX1NUQVJUKSkge1xuICAgICAgICBsZXQgbmFtZSA9IG1hdGNoMShSRV9BVFRSSUJVVEVfU1RBUlQpO1xuICAgICAgICBsZXQgdmFsdWUgPSBwYXJzZVBhdHRlcm4oKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEZsdWVudEVycm9yKFwiRXhwZWN0ZWQgYXR0cmlidXRlIHZhbHVlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGF0dHJzW25hbWVdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhhdHRycykubGVuZ3RoID4gMCA/IGF0dHJzIDogbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVBhdHRlcm4oKSB7XG4gICAgICAvLyBGaXJzdCB0cnkgdG8gcGFyc2UgYW55IHNpbXBsZSB0ZXh0IG9uIHRoZSBzYW1lIGxpbmUgYXMgdGhlIGlkLlxuICAgICAgaWYgKHRlc3QoUkVfVEVYVF9SVU4pKSB7XG4gICAgICAgIHZhciBmaXJzdCA9IG1hdGNoMShSRV9URVhUX1JVTik7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZXJlJ3MgYSBwbGFjZWFibGUgb24gdGhlIGZpcnN0IGxpbmUsIHBhcnNlIGEgY29tcGxleCBwYXR0ZXJuLlxuICAgICAgaWYgKHNvdXJjZVtjdXJzb3JdID09PSBcIntcIiB8fCBzb3VyY2VbY3Vyc29yXSA9PT0gXCJ9XCIpIHtcbiAgICAgICAgLy8gUmUtdXNlIHRoZSB0ZXh0IHBhcnNlZCBhYm92ZSwgaWYgcG9zc2libGUuXG4gICAgICAgIHJldHVybiBwYXJzZVBhdHRlcm5FbGVtZW50cyhmaXJzdCA/IFtmaXJzdF0gOiBbXSwgSW5maW5pdHkpO1xuICAgICAgfVxuXG4gICAgICAvLyBSRV9URVhUX1ZBTFVFIHN0b3BzIGF0IG5ld2xpbmVzLiBPbmx5IGNvbnRpbnVlIHBhcnNpbmcgdGhlIHBhdHRlcm4gaWZcbiAgICAgIC8vIHdoYXQgY29tZXMgYWZ0ZXIgdGhlIG5ld2xpbmUgaXMgaW5kZW50ZWQuXG4gICAgICBsZXQgaW5kZW50ID0gcGFyc2VJbmRlbnQoKTtcbiAgICAgIGlmIChpbmRlbnQpIHtcbiAgICAgICAgaWYgKGZpcnN0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlcmUncyB0ZXh0IG9uIHRoZSBmaXJzdCBsaW5lLCB0aGUgYmxhbmsgYmxvY2sgaXMgcGFydCBvZiB0aGVcbiAgICAgICAgICAvLyB0cmFuc2xhdGlvbiBjb250ZW50IGluIGl0cyBlbnRpcmV0eS5cbiAgICAgICAgICByZXR1cm4gcGFyc2VQYXR0ZXJuRWxlbWVudHMoW2ZpcnN0LCBpbmRlbnRdLCBpbmRlbnQubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UsIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIGJsb2NrIHBhdHRlcm4sIGkuZS4gYSBwYXR0ZXJuIHdoaWNoXG4gICAgICAgIC8vIHN0YXJ0cyBvbiBhIG5ldyBsaW5lLiBEaXNjcmFkIHRoZSBsZWFkaW5nIG5ld2xpbmVzIGJ1dCBrZWVwIHRoZVxuICAgICAgICAvLyBpbmxpbmUgaW5kZW50OyBpdCB3aWxsIGJlIHVzZWQgYnkgdGhlIGRlZGVudGF0aW9uIGxvZ2ljLlxuICAgICAgICBpbmRlbnQudmFsdWUgPSB0cmltKGluZGVudC52YWx1ZSwgUkVfTEVBRElOR19ORVdMSU5FUyk7XG4gICAgICAgIHJldHVybiBwYXJzZVBhdHRlcm5FbGVtZW50cyhbaW5kZW50XSwgaW5kZW50Lmxlbmd0aCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAvLyBJdCB3YXMganVzdCBhIHNpbXBsZSBpbmxpbmUgdGV4dCBhZnRlciBhbGwuXG4gICAgICAgIHJldHVybiB0cmltKGZpcnN0LCBSRV9UUkFJTElOR19TUEFDRVMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBQYXJzZSBhIGNvbXBsZXggcGF0dGVybiBhcyBhbiBhcnJheSBvZiBlbGVtZW50cy5cbiAgICBmdW5jdGlvbiBwYXJzZVBhdHRlcm5FbGVtZW50cyhlbGVtZW50cyA9IFtdLCBjb21tb25JbmRlbnQpIHtcbiAgICAgIGxldCBwbGFjZWFibGVDb3VudCA9IDA7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmICh0ZXN0KFJFX1RFWFRfUlVOKSkge1xuICAgICAgICAgIGVsZW1lbnRzLnB1c2gobWF0Y2gxKFJFX1RFWFRfUlVOKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc291cmNlW2N1cnNvcl0gPT09IFwie1wiKSB7XG4gICAgICAgICAgaWYgKCsrcGxhY2VhYmxlQ291bnQgPiBNQVhfUExBQ0VBQkxFUykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZsdWVudEVycm9yKFwiVG9vIG1hbnkgcGxhY2VhYmxlc1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudHMucHVzaChwYXJzZVBsYWNlYWJsZSgpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3VyY2VbY3Vyc29yXSA9PT0gXCJ9XCIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRmx1ZW50RXJyb3IoXCJVbmJhbGFuY2VkIGNsb3NpbmcgYnJhY2VcIik7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW5kZW50ID0gcGFyc2VJbmRlbnQoKTtcbiAgICAgICAgaWYgKGluZGVudCkge1xuICAgICAgICAgIGVsZW1lbnRzLnB1c2goaW5kZW50KTtcbiAgICAgICAgICBjb21tb25JbmRlbnQgPSBNYXRoLm1pbihjb21tb25JbmRlbnQsIGluZGVudC5sZW5ndGgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGxldCBsYXN0SW5kZXggPSBlbGVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgLy8gVHJpbSB0aGUgdHJhaWxpbmcgc3BhY2VzIGluIHRoZSBsYXN0IGVsZW1lbnQgaWYgaXQncyBhIFRleHRFbGVtZW50LlxuICAgICAgaWYgKHR5cGVvZiBlbGVtZW50c1tsYXN0SW5kZXhdID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGVsZW1lbnRzW2xhc3RJbmRleF0gPSB0cmltKGVsZW1lbnRzW2xhc3RJbmRleF0sIFJFX1RSQUlMSU5HX1NQQUNFUyk7XG4gICAgICB9XG5cbiAgICAgIGxldCBiYWtlZCA9IFtdO1xuICAgICAgZm9yIChsZXQgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICBpZiAoZWxlbWVudC50eXBlID09PSBcImluZGVudFwiKSB7XG4gICAgICAgICAgLy8gRGVkZW50IGluZGVudGVkIGxpbmVzIGJ5IHRoZSBtYXhpbXVtIGNvbW1vbiBpbmRlbnQuXG4gICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQudmFsdWUuc2xpY2UoMCwgZWxlbWVudC52YWx1ZS5sZW5ndGggLSBjb21tb25JbmRlbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQudHlwZSA9PT0gXCJzdHJcIikge1xuICAgICAgICAgIC8vIE9wdGltaXplIFN0cmluZ0xpdGVyYWxzIGludG8gdGhlaXIgdmFsdWUuXG4gICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICBiYWtlZC5wdXNoKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFrZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VQbGFjZWFibGUoKSB7XG4gICAgICBjb25zdW1lVG9rZW4oVE9LRU5fQlJBQ0VfT1BFTiwgRmx1ZW50RXJyb3IpO1xuXG4gICAgICBsZXQgc2VsZWN0b3IgPSBwYXJzZUlubGluZUV4cHJlc3Npb24oKTtcbiAgICAgIGlmIChjb25zdW1lVG9rZW4oVE9LRU5fQlJBQ0VfQ0xPU0UpKSB7XG4gICAgICAgIHJldHVybiBzZWxlY3RvcjtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbnN1bWVUb2tlbihUT0tFTl9BUlJPVykpIHtcbiAgICAgICAgbGV0IHZhcmlhbnRzID0gcGFyc2VWYXJpYW50cygpO1xuICAgICAgICBjb25zdW1lVG9rZW4oVE9LRU5fQlJBQ0VfQ0xPU0UsIEZsdWVudEVycm9yKTtcbiAgICAgICAgcmV0dXJuIHt0eXBlOiBcInNlbGVjdFwiLCBzZWxlY3RvciwgLi4udmFyaWFudHN9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRmx1ZW50RXJyb3IoXCJVbmNsb3NlZCBwbGFjZWFibGVcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VJbmxpbmVFeHByZXNzaW9uKCkge1xuICAgICAgaWYgKHNvdXJjZVtjdXJzb3JdID09PSBcIntcIikge1xuICAgICAgICAvLyBJdCdzIGEgbmVzdGVkIHBsYWNlYWJsZS5cbiAgICAgICAgcmV0dXJuIHBhcnNlUGxhY2VhYmxlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0ZXN0KFJFX1JFRkVSRU5DRSkpIHtcbiAgICAgICAgbGV0IFssIHNpZ2lsLCBuYW1lLCBhdHRyID0gbnVsbF0gPSBtYXRjaChSRV9SRUZFUkVOQ0UpO1xuXG4gICAgICAgIGlmIChzaWdpbCA9PT0gXCIkXCIpIHtcbiAgICAgICAgICByZXR1cm4ge3R5cGU6IFwidmFyXCIsIG5hbWV9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnN1bWVUb2tlbihUT0tFTl9QQVJFTl9PUEVOKSkge1xuICAgICAgICAgIGxldCBhcmdzID0gcGFyc2VBcmd1bWVudHMoKTtcblxuICAgICAgICAgIGlmIChzaWdpbCA9PT0gXCItXCIpIHtcbiAgICAgICAgICAgIC8vIEEgcGFyYW1ldGVyaXplZCB0ZXJtOiAtdGVybSguLi4pLlxuICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBcInRlcm1cIiwgbmFtZSwgYXR0ciwgYXJnc307XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFJFX0ZVTkNUSU9OX05BTUUudGVzdChuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBcImZ1bmNcIiwgbmFtZSwgYXJnc307XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhyb3cgbmV3IEZsdWVudEVycm9yKFwiRnVuY3Rpb24gbmFtZXMgbXVzdCBiZSBhbGwgdXBwZXItY2FzZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaWdpbCA9PT0gXCItXCIpIHtcbiAgICAgICAgICAvLyBBIG5vbi1wYXJhbWV0ZXJpemVkIHRlcm06IC10ZXJtLlxuICAgICAgICAgIHJldHVybiB7dHlwZTogXCJ0ZXJtXCIsIG5hbWUsIGF0dHIsIGFyZ3M6IFtdfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7dHlwZTogXCJtZXNnXCIsIG5hbWUsIGF0dHJ9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFyc2VMaXRlcmFsKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VBcmd1bWVudHMoKSB7XG4gICAgICBsZXQgYXJncyA9IFtdO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgc3dpdGNoIChzb3VyY2VbY3Vyc29yXSkge1xuICAgICAgICAgIGNhc2UgXCIpXCI6IC8vIEVuZCBvZiB0aGUgYXJndW1lbnQgbGlzdC5cbiAgICAgICAgICAgIGN1cnNvcisrO1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgICAgICAgY2FzZSB1bmRlZmluZWQ6IC8vIEVPRlxuICAgICAgICAgICAgdGhyb3cgbmV3IEZsdWVudEVycm9yKFwiVW5jbG9zZWQgYXJndW1lbnQgbGlzdFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFyZ3MucHVzaChwYXJzZUFyZ3VtZW50KCkpO1xuICAgICAgICAvLyBDb21tYXMgYmV0d2VlbiBhcmd1bWVudHMgYXJlIHRyZWF0ZWQgYXMgd2hpdGVzcGFjZS5cbiAgICAgICAgY29uc3VtZVRva2VuKFRPS0VOX0NPTU1BKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUFyZ3VtZW50KCkge1xuICAgICAgbGV0IGV4cHIgPSBwYXJzZUlubGluZUV4cHJlc3Npb24oKTtcbiAgICAgIGlmIChleHByLnR5cGUgIT09IFwibWVzZ1wiKSB7XG4gICAgICAgIHJldHVybiBleHByO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29uc3VtZVRva2VuKFRPS0VOX0NPTE9OKSkge1xuICAgICAgICAvLyBUaGUgcmVmZXJlbmNlIGlzIHRoZSBiZWdpbm5pbmcgb2YgYSBuYW1lZCBhcmd1bWVudC5cbiAgICAgICAgcmV0dXJuIHt0eXBlOiBcIm5hcmdcIiwgbmFtZTogZXhwci5uYW1lLCB2YWx1ZTogcGFyc2VMaXRlcmFsKCl9O1xuICAgICAgfVxuXG4gICAgICAvLyBJdCdzIGEgcmVndWxhciBtZXNzYWdlIHJlZmVyZW5jZS5cbiAgICAgIHJldHVybiBleHByO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlVmFyaWFudHMoKSB7XG4gICAgICBsZXQgdmFyaWFudHMgPSBbXTtcbiAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICBsZXQgc3RhcjtcblxuICAgICAgd2hpbGUgKHRlc3QoUkVfVkFSSUFOVF9TVEFSVCkpIHtcbiAgICAgICAgaWYgKGNvbnN1bWVDaGFyKFwiKlwiKSkge1xuICAgICAgICAgIHN0YXIgPSBjb3VudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBrZXkgPSBwYXJzZVZhcmlhbnRLZXkoKTtcbiAgICAgICAgbGV0IHZhbHVlID0gcGFyc2VQYXR0ZXJuKCk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBGbHVlbnRFcnJvcihcIkV4cGVjdGVkIHZhcmlhbnQgdmFsdWVcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyaWFudHNbY291bnQrK10gPSB7a2V5LCB2YWx1ZX07XG4gICAgICB9XG5cbiAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRmx1ZW50RXJyb3IoXCJFeHBlY3RlZCBkZWZhdWx0IHZhcmlhbnRcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7dmFyaWFudHMsIHN0YXJ9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlVmFyaWFudEtleSgpIHtcbiAgICAgIGNvbnN1bWVUb2tlbihUT0tFTl9CUkFDS0VUX09QRU4sIEZsdWVudEVycm9yKTtcbiAgICAgIGxldCBrZXkgPSB0ZXN0KFJFX05VTUJFUl9MSVRFUkFMKVxuICAgICAgICA/IHBhcnNlTnVtYmVyTGl0ZXJhbCgpXG4gICAgICAgIDogbWF0Y2gxKFJFX0lERU5USUZJRVIpO1xuICAgICAgY29uc3VtZVRva2VuKFRPS0VOX0JSQUNLRVRfQ0xPU0UsIEZsdWVudEVycm9yKTtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VMaXRlcmFsKCkge1xuICAgICAgaWYgKHRlc3QoUkVfTlVNQkVSX0xJVEVSQUwpKSB7XG4gICAgICAgIHJldHVybiBwYXJzZU51bWJlckxpdGVyYWwoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNvdXJjZVtjdXJzb3JdID09PSBcIlxcXCJcIikge1xuICAgICAgICByZXR1cm4gcGFyc2VTdHJpbmdMaXRlcmFsKCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBGbHVlbnRFcnJvcihcIkludmFsaWQgZXhwcmVzc2lvblwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZU51bWJlckxpdGVyYWwoKSB7XG4gICAgICBsZXQgWywgdmFsdWUsIGZyYWN0aW9uID0gXCJcIl0gPSBtYXRjaChSRV9OVU1CRVJfTElURVJBTCk7XG4gICAgICBsZXQgcHJlY2lzaW9uID0gZnJhY3Rpb24ubGVuZ3RoO1xuICAgICAgcmV0dXJuIHt0eXBlOiBcIm51bVwiLCB2YWx1ZTogcGFyc2VGbG9hdCh2YWx1ZSksIHByZWNpc2lvbn07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VTdHJpbmdMaXRlcmFsKCkge1xuICAgICAgY29uc3VtZUNoYXIoXCJcXFwiXCIsIEZsdWVudEVycm9yKTtcbiAgICAgIGxldCB2YWx1ZSA9IFwiXCI7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YWx1ZSArPSBtYXRjaDEoUkVfU1RSSU5HX1JVTik7XG5cbiAgICAgICAgaWYgKHNvdXJjZVtjdXJzb3JdID09PSBcIlxcXFxcIikge1xuICAgICAgICAgIHZhbHVlICs9IHBhcnNlRXNjYXBlU2VxdWVuY2UoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25zdW1lQ2hhcihcIlxcXCJcIikpIHtcbiAgICAgICAgICByZXR1cm4ge3R5cGU6IFwic3RyXCIsIHZhbHVlfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlJ3ZlIHJlYWNoZWQgYW4gRU9MIG9mIEVPRi5cbiAgICAgICAgdGhyb3cgbmV3IEZsdWVudEVycm9yKFwiVW5jbG9zZWQgc3RyaW5nIGxpdGVyYWxcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVW5lc2NhcGUga25vd24gZXNjYXBlIHNlcXVlbmNlcy5cbiAgICBmdW5jdGlvbiBwYXJzZUVzY2FwZVNlcXVlbmNlKCkge1xuICAgICAgaWYgKHRlc3QoUkVfU1RSSU5HX0VTQ0FQRSkpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoMShSRV9TVFJJTkdfRVNDQVBFKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRlc3QoUkVfVU5JQ09ERV9FU0NBUEUpKSB7XG4gICAgICAgIGxldCBbLCBjb2RlcG9pbnQ0LCBjb2RlcG9pbnQ2XSA9IG1hdGNoKFJFX1VOSUNPREVfRVNDQVBFKTtcbiAgICAgICAgbGV0IGNvZGVwb2ludCA9IHBhcnNlSW50KGNvZGVwb2ludDQgfHwgY29kZXBvaW50NiwgMTYpO1xuICAgICAgICByZXR1cm4gY29kZXBvaW50IDw9IDB4RDdGRiB8fCAweEUwMDAgPD0gY29kZXBvaW50XG4gICAgICAgICAgLy8gSXQncyBhIFVuaWNvZGUgc2NhbGFyIHZhbHVlLlxuICAgICAgICAgID8gU3RyaW5nLmZyb21Db2RlUG9pbnQoY29kZXBvaW50KVxuICAgICAgICAgIC8vIExvbmVseSBzdXJyb2dhdGVzIGNhbiBjYXVzZSB0cm91YmxlIHdoZW4gdGhlIHBhcnNpbmcgcmVzdWx0IGlzXG4gICAgICAgICAgLy8gc2F2ZWQgdXNpbmcgVVRGLTguIFVzZSBVK0ZGRkQgUkVQTEFDRU1FTlQgQ0hBUkFDVEVSIGluc3RlYWQuXG4gICAgICAgICAgOiBcIu+/vVwiO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRmx1ZW50RXJyb3IoXCJVbmtub3duIGVzY2FwZSBzZXF1ZW5jZVwiKTtcbiAgICB9XG5cbiAgICAvLyBQYXJzZSBibGFuayBzcGFjZS4gUmV0dXJuIGl0IGlmIGl0IGxvb2tzIGxpa2UgaW5kZW50IGJlZm9yZSBhIHBhdHRlcm5cbiAgICAvLyBsaW5lLiBTa2lwIGl0IG90aHdlcndpc2UuXG4gICAgZnVuY3Rpb24gcGFyc2VJbmRlbnQoKSB7XG4gICAgICBsZXQgc3RhcnQgPSBjdXJzb3I7XG4gICAgICBjb25zdW1lVG9rZW4oVE9LRU5fQkxBTkspO1xuXG4gICAgICAvLyBDaGVjayB0aGUgZmlyc3Qgbm9uLWJsYW5rIGNoYXJhY3RlciBhZnRlciB0aGUgaW5kZW50LlxuICAgICAgc3dpdGNoIChzb3VyY2VbY3Vyc29yXSkge1xuICAgICAgICBjYXNlIFwiLlwiOlxuICAgICAgICBjYXNlIFwiW1wiOlxuICAgICAgICBjYXNlIFwiKlwiOlxuICAgICAgICBjYXNlIFwifVwiOlxuICAgICAgICBjYXNlIHVuZGVmaW5lZDogLy8gRU9GXG4gICAgICAgICAgLy8gQSBzcGVjaWFsIGNoYXJhY3Rlci4gRW5kIHRoZSBQYXR0ZXJuLlxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSBcIntcIjpcbiAgICAgICAgICAvLyBQbGFjZWFibGVzIGRvbid0IHJlcXVpcmUgaW5kZW50YXRpb24gKGluIEVCTkY6IGJsb2NrLXBsYWNlYWJsZSkuXG4gICAgICAgICAgLy8gQ29udGludWUgdGhlIFBhdHRlcm4uXG4gICAgICAgICAgcmV0dXJuIG1ha2VJbmRlbnQoc291cmNlLnNsaWNlKHN0YXJ0LCBjdXJzb3IpKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlIGZpcnN0IGNoYXJhY3RlciBvbiB0aGUgbGluZSBpcyBub3Qgb25lIG9mIHRoZSBzcGVjaWFsIGNoYXJhY3RlcnNcbiAgICAgIC8vIGxpc3RlZCBhYm92ZSwgaXQncyBhIHJlZ3VsYXIgdGV4dCBjaGFyYWN0ZXIuIENoZWNrIGlmIHRoZXJlJ3MgYXQgbGVhc3RcbiAgICAgIC8vIG9uZSBzcGFjZSBvZiBpbmRlbnQgYmVmb3JlIGl0LlxuICAgICAgaWYgKHNvdXJjZVtjdXJzb3IgLSAxXSA9PT0gXCIgXCIpIHtcbiAgICAgICAgLy8gSXQncyBhbiBpbmRlbnRlZCB0ZXh0IGNoYXJhY3RlciAoaW4gRUJORjogaW5kZW50ZWQtY2hhcikuIENvbnRpbnVlXG4gICAgICAgIC8vIHRoZSBQYXR0ZXJuLlxuICAgICAgICByZXR1cm4gbWFrZUluZGVudChzb3VyY2Uuc2xpY2Uoc3RhcnQsIGN1cnNvcikpO1xuICAgICAgfVxuXG4gICAgICAvLyBBIG5vdC1pbmRlbnRlZCB0ZXh0IGNoYXJhY3RlciBpcyBsaWtlbHkgdGhlIGlkZW50aWZpZXIgb2YgdGhlIG5leHRcbiAgICAgIC8vIG1lc3NhZ2UuIEVuZCB0aGUgUGF0dGVybi5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBUcmltIGJsYW5rcyBpbiB0ZXh0IGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gcmVnZXguXG4gICAgZnVuY3Rpb24gdHJpbSh0ZXh0LCByZSkge1xuICAgICAgcmV0dXJuIHRleHQucmVwbGFjZShyZSwgXCJcIik7XG4gICAgfVxuXG4gICAgLy8gTm9ybWFsaXplIGEgYmxhbmsgYmxvY2sgYW5kIGV4dHJhY3QgdGhlIGluZGVudCBkZXRhaWxzLlxuICAgIGZ1bmN0aW9uIG1ha2VJbmRlbnQoYmxhbmspIHtcbiAgICAgIGxldCB2YWx1ZSA9IGJsYW5rLnJlcGxhY2UoUkVfQkxBTktfTElORVMsIFwiXFxuXCIpO1xuICAgICAgbGV0IGxlbmd0aCA9IFJFX0lOREVOVC5leGVjKGJsYW5rKVsxXS5sZW5ndGg7XG4gICAgICByZXR1cm4ge3R5cGU6IFwiaW5kZW50XCIsIHZhbHVlLCBsZW5ndGh9O1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHJlc29sdmUgZnJvbSBcIi4vcmVzb2x2ZXIuanNcIjtcbmltcG9ydCBGbHVlbnRSZXNvdXJjZSBmcm9tIFwiLi9yZXNvdXJjZS5qc1wiO1xuXG4vKipcbiAqIE1lc3NhZ2UgYnVuZGxlcyBhcmUgc2luZ2xlLWxhbmd1YWdlIHN0b3JlcyBvZiB0cmFuc2xhdGlvbnMuICBUaGV5IGFyZVxuICogcmVzcG9uc2libGUgZm9yIHBhcnNpbmcgdHJhbnNsYXRpb24gcmVzb3VyY2VzIGluIHRoZSBGbHVlbnQgc3ludGF4IGFuZCBjYW5cbiAqIGZvcm1hdCB0cmFuc2xhdGlvbiB1bml0cyAoZW50aXRpZXMpIHRvIHN0cmluZ3MuXG4gKlxuICogQWx3YXlzIHVzZSBgRmx1ZW50QnVuZGxlLmZvcm1hdGAgdG8gcmV0cmlldmUgdHJhbnNsYXRpb24gdW5pdHMgZnJvbSBhXG4gKiBidW5kbGUuIFRyYW5zbGF0aW9ucyBjYW4gY29udGFpbiByZWZlcmVuY2VzIHRvIG90aGVyIGVudGl0aWVzIG9yIHZhcmlhYmxlcyxcbiAqIGNvbmRpdGlvbmFsIGxvZ2ljIGluIGZvcm0gb2Ygc2VsZWN0IGV4cHJlc3Npb25zLCB0cmFpdHMgd2hpY2ggZGVzY3JpYmUgdGhlaXJcbiAqIGdyYW1tYXRpY2FsIGZlYXR1cmVzLCBhbmQgY2FuIHVzZSBGbHVlbnQgYnVpbHRpbnMgd2hpY2ggbWFrZSB1c2Ugb2YgdGhlXG4gKiBgSW50bGAgZm9ybWF0dGVycyB0byBmb3JtYXQgbnVtYmVycywgZGF0ZXMsIGxpc3RzIGFuZCBtb3JlIGludG8gdGhlXG4gKiBidW5kbGUncyBsYW5ndWFnZS4gU2VlIHRoZSBkb2N1bWVudGF0aW9uIG9mIHRoZSBGbHVlbnQgc3ludGF4IGZvciBtb3JlXG4gKiBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmx1ZW50QnVuZGxlIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBgRmx1ZW50QnVuZGxlYC5cbiAgICpcbiAgICogVGhlIGBsb2NhbGVzYCBhcmd1bWVudCBpcyB1c2VkIHRvIGluc3RhbnRpYXRlIGBJbnRsYCBmb3JtYXR0ZXJzIHVzZWQgYnlcbiAgICogdHJhbnNsYXRpb25zLiAgVGhlIGBvcHRpb25zYCBvYmplY3QgY2FuIGJlIHVzZWQgdG8gY29uZmlndXJlIHRoZSBidW5kbGUuXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKlxuICAgKiAgICAgY29uc3QgYnVuZGxlID0gbmV3IEZsdWVudEJ1bmRsZShsb2NhbGVzKTtcbiAgICpcbiAgICogICAgIGNvbnN0IGJ1bmRsZSA9IG5ldyBGbHVlbnRCdW5kbGUobG9jYWxlcywgeyB1c2VJc29sYXRpbmc6IGZhbHNlIH0pO1xuICAgKlxuICAgKiAgICAgY29uc3QgYnVuZGxlID0gbmV3IEZsdWVudEJ1bmRsZShsb2NhbGVzLCB7XG4gICAqICAgICAgIHVzZUlzb2xhdGluZzogdHJ1ZSxcbiAgICogICAgICAgZnVuY3Rpb25zOiB7XG4gICAqICAgICAgICAgTk9ERV9FTlY6ICgpID0+IHByb2Nlc3MuZW52Lk5PREVfRU5WXG4gICAqICAgICAgIH1cbiAgICogICAgIH0pO1xuICAgKlxuICAgKiBBdmFpbGFibGUgb3B0aW9uczpcbiAgICpcbiAgICogICAtIGBmdW5jdGlvbnNgIC0gYW4gb2JqZWN0IG9mIGFkZGl0aW9uYWwgZnVuY3Rpb25zIGF2YWlsYWJsZSB0b1xuICAgKiAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnMgYXMgYnVpbHRpbnMuXG4gICAqXG4gICAqICAgLSBgdXNlSXNvbGF0aW5nYCAtIGJvb2xlYW4gc3BlY2lmeWluZyB3aGV0aGVyIHRvIHVzZSBVbmljb2RlIGlzb2xhdGlvblxuICAgKiAgICAgICAgICAgICAgICAgICAgbWFya3MgKEZTSSwgUERJKSBmb3IgYmlkaSBpbnRlcnBvbGF0aW9ucy5cbiAgICogICAgICAgICAgICAgICAgICAgIERlZmF1bHQ6IHRydWVcbiAgICpcbiAgICogICAtIGB0cmFuc2Zvcm1gIC0gYSBmdW5jdGlvbiB1c2VkIHRvIHRyYW5zZm9ybSBzdHJpbmcgcGFydHMgb2YgcGF0dGVybnMuXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gbG9jYWxlcyAtIExvY2FsZSBvciBsb2NhbGVzIG9mIHRoZSBidW5kbGVcbiAgICogQHBhcmFtICAge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEByZXR1cm5zIHtGbHVlbnRCdW5kbGV9XG4gICAqL1xuICBjb25zdHJ1Y3Rvcihsb2NhbGVzLCB7XG4gICAgZnVuY3Rpb25zID0ge30sXG4gICAgdXNlSXNvbGF0aW5nID0gdHJ1ZSxcbiAgICB0cmFuc2Zvcm0gPSB2ID0+IHYsXG4gIH0gPSB7fSkge1xuICAgIHRoaXMubG9jYWxlcyA9IEFycmF5LmlzQXJyYXkobG9jYWxlcykgPyBsb2NhbGVzIDogW2xvY2FsZXNdO1xuXG4gICAgdGhpcy5fdGVybXMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5fbWVzc2FnZXMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5fZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIHRoaXMuX3VzZUlzb2xhdGluZyA9IHVzZUlzb2xhdGluZztcbiAgICB0aGlzLl90cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgdGhpcy5faW50bHMgPSBuZXcgV2Vha01hcCgpO1xuICB9XG5cbiAgLypcbiAgICogUmV0dXJuIGFuIGl0ZXJhdG9yIG92ZXIgcHVibGljIGBbaWQsIG1lc3NhZ2VdYCBwYWlycy5cbiAgICpcbiAgICogQHJldHVybnMge0l0ZXJhdG9yfVxuICAgKi9cbiAgZ2V0IG1lc3NhZ2VzKCkge1xuICAgIHJldHVybiB0aGlzLl9tZXNzYWdlc1tTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIH1cblxuICAvKlxuICAgKiBDaGVjayBpZiBhIG1lc3NhZ2UgaXMgcHJlc2VudCBpbiB0aGUgYnVuZGxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWRlbnRpZmllciBvZiB0aGUgbWVzc2FnZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2x9XG4gICAqL1xuICBoYXNNZXNzYWdlKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VzLmhhcyhpZCk7XG4gIH1cblxuICAvKlxuICAgKiBSZXR1cm4gdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uIG9mIGEgbWVzc2FnZS5cbiAgICpcbiAgICogVGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uIHNob3VsZCBvbmx5IGJlIHVzZWQgYXMgYW4gYXJndW1lbnQgdG9cbiAgICogYEZsdWVudEJ1bmRsZS5mb3JtYXRgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWRlbnRpZmllciBvZiB0aGUgbWVzc2FnZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge0FueX1cbiAgICovXG4gIGdldE1lc3NhZ2UoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fbWVzc2FnZXMuZ2V0KGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB0cmFuc2xhdGlvbiByZXNvdXJjZSB0byB0aGUgYnVuZGxlLlxuICAgKlxuICAgKiBUaGUgdHJhbnNsYXRpb24gcmVzb3VyY2UgbXVzdCB1c2UgdGhlIEZsdWVudCBzeW50YXguICBJdCB3aWxsIGJlIHBhcnNlZCBieVxuICAgKiB0aGUgYnVuZGxlIGFuZCBlYWNoIHRyYW5zbGF0aW9uIHVuaXQgKG1lc3NhZ2UpIHdpbGwgYmUgYXZhaWxhYmxlIGluIHRoZVxuICAgKiBidW5kbGUgYnkgaXRzIGlkZW50aWZpZXIuXG4gICAqXG4gICAqICAgICBidW5kbGUuYWRkTWVzc2FnZXMoJ2ZvbyA9IEZvbycpO1xuICAgKiAgICAgYnVuZGxlLmdldE1lc3NhZ2UoJ2ZvbycpO1xuICAgKlxuICAgKiAgICAgLy8gUmV0dXJucyBhIHJhdyByZXByZXNlbnRhdGlvbiBvZiB0aGUgJ2ZvbycgbWVzc2FnZS5cbiAgICpcbiAgICogICAgIGJ1bmRsZS5hZGRNZXNzYWdlcygnYmFyID0gQmFyJyk7XG4gICAqICAgICBidW5kbGUuYWRkTWVzc2FnZXMoJ2JhciA9IE5ld2JhcicsIHsgYWxsb3dPdmVycmlkZXM6IHRydWUgfSk7XG4gICAqICAgICBidW5kbGUuZ2V0TWVzc2FnZSgnYmFyJyk7XG4gICAqXG4gICAqICAgICAvLyBSZXR1cm5zIGEgcmF3IHJlcHJlc2VudGF0aW9uIG9mIHRoZSAnYmFyJyBtZXNzYWdlOiBOZXdiYXIuXG4gICAqXG4gICAqIFBhcnNlZCBlbnRpdGllcyBzaG91bGQgYmUgZm9ybWF0dGVkIHdpdGggdGhlIGBmb3JtYXRgIG1ldGhvZCBpbiBjYXNlIHRoZXlcbiAgICogY29udGFpbiBsb2dpYyAocmVmZXJlbmNlcywgc2VsZWN0IGV4cHJlc3Npb25zIGV0Yy4pLlxuICAgKlxuICAgKiBBdmFpbGFibGUgb3B0aW9uczpcbiAgICpcbiAgICogICAtIGBhbGxvd092ZXJyaWRlc2AgLSBib29sZWFuIHNwZWNpZnlpbmcgd2hldGhlciBpdCdzIGFsbG93ZWQgdG8gb3ZlcnJpZGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgYW4gZXhpc3RpbmcgbWVzc2FnZSBvciB0ZXJtIHdpdGggYSBuZXcgdmFsdWUuXG4gICAqICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQ6IGZhbHNlXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9IHNvdXJjZSAtIFRleHQgcmVzb3VyY2Ugd2l0aCB0cmFuc2xhdGlvbnMuXG4gICAqIEBwYXJhbSAgIHtPYmplY3R9IFtvcHRpb25zXVxuICAgKiBAcmV0dXJucyB7QXJyYXk8RXJyb3I+fVxuICAgKi9cbiAgYWRkTWVzc2FnZXMoc291cmNlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcmVzID0gRmx1ZW50UmVzb3VyY2UuZnJvbVN0cmluZyhzb3VyY2UpO1xuICAgIHJldHVybiB0aGlzLmFkZFJlc291cmNlKHJlcywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgdHJhbnNsYXRpb24gcmVzb3VyY2UgdG8gdGhlIGJ1bmRsZS5cbiAgICpcbiAgICogVGhlIHRyYW5zbGF0aW9uIHJlc291cmNlIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgRmx1ZW50UmVzb3VyY2UsXG4gICAqIGUuZy4gcGFyc2VkIGJ5IGBGbHVlbnRSZXNvdXJjZS5mcm9tU3RyaW5nYC5cbiAgICpcbiAgICogICAgIGxldCByZXMgPSBGbHVlbnRSZXNvdXJjZS5mcm9tU3RyaW5nKFwiZm9vID0gRm9vXCIpO1xuICAgKiAgICAgYnVuZGxlLmFkZFJlc291cmNlKHJlcyk7XG4gICAqICAgICBidW5kbGUuZ2V0TWVzc2FnZSgnZm9vJyk7XG4gICAqXG4gICAqICAgICAvLyBSZXR1cm5zIGEgcmF3IHJlcHJlc2VudGF0aW9uIG9mIHRoZSAnZm9vJyBtZXNzYWdlLlxuICAgKlxuICAgKiAgICAgbGV0IHJlcyA9IEZsdWVudFJlc291cmNlLmZyb21TdHJpbmcoXCJiYXIgPSBCYXJcIik7XG4gICAqICAgICBidW5kbGUuYWRkUmVzb3VyY2UocmVzKTtcbiAgICogICAgIHJlcyA9IEZsdWVudFJlc291cmNlLmZyb21TdHJpbmcoXCJiYXIgPSBOZXdiYXJcIik7XG4gICAqICAgICBidW5kbGUuYWRkUmVzb3VyY2UocmVzLCB7IGFsbG93T3ZlcnJpZGVzOiB0cnVlIH0pO1xuICAgKiAgICAgYnVuZGxlLmdldE1lc3NhZ2UoJ2JhcicpO1xuICAgKlxuICAgKiAgICAgLy8gUmV0dXJucyBhIHJhdyByZXByZXNlbnRhdGlvbiBvZiB0aGUgJ2JhcicgbWVzc2FnZTogTmV3YmFyLlxuICAgKlxuICAgKiBQYXJzZWQgZW50aXRpZXMgc2hvdWxkIGJlIGZvcm1hdHRlZCB3aXRoIHRoZSBgZm9ybWF0YCBtZXRob2QgaW4gY2FzZSB0aGV5XG4gICAqIGNvbnRhaW4gbG9naWMgKHJlZmVyZW5jZXMsIHNlbGVjdCBleHByZXNzaW9ucyBldGMuKS5cbiAgICpcbiAgICogQXZhaWxhYmxlIG9wdGlvbnM6XG4gICAqXG4gICAqICAgLSBgYWxsb3dPdmVycmlkZXNgIC0gYm9vbGVhbiBzcGVjaWZ5aW5nIHdoZXRoZXIgaXQncyBhbGxvd2VkIHRvIG92ZXJyaWRlXG4gICAqICAgICAgICAgICAgICAgICAgICAgIGFuIGV4aXN0aW5nIG1lc3NhZ2Ugb3IgdGVybSB3aXRoIGEgbmV3IHZhbHVlLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0OiBmYWxzZVxuICAgKlxuICAgKiBAcGFyYW0gICB7Rmx1ZW50UmVzb3VyY2V9IHJlcyAtIEZsdWVudFJlc291cmNlIG9iamVjdC5cbiAgICogQHBhcmFtICAge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEByZXR1cm5zIHtBcnJheTxFcnJvcj59XG4gICAqL1xuICBhZGRSZXNvdXJjZShyZXMsIHtcbiAgICBhbGxvd092ZXJyaWRlcyA9IGZhbHNlLFxuICB9ID0ge30pIHtcbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcblxuICAgIGZvciAoY29uc3QgW2lkLCB2YWx1ZV0gb2YgcmVzKSB7XG4gICAgICBpZiAoaWQuc3RhcnRzV2l0aChcIi1cIikpIHtcbiAgICAgICAgLy8gSWRlbnRpZmllcnMgc3RhcnRpbmcgd2l0aCBhIGRhc2ggKC0pIGRlZmluZSB0ZXJtcy4gVGVybXMgYXJlIHByaXZhdGVcbiAgICAgICAgLy8gYW5kIGNhbm5vdCBiZSByZXRyaWV2ZWQgZnJvbSBGbHVlbnRCdW5kbGUuXG4gICAgICAgIGlmIChhbGxvd092ZXJyaWRlcyA9PT0gZmFsc2UgJiYgdGhpcy5fdGVybXMuaGFzKGlkKSkge1xuICAgICAgICAgIGVycm9ycy5wdXNoKGBBdHRlbXB0IHRvIG92ZXJyaWRlIGFuIGV4aXN0aW5nIHRlcm06IFwiJHtpZH1cImApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Rlcm1zLnNldChpZCwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGFsbG93T3ZlcnJpZGVzID09PSBmYWxzZSAmJiB0aGlzLl9tZXNzYWdlcy5oYXMoaWQpKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goYEF0dGVtcHQgdG8gb3ZlcnJpZGUgYW4gZXhpc3RpbmcgbWVzc2FnZTogXCIke2lkfVwiYCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWVzc2FnZXMuc2V0KGlkLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9ycztcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXQgYSBtZXNzYWdlIHRvIGEgc3RyaW5nIG9yIG51bGwuXG4gICAqXG4gICAqIEZvcm1hdCBhIHJhdyBgbWVzc2FnZWAgZnJvbSB0aGUgYnVuZGxlIGludG8gYSBzdHJpbmcgKG9yIGEgbnVsbCBpZiBpdCBoYXNcbiAgICogYSBudWxsIHZhbHVlKS4gIGBhcmdzYCB3aWxsIGJlIHVzZWQgdG8gcmVzb2x2ZSByZWZlcmVuY2VzIHRvIHZhcmlhYmxlc1xuICAgKiBwYXNzZWQgYXMgYXJndW1lbnRzIHRvIHRoZSB0cmFuc2xhdGlvbi5cbiAgICpcbiAgICogSW4gY2FzZSBvZiBlcnJvcnMgYGZvcm1hdGAgd2lsbCB0cnkgdG8gc2FsdmFnZSBhcyBtdWNoIG9mIHRoZSB0cmFuc2xhdGlvblxuICAgKiBhcyBwb3NzaWJsZSBhbmQgd2lsbCBzdGlsbCByZXR1cm4gYSBzdHJpbmcuICBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgdGhlXG4gICAqIGVuY291bnRlcmVkIGVycm9ycyBhcmUgbm90IHJldHVybmVkIGJ1dCBpbnN0ZWFkIGFyZSBhcHBlbmRlZCB0byB0aGVcbiAgICogYGVycm9yc2AgYXJyYXkgcGFzc2VkIGFzIHRoZSB0aGlyZCBhcmd1bWVudC5cbiAgICpcbiAgICogICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgKiAgICAgYnVuZGxlLmFkZE1lc3NhZ2VzKCdoZWxsbyA9IEhlbGxvLCB7ICRuYW1lIH0hJyk7XG4gICAqICAgICBjb25zdCBoZWxsbyA9IGJ1bmRsZS5nZXRNZXNzYWdlKCdoZWxsbycpO1xuICAgKiAgICAgYnVuZGxlLmZvcm1hdChoZWxsbywgeyBuYW1lOiAnSmFuZScgfSwgZXJyb3JzKTtcbiAgICpcbiAgICogICAgIC8vIFJldHVybnMgJ0hlbGxvLCBKYW5lIScgYW5kIGBlcnJvcnNgIGlzIGVtcHR5LlxuICAgKlxuICAgKiAgICAgYnVuZGxlLmZvcm1hdChoZWxsbywgdW5kZWZpbmVkLCBlcnJvcnMpO1xuICAgKlxuICAgKiAgICAgLy8gUmV0dXJucyAnSGVsbG8sIG5hbWUhJyBhbmQgYGVycm9yc2AgaXMgbm93OlxuICAgKlxuICAgKiAgICAgWzxSZWZlcmVuY2VFcnJvcjogVW5rbm93biB2YXJpYWJsZTogbmFtZT5dXG4gICAqXG4gICAqIEBwYXJhbSAgIHtPYmplY3QgfCBzdHJpbmd9ICAgIG1lc3NhZ2VcbiAgICogQHBhcmFtICAge09iamVjdCB8IHVuZGVmaW5lZH0gYXJnc1xuICAgKiBAcGFyYW0gICB7QXJyYXl9ICAgICAgICAgICAgICBlcnJvcnNcbiAgICogQHJldHVybnMgez9zdHJpbmd9XG4gICAqL1xuICBmb3JtYXQobWVzc2FnZSwgYXJncywgZXJyb3JzKSB7XG4gICAgLy8gb3B0aW1pemUgZW50aXRpZXMgd2hpY2ggYXJlIHNpbXBsZSBzdHJpbmdzIHdpdGggbm8gYXR0cmlidXRlc1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybShtZXNzYWdlKTtcbiAgICB9XG5cbiAgICAvLyBvcHRpbWl6ZSBlbnRpdGllcyB3aXRoIG51bGwgdmFsdWVzXG4gICAgaWYgKG1lc3NhZ2UgPT09IG51bGwgfHwgbWVzc2FnZS52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gb3B0aW1pemUgc2ltcGxlLXN0cmluZyBlbnRpdGllcyB3aXRoIGF0dHJpYnV0ZXNcbiAgICBpZiAodHlwZW9mIG1lc3NhZ2UudmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm0obWVzc2FnZS52YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc29sdmUodGhpcywgYXJncywgbWVzc2FnZSwgZXJyb3JzKTtcbiAgfVxuXG4gIF9tZW1vaXplSW50bE9iamVjdChjdG9yLCBvcHRzKSB7XG4gICAgY29uc3QgY2FjaGUgPSB0aGlzLl9pbnRscy5nZXQoY3RvcikgfHwge307XG4gICAgY29uc3QgaWQgPSBKU09OLnN0cmluZ2lmeShvcHRzKTtcblxuICAgIGlmICghY2FjaGVbaWRdKSB7XG4gICAgICBjYWNoZVtpZF0gPSBuZXcgY3Rvcih0aGlzLmxvY2FsZXMsIG9wdHMpO1xuICAgICAgdGhpcy5faW50bHMuc2V0KGN0b3IsIGNhY2hlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FjaGVbaWRdO1xuICB9XG59XG4iLCIvKlxuICogQG1vZHVsZSBmbHVlbnRcbiAqIEBvdmVydmlld1xuICpcbiAqIGBmbHVlbnRgIGlzIGEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiBQcm9qZWN0IEZsdWVudCwgYSBsb2NhbGl6YXRpb25cbiAqIGZyYW1ld29yayBkZXNpZ25lZCB0byB1bmxlYXNoIHRoZSBleHByZXNzaXZlIHBvd2VyIG9mIHRoZSBuYXR1cmFsIGxhbmd1YWdlLlxuICpcbiAqL1xuXG5leHBvcnQgeyBkZWZhdWx0IGFzIEZsdWVudEJ1bmRsZSB9IGZyb20gXCIuL2J1bmRsZS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBGbHVlbnRSZXNvdXJjZSB9IGZyb20gXCIuL3Jlc291cmNlLmpzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEZsdWVudEVycm9yIH0gZnJvbSBcIi4vZXJyb3IuanNcIjtcbmV4cG9ydCB7IEZsdWVudFR5cGUsIEZsdWVudE51bWJlciwgRmx1ZW50RGF0ZVRpbWUgfSBmcm9tIFwiLi90eXBlcy5qc1wiO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgRmx1ZW50QnVuZGxlIH0gZnJvbSBcImZsdWVudFwiO1xuXG4vKipcbiAqIFByb3BlcnRpZXMgdGhhdCBhbGxvdyByaWNoIHRleHQgTVVTVCBiZSBhZGRlZCB0byB0aGlzIGxpc3QuXG4gKiAgIGtleTogdGhlIGxvY2FsaXphdGlvbl9pZCB0aGF0IHNob3VsZCBiZSB1c2VkXG4gKiAgIHZhbHVlOiBhIHByb3BlcnR5IG9yIGFycmF5IG9mIHByb3BlcnRpZXMgb24gdGhlIG1lc3NhZ2UuY29udGVudCBvYmplY3RcbiAqL1xuY29uc3QgUklDSF9URVhUX0NPTkZJRyA9IHtcbiAgdGV4dDogW1widGV4dFwiLCBcInNjZW5lMV90ZXh0XCJdLFxuICBzdWNjZXNzX3RleHQ6IFwic3VjY2Vzc190ZXh0XCIsXG4gIGVycm9yX3RleHQ6IFwiZXJyb3JfdGV4dFwiLFxuICBzY2VuZTJfdGV4dDogXCJzY2VuZTJfdGV4dFwiLFxuICBhbW9faHRtbDogXCJhbW9faHRtbFwiLFxuICBwcml2YWN5X2h0bWw6IFwic2NlbmUyX3ByaXZhY3lfaHRtbFwiLFxuICBkaXNjbGFpbWVyX2h0bWw6IFwic2NlbmUyX2Rpc2NsYWltZXJfaHRtbFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IFJJQ0hfVEVYVF9LRVlTID0gT2JqZWN0LmtleXMoUklDSF9URVhUX0NPTkZJRyk7XG5cbi8qKlxuICogR2VuZXJhdGVzIGFuIGFycmF5IG9mIG1lc3NhZ2VzIHN1aXRhYmxlIGZvciBmbHVlbnQncyBsb2NhbGl6YXRpb24gcHJvdmlkZXJcbiAqIGluY2x1ZGluZyBhbGwgbmVlZGVkIHN0cmluZ3MgZm9yIHJpY2ggdGV4dC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZW50IEEgLmNvbnRlbnQgb2JqZWN0IGZyb20gYW4gQVNSIG1lc3NhZ2UgKGkuZS4gbWVzc2FnZS5jb250ZW50KVxuICogQHJldHVybnMge0ZsdWVudEJ1bmRsZVtdfSBBIGFycmF5IGNvbnRhaW5pbmcgdGhlIGZsdWVudCBtZXNzYWdlIGNvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQnVuZGxlcyhjb250ZW50KSB7XG4gIGNvbnN0IGJ1bmRsZSA9IG5ldyBGbHVlbnRCdW5kbGUoXCJlbi1VU1wiKTtcblxuICBSSUNIX1RFWFRfS0VZUy5mb3JFYWNoKGtleSA9PiB7XG4gICAgY29uc3QgYXR0cnMgPSBSSUNIX1RFWFRfQ09ORklHW2tleV07XG4gICAgY29uc3QgYXR0cnNUb1RyeSA9IEFycmF5LmlzQXJyYXkoYXR0cnMpID8gWy4uLmF0dHJzXSA6IFthdHRyc107XG4gICAgbGV0IHN0cmluZyA9IFwiXCI7XG4gICAgd2hpbGUgKCFzdHJpbmcgJiYgYXR0cnNUb1RyeS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGF0dHIgPSBhdHRyc1RvVHJ5LnBvcCgpO1xuICAgICAgc3RyaW5nID0gY29udGVudFthdHRyXTtcbiAgICB9XG4gICAgYnVuZGxlLmFkZE1lc3NhZ2VzKGAke2tleX0gPSAke3N0cmluZ31gKTtcbiAgfSk7XG4gIHJldHVybiBbYnVuZGxlXTtcbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IExpbmtNZW51IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvTGlua01lbnUvTGlua01lbnVcIjtcbmltcG9ydCB7IENvbnRleHRNZW51QnV0dG9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29udGV4dE1lbnUvQ29udGV4dE1lbnVCdXR0b25cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIERTTGlua01lbnUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgaW5kZXgsIGRpc3BhdGNoIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IFRPUF9TVE9SSUVTX0NPTlRFWFRfTUVOVV9PUFRJT05TID0gW1xuICAgICAgXCJDaGVja0Jvb2ttYXJrXCIsXG4gICAgICBcIkNoZWNrQXJjaGl2ZUZyb21Qb2NrZXRcIixcbiAgICAgIC4uLih0aGlzLnByb3BzLnNhdmVUb1BvY2tldENhcmRcbiAgICAgICAgPyBbXCJDaGVja0RlbGV0ZUZyb21Qb2NrZXRcIl1cbiAgICAgICAgOiBbXCJDaGVja1NhdmVkVG9Qb2NrZXRcIl0pLFxuICAgICAgXCJTZXBhcmF0b3JcIixcbiAgICAgIFwiT3BlbkluTmV3V2luZG93XCIsXG4gICAgICBcIk9wZW5JblByaXZhdGVXaW5kb3dcIixcbiAgICAgIFwiU2VwYXJhdG9yXCIsXG4gICAgICBcIkJsb2NrVXJsXCIsXG4gICAgICAuLi4odGhpcy5wcm9wcy5zaG93UHJpdmFjeUluZm8gPyBbXCJTaG93UHJpdmFjeUluZm9cIl0gOiBbXSksXG4gICAgXTtcbiAgICBjb25zdCB0eXBlID0gdGhpcy5wcm9wcy50eXBlIHx8IFwiRElTQ09WRVJZX1NUUkVBTVwiO1xuICAgIGNvbnN0IHRpdGxlID0gdGhpcy5wcm9wcy50aXRsZSB8fCB0aGlzLnByb3BzLnNvdXJjZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRleHQtbWVudS1wb3NpdGlvbi1jb250YWluZXJcIj5cbiAgICAgICAgPENvbnRleHRNZW51QnV0dG9uXG4gICAgICAgICAgdG9vbHRpcD17XCJuZXd0YWItbWVudS1jb250ZW50LXRvb2x0aXBcIn1cbiAgICAgICAgICB0b29sdGlwQXJncz17eyB0aXRsZSB9fVxuICAgICAgICAgIG9uVXBkYXRlPXt0aGlzLnByb3BzLm9uTWVudVVwZGF0ZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxMaW5rTWVudVxuICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgc291cmNlPXt0eXBlLnRvVXBwZXJDYXNlKCl9XG4gICAgICAgICAgICBvblNob3c9e3RoaXMucHJvcHMub25NZW51U2hvd31cbiAgICAgICAgICAgIG9wdGlvbnM9e1RPUF9TVE9SSUVTX0NPTlRFWFRfTUVOVV9PUFRJT05TfVxuICAgICAgICAgICAgc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cz17dHJ1ZX1cbiAgICAgICAgICAgIHNpdGU9e3tcbiAgICAgICAgICAgICAgcmVmZXJyZXI6IFwiaHR0cHM6Ly9nZXRwb2NrZXQuY29tL3JlY29tbWVuZGF0aW9uc1wiLFxuICAgICAgICAgICAgICB0aXRsZTogdGhpcy5wcm9wcy50aXRsZSxcbiAgICAgICAgICAgICAgdHlwZTogdGhpcy5wcm9wcy50eXBlLFxuICAgICAgICAgICAgICB1cmw6IHRoaXMucHJvcHMudXJsLFxuICAgICAgICAgICAgICBndWlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICAgICAgICBwb2NrZXRfaWQ6IHRoaXMucHJvcHMucG9ja2V0X2lkLFxuICAgICAgICAgICAgICBzaGltOiB0aGlzLnByb3BzLnNoaW0sXG4gICAgICAgICAgICAgIGJvb2ttYXJrR3VpZDogdGhpcy5wcm9wcy5ib29rbWFya0d1aWQsXG4gICAgICAgICAgICAgIGZsaWdodF9pZDogdGhpcy5wcm9wcy5mbGlnaHRJZCxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Db250ZXh0TWVudUJ1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGNhcmRDb250ZXh0VHlwZXMgfSBmcm9tIFwiLi4vLi4vQ2FyZC90eXBlcy5qc1wiO1xuaW1wb3J0IHsgQ1NTVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwIH0gZnJvbSBcInJlYWN0LXRyYW5zaXRpb24tZ3JvdXBcIjtcbmltcG9ydCB7IEZsdWVudE9yVGV4dCB9IGZyb20gXCIuLi8uLi9GbHVlbnRPclRleHQvRmx1ZW50T3JUZXh0LmpzeFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBBbmltYXRpb24gdGltZSBpcyBtaXJyb3JlZCBpbiBEU0NvbnRleHRGb290ZXIuc2Nzc1xuY29uc3QgQU5JTUFUSU9OX0RVUkFUSU9OID0gMzAwMDtcblxuZXhwb3J0IGNvbnN0IERTTWVzc2FnZUxhYmVsID0gcHJvcHMgPT4ge1xuICBjb25zdCB7XG4gICAgY29udGV4dCxcbiAgICBjb250ZXh0X3R5cGUsXG4gICAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscyxcbiAgICBlbmdhZ2VtZW50LFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHsgaWNvbiwgZmx1ZW50SUQgfSA9IGNhcmRDb250ZXh0VHlwZXNbY29udGV4dF90eXBlXSB8fCB7fTtcblxuICBpZiAoIWNvbnRleHQgJiYgKGNvbnRleHRfdHlwZSB8fCAoZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscyAmJiBlbmdhZ2VtZW50KSkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRyYW5zaXRpb25Hcm91cCBjb21wb25lbnQ9e251bGx9PlxuICAgICAgICA8Q1NTVHJhbnNpdGlvblxuICAgICAgICAgIGtleT17Zmx1ZW50SUR9XG4gICAgICAgICAgdGltZW91dD17QU5JTUFUSU9OX0RVUkFUSU9OfVxuICAgICAgICAgIGNsYXNzTmFtZXM9XCJzdG9yeS1hbmltYXRlXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtlbmdhZ2VtZW50ICYmICFjb250ZXh0X3R5cGUgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0b3J5LXZpZXctY291bnRcIj57ZW5nYWdlbWVudH08L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPFN0YXR1c01lc3NhZ2UgaWNvbj17aWNvbn0gZmx1ZW50SUQ9e2ZsdWVudElEfSAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvQ1NTVHJhbnNpdGlvbj5cbiAgICAgIDwvVHJhbnNpdGlvbkdyb3VwPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBTdGF0dXNNZXNzYWdlID0gKHsgaWNvbiwgZmx1ZW50SUQgfSkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cInN0YXR1cy1tZXNzYWdlXCI+XG4gICAgPHNwYW5cbiAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgIGNsYXNzTmFtZT17YHN0b3J5LWJhZGdlLWljb24gaWNvbiBpY29uLSR7aWNvbn1gfVxuICAgIC8+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJzdG9yeS1jb250ZXh0LWxhYmVsXCIgZGF0YS1sMTBuLWlkPXtmbHVlbnRJRH0gLz5cbiAgPC9kaXY+XG4pO1xuXG5leHBvcnQgY29uc3QgU3BvbnNvckxhYmVsID0gKHtcbiAgc3BvbnNvcmVkX2J5X292ZXJyaWRlLFxuICBzcG9uc29yLFxuICBjb250ZXh0LFxuICBuZXdTcG9uc29yZWRMYWJlbCxcbn0pID0+IHtcbiAgY29uc3QgY2xhc3NMaXN0ID0gYHN0b3J5LXNwb25zb3JlZC1sYWJlbCAke25ld1Nwb25zb3JlZExhYmVsIHx8IFwiXCJ9IGNsYW1wYDtcbiAgLy8gSWYgb3ZlcnJpZGUgaXMgbm90IGZhbHNlIG9yIGFuIGVtcHR5IHN0cmluZy5cbiAgaWYgKHNwb25zb3JlZF9ieV9vdmVycmlkZSkge1xuICAgIHJldHVybiA8cCBjbGFzc05hbWU9e2NsYXNzTGlzdH0+e3Nwb25zb3JlZF9ieV9vdmVycmlkZX08L3A+O1xuICB9IGVsc2UgaWYgKHNwb25zb3JlZF9ieV9vdmVycmlkZSA9PT0gXCJcIikge1xuICAgIC8vIFdlIHNwZWNpZmljYWxseSB3YW50IHRvIGRpc3BsYXkgbm90aGluZyBpZiB0aGUgc2VydmVyIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxuICAgIC8vIFNvIHRoZSBzZXJ2ZXIgY2FuIHR1cm4gb2ZmIHRoZSBsYWJlbC5cbiAgICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgdGhlIHVzZSBjYXNlcyB3aGVyZSB0aGUgc3BvbnNvcmVkIGNvbnRleHQgaXMgZGlzcGxheWVkIGVsc2V3aGVyZS5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIGlmIChzcG9uc29yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT17Y2xhc3NMaXN0fT5cbiAgICAgICAgPEZsdWVudE9yVGV4dFxuICAgICAgICAgIG1lc3NhZ2U9e3tcbiAgICAgICAgICAgIGlkOiBgbmV3dGFiLWxhYmVsLXNwb25zb3JlZC1ieWAsXG4gICAgICAgICAgICB2YWx1ZXM6IHsgc3BvbnNvciB9LFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICA8L3A+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChjb250ZXh0KSB7XG4gICAgcmV0dXJuIDxwIGNsYXNzTmFtZT17Y2xhc3NMaXN0fT57Y29udGV4dH08L3A+O1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGNsYXNzIERTQ29udGV4dEZvb3RlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLy8gZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscyBpcyBiYXNlZCBvbiBwcmVmIGBicm93c2VyLm5ld3RhYnBhZ2UuYWN0aXZpdHktc3RyZWFtLmRpc2NvdmVyeXN0cmVhbS5lbmdhZ2VtZW50TGFiZWxFbmFibGVkYFxuICAgIGNvbnN0IHtcbiAgICAgIGNvbnRleHQsXG4gICAgICBjb250ZXh0X3R5cGUsXG4gICAgICBlbmdhZ2VtZW50LFxuICAgICAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscyxcbiAgICAgIHNwb25zb3IsXG4gICAgICBzcG9uc29yZWRfYnlfb3ZlcnJpZGUsXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBzcG9uc29yTGFiZWwgPSBTcG9uc29yTGFiZWwoe1xuICAgICAgc3BvbnNvcmVkX2J5X292ZXJyaWRlLFxuICAgICAgc3BvbnNvcixcbiAgICAgIGNvbnRleHQsXG4gICAgfSk7XG4gICAgY29uc3QgZHNNZXNzYWdlTGFiZWwgPSBEU01lc3NhZ2VMYWJlbCh7XG4gICAgICBjb250ZXh0LFxuICAgICAgY29udGV4dF90eXBlLFxuICAgICAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscyxcbiAgICAgIGVuZ2FnZW1lbnQsXG4gICAgfSk7XG5cbiAgICBpZiAoc3BvbnNvckxhYmVsIHx8IGRzTWVzc2FnZUxhYmVsKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0b3J5LWZvb3RlclwiPlxuICAgICAgICAgIHtzcG9uc29yTGFiZWx9XG4gICAgICAgICAge2RzTWVzc2FnZUxhYmVsfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IERTTWVzc2FnZUZvb3RlciA9IHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIGNvbnRleHQsXG4gICAgY29udGV4dF90eXBlLFxuICAgIGVuZ2FnZW1lbnQsXG4gICAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscyxcbiAgICBzYXZlVG9Qb2NrZXRDYXJkLFxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgZHNNZXNzYWdlTGFiZWwgPSBEU01lc3NhZ2VMYWJlbCh7XG4gICAgY29udGV4dCxcbiAgICBjb250ZXh0X3R5cGUsXG4gICAgZW5nYWdlbWVudCxcbiAgICBkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzLFxuICB9KTtcblxuICAvLyBUaGlzIGNhc2UgaXMgc3BlY2lmaWMgYW5kIGFscmVhZHkgZGlzcGxheWVkIHRvIHRoZSB1c2VyIGVsc2V3aGVyZS5cbiAgaWYgKCFkc01lc3NhZ2VMYWJlbCB8fCAoc2F2ZVRvUG9ja2V0Q2FyZCAmJiBjb250ZXh0X3R5cGUgPT09IFwicG9ja2V0XCIpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJzdG9yeS1mb290ZXJcIj57ZHNNZXNzYWdlTGFiZWx9PC9kaXY+O1xufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcbmltcG9ydCB7IERTSW1hZ2UgfSBmcm9tIFwiLi4vRFNJbWFnZS9EU0ltYWdlLmpzeFwiO1xuaW1wb3J0IHsgRFNMaW5rTWVudSB9IGZyb20gXCIuLi9EU0xpbmtNZW51L0RTTGlua01lbnVcIjtcbmltcG9ydCB7IEltcHJlc3Npb25TdGF0cyB9IGZyb20gXCIuLi8uLi9EaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMvSW1wcmVzc2lvblN0YXRzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTYWZlQW5jaG9yIH0gZnJvbSBcIi4uL1NhZmVBbmNob3IvU2FmZUFuY2hvclwiO1xuaW1wb3J0IHtcbiAgRFNDb250ZXh0Rm9vdGVyLFxuICBTcG9uc29yTGFiZWwsXG4gIERTTWVzc2FnZUZvb3Rlcixcbn0gZnJvbSBcIi4uL0RTQ29udGV4dEZvb3Rlci9EU0NvbnRleHRGb290ZXIuanN4XCI7XG5pbXBvcnQgeyBGbHVlbnRPclRleHQgfSBmcm9tIFwiLi4vLi4vRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dC5qc3hcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcblxuY29uc3QgUkVBRElOR19XUE0gPSAyMjA7XG5cbi8qKlxuICogUkVBRCBUSU1FIEZST00gV09SRCBDT1VOVFxuICogQHBhcmFtIHtpbnR9IHdvcmRDb3VudCBudW1iZXIgb2Ygd29yZHMgaW4gYW4gYXJ0aWNsZVxuICogQHJldHVybnMge2ludH0gbnVtYmVyIG9mIHdvcmRzIHBlciBtaW51dGUgaW4gbWludXRlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZFRpbWVGcm9tV29yZENvdW50KHdvcmRDb3VudCkge1xuICBpZiAoIXdvcmRDb3VudCkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gTWF0aC5jZWlsKHBhcnNlSW50KHdvcmRDb3VudCwgMTApIC8gUkVBRElOR19XUE0pO1xufVxuXG5leHBvcnQgY29uc3QgRFNTb3VyY2UgPSAoe1xuICBzb3VyY2UsXG4gIHRpbWVUb1JlYWQsXG4gIG5ld1Nwb25zb3JlZExhYmVsLFxuICBjb250ZXh0LFxuICBzcG9uc29yLFxuICBzcG9uc29yZWRfYnlfb3ZlcnJpZGUsXG59KSA9PiB7XG4gIC8vIEZpcnN0IHRyeSB0byBkaXNwbGF5IHNwb25zb3JlZCBsYWJlbCBvciB0aW1lIHRvIHJlYWQgaGVyZS5cbiAgaWYgKG5ld1Nwb25zb3JlZExhYmVsKSB7XG4gICAgLy8gSWYgd2UgY2FuIGRpc3BsYXkgc29tZXRoaW5nIGZvciBzcG9jcywgZG8gc28uXG4gICAgaWYgKHNwb25zb3JlZF9ieV9vdmVycmlkZSB8fCBzcG9uc29yIHx8IGNvbnRleHQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTcG9uc29yTGFiZWxcbiAgICAgICAgICBjb250ZXh0PXtjb250ZXh0fVxuICAgICAgICAgIHNwb25zb3I9e3Nwb25zb3J9XG4gICAgICAgICAgc3BvbnNvcmVkX2J5X292ZXJyaWRlPXtzcG9uc29yZWRfYnlfb3ZlcnJpZGV9XG4gICAgICAgICAgbmV3U3BvbnNvcmVkTGFiZWw9XCJuZXctc3BvbnNvcmVkLWxhYmVsXCJcbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgd2UgYXJlIG5vdCBhIHNwb2MsIGFuZCBjYW4gZGlzcGxheSBhIHRpbWUgdG8gcmVhZCB2YWx1ZS5cbiAgaWYgKHRpbWVUb1JlYWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHAgY2xhc3NOYW1lPVwic291cmNlIGNsYW1wIHRpbWUtdG8tcmVhZFwiPlxuICAgICAgICA8Rmx1ZW50T3JUZXh0XG4gICAgICAgICAgbWVzc2FnZT17e1xuICAgICAgICAgICAgaWQ6IGBuZXd0YWItbGFiZWwtc291cmNlLXJlYWQtdGltZWAsXG4gICAgICAgICAgICB2YWx1ZXM6IHsgc291cmNlLCB0aW1lVG9SZWFkIH0sXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvcD5cbiAgICApO1xuICB9XG5cbiAgLy8gT3RoZXJ3aXNlIGRpc3BsYXkgYSBkZWZhdWx0IHNvdXJjZS5cbiAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cInNvdXJjZSBjbGFtcFwiPntzb3VyY2V9PC9wPjtcbn07XG5cbi8vIERlZmF1bHQgTWV0YSB0aGF0IGRpc3BsYXlzIENUQSBhcyBsaW5rIGlmIGN0YV92YXJpYW50IGluIGxheW91dCBpcyBzZXQgYXMgXCJsaW5rXCJcbmV4cG9ydCBjb25zdCBEZWZhdWx0TWV0YSA9ICh7XG4gIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHMsXG4gIHNvdXJjZSxcbiAgdGl0bGUsXG4gIGV4Y2VycHQsXG4gIHRpbWVUb1JlYWQsXG4gIG5ld1Nwb25zb3JlZExhYmVsLFxuICBjb250ZXh0LFxuICBjb250ZXh0X3R5cGUsXG4gIGN0YSxcbiAgZW5nYWdlbWVudCxcbiAgY3RhX3ZhcmlhbnQsXG4gIHNwb25zb3IsXG4gIHNwb25zb3JlZF9ieV9vdmVycmlkZSxcbiAgc2F2ZVRvUG9ja2V0Q2FyZCxcbn0pID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJtZXRhXCI+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXdyYXBcIj5cbiAgICAgIDxEU1NvdXJjZVxuICAgICAgICBzb3VyY2U9e3NvdXJjZX1cbiAgICAgICAgdGltZVRvUmVhZD17dGltZVRvUmVhZH1cbiAgICAgICAgbmV3U3BvbnNvcmVkTGFiZWw9e25ld1Nwb25zb3JlZExhYmVsfVxuICAgICAgICBjb250ZXh0PXtjb250ZXh0fVxuICAgICAgICBzcG9uc29yPXtzcG9uc29yfVxuICAgICAgICBzcG9uc29yZWRfYnlfb3ZlcnJpZGU9e3Nwb25zb3JlZF9ieV9vdmVycmlkZX1cbiAgICAgIC8+XG4gICAgICA8aGVhZGVyIHRpdGxlPXt0aXRsZX0gY2xhc3NOYW1lPVwidGl0bGUgY2xhbXBcIj5cbiAgICAgICAge3RpdGxlfVxuICAgICAgPC9oZWFkZXI+XG4gICAgICB7ZXhjZXJwdCAmJiA8cCBjbGFzc05hbWU9XCJleGNlcnB0IGNsYW1wXCI+e2V4Y2VycHR9PC9wPn1cbiAgICAgIHtjdGFfdmFyaWFudCA9PT0gXCJsaW5rXCIgJiYgY3RhICYmIChcbiAgICAgICAgPGRpdiByb2xlPVwibGlua1wiIGNsYXNzTmFtZT1cImN0YS1saW5rIGljb24gaWNvbi1hcnJvd1wiIHRhYkluZGV4PVwiMFwiPlxuICAgICAgICAgIHtjdGF9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgICB7IW5ld1Nwb25zb3JlZExhYmVsICYmIChcbiAgICAgIDxEU0NvbnRleHRGb290ZXJcbiAgICAgICAgY29udGV4dF90eXBlPXtjb250ZXh0X3R5cGV9XG4gICAgICAgIGNvbnRleHQ9e2NvbnRleHR9XG4gICAgICAgIHNwb25zb3I9e3Nwb25zb3J9XG4gICAgICAgIHNwb25zb3JlZF9ieV9vdmVycmlkZT17c3BvbnNvcmVkX2J5X292ZXJyaWRlfVxuICAgICAgICBkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzPXtkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzfVxuICAgICAgICBlbmdhZ2VtZW50PXtlbmdhZ2VtZW50fVxuICAgICAgLz5cbiAgICApfVxuICAgIHsvKiBTcG9uc29yZWQgbGFiZWwgaXMgbm9ybWFsbHkgaW4gdGhlIHdheSBvZiBhbnkgbWVzc2FnZS5cbiAgICAgICAgbmV3U3BvbnNvcmVkTGFiZWwgY2FyZHMgc3BvbnNvcmVkIGxhYmVsIGlzIG1vdmVkIHRvIGp1c3QgdW5kZXIgdGhlIHRodW1ibmFpbCxcbiAgICAgICAgc28gd2UgY2FuIGRpc3BsYXkgYm90aCwgc28gd2Ugc3BlY2lmaWNhbGx5IGRvbid0IHBhc3MgaW4gY29udGV4dC4gKi99XG4gICAge25ld1Nwb25zb3JlZExhYmVsICYmIChcbiAgICAgIDxEU01lc3NhZ2VGb290ZXJcbiAgICAgICAgY29udGV4dF90eXBlPXtjb250ZXh0X3R5cGV9XG4gICAgICAgIGNvbnRleHQ9e251bGx9XG4gICAgICAgIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHM9e2Rpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHN9XG4gICAgICAgIGVuZ2FnZW1lbnQ9e2VuZ2FnZW1lbnR9XG4gICAgICAgIHNhdmVUb1BvY2tldENhcmQ9e3NhdmVUb1BvY2tldENhcmR9XG4gICAgICAvPlxuICAgICl9XG4gIDwvZGl2PlxuKTtcblxuZXhwb3J0IGNvbnN0IENUQUJ1dHRvbk1ldGEgPSAoe1xuICBkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzLFxuICBzb3VyY2UsXG4gIHRpdGxlLFxuICBleGNlcnB0LFxuICBjb250ZXh0LFxuICBjb250ZXh0X3R5cGUsXG4gIGN0YSxcbiAgZW5nYWdlbWVudCxcbiAgc3BvbnNvcixcbiAgc3BvbnNvcmVkX2J5X292ZXJyaWRlLFxufSkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cIm1ldGFcIj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8td3JhcFwiPlxuICAgICAgPHAgY2xhc3NOYW1lPVwic291cmNlIGNsYW1wXCI+XG4gICAgICAgIHtjb250ZXh0ICYmIChcbiAgICAgICAgICA8Rmx1ZW50T3JUZXh0XG4gICAgICAgICAgICBtZXNzYWdlPXt7XG4gICAgICAgICAgICAgIGlkOiBgbmV3dGFiLWxhYmVsLXNwb25zb3JlZGAsXG4gICAgICAgICAgICAgIHZhbHVlczogeyBzcG9uc29yT3JTb3VyY2U6IHNwb25zb3IgPyBzcG9uc29yIDogc291cmNlIH0sXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG5cbiAgICAgICAgeyFjb250ZXh0ICYmIChzcG9uc29yID8gc3BvbnNvciA6IHNvdXJjZSl9XG4gICAgICA8L3A+XG4gICAgICA8aGVhZGVyIHRpdGxlPXt0aXRsZX0gY2xhc3NOYW1lPVwidGl0bGUgY2xhbXBcIj5cbiAgICAgICAge3RpdGxlfVxuICAgICAgPC9oZWFkZXI+XG4gICAgICB7ZXhjZXJwdCAmJiA8cCBjbGFzc05hbWU9XCJleGNlcnB0IGNsYW1wXCI+e2V4Y2VycHR9PC9wPn1cbiAgICA8L2Rpdj5cbiAgICB7Y29udGV4dCAmJiBjdGEgJiYgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b24gY3RhLWJ1dHRvblwiPntjdGF9PC9idXR0b24+fVxuICAgIHshY29udGV4dCAmJiAoXG4gICAgICA8RFNDb250ZXh0Rm9vdGVyXG4gICAgICAgIGNvbnRleHRfdHlwZT17Y29udGV4dF90eXBlfVxuICAgICAgICBjb250ZXh0PXtjb250ZXh0fVxuICAgICAgICBzcG9uc29yPXtzcG9uc29yfVxuICAgICAgICBzcG9uc29yZWRfYnlfb3ZlcnJpZGU9e3Nwb25zb3JlZF9ieV9vdmVycmlkZX1cbiAgICAgICAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscz17ZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVsc31cbiAgICAgICAgZW5nYWdlbWVudD17ZW5nYWdlbWVudH1cbiAgICAgIC8+XG4gICAgKX1cbiAgPC9kaXY+XG4pO1xuXG5leHBvcnQgY2xhc3MgX0RTQ2FyZCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMub25MaW5rQ2xpY2sgPSB0aGlzLm9uTGlua0NsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblNhdmVDbGljayA9IHRoaXMub25TYXZlQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTWVudVVwZGF0ZSA9IHRoaXMub25NZW51VXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1lbnVTaG93ID0gdGhpcy5vbk1lbnVTaG93LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLnNldENvbnRleHRNZW51QnV0dG9uSG9zdFJlZiA9IGVsZW1lbnQgPT4ge1xuICAgICAgdGhpcy5jb250ZXh0TWVudUJ1dHRvbkhvc3RFbGVtZW50ID0gZWxlbWVudDtcbiAgICB9O1xuICAgIHRoaXMuc2V0UGxhY2Vob2xkZXJSZWYgPSBlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMucGxhY2Vob2xkZXJFbGVtZW50ID0gZWxlbWVudDtcbiAgICB9O1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzU2VlbjogZmFsc2UsXG4gICAgfTtcblxuICAgIC8vIElmIHRoaXMgaXMgZm9yIHRoZSBhYm91dDpob21lIHN0YXJ0dXAgY2FjaGUsIHRoZW4gd2UgYWx3YXlzIHdhbnRcbiAgICAvLyB0byByZW5kZXIgdGhlIERTQ2FyZCwgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIG9yIG5vdCBpdHMgYmVlbiBzZWVuLlxuICAgIGlmIChwcm9wcy5BcHAuaXNGb3JTdGFydHVwQ2FjaGUpIHtcbiAgICAgIHRoaXMuc3RhdGUuaXNTZWVuID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBXZSB3YW50IHRvIGNob29zZSB0aGUgb3B0aW1hbCB0aHVtYm5haWwgZm9yIHRoZSB1bmRlcmx5aW5nIERTSW1hZ2UsIGJ1dFxuICAgIC8vIHdhbnQgdG8gZG8gaXQgaW4gYSBwZXJmb3JtYW50IHdheS4gVGhlIGJyZWFrcG9pbnRzIHVzZWQgaW4gdGhlXG4gICAgLy8gQ1NTIG9mIHRoZSBwYWdlIGFyZSwgdW5mb3J0dW50ZWx5LCBub3QgZWFzeSB0byByZXRyaWV2ZSB3aXRob3V0XG4gICAgLy8gY2F1c2luZyBhIHN0eWxlIGZsdXNoLiBUbyBhdm9pZCB0aGF0LCB3ZSBoYXJkY29kZSB0aGVtIGhlcmUuXG4gICAgLy9cbiAgICAvLyBUaGUgdmFsdWVzIGNob3NlbiBoZXJlIHdlcmUgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGNhcmQgdGh1bWJuYWlscyBhc1xuICAgIC8vIGNvbXB1dGVkIGJ5IGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIGZvciBlYWNoIHR5cGUgb2Ygdmlld3BvcnQgd2lkdGhcbiAgICAvLyBhY3Jvc3MgYm90aCBoaWdoLWRlbnNpdHkgYW5kIG5vcm1hbC1kZW5zaXR5IGRpc3BsYXlzLlxuICAgIHRoaXMuZHNJbWFnZVNpemVzID0gW1xuICAgICAge1xuICAgICAgICBtZWRpYU1hdGNoZXI6IFwiKG1pbi13aWR0aDogMTEyMnB4KVwiLFxuICAgICAgICB3aWR0aDogMjk2LFxuICAgICAgICBoZWlnaHQ6IDE0OCxcbiAgICAgIH0sXG5cbiAgICAgIHtcbiAgICAgICAgbWVkaWFNYXRjaGVyOiBcIihtaW4td2lkdGg6IDg2NnB4KVwiLFxuICAgICAgICB3aWR0aDogMjE4LFxuICAgICAgICBoZWlnaHQ6IDEwOSxcbiAgICAgIH0sXG5cbiAgICAgIHtcbiAgICAgICAgbWVkaWFNYXRjaGVyOiBcIihtYXgtd2lkdGg6IDYxMHB4KVwiLFxuICAgICAgICB3aWR0aDogMjAyLFxuICAgICAgICBoZWlnaHQ6IDEwMSxcbiAgICAgIH0sXG4gICAgXTtcbiAgfVxuXG4gIG9uTGlua0NsaWNrKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2gpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgICBzb3VyY2U6IHRoaXMucHJvcHMuaXNfdmlkZW9cbiAgICAgICAgICAgID8gXCJDQVJER1JJRF9WSURFT1wiXG4gICAgICAgICAgICA6IHRoaXMucHJvcHMudHlwZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogdGhpcy5wcm9wcy5wb3MsXG4gICAgICAgICAgdmFsdWU6IHsgY2FyZF90eXBlOiB0aGlzLnByb3BzLmZsaWdodElkID8gXCJzcG9jXCIgOiBcIm9yZ2FuaWNcIiB9LFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICBzb3VyY2U6IHRoaXMucHJvcHMuaXNfdmlkZW9cbiAgICAgICAgICAgID8gXCJDQVJER1JJRF9WSURFT1wiXG4gICAgICAgICAgICA6IHRoaXMucHJvcHMudHlwZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgIGNsaWNrOiAwLFxuICAgICAgICAgIHRpbGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICAgICAgICBwb3M6IHRoaXMucHJvcHMucG9zLFxuICAgICAgICAgICAgICAuLi4odGhpcy5wcm9wcy5zaGltICYmIHRoaXMucHJvcHMuc2hpbS5jbGlja1xuICAgICAgICAgICAgICAgID8geyBzaGltOiB0aGlzLnByb3BzLnNoaW0uY2xpY2sgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBvblNhdmVDbGljayhldmVudCkge1xuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5TQVZFX1RPX1BPQ0tFVCxcbiAgICAgICAgICBkYXRhOiB7IHNpdGU6IHsgdXJsOiB0aGlzLnByb3BzLnVybCwgdGl0bGU6IHRoaXMucHJvcHMudGl0bGUgfSB9LFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgICBldmVudDogXCJTQVZFX1RPX1BPQ0tFVFwiLFxuICAgICAgICAgIHNvdXJjZTogXCJDQVJER1JJRF9IT1ZFUlwiLFxuICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogdGhpcy5wcm9wcy5wb3MsXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgIHNvdXJjZTogXCJDQVJER1JJRF9IT1ZFUlwiLFxuICAgICAgICAgIHBvY2tldDogMCxcbiAgICAgICAgICB0aWxlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgICAgICAgcG9zOiB0aGlzLnByb3BzLnBvcyxcbiAgICAgICAgICAgICAgLi4uKHRoaXMucHJvcHMuc2hpbSAmJiB0aGlzLnByb3BzLnNoaW0uc2F2ZVxuICAgICAgICAgICAgICAgID8geyBzaGltOiB0aGlzLnByb3BzLnNoaW0uc2F2ZSB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG9uTWVudVVwZGF0ZShzaG93Q29udGV4dE1lbnUpIHtcbiAgICBpZiAoIXNob3dDb250ZXh0TWVudSkge1xuICAgICAgY29uc3QgZHNMaW5rTWVudUhvc3REaXYgPSB0aGlzLmNvbnRleHRNZW51QnV0dG9uSG9zdEVsZW1lbnQ7XG4gICAgICBpZiAoZHNMaW5rTWVudUhvc3REaXYpIHtcbiAgICAgICAgZHNMaW5rTWVudUhvc3REaXYuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiLCBcImxhc3QtaXRlbVwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBvbk1lbnVTaG93KCkge1xuICAgIGNvbnN0IGRzTGlua01lbnVIb3N0RGl2ID0gdGhpcy5jb250ZXh0TWVudUJ1dHRvbkhvc3RFbGVtZW50O1xuICAgIGlmIChkc0xpbmtNZW51SG9zdERpdikge1xuICAgICAgLy8gRm9yY2UgdHJhbnNsYXRpb24gc28gd2UgY2FuIGJlIHN1cmUgaXQncyByZWFkeSBiZWZvcmUgbWVhc3VyaW5nLlxuICAgICAgYXdhaXQgdGhpcy5wcm9wcy53aW5kb3dPYmouZG9jdW1lbnQubDEwbi50cmFuc2xhdGVGcmFnbWVudChcbiAgICAgICAgZHNMaW5rTWVudUhvc3REaXZcbiAgICAgICk7XG4gICAgICBpZiAodGhpcy5wcm9wcy53aW5kb3dPYmouc2Nyb2xsTWF4WCA+IDApIHtcbiAgICAgICAgZHNMaW5rTWVudUhvc3REaXYuY2xhc3NMaXN0LmFkZChcImxhc3QtaXRlbVwiKTtcbiAgICAgIH1cbiAgICAgIGRzTGlua01lbnVIb3N0RGl2LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgfVxuICB9XG5cbiAgb25TZWVuKGVudHJpZXMpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSkge1xuICAgICAgY29uc3QgZW50cnkgPSBlbnRyaWVzLmZpbmQoZSA9PiBlLmlzSW50ZXJzZWN0aW5nKTtcblxuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIGlmICh0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCkge1xuICAgICAgICAgIHRoaXMub2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMucGxhY2Vob2xkZXJFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3Agb2JzZXJ2aW5nIHNpbmNlIGVsZW1lbnQgaGFzIGJlZW4gc2VlblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1NlZW46IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uSWRsZUNhbGxiYWNrKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc1NlZW4pIHtcbiAgICAgIGlmICh0aGlzLm9ic2VydmVyICYmIHRoaXMucGxhY2Vob2xkZXJFbGVtZW50KSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMucGxhY2Vob2xkZXJFbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1NlZW46IHRydWUsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmlkbGVDYWxsYmFja0lkID0gdGhpcy5wcm9wcy53aW5kb3dPYmoucmVxdWVzdElkbGVDYWxsYmFjayhcbiAgICAgIHRoaXMub25JZGxlQ2FsbGJhY2suYmluZCh0aGlzKVxuICAgICk7XG4gICAgaWYgKHRoaXMucGxhY2Vob2xkZXJFbGVtZW50KSB7XG4gICAgICB0aGlzLm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHRoaXMub25TZWVuLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMucGxhY2Vob2xkZXJFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAvLyBSZW1vdmUgb2JzZXJ2ZXIgb24gdW5tb3VudFxuICAgIGlmICh0aGlzLm9ic2VydmVyICYmIHRoaXMucGxhY2Vob2xkZXJFbGVtZW50KSB7XG4gICAgICB0aGlzLm9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlkbGVDYWxsYmFja0lkKSB7XG4gICAgICB0aGlzLnByb3BzLndpbmRvd09iai5jYW5jZWxJZGxlQ2FsbGJhY2sodGhpcy5pZGxlQ2FsbGJhY2tJZCk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8ICF0aGlzLnN0YXRlLmlzU2Vlbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1jYXJkIHBsYWNlaG9sZGVyXCIgcmVmPXt0aGlzLnNldFBsYWNlaG9sZGVyUmVmfSAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5sYXN0Q2FyZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1jYXJkIGxhc3QtY2FyZC1tZXNzYWdlXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbWctd3JhcHBlclwiPlxuICAgICAgICAgICAgPHBpY3R1cmUgY2xhc3NOYW1lPVwiZHMtaW1hZ2UgaW1nIGxvYWRlZFwiPlxuICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXBvY2tldC1sYXN0LWNhcmQtaW1hZ2VcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImxhc3QtY2FyZC1tZXNzYWdlLWltYWdlXCJcbiAgICAgICAgICAgICAgICBzcmM9XCJjaHJvbWU6Ly9hY3Rpdml0eS1zdHJlYW0vY29udGVudC9kYXRhL2NvbnRlbnQvYXNzZXRzL2NhdWdodC11cC1pbGx1c3RyYXRpb24uc3ZnXCJcbiAgICAgICAgICAgICAgICBhbHQ9XCJZb3XigJlyZSBhbGwgY2F1Z2h0IHVwXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvcGljdHVyZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1ldGFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby13cmFwXCI+XG4gICAgICAgICAgICAgIDxoZWFkZXJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0aXRsZSBjbGFtcFwiXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXBvY2tldC1sYXN0LWNhcmQtdGl0bGVcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRzLWxhc3QtY2FyZC1kZXNjXCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcG9ja2V0LWxhc3QtY2FyZC1kZXNjXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGlzQnV0dG9uQ1RBID0gdGhpcy5wcm9wcy5jdGFfdmFyaWFudCA9PT0gXCJidXR0b25cIjtcblxuICAgIGNvbnN0IHtcbiAgICAgIGlzX3ZpZGVvLFxuICAgICAgc2F2ZVRvUG9ja2V0Q2FyZCxcbiAgICAgIGhpZGVEZXNjcmlwdGlvbnMsXG4gICAgICBjb21wYWN0SW1hZ2VzLFxuICAgICAgaW1hZ2VHcmFkaWVudCxcbiAgICAgIHRpdGxlTGluZXMgPSAzLFxuICAgICAgZGVzY0xpbmVzID0gMyxcbiAgICAgIGRpc3BsYXlSZWFkVGltZSxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBleGNlcnB0ID0gIWhpZGVEZXNjcmlwdGlvbnMgPyB0aGlzLnByb3BzLmV4Y2VycHQgOiBcIlwiO1xuXG4gICAgbGV0IHRpbWVUb1JlYWQ7XG4gICAgaWYgKGRpc3BsYXlSZWFkVGltZSkge1xuICAgICAgdGltZVRvUmVhZCA9XG4gICAgICAgIHRoaXMucHJvcHMudGltZV90b19yZWFkIHx8IHJlYWRUaW1lRnJvbVdvcmRDb3VudCh0aGlzLnByb3BzLndvcmRfY291bnQpO1xuICAgIH1cblxuICAgIGNvbnN0IHZpZGVvQ2FyZENsYXNzTmFtZSA9IGlzX3ZpZGVvID8gYHZpZGVvLWNhcmRgIDogYGA7XG4gICAgY29uc3QgY29tcGFjdEltYWdlc0NsYXNzTmFtZSA9IGNvbXBhY3RJbWFnZXMgPyBgZHMtY2FyZC1jb21wYWN0LWltYWdlYCA6IGBgO1xuICAgIGNvbnN0IGltYWdlR3JhZGllbnRDbGFzc05hbWUgPSBpbWFnZUdyYWRpZW50XG4gICAgICA/IGBkcy1jYXJkLWltYWdlLWdyYWRpZW50YFxuICAgICAgOiBgYDtcbiAgICBjb25zdCB0aXRsZUxpbmVzTmFtZSA9IGBkcy1jYXJkLXRpdGxlLWxpbmVzLSR7dGl0bGVMaW5lc31gO1xuICAgIGNvbnN0IGRlc2NMaW5lc0NsYXNzTmFtZSA9IGBkcy1jYXJkLWRlc2MtbGluZXMtJHtkZXNjTGluZXN9YDtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YGRzLWNhcmQgJHt2aWRlb0NhcmRDbGFzc05hbWV9ICR7dmlkZW9DYXJkQ2xhc3NOYW1lfSAke2NvbXBhY3RJbWFnZXNDbGFzc05hbWV9ICR7aW1hZ2VHcmFkaWVudENsYXNzTmFtZX0gJHt0aXRsZUxpbmVzTmFtZX0gJHtkZXNjTGluZXNDbGFzc05hbWV9YH1cbiAgICAgICAgcmVmPXt0aGlzLnNldENvbnRleHRNZW51QnV0dG9uSG9zdFJlZn1cbiAgICAgID5cbiAgICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgICBjbGFzc05hbWU9XCJkcy1jYXJkLWxpbmtcIlxuICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgIG9uTGlua0NsaWNrPXshdGhpcy5wcm9wcy5wbGFjZWhvbGRlciA/IHRoaXMub25MaW5rQ2xpY2sgOiB1bmRlZmluZWR9XG4gICAgICAgICAgdXJsPXt0aGlzLnByb3BzLnVybH1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW1nLXdyYXBwZXJcIj5cbiAgICAgICAgICAgIDxEU0ltYWdlXG4gICAgICAgICAgICAgIGV4dHJhQ2xhc3NOYW1lcz1cImltZ1wiXG4gICAgICAgICAgICAgIHNvdXJjZT17dGhpcy5wcm9wcy5pbWFnZV9zcmN9XG4gICAgICAgICAgICAgIHJhd1NvdXJjZT17dGhpcy5wcm9wcy5yYXdfaW1hZ2Vfc3JjfVxuICAgICAgICAgICAgICBzaXplcz17dGhpcy5kc0ltYWdlU2l6ZXN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuaXNfdmlkZW8gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsYXloZWFkXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+VmlkZW8gQ29udGVudDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtpc0J1dHRvbkNUQSA/IChcbiAgICAgICAgICAgIDxDVEFCdXR0b25NZXRhXG4gICAgICAgICAgICAgIGRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHM9e3RoaXMucHJvcHMuZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVsc31cbiAgICAgICAgICAgICAgc291cmNlPXt0aGlzLnByb3BzLnNvdXJjZX1cbiAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9XG4gICAgICAgICAgICAgIGV4Y2VycHQ9e2V4Y2VycHR9XG4gICAgICAgICAgICAgIHRpbWVUb1JlYWQ9e3RpbWVUb1JlYWR9XG4gICAgICAgICAgICAgIGNvbnRleHQ9e3RoaXMucHJvcHMuY29udGV4dH1cbiAgICAgICAgICAgICAgY29udGV4dF90eXBlPXt0aGlzLnByb3BzLmNvbnRleHRfdHlwZX1cbiAgICAgICAgICAgICAgZW5nYWdlbWVudD17dGhpcy5wcm9wcy5lbmdhZ2VtZW50fVxuICAgICAgICAgICAgICBjdGE9e3RoaXMucHJvcHMuY3RhfVxuICAgICAgICAgICAgICBzcG9uc29yPXt0aGlzLnByb3BzLnNwb25zb3J9XG4gICAgICAgICAgICAgIHNwb25zb3JlZF9ieV9vdmVycmlkZT17dGhpcy5wcm9wcy5zcG9uc29yZWRfYnlfb3ZlcnJpZGV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8RGVmYXVsdE1ldGFcbiAgICAgICAgICAgICAgZGlzcGxheV9lbmdhZ2VtZW50X2xhYmVscz17dGhpcy5wcm9wcy5kaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzfVxuICAgICAgICAgICAgICBzb3VyY2U9e3RoaXMucHJvcHMuc291cmNlfVxuICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50aXRsZX1cbiAgICAgICAgICAgICAgZXhjZXJwdD17ZXhjZXJwdH1cbiAgICAgICAgICAgICAgbmV3U3BvbnNvcmVkTGFiZWw9e3RoaXMucHJvcHMubmV3U3BvbnNvcmVkTGFiZWx9XG4gICAgICAgICAgICAgIHRpbWVUb1JlYWQ9e3RpbWVUb1JlYWR9XG4gICAgICAgICAgICAgIGNvbnRleHQ9e3RoaXMucHJvcHMuY29udGV4dH1cbiAgICAgICAgICAgICAgZW5nYWdlbWVudD17dGhpcy5wcm9wcy5lbmdhZ2VtZW50fVxuICAgICAgICAgICAgICBjb250ZXh0X3R5cGU9e3RoaXMucHJvcHMuY29udGV4dF90eXBlfVxuICAgICAgICAgICAgICBjdGE9e3RoaXMucHJvcHMuY3RhfVxuICAgICAgICAgICAgICBjdGFfdmFyaWFudD17dGhpcy5wcm9wcy5jdGFfdmFyaWFudH1cbiAgICAgICAgICAgICAgc3BvbnNvcj17dGhpcy5wcm9wcy5zcG9uc29yfVxuICAgICAgICAgICAgICBzcG9uc29yZWRfYnlfb3ZlcnJpZGU9e3RoaXMucHJvcHMuc3BvbnNvcmVkX2J5X292ZXJyaWRlfVxuICAgICAgICAgICAgICBzYXZlVG9Qb2NrZXRDYXJkPXtzYXZlVG9Qb2NrZXRDYXJkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxJbXByZXNzaW9uU3RhdHNcbiAgICAgICAgICAgIGZsaWdodElkPXt0aGlzLnByb3BzLmZsaWdodElkfVxuICAgICAgICAgICAgcm93cz17W1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgICAgICAgcG9zOiB0aGlzLnByb3BzLnBvcyxcbiAgICAgICAgICAgICAgICAuLi4odGhpcy5wcm9wcy5zaGltICYmIHRoaXMucHJvcHMuc2hpbS5pbXByZXNzaW9uXG4gICAgICAgICAgICAgICAgICA/IHsgc2hpbTogdGhpcy5wcm9wcy5zaGltLmltcHJlc3Npb24gfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICBzb3VyY2U9e3RoaXMucHJvcHMuaXNfdmlkZW8gPyBcIkNBUkRHUklEX1ZJREVPXCIgOiB0aGlzLnByb3BzLnR5cGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgICB7c2F2ZVRvUG9ja2V0Q2FyZCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXN0cC1idXR0b24taG92ZXItYmFja2dyb3VuZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXN0cC1idXR0b24tcG9zaXRpb24td3JhcHBlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImNhcmQtc3RwLWJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMub25TYXZlQ2xpY2t9PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNvbnRleHRfdHlwZSA9PT0gXCJwb2NrZXRcIiA/IChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0b3J5LWJhZGdlLWljb24gaWNvbiBpY29uLXBvY2tldFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtc2F2ZWQtdG8tcG9ja2V0XCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdG9yeS1iYWRnZS1pY29uIGljb24gaWNvbi1wb2NrZXQtc2F2ZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtc2F2ZS10by1wb2NrZXRcIiAvPlxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxEU0xpbmtNZW51XG4gICAgICAgICAgICAgICAgaWQ9e3RoaXMucHJvcHMuaWR9XG4gICAgICAgICAgICAgICAgaW5kZXg9e3RoaXMucHJvcHMucG9zfVxuICAgICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICAgIHVybD17dGhpcy5wcm9wcy51cmx9XG4gICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9XG4gICAgICAgICAgICAgICAgc291cmNlPXt0aGlzLnByb3BzLnNvdXJjZX1cbiAgICAgICAgICAgICAgICB0eXBlPXt0aGlzLnByb3BzLnR5cGV9XG4gICAgICAgICAgICAgICAgcG9ja2V0X2lkPXt0aGlzLnByb3BzLnBvY2tldF9pZH1cbiAgICAgICAgICAgICAgICBzaGltPXt0aGlzLnByb3BzLnNoaW19XG4gICAgICAgICAgICAgICAgYm9va21hcmtHdWlkPXt0aGlzLnByb3BzLmJvb2ttYXJrR3VpZH1cbiAgICAgICAgICAgICAgICBmbGlnaHRJZD17XG4gICAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5pc19jb2xsZWN0aW9uID8gdGhpcy5wcm9wcy5mbGlnaHRJZCA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzaG93UHJpdmFjeUluZm89eyEhdGhpcy5wcm9wcy5mbGlnaHRJZH1cbiAgICAgICAgICAgICAgICBvbk1lbnVVcGRhdGU9e3RoaXMub25NZW51VXBkYXRlfVxuICAgICAgICAgICAgICAgIG9uTWVudVNob3c9e3RoaXMub25NZW51U2hvd31cbiAgICAgICAgICAgICAgICBzYXZlVG9Qb2NrZXRDYXJkPXtzYXZlVG9Qb2NrZXRDYXJkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIHshc2F2ZVRvUG9ja2V0Q2FyZCAmJiAoXG4gICAgICAgICAgPERTTGlua01lbnVcbiAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkfVxuICAgICAgICAgICAgaW5kZXg9e3RoaXMucHJvcHMucG9zfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICB1cmw9e3RoaXMucHJvcHMudXJsfVxuICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9XG4gICAgICAgICAgICBzb3VyY2U9e3RoaXMucHJvcHMuc291cmNlfVxuICAgICAgICAgICAgdHlwZT17dGhpcy5wcm9wcy50eXBlfVxuICAgICAgICAgICAgcG9ja2V0X2lkPXt0aGlzLnByb3BzLnBvY2tldF9pZH1cbiAgICAgICAgICAgIHNoaW09e3RoaXMucHJvcHMuc2hpbX1cbiAgICAgICAgICAgIGJvb2ttYXJrR3VpZD17dGhpcy5wcm9wcy5ib29rbWFya0d1aWR9XG4gICAgICAgICAgICBmbGlnaHRJZD17XG4gICAgICAgICAgICAgICF0aGlzLnByb3BzLmlzX2NvbGxlY3Rpb24gPyB0aGlzLnByb3BzLmZsaWdodElkIDogdW5kZWZpbmVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaG93UHJpdmFjeUluZm89eyEhdGhpcy5wcm9wcy5mbGlnaHRJZH1cbiAgICAgICAgICAgIGhvc3RSZWY9e3RoaXMuY29udGV4dE1lbnVCdXR0b25Ib3N0UmVmfVxuICAgICAgICAgICAgb25NZW51VXBkYXRlPXt0aGlzLm9uTWVudVVwZGF0ZX1cbiAgICAgICAgICAgIG9uTWVudVNob3c9e3RoaXMub25NZW51U2hvd31cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5fRFNDYXJkLmRlZmF1bHRQcm9wcyA9IHtcbiAgd2luZG93T2JqOiB3aW5kb3csIC8vIEFkZGVkIHRvIHN1cHBvcnQgdW5pdCB0ZXN0c1xufTtcblxuZXhwb3J0IGNvbnN0IERTQ2FyZCA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgQXBwOiBzdGF0ZS5BcHAsXG59KSkoX0RTQ2FyZCk7XG5cbmV4cG9ydCBjb25zdCBQbGFjZWhvbGRlckRTQ2FyZCA9IHByb3BzID0+IDxEU0NhcmQgcGxhY2Vob2xkZXI9e3RydWV9IC8+O1xuZXhwb3J0IGNvbnN0IExhc3RDYXJkTWVzc2FnZSA9IHByb3BzID0+IDxEU0NhcmQgbGFzdENhcmQ9e3RydWV9IC8+O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLmpzbVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgRFNFbXB0eVN0YXRlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25SZXNldCA9IHRoaXMub25SZXNldC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfVxuXG4gIG9uUmVzZXQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2ggJiYgdGhpcy5wcm9wcy5mZWVkKSB7XG4gICAgICBjb25zdCB7IGZlZWQgfSA9IHRoaXMucHJvcHM7XG4gICAgICBjb25zdCB7IHVybCB9ID0gZmVlZDtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBhdC5ESVNDT1ZFUllfU1RSRUFNX0ZFRURfVVBEQVRFLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZmVlZDoge1xuICAgICAgICAgICAgLi4uZmVlZCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgLi4uZmVlZC5kYXRhLFxuICAgICAgICAgICAgICBzdGF0dXM6IFwid2FpdGluZ1wiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHVybCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHsgd2FpdGluZzogdHJ1ZSB9KTtcbiAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB3YWl0aW5nOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICB9LCAzMDApO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHsgdHlwZTogYXQuRElTQ09WRVJZX1NUUkVBTV9SRVRSWV9GRUVELCBkYXRhOiB7IGZlZWQgfSB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXJCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc3RhdHVzID09PSBcIndhaXRpbmdcIiB8fCB0aGlzLnN0YXRlLndhaXRpbmcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0cnktYWdhaW4tYnV0dG9uIHdhaXRpbmdcIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kaXNjb3ZlcnktZW1wdHktc2VjdGlvbi10b3BzdG9yaWVzLWxvYWRpbmdcIlxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJ0cnktYWdhaW4tYnV0dG9uXCJcbiAgICAgICAgb25DbGljaz17dGhpcy5vblJlc2V0fVxuICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItZGlzY292ZXJ5LWVtcHR5LXNlY3Rpb24tdG9wc3Rvcmllcy10cnktYWdhaW4tYnV0dG9uXCJcbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclN0YXRlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnN0YXR1cyA9PT0gXCJ3YWl0aW5nXCIgfHwgdGhpcy5wcm9wcy5zdGF0dXMgPT09IFwiZmFpbGVkXCIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICA8aDIgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWRpc2NvdmVyeS1lbXB0eS1zZWN0aW9uLXRvcHN0b3JpZXMtdGltZWQtb3V0XCIgLz5cbiAgICAgICAgICB7dGhpcy5yZW5kZXJCdXR0b24oKX1cbiAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGgyIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kaXNjb3ZlcnktZW1wdHktc2VjdGlvbi10b3BzdG9yaWVzLWhlYWRlclwiIC8+XG4gICAgICAgIDxwIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kaXNjb3ZlcnktZW1wdHktc2VjdGlvbi10b3BzdG9yaWVzLWNvbnRlbnRcIiAvPlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tZW1wdHktc3RhdGVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbXB0eS1zdGF0ZS1tZXNzYWdlXCI+e3RoaXMucmVuZGVyU3RhdGUoKX08L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7XG4gIERTQ2FyZCxcbiAgUGxhY2Vob2xkZXJEU0NhcmQsXG4gIExhc3RDYXJkTWVzc2FnZSxcbn0gZnJvbSBcIi4uL0RTQ2FyZC9EU0NhcmQuanN4XCI7XG5pbXBvcnQgeyBEU0VtcHR5U3RhdGUgfSBmcm9tIFwiLi4vRFNFbXB0eVN0YXRlL0RTRW1wdHlTdGF0ZS5qc3hcIjtcbmltcG9ydCB7IEZsdWVudE9yVGV4dCB9IGZyb20gXCIuLi8uLi9GbHVlbnRPclRleHQvRmx1ZW50T3JUZXh0LmpzeFwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBDYXJkR3JpZCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBtb3JlTG9hZGVkOiBmYWxzZSB9O1xuICAgIHRoaXMubG9hZE1vcmVDbGlja2VkID0gdGhpcy5sb2FkTW9yZUNsaWNrZWQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGxvYWRNb3JlQ2xpY2tlZCgpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgc291cmNlOiBcIkRTX0xPQURfTU9SRV9CVVRUT05cIixcbiAgICAgIH0pXG4gICAgKTtcbiAgICB0aGlzLnNldFN0YXRlKHsgbW9yZUxvYWRlZDogdHJ1ZSB9KTtcbiAgfVxuXG4gIGdldCBzaG93TG9hZE1vcmUoKSB7XG4gICAgY29uc3QgeyBsb2FkTW9yZSwgZGF0YSwgbG9hZE1vcmVUaHJlc2hvbGQgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgIGxvYWRNb3JlICYmXG4gICAgICBkYXRhLnJlY29tbWVuZGF0aW9ucy5sZW5ndGggPiBsb2FkTW9yZVRocmVzaG9sZCAmJlxuICAgICAgIXRoaXMuc3RhdGUubW9yZUxvYWRlZFxuICAgICk7XG4gIH1cblxuICByZW5kZXJEU1N1YkhlYWRlcih0aXRsZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tdG9wLWJhciBkcy1zdWItaGVhZGVyXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGVcIj5cbiAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17dGl0bGV9IC8+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2gzPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckNhcmRzKCkge1xuICAgIGxldCB7IGl0ZW1zIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtcbiAgICAgIGhpZGVDYXJkQmFja2dyb3VuZCxcbiAgICAgIGZvdXJDYXJkTGF5b3V0LFxuICAgICAgaGlkZURlc2NyaXB0aW9ucyxcbiAgICAgIGxhc3RDYXJkTWVzc2FnZUVuYWJsZWQsXG4gICAgICBzYXZlVG9Qb2NrZXRDYXJkLFxuICAgICAgbG9hZE1vcmVUaHJlc2hvbGQsXG4gICAgICBjb21wYWN0R3JpZCxcbiAgICAgIGNvbXBhY3RJbWFnZXMsXG4gICAgICBpbWFnZUdyYWRpZW50LFxuICAgICAgbmV3U3BvbnNvcmVkTGFiZWwsXG4gICAgICB0aXRsZUxpbmVzLFxuICAgICAgZGVzY0xpbmVzLFxuICAgICAgcmVhZFRpbWUsXG4gICAgICBlc3NlbnRpYWxSZWFkc0hlYWRlcixcbiAgICAgIGVkaXRvcnNQaWNrc0hlYWRlcixcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgc2hvd0xhc3RDYXJkTWVzc2FnZSA9IGxhc3RDYXJkTWVzc2FnZUVuYWJsZWQ7XG4gICAgaWYgKHRoaXMuc2hvd0xvYWRNb3JlKSB7XG4gICAgICBpdGVtcyA9IGxvYWRNb3JlVGhyZXNob2xkO1xuICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBzaG93IHRoaXMgdW50aWwgYWZ0ZXIgbG9hZCBtb3JlIGhhcyBiZWVuIGNsaWNrZWQuXG4gICAgICBzaG93TGFzdENhcmRNZXNzYWdlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgcmVjcyA9IHRoaXMucHJvcHMuZGF0YS5yZWNvbW1lbmRhdGlvbnMuc2xpY2UoMCwgaXRlbXMpO1xuICAgIGNvbnN0IGNhcmRzID0gW107XG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaXRlbXM7IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IHJlYyA9IHJlY3NbaW5kZXhdO1xuICAgICAgY2FyZHMucHVzaChcbiAgICAgICAgIXJlYyB8fCByZWMucGxhY2Vob2xkZXIgPyAoXG4gICAgICAgICAgPFBsYWNlaG9sZGVyRFNDYXJkIGtleT17YGRzY2FyZC0ke2luZGV4fWB9IC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPERTQ2FyZFxuICAgICAgICAgICAga2V5PXtgZHNjYXJkLSR7cmVjLmlkfWB9XG4gICAgICAgICAgICBwb3M9e3JlYy5wb3N9XG4gICAgICAgICAgICBmbGlnaHRJZD17cmVjLmZsaWdodF9pZH1cbiAgICAgICAgICAgIGltYWdlX3NyYz17cmVjLmltYWdlX3NyY31cbiAgICAgICAgICAgIHJhd19pbWFnZV9zcmM9e3JlYy5yYXdfaW1hZ2Vfc3JjfVxuICAgICAgICAgICAgd29yZF9jb3VudD17cmVjLndvcmRfY291bnR9XG4gICAgICAgICAgICB0aW1lX3RvX3JlYWQ9e3JlYy50aW1lX3RvX3JlYWR9XG4gICAgICAgICAgICBkaXNwbGF5UmVhZFRpbWU9e3JlYWRUaW1lfVxuICAgICAgICAgICAgdGl0bGU9e3JlYy50aXRsZX1cbiAgICAgICAgICAgIGV4Y2VycHQ9e3JlYy5leGNlcnB0fVxuICAgICAgICAgICAgdXJsPXtyZWMudXJsfVxuICAgICAgICAgICAgaWQ9e3JlYy5pZH1cbiAgICAgICAgICAgIHNoaW09e3JlYy5zaGltfVxuICAgICAgICAgICAgdHlwZT17dGhpcy5wcm9wcy50eXBlfVxuICAgICAgICAgICAgY29udGV4dD17cmVjLmNvbnRleHR9XG4gICAgICAgICAgICBzcG9uc29yPXtyZWMuc3BvbnNvcn1cbiAgICAgICAgICAgIHNwb25zb3JlZF9ieV9vdmVycmlkZT17cmVjLnNwb25zb3JlZF9ieV9vdmVycmlkZX1cbiAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgc291cmNlPXtyZWMuZG9tYWlufVxuICAgICAgICAgICAgcG9ja2V0X2lkPXtyZWMucG9ja2V0X2lkfVxuICAgICAgICAgICAgY29udGV4dF90eXBlPXtyZWMuY29udGV4dF90eXBlfVxuICAgICAgICAgICAgYm9va21hcmtHdWlkPXtyZWMuYm9va21hcmtHdWlkfVxuICAgICAgICAgICAgZW5nYWdlbWVudD17cmVjLmVuZ2FnZW1lbnR9XG4gICAgICAgICAgICBkaXNwbGF5X2VuZ2FnZW1lbnRfbGFiZWxzPXt0aGlzLnByb3BzLmRpc3BsYXlfZW5nYWdlbWVudF9sYWJlbHN9XG4gICAgICAgICAgICBoaWRlRGVzY3JpcHRpb25zPXtoaWRlRGVzY3JpcHRpb25zfVxuICAgICAgICAgICAgc2F2ZVRvUG9ja2V0Q2FyZD17c2F2ZVRvUG9ja2V0Q2FyZH1cbiAgICAgICAgICAgIGNvbXBhY3RJbWFnZXM9e2NvbXBhY3RJbWFnZXN9XG4gICAgICAgICAgICBpbWFnZUdyYWRpZW50PXtpbWFnZUdyYWRpZW50fVxuICAgICAgICAgICAgbmV3U3BvbnNvcmVkTGFiZWw9e25ld1Nwb25zb3JlZExhYmVsfVxuICAgICAgICAgICAgdGl0bGVMaW5lcz17dGl0bGVMaW5lc31cbiAgICAgICAgICAgIGRlc2NMaW5lcz17ZGVzY0xpbmVzfVxuICAgICAgICAgICAgY3RhPXtyZWMuY3RhfVxuICAgICAgICAgICAgY3RhX3ZhcmlhbnQ9e3RoaXMucHJvcHMuY3RhX3ZhcmlhbnR9XG4gICAgICAgICAgICBpc192aWRlbz17dGhpcy5wcm9wcy5lbmFibGVfdmlkZW9fcGxheWhlYWRzICYmIHJlYy5pc192aWRlb31cbiAgICAgICAgICAgIGlzX2NvbGxlY3Rpb249e3RoaXMucHJvcHMuaXNfY29sbGVjdGlvbn1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIElmIHdlIGhhdmUgYm90aCBoZWFkZXIsIGluamVjdCB0aGUgc2Vjb25kIG9uZSBhZnRlciB0aGUgc2Vjb25kIHJvdy5cbiAgICAvLyBGb3Igbm93IHRoaXMgaXMgRW5nbGlzaCBvbmx5LlxuICAgIGlmIChlc3NlbnRpYWxSZWFkc0hlYWRlciAmJiBlZGl0b3JzUGlja3NIZWFkZXIpIHtcbiAgICAgIC8vIEZvciA0IGNhcmQgcm93IGxheW91dHMsIHNlY29uZCByb3cgaXMgOCBjYXJkcywgYW5kIHJlZ3VsYXIgaXQgaXMgNiBjYXJkcy5cbiAgICAgIGlmIChmb3VyQ2FyZExheW91dCkge1xuICAgICAgICBjYXJkcy5zcGxpY2UoOCwgMCwgdGhpcy5yZW5kZXJEU1N1YkhlYWRlcihcIkVkaXRvcuKAmXMgUGlja3NcIikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZHMuc3BsaWNlKDYsIDAsIHRoaXMucmVuZGVyRFNTdWJIZWFkZXIoXCJFZGl0b3LigJlzIFBpY2tzXCIpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXBsYWNlIGxhc3QgY2FyZCB3aXRoIFwieW91IGFyZSBhbGwgY2F1Z2h0IHVwIGNhcmRcIlxuICAgIGlmIChzaG93TGFzdENhcmRNZXNzYWdlKSB7XG4gICAgICBjYXJkcy5zcGxpY2UoXG4gICAgICAgIGNhcmRzLmxlbmd0aCAtIDEsXG4gICAgICAgIDEsXG4gICAgICAgIDxMYXN0Q2FyZE1lc3NhZ2Uga2V5PXtgZHNjYXJkLWxhc3QtJHtjYXJkcy5sZW5ndGggLSAxfWB9IC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFVzZWQgZm9yIENTUyBvdmVycmlkZXMgdG8gZGVmYXVsdCBzdHlsaW5nIChlZzogXCJoZXJvXCIpXG4gICAgY29uc3QgdmFyaWFudENsYXNzID0gdGhpcy5wcm9wcy5kaXNwbGF5X3ZhcmlhbnRcbiAgICAgID8gYGRzLWNhcmQtZ3JpZC0ke3RoaXMucHJvcHMuZGlzcGxheV92YXJpYW50fWBcbiAgICAgIDogYGA7XG5cbiAgICBjb25zdCBoaWRlQ2FyZEJhY2tncm91bmRDbGFzcyA9IGhpZGVDYXJkQmFja2dyb3VuZFxuICAgICAgPyBgZHMtY2FyZC1ncmlkLWhpZGUtYmFja2dyb3VuZGBcbiAgICAgIDogYGA7XG4gICAgY29uc3QgZm91ckNhcmRMYXlvdXRDbGFzcyA9IGZvdXJDYXJkTGF5b3V0XG4gICAgICA/IGBkcy1jYXJkLWdyaWQtZm91ci1jYXJkLXZhcmlhbnRgXG4gICAgICA6IGBgO1xuXG4gICAgY29uc3QgaGlkZURlc2NyaXB0aW9uc0NsYXNzTmFtZSA9ICFoaWRlRGVzY3JpcHRpb25zXG4gICAgICA/IGBkcy1jYXJkLWdyaWQtaW5jbHVkZS1kZXNjcmlwdGlvbnNgXG4gICAgICA6IGBgO1xuXG4gICAgY29uc3QgY29tcGFjdEdyaWRDbGFzc05hbWUgPSBjb21wYWN0R3JpZCA/IGBkcy1jYXJkLWdyaWQtY29tcGFjdGAgOiBgYDtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YGRzLWNhcmQtZ3JpZCBkcy1jYXJkLWdyaWQtJHt0aGlzLnByb3BzLmJvcmRlcn0gJHt2YXJpYW50Q2xhc3N9ICR7aGlkZUNhcmRCYWNrZ3JvdW5kQ2xhc3N9ICR7Zm91ckNhcmRMYXlvdXRDbGFzc30gJHtoaWRlRGVzY3JpcHRpb25zQ2xhc3NOYW1lfSAke2NvbXBhY3RHcmlkQ2xhc3NOYW1lfWB9XG4gICAgICA+XG4gICAgICAgIHtjYXJkc31cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgLy8gSGFuZGxlIGEgcmVuZGVyIGJlZm9yZSBmZWVkIGhhcyBiZWVuIGZldGNoZWQgYnkgZGlzcGxheWluZyBub3RoaW5nXG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgYSB1c2VyIGhhcyBkaXNtaXNzZWQgYWxsIHJlY29tbWVuZGF0aW9uc1xuICAgIGNvbnN0IGlzRW1wdHkgPSBkYXRhLnJlY29tbWVuZGF0aW9ucy5sZW5ndGggPT09IDA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAge3RoaXMucHJvcHMudGl0bGUgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtaGVhZGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+e3RoaXMucHJvcHMudGl0bGV9PC9kaXY+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5jb250ZXh0ICYmIChcbiAgICAgICAgICAgICAgPEZsdWVudE9yVGV4dCBtZXNzYWdlPXt0aGlzLnByb3BzLmNvbnRleHR9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtY29udGV4dFwiIC8+XG4gICAgICAgICAgICAgIDwvRmx1ZW50T3JUZXh0PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAge2lzRW1wdHkgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1jYXJkLWdyaWQgZW1wdHlcIj5cbiAgICAgICAgICAgIDxEU0VtcHR5U3RhdGVcbiAgICAgICAgICAgICAgc3RhdHVzPXtkYXRhLnN0YXR1c31cbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIGZlZWQ9e3RoaXMucHJvcHMuZmVlZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgdGhpcy5yZW5kZXJDYXJkcygpXG4gICAgICAgICl9XG4gICAgICAgIHt0aGlzLnNob3dMb2FkTW9yZSAmJiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiQVNSb3V0ZXJCdXR0b24gcHJpbWFyeSBkcy1jYXJkLWdyaWQtbG9hZC1tb3JlLWJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmxvYWRNb3JlQ2xpY2tlZH1cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtbG9hZC1tb3JlLXN0b3JpZXMtYnV0dG9uXCJcbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5DYXJkR3JpZC5kZWZhdWx0UHJvcHMgPSB7XG4gIGJvcmRlcjogYGJvcmRlcmAsXG4gIGl0ZW1zOiA0LCAvLyBOdW1iZXIgb2Ygc3RvcmllcyB0byBkaXNwbGF5XG4gIGVuYWJsZV92aWRlb19wbGF5aGVhZHM6IGZhbHNlLFxuICBsYXN0Q2FyZE1lc3NhZ2VFbmFibGVkOiBmYWxzZSxcbiAgc2F2ZVRvUG9ja2V0Q2FyZDogZmFsc2UsXG4gIGxvYWRNb3JlVGhyZXNob2xkOiAxMixcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBCYWNrZ3JvdW5kc1NlY3Rpb24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8ZGl2IC8+O1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5qc21cIjtcblxuZXhwb3J0IGNsYXNzIENvbnRlbnRTZWN0aW9uIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25QcmVmZXJlbmNlU2VsZWN0ID0gdGhpcy5vblByZWZlcmVuY2VTZWxlY3QuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGlucHV0VXNlckV2ZW50KGV2ZW50U291cmNlLCBzdGF0dXMpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgZXZlbnQ6IFwiUFJFRl9DSEFOR0VEXCIsXG4gICAgICAgIHNvdXJjZTogZXZlbnRTb3VyY2UsXG4gICAgICAgIHZhbHVlOiB7IHN0YXR1cywgbWVudV9zb3VyY2U6IFwiQ1VTVE9NSVpFX01FTlVcIiB9LFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgb25QcmVmZXJlbmNlU2VsZWN0KGUpIHtcbiAgICBsZXQgcHJlZk5hbWUgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJwcmVmZXJlbmNlXCIpO1xuICAgIGNvbnN0IGV2ZW50U291cmNlID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZXZlbnRTb3VyY2VcIik7XG4gICAgbGV0IHZhbHVlO1xuICAgIGlmIChlLnRhcmdldC5ub2RlTmFtZSA9PT0gXCJTRUxFQ1RcIikge1xuICAgICAgdmFsdWUgPSBwYXJzZUludChlLnRhcmdldC52YWx1ZSwgMTApO1xuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQubm9kZU5hbWUgPT09IFwiSU5QVVRcIikge1xuICAgICAgdmFsdWUgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgaWYgKGV2ZW50U291cmNlKSB7XG4gICAgICAgIHRoaXMuaW5wdXRVc2VyRXZlbnQoZXZlbnRTb3VyY2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5wcm9wcy5zZXRQcmVmKHByZWZOYW1lLCB2YWx1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgdG9wU2l0ZXNFbmFibGVkLFxuICAgICAgcG9ja2V0RW5hYmxlZCxcbiAgICAgIGhpZ2hsaWdodHNFbmFibGVkLFxuICAgICAgc2hvd1Nwb25zb3JlZFRvcFNpdGVzRW5hYmxlZCxcbiAgICAgIHNob3dTcG9uc29yZWRQb2NrZXRFbmFibGVkLFxuICAgICAgdG9wU2l0ZXNSb3dzQ291bnQsXG4gICAgfSA9IHRoaXMucHJvcHMuZW5hYmxlZFNlY3Rpb25zO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG9tZS1zZWN0aW9uXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJzaG9ydGN1dHMtc2VjdGlvblwiIGNsYXNzTmFtZT1cInNlY3Rpb25cIj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwic3dpdGNoXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgaWQ9XCJzaG9ydGN1dHMtdG9nZ2xlXCJcbiAgICAgICAgICAgICAgY2hlY2tlZD17dG9wU2l0ZXNFbmFibGVkfVxuICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblByZWZlcmVuY2VTZWxlY3R9XG4gICAgICAgICAgICAgIHByZWZlcmVuY2U9XCJmZWVkcy50b3BzaXRlc1wiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cImN1c3RvbS1zaG9ydGN1dHMtdGl0bGVcIlxuICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiY3VzdG9tLXNob3J0Y3V0cy1zdWJ0aXRsZVwiXG4gICAgICAgICAgICAgIGV2ZW50U291cmNlPVwiVE9QX1NJVEVTXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzbGlkZXJcIiByb2xlPVwicHJlc2VudGF0aW9uXCI+PC9zcGFuPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoMiBpZD1cImN1c3RvbS1zaG9ydGN1dHMtdGl0bGVcIiBjbGFzc05hbWU9XCJ0aXRsZVwiPlxuICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICBodG1sRm9yPVwic2hvcnRjdXRzLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1zaG9ydGN1dHMtdGl0bGVcIlxuICAgICAgICAgICAgICA+PC9sYWJlbD5cbiAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICA8cFxuICAgICAgICAgICAgICBpZD1cImN1c3RvbS1zaG9ydGN1dHMtc3VidGl0bGVcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdWJ0aXRsZVwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b20tc2hvcnRjdXRzLXN1YnRpdGxlXCJcbiAgICAgICAgICAgID48L3A+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YG1vcmUtaW5mby10b3Atd3JhcHBlciAke1xuICAgICAgICAgICAgICAgIHRvcFNpdGVzRW5hYmxlZCA/IFwiXCIgOiBcInNocmlua1wiXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbW9yZS1pbmZvcm1hdGlvbiAke1xuICAgICAgICAgICAgICAgICAgdG9wU2l0ZXNFbmFibGVkID8gXCJleHBhbmRcIiA6IFwic2hyaW5rXCJcbiAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgIGlkPVwicm93LXNlbGVjdG9yXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlbGVjdG9yXCJcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJyb3ctY291bnRcIlxuICAgICAgICAgICAgICAgICAgcHJlZmVyZW5jZT1cInRvcFNpdGVzUm93c1wiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dG9wU2l0ZXNSb3dzQ291bnR9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblByZWZlcmVuY2VTZWxlY3R9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXRvcFNpdGVzRW5hYmxlZH1cbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cImN1c3RvbS1zaG9ydGN1dHMtdGl0bGVcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIxXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1yb3ctc2VsZWN0b3JcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4tYXJncz0ne1wibnVtXCI6IDF9J1xuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIyXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1yb3ctc2VsZWN0b3JcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4tYXJncz0ne1wibnVtXCI6IDJ9J1xuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIzXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1yb3ctc2VsZWN0b3JcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4tYXJncz0ne1wibnVtXCI6IDN9J1xuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCI0XCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1yb3ctc2VsZWN0b3JcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4tYXJncz0ne1wibnVtXCI6IDR9J1xuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5tYXlIYXZlU3BvbnNvcmVkVG9wU2l0ZXMgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGVjay13cmFwcGVyXCIgcm9sZT1cInByZXNlbnRhdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cInNwb25zb3JlZC1zaG9ydGN1dHNcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNwb25zb3JlZC1jaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0b3BTaXRlc0VuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17c2hvd1Nwb25zb3JlZFRvcFNpdGVzRW5hYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdH1cbiAgICAgICAgICAgICAgICAgICAgICBwcmVmZXJlbmNlPVwic2hvd1Nwb25zb3JlZFRvcFNpdGVzXCJcbiAgICAgICAgICAgICAgICAgICAgICBldmVudFNvdXJjZT1cIlNQT05TT1JFRF9UT1BfU0lURVNcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzcG9uc29yZWRcIlxuICAgICAgICAgICAgICAgICAgICAgIGh0bWxGb3I9XCJzcG9uc29yZWQtc2hvcnRjdXRzXCJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXNwb25zb3JlZC1zaXRlc1wiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7dGhpcy5wcm9wcy5wb2NrZXRSZWdpb24gJiYgKFxuICAgICAgICAgIDxkaXYgaWQ9XCJwb2NrZXQtc2VjdGlvblwiIGNsYXNzTmFtZT1cInNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJzd2l0Y2hcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgaWQ9XCJwb2NrZXQtdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtwb2NrZXRFbmFibGVkfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25QcmVmZXJlbmNlU2VsZWN0fVxuICAgICAgICAgICAgICAgIHByZWZlcmVuY2U9XCJmZWVkcy5zZWN0aW9uLnRvcHN0b3JpZXNcIlxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cImN1c3RvbS1wb2NrZXQtdGl0bGVcIlxuICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJjdXN0b20tcG9ja2V0LXN1YnRpdGxlXCJcbiAgICAgICAgICAgICAgICBldmVudFNvdXJjZT1cIlRPUF9TVE9SSUVTXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic2xpZGVyXCIgcm9sZT1cInByZXNlbnRhdGlvblwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDIgaWQ9XCJjdXN0b20tcG9ja2V0LXRpdGxlXCIgY2xhc3NOYW1lPVwidGl0bGVcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgIGh0bWxGb3I9XCJwb2NrZXQtdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b20tcG9ja2V0LXRpdGxlXCJcbiAgICAgICAgICAgICAgICA+PC9sYWJlbD5cbiAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICBpZD1cImN1c3RvbS1wb2NrZXQtc3VidGl0bGVcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInN1YnRpdGxlXCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXBvY2tldC1zdWJ0aXRsZVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLm1heUhhdmVTcG9uc29yZWRTdG9yaWVzICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Btb3JlLWluZm8tcG9ja2V0LXdyYXBwZXIgJHtcbiAgICAgICAgICAgICAgICAgICAgcG9ja2V0RW5hYmxlZCA/IFwiXCIgOiBcInNocmlua1wiXG4gICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YG1vcmUtaW5mb3JtYXRpb24gJHtcbiAgICAgICAgICAgICAgICAgICAgICBwb2NrZXRFbmFibGVkID8gXCJleHBhbmRcIiA6IFwic2hyaW5rXCJcbiAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hlY2std3JhcHBlclwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwic3BvbnNvcmVkLXBvY2tldFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzcG9uc29yZWQtY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFwb2NrZXRFbmFibGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17c2hvd1Nwb25zb3JlZFBvY2tldEVuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25QcmVmZXJlbmNlU2VsZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZmVyZW5jZT1cInNob3dTcG9uc29yZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTb3VyY2U9XCJQT0NLRVRfU1BPQ1NcIlxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzcG9uc29yZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEZvcj1cInNwb25zb3JlZC1wb2NrZXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1wb2NrZXQtc3BvbnNvcmVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGRpdiBpZD1cInJlY2VudC1zZWN0aW9uXCIgY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJzd2l0Y2hcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBpZD1cImhpZ2hsaWdodHMtdG9nZ2xlXCJcbiAgICAgICAgICAgICAgY2hlY2tlZD17aGlnaGxpZ2h0c0VuYWJsZWR9XG4gICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdH1cbiAgICAgICAgICAgICAgcHJlZmVyZW5jZT1cImZlZWRzLnNlY3Rpb24uaGlnaGxpZ2h0c1wiXG4gICAgICAgICAgICAgIGV2ZW50U291cmNlPVwiSElHSExJR0hUU1wiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cImN1c3RvbS1yZWNlbnQtdGl0bGVcIlxuICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiY3VzdG9tLXJlY2VudC1zdWJ0aXRsZVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic2xpZGVyXCIgcm9sZT1cInByZXNlbnRhdGlvblwiPjwvc3Bhbj5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDIgaWQ9XCJjdXN0b20tcmVjZW50LXRpdGxlXCIgY2xhc3NOYW1lPVwidGl0bGVcIj5cbiAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgaHRtbEZvcj1cImhpZ2hsaWdodHMtdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXJlY2VudC10aXRsZVwiXG4gICAgICAgICAgICAgID48L2xhYmVsPlxuICAgICAgICAgICAgPC9oMj5cblxuICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgaWQ9XCJjdXN0b20tcmVjZW50LXN1YnRpdGxlXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3VidGl0bGVcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXJlY2VudC1zdWJ0aXRsZVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkaXZpZGVyXCIgcm9sZT1cInNlcGFyYXRvclwiPjwvc3Bhbj5cblxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGlkPVwic2V0dGluZ3MtbGlua1wiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJleHRlcm5hbC1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMub3BlblByZWZlcmVuY2VzfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1zZXR0aW5nc1wiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjb25zdCBDb2xvcndheUNsb3NldCA9ICh7IGRpc3BhdGNoIH0pID0+IChcbiAgPGRpdiBpZD1cImNvbG9yd2F5LWNsb3NldFwiPkNvbG9yd2F5IENsb3NldCBQbGFjZWhvbGRlcjwvZGl2PlxuKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IEJhY2tncm91bmRzU2VjdGlvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0N1c3RvbWl6ZU1lbnUvQmFja2dyb3VuZHNTZWN0aW9uL0JhY2tncm91bmRzU2VjdGlvblwiO1xuaW1wb3J0IHsgQ29udGVudFNlY3Rpb24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9DdXN0b21pemVNZW51L0NvbnRlbnRTZWN0aW9uL0NvbnRlbnRTZWN0aW9uXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDU1NUcmFuc2l0aW9uIH0gZnJvbSBcInJlYWN0LXRyYW5zaXRpb24tZ3JvdXBcIjtcbmltcG9ydCB7IENvbG9yd2F5Q2xvc2V0IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ3VzdG9taXplTWVudS9Db2xvcndheUNsb3NldC9Db2xvcndheUNsb3NldFwiO1xuXG5leHBvcnQgY2xhc3MgX0N1c3RvbWl6ZU1lbnUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkVudGVyZWQgPSB0aGlzLm9uRW50ZXJlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25FeGl0ZWQgPSB0aGlzLm9uRXhpdGVkLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkVudGVyZWQoKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VCdXR0b24pIHtcbiAgICAgIHRoaXMuY2xvc2VCdXR0b24uZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBvbkV4aXRlZCgpIHtcbiAgICBpZiAodGhpcy5vcGVuQnV0dG9uKSB7XG4gICAgICB0aGlzLm9wZW5CdXR0b24uZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuPlxuICAgICAgICA8Q1NTVHJhbnNpdGlvblxuICAgICAgICAgIHRpbWVvdXQ9ezMwMH1cbiAgICAgICAgICBjbGFzc05hbWVzPVwicGVyc29uYWxpemUtYW5pbWF0ZVwiXG4gICAgICAgICAgaW49eyF0aGlzLnByb3BzLnNob3dpbmd9XG4gICAgICAgICAgYXBwZWFyPXt0cnVlfVxuICAgICAgICA+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbiBpY29uLXNldHRpbmdzIHBlcnNvbmFsaXplLWJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnByb3BzLm9uT3BlbigpfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXBlcnNvbmFsaXplLWljb24tbGFiZWxcIlxuICAgICAgICAgICAgcmVmPXtjID0+ICh0aGlzLm9wZW5CdXR0b24gPSBjKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0NTU1RyYW5zaXRpb24+XG4gICAgICAgIDxDU1NUcmFuc2l0aW9uXG4gICAgICAgICAgdGltZW91dD17MjUwfVxuICAgICAgICAgIGNsYXNzTmFtZXM9XCJjdXN0b21pemUtYW5pbWF0ZVwiXG4gICAgICAgICAgaW49e3RoaXMucHJvcHMuc2hvd2luZ31cbiAgICAgICAgICBvbkVudGVyZWQ9e3RoaXMub25FbnRlcmVkfVxuICAgICAgICAgIG9uRXhpdGVkPXt0aGlzLm9uRXhpdGVkfVxuICAgICAgICAgIGFwcGVhcj17dHJ1ZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImN1c3RvbWl6ZS1tZW51XCJcbiAgICAgICAgICAgIHJvbGU9XCJkaWFsb2dcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXBlcnNvbmFsaXplLWRpYWxvZy1sYWJlbFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnByb3BzLm9uQ2xvc2UoKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2UtYnV0dG9uXCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1jbG9zZS1idXR0b25cIlxuICAgICAgICAgICAgICByZWY9e2MgPT4gKHRoaXMuY2xvc2VCdXR0b24gPSBjKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5zaG93Q29sb3J3YXlDbG9zZXQgPyAoXG4gICAgICAgICAgICAgIDxDb2xvcndheUNsb3NldCBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH0gLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudCAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxCYWNrZ3JvdW5kc1NlY3Rpb24gLz5cbiAgICAgICAgICAgIDxDb250ZW50U2VjdGlvblxuICAgICAgICAgICAgICBvcGVuUHJlZmVyZW5jZXM9e3RoaXMucHJvcHMub3BlblByZWZlcmVuY2VzfVxuICAgICAgICAgICAgICBzZXRQcmVmPXt0aGlzLnByb3BzLnNldFByZWZ9XG4gICAgICAgICAgICAgIGVuYWJsZWRTZWN0aW9ucz17dGhpcy5wcm9wcy5lbmFibGVkU2VjdGlvbnN9XG4gICAgICAgICAgICAgIHBvY2tldFJlZ2lvbj17dGhpcy5wcm9wcy5wb2NrZXRSZWdpb259XG4gICAgICAgICAgICAgIG1heUhhdmVTcG9uc29yZWRUb3BTaXRlcz17dGhpcy5wcm9wcy5tYXlIYXZlU3BvbnNvcmVkVG9wU2l0ZXN9XG4gICAgICAgICAgICAgIG1heUhhdmVTcG9uc29yZWRTdG9yaWVzPXtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLkRpc2NvdmVyeVN0cmVhbS5jb25maWcuc2hvd19zcG9jc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9DU1NUcmFuc2l0aW9uPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IEN1c3RvbWl6ZU1lbnUgPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIERpc2NvdmVyeVN0cmVhbTogc3RhdGUuRGlzY292ZXJ5U3RyZWFtLFxufSkpKF9DdXN0b21pemVNZW51KTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbnRoaXMuRGVkdXBlID0gY2xhc3MgRGVkdXBlIHtcbiAgY29uc3RydWN0b3IoY3JlYXRlS2V5KSB7XG4gICAgdGhpcy5jcmVhdGVLZXkgPSBjcmVhdGVLZXkgfHwgdGhpcy5kZWZhdWx0Q3JlYXRlS2V5O1xuICB9XG5cbiAgZGVmYXVsdENyZWF0ZUtleShpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cblxuICAvKipcbiAgICogRGVkdXBlIGFueSBudW1iZXIgb2YgZ3JvdXBlZCBlbGVtZW50cyBmYXZvcmluZyB0aG9zZSBmcm9tIGVhcmxpZXIgZ3JvdXBzLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBncm91cHMgQ29udGFpbnMgYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBhcnJheXMgb2YgZWxlbWVudHMuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gQSBtYXRjaGluZyBhcnJheSBvZiBlYWNoIHByb3ZpZGVkIGdyb3VwIGRlZHVwZWQuXG4gICAqL1xuICBncm91cCguLi5ncm91cHMpIHtcbiAgICBjb25zdCBnbG9iYWxLZXlzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAoY29uc3QgdmFsdWVzIG9mIGdyb3Vwcykge1xuICAgICAgY29uc3QgdmFsdWVNYXAgPSBuZXcgTWFwKCk7XG4gICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmNyZWF0ZUtleSh2YWx1ZSk7XG4gICAgICAgIGlmICghZ2xvYmFsS2V5cy5oYXMoa2V5KSAmJiAhdmFsdWVNYXAuaGFzKGtleSkpIHtcbiAgICAgICAgICB2YWx1ZU1hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlTWFwKTtcbiAgICAgIHZhbHVlTWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IGdsb2JhbEtleXMuYWRkKGtleSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0Lm1hcChtID0+IEFycmF5LmZyb20obS52YWx1ZXMoKSkpO1xuICB9XG59O1xuXG5jb25zdCBFWFBPUlRFRF9TWU1CT0xTID0gW1wiRGVkdXBlXCJdO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7IGFjdGlvblR5cGVzOiBhdCB9ID0gQ2hyb21lVXRpbHMuaW1wb3J0KFxuICBcInJlc291cmNlOi8vYWN0aXZpdHktc3RyZWFtL2NvbW1vbi9BY3Rpb25zLmpzbVwiXG4pO1xuY29uc3QgeyBEZWR1cGUgfSA9IENocm9tZVV0aWxzLmltcG9ydChcbiAgXCJyZXNvdXJjZTovL2FjdGl2aXR5LXN0cmVhbS9jb21tb24vRGVkdXBlLmpzbVwiXG4pO1xuXG5jb25zdCBUT1BfU0lURVNfREVGQVVMVF9ST1dTID0gMTtcbmNvbnN0IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVyA9IDg7XG5jb25zdCBQUkVGX0NPTExFQ1RJT05fRElTTUlTU0lCTEUgPSBcImRpc2NvdmVyeXN0cmVhbS5pc0NvbGxlY3Rpb25EaXNtaXNzaWJsZVwiO1xuXG5jb25zdCBkZWR1cGUgPSBuZXcgRGVkdXBlKHNpdGUgPT4gc2l0ZSAmJiBzaXRlLnVybCk7XG5cbmNvbnN0IElOSVRJQUxfU1RBVEUgPSB7XG4gIEFwcDoge1xuICAgIC8vIEhhdmUgd2UgcmVjZWl2ZWQgcmVhbCBkYXRhIGZyb20gdGhlIGFwcCB5ZXQ/XG4gICAgaW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICAgIGxvY2FsZTogXCJcIixcbiAgfSxcbiAgQVNSb3V0ZXI6IHsgaW5pdGlhbGl6ZWQ6IGZhbHNlIH0sXG4gIFNuaXBwZXRzOiB7IGluaXRpYWxpemVkOiBmYWxzZSB9LFxuICBUb3BTaXRlczoge1xuICAgIC8vIEhhdmUgd2UgcmVjZWl2ZWQgcmVhbCBkYXRhIGZyb20gaGlzdG9yeSB5ZXQ/XG4gICAgaW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICAgIC8vIFRoZSBoaXN0b3J5IChhbmQgcG9zc2libHkgZGVmYXVsdCkgbGlua3NcbiAgICByb3dzOiBbXSxcbiAgICAvLyBVc2VkIGluIGNvbnRlbnQgb25seSB0byBkaXNwYXRjaCBhY3Rpb24gdG8gVG9wU2l0ZUZvcm0uXG4gICAgZWRpdEZvcm06IG51bGwsXG4gICAgLy8gVXNlZCBpbiBjb250ZW50IG9ubHkgdG8gb3BlbiB0aGUgU2VhcmNoU2hvcnRjdXRzRm9ybSBtb2RhbC5cbiAgICBzaG93U2VhcmNoU2hvcnRjdXRzRm9ybTogZmFsc2UsXG4gICAgLy8gVGhlIGxpc3Qgb2YgYXZhaWxhYmxlIHNlYXJjaCBzaG9ydGN1dHMuXG4gICAgc2VhcmNoU2hvcnRjdXRzOiBbXSxcbiAgfSxcbiAgUHJlZnM6IHtcbiAgICBpbml0aWFsaXplZDogZmFsc2UsXG4gICAgdmFsdWVzOiB7IGZlYXR1cmVDb25maWc6IHt9IH0sXG4gIH0sXG4gIERpYWxvZzoge1xuICAgIHZpc2libGU6IGZhbHNlLFxuICAgIGRhdGE6IHt9LFxuICB9LFxuICBTZWN0aW9uczogW10sXG4gIFBvY2tldDoge1xuICAgIGlzVXNlckxvZ2dlZEluOiBudWxsLFxuICAgIHBvY2tldEN0YToge30sXG4gICAgd2FpdGluZ0ZvclNwb2M6IHRydWUsXG4gIH0sXG4gIC8vIFRoaXMgaXMgdGhlIG5ldyBwb2NrZXQgY29uZmlndXJhYmxlIGxheW91dCBzdGF0ZS5cbiAgRGlzY292ZXJ5U3RyZWFtOiB7XG4gICAgLy8gVGhpcyBpcyBhIEpTT04tcGFyc2VkIGNvcHkgb2YgdGhlIGRpc2NvdmVyeXN0cmVhbS5jb25maWcgcHJlZiB2YWx1ZS5cbiAgICBjb25maWc6IHsgZW5hYmxlZDogZmFsc2UsIGxheW91dF9lbmRwb2ludDogXCJcIiB9LFxuICAgIGxheW91dDogW10sXG4gICAgbGFzdFVwZGF0ZWQ6IG51bGwsXG4gICAgaXNQcml2YWN5SW5mb01vZGFsVmlzaWJsZTogZmFsc2UsXG4gICAgaXNDb2xsZWN0aW9uRGlzbWlzc2libGU6IGZhbHNlLFxuICAgIGZlZWRzOiB7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIC8vIFwiaHR0cHM6Ly9mb28uY29tL2ZlZWQxXCI6IHtsYXN0VXBkYXRlZDogMTIzLCBkYXRhOiBbXX1cbiAgICAgIH0sXG4gICAgICBsb2FkZWQ6IGZhbHNlLFxuICAgIH0sXG4gICAgc3BvY3M6IHtcbiAgICAgIHNwb2NzX2VuZHBvaW50OiBcIlwiLFxuICAgICAgbGFzdFVwZGF0ZWQ6IG51bGwsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIC8vIFwic3BvY3NcIjoge3RpdGxlOiBcIlwiLCBjb250ZXh0OiBcIlwiLCBpdGVtczogW119LFxuICAgICAgICAvLyBcInBsYWNlbWVudDFcIjoge3RpdGxlOiBcIlwiLCBjb250ZXh0OiBcIlwiLCBpdGVtczogW119LFxuICAgICAgfSxcbiAgICAgIGxvYWRlZDogZmFsc2UsXG4gICAgICBmcmVxdWVuY3lfY2FwczogW10sXG4gICAgICBibG9ja2VkOiBbXSxcbiAgICAgIHBsYWNlbWVudHM6IFtdLFxuICAgIH0sXG4gIH0sXG4gIFBlcnNvbmFsaXphdGlvbjoge1xuICAgIGxhc3RVcGRhdGVkOiBudWxsLFxuICAgIGluaXRpYWxpemVkOiBmYWxzZSxcbiAgfSxcbiAgU2VhcmNoOiB7XG4gICAgLy8gV2hlbiBzZWFyY2ggaGFuZC1vZmYgaXMgZW5hYmxlZCwgd2UgcmVuZGVyIGEgYmlnIGJ1dHRvbiB0aGF0IGlzIHN0eWxlZCB0b1xuICAgIC8vIGxvb2sgbGlrZSBhIHNlYXJjaCB0ZXh0Ym94LiBJZiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQsIHdlIHN0eWxlXG4gICAgLy8gdGhlIGJ1dHRvbiBhcyBpZiBpdCB3YXMgYSBmb2N1c2VkIHNlYXJjaCBib3ggYW5kIHNob3cgYSBmYWtlIGN1cnNvciBidXRcbiAgICAvLyByZWFsbHkgZm9jdXMgdGhlIGF3ZXNvbWViYXIgd2l0aG91dCB0aGUgZm9jdXMgc3R5bGVzIChcImhpZGRlbiBmb2N1c1wiKS5cbiAgICBmYWtlRm9jdXM6IGZhbHNlLFxuICAgIC8vIEhpZGUgdGhlIHNlYXJjaCBib3ggYWZ0ZXIgaGFuZGluZyBvZmYgdG8gQXdlc29tZUJhciBhbmQgdXNlciBzdGFydHMgdHlwaW5nLlxuICAgIGhpZGU6IGZhbHNlLFxuICB9LFxufTtcblxuZnVuY3Rpb24gQXBwKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuQXBwLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuSU5JVDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIGFjdGlvbi5kYXRhIHx8IHt9LCB7XG4gICAgICAgIGluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgfSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gQVNSb3V0ZXIocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5BU1JvdXRlciwgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LkFTX1JPVVRFUl9JTklUSUFMSVpFRDpcbiAgICAgIHJldHVybiB7IC4uLmFjdGlvbi5kYXRhLCBpbml0aWFsaXplZDogdHJ1ZSB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbi8qKlxuICogaW5zZXJ0UGlubmVkIC0gSW5zZXJ0cyBwaW5uZWQgbGlua3MgaW4gdGhlaXIgc3BlY2lmaWVkIHNsb3RzXG4gKlxuICogQHBhcmFtIHthcnJheX0gYSBsaXN0IG9mIGxpbmtzXG4gKiBAcGFyYW0ge2FycmF5fSBhIGxpc3Qgb2YgcGlubmVkIGxpbmtzXG4gKiBAcmV0dXJuIHthcnJheX0gcmVzdWx0aW5nIGxpc3Qgb2YgbGlua3Mgd2l0aCBwaW5uZWQgbGlua3MgaW5zZXJ0ZWRcbiAqL1xuZnVuY3Rpb24gaW5zZXJ0UGlubmVkKGxpbmtzLCBwaW5uZWQpIHtcbiAgLy8gUmVtb3ZlIGFueSBwaW5uZWQgbGlua3NcbiAgY29uc3QgcGlubmVkVXJscyA9IHBpbm5lZC5tYXAobGluayA9PiBsaW5rICYmIGxpbmsudXJsKTtcbiAgbGV0IG5ld0xpbmtzID0gbGlua3MuZmlsdGVyKGxpbmsgPT5cbiAgICBsaW5rID8gIXBpbm5lZFVybHMuaW5jbHVkZXMobGluay51cmwpIDogZmFsc2VcbiAgKTtcbiAgbmV3TGlua3MgPSBuZXdMaW5rcy5tYXAobGluayA9PiB7XG4gICAgaWYgKGxpbmsgJiYgbGluay5pc1Bpbm5lZCkge1xuICAgICAgZGVsZXRlIGxpbmsuaXNQaW5uZWQ7XG4gICAgICBkZWxldGUgbGluay5waW5JbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIGxpbms7XG4gIH0pO1xuXG4gIC8vIFRoZW4gaW5zZXJ0IHRoZW0gaW4gdGhlaXIgc3BlY2lmaWVkIGxvY2F0aW9uXG4gIHBpbm5lZC5mb3JFYWNoKCh2YWwsIGluZGV4KSA9PiB7XG4gICAgaWYgKCF2YWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGxpbmsgPSBPYmplY3QuYXNzaWduKHt9LCB2YWwsIHsgaXNQaW5uZWQ6IHRydWUsIHBpbkluZGV4OiBpbmRleCB9KTtcbiAgICBpZiAoaW5kZXggPiBuZXdMaW5rcy5sZW5ndGgpIHtcbiAgICAgIG5ld0xpbmtzW2luZGV4XSA9IGxpbms7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0xpbmtzLnNwbGljZShpbmRleCwgMCwgbGluayk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gbmV3TGlua3M7XG59XG5cbmZ1bmN0aW9uIFRvcFNpdGVzKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuVG9wU2l0ZXMsIGFjdGlvbikge1xuICBsZXQgaGFzTWF0Y2g7XG4gIGxldCBuZXdSb3dzO1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5UT1BfU0lURVNfVVBEQVRFRDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEgfHwgIWFjdGlvbi5kYXRhLmxpbmtzKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge30sXG4gICAgICAgIHByZXZTdGF0ZSxcbiAgICAgICAgeyBpbml0aWFsaXplZDogdHJ1ZSwgcm93czogYWN0aW9uLmRhdGEubGlua3MgfSxcbiAgICAgICAgYWN0aW9uLmRhdGEucHJlZiA/IHsgcHJlZjogYWN0aW9uLmRhdGEucHJlZiB9IDoge31cbiAgICAgICk7XG4gICAgY2FzZSBhdC5UT1BfU0lURVNfUFJFRlNfVVBEQVRFRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgcHJlZjogYWN0aW9uLmRhdGEucHJlZiB9KTtcbiAgICBjYXNlIGF0LlRPUF9TSVRFU19FRElUOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwge1xuICAgICAgICBlZGl0Rm9ybToge1xuICAgICAgICAgIGluZGV4OiBhY3Rpb24uZGF0YS5pbmRleCxcbiAgICAgICAgICBwcmV2aWV3UmVzcG9uc2U6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICBjYXNlIGF0LlRPUF9TSVRFU19DQU5DRUxfRURJVDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgZWRpdEZvcm06IG51bGwgfSk7XG4gICAgY2FzZSBhdC5UT1BfU0lURVNfT1BFTl9TRUFSQ0hfU0hPUlRDVVRTX01PREFMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyBzaG93U2VhcmNoU2hvcnRjdXRzRm9ybTogdHJ1ZSB9KTtcbiAgICBjYXNlIGF0LlRPUF9TSVRFU19DTE9TRV9TRUFSQ0hfU0hPUlRDVVRTX01PREFMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyBzaG93U2VhcmNoU2hvcnRjdXRzRm9ybTogZmFsc2UgfSk7XG4gICAgY2FzZSBhdC5QUkVWSUVXX1JFU1BPTlNFOlxuICAgICAgaWYgKFxuICAgICAgICAhcHJldlN0YXRlLmVkaXRGb3JtIHx8XG4gICAgICAgIGFjdGlvbi5kYXRhLnVybCAhPT0gcHJldlN0YXRlLmVkaXRGb3JtLnByZXZpZXdVcmxcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwge1xuICAgICAgICBlZGl0Rm9ybToge1xuICAgICAgICAgIGluZGV4OiBwcmV2U3RhdGUuZWRpdEZvcm0uaW5kZXgsXG4gICAgICAgICAgcHJldmlld1Jlc3BvbnNlOiBhY3Rpb24uZGF0YS5wcmV2aWV3LFxuICAgICAgICAgIHByZXZpZXdVcmw6IGFjdGlvbi5kYXRhLnVybCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIGNhc2UgYXQuUFJFVklFV19SRVFVRVNUOlxuICAgICAgaWYgKCFwcmV2U3RhdGUuZWRpdEZvcm0pIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHtcbiAgICAgICAgZWRpdEZvcm06IHtcbiAgICAgICAgICBpbmRleDogcHJldlN0YXRlLmVkaXRGb3JtLmluZGV4LFxuICAgICAgICAgIHByZXZpZXdSZXNwb25zZTogbnVsbCxcbiAgICAgICAgICBwcmV2aWV3VXJsOiBhY3Rpb24uZGF0YS51cmwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICBjYXNlIGF0LlBSRVZJRVdfUkVRVUVTVF9DQU5DRUw6XG4gICAgICBpZiAoIXByZXZTdGF0ZS5lZGl0Rm9ybSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwge1xuICAgICAgICBlZGl0Rm9ybToge1xuICAgICAgICAgIGluZGV4OiBwcmV2U3RhdGUuZWRpdEZvcm0uaW5kZXgsXG4gICAgICAgICAgcHJldmlld1Jlc3BvbnNlOiBudWxsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgY2FzZSBhdC5TQ1JFRU5TSE9UX1VQREFURUQ6XG4gICAgICBuZXdSb3dzID0gcHJldlN0YXRlLnJvd3MubWFwKHJvdyA9PiB7XG4gICAgICAgIGlmIChyb3cgJiYgcm93LnVybCA9PT0gYWN0aW9uLmRhdGEudXJsKSB7XG4gICAgICAgICAgaGFzTWF0Y2ggPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCByb3csIHsgc2NyZWVuc2hvdDogYWN0aW9uLmRhdGEuc2NyZWVuc2hvdCB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm93O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gaGFzTWF0Y2hcbiAgICAgICAgPyBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgcm93czogbmV3Um93cyB9KVxuICAgICAgICA6IHByZXZTdGF0ZTtcbiAgICBjYXNlIGF0LlBMQUNFU19CT09LTUFSS19BRERFRDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIG5ld1Jvd3MgPSBwcmV2U3RhdGUucm93cy5tYXAoc2l0ZSA9PiB7XG4gICAgICAgIGlmIChzaXRlICYmIHNpdGUudXJsID09PSBhY3Rpb24uZGF0YS51cmwpIHtcbiAgICAgICAgICBjb25zdCB7IGJvb2ttYXJrR3VpZCwgYm9va21hcmtUaXRsZSwgZGF0ZUFkZGVkIH0gPSBhY3Rpb24uZGF0YTtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc2l0ZSwge1xuICAgICAgICAgICAgYm9va21hcmtHdWlkLFxuICAgICAgICAgICAgYm9va21hcmtUaXRsZSxcbiAgICAgICAgICAgIGJvb2ttYXJrRGF0ZUNyZWF0ZWQ6IGRhdGVBZGRlZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2l0ZTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyByb3dzOiBuZXdSb3dzIH0pO1xuICAgIGNhc2UgYXQuUExBQ0VTX0JPT0tNQVJLU19SRU1PVkVEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgbmV3Um93cyA9IHByZXZTdGF0ZS5yb3dzLm1hcChzaXRlID0+IHtcbiAgICAgICAgaWYgKHNpdGUgJiYgYWN0aW9uLmRhdGEudXJscy5pbmNsdWRlcyhzaXRlLnVybCkpIHtcbiAgICAgICAgICBjb25zdCBuZXdTaXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc2l0ZSk7XG4gICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtHdWlkO1xuICAgICAgICAgIGRlbGV0ZSBuZXdTaXRlLmJvb2ttYXJrVGl0bGU7XG4gICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtEYXRlQ3JlYXRlZDtcbiAgICAgICAgICByZXR1cm4gbmV3U2l0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2l0ZTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyByb3dzOiBuZXdSb3dzIH0pO1xuICAgIGNhc2UgYXQuUExBQ0VTX0xJTktTX0RFTEVURUQ6XG4gICAgICBpZiAoIWFjdGlvbi5kYXRhKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICBuZXdSb3dzID0gcHJldlN0YXRlLnJvd3MuZmlsdGVyKFxuICAgICAgICBzaXRlID0+ICFhY3Rpb24uZGF0YS51cmxzLmluY2x1ZGVzKHNpdGUudXJsKVxuICAgICAgKTtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgcm93czogbmV3Um93cyB9KTtcbiAgICBjYXNlIGF0LlVQREFURV9TRUFSQ0hfU0hPUlRDVVRTOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBzZWFyY2hTaG9ydGN1dHM6IGFjdGlvbi5kYXRhLnNlYXJjaFNob3J0Y3V0cyB9O1xuICAgIGNhc2UgYXQuU05JUFBFVFNfUFJFVklFV19NT0RFOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCByb3dzOiBbXSB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIERpYWxvZyhwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLkRpYWxvZywgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LkRJQUxPR19PUEVOOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyB2aXNpYmxlOiB0cnVlLCBkYXRhOiBhY3Rpb24uZGF0YSB9KTtcbiAgICBjYXNlIGF0LkRJQUxPR19DQU5DRUw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHZpc2libGU6IGZhbHNlIH0pO1xuICAgIGNhc2UgYXQuREVMRVRFX0hJU1RPUllfVVJMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIElOSVRJQUxfU1RBVEUuRGlhbG9nKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBQcmVmcyhwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLlByZWZzLCBhY3Rpb24pIHtcbiAgbGV0IG5ld1ZhbHVlcztcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuUFJFRlNfSU5JVElBTF9WQUxVRVM6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7XG4gICAgICAgIGluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgICB2YWx1ZXM6IGFjdGlvbi5kYXRhLFxuICAgICAgfSk7XG4gICAgY2FzZSBhdC5QUkVGX0NIQU5HRUQ6XG4gICAgICBuZXdWYWx1ZXMgPSBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUudmFsdWVzKTtcbiAgICAgIG5ld1ZhbHVlc1thY3Rpb24uZGF0YS5uYW1lXSA9IGFjdGlvbi5kYXRhLnZhbHVlO1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyB2YWx1ZXM6IG5ld1ZhbHVlcyB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBTZWN0aW9ucyhwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLlNlY3Rpb25zLCBhY3Rpb24pIHtcbiAgbGV0IGhhc01hdGNoO1xuICBsZXQgbmV3U3RhdGU7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LlNFQ1RJT05fREVSRUdJU1RFUjpcbiAgICAgIHJldHVybiBwcmV2U3RhdGUuZmlsdGVyKHNlY3Rpb24gPT4gc2VjdGlvbi5pZCAhPT0gYWN0aW9uLmRhdGEpO1xuICAgIGNhc2UgYXQuU0VDVElPTl9SRUdJU1RFUjpcbiAgICAgIC8vIElmIHNlY3Rpb24gZXhpc3RzIGluIHByZXZTdGF0ZSwgdXBkYXRlIGl0XG4gICAgICBuZXdTdGF0ZSA9IHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PiB7XG4gICAgICAgIGlmIChzZWN0aW9uICYmIHNlY3Rpb24uaWQgPT09IGFjdGlvbi5kYXRhLmlkKSB7XG4gICAgICAgICAgaGFzTWF0Y2ggPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCBhY3Rpb24uZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlY3Rpb247XG4gICAgICB9KTtcbiAgICAgIC8vIE90aGVyd2lzZSwgYXBwZW5kIGl0XG4gICAgICBpZiAoIWhhc01hdGNoKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxpemVkID0gISEoYWN0aW9uLmRhdGEucm93cyAmJiAhIWFjdGlvbi5kYXRhLnJvd3MubGVuZ3RoKTtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgeyB0aXRsZTogXCJcIiwgcm93czogW10sIGVuYWJsZWQ6IGZhbHNlIH0sXG4gICAgICAgICAgYWN0aW9uLmRhdGEsXG4gICAgICAgICAgeyBpbml0aWFsaXplZCB9XG4gICAgICAgICk7XG4gICAgICAgIG5ld1N0YXRlLnB1c2goc2VjdGlvbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgY2FzZSBhdC5TRUNUSU9OX1VQREFURTpcbiAgICAgIG5ld1N0YXRlID0gcHJldlN0YXRlLm1hcChzZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHNlY3Rpb24gJiYgc2VjdGlvbi5pZCA9PT0gYWN0aW9uLmRhdGEuaWQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgYWN0aW9uIGlzIHVwZGF0aW5nIHJvd3MsIHdlIHNob3VsZCBjb25zaWRlciBpbml0aWFsaXplZCB0byBiZSB0cnVlLlxuICAgICAgICAgIC8vIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gaWYgaW5pdGlhbGl6ZWQgaXMgZGVmaW5lZCBpbiB0aGUgYWN0aW9uLmRhdGFcbiAgICAgICAgICBjb25zdCBpbml0aWFsaXplZCA9IGFjdGlvbi5kYXRhLnJvd3MgPyB7IGluaXRpYWxpemVkOiB0cnVlIH0gOiB7fTtcblxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSBwaW5uZWQgY2FyZHMgc3RheSBhdCB0aGVpciBjdXJyZW50IHBvc2l0aW9uIHdoZW4gcm93cyBhcmUgdXBkYXRlZC5cbiAgICAgICAgICAvLyBEaXNhYmxpbmcgYSBzZWN0aW9uIChTRUNUSU9OX1VQREFURSB3aXRoIGVtcHR5IHJvd3MpIGRvZXMgbm90IHJldGFpbiBwaW5uZWQgY2FyZHMuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgYWN0aW9uLmRhdGEucm93cyAmJlxuICAgICAgICAgICAgISFhY3Rpb24uZGF0YS5yb3dzLmxlbmd0aCAmJlxuICAgICAgICAgICAgc2VjdGlvbi5yb3dzLmZpbmQoY2FyZCA9PiBjYXJkLnBpbm5lZClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IHJvd3MgPSBBcnJheS5mcm9tKGFjdGlvbi5kYXRhLnJvd3MpO1xuICAgICAgICAgICAgc2VjdGlvbi5yb3dzLmZvckVhY2goKGNhcmQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChjYXJkLnBpbm5lZCkge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgYWRkIGl0IGlmIGl0J3Mgbm90IGFscmVhZHkgdGhlcmUuXG4gICAgICAgICAgICAgICAgaWYgKHJvd3NbaW5kZXhdLmd1aWQgIT09IGNhcmQuZ3VpZCkge1xuICAgICAgICAgICAgICAgICAgcm93cy5zcGxpY2UoaW5kZXgsIDAsIGNhcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAge30sXG4gICAgICAgICAgICAgIHNlY3Rpb24sXG4gICAgICAgICAgICAgIGluaXRpYWxpemVkLFxuICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBhY3Rpb24uZGF0YSwgeyByb3dzIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCBpbml0aWFsaXplZCwgYWN0aW9uLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWN0aW9uO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghYWN0aW9uLmRhdGEuZGVkdXBlQ29uZmlndXJhdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgICAgfVxuXG4gICAgICBhY3Rpb24uZGF0YS5kZWR1cGVDb25maWd1cmF0aW9ucy5mb3JFYWNoKGRlZHVwZUNvbmYgPT4ge1xuICAgICAgICBuZXdTdGF0ZSA9IG5ld1N0YXRlLm1hcChzZWN0aW9uID0+IHtcbiAgICAgICAgICBpZiAoc2VjdGlvbi5pZCA9PT0gZGVkdXBlQ29uZi5pZCkge1xuICAgICAgICAgICAgY29uc3QgZGVkdXBlZFJvd3MgPSBkZWR1cGVDb25mLmRlZHVwZUZyb20ucmVkdWNlKFxuICAgICAgICAgICAgICAocm93cywgZGVkdXBlU2VjdGlvbklkKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVkdXBlU2VjdGlvbiA9IG5ld1N0YXRlLmZpbmQoXG4gICAgICAgICAgICAgICAgICBzID0+IHMuaWQgPT09IGRlZHVwZVNlY3Rpb25JZFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgWywgbmV3Um93c10gPSBkZWR1cGUuZ3JvdXAoZGVkdXBlU2VjdGlvbi5yb3dzLCByb3dzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3Um93cztcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc2VjdGlvbi5yb3dzXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwgeyByb3dzOiBkZWR1cGVkUm93cyB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIGNhc2UgYXQuU0VDVElPTl9VUERBVEVfQ0FSRDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGUubWFwKHNlY3Rpb24gPT4ge1xuICAgICAgICBpZiAoc2VjdGlvbiAmJiBzZWN0aW9uLmlkID09PSBhY3Rpb24uZGF0YS5pZCAmJiBzZWN0aW9uLnJvd3MpIHtcbiAgICAgICAgICBjb25zdCBuZXdSb3dzID0gc2VjdGlvbi5yb3dzLm1hcChjYXJkID0+IHtcbiAgICAgICAgICAgIGlmIChjYXJkLnVybCA9PT0gYWN0aW9uLmRhdGEudXJsKSB7XG4gICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjYXJkLCBhY3Rpb24uZGF0YS5vcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYXJkO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7IHJvd3M6IG5ld1Jvd3MgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlY3Rpb247XG4gICAgICB9KTtcbiAgICBjYXNlIGF0LlBMQUNFU19CT09LTUFSS19BRERFRDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2U3RhdGUubWFwKHNlY3Rpb24gPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwge1xuICAgICAgICAgIHJvd3M6IHNlY3Rpb24ucm93cy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAvLyBmaW5kIHRoZSBpdGVtIHdpdGhpbiB0aGUgcm93cyB0aGF0IGlzIGF0dGVtcHRlZCB0byBiZSBib29rbWFya2VkXG4gICAgICAgICAgICBpZiAoaXRlbS51cmwgPT09IGFjdGlvbi5kYXRhLnVybCkge1xuICAgICAgICAgICAgICBjb25zdCB7IGJvb2ttYXJrR3VpZCwgYm9va21hcmtUaXRsZSwgZGF0ZUFkZGVkIH0gPSBhY3Rpb24uZGF0YTtcbiAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHtcbiAgICAgICAgICAgICAgICBib29rbWFya0d1aWQsXG4gICAgICAgICAgICAgICAgYm9va21hcmtUaXRsZSxcbiAgICAgICAgICAgICAgICBib29rbWFya0RhdGVDcmVhdGVkOiBkYXRlQWRkZWQsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJib29rbWFya1wiLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgIH0pLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICBjYXNlIGF0LlBMQUNFU19TQVZFRF9UT19QT0NLRVQ6XG4gICAgICBpZiAoIWFjdGlvbi5kYXRhKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJldlN0YXRlLm1hcChzZWN0aW9uID0+XG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIHtcbiAgICAgICAgICByb3dzOiBzZWN0aW9uLnJvd3MubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0udXJsID09PSBhY3Rpb24uZGF0YS51cmwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHtcbiAgICAgICAgICAgICAgICBvcGVuX3VybDogYWN0aW9uLmRhdGEub3Blbl91cmwsXG4gICAgICAgICAgICAgICAgcG9ja2V0X2lkOiBhY3Rpb24uZGF0YS5wb2NrZXRfaWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGFjdGlvbi5kYXRhLnRpdGxlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicG9ja2V0XCIsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgfSksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIGNhc2UgYXQuUExBQ0VTX0JPT0tNQVJLU19SRU1PVkVEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7XG4gICAgICAgICAgcm93czogc2VjdGlvbi5yb3dzLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgIC8vIGZpbmQgdGhlIGJvb2ttYXJrIHdpdGhpbiB0aGUgcm93cyB0aGF0IGlzIGF0dGVtcHRlZCB0byBiZSByZW1vdmVkXG4gICAgICAgICAgICBpZiAoYWN0aW9uLmRhdGEudXJscy5pbmNsdWRlcyhpdGVtLnVybCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgbmV3U2l0ZSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pO1xuICAgICAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya0d1aWQ7XG4gICAgICAgICAgICAgIGRlbGV0ZSBuZXdTaXRlLmJvb2ttYXJrVGl0bGU7XG4gICAgICAgICAgICAgIGRlbGV0ZSBuZXdTaXRlLmJvb2ttYXJrRGF0ZUNyZWF0ZWQ7XG4gICAgICAgICAgICAgIGlmICghbmV3U2l0ZS50eXBlIHx8IG5ld1NpdGUudHlwZSA9PT0gXCJib29rbWFya1wiKSB7XG4gICAgICAgICAgICAgICAgbmV3U2l0ZS50eXBlID0gXCJoaXN0b3J5XCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIG5ld1NpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgY2FzZSBhdC5QTEFDRVNfTElOS1NfREVMRVRFRDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2U3RhdGUubWFwKHNlY3Rpb24gPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwge1xuICAgICAgICAgIHJvd3M6IHNlY3Rpb24ucm93cy5maWx0ZXIoXG4gICAgICAgICAgICBzaXRlID0+ICFhY3Rpb24uZGF0YS51cmxzLmluY2x1ZGVzKHNpdGUudXJsKVxuICAgICAgICAgICksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIGNhc2UgYXQuUExBQ0VTX0xJTktfQkxPQ0tFRDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2U3RhdGUubWFwKHNlY3Rpb24gPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwge1xuICAgICAgICAgIHJvd3M6IHNlY3Rpb24ucm93cy5maWx0ZXIoc2l0ZSA9PiBzaXRlLnVybCAhPT0gYWN0aW9uLmRhdGEudXJsKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgY2FzZSBhdC5ERUxFVEVfRlJPTV9QT0NLRVQ6XG4gICAgY2FzZSBhdC5BUkNISVZFX0ZST01fUE9DS0VUOlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7XG4gICAgICAgICAgcm93czogc2VjdGlvbi5yb3dzLmZpbHRlcihcbiAgICAgICAgICAgIHNpdGUgPT4gc2l0ZS5wb2NrZXRfaWQgIT09IGFjdGlvbi5kYXRhLnBvY2tldF9pZFxuICAgICAgICAgICksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIGNhc2UgYXQuU05JUFBFVFNfUFJFVklFV19NT0RFOlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PiAoeyAuLi5zZWN0aW9uLCByb3dzOiBbXSB9KSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gU25pcHBldHMocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5TbmlwcGV0cywgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LlNOSVBQRVRTX0RBVEE6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IGluaXRpYWxpemVkOiB0cnVlIH0sIGFjdGlvbi5kYXRhKTtcbiAgICBjYXNlIGF0LlNOSVBQRVRfQkxPQ0tFRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHtcbiAgICAgICAgYmxvY2tMaXN0OiBwcmV2U3RhdGUuYmxvY2tMaXN0LmNvbmNhdChhY3Rpb24uZGF0YSksXG4gICAgICB9KTtcbiAgICBjYXNlIGF0LlNOSVBQRVRTX0JMT0NLTElTVF9DTEVBUkVEOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyBibG9ja0xpc3Q6IFtdIH0pO1xuICAgIGNhc2UgYXQuU05JUFBFVFNfUkVTRVQ6XG4gICAgICByZXR1cm4gSU5JVElBTF9TVEFURS5TbmlwcGV0cztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBQb2NrZXQocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5Qb2NrZXQsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5QT0NLRVRfV0FJVElOR19GT1JfU1BPQzpcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgd2FpdGluZ0ZvclNwb2M6IGFjdGlvbi5kYXRhIH07XG4gICAgY2FzZSBhdC5QT0NLRVRfTE9HR0VEX0lOOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBpc1VzZXJMb2dnZWRJbjogISFhY3Rpb24uZGF0YSB9O1xuICAgIGNhc2UgYXQuUE9DS0VUX0NUQTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgcG9ja2V0Q3RhOiB7XG4gICAgICAgICAgY3RhQnV0dG9uOiBhY3Rpb24uZGF0YS5jdGFfYnV0dG9uLFxuICAgICAgICAgIGN0YVRleHQ6IGFjdGlvbi5kYXRhLmN0YV90ZXh0LFxuICAgICAgICAgIGN0YVVybDogYWN0aW9uLmRhdGEuY3RhX3VybCxcbiAgICAgICAgICB1c2VDdGE6IGFjdGlvbi5kYXRhLnVzZV9jdGEsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIFBlcnNvbmFsaXphdGlvbihwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLlBlcnNvbmFsaXphdGlvbiwgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fUEVSU09OQUxJWkFUSU9OX0xBU1RfVVBEQVRFRDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IGFjdGlvbi5kYXRhLmxhc3RVcGRhdGVkLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fUEVSU09OQUxJWkFUSU9OX0lOSVQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gRGlzY292ZXJ5U3RyZWFtKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuRGlzY292ZXJ5U3RyZWFtLCBhY3Rpb24pIHtcbiAgLy8gUmV0dXJuIGlmIGFjdGlvbiBkYXRhIGlzIGVtcHR5LCBvciBzcG9jcyBvciBmZWVkcyBkYXRhIGlzIG5vdCBsb2FkZWRcbiAgY29uc3QgaXNOb3RSZWFkeSA9ICgpID0+XG4gICAgIWFjdGlvbi5kYXRhIHx8ICFwcmV2U3RhdGUuc3BvY3MubG9hZGVkIHx8ICFwcmV2U3RhdGUuZmVlZHMubG9hZGVkO1xuXG4gIGNvbnN0IGhhbmRsZVBsYWNlbWVudHMgPSBoYW5kbGVTaXRlcyA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBwbGFjZW1lbnRzIH0gPSBwcmV2U3RhdGUuc3BvY3M7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG5cbiAgICBjb25zdCBmb3JQbGFjZW1lbnQgPSBwbGFjZW1lbnQgPT4ge1xuICAgICAgY29uc3QgcGxhY2VtZW50U3BvY3MgPSBkYXRhW3BsYWNlbWVudC5uYW1lXTtcblxuICAgICAgaWYgKFxuICAgICAgICAhcGxhY2VtZW50U3BvY3MgfHxcbiAgICAgICAgIXBsYWNlbWVudFNwb2NzLml0ZW1zIHx8XG4gICAgICAgICFwbGFjZW1lbnRTcG9jcy5pdGVtcy5sZW5ndGhcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFtwbGFjZW1lbnQubmFtZV0gPSB7XG4gICAgICAgIC4uLnBsYWNlbWVudFNwb2NzLFxuICAgICAgICBpdGVtczogaGFuZGxlU2l0ZXMocGxhY2VtZW50U3BvY3MuaXRlbXMpLFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgaWYgKCFwbGFjZW1lbnRzIHx8ICFwbGFjZW1lbnRzLmxlbmd0aCkge1xuICAgICAgW3sgbmFtZTogXCJzcG9jc1wiIH1dLmZvckVhY2goZm9yUGxhY2VtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGxhY2VtZW50cy5mb3JFYWNoKGZvclBsYWNlbWVudCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgY29uc3QgbmV4dFN0YXRlID0gaGFuZGxlU2l0ZXMgPT4gKHtcbiAgICAuLi5wcmV2U3RhdGUsXG4gICAgc3BvY3M6IHtcbiAgICAgIC4uLnByZXZTdGF0ZS5zcG9jcyxcbiAgICAgIGRhdGE6IGhhbmRsZVBsYWNlbWVudHMoaGFuZGxlU2l0ZXMpLFxuICAgIH0sXG4gICAgZmVlZHM6IHtcbiAgICAgIC4uLnByZXZTdGF0ZS5mZWVkcyxcbiAgICAgIGRhdGE6IE9iamVjdC5rZXlzKHByZXZTdGF0ZS5mZWVkcy5kYXRhKS5yZWR1Y2UoXG4gICAgICAgIChhY2N1bXVsYXRvciwgZmVlZF91cmwpID0+IHtcbiAgICAgICAgICBhY2N1bXVsYXRvcltmZWVkX3VybF0gPSB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIC4uLnByZXZTdGF0ZS5mZWVkcy5kYXRhW2ZlZWRfdXJsXS5kYXRhLFxuICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IGhhbmRsZVNpdGVzKFxuICAgICAgICAgICAgICAgIHByZXZTdGF0ZS5mZWVkcy5kYXRhW2ZlZWRfdXJsXS5kYXRhLnJlY29tbWVuZGF0aW9uc1xuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICAgICAgfSxcbiAgICAgICAge31cbiAgICAgICksXG4gICAgfSxcbiAgfSk7XG5cbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfQ0hBTkdFOlxuICAgIC8vIEZhbGwgdGhyb3VnaCB0byBhIHNlcGFyYXRlIGFjdGlvbiBpcyBzbyBpdCBkb2Vzbid0IHRyaWdnZXIgYSBsaXN0ZW5lciB1cGRhdGUgb24gaW5pdFxuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfU0VUVVA6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIGNvbmZpZzogYWN0aW9uLmRhdGEgfHwge30gfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fTEFZT1VUX1VQREFURTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IGFjdGlvbi5kYXRhLmxhc3RVcGRhdGVkIHx8IG51bGwsXG4gICAgICAgIGxheW91dDogYWN0aW9uLmRhdGEubGF5b3V0IHx8IFtdLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fQ09MTEVDVElPTl9ESVNNSVNTSUJMRV9UT0dHTEU6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGlzQ29sbGVjdGlvbkRpc21pc3NpYmxlOiBhY3Rpb24uZGF0YS52YWx1ZSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ISURFX1BSSVZBQ1lfSU5GTzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgaXNQcml2YWN5SW5mb01vZGFsVmlzaWJsZTogZmFsc2UsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuU0hPV19QUklWQUNZX0lORk86XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGlzUHJpdmFjeUluZm9Nb2RhbFZpc2libGU6IHRydWUsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9MQVlPVVRfUkVTRVQ6XG4gICAgICByZXR1cm4geyAuLi5JTklUSUFMX1NUQVRFLkRpc2NvdmVyeVN0cmVhbSwgY29uZmlnOiBwcmV2U3RhdGUuY29uZmlnIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX0ZFRURTX1VQREFURTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgZmVlZHM6IHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGUuZmVlZHMsXG4gICAgICAgICAgbG9hZGVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fRkVFRF9VUERBVEU6XG4gICAgICBjb25zdCBuZXdEYXRhID0ge307XG4gICAgICBuZXdEYXRhW2FjdGlvbi5kYXRhLnVybF0gPSBhY3Rpb24uZGF0YS5mZWVkO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBmZWVkczoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5mZWVkcyxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAuLi5wcmV2U3RhdGUuZmVlZHMuZGF0YSxcbiAgICAgICAgICAgIC4uLm5ld0RhdGEsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1NQT0NTX0NBUFM6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHNwb2NzOiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlLnNwb2NzLFxuICAgICAgICAgIGZyZXF1ZW5jeV9jYXBzOiBbLi4ucHJldlN0YXRlLnNwb2NzLmZyZXF1ZW5jeV9jYXBzLCAuLi5hY3Rpb24uZGF0YV0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9TUE9DU19FTkRQT0lOVDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgc3BvY3M6IHtcbiAgICAgICAgICAuLi5JTklUSUFMX1NUQVRFLkRpc2NvdmVyeVN0cmVhbS5zcG9jcyxcbiAgICAgICAgICBzcG9jc19lbmRwb2ludDpcbiAgICAgICAgICAgIGFjdGlvbi5kYXRhLnVybCB8fFxuICAgICAgICAgICAgSU5JVElBTF9TVEFURS5EaXNjb3ZlcnlTdHJlYW0uc3BvY3Muc3BvY3NfZW5kcG9pbnQsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9TUE9DU19QTEFDRU1FTlRTOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBzcG9jczoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5zcG9jcyxcbiAgICAgICAgICBwbGFjZW1lbnRzOlxuICAgICAgICAgICAgYWN0aW9uLmRhdGEucGxhY2VtZW50cyB8fFxuICAgICAgICAgICAgSU5JVElBTF9TVEFURS5EaXNjb3ZlcnlTdHJlYW0uc3BvY3MucGxhY2VtZW50cyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1NQT0NTX1VQREFURTpcbiAgICAgIGlmIChhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgICBzcG9jczoge1xuICAgICAgICAgICAgLi4ucHJldlN0YXRlLnNwb2NzLFxuICAgICAgICAgICAgbGFzdFVwZGF0ZWQ6IGFjdGlvbi5kYXRhLmxhc3RVcGRhdGVkLFxuICAgICAgICAgICAgZGF0YTogYWN0aW9uLmRhdGEuc3BvY3MsXG4gICAgICAgICAgICBsb2FkZWQ6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1NQT0NfQkxPQ0tFRDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgc3BvY3M6IHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGUuc3BvY3MsXG4gICAgICAgICAgYmxvY2tlZDogWy4uLnByZXZTdGF0ZS5zcG9jcy5ibG9ja2VkLCBhY3Rpb24uZGF0YS51cmxdLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fTElOS19CTE9DS0VEOlxuICAgICAgcmV0dXJuIGlzTm90UmVhZHkoKVxuICAgICAgICA/IHByZXZTdGF0ZVxuICAgICAgICA6IG5leHRTdGF0ZShpdGVtcyA9PlxuICAgICAgICAgICAgaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS51cmwgIT09IGFjdGlvbi5kYXRhLnVybClcbiAgICAgICAgICApO1xuXG4gICAgY2FzZSBhdC5QTEFDRVNfU0FWRURfVE9fUE9DS0VUOlxuICAgICAgY29uc3QgYWRkUG9ja2V0SW5mbyA9IGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXRlbS51cmwgPT09IGFjdGlvbi5kYXRhLnVybCkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICBvcGVuX3VybDogYWN0aW9uLmRhdGEub3Blbl91cmwsXG4gICAgICAgICAgICBwb2NrZXRfaWQ6IGFjdGlvbi5kYXRhLnBvY2tldF9pZCxcbiAgICAgICAgICAgIGNvbnRleHRfdHlwZTogXCJwb2NrZXRcIixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gaXNOb3RSZWFkeSgpXG4gICAgICAgID8gcHJldlN0YXRlXG4gICAgICAgIDogbmV4dFN0YXRlKGl0ZW1zID0+IGl0ZW1zLm1hcChhZGRQb2NrZXRJbmZvKSk7XG5cbiAgICBjYXNlIGF0LkRFTEVURV9GUk9NX1BPQ0tFVDpcbiAgICBjYXNlIGF0LkFSQ0hJVkVfRlJPTV9QT0NLRVQ6XG4gICAgICByZXR1cm4gaXNOb3RSZWFkeSgpXG4gICAgICAgID8gcHJldlN0YXRlXG4gICAgICAgIDogbmV4dFN0YXRlKGl0ZW1zID0+XG4gICAgICAgICAgICBpdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLnBvY2tldF9pZCAhPT0gYWN0aW9uLmRhdGEucG9ja2V0X2lkKVxuICAgICAgICAgICk7XG5cbiAgICBjYXNlIGF0LlBMQUNFU19CT09LTUFSS19BRERFRDpcbiAgICAgIGNvbnN0IHVwZGF0ZUJvb2ttYXJrSW5mbyA9IGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXRlbS51cmwgPT09IGFjdGlvbi5kYXRhLnVybCkge1xuICAgICAgICAgIGNvbnN0IHsgYm9va21hcmtHdWlkLCBib29rbWFya1RpdGxlLCBkYXRlQWRkZWQgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICBib29rbWFya0d1aWQsXG4gICAgICAgICAgICBib29rbWFya1RpdGxlLFxuICAgICAgICAgICAgYm9va21hcmtEYXRlQ3JlYXRlZDogZGF0ZUFkZGVkLFxuICAgICAgICAgICAgY29udGV4dF90eXBlOiBcImJvb2ttYXJrXCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGlzTm90UmVhZHkoKVxuICAgICAgICA/IHByZXZTdGF0ZVxuICAgICAgICA6IG5leHRTdGF0ZShpdGVtcyA9PiBpdGVtcy5tYXAodXBkYXRlQm9va21hcmtJbmZvKSk7XG5cbiAgICBjYXNlIGF0LlBMQUNFU19CT09LTUFSS1NfUkVNT1ZFRDpcbiAgICAgIGNvbnN0IHJlbW92ZUJvb2ttYXJrSW5mbyA9IGl0ZW0gPT4ge1xuICAgICAgICBpZiAoYWN0aW9uLmRhdGEudXJscy5pbmNsdWRlcyhpdGVtLnVybCkpIHtcbiAgICAgICAgICBjb25zdCBuZXdTaXRlID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7XG4gICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtHdWlkO1xuICAgICAgICAgIGRlbGV0ZSBuZXdTaXRlLmJvb2ttYXJrVGl0bGU7XG4gICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtEYXRlQ3JlYXRlZDtcbiAgICAgICAgICBpZiAoIW5ld1NpdGUuY29udGV4dF90eXBlIHx8IG5ld1NpdGUuY29udGV4dF90eXBlID09PSBcImJvb2ttYXJrXCIpIHtcbiAgICAgICAgICAgIG5ld1NpdGUuY29udGV4dF90eXBlID0gXCJyZW1vdmVkQm9va21hcmtcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ld1NpdGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGlzTm90UmVhZHkoKVxuICAgICAgICA/IHByZXZTdGF0ZVxuICAgICAgICA6IG5leHRTdGF0ZShpdGVtcyA9PiBpdGVtcy5tYXAocmVtb3ZlQm9va21hcmtJbmZvKSk7XG4gICAgY2FzZSBhdC5QUkVGX0NIQU5HRUQ6XG4gICAgICBpZiAoYWN0aW9uLmRhdGEubmFtZSA9PT0gUFJFRl9DT0xMRUNUSU9OX0RJU01JU1NJQkxFKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICAgIGlzQ29sbGVjdGlvbkRpc21pc3NpYmxlOiBhY3Rpb24uZGF0YS52YWx1ZSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gU2VhcmNoKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuU2VhcmNoLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuRElTQUJMRV9TRUFSQ0g6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7IC4uLnByZXZTdGF0ZSwgZGlzYWJsZTogdHJ1ZSB9KTtcbiAgICBjYXNlIGF0LkZBS0VfRk9DVVNfU0VBUkNIOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyAuLi5wcmV2U3RhdGUsIGZha2VGb2N1czogdHJ1ZSB9KTtcbiAgICBjYXNlIGF0LlNIT1dfU0VBUkNIOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyAuLi5wcmV2U3RhdGUsIGRpc2FibGU6IGZhbHNlLCBmYWtlRm9jdXM6IGZhbHNlIH0pO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbnRoaXMuSU5JVElBTF9TVEFURSA9IElOSVRJQUxfU1RBVEU7XG50aGlzLlRPUF9TSVRFU19ERUZBVUxUX1JPV1MgPSBUT1BfU0lURVNfREVGQVVMVF9ST1dTO1xudGhpcy5UT1BfU0lURVNfTUFYX1NJVEVTX1BFUl9ST1cgPSBUT1BfU0lURVNfTUFYX1NJVEVTX1BFUl9ST1c7XG5cbnRoaXMucmVkdWNlcnMgPSB7XG4gIFRvcFNpdGVzLFxuICBBcHAsXG4gIEFTUm91dGVyLFxuICBTbmlwcGV0cyxcbiAgUHJlZnMsXG4gIERpYWxvZyxcbiAgU2VjdGlvbnMsXG4gIFBvY2tldCxcbiAgUGVyc29uYWxpemF0aW9uLFxuICBEaXNjb3ZlcnlTdHJlYW0sXG4gIFNlYXJjaCxcbn07XG5cbmNvbnN0IEVYUE9SVEVEX1NZTUJPTFMgPSBbXG4gIFwicmVkdWNlcnNcIixcbiAgXCJJTklUSUFMX1NUQVRFXCIsXG4gIFwiaW5zZXJ0UGlubmVkXCIsXG4gIFwiVE9QX1NJVEVTX0RFRkFVTFRfUk9XU1wiLFxuICBcIlRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPV1wiLFxuXTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIFRvcFNpdGVGb3JtSW5wdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgdmFsaWRhdGlvbkVycm9yOiB0aGlzLnByb3BzLnZhbGlkYXRpb25FcnJvciB9O1xuICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1vdW50ID0gdGhpcy5vbk1vdW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNsZWFySWNvblByZXNzID0gdGhpcy5vbkNsZWFySWNvblByZXNzLmJpbmQodGhpcyk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmIChuZXh0UHJvcHMuc2hvdWxkRm9jdXMgJiYgIXRoaXMucHJvcHMuc2hvdWxkRm9jdXMpIHtcbiAgICAgIHRoaXMuaW5wdXQuZm9jdXMoKTtcbiAgICB9XG4gICAgaWYgKG5leHRQcm9wcy52YWxpZGF0aW9uRXJyb3IgJiYgIXRoaXMucHJvcHMudmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWRhdGlvbkVycm9yOiB0cnVlIH0pO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgY29tcG9uZW50IGlzIGluIGFuIGVycm9yIHN0YXRlIGJ1dCB0aGUgdmFsdWUgd2FzIGNsZWFyZWQgYnkgdGhlIHBhcmVudFxuICAgIGlmICh0aGlzLnN0YXRlLnZhbGlkYXRpb25FcnJvciAmJiAhbmV4dFByb3BzLnZhbHVlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSB9KTtcbiAgICB9XG4gIH1cblxuICBvbkNsZWFySWNvblByZXNzKGV2ZW50KSB7XG4gICAgLy8gSWYgdGhlcmUgaXMgaW5wdXQgaW4gdGhlIFVSTCBvciBjdXN0b20gaW1hZ2UgVVJMIGZpZWxkcyxcbiAgICAvLyBhbmQgd2UgaGl0ICdlbnRlcicgd2hpbGUgdGFiYmVkIG92ZXIgdGhlIGNsZWFyIGljb24sXG4gICAgLy8gd2Ugc2hvdWxkIGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHRvIGNsZWFyIHRoZSBmaWVsZC5cbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgIHRoaXMucHJvcHMub25DbGVhcigpO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2hhbmdlKGV2KSB7XG4gICAgaWYgKHRoaXMuc3RhdGUudmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSB9KTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShldik7XG4gIH1cblxuICBvbk1vdW50KGlucHV0KSB7XG4gICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICB9XG5cbiAgcmVuZGVyTG9hZGluZ09yQ2xvc2VCdXR0b24oKSB7XG4gICAgY29uc3Qgc2hvd0NsZWFyQnV0dG9uID0gdGhpcy5wcm9wcy52YWx1ZSAmJiB0aGlzLnByb3BzLm9uQ2xlYXI7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5sb2FkaW5nKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nLWFuaW1hdGlvblwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHNob3dDbGVhckJ1dHRvbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImljb24gaWNvbi1jbGVhci1pbnB1dCBpY29uLWJ1dHRvbi1zdHlsZVwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5vbkNsZWFyfVxuICAgICAgICAgIG9uS2V5UHJlc3M9e3RoaXMub25DbGVhckljb25QcmVzc31cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdHlwZVVybCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IHZhbGlkYXRpb25FcnJvciB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGFiZWw+XG4gICAgICAgIDxzcGFuIGRhdGEtbDEwbi1pZD17dGhpcy5wcm9wcy50aXRsZUlkfSAvPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtgZmllbGQgJHt0eXBlVXJsID8gXCJ1cmxcIiA6IFwiXCJ9JHtcbiAgICAgICAgICAgIHZhbGlkYXRpb25FcnJvciA/IFwiIGludmFsaWRcIiA6IFwiXCJcbiAgICAgICAgICB9YH1cbiAgICAgICAgPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9XG4gICAgICAgICAgICByZWY9e3RoaXMub25Nb3VudH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXt0aGlzLnByb3BzLnBsYWNlaG9sZGVySWR9XG4gICAgICAgICAgICAvLyBTZXQgZm9jdXMgb24gZXJyb3IgaWYgdGhlIHVybCBmaWVsZCBpcyB2YWxpZCBvciB3aGVuIHRoZSBpbnB1dCBpcyBmaXJzdCByZW5kZXJlZCBhbmQgaXMgZW1wdHlcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc3gtYTExeS9uby1hdXRvZm9jdXNcbiAgICAgICAgICAgIGF1dG9Gb2N1cz17dGhpcy5wcm9wcy5zaG91bGRGb2N1c31cbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmd9XG4gICAgICAgICAgLz5cbiAgICAgICAgICB7dGhpcy5yZW5kZXJMb2FkaW5nT3JDbG9zZUJ1dHRvbigpfVxuICAgICAgICAgIHt2YWxpZGF0aW9uRXJyb3IgJiYgKFxuICAgICAgICAgICAgPGFzaWRlXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImVycm9yLXRvb2x0aXBcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9e3RoaXMucHJvcHMuZXJyb3JNZXNzYWdlSWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9sYWJlbD5cbiAgICApO1xuICB9XG59XG5cblRvcFNpdGVGb3JtSW5wdXQuZGVmYXVsdFByb3BzID0ge1xuICBzaG93Q2xlYXJCdXR0b246IGZhbHNlLFxuICB2YWx1ZTogXCJcIixcbiAgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSxcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMuanNtXCI7XG5pbXBvcnQgeyBBMTF5TGlua0J1dHRvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0ExMXlMaW5rQnV0dG9uL0ExMXlMaW5rQnV0dG9uXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUT1BfU0lURVNfU09VUkNFIH0gZnJvbSBcIi4vVG9wU2l0ZXNDb25zdGFudHNcIjtcbmltcG9ydCB7IFRvcFNpdGVGb3JtSW5wdXQgfSBmcm9tIFwiLi9Ub3BTaXRlRm9ybUlucHV0XCI7XG5pbXBvcnQgeyBUb3BTaXRlTGluayB9IGZyb20gXCIuL1RvcFNpdGVcIjtcblxuZXhwb3J0IGNsYXNzIFRvcFNpdGVGb3JtIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIGNvbnN0IHsgc2l0ZSB9ID0gcHJvcHM7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxhYmVsOiBzaXRlID8gc2l0ZS5sYWJlbCB8fCBzaXRlLmhvc3RuYW1lIDogXCJcIixcbiAgICAgIHVybDogc2l0ZSA/IHNpdGUudXJsIDogXCJcIixcbiAgICAgIHZhbGlkYXRpb25FcnJvcjogZmFsc2UsXG4gICAgICBjdXN0b21TY3JlZW5zaG90VXJsOiBzaXRlID8gc2l0ZS5jdXN0b21TY3JlZW5zaG90VVJMIDogXCJcIixcbiAgICAgIHNob3dDdXN0b21TY3JlZW5zaG90Rm9ybTogc2l0ZSA/IHNpdGUuY3VzdG9tU2NyZWVuc2hvdFVSTCA6IGZhbHNlLFxuICAgIH07XG4gICAgdGhpcy5vbkNsZWFyU2NyZWVuc2hvdElucHV0ID0gdGhpcy5vbkNsZWFyU2NyZWVuc2hvdElucHV0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkxhYmVsQ2hhbmdlID0gdGhpcy5vbkxhYmVsQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblVybENoYW5nZSA9IHRoaXMub25VcmxDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ2FuY2VsQnV0dG9uQ2xpY2sgPSB0aGlzLm9uQ2FuY2VsQnV0dG9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ2xlYXJVcmxDbGljayA9IHRoaXMub25DbGVhclVybENsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkRvbmVCdXR0b25DbGljayA9IHRoaXMub25Eb25lQnV0dG9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ3VzdG9tU2NyZWVuc2hvdFVybENoYW5nZSA9IHRoaXMub25DdXN0b21TY3JlZW5zaG90VXJsQ2hhbmdlLmJpbmQoXG4gICAgICB0aGlzXG4gICAgKTtcbiAgICB0aGlzLm9uUHJldmlld0J1dHRvbkNsaWNrID0gdGhpcy5vblByZXZpZXdCdXR0b25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25FbmFibGVTY3JlZW5zaG90VXJsRm9ybSA9IHRoaXMub25FbmFibGVTY3JlZW5zaG90VXJsRm9ybS5iaW5kKHRoaXMpO1xuICAgIHRoaXMudmFsaWRhdGVVcmwgPSB0aGlzLnZhbGlkYXRlVXJsLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkxhYmVsQ2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGxhYmVsOiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gIH1cblxuICBvblVybENoYW5nZShldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdXJsOiBldmVudC50YXJnZXQudmFsdWUsXG4gICAgICB2YWxpZGF0aW9uRXJyb3I6IGZhbHNlLFxuICAgIH0pO1xuICB9XG5cbiAgb25DbGVhclVybENsaWNrKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdXJsOiBcIlwiLFxuICAgICAgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIG9uRW5hYmxlU2NyZWVuc2hvdFVybEZvcm0oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dDdXN0b21TY3JlZW5zaG90Rm9ybTogdHJ1ZSB9KTtcbiAgfVxuXG4gIF91cGRhdGVDdXN0b21TY3JlZW5zaG90SW5wdXQoY3VzdG9tU2NyZWVuc2hvdFVybCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY3VzdG9tU2NyZWVuc2hvdFVybCxcbiAgICAgIHZhbGlkYXRpb25FcnJvcjogZmFsc2UsXG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7IHR5cGU6IGF0LlBSRVZJRVdfUkVRVUVTVF9DQU5DRUwgfSk7XG4gIH1cblxuICBvbkN1c3RvbVNjcmVlbnNob3RVcmxDaGFuZ2UoZXZlbnQpIHtcbiAgICB0aGlzLl91cGRhdGVDdXN0b21TY3JlZW5zaG90SW5wdXQoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfVxuXG4gIG9uQ2xlYXJTY3JlZW5zaG90SW5wdXQoKSB7XG4gICAgdGhpcy5fdXBkYXRlQ3VzdG9tU2NyZWVuc2hvdElucHV0KFwiXCIpO1xuICB9XG5cbiAgb25DYW5jZWxCdXR0b25DbGljayhldikge1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5wcm9wcy5vbkNsb3NlKCk7XG4gIH1cblxuICBvbkRvbmVCdXR0b25DbGljayhldikge1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAodGhpcy52YWxpZGF0ZUZvcm0oKSkge1xuICAgICAgY29uc3Qgc2l0ZSA9IHsgdXJsOiB0aGlzLmNsZWFuVXJsKHRoaXMuc3RhdGUudXJsKSB9O1xuICAgICAgY29uc3QgeyBpbmRleCB9ID0gdGhpcy5wcm9wcztcbiAgICAgIGlmICh0aGlzLnN0YXRlLmxhYmVsICE9PSBcIlwiKSB7XG4gICAgICAgIHNpdGUubGFiZWwgPSB0aGlzLnN0YXRlLmxhYmVsO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5jdXN0b21TY3JlZW5zaG90VXJsKSB7XG4gICAgICAgIHNpdGUuY3VzdG9tU2NyZWVuc2hvdFVSTCA9IHRoaXMuY2xlYW5VcmwoXG4gICAgICAgICAgdGhpcy5zdGF0ZS5jdXN0b21TY3JlZW5zaG90VXJsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc2l0ZSAmJiB0aGlzLnByb3BzLnNpdGUuY3VzdG9tU2NyZWVuc2hvdFVSTCkge1xuICAgICAgICAvLyBVc2VkIHRvIGZsYWcgdGhhdCBwcmV2aW91c2x5IGNhY2hlZCBzY3JlZW5zaG90IHNob3VsZCBiZSByZW1vdmVkXG4gICAgICAgIHNpdGUuY3VzdG9tU2NyZWVuc2hvdFVSTCA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5UT1BfU0lURVNfUElOLFxuICAgICAgICAgIGRhdGE6IHsgc2l0ZSwgaW5kZXggfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICAgIHNvdXJjZTogVE9QX1NJVEVTX1NPVVJDRSxcbiAgICAgICAgICBldmVudDogXCJUT1BfU0lURVNfRURJVFwiLFxuICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogaW5kZXgsXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICB0aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBvblByZXZpZXdCdXR0b25DbGljayhldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHRoaXMudmFsaWRhdGVGb3JtKCkpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LlBSRVZJRVdfUkVRVUVTVCxcbiAgICAgICAgICBkYXRhOiB7IHVybDogdGhpcy5jbGVhblVybCh0aGlzLnN0YXRlLmN1c3RvbVNjcmVlbnNob3RVcmwpIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgICAgZXZlbnQ6IFwiUFJFVklFV19SRVFVRVNUXCIsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFuVXJsKHVybCkge1xuICAgIC8vIElmIHdlIGFyZSBtaXNzaW5nIGEgcHJvdG9jb2wsIHByZXBlbmQgaHR0cDovL1xuICAgIGlmICghdXJsLnN0YXJ0c1dpdGgoXCJodHRwOlwiKSAmJiAhdXJsLnN0YXJ0c1dpdGgoXCJodHRwczpcIikpIHtcbiAgICAgIHJldHVybiBgaHR0cDovLyR7dXJsfWA7XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICBfdHJ5UGFyc2VVcmwodXJsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgVVJMKHVybCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVVcmwodXJsKSB7XG4gICAgY29uc3QgdmFsaWRQcm90b2NvbHMgPSBbXCJodHRwOlwiLCBcImh0dHBzOlwiXTtcbiAgICBjb25zdCB1cmxPYmogPVxuICAgICAgdGhpcy5fdHJ5UGFyc2VVcmwodXJsKSB8fCB0aGlzLl90cnlQYXJzZVVybCh0aGlzLmNsZWFuVXJsKHVybCkpO1xuXG4gICAgcmV0dXJuIHVybE9iaiAmJiB2YWxpZFByb3RvY29scy5pbmNsdWRlcyh1cmxPYmoucHJvdG9jb2wpO1xuICB9XG5cbiAgdmFsaWRhdGVDdXN0b21TY3JlZW5zaG90VXJsKCkge1xuICAgIGNvbnN0IHsgY3VzdG9tU2NyZWVuc2hvdFVybCB9ID0gdGhpcy5zdGF0ZTtcbiAgICByZXR1cm4gIWN1c3RvbVNjcmVlbnNob3RVcmwgfHwgdGhpcy52YWxpZGF0ZVVybChjdXN0b21TY3JlZW5zaG90VXJsKTtcbiAgfVxuXG4gIHZhbGlkYXRlRm9ybSgpIHtcbiAgICBjb25zdCB2YWxpZGF0ZSA9XG4gICAgICB0aGlzLnZhbGlkYXRlVXJsKHRoaXMuc3RhdGUudXJsKSAmJiB0aGlzLnZhbGlkYXRlQ3VzdG9tU2NyZWVuc2hvdFVybCgpO1xuXG4gICAgaWYgKCF2YWxpZGF0ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbGlkYXRpb25FcnJvcjogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdGU7XG4gIH1cblxuICBfcmVuZGVyQ3VzdG9tU2NyZWVuc2hvdElucHV0KCkge1xuICAgIGNvbnN0IHsgY3VzdG9tU2NyZWVuc2hvdFVybCB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCByZXF1ZXN0RmFpbGVkID0gdGhpcy5wcm9wcy5wcmV2aWV3UmVzcG9uc2UgPT09IFwiXCI7XG4gICAgY29uc3QgdmFsaWRhdGlvbkVycm9yID1cbiAgICAgICh0aGlzLnN0YXRlLnZhbGlkYXRpb25FcnJvciAmJiAhdGhpcy52YWxpZGF0ZUN1c3RvbVNjcmVlbnNob3RVcmwoKSkgfHxcbiAgICAgIHJlcXVlc3RGYWlsZWQ7XG4gICAgLy8gU2V0IGZvY3VzIG9uIGVycm9yIGlmIHRoZSB1cmwgZmllbGQgaXMgdmFsaWQgb3Igd2hlbiB0aGUgaW5wdXQgaXMgZmlyc3QgcmVuZGVyZWQgYW5kIGlzIGVtcHR5XG4gICAgY29uc3Qgc2hvdWxkRm9jdXMgPVxuICAgICAgKHZhbGlkYXRpb25FcnJvciAmJiB0aGlzLnZhbGlkYXRlVXJsKHRoaXMuc3RhdGUudXJsKSkgfHxcbiAgICAgICFjdXN0b21TY3JlZW5zaG90VXJsO1xuICAgIGNvbnN0IGlzTG9hZGluZyA9XG4gICAgICB0aGlzLnByb3BzLnByZXZpZXdSZXNwb25zZSA9PT0gbnVsbCAmJlxuICAgICAgY3VzdG9tU2NyZWVuc2hvdFVybCAmJlxuICAgICAgdGhpcy5wcm9wcy5wcmV2aWV3VXJsID09PSB0aGlzLmNsZWFuVXJsKGN1c3RvbVNjcmVlbnNob3RVcmwpO1xuXG4gICAgaWYgKCF0aGlzLnN0YXRlLnNob3dDdXN0b21TY3JlZW5zaG90Rm9ybSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEExMXlMaW5rQnV0dG9uXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkVuYWJsZVNjcmVlbnNob3RVcmxGb3JtfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImVuYWJsZS1jdXN0b20taW1hZ2UtaW5wdXRcIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi10b3BzaXRlcy11c2UtaW1hZ2UtbGlua1wiXG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXN0b20taW1hZ2UtaW5wdXQtY29udGFpbmVyXCI+XG4gICAgICAgIDxUb3BTaXRlRm9ybUlucHV0XG4gICAgICAgICAgZXJyb3JNZXNzYWdlSWQ9e1xuICAgICAgICAgICAgcmVxdWVzdEZhaWxlZFxuICAgICAgICAgICAgICA/IFwibmV3dGFiLXRvcHNpdGVzLWltYWdlLXZhbGlkYXRpb25cIlxuICAgICAgICAgICAgICA6IFwibmV3dGFiLXRvcHNpdGVzLXVybC12YWxpZGF0aW9uXCJcbiAgICAgICAgICB9XG4gICAgICAgICAgbG9hZGluZz17aXNMb2FkaW5nfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ3VzdG9tU2NyZWVuc2hvdFVybENoYW5nZX1cbiAgICAgICAgICBvbkNsZWFyPXt0aGlzLm9uQ2xlYXJTY3JlZW5zaG90SW5wdXR9XG4gICAgICAgICAgc2hvdWxkRm9jdXM9e3Nob3VsZEZvY3VzfVxuICAgICAgICAgIHR5cGVVcmw9e3RydWV9XG4gICAgICAgICAgdmFsdWU9e2N1c3RvbVNjcmVlbnNob3RVcmx9XG4gICAgICAgICAgdmFsaWRhdGlvbkVycm9yPXt2YWxpZGF0aW9uRXJyb3J9XG4gICAgICAgICAgdGl0bGVJZD1cIm5ld3RhYi10b3BzaXRlcy1pbWFnZS11cmwtbGFiZWxcIlxuICAgICAgICAgIHBsYWNlaG9sZGVySWQ9XCJuZXd0YWItdG9wc2l0ZXMtdXJsLWlucHV0XCJcbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBjdXN0b21TY3JlZW5zaG90VXJsIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHJlcXVlc3RGYWlsZWQgPSB0aGlzLnByb3BzLnByZXZpZXdSZXNwb25zZSA9PT0gXCJcIjtcbiAgICAvLyBGb3IgVUkgcHVycG9zZXMsIGVkaXRpbmcgd2l0aG91dCBhbiBleGlzdGluZyBsaW5rIGlzIFwiYWRkXCJcbiAgICBjb25zdCBzaG93QXNBZGQgPSAhdGhpcy5wcm9wcy5zaXRlO1xuICAgIGNvbnN0IHByZXZpb3VzID1cbiAgICAgICh0aGlzLnByb3BzLnNpdGUgJiYgdGhpcy5wcm9wcy5zaXRlLmN1c3RvbVNjcmVlbnNob3RVUkwpIHx8IFwiXCI7XG4gICAgY29uc3QgY2hhbmdlZCA9XG4gICAgICBjdXN0b21TY3JlZW5zaG90VXJsICYmIHRoaXMuY2xlYW5VcmwoY3VzdG9tU2NyZWVuc2hvdFVybCkgIT09IHByZXZpb3VzO1xuICAgIC8vIFByZXZpZXcgbW9kZSBpZiBjaGFuZ2VzIHdlcmUgbWFkZSB0byB0aGUgY3VzdG9tIHNjcmVlbnNob3QgVVJMIGFuZCBubyBwcmV2aWV3IHdhcyByZWNlaXZlZCB5ZXRcbiAgICAvLyBvciB0aGUgcmVxdWVzdCBmYWlsZWRcbiAgICBjb25zdCBwcmV2aWV3TW9kZSA9IGNoYW5nZWQgJiYgIXRoaXMucHJvcHMucHJldmlld1Jlc3BvbnNlO1xuICAgIGNvbnN0IHByZXZpZXdMaW5rID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcy5zaXRlKTtcbiAgICBpZiAodGhpcy5wcm9wcy5wcmV2aWV3UmVzcG9uc2UpIHtcbiAgICAgIHByZXZpZXdMaW5rLnNjcmVlbnNob3QgPSB0aGlzLnByb3BzLnByZXZpZXdSZXNwb25zZTtcbiAgICAgIHByZXZpZXdMaW5rLmN1c3RvbVNjcmVlbnNob3RVUkwgPSB0aGlzLnByb3BzLnByZXZpZXdVcmw7XG4gICAgfVxuICAgIC8vIEhhbmRsZXMgdGhlIGZvcm0gc3VibWl0IHNvIGFuIGVudGVyIHByZXNzIHBlcmZvcm1zIHRoZSBjb3JyZWN0IGFjdGlvblxuICAgIGNvbnN0IG9uU3VibWl0ID0gcHJldmlld01vZGVcbiAgICAgID8gdGhpcy5vblByZXZpZXdCdXR0b25DbGlja1xuICAgICAgOiB0aGlzLm9uRG9uZUJ1dHRvbkNsaWNrO1xuXG4gICAgY29uc3QgYWRkVG9wc2l0ZXNIZWFkZXJMMTBuSWQgPSBcIm5ld3RhYi10b3BzaXRlcy1hZGQtc2hvcnRjdXQtaGVhZGVyXCI7XG4gICAgY29uc3QgZWRpdFRvcHNpdGVzSGVhZGVyTDEwbklkID0gXCJuZXd0YWItdG9wc2l0ZXMtZWRpdC1zaG9ydGN1dC1oZWFkZXJcIjtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gY2xhc3NOYW1lPVwidG9wc2l0ZS1mb3JtXCIgb25TdWJtaXQ9e29uU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWlucHV0LWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxoM1xuICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZSBncmV5LXRpdGxlXCJcbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17XG4gICAgICAgICAgICAgIHNob3dBc0FkZCA/IGFkZFRvcHNpdGVzSGVhZGVyTDEwbklkIDogZWRpdFRvcHNpdGVzSGVhZGVyTDEwbklkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpZWxkcy1hbmQtcHJldmlld1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgPFRvcFNpdGVGb3JtSW5wdXRcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkxhYmVsQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmxhYmVsfVxuICAgICAgICAgICAgICAgIHRpdGxlSWQ9XCJuZXd0YWItdG9wc2l0ZXMtdGl0bGUtbGFiZWxcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVySWQ9XCJuZXd0YWItdG9wc2l0ZXMtdGl0bGUtaW5wdXRcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8VG9wU2l0ZUZvcm1JbnB1dFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVXJsQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHNob3VsZEZvY3VzPXtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudmFsaWRhdGlvbkVycm9yICYmXG4gICAgICAgICAgICAgICAgICAhdGhpcy52YWxpZGF0ZVVybCh0aGlzLnN0YXRlLnVybClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXJsfVxuICAgICAgICAgICAgICAgIG9uQ2xlYXI9e3RoaXMub25DbGVhclVybENsaWNrfVxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25FcnJvcj17XG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZhbGlkYXRpb25FcnJvciAmJlxuICAgICAgICAgICAgICAgICAgIXRoaXMudmFsaWRhdGVVcmwodGhpcy5zdGF0ZS51cmwpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRpdGxlSWQ9XCJuZXd0YWItdG9wc2l0ZXMtdXJsLWxhYmVsXCJcbiAgICAgICAgICAgICAgICB0eXBlVXJsPXt0cnVlfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVySWQ9XCJuZXd0YWItdG9wc2l0ZXMtdXJsLWlucHV0XCJcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2VJZD1cIm5ld3RhYi10b3BzaXRlcy11cmwtdmFsaWRhdGlvblwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHt0aGlzLl9yZW5kZXJDdXN0b21TY3JlZW5zaG90SW5wdXQoKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPFRvcFNpdGVMaW5rXG4gICAgICAgICAgICAgIGxpbms9e3ByZXZpZXdMaW5rfVxuICAgICAgICAgICAgICBkZWZhdWx0U3R5bGU9e3JlcXVlc3RGYWlsZWR9XG4gICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnN0YXRlLmxhYmVsfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImFjdGlvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjYW5jZWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2FuY2VsQnV0dG9uQ2xpY2t9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9wc2l0ZXMtY2FuY2VsLWJ1dHRvblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICB7cHJldmlld01vZGUgPyAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRvbmUgcHJldmlld1wiXG4gICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9wc2l0ZXMtcHJldmlldy1idXR0b25cIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkb25lXCJcbiAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17XG4gICAgICAgICAgICAgICAgc2hvd0FzQWRkXG4gICAgICAgICAgICAgICAgICA/IFwibmV3dGFiLXRvcHNpdGVzLWFkZC1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgOiBcIm5ld3RhYi10b3BzaXRlcy1zYXZlLWJ1dHRvblwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gIH1cbn1cblxuVG9wU2l0ZUZvcm0uZGVmYXVsdFByb3BzID0ge1xuICBzaXRlOiBudWxsLFxuICBpbmRleDogLTEsXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==