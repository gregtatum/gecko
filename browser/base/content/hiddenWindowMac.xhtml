<?xml version="1.0"?>
# -*- Mode: HTML -*-
#
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.
#define HIDDEN_WINDOW

<?xml-stylesheet href="chrome://browser/skin/webRTC-menubar-indicator.css" type="text/css"?>
#ifdef PINEBUILD
<?xml-stylesheet href="chrome://browser/content/companion/pinebuildBackground.css" type="text/css"?>
#endif

<window id="main-window"
        xmlns:html="http://www.w3.org/1999/xhtml"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        data-l10n-sync="true">

  <linkset>
    <html:link rel="localization" href="browser/menubar.ftl"/>
#ifdef PINEBUILD
    <html:link rel="localization" href="browser/pinebuildBackground.ftl"/>
#endif
  </linkset>

#include macWindow.inc.xhtml

#ifdef PINEBUILD
<script src="chrome://browser/content/companion/pinebuildBackground.js"></script>
<menu id="pinebuildBackground-menu" data-l10n-id="pinebuild-background-menu" contextmenu="true">
  <menupopup>
    <menuitem id="pinebuildBackground-newWindow" data-l10n-id="pinebuild-background-new-window" />
    <menuitem id="pinebuildBackground-exitApplication" data-l10n-id="pinebuild-background-exit-application" />
  </menupopup>
</menu>
#endif

<!-- Dock menu -->
<popupset>
  <!-- Hide this menupopup from the accessibility tree so that we don't fire
       any unintended accessibility notifications for it. Accessibility for the
       Dock menu is handled natively by macOS. -->
  <menupopup id="menu_mac_dockmenu" aria-hidden="true">
    <!-- The command cannot be cmd_newNavigator because we need to activate
         the application. -->
    <menuitem data-l10n-id="menu-file-new-window" oncommand="OpenBrowserWindowFromDockMenu();"
              id="macDockMenuNewWindow" />
    <menuitem data-l10n-id="menu-file-new-private-window" oncommand="OpenBrowserWindowFromDockMenu({private: true});"
              id="macDockMenuNewPrivateWindow" />
  </menupopup>
</popupset>

</window>
